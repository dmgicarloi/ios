"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[35958],{35958:function(e,o,t){t.r(o),t.d(o,{default:function(){return uo}});var a=t(8445),n=t.n(a),i=(t(56285),t(61758)),s=t(58790),l={class:"q-card q-ma-sm q-pa-sm"},r={class:"row q-mx-sm"},c={key:0},u={key:0,class:"row q-mx-sm"},d={class:"row col"},f={class:"row"},m={key:1,class:"col q-mt-sm",style:{"overflow-x":"auto",height:"70vh"}},h={key:0,class:"column",style:{"font-size":"10px"}},b={class:"row justify-center"},p={class:"row justify-center col"},v={class:"col row"},k={class:"col column q-mx-xs"},g={class:"text-bold leyenda-icono-texto"},C={class:"text-bold leyenda-icono-texto"},O={class:"col items-center q-ml-xs",color:"secondary"},E={class:"col"},D={key:0,class:"col"},A={class:"row justify-center"},y={key:1,class:"col row"},L={class:"col column q-mx-xs"},S={class:"text-bold leyenda-icono-texto"},w={class:"text-bold leyenda-icono-texto"},U={class:"col"},_={class:"col row items-center leyenda-alto"},F={class:"col row justify-center"},T={class:"q-mx-sm"},R={class:"scroll-y column col relative-position",style:{"max-height":"68vh"}},x={class:"col row"},I={class:"col column q-mx-xs"},M={class:"text-bold leyenda-icono-texto"},X={class:"text-bold leyenda-icono-texto"},q={class:"row"},V={class:"q-mt-sm q-mx-md"},N={class:"row justify-end q-ma-xs"},Q={class:"row justify-end q-ma-xs"},j={class:"q-ma-sm"},P={class:"row justify-center"},$={class:"text-bold"},W={class:"row justify-between"},H={class:"row"},K={class:"row"},z={class:"text-bold"},B={key:0,class:"q-table q-table-horizontal-separator q-card"},G={key:1,class:"q-table q-table-horizontal-separator q-card"},J={colspan:"4"},Y={class:"text-bold"},Z={class:"row justify-end"},ee={label:""},oe={class:"q-ma-xs q-card",style:{"max-height":"65vh !important","overflow-y":"scroll"}},te={class:"q-table col newHead"},ae={class:"q-tr"},ne={key:0,class:"q-th"},ie={class:"column"},se={class:"row justify-center"},le={class:"q-tr"},re={class:"q-td tablaNueva"},ce={class:"text-bold"},ue={key:0,class:"column"},de={class:"text-bold"},fe={class:"row justify-center"},me={key:0},he={key:1};function be(e,o){var t=(0,i.g2)("header-btn"),a=(0,i.g2)("sie-select"),be=(0,i.g2)("q-select"),pe=(0,i.g2)("sie-date"),ve=(0,i.g2)("q-tooltip"),ke=(0,i.g2)("q-btn"),ge=(0,i.g2)("q-icon"),Ce=(0,i.g2)("q-th"),Oe=(0,i.g2)("q-tr"),Ee=(0,i.g2)("q-chip"),De=(0,i.g2)("q-radio"),Ae=(0,i.g2)("q-checkbox"),ye=(0,i.g2)("q-input"),Le=(0,i.g2)("q-popup-edit"),Se=(0,i.g2)("q-td"),we=(0,i.g2)("q-table"),Ue=(0,i.g2)("q-item-tile"),_e=(0,i.g2)("q-item-side"),Fe=(0,i.g2)("q-item"),Te=(0,i.g2)("sie-usuario"),Re=(0,i.g2)("q-item-main"),xe=(0,i.g2)("q-item-separator"),Ie=(0,i.g2)("q-list"),Me=(0,i.g2)("sie-modal"),Xe=(0,i.g2)("q-card"),qe=(0,i.g2)("modal-calculo-especial"),Ve=(0,i.g2)("q-tab"),Ne=(0,i.g2)("q-tab-pane"),Qe=(0,i.g2)("q-input1"),je=(0,i.g2)("q-tabs"),Pe=(0,i.g2)("q-page");return(0,i.uX)(),(0,i.Wv)(Pe,{class:"column intranet--asistencia-alumnos-gen"},{default:(0,i.k6)(function(){return[(0,i.bF)(t,{name:"Registro de asistencia",buttons:e.buttons},null,8,["buttons"]),(0,i.Lk)("div",l,[(0,i.Lk)("div",r,[(0,i.bF)(a,{class:"col",type:"outlined",modelValue:e.nemo,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.nemo=o}),options:e.listaSalones,label:"NEMODES",val:"NEMO",placeholder:e.$t("salon"),onSelected:e.seleccionaSalon},null,8,["modelValue","options","placeholder","onSelected"]),e.dataTurnos.length>1&&e.nemo?((0,i.uX)(),(0,i.CE)("div",c,[(0,i.bF)(a,{type:"outlined",modelValue:e.turnoSelect,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.turnoSelect=o}),options:e.dataTurnos,label:"DESCRIPCION",val:"ID",placeholder:e.$t("Turno"),onSelected:e.seleccionaTurno},null,8,["modelValue","options","placeholder","onSelected"])])):(0,i.Q3)("v-if",!0),(0,i.bF)(be,{class:"q-if-outlined",options:e.tipoAsistencia,modelValue:e.tipoReg,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.tipoReg=o}),"stack-label":"Tipo de Registro",onInput:e.seleccionaTipo},null,8,["options","modelValue","onInput"]),2===e.tipoReg?((0,i.uX)(),(0,i.Wv)(be,{key:1,class:"q-if-outlined",options:e.meses,modelValue:e.mes,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.mes=o}),"stack-label":"Mes",onInput:e.seleccionaMes},null,8,["options","modelValue","onInput"])):(0,i.Q3)("v-if",!0),3===e.tipoReg?((0,i.uX)(),(0,i.Wv)(be,{key:2,class:"q-if-outlined",options:e.periodos,modelValue:e.bimecod,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.bimecod=o}),"stack-label":"Periodo",onInput:e.seleccionaPeriodo},null,8,["options","modelValue","onInput"])):(0,i.Q3)("v-if",!0),1===e.tipoReg?((0,i.uX)(),(0,i.Wv)(pe,{key:3,class:"q-if-outlined",modelValue:e.fecha,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.fecha=o}),onSelected:e.seleccionaFecha,placeholder:"fecha"},null,8,["modelValue","onSelected"])):(0,i.Q3)("v-if",!0),e.showRecalculo&&3===e.tipoReg?((0,i.uX)(),(0,i.Wv)(ke,{key:4,flat:"",dense:"",round:"",icon:"find_replace",onClick:e.recalcular},{default:(0,i.k6)(function(){return[(0,i.bF)(ve,null,{default:(0,i.k6)(function(){return n()(o[18]||(o[18]=[(0,i.eW)("Recalcular nota",-1)]))}),_:1})]}),_:1},8,["onClick"])):(0,i.Q3)("v-if",!0)]),e.nemo&&e.profNom?((0,i.uX)(),(0,i.CE)("div",u,[(0,i.Lk)("div",d,[o[19]||(o[19]=(0,i.Lk)("b",null,"Tutor:",-1)),(0,i.Lk)("span",null,(0,s.v_)(e.profNom),1)]),(0,i.Lk)("div",f,[o[20]||(o[20]=(0,i.Lk)("b",null,"Total Estudiantes:",-1)),(0,i.Lk)("span",null,(0,s.v_)(e.dataAsistencia.length),1)])])):(0,i.Q3)("v-if",!0),e.nemo&&e.tablaAsistencia.columns.length>0&&!e.cargando?((0,i.uX)(),(0,i.CE)("div",m,[e.showRegistroEspecial?((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[e.dataAsistencia.length>0?((0,i.uX)(),(0,i.Wv)(Ie,{key:0,class:"q-py-none no-border full-width"},{default:(0,i.k6)(function(){return[(0,i.bF)(Fe,null,{default:(0,i.k6)(function(){return[(0,i.bF)(Ue,{class:"col"},{default:(0,i.k6)(function(){return n()(o[22]||(o[22]=[(0,i.Lk)("b",null,"Estudiante",-1)]))}),_:1}),(0,i.bF)(_e,{class:"cursor-pointer",onClick:o[7]||(o[7]=function(o){return e.acceso?e.procesaData():null}),style:{"margin-right":"5px"}},{default:(0,i.k6)(function(){return[(0,i.bF)(Ue,{icon:e.iconoAll.icono,color:e.iconoAll.color},null,8,["icon","color"])]}),_:1})]}),_:1}),(0,i.Lk)("div",R,[(0,i.bF)(Ie,null,{default:(0,i.k6)(function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.dataAsistencia,function(t,a){return(0,i.uX)(),(0,i.CE)(i.FK,{key:a},[(0,i.bF)(Fe,{class:"row"},{default:(0,i.k6)(function(){return[(0,i.bF)(_e,null,{default:(0,i.k6)(function(){return[(0,i.bF)(Ue,null,{default:(0,i.k6)(function(){return[(0,i.bF)(Te,{alucod:t.ALUCOD},null,8,["alucod"])]}),_:2},1024)]}),_:2},1024),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.tablaAsistencia.columns,function(a){return(0,i.uX)(),(0,i.CE)(i.FK,null,[a.fecha?((0,i.uX)(),(0,i.Wv)(_e,{key:0,onClick:function(o){return e.acceso&&e.feriados.indexOf(a.name)<0&&!e.bloquearEdicion(t.ALUCOD,a.name)?e.clickEstado(t,a.name):null}},{default:(0,i.k6)(function(){return[t.RETIRADO?(0,i.Q3)("v-if",!0):((0,i.uX)(),(0,i.Wv)(Ue,{key:0,class:"row"},{default:(0,i.k6)(function(){return[t.RETIRADO?(0,i.Q3)("v-if",!0):((0,i.uX)(),(0,i.Wv)(_e,{key:0,class:"text-center cursor-pointer",style:{position:"relative"}},{default:(0,i.k6)(function(){return[(0,i.bF)(Ue,{icon:e.iconoTipo[t[a.name]]||"check_box_outline_blank",color:e.iconoColor[t[a.name]]},null,8,["icon","color"]),e.editados[t.ALUCOD]&&e.editados[t.ALUCOD][a.name]?((0,i.uX)(),(0,i.Wv)(Ee,{key:0,floating:"",color:"red",style:{width:"2px",height:"2px",position:"absolute","font-size":"7px",top:"-6px",right:"-6px"}})):(0,i.Q3)("v-if",!0)]}),_:2},1024))]}),_:2},1024)),e.bloquearEdicion(t.ALUCOD,a.name)?((0,i.uX)(),(0,i.Wv)(Le,{key:1,modelValue:t[a.name],"onUpdate:modelValue":function(e){return t[a.name]=e}},{default:(0,i.k6)(function(){return[(0,i.Lk)("div",x,[(0,i.Lk)("div",I,[(0,i.Lk)("span",M,(0,s.v_)(e.date(a.label,"DD")),1),(0,i.Lk)("span",X,(0,s.v_)(e.date(a.label,"MM")),1)]),o[23]||(o[23]=(0,i.Lk)("div",{class:"text-bold column justify-center"},[(0,i.Lk)("span",null,"Registro bloqueado por justificación")],-1))])]}),_:2},1032,["modelValue","onUpdate:modelValue"])):(0,i.Q3)("v-if",!0)]}),_:2},1032,["onClick"])):((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[a.coment?((0,i.uX)(),(0,i.Wv)(Re,{key:0},{default:(0,i.k6)(function(){return[(0,i.bF)(Ue,null,{default:(0,i.k6)(function(){return["NULO"!==t[a.field]&&t[a.field]&&!e.ocultaComent?((0,i.uX)(),(0,i.Wv)(ge,{key:0,name:"comment",color:e.dataObs[t.ALUCOD][a.field]&&e.dataObs[t.ALUCOD][a.field].length>0?"secondary":"light",style:{"font-size":"20px"},size:"md",onClick:function(o){return e.openModalComentario(t,a.field)}},null,8,["color","onClick"])):(0,i.Q3)("v-if",!0)]}),_:2},1024)]}),_:2},1024)):((0,i.uX)(),(0,i.Wv)(Re,{key:1,class:"col"},{default:(0,i.k6)(function(){return[(0,i.bF)(Ue,{class:"row",color:t.RETIRADO?"grey-7":"",style:(0,s.Tr)({"text-decoration":t.RETIRADO?"line-through":""})},{default:(0,i.k6)(function(){return[(0,i.Lk)("span",null,(0,s.v_)(t[a.field]),1)]}),_:2},1032,["color","style"])]}),_:2},1024))],64))],64)}),256))]}),_:2},1024),(0,i.bF)(xe)],64)}),128))]}),_:1})]),(0,i.bF)(Fe,null,{default:(0,i.k6)(function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.iconos,function(e,o){return(0,i.uX)(),(0,i.CE)(i.FK,{key:o},[1==e.vigente?((0,i.uX)(),(0,i.Wv)(_e,{key:0,class:"text-center"},{default:(0,i.k6)(function(){return[(0,i.bF)(Ue,{icon:e.icono,color:e.color},null,8,["icon","color"]),(0,i.bF)(Ue,{style:{"font-size":"10px","max-width":"55px"}},{default:(0,i.k6)(function(){return[(0,i.eW)((0,s.v_)(e.descripcion),1)]}),_:2},1024)]}),_:2},1024)):(0,i.Q3)("v-if",!0)],64)}),128))]}),_:1})]}),_:1})):(0,i.Q3)("v-if",!0)],64)):((0,i.uX)(),(0,i.Wv)(we,{key:0,class:"my-sticky-column-table",separator:"cell",style:{height:"70vh"},"row-key":"USUCOD",data:e.dataAsistencia,columns:e.tablaAsistencia.columns},{header:(0,i.k6)(function(o){return[(0,i.bF)(Oe,null,{default:(0,i.k6)(function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.cols,function(t){return(0,i.uX)(),(0,i.Wv)(Ce,{key:t.name,class:"cursor-pointer",props:o,style:(0,s.Tr)({"text-decoration":e.feriados.indexOf(t.name)>=0?"line-through":"none"}),onClick:function(o){return e.acceso&&e.verNuevoRegistroDia&&e.feriados.indexOf(t.name)<0?e.procesaData():null}},{default:(0,i.k6)(function(){return[t.fecha?((0,i.uX)(),(0,i.CE)("div",h,[(0,i.Lk)("span",null,(0,s.v_)(e.date(t.label,"ddd")),1),(0,i.Lk)("span",null,(0,s.v_)(e.date(t.label,"DD/MM")),1),(0,i.Lk)("div",b,[e.verNuevoRegistroDia?((0,i.uX)(),(0,i.Wv)(ge,{key:0,class:"leyenda-icono-texto",name:e.iconoAll.icono,color:e.iconoAll.color},null,8,["name","color"])):(0,i.Q3)("v-if",!0)])])):((0,i.uX)(),(0,i.CE)("span",{key:1,style:(0,s.Tr)(t.style)},[(0,i.Lk)("span",null,(0,s.v_)(t.label),1)],4))]}),_:2},1032,["props","style","onClick"])}),128))]}),_:2},1024)]}),body:(0,i.k6)(function(t){return[(0,i.bF)(Oe,{props:t,class:(0,s.C4)({retirado:t.row.RETIRADO})},{default:(0,i.k6)(function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.cols,function(a){return(0,i.uX)(),(0,i.CE)(i.FK,null,[a.fecha?((0,i.uX)(),(0,i.Wv)(Se,{key:0,onMouseover:function(o){return e.filaSel=a.label},onMouseleave:o[6]||(o[6]=function(o){return e.filaSel=null}),onClick:function(o){return e.verNuevoRegistroDia&&!t.row.RETIRADO&&e.feriados.indexOf(a.name)<0&&e.validaCambio(a.name)?e.clickEstado(t.row,a.name):null},class:(0,s.C4)({"item-seleccionado":e.itemOpen.alucod===t.row.ALUCOD&&e.itemOpen.fecha===a.name,"fila-select ":e.filaSel===a.label,"bg-light":e.bloquearEdicion(t.row.ALUCOD,a.name)})},{default:(0,i.k6)(function(){return[(0,i.Lk)("div",p,[e.editados[t.row.ALUCOD]&&e.editados[t.row.ALUCOD][a.name]?((0,i.uX)(),(0,i.Wv)(Ee,{key:0,floating:"",color:"red",class:(0,s.C4)({"chip-cambio-dia":e.verNuevoRegistroDia,"chip-cambio-otro":!e.verNuevoRegistroDia})},null,8,["class"])):(0,i.Q3)("v-if",!0),e.bloquearEdicion(t.row.ALUCOD,a.name)?((0,i.uX)(),(0,i.Wv)(Ee,{key:1,class:"chip-cambio-otro",floating:"",color:"orange"})):(0,i.Q3)("v-if",!0),e.showFila({fila:t.row,columna:a.name,campo:a.field})?((0,i.uX)(),(0,i.Wv)(ge,{key:2,color:"light",name:"comment",style:{position:"absolute",top:"5px",left:"22px"}})):(0,i.Q3)("v-if",!0),t.row[a.name]&&("P"!==t.row[a.name]||e.registraPresente)?((0,i.uX)(),(0,i.Wv)(ge,{key:3,class:"leyenda-alto leyenda-icono-texto",name:e.iconoTipo[t.row[a.name]],color:e.iconoColor[t.row[a.name]],size:"md"},{default:(0,i.k6)(function(){return[(0,i.bF)(ve,null,{default:(0,i.k6)(function(){return[(0,i.eW)((0,s.v_)(e.iconoDesc[t.row[a.name]]),1)]}),_:2},1024)]}),_:2},1032,["name","color"])):(0,i.Q3)("v-if",!0),e.showUniforme?((0,i.uX)(!0),(0,i.CE)(i.FK,{key:4},(0,i.pI)(e.estadosAdicionales,function(o){return(0,i.uX)(),(0,i.CE)(i.FK,null,[e.detalleUnif[t.row.ALUCOD]&&e.detalleUnif[t.row.ALUCOD][a.label].indexOf(o.ESTADOCOD)>=0?((0,i.uX)(),(0,i.Wv)(ge,{key:0,class:"leyenda-alto",name:o.ICONO,size:"xs",style:{position:"absolute"}},{default:(0,i.k6)(function(){return[(0,i.bF)(ve,null,{default:(0,i.k6)(function(){return[(0,i.eW)((0,s.v_)(o.ESTADODES),1)]}),_:2},1024)]}),_:2},1032,["name"])):(0,i.Q3)("v-if",!0)],64)}),256)):(0,i.Q3)("v-if",!0)]),e.feriados.indexOf(a.name)<0&&!t.row.RETIRADO&&!e.verNuevoRegistroDia&&e.validaCambio(a.name)?((0,i.uX)(),(0,i.Wv)(Le,{key:0,class:"justify-center",modelValue:t.row[a.name],"onUpdate:modelValue":function(e){return t.row[a.name]=e},onShow:function(o){return e.asignaAnterior(t.row[a.name],t.row.ALUCOD,a.name),e.setComentario(a.name,t.row.ALUCOD,e.dataObs[t.row.ALUCOD][a.name]),e.showUniforme?e.setUniforme(a.name,t.row.ALUCOD,e.detalleUnif[t.row.ALUCOD][a.label]):null},"auto-save":"",cover:!1,offset:[-33,-20]},{default:(0,i.k6)(function(){return[e.bloquearEdicion(t.row.ALUCOD,a.name)?((0,i.uX)(),(0,i.CE)("div",y,[(0,i.Lk)("div",L,[(0,i.Lk)("span",S,(0,s.v_)(e.date(a.label,"DD")),1),(0,i.Lk)("span",w,(0,s.v_)(e.date(a.label,"MM")),1)]),o[21]||(o[21]=(0,i.Lk)("div",{class:"text-bold column justify-center"},[(0,i.Lk)("span",null,"Registro bloqueado por justificación")],-1))])):((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.Lk)("div",v,[(0,i.Lk)("div",k,[(0,i.Lk)("span",g,(0,s.v_)(e.date(a.label,"DD")),1),(0,i.Lk)("span",C,(0,s.v_)(e.date(a.label,"MM")),1)]),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.estados,function(o){return(0,i.uX)(),(0,i.CE)("div",O,[(0,i.Lk)("div",E,[(0,i.bF)(De,{class:"col leyenda-icono-texto q-pl-xs radio-editada",modelValue:t.row[a.name],"onUpdate:modelValue":function(e){return t.row[a.name]=e},val:o.ESTADOCOD,onInput:function(o){return e.cambiarEstado(t.row,a.name,t.row["indice"])}},null,8,["modelValue","onUpdate:modelValue","val","onInput"]),(0,i.bF)(ge,{class:"leyenda-alto leyenda-icono-texto",name:o.ICONO,color:o.COLORVUE,size:"md"},null,8,["name","color"]),(0,i.bF)(ve,null,{default:(0,i.k6)(function(){return[(0,i.eW)((0,s.v_)(o.ESTADODES),1)]}),_:2},1024)])])}),256)),e.showUniforme?((0,i.uX)(),(0,i.CE)("div",D,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.estadosAdicionales,function(o){return(0,i.uX)(),(0,i.CE)(i.FK,null,[e.detalleUnif[t.row.ALUCOD]?((0,i.uX)(),(0,i.Wv)(Ae,{key:0,class:"col leyenda-icono-texto q-pl-xs",val:o.ESTADOCOD,modelValue:e.detalleUnif[t.row.ALUCOD][a.label],"onUpdate:modelValue":function(o){return e.detalleUnif[t.row.ALUCOD][a.label]=o},onInput:function(o){return e.setCambioUnif(a.name,t.row.ALUCOD)}},null,8,["val","modelValue","onUpdate:modelValue","onInput"])):(0,i.Q3)("v-if",!0),(0,i.Lk)("div",A,[(0,i.bF)(ge,{class:"leyenda-alto leyenda-icono-texto",name:o.ICONO,size:"md"},null,8,["name"])])],64)}),256))])):(0,i.Q3)("v-if",!0)]),(0,i.bF)(ye,{class:"q-if-outlined","float-label":"Comentario",type:"textarea",rows:"3",clearable:"",onInput:function(o){return e.setCambioComentario(a.name,t.row.ALUCOD,e.dataObs[t.row.ALUCOD][a.name])},onClear:function(o){return e.eliminarComentario(t.row.ALUCOD,a.name)},modelValue:e.dataObs[t.row.ALUCOD][a.name],"onUpdate:modelValue":function(o){return e.dataObs[t.row.ALUCOD][a.name]=o}},null,8,["onInput","onClear","modelValue","onUpdate:modelValue"])],64))]}),_:2},1032,["modelValue","onUpdate:modelValue","onShow"])):(0,i.Q3)("v-if",!0)]}),_:2},1032,["onMouseover","onClick","class"])):((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[a.coment?((0,i.uX)(),(0,i.Wv)(Se,{key:0,class:"row justify-center cursor-pointer",onClick:function(o){return e.openModalComentario(t.row,a.field)}},{default:(0,i.k6)(function(){return[!e.registraPresente&&e.dataObs[t.row.ALUCOD][a.field]||"NULO"!==t.row[a.field]&&t.row[a.field]&&!e.ocultaComent?((0,i.uX)(),(0,i.Wv)(ge,{key:0,name:"comment",color:e.dataObs[t.row.ALUCOD][a.field]&&e.dataObs[t.row.ALUCOD][a.field].length>0?"secondary":"light"},null,8,["color"])):(0,i.Q3)("v-if",!0)]}),_:2},1032,["onClick"])):((0,i.uX)(),(0,i.Wv)(Se,{key:1,style:(0,s.Tr)(a.style)},{default:(0,i.k6)(function(){return[(0,i.Lk)("span",null,(0,s.v_)(t.row["NUMORD"])+"    ",1),(0,i.Lk)("span",U,(0,s.v_)(t.row[a.name]),1)]}),_:2},1032,["style"]))],64))],64)}),256))]}),_:2},1032,["props","class"])]}),bottom:(0,i.k6)(function(){return[(0,i.Lk)("div",_,[(0,i.Lk)("div",F,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.estadosLeyenda,function(e){return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.bF)(ge,{class:"leyenda-alto leyenda-icono-texto",name:e.ICONO,color:e.COLORVUE,size:"md"},null,8,["name","color"]),(0,i.Lk)("div",T,(0,s.v_)(e.ESTADODES),1)],64)}),256))])])]}),_:1},8,["data","columns"]))])):(0,i.Q3)("v-if",!0)]),(0,i.bF)(Me,{modelValue:e.modalComent,"onUpdate:modelValue":o[9]||(o[9]=function(o){return e.modalComent=o}),onSubmit:e.closeModalComentario},{default:(0,i.k6)(function(){return[e.infoComent.alucod&&e.dataObs[e.infoComent.alucod]?((0,i.uX)(),(0,i.Wv)(ye,{key:0,class:"q-ma-sm q-if-outlined",modelValue:e.dataObs[e.infoComent.alucod][e.infoComent.fecha],"onUpdate:modelValue":o[8]||(o[8]=function(o){return e.dataObs[e.infoComent.alucod][e.infoComent.fecha]=o}),type:"textarea",rows:"3","float-label":"Comentario"},null,8,["modelValue"])):(0,i.Q3)("v-if",!0)]}),_:1},8,["modelValue","onSubmit"]),(0,i.bF)(Me,{modelValue:e.modalProcesar,"onUpdate:modelValue":o[11]||(o[11]=function(o){return e.modalProcesar=o}),title:"Completar Asistencia",header:!0,noClose:e.cargando,loading:e.cargando,onSubmit:e.procesaData},{default:(0,i.k6)(function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.estados,function(t){return(0,i.uX)(),(0,i.CE)("div",{key:t.ESTADOCOD,class:"q-ma-sm"},[(0,i.Lk)("div",q,[(0,i.bF)(De,{modelValue:e.estadoProcesar,"onUpdate:modelValue":o[10]||(o[10]=function(o){return e.estadoProcesar=o}),val:t.ESTADOCOD},null,8,["modelValue","val"]),(0,i.Lk)("span",V,(0,s.v_)(t.ESTADODES),1)])])}),128)),(0,i.bF)(Xe,{class:"q-ma-sm",color:"secondary"},{default:(0,i.k6)(function(){return[(0,i.bF)(Fe,null,{default:(0,i.k6)(function(){return[(0,i.bF)(_e,null,{default:(0,i.k6)(function(){return[(0,i.bF)(ge,{name:"info",color:"white"})]}),_:1}),(0,i.bF)(Re,null,{default:(0,i.k6)(function(){return n()(o[24]||(o[24]=[(0,i.Lk)("div",{class:"column"},[(0,i.Lk)("span",null,"Se completaran los registros vacios"),(0,i.Lk)("span",null,"con el estado seleccionado")],-1)]))}),_:1})]}),_:1})]}),_:1})]}),_:1},8,["modelValue","noClose","loading","onSubmit"]),e.openModalCalculoEspecial?((0,i.uX)(),(0,i.Wv)(qe,{key:0,salones:e.listaSalones,onCerrarModal:o[12]||(o[12]=function(o){return e.openModalCalculoEspecial=!1}),onEjecucionModal:e.recargarData},null,8,["salones","onEjecucionModal"])):(0,i.Q3)("v-if",!0),(0,i.bF)(Me,{modelValue:e.modalResumen,"onUpdate:modelValue":o[17]||(o[17]=function(o){return e.modalResumen=o}),title:"Resumen de Asistencia",ok:!1},{footerMobile:(0,i.k6)(function(){return[(0,i.Lk)("div",N,["resumen"===e.tabSelect?((0,i.uX)(),(0,i.Wv)(ke,{key:0,icon:"send",flat:"",dense:"",round:"",onClick:e.sendMensaje,loading:e.cargando},null,8,["onClick","loading"])):(0,i.Q3)("v-if",!0)])]}),footer:(0,i.k6)(function(){return[(0,i.Lk)("div",Q,["resumen"===e.tabSelect?((0,i.uX)(),(0,i.Wv)(ke,{key:0,color:"primary",icon:"send",style:{"font-size":"10px",height:"20px"},onClick:e.sendMensaje,loading:e.cargando},{default:(0,i.k6)(function(){return n()(o[25]||(o[25]=[(0,i.eW)("Enviar",-1)]))}),_:1},8,["onClick","loading"])):(0,i.Q3)("v-if",!0)])]}),default:(0,i.k6)(function(){return[(0,i.Lk)("div",j,[(0,i.Lk)("div",P,[o[26]||(o[26]=(0,i.Lk)("div",{class:"text-bold"},"Aula: ",-1)),(0,i.Lk)("div",$,(0,s.v_)(e.nemodes),1)]),(0,i.Lk)("div",W,[(0,i.Lk)("div",H,[o[27]||(o[27]=(0,i.Lk)("div",{class:"text-bold"},"Tipo: ",-1)),(0,i.Lk)("span",null,(0,s.v_)(e.cabDet),1)]),(0,i.Lk)("div",K,[(0,i.Lk)("div",z,(0,s.v_)(e.cabDet)+": ",1),(0,i.Lk)("span",null,(0,s.v_)(e.descReg),1)])])]),(0,i.bF)(je,{inverted:"",modelValue:e.tabSelect,"onUpdate:modelValue":o[16]||(o[16]=function(o){return e.tabSelect=o})},{title:(0,i.k6)(function(){return[e.infoDetalleAsistencia.data&&e.infoDetalleAsistencia.data.length>0?((0,i.uX)(),(0,i.Wv)(Ve,{key:0,name:"resumenAsistencia",default:"",label:"Asistencias"})):(0,i.Q3)("v-if",!0),e.justificacionesData.length>0?((0,i.uX)(),(0,i.Wv)(Ve,{key:1,name:"resumenJustificaciones",label:"Justificaciones"})):(0,i.Q3)("v-if",!0),e.auditoriaBase.length>0?((0,i.uX)(),(0,i.Wv)(Ve,{key:2,name:"auditoria",label:"Auditoria"})):(0,i.Q3)("v-if",!0),e.resumen.length>0?((0,i.uX)(),(0,i.Wv)(Ve,{key:3,name:"resumen",label:"Resumen"})):(0,i.Q3)("v-if",!0)]}),default:(0,i.k6)(function(){return[(0,i.bF)(Ne,{name:"resumenJustificaciones"},{default:(0,i.k6)(function(){return[1===e.tipoReg?((0,i.uX)(),(0,i.CE)("table",B,[(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,(0,s.v_)(e.$t("estudiante")),1),(0,i.Lk)("th",null,(0,s.v_)(e.$t("motivo")),1),o[28]||(o[28]=(0,i.Lk)("th",null,"Estado de Justificación",-1)),o[29]||(o[29]=(0,i.Lk)("th",null,"Estado Actual",-1)),o[30]||(o[30]=(0,i.Lk)("th",null,"Estado Anterior",-1))])]),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.justificacionesData,function(e){return(0,i.uX)(),(0,i.CE)("tr",{key:e.ALUCOD},[(0,i.Lk)("td",null,(0,s.v_)(e.NOMCOMP),1),(0,i.Lk)("td",null,(0,s.v_)(e.MOTIVOS),1),(0,i.Lk)("td",null,(0,s.v_)(e.ESTADOJUS),1),(0,i.Lk)("td",null,(0,s.v_)(e.ESTADODES),1),(0,i.Lk)("td",null,(0,s.v_)(e.ESTADOANT),1)])}),128))])])):((0,i.uX)(),(0,i.CE)("table",G,[(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,(0,s.v_)(e.$t("estudiante")),1),(0,i.Lk)("th",null,(0,s.v_)(e.$t("motivo")),1),o[31]||(o[31]=(0,i.Lk)("th",null,"Estado de Justificación",-1)),o[32]||(o[32]=(0,i.Lk)("th",null,"Estado Actual",-1)),o[33]||(o[33]=(0,i.Lk)("th",null,"Estado Anterior",-1))])]),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.justificacionesData,function(o,t){return(0,i.uX)(),(0,i.CE)(i.FK,{key:e.items.ALUCOD},[(0,i.Lk)("tr",null,[(0,i.Lk)("td",J,[(0,i.Lk)("div",Y,"Fecha: "+(0,s.v_)(t),1)])]),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o,function(e){return(0,i.uX)(),(0,i.CE)("tr",null,[(0,i.Lk)("td",null,(0,s.v_)(e.NOMCOMP),1),(0,i.Lk)("td",null,(0,s.v_)(e.MOTIVOS),1),(0,i.Lk)("td",null,(0,s.v_)(e.ESTADOJUS),1),(0,i.Lk)("td",null,(0,s.v_)(e.ESTADODES),1),(0,i.Lk)("td",null,(0,s.v_)(e.ESTADOANT),1)])}),256))],64)}),128))])]))]}),_:1}),(0,i.bF)(Ne,{name:"auditoria"},{default:(0,i.k6)(function(){return[(0,i.Lk)("div",Z,[(0,i.bF)(Qe,{class:"col",modelValue:e.buscar,"onUpdate:modelValue":o[13]||(o[13]=function(o){return e.buscar=o}),label:"Buscar"},{prepend:(0,i.k6)(function(){return[(0,i.bF)(ge,{name:"search"})]}),_:1},8,["modelValue"]),(0,i.bF)(ke,{flat:"",dense:"",round:"",icon:"print",color:"primary",onClick:e.printAuditoria},null,8,["onClick"])]),(0,i.bF)(Ie,{highlight:"",style:{"max-height":"60vh","overflow-y":"scroll"}},{default:(0,i.k6)(function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.auditoria,function(e){return(0,i.uX)(),(0,i.Wv)(Fe,null,{default:(0,i.k6)(function(){return[(0,i.bF)(Re,null,{default:(0,i.k6)(function(){return[(0,i.bF)(Ue,{label:""},{default:(0,i.k6)(function(){return[(0,i.Lk)("b",ee,(0,s.v_)(e.NOMCOMP),1)]}),_:2},1024),(0,i.bF)(Ue,{class:"row",sublabel:""},{default:(0,i.k6)(function(){return[o[34]||(o[34]=(0,i.Lk)("b",null,"Tipo:  ",-1)),(0,i.Lk)("span",null,(0,s.v_)(e.CAMPO),1)]}),_:2},1024),(0,i.bF)(Ue,{class:"row",sublabel:""},{default:(0,i.k6)(function(){return[o[35]||(o[35]=(0,i.Lk)("b",null,"Fecha:  ",-1)),(0,i.Lk)("span",null,(0,s.v_)(e.FECHANEW),1)]}),_:2},1024),(0,i.bF)(Ue,{class:"row",sublabel:""},{default:(0,i.k6)(function(){return[o[36]||(o[36]=(0,i.Lk)("b",null,"Editado por:  ",-1)),(0,i.Lk)("span",null,(0,s.v_)(e.USUNOM),1)]}),_:2},1024)]}),_:2},1024),(0,i.bF)(_e,{right:""},{default:(0,i.k6)(function(){return[(0,i.bF)(Ue,{class:"row",stamp:""},{default:(0,i.k6)(function(){return[o[37]||(o[37]=(0,i.Lk)("b",null,"Valor Anterior:  ",-1)),(0,i.Lk)("span",null,(0,s.v_)(e.ANTERIOR),1)]}),_:2},1024),(0,i.bF)(Ue,{class:"row",stamp:""},{default:(0,i.k6)(function(){return[o[38]||(o[38]=(0,i.Lk)("b",null,"Valor Nuevo:  ",-1)),(0,i.Lk)("span",null,(0,s.v_)(e.NUEVO),1)]}),_:2},1024),(0,i.bF)(Ue,{class:"row",stamp:""},{default:(0,i.k6)(function(){return[o[39]||(o[39]=(0,i.Lk)("b",null,"Editado:  ",-1)),(0,i.Lk)("span",null,(0,s.v_)(e.FH_REGISTRONEW),1)]}),_:2},1024)]}),_:2},1024)]}),_:2},1024)}),256))]}),_:1})]}),_:1}),(0,i.bF)(Ne,{name:"resumen"},{default:(0,i.k6)(function(){return[(0,i.Lk)("div",oe,[(0,i.Lk)("table",te,[(0,i.Lk)("thead",null,[(0,i.Lk)("tr",ae,[o[40]||(o[40]=(0,i.Lk)("th",{class:"q-th text-bold"},"Estudiante",-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.iconos,function(t){return(0,i.uX)(),(0,i.CE)(i.FK,null,[t.vigente?((0,i.uX)(),(0,i.CE)("th",ne,[(0,i.Lk)("div",ie,[(0,i.Lk)("div",se,[(0,i.bF)(Ae,{modelValue:e.arrEstadosSelect,"onUpdate:modelValue":o[14]||(o[14]=function(o){return e.arrEstadosSelect=o}),val:t.estado,color:t.color},null,8,["modelValue","val","color"])]),(0,i.Lk)("span",{class:(0,s.C4)("text-"+t.color)},(0,s.v_)(t.abr),3)])])):(0,i.Q3)("v-if",!0)],64)}),256))])]),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.resumen,function(t){return(0,i.uX)(),(0,i.CE)("tr",le,[(0,i.Lk)("td",re,[(0,i.bF)(Ae,{modelValue:e.arrEstudiantesSelect,"onUpdate:modelValue":o[15]||(o[15]=function(o){return e.arrEstudiantesSelect=o}),val:t},{default:(0,i.k6)(function(){return[(0,i.Lk)("span",ce,(0,s.v_)(t.NOMCOMP),1)]}),_:2},1032,["modelValue","val"])]),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.iconos,function(o){return(0,i.uX)(),(0,i.CE)(i.FK,null,[o.vigente?((0,i.uX)(),(0,i.CE)("td",{key:0,class:(0,s.C4)(["q-td tablaNueva text-center",e.getClass(o.estado,t)])},[(0,i.Lk)("span",null,(0,s.v_)(t[o.estado]),1)],2)):(0,i.Q3)("v-if",!0)],64)}),256))])}),256))])])])]}),_:1}),(0,i.bF)(Ne,{name:"resumenAsistencia"},{default:(0,i.k6)(function(){return[(0,i.bF)(we,{class:"q-ma-sm","row-key":1===e.tipoReg?"ESTADOCOD":"FECHA",data:e.infoDetalleAsistencia.data,columns:e.infoDetalleAsistencia.columns,"hide-bottom":""},{header:(0,i.k6)(function(e){return[(0,i.bF)(Oe,null,{default:(0,i.k6)(function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.cols,function(o){return(0,i.uX)(),(0,i.Wv)(Ce,{key:o.name,props:e},{default:(0,i.k6)(function(){return[o.hasIcono?((0,i.uX)(),(0,i.CE)("div",ue,[(0,i.bF)(ge,{name:o.icono,color:o.color,style:{"font-size":"15px"}},null,8,["name","color"])])):((0,i.uX)(),(0,i.CE)("span",{key:1,style:(0,s.Tr)(o.style)},[(0,i.Lk)("span",null,(0,s.v_)(o.label),1)],4))]}),_:2},1032,["props"])}),128))]}),_:2},1024)]}),body:(0,i.k6)(function(e){return[(0,i.bF)(Oe,{props:e,class:(0,s.C4)("bg-"+e.row.COLORVUE)},{default:(0,i.k6)(function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.cols,function(o){return(0,i.uX)(),(0,i.CE)(i.FK,null,[o.estado?((0,i.uX)(),(0,i.Wv)(Se,{key:0,class:(0,s.C4)("bg-"+o.color)},{default:(0,i.k6)(function(){return[(0,i.Lk)("div",de,(0,s.v_)(e.row[o.name]),1)]}),_:2},1032,["class"])):((0,i.uX)(),(0,i.Wv)(Se,{key:1,class:(0,s.C4)("bg-"+o.color)},{default:(0,i.k6)(function(){return[(0,i.Lk)("div",fe,[o.hasIcono?((0,i.uX)(),(0,i.CE)("span",he,(0,s.v_)(e.row[o.name]||0),1)):((0,i.uX)(),(0,i.CE)("span",me,(0,s.v_)(e.row[o.name]),1))])]}),_:2},1032,["class"]))],64)}),256))]}),_:2},1032,["props","class"])]}),_:1},8,["row-key","data","columns"])]}),_:1})]}),_:1},8,["modelValue"])]}),_:1},8,["modelValue"])]}),_:1})}var pe=t(76080),ve=t.n(pe),ke=t(45254),ge=t.n(ke),Ce=t(99550),Oe=t.n(Ce),Ee=(t(74260),t(23825),t(10239),t(50310),t(32203),t(90095),t(2064),t(515),t(83190),t(27153),t(66307),t(13715),t(24066),t(6123)),De=t(96122),Ae=t(49211),ye=t(30545),Le=t(13813),Se=t(88275),we=t(80660),Ue=t(57668),_e=t(80340),Fe=t(34858),Te=t(51082),Re=t(30640),xe=t(93616),Ie=t(24974),Me=t(65818),Xe=t(18105),qe=t(982),Ve=t(78786),Ne={class:"row justify-around q-ma-lg-sm"},Qe={class:"col-xs-12 col-md-12"},je={class:"row"},Pe={class:"col-xs-12 col-md-3"},$e={class:"col-xs-12 col-md-3"},We={class:"col-xs-12 col-md-3"},He={class:"col-xs-12 col-md-3"},Ke={class:"row q-px-sm text-weight-bold text-info"},ze={class:"col-auto flex-center"},Be={class:"row"},Ge={class:"col"},Je={key:0};function Ye(e,o){var t=(0,i.g2)("q-select"),a=(0,i.g2)("sie-date"),n=(0,i.g2)("q-icon"),s=(0,i.g2)("q-spinner-oval"),l=(0,i.g2)("q-td"),r=(0,i.g2)("q-table"),c=(0,i.g2)("sie-modal");return(0,i.uX)(),(0,i.Wv)(c,{class:"modal-calcular-asistencia",modelValue:e.verModal,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.verModal=o}),title:"Cálculo de Asistencia",header:!0,onClose:e.cerrarModal,onSubmit:e.procesar,ok:e.$t("botones.procesar")},{default:(0,i.k6)(function(){return[(0,i.Lk)("div",null,[(0,i.Lk)("div",Ne,[(0,i.Lk)("div",Qe,[(0,i.Lk)("div",je,[(0,i.Lk)("div",Pe,[(0,i.bF)(t,{class:"q-if-outlined",color:"secondary",modelValue:e.vmFiltro.instrucod,options:e.niveles,"float-label":e.$t("ngs.nivel"),onChange:e.cambiarNivel},null,8,["modelValue","options","float-label","onChange"])]),(0,i.Lk)("div",$e,[(0,i.bF)(t,{class:"q-if-outlined",color:"secondary",modelValue:e.vmFiltro.ng,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.vmFiltro.ng=o}),options:e.grados,"float-label":e.$t("ngs.grado"),onInput:e.filtrarSalones,filter:""},null,8,["modelValue","options","float-label","onInput"])]),(0,i.Lk)("div",We,[(0,i.bF)(a,{class:"q-if-outlined",modelValue:e.fechaIni,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.fechaIni=o}),placeholder:"Fecha Inicio"},null,8,["modelValue"])]),(0,i.Lk)("div",He,[(0,i.bF)(a,{class:"q-if-outlined",modelValue:e.fechaFin,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.fechaFin=o}),placeholder:"Fecha Fin"},null,8,["modelValue"])])])])]),(0,i.Lk)("div",Ke,[(0,i.Lk)("div",ze,[(0,i.bF)(n,{class:"q-mr-sm",name:"info",size:"28px"})]),o[5]||(o[5]=(0,i.Lk)("div",{class:"col self-center"},[(0,i.Lk)("div",null,"Este proceso calcula la asistencia general en base a las asistencias del curso")],-1))]),(0,i.Lk)("div",Be,[(0,i.Lk)("div",Ge,[(0,i.bF)(r,{class:"q-ma-sm",selection:e.configTabla.tipoSeleccion,"row-key":"NEMO",color:"secondary",data:e.dataTabla,columns:e.configTabla.columnas,selected:e.configTabla.registrosSeleccionados,"onUpdate:selected":o[3]||(o[3]=function(o){return e.configTabla.registrosSeleccionados=o})},{"body-cell-ESTADOPROCESO":(0,i.k6)(function(e){return[(0,i.bF)(l,{props:e},{default:(0,i.k6)(function(){return[0==e.value?((0,i.uX)(),(0,i.CE)("p",Je,"-")):-1==e.value?((0,i.uX)(),(0,i.Wv)(s,{key:1,color:"primary",size:"15px"})):1==e.value?((0,i.uX)(),(0,i.Wv)(n,{key:2,class:"text-green",name:"check",size:"24px"})):(0,i.Q3)("v-if",!0)]}),_:2},1032,["props"])]}),_:1},8,["selection","data","columns","selected"])])])])]}),_:1},8,["modelValue","onClose","onSubmit","ok"])}t(71225),t(39866),t(52133),t(5962),t(6724),t(68017);var Ze={calcularAsistencia:function(e,o,t){return we.$http.post("api/HyoHorasis/calcularAsistencia",{nemo:e,fechaIni:o,fechaFin:t}).then(function(e){var o=e.json;return o})}},eo={emits:["cerrarModal","ejecucionModal"],props:{salones:{required:!0,type:Array}},components:{QSelect:Ee.Si,QInnerLoading:Ee.SQ,QSpinnerOval:Ee.VA,QTable:ye.A,QTh:Ee.EJ,QTr:Ee.qh,QTd:Ee.Ef,sieDate:Te.A,sieModal:Re.A,QIcon:Ee.bP},data:function(){return{verModal:!0,vmFiltro:{instrucod:null,ng:null},configTabla:{},dataTabla:[],fechaIni:new Date,fechaFin:new Date,loading:!1}},computed:{niveles:function(){for(var e=[],o=[],t=0;t<this.salones.length;t++){var a=this.salones[t];e.includes(a.INSTRUCOD)||(e.push(a.INSTRUCOD),o.push({label:a.INSTRUDES,value:a.INSTRUCOD}))}return o},grados:function(){var e=[],o=this.vmFiltro.instrucod;if(o){var t=[];e.push({label:"----------",value:o+"-Todos"});for(var a=0;a<this.salones.length;a++){var n=this.salones[a],i=n.INSTRUCOD+"-"+n.GRADOCOD;o!==n.INSTRUCOD||t.includes(i)||(t.push(i),e.push({label:n.GRADODES,value:i}))}this.vmFiltro.ng=null}return e}},methods:{cerrarModal:function(){this.$emit("cerrarModal")},cambiarNivel:function(e){this.vmFiltro.instrucod=e,this.vmFiltro.ng=e+"-Todos",this.filtrarSalones(this.vmFiltro.ng)},filtrarSalones:function(e){this.dataTabla=this.salones.filter(function(o){return o.INSTRUCOD+"-"+o.GRADOCOD===e||e===o.INSTRUCOD+"-Todos"}).map(function(e){return e.ESTADOPROCESO=0,e.NGS=e.INSTRUCOD+e.GRADOCOD+e.SECCIONCOD,e}),this.configTabla.registrosSeleccionados=this.dataTabla},configurarTabla:function(){var e={};e.columnas=[{name:"NGS",label:this.$t("ngs.ngs"),field:"NGS",align:"left",sortable:!0},{name:"NEMODES",label:this.$t("ambito"),field:"NEMODES",align:"left",sortable:!0},{name:"ESTADOPROCESO",label:"-",field:"ESTADOPROCESO",align:"left",sortable:!0}],e.registrosSeleccionados=[],e.tipoSeleccion="multiple",this.configTabla=e},procesar:function(){var e=this;return ge()(ve()().m(function o(){var t,a,n,i,s,l;return ve()().w(function(o){while(1)switch(o.p=o.n){case 0:if(t=e.configTabla.registrosSeleccionados,0!==t.length){o.n=1;break}return(0,qe["default"])(e.$t("validaciones.seleccioneSalon"),"error"),o.a(2);case 1:e.loading=!0,a=null,o.p=2,n=0;case 3:if(!(n<t.length)){o.n=6;break}return i=t[n],a=i["__index"],e.dataTabla[i["__index"]].NEMODES=i.NEMODES+" ",e.dataTabla[i["__index"]].ESTADOPROCESO=-1,o.n=4,Ze.calcularAsistencia(i.NEMO,e.fechaIni,e.fechaFin);case 4:s=o.v,e.dataTabla[i["__index"]].ESTADOPROCESO=s,e.dataTabla[i["__index"]].NEMODES=i.NEMODES.trim();case 5:n++,o.n=3;break;case 6:e.$emit("ejecucionModal"),(0,qe["default"])(e.$t("mensajes.m0008"),"success"),o.n=8;break;case 7:o.p=7,l=o.v,console.log("error",l),null!==a&&(e.dataTabla[a].NEMODES=e.dataTabla[a].NEMODES.trim(),e.dataTabla[a].ESTADOPROCESO=0),(0,qe["default"])(l.message||l.error.message,"error");case 8:e.loading=!1;case 9:return o.a(2)}},o,null,[[2,7]])}))()}},created:function(){this.configurarTabla()}},oo=t(12807);const to=(0,oo.A)(eo,[["render",Ye]]);var ao=to,no=t(69027),io=t(9736),so=t(33001),lo=t(2819),ro={components:{QInput1:io.A,sieSalones:Se.Ay,QSelect:Ee.Si,sieUsuario:Ie.A,sieModal:Re.A,sieVacio:_e.A,QToggle:Ee.c5,QCheckbox:Ee.vZ,QBtnToggle:Ee.QL,sieSelect:xe.A,QRadio:Ee.$,QClock:Me.A,QTable:ye.A,QTh:Ee.EJ,QTr:Ee.qh,QTd:Ee.Ef,QTableColumns:Ee.$s,virtualList:Fe.Ay,QPopupEdit:Ae.A,QChip:Ee.wQ,modalCalculoEspecial:ao,sieDate:Te.A,QFabAction:Ee.B$,QPageSticky:Ee._U,QFab:Ee.l6,QTabs:Ee.uw,QTab:Ee.zu,QTabPane:Ee.dg,QList:Ee.Mb,QListHeader:Ee.XR,QItem:Ee.H0,QItemMain:Ee.mF,QItemSeparator:Ee.CL,QItemSide:Ee.n1,QItemTile:Ee.lp,QScrollArea:De.A,QPage:Ee.Tu,QBtn:Ee.Il,QTooltip:Ee.nC,QIcon:Ee.bP,QInput:Ee.ie,QCard:Ee.C$},data:function(){return{now:new Date,sie:(0,Ue["default"])(),mes:(new Date).getMonth()+1,fecha:new Date,registraPresente:!1,estadosAdicionales:[],nemo:null,editados:{},feriados:[],instrucod:null,gradocod:null,bimecod:null,preEstados:[],meses:[],tipoReg:null,iconoColor:{},iconoTipo:{},iconoDesc:{},detalleUnif:{},detalleUnifBase:{},turnoSelect:null,buscar:null,iconos:[{estado:"NULO",descripcion:"Sin asignar",icono:"check_box_outline_blank",color:"secondary",vigente:0}],iconoAll:{estado:"NULO",descripcion:"Sin asignar",icono:"check_box_outline_blank",color:"secondary"},tipoAsistencia:[{value:1,label:"Dia"},{value:2,label:"Mes"},{value:3,label:"Periodo"}],periodos:[],dataTurnos:[],dataAsistencia:[],dataAsistenciaOld:[],dataObs:[],dataObsOld:[],obsEditados:{},unfEditados:{},profNom:null,tablaAsistencia:{columns:[]},cargando:!1,modalProcesar:!1,diasNoDisp:[],estadoProcesar:null,flgMostrarBtnProcesar:!1,flgCalculoEspecial:!1,openModalCalculoEspecial:!1,listaSalones:[],showRecalculo:"SIE"===(0,Ue["default"])().usucod,descReg:null,cabDet:null,infoDet:null,justificacionesData:[],auditoriaBase:[],modalComent:!1,modalResumen:!1,nemodes:null,ocultaComent:!1,infoComent:{},itemOpen:{},filaSel:null,fechasPeriodos:{},periodoCierre:null,configuracionJustificaciones:{},infoDetalleAsistencia:{columns:[],info:[]},celdasBloqueadas:[],arrEstadosSelect:[],arrEstudiantesSelect:[],resumen:[],tabSelect:""}},methods:{date:Xe.Ay,showFila:function(e){var o=e.fila,t=e.columna,a=e.campo;return!!(o&&t&&a)&&(this.dataObs[o.ALUCOD]&&Object.keys(this.dataObs[o.ALUCOD]).indexOf(a)>=0&&!this.registraPresente&&!!this.dataObs[o.ALUCOD][a]&&!this.verNuevoRegistroDia||o[t]&&"NULO"!==o[t]&&o[t]&&this.dataObs[o.ALUCOD][t]&&!this.verNuevoRegistroDia)},openModalComentario:function(e,o){this.setComentario(o,e.ALUCOD,this.dataObs[e.ALUCOD][o]),this.modalComent=!0,this.infoComent.fecha=o,this.infoComent.alucod=e.ALUCOD},closeModalComentario:function(){this.setCambioComentario(this.infoComent.fecha,this.infoComent.alucod,this.dataObs[this.infoComent.alucod][this.infoComent.fecha]),this.modalComent=!1},abrirModal:function(){this.openModalCalculoEspecial=!0},generarData:function(){var e=this;return new Promise(function(o,t){var a={nemo:e.nemo,instrucod:e.instrucod,gradocod:e.gradocod,turno:e.turnoSelect};if(e.nemo||o(!1),2===e.tipoReg){if(a.mes=e.mes,delete a.bimecod,delete a.dia,!e.mes)return!1}else if(1===e.tipoReg){if(a.dia=e.fecha,delete a.bimecod,delete a.mes,!e.fecha)return!1}else{if(a.bimecod=e.bimecod,!e.bimecod)return!1;delete a.mes,delete a.dia}a.turno=e.turnoSelect,o(a)})},handleResize:function(){this.alto=window.innerHeight-105},seleccionaTipo:function(e){this.obtCabecera()},seleccionaFecha:function(e){var o={nemo:this.nemo,instrucod:this.instrucod,gradocod:this.gradocod};o.dia=e,this.obtCabecera(o)},generarCabecera:function(e,o){var t=this;this.feriados=e.feriados,this.fechasPeriodos=e.diasPeriodo;var a={columns:[{name:"NOMCOMP",field:"NOMCOMP",align:"left",label:this.$t("seguridad.nombre"),style:"min-width: 250px; font-size: 11px;"}],paginacion:{page:1,rowsPerPage:40}};e.diasDisp.forEach(function(e){t.diasNoDisp.indexOf(e)<0&&(1===t.tipoReg&&1===t.dataTurnos.length&&a.columns.push({name:"C"+e,field:e,align:"center",coment:!0}),a.columns.push({name:e,field:e,align:"center",label:e,fecha:!0}))}),this.tablaAsistencia=Object.freeze(a),this.cargarAsistencias(o)},obtCabecera:function(e){var o=this;this.editados={},this.cargando=!0,this.nemo&&we.$http.get("api/HyoPercales/obtDiasSinClase",{params:{nemo:this.nemo}}).then(function(t){o.diasNoDisp=t.json,Promise.resolve(1).then(function(){return e||o.generarData()}).then(function(e){return e.dia&&(e.dia=new Date(e.dia)),Promise.all([we.$http.get("api/HyoHorasis/obtAsistenciaCabecera",{params:e})]).then(function(t){var a=Oe()(t,1),n=a[0].json;o.generarCabecera(n,e)})})})},seleccionaTurno:function(){this.cargando=!0;var e={nemo:this.nemo,turno:this.turnoSelect,instrucod:this.instrucod,gradocod:this.gradocod};switch(this.tipoReg){case 1:e.dia=this.fecha.setHours(0,0,0);break;case 2:e.mes=this.mes;break;case 3:e.bimecod=this.bimecod;break}this.obtCabecera(e)},seleccionaPeriodo:function(e){var o={nemo:this.nemo,turno:this.turnoSelect,instrucod:this.instrucod,gradocod:this.gradocod};o.bimecod=e,this.obtCabecera(o)},seleccionaMes:function(e){var o={nemo:this.nemo,instrucod:this.instrucod,gradocod:this.gradocod,turno:this.turnoSelect};o.mes=e,this.obtCabecera(o)},seleccionaSalon:function(e){var o=this;this.editados={},this.instrucod=e.INSTRUCOD,this.gradocod=e.GRADOCOD,this.nemo=e.NEMO,this.profNom=null,we.$http.get("api/HyoPercales/estadoFechaInstru",{params:{instrucod:e.INSTRUCOD,gradocod:e.GRADOCOD,fecha:new Date,hasta:!0}}).then(function(e){var t=e.json;o.periodos=(0,Le["default"])(t,function(e){var o=e.BIMECOD;return{value:parseInt(o),label:o+" Periodo"}})}),we.$http.get("api/HyoProfes/obtDatos",{params:{profcod:e.PROFCOD}}).then(function(e){var t=e.json;o.profNom=t[0]?t[0].NOMCOMP:null}),this.obtCabecera()},bloquearEdicion:function(e,o){return this.celdasBloqueadas[e].indexOf(o)>=0},cargarAsistencias:function(e){var o=this;return this.editados={},this.iconoAll=this.iconos[0],we.$http.get("api/HyoHorasis/obtAsistenciaData",{params:e}).then(function(e){var t=e.json;o.celdasBloqueadas=t.bloqueo,Object.keys(t.obs).forEach(function(e){o.tablaAsistencia.columns.forEach(function(o){o.fecha&&!t.obs[e][o.field]&&(t.obs[e][o.field]=null)})}),t.data.forEach(function(e,t){e.indice=t,o.tablaAsistencia.columns.forEach(function(o){o.fecha&&!e[o.field]&&(e[o.field]=null)})}),o.nemodes=o.listaSalones.find(function(e){return e.NEMO===o.nemo}).NEMODES,o.periodoCierre=t.percierre;var a={nemo:o.nemo};switch(o.tipoReg){case 1:o.descReg="Día",o.cabDet="Fecha",o.descReg=(0,Xe.Ay)(o.fecha,"DD/MM/YYYY"),a.dia=(0,Xe.Ay)(o.fecha,"YYYY/MM/DD"),o.infoDetalleAsistencia.columns=[{name:"ESTADODES",label:o.$t("estado"),align:"left",field:"ESTADODES",estado:!0},{name:"CUENTA",align:"CUENTA",field:"CUENTA"}];break;case 2:o.descReg="Mes",o.cabDet="Mes",o.descReg=o.meses.find(function(e){return e.value===o.mes}).label,a.mes=o.mes,o.infoDetalleAsistencia.columns=[{name:"FECHA",label:o.$t("fecha"),align:"left",field:"FECHA"}],o.iconos.forEach(function(e){e.vigente&&o.infoDetalleAsistencia.columns.push({name:e.estado,align:"left",field:e.estado,hasIcono:!0,color:e.color,icono:e.icono})});break;case 3:o.descReg="Periodo",o.cabDet="Periodo",o.descReg=o.periodos.find(function(e){return e.value===o.bimecod}).label,a.bimecod=o.bimecod,o.infoDetalleAsistencia.columns=[{name:"FECHA",label:o.$t("fecha"),align:"left",field:"FECHA"}],o.iconos.forEach(function(e){e.vigente&&o.infoDetalleAsistencia.columns.push({name:e.estado,align:"left",field:e.estado,hasIcono:!0,color:e.color,icono:e.icono})});break}we.$http.get("api/HyoHorasis/obtInfoResumen",{params:a}).then(function(e){var t=e.json;o.infoDetalleAsistencia.data=t.asistencia,o.justificacionesData=t.justificaciones||[],o.auditoriaBase=t.auditoria||[],o.resumen=t.resumen||[]}),o.showUniforme&&(o.detalleUnif={},a.ITEM=[],o.estadosAdicionales.forEach(function(e){var o=e.ESTADOCOD;a.ITEM.push(o)}),a.instrucod=o.instrucod,a.gradocod=o.gradocod,we.$http.get("api/HyoHorasisdetalles/obtDetalle",{params:a}).then(function(e){o.detalleUnif=e.json.resultado,o.detalleUnifBase=e.json.base})),o.dataAsistenciaOld=t.old,o.dataAsistencia=t.data,o.dataObs=t.obs,o.dataObsOld=t.obsOld,o.flgMostrarBtnProcesar=t.flgMostrarBtnProcesar,o.editados={},o.cargando=!1})},setComentario:function(e,o,t){this.obsEditados[o]?this.obsEditados[o][e]=t:(this.obsEditados[o]={},this.setComentario(e,o,t))},setUniforme:function(e,o,t){if(!this.showUniforme)return!1;this.unfEditados[o]?this.unfEditados[o][e]=t:(this.unfEditados[o]={},this.setUniforme(e,o,t))},setCambioComentario:function(e,o,t){this.dataObs[o][e]!==this.dataObsOld[o][e]?this.obsEditados[o][e]=this.dataObs[o][e]:delete this.obsEditados[o][e]},setCambioUnif:function(e,o){this.detalleUnif[o][e]!==this.detalleUnifBase[o][e]?this.unfEditados[o][e]=this.detalleUnif[o][e]:delete this.unfEditados[o][e]},clickEstado:function(e,o){this.asignaAnterior(e[o]);var t=e[o]?(0,Ve["default"])(this.iconos,e[o],{key:"estado"}):0;this.indiceIcono=t<this.iconos.length-1?t+1:0,this.iconoAll=this.iconos[0],e[o]=this.iconos[this.indiceIcono].estado,this.cambiarEstado(e,o,e["indice"])},cambiarEstado:function(e,o,t){if(this.itemOpen={},e[o])if(this.dataAsistencia[t][o]=e[o],this.editados[e.ALUCOD])this.editados[e.ALUCOD][o]?this.editados[e.ALUCOD][o].anterior!==e[o]?this.editados[e.ALUCOD][o].actual=e[o]:this.editados[e.ALUCOD][o].anterior&&delete this.editados[e.ALUCOD][o]:(this.editados[e.ALUCOD][o]={actual:e[o]},this.estadoAnt&&(this.editados[e.ALUCOD][o].anterior=this.estadoAnt));else{this.editados[e.ALUCOD]={};var a={};a.actual=e[o],this.estadoAnt&&(a["anterior"]=this.estadoAnt),this.editados[e.ALUCOD][o]=a}},asignaAnterior:function(e,o,t){this.estadoAnt=e,this.itemOpen={fecha:t,alucod:o}},eliminarComentario:function(e,o){var t=this;we.$http.post("api/HyoAlutexto/deleteComentario",{ALUCOD:e,FECHA:o}).then(function(e){var o=e.json;(0,qe["default"])(t.$t("mensajes."+o.msg),o.type)})},grabarComentario:function(e,o){var t=this;if(Object.keys(this.obsEditados).length>0){var a=[];Object.keys(this.obsEditados).forEach(function(e){Object.keys(t.obsEditados[e]).forEach(function(o){t.obsEditados[e]&&Object.keys(t.obsEditados[e]).indexOf(o)>=0&&[void 0,"undefined"].indexOf(t.obsEditados[e][o])<0&&(t.dataAsistencia.find(function(o){return o.ALUCOD===e})[o]&&"NULO"!==t.dataAsistencia.find(function(o){return o.ALUCOD===e})[o]||!t.registraPresente)&&a.push({alucod:e,fecha:o,comentario:t.obsEditados[e][o]})})}),a.length>0?we.$http.post("api/HyoAlutexto/saveComentario",{data:a,tipo:"01"}).then(function(a){var n=a.json,i="e0006"===n?"error":"success";"e0006"!==n&&(t.obsEditados={}),0===e&&(0,qe["default"])(t.$t("mensajes."+n),i),e++,t.grabarAsistencia(e,o)}):this.grabarAsistencia(e,o)}else this.grabarAsistencia(e,o)},printAuditoria:function(){var e="/intranet/reporte-node/reporte",o={tipo:this.tipoReg,nemo:this.nemo,repcod:"asistenciaColegio",ano:this.sie.ano,nemodes:this.nemodes,cabDet:this.cabDet,descReg:this.descReg,filtro:this.buscar,reporte:26,tReporte:"",tFiltro:"",fecini:"",fecfin:"",periodo:""};switch(this.tipoReg){case 1:o.dia=(0,Xe.Ay)(this.fecha,"YYYY-MM-DD");break;case 2:o.mes=this.mes;break;case 3:o.bimecod=this.bimecod;break}(0,lo.exportFilePhp)(o,e,"auditoria de asistencia")},grabarUniforme:function(e,o){var t=this;Object.keys(this.unfEditados).length>0?this.estadosAdicionales.forEach(function(a){var n=a.ESTADOCOD,i=[];Object.keys(t.unfEditados).forEach(function(e){Object.keys(t.unfEditados[e]).forEach(function(o){i.push({alucod:e,fecha:o,nemo:t.nemo,info:t.unfEditados[e][o].indexOf(n)>=0,turno:t.turnoSelect})})}),i.length>0&&we.$http.post("api/HyoHorasisdetalles/saveUniforme",{data:i,ITEM:n}).then(function(a){var n=a.json,i="e0006"===n?"error":"success";0===e&&(0,qe["default"])(t.$t("mensajes."+n),i),e++,"e0006"!==n&&(t.unfEditados={}),Object.keys(o).length>0&&t.cargarAsistencias(o)})}):Object.keys(o).length>0&&this.cargarAsistencias(o)},grabarAsistencia:function(e,o){var t=this;Object.keys(this.editados).length>0?(o.dataInsert=this.editados,we.$http.post("api/HyoHorasis/registrarAsistenciaBloque",o).then(function(a){var n=a.json,i="m0000"===n?"success":"error";(0,qe["default"])(t.$t("regAsistencia."+n),i),"m0000"===n&&(e++,t.editados={},Promise.resolve(1).then(function(){return t.generarData()}).then(function(a){t.grabarUniforme(e,o)}))})):this.grabarUniforme(e,o)},grabar:function(){var e=this,o=0,t={nemo:this.nemo,registraPresente:this.registraPresente,turno:this.turnoSelect};switch(this.tipoReg){case 1:t.dia=this.fecha;break;case 2:t.mes=this.mes;break;case 3:t.bimecod=this.bimecod;break}this.configuracionJustificaciones["CONFIRMAR_GRABAR"]?(0,no.dialogConfirm)({message:"¿Está seguro de Guardar?"}).then(function(a){a&&e.grabarComentario(o,t)}):this.grabarComentario(o,t)},procesaData:function(){var e=this,o={fecha:this.fecha,alucods:[],nemo:this.nemo},t=(0,Ve["default"])(this.iconos,this.iconoAll.estado,{key:"estado"});if(this.indiceIcono=t<this.iconos.length-1?t+1:0,this.iconoAll=this.iconos[this.indiceIcono],this.estadoProcesar=this.iconoAll.estado,this.estadoProcesar){o.estado=this.estadoProcesar;var a=this.ocultaComent?1:2,n=this.tablaAsistencia.columns[a].name;this.dataAsistencia.forEach(function(t,a){if(!e.dataAsistenciaOld[a][n]&&!t.RETIRADO){var i=0===e.indiceIcono?e.iconos.length-1:e.indiceIcono-1;t[n]&&t[n]!==e.iconos[i].estado||(o.alucods.push(t.ALUCOD),t[n]=e.estadoProcesar,e.cambiarEstado(t,n,t["indice"]))}})}},openResumen:function(){this.nemo&&(this.modalResumen=!0,this.arrEstadosSelect=[],this.arrEstudiantesSelect=[])},recargarData:function(){var e=this;this.generarData().then(function(o){o&&e.cargarAsistencias(o)})},recalcular:function(){we.$http.post("api/HyoHorasis/recalcularAsistencia",{bimecod:this.bimecod,nemo:this.nemo}).then(function(e){var o=e.json;(0,qe["default"])(o.message,o.type)})},validaCambio:function(e){return this.fechasPeriodos[e]>this.periodoCierre},sendMensaje:function(){var e=this;return ge()(ve()().m(function o(){var t,a,n,i,s;return ve()().w(function(o){while(1)switch(o.n){case 0:t={datos:[],tipo:e.tipoReg},s=e.tipoReg,o.n=1===s?1:2===s?2:3===s?3:4;break;case 1:return t.fecha=e.fecha,o.a(3,4);case 2:return t.mes=e.mes,t.mes<10&&(t.mes="0"+t.mes),o.a(3,4);case 3:return t.bimecod=e.bimecod,o.a(3,4);case 4:if(!(e.arrEstudiantesSelect.length>0&&e.arrEstadosSelect.length>0)){o.n=6;break}return e.cargando=!0,e.arrEstudiantesSelect.forEach(function(o){var a={ALUCOD:o.ALUCOD,ESTADOS:{}};e.arrEstadosSelect.forEach(function(t){o[t]&&(a.ESTADOS[e.iconoDesc[t]]=o[t])}),Object.keys(a.ESTADOS).length>0&&t.datos.push(a)}),o.n=5,e.$http.post("api/HorasisController/sendResumen",{params:t});case 5:a=o.v,n=a.message,i=a.type,e.$notify(n,i),e.cargando=!1,o.n=7;break;case 6:0===e.arrEstudiantesSelect.length?e.$notify("Debe seleccionar al menos un estudiante","error"):e.$notify("Debe seleccionar al menos un estado","error");case 7:return o.a(2)}},o)}))()},getClass:function(e,o){var t=this.arrEstadosSelect.indexOf(e)>=0,a=this.arrEstudiantesSelect.indexOf(o)>=0;return(t?"bg-"+this.iconoColor[e]:null)+" "+(a?"negrita":null)}},computed:{buttons:function(){var e=[{label:"Resumen",icon:"format_list_bulleted",click:this.openResumen}];return this.sie.ruta.nivel>1&&(e.push({label:"Grabar",icon:"save",click:this.grabar}),this.flgCalculoEspecial&&e.unshift({label:"Cálculo de asistencia",icon:"calculator",click:this.abrirModal})),e},auditoria:function(){if(this.auditoriaBase.length>0){var e=this.auditoriaBase;return this.buscar&&this.buscar.length>0&&(e=(0,so.filterArray)(this.buscar,{field:"NOMCOMP",list:this.auditoriaBase})||[]),e}return[]},showRegistroEspecial:function(){return["0090"].indexOf(this.sie.colcod)+1&&1===this.tipoReg},showUniforme:function(){return this.estadosAdicionales.length>0&&1!==this.tipoReg},acceso:function(){return this.sie.ruta.nivel>1},verNuevoRegistroDia:function(){return 1===this.tipoReg},maxLista:function(){var e=this.alto-200;return e/20},estados:function(){var e=n()(this.preEstados);return e},estadosLeyenda:function(){var e=n()(this.preEstados);return this.showUniforme&&1!==this.tipoReg&&this.estadosAdicionales.forEach(function(o){var t=o.ICONO,a=o.ESTADODES;e.push({ICONO:t,ESTADODES:a})}),e}},unmounted:function(){window.removeEventListener("resize",this.handleResize)},created:function(){var e=this;return ge()(ve()().m(function o(){return ve()().w(function(o){while(1)switch(o.n){case 0:return e.tipoReg=1,window.addEventListener("resize",e.handleResize),e.handleResize(),o.n=1,we.$http.get("api/HyoConfigurajustificaciones/getJustificaciones",{params:{agrupado:!0}});case 1:e.configuracionJustificaciones=o.v,Promise.all([we.$http.get("api/HyoControl/obtCodigoActualPorCampo",{params:{campo:"asistencia"}}),we.$http.get("api/HyoHorasisEstado/listarHorasisEstado",{params:{momento:1}}),we.$http.get("api/HyoPercales/estadoFechaInstru"),we.$http.get("api/HyoMeses/obtMeses"),we.$http.get("api/HyoSalones/obtSalonesTutoria"),we.$http.get("api/HyoHorasis/configCalculo"),we.$http.get("api/HyoAturno/obtTurnos",{params:{modo:1}}),we.$http.get("api/HyoHorasisEstado/listarHorasisEstado",{params:{momento:1,adicional:!0}})]).then(function(o){e.registraPresente="1"===o[0].json,o[1].json.forEach(function(o){e.iconos.push({estado:o.ESTADOCOD,descripcion:o.ESTADODES,icono:o.ICONO,color:o.COLORVUE,vigente:o.VIGENTE,abr:o.ESTADOETI}),("P"!==o.ESTADOCOD||e.registraPresente)&&(e.iconoColor[o.ESTADOCOD]=o.COLORVUE,e.iconoTipo[o.ESTADOCOD]=o.ICONO,e.iconoDesc[o.ESTADOCOD]=o.ESTADODES)}),e.preEstados=o[1].json,o[2].json.length&&o[2].json[0].BIMECOD&&(e.bimecod=parseInt(o[2].json[0].BIMECOD)),o[3].json.forEach(function(o){e.meses.push({label:o.MESDES,value:parseInt(o.MESCOD)})});var t=o[4].json;e.flgCalculoEspecial=o[5].json.calculoEspecial,e.listaSalones=t,1===t.length&&e.seleccionaSalon(t[0]),e.dataTurnos=o[6].json,e.estadosAdicionales=o[7].json,e.ocultaComent=o[6].json.length>1,e.turnoSelect=1,e.obtCabecera()});case 2:return o.a(2)}},o)}))()}};const co=(0,oo.A)(ro,[["render",be]]);var uo=co}}]);