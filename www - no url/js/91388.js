"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[91388],{91388:function(t,e,o){o.r(e),o.d(e,{default:function(){return vt}});var a=o(8445),n=o.n(a),r=(o(515),o(61758)),i=o(29104),l=o(58790),c={class:"row q-col-gutter-sm items-center"},s={class:"col-xs-12"},d={class:"row q-gutter-sm"},u={class:"col"},O={class:"col-xs-12 col-sm-3"},p={class:"col-xs-12 col-sm-3"},C={class:"col-xs-12 col-sm-3"},f={class:"row q-pt-sm q-col-gutter-sm"},E={class:"col-xs-12"},I={class:"row items-center"},m={class:"col-xs-12 col-sm-6"},S={key:0,class:"row"},h={class:"col-xs-12 col-sm-6"},v={class:"row justify-end q-gutter-sm"},R={class:"col-xs-12"};function P(t,e){var o=(0,r.g2)("header-btn"),a=(0,r.g2)("q-tab"),P=(0,r.g2)("q-tabs"),D=(0,r.g2)("q-card-section"),g=(0,r.g2)("diagrama-proceso"),A=(0,r.g2)("q-tooltip"),b=(0,r.g2)("q-icon"),L=(0,r.g2)("q-input"),_=(0,r.g2)("q-btn"),T=(0,r.g2)("q-select"),k=(0,r.g2)("mapa-proceso"),w=(0,r.g2)("sie-pdf"),y=(0,r.g2)("sie-vacio"),N=(0,r.g2)("q-card"),U=(0,r.g2)("q-page");return(0,r.uX)(),(0,r.Wv)(U,{class:"intranet--gestion-calidad bg-white q-pt-md q-px-sm"},{default:(0,r.k6)(function(){return[(0,r.bF)(N,{flat:"",bordered:""},{default:(0,r.k6)(function(){return[(0,r.bF)(o,{name:"Mapa",buttons:t.buttons},null,8,["buttons"]),(0,r.bF)(D,null,{default:(0,r.k6)(function(){return[(0,r.bF)(P,{class:"q-px-md",modelValue:t.tab,"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.tab=e}),align:"left",dense:"",style:{"font-weight":"semi-bold"}},{default:(0,r.k6)(function(){return[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.tabs,function(t){return(0,r.uX)(),(0,r.Wv)(a,{name:t.CODIGO,label:t.LABEL},null,8,["name","label"])}),256))]}),_:1},8,["modelValue"])]}),_:1}),(0,r.bo)((0,r.bF)(D,{style:{"padding-top":"0"}},{default:(0,r.k6)(function(){return[(0,r.bF)(g)]}),_:1},512),[[i.aG,"mapaProcesos"===t.tab]]),(0,r.bo)((0,r.bF)(D,{style:{"padding-top":"0"}},{default:(0,r.k6)(function(){return[(0,r.bo)((0,r.bF)(D,null,{default:(0,r.k6)(function(){return[(0,r.Q3)(" Sección de filtros"),(0,r.Lk)("div",c,[(0,r.Lk)("div",s,[(0,r.Lk)("div",d,[(0,r.Lk)("div",u,[(0,r.bF)(L,{modelValue:t.filtro.titulo.model,"onUpdate:modelValue":e[1]||(e[1]=function(e){return t.filtro.titulo.model=e}),label:"Título",onKeyup:(0,i.jR)(t.buscarIndicador,["enter"])},{append:(0,r.k6)(function(){return[(0,r.bF)(b,{class:"cursor-pointer",name:"search",onClick:t.buscarIndicador},{default:(0,r.k6)(function(){return[(0,r.bF)(A,null,{default:(0,r.k6)(function(){return n()(e[5]||(e[5]=[(0,r.eW)("Buscar",-1)]))}),_:1})]}),_:1},8,["onClick"])]}),_:1},8,["modelValue","onKeyup"])]),(0,r.bF)(_,{icon:"clear",color:"primary",size:"sm",onClick:t.clearFilter},{default:(0,r.k6)(function(){return[(0,r.bF)(A,null,{default:(0,r.k6)(function(){return n()(e[6]||(e[6]=[(0,r.eW)("Limpiar",-1)]))}),_:1})]}),_:1},8,["onClick"])])]),(0,r.Lk)("div",O,[(0,r.bF)(T,{modelValue:t.filtro.tipo.model,"onUpdate:modelValue":e[2]||(e[2]=function(e){return t.filtro.tipo.model=e}),outlined:"",options:t.filtro.tipo.data,label:"Tipo",onInput:t.buscarIndicador},null,8,["modelValue","options","onInput"])]),(0,r.Lk)("div",p,[(0,r.bF)(T,{modelValue:t.filtro.campo.model,"onUpdate:modelValue":e[3]||(e[3]=function(e){return t.filtro.campo.model=e}),outlined:"",options:t.filtro.campo.data,label:"Campo",onInput:t.buscarIndicador},null,8,["modelValue","options","onInput"])]),(0,r.Lk)("div",C,[(0,r.bF)(T,{modelValue:t.filtro.criterio.model,"onUpdate:modelValue":e[4]||(e[4]=function(e){return t.filtro.criterio.model=e}),outlined:"",options:t.filtro.criterio.data,label:"Criterio",onInput:t.buscarIndicador},null,8,["modelValue","options","onInput"])])])]}),_:1},512),[[i.aG,!t.idIndicador]]),Object.keys(t.dataMapaProcesoIndicador).length?((0,r.uX)(),(0,r.Wv)(D,{key:0},{default:(0,r.k6)(function(){return[(0,r.Q3)(" componente proceso "),(0,r.bo)((0,r.bF)(k,{class:"alto-content",ref:"refMapaProceso",procesos:t.dataMapaProcesoIndicador,onMostrarReporte:t.mostrarReporte},null,8,["procesos","onMostrarReporte"]),[[i.aG,!t.idIndicador]]),(0,r.bo)((0,r.Lk)("div",null,[(0,r.Lk)("div",f,[(0,r.Lk)("div",E,[(0,r.Lk)("div",I,[(0,r.Lk)("div",m,[t.parametrosReporte.titulo?((0,r.uX)(),(0,r.CE)("div",S,[e[7]||(e[7]=(0,r.Lk)("span",{class:"text-primary text-bold"},"Título:",-1)),(0,r.Lk)("span",null,(0,l.v_)(t.parametrosReporte.titulo),1)])):(0,r.Q3)("v-if",!0)]),(0,r.Lk)("div",h,[(0,r.Lk)("div",v,[(0,r.bF)(_,{label:"<< Atrás",color:"primary",onClick:t.regresarVistaPrevia,style:{"font-size":"11px",height:"20px"}},null,8,["onClick"]),(0,r.bF)(_,{label:"Parámetros",color:"primary",onClick:t.mostrarParametro,style:{"font-size":"11px",height:"20px"}},null,8,["onClick"])])])])]),(0,r.Lk)("div",R,[(0,r.bF)(w,{name:"mapa",style:{height:"calc(100vh - 252px) !important"}})])])],512),[[i.aG,t.idIndicador]])]}),_:1})):((0,r.uX)(),(0,r.Wv)(D,{key:1},{default:(0,r.k6)(function(){return[(0,r.Q3)(" componente sie vacio "),(0,r.bF)(y,{icon:"map",title:"Advertencia",subtitle:"No hay información para mostrar"})]}),_:1}))]}),_:1},512),[[i.aG,"indicadores"===t.tab]])]}),_:1})]}),_:1})}var D=o(76080),g=o.n(D),A=o(45254),b=o.n(A),L=(o(52133),o(10239),o(50310),o(6724),o(83190),o(57668)),_=o(9736),T=o(16648),k=o(6123),w=o(21103),y=o(80340),N=o(88567),U=o(95718),x=o(65673),F=o(82327),M=o(22926),B=o(30640),V=o(87252),X=o(2819),q=o(84603),Q={class:"container-recursive-box"};function j(t,e){var o=(0,r.g2)("q-toggle"),a=(0,r.g2)("q-card"),n=(0,r.g2)("recursive-box"),i=(0,r.g2)("diagrama-venn");return(0,r.uX)(),(0,r.CE)("div",null,[e[1]||(e[1]=(0,r.Lk)("p",{class:"mapa-procesos__title"},"MAPA DE PROCESOS",-1)),(0,r.bF)(a,{style:{padding:"20px",margin:"20px 0px"}},{default:(0,r.k6)(function(){return[(0,r.bF)(o,{modelValue:t.mostrarDiagramaVenn,"onUpdate:modelValue":e[0]||(e[0]=function(e){return t.mostrarDiagramaVenn=e}),"true-value":1,"false-value":0,label:"Mostrar Diagrama (min 1350px)",color:"primary"},null,8,["modelValue"])]}),_:1}),(0,r.bF)(a,{class:"alto-mapa"},{default:(0,r.k6)(function(){return[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.procesos,function(e,o){return(0,r.uX)(),(0,r.CE)("div",{key:o},[(0,r.Lk)("div",{class:"header-recursive-box",style:(0,l.Tr)({backgroundColor:t.obtenerColor(e)})},(0,l.v_)(e.TITULO),5),(0,r.Lk)("div",Q,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.SUBPROCESOS,function(o,a){return(0,r.uX)(),(0,r.CE)(r.FK,{key:a},[e.SUBPROCESOS&&Array.isArray(e.SUBPROCESOS)?((0,r.uX)(),(0,r.Wv)(n,{key:0,data:o,color:t.obtenerColor(e)},null,8,["data","color"])):(0,r.Q3)("v-if",!0)],64)}),128))]),t.mostrarDiagramaVenn?((0,r.uX)(),(0,r.Wv)(i,{key:0,data:e.SUBPROCESOS},null,8,["data"])):(0,r.Q3)("v-if",!0)])}),128))]}),_:1})])}o(25751),o(90095),o(13715);var G=["id","data-end","data-level"],K={key:0,class:"children"};function $(t,e){var o=(0,r.g2)("RecursiveBox");return(0,r.uX)(),(0,r.CE)("div",{class:"box",style:(0,l.Tr)({border:t.data.SUBPROCESOS&&t.data.SUBPROCESOS.length?"2px solid ".concat(t.obtenerColorHijo(t.color)):""})},[(0,r.Lk)("div",{class:"box__header",style:(0,l.Tr)({backgroundColor:t.obtenerColorHijo(t.color)}),id:t.id,"data-end":!t.data.SUBPROCESOS||!t.data.SUBPROCESOS.length,"data-level":t.level},(0,l.v_)(t.data.TITULO),13,G),t.data.SUBPROCESOS&&t.data.SUBPROCESOS.length?((0,r.uX)(),(0,r.CE)("div",K,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.data.SUBPROCESOS,function(e,a){return(0,r.uX)(),(0,r.Wv)(o,{key:a,data:e,level:t.level+1,id:e.IDPROCESO,color:t.obtenerColorHijo(t.color)},null,8,["data","level","id","color"])}),128))])):(0,r.Q3)("v-if",!0)],4)}var H=o(99550),W=o.n(H),z=(o(23513),o(11777),o(44264),{name:"RecursiveBox",props:{data:{required:!0},level:{type:Number,default:0},id:{type:Number,default:0},color:{type:String}},methods:{hexToRgb:function(t){var e=parseInt(t.slice(1),16),o=e>>16&255,a=e>>8&255,n=255&e;return[o,a,n]},rgbToHex:function(t,e,o){return"#"+((1<<24)+(t<<16)+(e<<8)+o).toString(16).slice(1).toUpperCase()},obtenerColorHijo:function(t){var e=this.hexToRgb(t),o=W()(e,3),a=o[0],n=o[1],r=o[2],i=Math.min(255,a+50),l=Math.min(255,n+100),c=Math.min(255,r+100);return this.rgbToHex(i,l,c)}}}),Z=o(12807);const Y=(0,Z.A)(z,[["render",$]]);var J=Y,tt=(o(30683),{key:0,class:"diagrama-venn"}),et={style:{display:"flex","align-items":"center","justify-content":"space-between",margin:"20px 0px 40px 0px"}},ot={class:"arrow"},at={class:"container-venn"},nt=["id"],rt={class:"set__element"},it={class:"set__header"},lt={key:0},ct=["id"],st={class:"arrow"};function dt(t,e){return t.conjuntos.length>=2&&t.conjuntos.length<=3&&t.intersecciones.length>0?((0,r.uX)(),(0,r.CE)("div",tt,[(0,r.Lk)("div",et,[(0,r.Lk)("div",ot,[(0,r.Lk)("div",null,(0,l.v_)(t.tituloInicial),1),e[0]||(e[0]=(0,r.Fv)('<svg width="200" height="500" viewBox="0 0 200 500" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M200 250.626L105.054 0.312872L105.054 500L200 250.626Z" fill="white"></path><rect width="105.36" height="500" fill="white"></rect><path d="M105 0L131.847 70.4545H78.1532L105 0Z" fill="white"></path><path d="M105 500L131.847 429.545H78.1532L105 500Z" fill="white"></path><rect x="53" y="46.9697" width="70" height="400" fill="white"></rect></svg>',1))]),(0,r.Lk)("div",at,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.conjuntos,function(t,e){return(0,r.uX)(),(0,r.CE)("div",{key:"set_".concat(e),class:"set",id:"set_"+e},[(0,r.Lk)("div",rt,[(0,r.Lk)("div",it,(0,l.v_)(t.titulo),1),Array.isArray(t.contenido)&&t.contenido.length>0?((0,r.uX)(),(0,r.CE)("div",lt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.contenido,function(t,o){return(0,r.uX)(),(0,r.CE)("div",{key:"content_".concat(e,"_").concat(o),class:"set__content"},(0,l.v_)(t),1)}),128))])):(0,r.Q3)("v-if",!0)])],8,nt)}),128)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.intersecciones,function(e,o){return(0,r.uX)(),(0,r.CE)("div",{key:"intersection_".concat(o),class:"intersection",id:"intersection_"+o},[(0,r.Lk)("div",{class:(0,l.C4)(["general-intersection",t.obtenerClaseInterseccion(e.conjuntos)])},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.contenido,function(t,e){return(0,r.uX)(),(0,r.CE)("div",{key:"intersectionContent_".concat(o,"_").concat(e)},(0,l.v_)(t),1)}),128))],2)],8,ct)}),128))]),(0,r.Lk)("div",st,[(0,r.Lk)("div",null,(0,l.v_)(t.tituloFinal),1),e[1]||(e[1]=(0,r.Fv)('<svg width="200" height="500" viewBox="0 0 200 500" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M200 250.626L105.054 0.312872L105.054 500L200 250.626Z" fill="white"></path><rect width="105.36" height="500" fill="white"></rect><path d="M105 0L131.847 70.4545H78.1532L105 0Z" fill="white"></path><path d="M105 500L131.847 429.545H78.1532L105 500Z" fill="white"></path><rect x="53" y="46.9697" width="70" height="400" fill="white"></rect></svg>',1))])])])):(0,r.Q3)("v-if",!0)}o(71225),o(74260),o(39866),o(89571),o(5962),o(92802),o(62692);var ut={name:"DiagramaVenn",props:{data:{type:Array,default:[{IDPROCESO:18,TITULO:"ADMISIÓN Y MATRÍCULA",IDPROCESO_PADRE:17,ORDEN:1,PROCESOS_ADICIONALES:[],SUBPROCESOS:[{IDPROCESO:19,TITULO:"Admisión",IDPROCESO_PADRE:18,ORDEN:1,PROCESOS_ADICIONALES:[]},{IDPROCESO:20,TITULO:"Matrícula",IDPROCESO_PADRE:18,ORDEN:2,PROCESOS_ADICIONALES:[]}]},{IDPROCESO:21,TITULO:"DIRECCIÓN ACADÉMICA",IDPROCESO_PADRE:17,ORDEN:2,PROCESOS_ADICIONALES:[],SUBPROCESOS:[{IDPROCESO:22,TITULO:"P. Enseñanza aprendizaje",IDPROCESO_PADRE:21,ORDEN:1,PROCESOS_ADICIONALES:[]},{IDPROCESO:23,TITULO:"P.Evaluación",IDPROCESO_PADRE:21,ORDEN:2,PROCESOS_ADICIONALES:[]},{IDPROCESO:24,TITULO:"Acompañamiento docente",IDPROCESO_PADRE:21,ORDEN:3,PROCESOS_ADICIONALES:[26]},{IDPROCESO:25,TITULO:"Elaboración de horarios",IDPROCESO_PADRE:21,ORDEN:4,PROCESOS_ADICIONALES:[]}]},{IDPROCESO:26,TITULO:"DIRECCIÓN ACADÉMICA Y FORMATIVA",IDPROCESO_PADRE:17,ORDEN:3,PROCESOS_ADICIONALES:[],SUBPROCESOS:[{IDPROCESO:27,TITULO:"Apoyo a los Aprendizajes",IDPROCESO_PADRE:26,ORDEN:1,PROCESOS_ADICIONALES:[]}]},{IDPROCESO:28,TITULO:"DIRECCIÓN PASTORAL",IDPROCESO_PADRE:17,ORDEN:4,PROCESOS_ADICIONALES:[],SUBPROCESOS:[{IDPROCESO:29,TITULO:"Sacramentos",IDPROCESO_PADRE:28,ORDEN:1,PROCESOS_ADICIONALES:[]},{IDPROCESO:30,TITULO:"Jornadas y convivencias",IDPROCESO_PADRE:28,ORDEN:2,PROCESOS_ADICIONALES:[]},{IDPROCESO:31,TITULO:"Misión y voluntariado",IDPROCESO_PADRE:28,ORDEN:3,PROCESOS_ADICIONALES:[]},{IDPROCESO:32,TITULO:"Comunidades y P. Juvenil",IDPROCESO_PADRE:28,ORDEN:4,PROCESOS_ADICIONALES:[]},{IDPROCESO:33,TITULO:"Celebraciones",IDPROCESO_PADRE:28,ORDEN:5,PROCESOS_ADICIONALES:[]},{IDPROCESO:34,TITULO:"Pastoral con el personal",IDPROCESO_PADRE:28,ORDEN:6,PROCESOS_ADICIONALES:[]},{IDPROCESO:35,TITULO:"Pastoral de Padres de Familia",IDPROCESO_PADRE:28,ORDEN:7,PROCESOS_ADICIONALES:[]}]},{IDPROCESO:36,TITULO:"RESULTADOS Y EGRESO",IDPROCESO_PADRE:17,ORDEN:5,PROCESOS_ADICIONALES:[]},{IDPROCESO:67,TITULO:"DIRECCION FORMATIVA Y PASTORAL",IDPROCESO_PADRE:17,ORDEN:5,PROCESOS_ADICIONALES:[]}]}},data:function(){return{tituloInicial:"",tituloFinal:"",conjuntos:[],intersecciones:[]}},mounted:function(){this.formatearDatos()},methods:{formatearDatos:function(){var t=this;if(this.data.length>=4&&this.data.length<=6){this.dataGrafico=n()(this.data);var e=this.dataGrafico.reduce(function(t,e){return e.ORDEN<t.ORDEN?e:t},this.dataGrafico[0]),o=this.dataGrafico.reduce(function(t,e){return e.ORDEN>t.ORDEN?e:t},this.dataGrafico[0]);this.tituloInicial=e.TITULO,this.tituloFinal=o.TITULO,this.dataGrafico=this.dataGrafico.filter(function(t){return t!==e&&t!==o});var a={},r=[],i=[];this.dataGrafico.forEach(function(e,o){a[e.IDPROCESO]=o;var l={codigo:o,titulo:e.TITULO},c=[];Array.isArray(e.SUBPROCESOS)&&e.SUBPROCESOS.forEach(function(e){var o=n()(e.PROCESOS_ADICIONALES);if(o.includes(e.IDPROCESO_PADRE)||o.push(e.IDPROCESO_PADRE),o.length>1){var a=i.find(function(e){return t.validarContenido(e.conjuntos,o)});a?a.contenido.push(e.TITULO):i.push({conjuntos:o,contenido:[e.TITULO]})}c.push(e.TITULO)});var s=[];c.forEach(function(t,e){i.some(function(e){return e.contenido.includes(t)})&&s.unshift(e)}),s.forEach(function(t){c.splice(t,1)}),l.contenido=c,r.push(l)}),i.forEach(function(t){var e=[];t.conjuntos.forEach(function(t){void 0!==a[t]&&e.push(a[t])}),t.conjuntos=e}),this.intersecciones=i,this.conjuntos=r,console.log({conjuntos:r,intersecciones:i})}},validarContenido:function(t,e){if(t.length!==e.length)return!1;for(var o=t.slice().sort(),a=e.slice().sort(),n=0;n<o.length;n++)if(o[n]!=a[n])return!1;return!0},obtenerClaseInterseccion:function(t){return this.validarContenido(t,["0","1"])?"top-intersection":this.validarContenido(t,["0","2"])?"left-intersection":this.validarContenido(t,["1","2"])?"right-intersection":3===t.length?"central-intersection":""}}};const Ot=(0,Z.A)(ut,[["render",dt]]);var pt=Ot,Ct={name:"MapaProceso",components:{RecursiveBox:J,DiagramaVenn:pt,QToggle:k.c5,QCard:k.C$},data:function(){return{mostrarDiagramaVenn:0,procesos:[],intersecciones:{},coloresBase:{1:"#CC0000",17:"#085495",37:"#654EA6"},color:""}},mounted:function(){this.getDataProcesos()},methods:{getDataProcesos:function(){var t=this;return b()(g()().m(function e(){var o;return g()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,t.$http.get("api/CcIndicadorController/getDiagramaProcesos");case 1:o=e.v,o.forEach(function(t){void 0!==t.SUBPROCESOS&&t.SUBPROCESOS.sort(function(t,e){return t.ORDEN-e.ORDEN})}),t.procesos=o;case 2:return e.a(2)}},e)}))()},obtenerColor:function(t){var e="#085495";return this.coloresBase[t.IDPROCESO_PADRE]&&(e=this.coloresBase[t.IDPROCESO_PADRE]),this.coloresBase[t.IDPROCESO]&&(e=this.coloresBase[t.IDPROCESO]),e}}};const ft=(0,Z.A)(Ct,[["render",j]]);var Et=ft,It=o(26697),mt=o(53093),St={components:{QInput:_.A,QTabs:It.A,QTab:mt.A,QSelect:T.A,QTooltip:k.nC,sieVacio:y.A,QCard:N.A,QCardSection:U.A,QList:x.A,QItem:F.A,QExpansionItem:M.A,sieModal:B.A,mapaProceso:V.A,siePdf:q.A,QSpinnerFacebook:k.Pv,DiagramaProceso:Et,QPage:k.Tu,QIcon:k.bP,QBtn:k.Il},props:{tipcod:{type:String,default:"001"},esVistaPreviaConfig:{type:Boolean,default:!1}},computed:{isSmall:function(){return w.A.sm||w.A.xs}},data:function(){return{tab:"mapaProcesos",tabs:[{CODIGO:"mapaProcesos",LABEL:"Mapa de Procesos"},{CODIGO:"indicadores",LABEL:"Indicadores"}],sieInfo:(0,L["default"])(),filtro:{titulo:{model:null},tipo:{model:null,data:[]},campo:{model:null,data:[]},criterio:{model:null,data:[]},tipcod:{model:null,data:[]}},filter:"",dataMapaProcesoIndicador:[],buttons:[],modal:!1,indicador:null,idIndicador:0,parametrosReporte:{},loading:!0}},methods:{clearFilter:function(){this.filtro.titulo.model&&(this.filtro.titulo.model=null),this.filtro.tipo.model&&(this.filtro.tipo.model=0),this.filtro.campo.model&&(this.filtro.campo.model=0),this.filtro.criterio.model&&(this.filtro.criterio.model=0),this.getDataMapaProcesosIndicador({tipcod:this.tipcod,esVistaPreviaConfig:this.esVistaPreviaConfig})},openModal:function(t){this.modal=!0,this.indicador=t},buscarIndicador:function(){var t=this;return b()(g()().m(function e(){var o;return g()().w(function(e){while(1)switch(e.n){case 0:o={titulo:t.filtro.titulo.model,tipcod:t.tipcod,idtipo:t.filtro.tipo.model,idcampo:t.filtro.campo.model,idcriterio:t.filtro.criterio.model},t.getDataMapaProcesosIndicador(o);case 1:return e.a(2)}},e)}))()},getDataMapaProcesosIndicador:function(){var t=arguments,e=this;return b()(g()().m(function o(){var a,n,r;return g()().w(function(o){while(1)switch(o.p=o.n){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:{tipcod:e.tipcod,esVistaPreviaConfig:e.esVistaPreviaConfig},e.$q.loading.show({spinner:k.Pv,spinnerSize:100,message:"Cargando..."}),o.p=1,o.n=2,e.$http.get("api/CcIndicadorController/getDataMapaProcesosIndicador",{params:{parametros:a}});case 2:n=o.v,e.dataMapaProcesoIndicador=n,o.n=4;break;case 3:o.p=3,r=o.v,console.error("Error al obtener los datos del mapa de procesos:",r),e.$q.notify({type:"negative",message:"Error al cargar los datos del mapa de procesos. Por favor, inténtalo de nuevo más tarde."});case 4:return o.p=4,e.loading=!1,e.$q.loading.hide(),o.f(4);case 5:return o.a(2)}},o,null,[[1,3,4,5]])}))()},getCcIndicadorTipo:function(){var t=this;return b()(g()().m(function e(){var o;return g()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,t.$http.get("api/CcIndicadorTipoController/getCcIndicadorTipo");case 1:o=e.v,t.filtro.tipo.data.push({value:0,label:"Todos"}),o.map(function(e){t.filtro.tipo.data.push({value:e.IDTIPO,label:e.TIPONOM})});case 2:return e.a(2)}},e)}))()},getCcIndicadorCampo:function(){var t=this;return b()(g()().m(function e(){var o;return g()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,t.$http.get("api/CcIndicadorCampoController/getCcIndicadorCampo");case 1:o=e.v,t.filtro.campo.data.push({value:0,label:"Todos"}),o.map(function(e){t.filtro.campo.data.push({value:e.IDCAMPO,label:e.CAMPONOM})});case 2:return e.a(2)}},e)}))()},getCcIndicadorCriterio:function(){var t=this;return b()(g()().m(function e(){var o;return g()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,t.$http.get("api/CcIndicadorCriterioController/getCcIndicadorCriterio");case 1:o=e.v,t.filtro.criterio.data.push({value:0,label:"Todos"}),o.map(function(e){t.filtro.criterio.data.push({value:e.IDCRITERIO,label:e.CRITERIONOM})});case 2:return e.a(2)}},e)}))()},mostrarReporte:function(t){var e=this;return b()(g()().m(function o(){var a,n;return g()().w(function(o){while(1)switch(o.n){case 0:return e.idIndicador=t.data.idindicador,e.parametrosReporte=t.parametros,o.n=1,e.$http.get("api/ControlController/getLegacyEfqm");case 1:a=o.v,n=a.NUMERO,t.data.isEfqm="1"===n?0:1,console.log({item:t}),(0,X.exportFilePhp)(t.data,t.action,"vista-previa-reporte","mapa");case 2:return o.a(2)}},o)}))()},mostrarParametro:function(){var t=this;return b()(g()().m(function e(){var o;return g()().w(function(e){while(1)switch(e.n){case 0:o={id_indicador:t.parametrosReporte.id_indicador,tipo_reporte:t.parametrosReporte.tipo_reporte,titulo:t.parametrosReporte.titulo},t.$refs.refMapaProceso.openModalIndicador(o);case 1:return e.a(2)}},e)}))()},regresarVistaPrevia:function(){this.idIndicador=0}},created:function(){var t=this;return b()(g()().m(function e(){return g()().w(function(e){while(1)switch(e.n){case 0:if(t.esVistaPreviaConfig){e.n=3;break}return e.n=1,t.getCcIndicadorTipo();case 1:return e.n=2,t.getCcIndicadorCampo();case 2:return e.n=3,t.getCcIndicadorCriterio();case 3:return e.n=4,t.getDataMapaProcesosIndicador();case 4:return e.a(2)}},e)}))()}};const ht=(0,Z.A)(St,[["render",P]]);var vt=ht}}]);