"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[57004],{57004:function(e,t,n){n.r(t),n.d(t,{default:function(){return Q}});var i=n(61758),a=n(58790),o={class:"col-xs-12 col-md-6"},s={class:"text-bold"};function c(e,t){var n=(0,i.g2)("q-icon"),c=(0,i.g2)("q-card-title"),r=(0,i.g2)("q-card-main"),l=(0,i.g2)("q-card"),u=(0,i.g2)("q-btn"),d=(0,i.g2)("q-page-sticky"),p=(0,i.g2)("q-page");return(0,i.uX)(),(0,i.Wv)(p,{class:(0,a.C4)(["reportesAcceso column",e.isLess?"bg-white":""])},{default:(0,i.k6)(function(){return[(0,i.Lk)("div",{class:(0,a.C4)(["row col justify-center",e.isLess?"":"items-center"])},[(0,i.Lk)("div",o,[(0,i.bF)(l,{class:(0,a.C4)(["q-px-md q-py-lg",e.isLess?"no-shadow":""])},{default:(0,i.k6)(function(){return[(0,i.bF)(c,null,{right:(0,i.k6)(function(){return[(0,i.bF)(n,{name:"error_outline",size:"35px",color:"yellow-8"})]}),default:(0,i.k6)(function(){return[(0,i.Lk)("div",s,"Reprocesar Vacantes por Curso ("+(0,a.v_)(e.durades)+")",1)]}),_:1}),(0,i.bF)(r,null,{default:(0,i.k6)(function(){return[(0,i.eW)((0,a.v_)(e.texto),1)]}),_:1})]}),_:1},8,["class"])])],2),e.nivelAcceso?((0,i.uX)(),(0,i.Wv)(d,{key:0,expand:"",position:"bottom-right",offset:[20,20]},{default:(0,i.k6)(function(){return[(0,i.bF)(u,{fab:"",round:"",color:"secondary",icon:"cogs",onClick:e.recalculoVacantes},null,8,["onClick"])]}),_:1})):(0,i.Q3)("v-if",!0)]}),_:1},8,["class"])}var r=n(6123),l=n(57668),u=n(81288),d=n(69027),p=n(16648),h=n(88275),v=n(93616),f=n(982),m=n(76080),g=n.n(m),C=n(45254),b=n.n(C),k=(n(71225),n(10239),n(50310),n(5962),n(83190),{emits:["update:modelValue","input"],components:{sieSelect:v.A},props:{nemo:{type:String},cursocod:{type:String},grupocod:{type:String},bimecod:{type:String}},watch:{nemo:function(e){this.getCompetencias()},cursocod:function(e){this.getCompetencias()},grupocod:function(e){this.getCompetencias()},bimecod:function(e){this.getCompetencias()}},data:function(){return{value:null,dataCompetencias:[],niveles:[],competencia:null}},methods:{getCompetencias:function(){var e=this,t={nemo:this.nemo,cursocod:this.cursocod,grupocod:this.grupocod,bimecod:this.bimecod};this.$http.get("api/HyoCritdescs/getDescripcion",{params:t}).then(function(t){e.dataCompetencias=t;var n=[];t.length>0&&(n.push({data:t,nivel:0,value:null,parent:null,level:t[0].level}),e.niveles=n)})},getChildren:function(e){var t=e.data,n=e.value,i=e.parent,a=i?i.split("|"):[],o=null;if(a.length>0){a.push(n);for(var s=0;s<a.length;s++)t=this.getChildren({data:t,value:a[s]});o=t}else for(var c=0;c<t.length;c++)t[c].value===n&&(o=t[c].children);return o},inputCompetencia:function(e){var t=this;return function(n){t.cambiaCompetencia(n,e)}},cambiaCompetencia:function(e,t){var n=t.parent,i=this.getChildren({data:this.dataCompetencias,value:e,parent:n});if(i){var a=n?n+"|"+e:e,o=this.niveles.filter(function(e){return e.nivel<=t.nivel});o.push({data:i,value:null,nivel:t.nivel+1,parent:a,level:i[0].level}),this.niveles=o}else this.competencia=e,this.$emit("update:modelValue",e),this.$emit("input",e)}},render:function(){for(var e=[],t=0;t<this.niveles.length;t++){var n=this.niveles[t];e.push((0,i.h)(v.A,{type:"outlined",modelValue:n.value,options:n.data,label:"label",val:"value",placeholder:n.level,onInput:this.inputCompetencia(n)}))}if(this.niveles)return(0,i.h)("div",{class:"col-xs-12"},e)},created:function(){var e=this;return b()(g()().m(function t(){return g()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,e.getCompetencias();case 1:return t.a(2)}},t)}))()}}),A={components:{Competencias:k,sieSelect:v.A,sieSalones:h.Ay,QSelect:p.S,QDatetime:r.T5,QPageSticky:r._U,QFab:r.l6,QFabAction:r.B$,sieInfo:l["default"],alertModal:d.alertModal,QPage:r.Tu,QCard:r.C$,QCardTitle:r.u0,QIcon:r.bP,QCardMain:r.d1,QBtn:r.Il},data:function(){return{nivelAcceso:null,sieInfo:(0,l["default"])(),durades:"",duracod:"",texto:"Este proceso permite validar el N° de vacantes disponibles. Para ello revisa todos los documentos hasta ahora generados.\n        NOTA : Este proceso debe ser realizado, sin que exista algún usuario trabajando con el sistema de TALLERES (SieWeb-Talleres)"}},computed:{isLess:function(){return(0,u.isLess)()}},methods:{getDuracodActivo:function(){var e=this;this.$http.get("api/InscripcionController/getPeriodo",{params:{activo:!0}}).then(function(t){e.durades=t.DURADES,e.duracod=t.DURACOD})},recalculoVacantes:function(){var e=this;this.$confirmar("¿Está seguro de realizar el proceso?","info").then(function(t){e.$http.post("api/InscripcionController/recalculoVacantes").then(function(e){(0,f["default"])("Proceso Realizado con éxito","success")}).catch(function(e){(0,f["default"])("Hubo un inconveniente al realizar el proceso","warning")})})}},created:function(){this.nivelAcceso=this.sieInfo.ruta.nivel>1,this.getDuracodActivo()}},y=n(12807);const S=(0,y.A)(A,[["render",c]]);var Q=S}}]);