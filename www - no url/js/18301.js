"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[18301],{18301:function(e,o,n){n.r(o),n.d(o,{default:function(){return wo}});var a=n(8445),t=n.n(a),r=(n(71225),n(39866),n(50310),n(5962),n(83190),n(61758)),i=n(58790),l=n(29104),c={class:"row items-center no-wrap"},s={class:"col-auto"},u={class:"row q-pb-md"},d={class:"col"},f={class:"txtbanco",style:{height:"100%"}},p={class:"q-pa-md"},m={class:"q-pa-md"},h={class:"q-pa-md"},v={active:"active",tabsItem:"config"},b={class:"row q-ma-xs q-col-gutter-sm"},C={class:"col-xs-6"},A={class:"row q-ma-xs q-col-gutter-sm"},g={class:"col-xs-10"},O={class:"col-xs-10"},E={class:"col-xs-12"},S={class:"col-xs-12"},I={class:"col-xs-12"},w={key:0,class:"col-xs-12"},V={key:1,class:"col-xs-12"},k={class:"col-xs-10"},_={key:2,class:"col-xs-10"},R={class:"row q-ma-xs q-col-gutter-sm"},N={class:"col-xs-6"},D={class:"row q-ma-xs q-col-gutter-sm"},F={class:"col-xs-12"},P={class:"col-xs-12"},L={class:"col-xs-12"},M={class:"col-xs-10"},x={class:"text-h6"},T={class:"text"},B={class:"row q-ma-xs q-col-gutter-sm"},U={class:"col-xs-3"},$={class:"col-xs-7"},y={class:"col-xs-2"},q={class:"row q-ma-xs q-col-gutter-sm"},G={class:"col-xs-4"},Q={class:"col-xs-8"},K={class:"row q-ma-xs q-col-gutter-sm"},Y={class:"col-xs-12"};function H(e,o){var n=(0,r.g2)("crearBotones"),a=(0,r.g2)("q-card-section"),H=(0,r.g2)("q-separator"),X=(0,r.g2)("q-select"),W=(0,r.g2)("anio-fecven"),j=(0,r.g2)("template-banco"),J=(0,r.g2)("anio-fecven-fecpro"),z=(0,r.g2)("anio-env-clas"),Z=(0,r.g2)("anio-fecini-fecfin"),ee=(0,r.g2)("anio"),oe=(0,r.g2)("q-card"),ne=(0,r.g2)("sie-grid"),ae=(0,r.g2)("footer-grid"),te=(0,r.g2)("q-btn"),re=(0,r.g2)("q-input"),ie=(0,r.g2)("q-checkbox"),le=(0,r.g2)("sie-modal");return(0,r.uX)(),(0,r.Wv)(oe,{class:"layout-v1 my-card"},{default:(0,r.k6)(function(){return[(0,r.bF)(a,null,{default:(0,r.k6)(function(){return[(0,r.Lk)("div",c,[o[28]||(o[28]=(0,r.Lk)("div",{class:"col"},[(0,r.Lk)("div",{class:"text-h6"},"Enviar Archivo de Deudas al Banco")],-1)),(0,r.Lk)("div",s,[(0,r.bF)(n,{option:e.nameComponente,buttons:e.botones,nivelAcceso:e.nivelAcceso},null,8,["option","buttons","nivelAcceso"])])])]}),_:1}),(0,r.bF)(H),(0,r.bF)(a,null,{default:(0,r.k6)(function(){return[(0,r.Lk)("div",u,[(0,r.Lk)("div",d,[(0,r.bF)(X,{modelValue:e.selectServicio,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.selectServicio=o}),"option-label":"CTA","option-value":"ID_CTASERVICIO",options:e.servicio,label:"Cta. Servicios",onInput:e.getServicio},null,8,["modelValue","options","onInput"])])])]}),_:1}),[e.PAGO_EFECTIVO,e.OPENPAY,e.KASHIO].includes(e.bancoCod)?(0,r.Q3)("v-if",!0):((0,r.uX)(),(0,r.Wv)(a,{key:0},{default:(0,r.k6)(function(){return[e.show([12,2,36])?((0,r.uX)(),(0,r.Wv)(j,{key:0,ref:"banco"},{default:(0,r.k6)(function(){return[(0,r.bF)(W,{ref:"filter"},null,512)]}),_:1},512)):e.show([9])?((0,r.uX)(),(0,r.Wv)(j,{key:1,ref:"banco"},{default:(0,r.k6)(function(){return[(0,r.bF)(J,{ref:"filter"},null,512)]}),_:1},512)):e.show([1])?((0,r.uX)(),(0,r.Wv)(j,{key:2,ref:"banco"},{default:(0,r.k6)(function(){return[(0,r.bF)(z,{ref:"filter",codigoClase:e.codClase,numeroEnvio:e.nroEnvio},null,8,["codigoClase","numeroEnvio"])]}),_:1},512)):e.show([3])?((0,r.uX)(),(0,r.Wv)(j,{key:3,ref:"banco"},{default:(0,r.k6)(function(){return[(0,r.bF)(Z,{ref:"filter"},null,512)]}),_:1},512)):((0,r.uX)(),(0,r.CE)(r.FK,{key:4},[e.selectServicio?((0,r.uX)(),(0,r.Wv)(j,{key:0,ref:"banco"},{default:(0,r.k6)(function(){return[(0,r.bF)(ee,{ref:"filter"},null,512),o[29]||(o[29]=(0,r.Lk)("div",{class:"texthelper",style:{"margin-top":"10px"}},'(*) Los filtros son aplicados al "Ejecutar Proceso"',-1))]}),_:1},512)):(0,r.Q3)("v-if",!0)],64))]}),_:1})),(0,r.bF)(H),o[41]||(o[41]=(0,r.Lk)("form",{class:"form",id:"form"},null,-1)),[e.KASHIO].includes(e.bancoCod)?((0,r.uX)(),(0,r.Wv)(a,{key:1},{default:(0,r.k6)(function(){return[(0,r.bF)(j,{ref:"banco"},{default:(0,r.k6)(function(){return[(0,r.bF)(oe,{class:"q-card-legend"},{default:(0,r.k6)(function(){return[(0,r.bF)(X,{modelValue:e.anioFilterKashio,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.anioFilterKashio=o}),options:e.dataAnios,label:"Año",onInput:e.changeAnioFilterKashio},null,8,["modelValue","options","onInput"])]}),_:1})]}),_:1},512)]}),_:1})):(0,r.Q3)("v-if",!0),[e.KASHIO].includes(e.bancoCod)?((0,r.uX)(),(0,r.Wv)(a,{key:2},{default:(0,r.k6)(function(){return[(0,r.bF)(ne,{class:"fix-table-global ag-theme-balham",columnDefs:e.columnDefsKashio,rowData:e.rowDataKashio,frameworkComponents:e.frameworkComponentsKashio,rowSelection:"multiple",onGridReady:e.onGridReadyKashio,rowMultiSelectWithClick:!0,style:{width:"100%",height:"calc(100vh - 430px)"},componentFromFramework:e.componentFromFramework,defaultColDef:e.defaultColDef,floatingFilter:!0,enableCellTextSelection:!0,onFilterChanged:e.onFilterChanged},null,8,["columnDefs","rowData","frameworkComponents","onGridReady","componentFromFramework","defaultColDef","onFilterChanged"]),(0,r.bF)(ae,{modelValue:e.pagina,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.pagina=o}),max:e.pages,onLoad:e.getDeudasKashio,rows:e.rowDataKashio},null,8,["modelValue","max","onLoad","rows"])]}),_:1})):(0,r.Q3)("v-if",!0),[e.PAGO_EFECTIVO,e.OPENPAY,e.KASHIO].includes(e.bancoCod)?(0,r.Q3)("v-if",!0):((0,r.uX)(),(0,r.Wv)(a,{key:3,style:{height:"calc(100vh - 400px)"}},{default:(0,r.k6)(function(){return[(0,r.Lk)("div",f,[(0,r.Lk)("span",null,(0,i.v_)(e.lblRegistros),1),(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.textBanco=o}),style:{height:"90%",width:"100%"},wrap:"off"},null,512),[[l.Jo,e.textBanco]])]),[e.CAJA_CUSCO].includes(e.bancoCod)?((0,r.uX)(),(0,r.Wv)(a,{key:0},{default:(0,r.k6)(function(){return[(0,r.Lk)("div",p,[(0,r.bF)(te,{icon:"file_download",label:e.botonesCusco.label01,onClick:o[4]||(o[4]=function(o){return e.descargarCusco("i01")})},null,8,["label"])]),(0,r.Lk)("div",m,[(0,r.bF)(te,{icon:"file_download",label:e.botonesCusco.label02,onClick:o[5]||(o[5]=function(o){return e.descargarCusco("i02")})},null,8,["label"])]),(0,r.Lk)("div",h,[(0,r.bF)(te,{icon:"file_download",label:e.botonesCusco.label03,onClick:o[6]||(o[6]=function(o){return e.descargarCusco("i03")})},null,8,["label"])])]}),_:1})):(0,r.Q3)("v-if",!0)]}),_:1})),[e.PAGO_EFECTIVO,e.OPENPAY].includes(e.bancoCod)?((0,r.uX)(),(0,r.Wv)(a,{key:4},{default:(0,r.k6)(function(){return[(0,r.Lk)("div",{class:"tabs-personalized",onClick:o[7]||(o[7]=function(){return e.gatActiveTabs&&e.gatActiveTabs.apply(e,arguments)})},[(0,r.Lk)("p",v,(0,i.v_)(e.title),1),o[30]||(o[30]=(0,r.Lk)("p",{active:"",tabsItem:"servicio"},"Sevicio de la api",-1)),o[31]||(o[31]=(0,r.Lk)("p",{active:"",tabsItem:"banco"},"Banco y Servicio",-1))]),e.tabsActive.config?((0,r.uX)(),(0,r.Wv)(a,{key:0},{default:(0,r.k6)(function(){return[o[39]||(o[39]=(0,r.Lk)("div",{class:"text-h6"},"Datos generales",-1)),(0,r.Lk)("p",null,[o[32]||(o[32]=(0,r.Lk)("b",null,"Código Cuenta Bancaria:",-1)),(0,r.Lk)("span",null,(0,i.v_)(e.SERVICIOS_PAGO.NUMCTA),1)]),(0,r.Lk)("p",null,[o[33]||(o[33]=(0,r.Lk)("b",null,"Nro. Cuenta:",-1)),(0,r.Lk)("span",null,(0,i.v_)(e.SERVICIOS_PAGO.CTACTE),1)]),(0,r.Lk)("p",null,[o[34]||(o[34]=(0,r.Lk)("b",null,"Banco:",-1)),(0,r.Lk)("span",null,(0,i.v_)(e.SERVICIOS_PAGO.BANCO),1)]),(0,r.Lk)("p",null,[o[35]||(o[35]=(0,r.Lk)("b",null,"Moneda:",-1)),(0,r.Lk)("span",null,(0,i.v_)(e.SERVICIOS_PAGO.MONEDA),1)]),(0,r.Lk)("p",null,[o[36]||(o[36]=(0,r.Lk)("b",null,"Servicio API:",-1)),(0,r.Lk)("span",null,(0,i.v_)(e.SERVICIOS_PAGO.NOMBRE_CUENTA),1)]),(0,r.Lk)("p",null,[o[37]||(o[37]=(0,r.Lk)("b",null,"Cod. de Comercio:",-1)),(0,r.Lk)("span",null,(0,i.v_)(e.SERVICIOS_PAGO.SERVICIO),1)]),(0,r.Lk)("p",null,[o[38]||(o[38]=(0,r.Lk)("b",null,"Cod. de Notificación:",-1)),(0,r.Lk)("span",null,(0,i.v_)(e.SERVICIOS_PAGO.CODIGO_NOTI),1)])]}),_:1})):(0,r.Q3)("v-if",!0),e.tabsActive.servicio?((0,r.uX)(),(0,r.Wv)(a,{key:1},{default:(0,r.k6)(function(){return[(0,r.Lk)("div",b,[(0,r.Lk)("div",C,[(0,r.Lk)("div",A,[(0,r.Lk)("div",g,[(0,r.bF)(re,{label:"Id Servicio",modelValue:e.ERPSERVICIOS.ID_SERVICIO,"onUpdate:modelValue":o[8]||(o[8]=function(o){return e.ERPSERVICIOS.ID_SERVICIO=o}),disable:!0},null,8,["modelValue"])]),(0,r.Lk)("div",O,[(0,r.bF)(re,{label:"ID de Comercio",modelValue:e.ERPSERVICIOS.SERVICIO,"onUpdate:modelValue":o[9]||(o[9]=function(o){return e.ERPSERVICIOS.SERVICIO=o})},null,8,["modelValue"])]),(0,r.Lk)("div",E,[(0,r.bF)(re,{label:"Código de Seguridad",modelValue:e.ERPSERVICIOS.LLAVE_SEGURIDAD,"onUpdate:modelValue":o[10]||(o[10]=function(o){return e.ERPSERVICIOS.LLAVE_SEGURIDAD=o})},null,8,["modelValue"])]),(0,r.Lk)("div",S,[(0,r.bF)(re,{label:"Código de Acceso",modelValue:e.ERPSERVICIOS.LLAVE_ACCESO,"onUpdate:modelValue":o[11]||(o[11]=function(o){return e.ERPSERVICIOS.LLAVE_ACCESO=o})},null,8,["modelValue"])]),(0,r.Lk)("div",I,[(0,r.bF)(re,{label:"Correo Adm",modelValue:e.ERPSERVICIOS.EMAIL,"onUpdate:modelValue":o[12]||(o[12]=function(o){return e.ERPSERVICIOS.EMAIL=o})},null,8,["modelValue"])]),[e.OPENPAY].includes(e.bancoCod)?((0,r.uX)(),(0,r.CE)("div",w,[(0,r.bF)(re,{label:"Codigo de Webhook",modelValue:e.ERPSERVICIOS.CODIGO_NOTI,"onUpdate:modelValue":o[13]||(o[13]=function(o){return e.ERPSERVICIOS.CODIGO_NOTI=o})},null,8,["modelValue"])])):(0,r.Q3)("v-if",!0),[e.OPENPAY].includes(e.bancoCod)?((0,r.uX)(),(0,r.CE)("div",V,[(0,r.bF)(X,{label:"Metodo Servicio",options:e.dataMetodoServico,"option-value":"value","option-label":"label",modelValue:e.ERPSERVICIOS.METODO_SERVICIO,"onUpdate:modelValue":o[14]||(o[14]=function(o){return e.ERPSERVICIOS.METODO_SERVICIO=o})},null,8,["options","modelValue"])])):(0,r.Q3)("v-if",!0),(0,r.Lk)("div",k,[(0,r.bF)(X,{label:"FLAT Versión",modelValue:e.ERPSERVICIOS.PVERSION,"onUpdate:modelValue":o[15]||(o[15]=function(o){return e.ERPSERVICIOS.PVERSION=o}),options:e.dataPVersion,"option-value":"value","option-label":"label"},null,8,["modelValue","options"])]),[e.OPENPAY].includes(e.bancoCod)?((0,r.uX)(),(0,r.CE)("div",_,[(0,r.bF)(re,{label:"Correlativo",modelValue:e.nuevoCorrelativo,"onUpdate:modelValue":o[16]||(o[16]=function(o){return e.nuevoCorrelativo=o})},null,8,["modelValue"])])):(0,r.Q3)("v-if",!0)])])])]}),_:1})):(0,r.Q3)("v-if",!0),e.tabsActive.banco?((0,r.uX)(),(0,r.Wv)(a,{key:2},{default:(0,r.k6)(function(){return[(0,r.Lk)("div",R,[(0,r.Lk)("div",N,[(0,r.Lk)("div",D,[(0,r.Lk)("div",F,[(0,r.bF)(re,{label:"ID de ERP Banco-Servicio",modelValue:e.CTA_BANCO.ID_ERP_PAGO_BANCO,"onUpdate:modelValue":o[17]||(o[17]=function(o){return e.CTA_BANCO.ID_ERP_PAGO_BANCO=o}),disable:!0},null,8,["modelValue"])]),(0,r.Lk)("div",P,[(0,r.bF)(re,{label:"Nombre Cuenta",placeholder:"Ingrese Nombre de la Cuenta",modelValue:e.CTA_BANCO.NOMBRE_CUENTA,"onUpdate:modelValue":o[18]||(o[18]=function(o){return e.CTA_BANCO.NOMBRE_CUENTA=o})},null,8,["modelValue"])]),(0,r.Lk)("div",L,[(0,r.bF)(X,{label:"Cta. Bancaria","option-label":"CTA","option-value":"NUMCTA",options:e.dataCtaBan,modelValue:e.CTA_BANCO.NUMCTA,"onUpdate:modelValue":o[19]||(o[19]=function(o){return e.CTA_BANCO.NUMCTA=o})},null,8,["options","modelValue"])]),(0,r.Lk)("div",M,[(0,r.bF)(X,{label:"Servicio Api",options:e.dataApi,"option-label":"label","option-value":"value",modelValue:e.CTA_BANCO.ID_SERVICIO,"onUpdate:modelValue":o[20]||(o[20]=function(o){return e.CTA_BANCO.ID_SERVICIO=o})},null,8,["options","modelValue"])])])])])]}),_:1})):(0,r.Q3)("v-if",!0)]}),_:1})):(0,r.Q3)("v-if",!0),(0,r.bF)(le,{modelValue:e.openModal,"onUpdate:modelValue":o[24]||(o[24]=function(o){return e.openModal=o}),onSubmit:e.submit,customWidth:e.anchoModalCon},{default:(0,r.k6)(function(){return[(0,r.bF)(a,null,{default:(0,r.k6)(function(){return[(0,r.Lk)("div",x,"Conceptos a Cobrar: "+(0,i.v_)(e.numcta)+"-"+(0,i.v_)(e.bancoNombre),1),(0,r.Lk)("div",T,(0,i.v_)(e.nombreServicio),1)]}),_:1}),(0,r.bF)(a,null,{default:(0,r.k6)(function(){return[(0,r.Lk)("div",B,[(0,r.Lk)("div",U,[(0,r.bF)(re,{label:"Código",placeholder:"Ingresar Código",modelValue:e.filter.concob,"onUpdate:modelValue":o[21]||(o[21]=function(o){return e.filter.concob=o}),onInput:e.buscarConcepto},null,8,["modelValue","onInput"])]),(0,r.Lk)("div",$,[(0,r.bF)(re,{label:"Concepto",placeholder:"Ingresar Concepto",modelValue:e.filter.condes,"onUpdate:modelValue":o[22]||(o[22]=function(o){return e.filter.condes=o}),onInput:e.buscarConcepto},null,8,["modelValue","onInput"])]),(0,r.Lk)("div",y,[(0,r.bF)(ie,{label:"Todos",modelValue:e.conceptosTodos,"onUpdate:modelValue":o[23]||(o[23]=function(o){return e.conceptosTodos=o}),"true-value":1,"false-value":0,onInput:e.seleccionarConceptosTodos,color:"primary"},null,8,["modelValue","onInput"])])])]}),_:1}),(0,r.bF)(H),(0,r.bF)(a,null,{default:(0,r.k6)(function(){return[(0,r.bF)(ne,{class:"ag-theme-balham",style:(0,i.Tr)({minWidth:e.display?"93vw":"25vw",height:e.display?"calc(100vh - 140px)":"calc(100vh - 350px)"}),columnDefs:e.columnDefs,rowData:e.rowData,frameworkComponents:e.frameworkComponents,onGridReady:e.onGridReady,onCellValueChanged:e.cellValueChanged,rowClassRules:e.rowClassRules},null,8,["style","columnDefs","rowData","frameworkComponents","onGridReady","onCellValueChanged","rowClassRules"])]}),_:1})]}),_:1},8,["modelValue","onSubmit","customWidth"]),(0,r.bF)(le,{modelValue:e.openModalCA,"onUpdate:modelValue":o[27]||(o[27]=function(o){return e.openModalCA=o}),onSubmit:e.registrarCobroAutomatico},{default:(0,r.k6)(function(){return[(0,r.bF)(a,null,{default:(0,r.k6)(function(){return t()(o[40]||(o[40]=[(0,r.Lk)("div",{class:"col"},[(0,r.Lk)("div",{class:"text-h6"},"Asignar Cobro Automático")],-1)]))}),_:1}),(0,r.bF)(H),(0,r.bF)(a,null,{default:(0,r.k6)(function(){return[(0,r.Lk)("div",q,[(0,r.Lk)("div",G,[(0,r.bF)(X,{modelValue:e.selectPerfil,"onUpdate:modelValue":o[25]||(o[25]=function(o){return e.selectPerfil=o}),"option-value":"ID_PERFIL","option-label":"DESCRIPCION",options:e.perfil,label:"Perfil",onInput:e.getDataClientes},null,8,["modelValue","options","onInput"])]),(0,r.Lk)("div",Q,[(0,r.bF)(re,{class:"placeholder",modelValue:e.personaSearchModal,"onUpdate:modelValue":o[26]||(o[26]=function(o){return e.personaSearchModal=o}),label:"Buscar Alumno",placeholder:"Ingrese Nombre",onInput:e.filtrosPersona},null,8,["modelValue","onInput"])])]),(0,r.Lk)("div",K,[(0,r.Lk)("div",Y,[(0,r.bF)(ne,{class:"ag-theme-balham",style:{height:"calc(100vh - 400px)",width:"100%"},columnDefs:e.columnDefsModal,frameworkComponents:e.frameworkComponents,rowData:e.rowDataModal,onGridReady:e.onGridReadyModal,rowSelection:"multiple",suppressRowClickSelection:""},null,8,["columnDefs","frameworkComponents","rowData","onGridReady"])])])]}),_:1})]}),_:1},8,["modelValue","onSubmit"])]}),_:1})}var X=n(41562),W=n.n(X),j=n(99550),J=n.n(j),z=n(57008),Z=n.n(z),ee=n(76080),oe=n.n(ee),ne=n(45254),ae=n.n(ne),te=(n(30683),n(71587),n(23825),n(52133),n(10239),n(89571),n(6724),n(11777),n(48426),n(32408),n(515),n(27153),n(40048),n(52776),n(39300),n(17225),n(28743),n(12858),n(32071),n(55520),n(2775),n(46203),n(62692),n(66307),n(81813),n(68017),n(24066),n(17136)),re=n(57668),ie=n(80660),le=n(54489),ce=n(64208),se=n(88567),ue=n(53380),de=n(95718);function fe(e,o){var n=(0,r.g2)("q-select"),a=(0,r.g2)("q-card-main"),t=(0,r.g2)("q-card");return(0,r.uX)(),(0,r.Wv)(t,{class:"q-card-legend"},{default:(0,r.k6)(function(){return[(0,r.bF)(a,null,{default:(0,r.k6)(function(){return[(0,r.bF)(n,{modelValue:e.selectAnio,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.selectAnio=o}),optionLabel:"ANO",optionValue:"ID",options:e.anio,label:"Año"},null,8,["modelValue","options"])]}),_:1})]}),_:1})}n(44264);var pe=n(6123),me={components:{QOptionGroup:pe.EX,QSelect:le.S,QCard:pe.C$,QCardMain:pe.d1},data:function(){return{selectAnio:(0,re["default"])().ano.toString(),anio:[]}},methods:{getForm:function(){return{anio:this.selectAnio}}},beforeMount:function(){var e=this;ie.$http.get("api/anioController/getAnios",{params:{parametros:{response:"combo"}}}).then(function(o){e.anio=o})}},he=n(12807);const ve=(0,he.A)(me,[["render",fe]]);var be=ve,Ce={class:"row gutter-xs"},Ae={class:"col-xs-12 col-lg-6"},ge={class:"col-xs-12 col-lg-6"};function Oe(e,o){var n=(0,r.g2)("q-select"),a=(0,r.g2)("q-card-main"),t=(0,r.g2)("q-card");return(0,r.uX)(),(0,r.Wv)(t,{class:"q-card-legend"},{default:(0,r.k6)(function(){return[(0,r.bF)(a,null,{default:(0,r.k6)(function(){return[(0,r.Lk)("div",Ce,[(0,r.Lk)("div",Ae,[(0,r.bF)(n,{modelValue:e.selectAnio,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.selectAnio=o}),optionLabel:"ANO",optionValue:"ID",options:e.anio,label:"Año"},null,8,["modelValue","options"])]),(0,r.Lk)("div",ge,[(0,r.bF)(n,{modelValue:e.fecven,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.fecven=o}),"option-label":"label","option-value":"value",options:e.fechaVen,label:"Fecha de Vencimiento"},null,8,["modelValue","options"])])])]}),_:1})]}),_:1})}var Ee=n(12143),Se=n(95477),Ie={components:{QOptionGroup:pe.EX,QSelect:le.S,QInput:ce.A,QDate:Ee.A,QPopupProxy:Se.A,QCard:pe.C$,QCardMain:pe.d1},data:function(){return{selectAnio:(0,re["default"])().ano.toString(),anio:[],fecven:"",fechaVen:[]}},methods:{getForm:function(){return{anio:this.selectAnio,fecven:this.fecven}},cargarFechaVenc:function(){var e=this;return ae()(oe()().m(function o(){var n;return oe()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,ie.$http.get("api/cobroController/getFechaVencimiento",{params:{parametros:{response:"combo",pendiente:!0,anocob:e.selectAnio}}});case 1:n=o.v,0!==n.length?e.fechaVen=n:e.$alert("No existen fechas de vencimiento","warning");case 2:return o.a(2)}},o)}))()}},beforeMount:function(){var e=this;ie.$http.get("api/anioController/getAnios",{params:{parametros:{response:"combo"}}}).then(function(o){e.anio=o})},mounted:function(){this.cargarFechaVenc()}};const we=(0,he.A)(Ie,[["render",Oe]]);var Ve=we,ke={class:"row gutter-xs"},_e={class:"col-xs-4 col-lg-6"},Re={class:"col-xs-8 col-lg-6"},Ne={class:"col-xs-12 col-lg-6"};function De(e,o){var n=(0,r.g2)("q-select"),a=(0,r.g2)("q-date"),t=(0,r.g2)("q-popup-proxy"),i=(0,r.g2)("q-icon"),l=(0,r.g2)("q-input"),c=(0,r.g2)("q-card-main"),s=(0,r.g2)("q-card");return(0,r.uX)(),(0,r.Wv)(s,{class:"q-card-legend"},{default:(0,r.k6)(function(){return[(0,r.bF)(c,null,{default:(0,r.k6)(function(){return[(0,r.Lk)("div",ke,[(0,r.Lk)("div",_e,[(0,r.bF)(n,{modelValue:e.selectAnio,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.selectAnio=o}),"option-label":"ANO","option-value":"ID",options:e.anio,label:"Año"},null,8,["modelValue","options"])]),(0,r.Lk)("div",Re,[(0,r.bF)(n,{class:"truncate-label",modelValue:e.selectFecVen,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.selectFecVen=o}),"option-label":"label","option-value":"value",options:e.fechaVen,label:"Fecha de Vencimiento"},null,8,["modelValue","options"])]),(0,r.Lk)("div",Ne,[(0,r.bF)(l,{class:"tesoreria-components-date","reverse-fill-mask":"",modelValue:e.fecvenpro,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.fecvenpro=o}),maxlength:"10",mask:"##/##/####",label:"Fecha Proceso"},{append:(0,r.k6)(function(){return[(0,r.bF)(i,{class:"cursor-pointer",name:"date_range"},{default:(0,r.k6)(function(){return[(0,r.bF)(t,{ref:"qDateProxy","transition-show":"scale","transition-hide":"scale"},{default:(0,r.k6)(function(){return[(0,r.bF)(a,{mask:"DD/MM/YYYY",modelValue:e.fecvenpro,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.fecvenpro=o})},null,8,["modelValue"])]}),_:1},512)]}),_:1})]}),_:1},8,["modelValue"])])])]}),_:1})]}),_:1})}n(74260),n(32203);var Fe=n(41615),Pe=n(54267),Le=n(18105),Me={components:{QOptionGroup:pe.EX,QSelect:le.S,QInput:ce.A,QDate:Ee.A,QPopupProxy:Se.A,QCard:pe.C$,QCardMain:pe.d1,QIcon:pe.bP},data:function(){return{selectAnio:Fe["default"].TOKEN_YEAR,selectFecVen:"",fechaVen:[],anio:[],fecven:"",fecvenpro:Fe["default"].CURRENT_DAY}},methods:{getForm:function(){return{anio:this.selectAnio,fecven:this.selectFecVen,fecpro:(0,Le.Ay)((0,Pe.convertToYMD)(this.fecvenpro),"YYYY-MM-DD")}},cargarFechaVenc:function(){var e=this;return ae()(oe()().m(function o(){var n;return oe()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,ie.$http.get("api/cobroController/getFechaVencimiento",{params:{parametros:{response:"combo",pendiente:!0,anocob:e.selectAnio}}});case 1:n=o.v,0!==n.length?e.fechaVen=n:e.$alert("No existen fechas de vencimiento","warning");case 2:return o.a(2)}},o)}))()},setearFechaVenc:function(){var e=this;return ae()(oe()().m(function o(){var n;return oe()().w(function(o){while(1)switch(o.n){case 0:e.fechaVen.length>0&&(n=e.fechaVen.find(function(e){var o=new Date(e.value),n=o.getMonth()+1;return n===Number(Fe["default"].CURRENT_MONTH)}),e.selectFecVen=n.value);case 1:return o.a(2)}},o)}))()}},beforeMount:function(){var e=this;ie.$http.get("api/anioController/getAnios",{params:{parametros:{response:"combo"}}}).then(function(o){e.anio=o})},mounted:function(){var e=this;return ae()(oe()().m(function o(){return oe()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,e.cargarFechaVenc();case 1:return o.n=2,e.setearFechaVenc();case 2:return o.a(2)}},o)}))()}};const xe=(0,he.A)(Me,[["render",De]]);var Te=xe,Be={class:"row gutter-xs"},Ue={class:"col-xs-12 col-lg-6"},$e={class:"col-xs-12 col-lg-6"},ye={class:"col-xs-12 col-lg-6"},qe={class:"col-xs-12 col-lg-6"};function Ge(e,o){var n=(0,r.g2)("q-select"),a=(0,r.g2)("q-input"),t=(0,r.g2)("q-date"),i=(0,r.g2)("q-popup-proxy"),l=(0,r.g2)("q-icon"),c=(0,r.g2)("q-card-main"),s=(0,r.g2)("q-card");return(0,r.uX)(),(0,r.Wv)(s,{class:"q-card-legend"},{default:(0,r.k6)(function(){return[(0,r.bF)(c,null,{default:(0,r.k6)(function(){return[(0,r.Lk)("div",Be,[(0,r.Lk)("div",Ue,[(0,r.bF)(n,{modelValue:e.selectAnio,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.selectAnio=o}),optionLabel:"ANO",optionValue:"ID",options:e.anio,label:"Año"},null,8,["modelValue","options"])]),(0,r.Lk)("div",$e,[(0,r.bF)(a,{modelValue:e.nroEnvio,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.nroEnvio=o}),maxlength:"10",label:"Nro. Envío"},null,8,["modelValue"])]),(0,r.Lk)("div",ye,[(0,r.bF)(a,{modelValue:e.codClase,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.codClase=o}),maxlength:"10",label:"Código Clase"},null,8,["modelValue"])]),(0,r.Lk)("div",qe,[(0,r.bF)(a,{class:"tesoreria-components-date","reverse-fill-mask":"",modelValue:e.fecExpira,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.fecExpira=o}),maxlength:"10",mask:"##/##/####",label:"Fecha de Expiración"},{append:(0,r.k6)(function(){return[(0,r.bF)(l,{class:"cursor-pointer",name:"date_range"},{default:(0,r.k6)(function(){return[(0,r.bF)(i,{ref:"qDateProxy","transition-show":"scale","transition-hide":"scale"},{default:(0,r.k6)(function(){return[(0,r.bF)(t,{mask:"DD/MM/YYYY",modelValue:e.fecExpira,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.fecExpira=o})},null,8,["modelValue"])]}),_:1},512)]}),_:1})]}),_:1},8,["modelValue"])])])]}),_:1})]}),_:1})}var Qe={components:{QOptionGroup:pe.EX,QSelect:le.S,QDate:Ee.A,QInput:ce.A,QPopupProxy:Se.A,QCard:pe.C$,QCardMain:pe.d1,QIcon:pe.bP},props:{codigoClase:{type:String,default:"000"},numeroEnvio:{type:String,default:"001"}},data:function(){var e=(0,re["default"])().ano.toString().substring(0,4);return{selectAnio:(0,re["default"])().ano.toString(),anio:[],codClase:"",nroEnvio:"",fecExpira:"31/12/"+(Number(e)+Number(1))}},methods:{getForm:function(){return{anio:this.selectAnio,codClase:this.codClase,nroEnvio:this.nroEnvio,fecExpira:(0,Le.Ay)((0,Pe.convertToYMD)(this.fecExpira),"YYYY-MM-DD")}}},beforeMount:function(){var e=this;ie.$http.get("api/anioController/getAnios",{params:{parametros:{response:"combo"}}}).then(function(o){e.anio=o})},mounted:function(){this.codClase=this.codigoClase,this.nroEnvio=this.numeroEnvio}};const Ke=(0,he.A)(Qe,[["render",Ge]]);var Ye=Ke,He={class:"row gutter-xs"},Xe={class:"col-xs-12 col-lg-6"},We={class:"row gutter-xs"},je={class:"col"},Je={class:"col-xs-12 col-lg-6"},ze={class:"col-xs-12 col-lg-6"};function Ze(e,o){var n=(0,r.g2)("q-select"),a=(0,r.g2)("q-checkbox"),t=(0,r.g2)("q-date"),i=(0,r.g2)("q-popup-proxy"),l=(0,r.g2)("q-icon"),c=(0,r.g2)("q-input"),s=(0,r.g2)("q-card-main"),u=(0,r.g2)("q-card");return(0,r.uX)(),(0,r.Wv)(u,{class:"q-card-legend"},{default:(0,r.k6)(function(){return[(0,r.bF)(s,null,{default:(0,r.k6)(function(){return[(0,r.Lk)("div",He,[(0,r.Lk)("div",Xe,[(0,r.Lk)("div",We,[(0,r.Lk)("div",je,[(0,r.bF)(n,{modelValue:e.selectAnio,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.selectAnio=o}),optionLabel:"ANO",optionValue:"ID",options:e.anio,label:"Año"},null,8,["modelValue","options"])]),(0,r.bF)(a,{modelValue:e.showFecha,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.showFecha=o}),label:"Solo año",dense:""},null,8,["modelValue"])])]),e.showFecha?(0,r.Q3)("v-if",!0):((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[(0,r.Lk)("div",Je,[(0,r.bF)(c,{class:"tesoreria-components-date","reverse-fill-mask":"",modelValue:e.fecini,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.fecini=o}),maxlength:"10",mask:"##/##/####",label:"Fecha inicio"},{append:(0,r.k6)(function(){return[(0,r.bF)(l,{class:"cursor-pointer",name:"date_range"},{default:(0,r.k6)(function(){return[(0,r.bF)(i,{ref:"qDateProxy","transition-show":"scale","transition-hide":"scale"},{default:(0,r.k6)(function(){return[(0,r.bF)(t,{mask:"DD/MM/YYYY",modelValue:e.fecini,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.fecini=o})},null,8,["modelValue"])]}),_:1},512)]}),_:1})]}),_:1},8,["modelValue"])]),(0,r.Lk)("div",ze,[(0,r.bF)(c,{class:"tesoreria-components-date","reverse-fill-mask":"",modelValue:e.fecfin,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.fecfin=o}),maxlength:"10",mask:"##/##/####",label:"Fecha fin"},{append:(0,r.k6)(function(){return[(0,r.bF)(l,{class:"cursor-pointer",name:"date_range"},{default:(0,r.k6)(function(){return[(0,r.bF)(i,{ref:"qDateProxy","transition-show":"scale","transition-hide":"scale"},{default:(0,r.k6)(function(){return[(0,r.bF)(t,{mask:"DD/MM/YYYY",modelValue:e.fecfin,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.fecfin=o})},null,8,["modelValue"])]}),_:1},512)]}),_:1})]}),_:1},8,["modelValue"])])],64))])]}),_:1})]}),_:1})}var eo=n(16648),oo=n(9736),no=n(3112),ao={components:{QOptionGroup:pe.EX,QSelect:eo.A,QInput:oo.A,QDate:Ee.A,QPopupProxy:Se.A,QCheckbox:no.A,QCard:pe.C$,QCardMain:pe.d1,QIcon:pe.bP},data:function(){return{selectAnio:(0,re["default"])().ano,anio:[],fecini:"01/01/"+(0,re["default"])().ano,fecfin:"01/01/"+(0,re["default"])().ano,showFecha:!1}},methods:{getForm:function(){var e={anio:this.selectAnio};return this.showFecha||(e.fecini=this.fecini,e.fecfin=this.fecfin),e}},beforeMount:function(){var e=this;ie.$http.get("api/anioController/getAnios",{params:{parametros:{response:"combo"}}}).then(function(o){e.anio=o})}};const to=(0,he.A)(ao,[["render",Ze]]);var ro=to,io=n(75053),lo=n(36408),co=n(21063),so=n(6583),uo=n(7958),fo=n.n(uo),po=n(64446),mo=n(70674),ho=n(78840),vo=n(64303),bo=n(40155),Co=n(11654),Ao=n(27560),go=n(42037),Oo=n(96330),Eo=n(6557),So={components:{QCard:se.A,QCardSection:de.A,QSelect:le.S,templateBanco:te.A,anio:be,anioFecven:Ve,QSeparator:ue.A,anioFecvenFecpro:Te,anioEnvClas:Ye,sieModal:io.A,sieGrid:lo.A,QInput:ce.A,anioFeciniFecfin:ro,crearBotones:vo.A,QCheckbox:bo.A,QBtn:Co.A,checkbox:co.A,footerGrid:Ao.A,headerGrid:Oo.A},data:function(){return{nameComponente:"EnvioDeudasBanco",sie:(0,re["default"])(),nivelAcceso:(0,re["default"])().ruta.nivel,columnDefs:null,rowData:null,columnDefsModal:null,btnProcesar:"Ejecutar Proceso",rowDataModal:null,rowDataModalCopy:[],api:null,frameworkComponents:null,frameworkComponentsModal:null,frameworkComponentsKashio:{},selectBancoServicio:"",selectServicio:"",selectPerfil:Fe["default"].PERFIL_ALUMNO,servicio:[],perfil:null,nombreServicio:null,openModal:!1,openModalCA:!1,cobroAutomatico:!1,textBanco:"",personaSearchModal:"",numcta:"",id_bancoser:"",bancoNombre:"",nroEnvio:"",codClase:"",moneda:Fe["default"].MONEDA_LOCAL,data:[],botones:[],bancoCod:"",BANCO_CONTINENTAL:Fe["default"].BANCOS.BBVA,CAJA_CUSCO:Fe["default"].BANCOS.CUSCO,PAGO_EFECTIVO:Fe["default"].BANCOS.PEFECTIVO,OPENPAY:Fe["default"].BANCOS.OPENPAY,KASHIO:Fe["default"].BANCOS.KASHIO,title:"",tabsActive:{config:!0,servicio:!1,banco:!1},SERVICIOS_PAGO:{ID_SERVICIO:"",ID_COMERCIO:"",LLAVE_SEGURIDAD:"",LLAVE_ACCESO:"",EMAIL:"",PVERSION:""},CTA_BANCO:{},dataPVersion:[{label:"Desarrollo",value:0},{label:"Pruebas",value:1},{label:"Produccion",value:2}],dataCtaBan:[],dataApi:[],ERPSERVICIOS:[],dataMetodoServico:[{label:"Tarjetas",value:1},{label:"Pago en Tienda",value:2}],conceptosTodos:0,filter:{concob:"",condes:""},botonesCusco:{label01:"Archivo i01 (relación de conceptos)",label02:"Archivo i02 (relación de alumnos)",label03:"Archivo i03 (relación de deudas)"},nuevoCorrelativo:0,correlativoInicial:0,rowDataCopy:[],columnDefsKashio:[],pagina:1,pages:1,rowDataKashio:[],apiKashio:{},dataAnios:[],anioFilterKashio:String(Fe["default"].CURRENT_YEAR),lblRegistros:"Registros",MORA_FIJA:!1,archivo_exportar:"",storeSeleccionados:[],componentFromFramework:[],defaultColDef:{suppressHeaderMenuButton:!0,filter:!0,floatingFilterComponentParams:{suppressFilterButton:!0},resizable:!0,sortable:!0,suppressDragLeaveHidesColumns:!0},contador:[],anchoModalCon:"515px",rowClassRules:{}}},methods:{cellValueChanged:function(e){e.data&&e.data.__sg_uid&&(this.rowData=this.rowData.map(function(o){return o.CONCOB===e.data.CONCOB&&(o.SERVICIO=e.data.SERVICIO,o.ESTADO=Number(Boolean(Number(e.data.ESTADO))),o.MORAFIJA=Number(e.data.MORAFIJA),o.AUTOGENERADO=Number(Boolean(Number(e.data.AUTOGENERADO))),o.MESCOB=e.data.MESCOB,o.ANOCOB=e.data.ANOCOB),o}))},onFilterChanged:function(e){this.contador=Array.from({length:e.api.getDisplayedRowCount()}),this.filterModel=e.api.getFilterModel()},getAnios:function(){var e=this;return ae()(oe()().m(function o(){return oe()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,Fe["default"].API_ANIOS();case 1:e.dataAnios=o.v;case 2:return o.a(2)}},o)}))()},changeAnioFilterKashio:function(){var e=this;return ae()(oe()().m(function o(){return oe()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,e.getDeudasKashio();case 1:return o.a(2)}},o)}))()},procesarDeudasKashio:function(){var e=this;return ae()(oe()().m(function o(){var n;return oe()().w(function(o){while(1)switch(o.n){case 0:if(n=e.apiKashio.getSelectedRows(),0!==n.length){o.n=1;break}return o.a(2,e.$alert("Debe seleccionar por lo menos una deuda para enviar","warning"));case 1:e.$confirm("¿Esta seguro de enviar la información a KASHIO?").onOk(ae()(oe()().m(function o(){return oe()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,e.sendDeudasKashio(n);case 1:return o.a(2)}},o)})));case 2:return o.a(2)}},o)}))()},obtDatoskashio:function(e){return{moneda:e.MONISO,moncod:e.MONCOD,persona:{tipo:e.TIPO_CLIENTE,perfil:e.ID_PERFIL,id:e.ID_PERSONA,codigo:e.CODIGO},servicio:e.ID_SERVICIO,tipo:e.ID_COBRANZA,idpago:e.ID_COBRO,flat:e.FLAT,deudas:[{id:e.ID_DEUDA,tipo:e.TIPO_DEUDA,cantidad:e.CANTIDAD,sub_total:e.MONTOPEN,mora:e.MONTOMOR,monto:Number(e.MONTOPEN)+Number(e.MONTOMOR),fecha:e.FECVEN,concepto:e.CONCEPTO}]}},sendDeudasKashio:function(e){var o=this;return ae()(oe()().m(function n(){var a;return oe()().w(function(n){while(1)switch(n.n){case 0:o.$q.loading.show(),a=e.map(function(e){var n=o.obtDatoskashio(e);return[2,3,5].includes(e.FLAT)&&(n.hash_pago=e.HASH_PAGO),ie.$http.post("api/HyoCobros/postRecaudoKashio",{datos:n})}),Promise.allSettled(a).then(function(e){var n=Object.groupBy(e,function(e){return e.status}),a=n.fulfilled,t=n.rejected,r={anio:o.anioFilterKashio};return ie.$http.get("api/bancoController/getDeudasKashio",{params:{params:{ANOCOB:r.anio}}}).then(function(e){o.rowDataKashio=e,o.apiKashio.selectAll()}).catch(function(e){return o.$alert(e.error?e.error.message:e.message,"warning")}),o.$q.loading.hide(),o.mostrarMensaje({procesadas:a,sinProcesar:t})}).catch(function(e){return o.$alert(e.error?e.error.message:e.message,"warning")});case 1:return n.a(2)}},n)}))()},mostrarMensaje:function(e){var o=e.sinProcesar,n=e.procesadas;if(o=o||[],n=n||[],1===o.length&&0===n.length){var a=o[0].reason.error;return this.$alert(a.error?a.error.message:a.message,"warning")}return 0===n.length&&o.length>0?this.$alert("Proceso Finalizado: (".concat(o.length,") Deudas No Enviadas"),"warning"):n.length>0&&0===o.length?this.$alert("Proceso Finalizado: (".concat(n.length,") Deudas Enviados Satisfactoriamente"),"success"):this.$alert("Proceso Finalizado: (".concat(n.length,") Deudas Enviados Satisfactoriamente, (").concat(o.length,") Items NO Enviados"),"success")},getDeudasKashio:function(){var e=this;return ae()(oe()().m(function o(){var n,a,t,r;return oe()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,n=e.$refs.banco.getForm(),a={ANOCOB:Number(e.anioFilterKashio),DEUDA:n.deuda,ORDEN:n.orden},o.n=1,ie.$http.get("api/bancoController/getDeudasKashio",{params:{params:a}});case 1:t=o.v,e.rowDataKashio=t,t.length>0&&e.apiKashio.selectAll(),o.n=3;break;case 2:o.p=2,r=o.v,e.$alert(r.error?r.error.message:r.message);case 3:return o.a(2)}},o,null,[[0,2]])}))()},seleccionarConceptosTodos:function(){var e=this;return ae()(oe()().m(function o(){var n,a;return oe()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,e.rowData;case 1:n=o.v,a=n.map(function(o){return o.ESTADO=Number(Boolean(e.conceptosTodos)),o}),e.rowData=a;case 2:return o.a(2)}},o)}))()},buscarConcepto:function(){var e=this;return ae()(oe()().m(function o(){var n,a,r;return oe()().w(function(o){while(1)switch(o.n){case 0:return n=t()(e.rowDataCopy),a={CONCOB:e.filter.concob,CONDES:e.filter.condes},o.n=1,(0,Eo.A)({keys:a,data:n});case 1:return r=o.v,e.rowData=r,o.n=2,e.seleccionarConceptosTodos();case 2:return o.a(2)}},o)}))()},gatActiveTabs:function(e){var o=e.target.parentElement.children;if(o.length>0){var n=e.target.attributes.tabsItem.textContent.trim();for(var a in this.tabsActive)this.tabsActive[a]=a===n;Array.from(o).map(function(e){e.attributes.tabsItem.textContent.trim()===n?e.attributes.active.textContent="active":e.attributes.active.textContent=""})}},bloquearPersonas:function(){this.$router.push({name:"tesoreria.procesoEnvioDeudasBanco.bloquear",query:{numcta:this.numcta,bancoCod:this.bancoCod,bancoNombre:this.bancoNombre,nombreServicio:this.nombreServicio}})},crearBotones:function(){this.botones=[],this.botones.push({label:"Bloquear",icon:"block-icon",click:this.bloquearPersonas,minAcceso:Fe["default"].LECTURA_ESCRITURA}),this.show([3])||this.botones.push({label:"Conceptos",icon:"verified",click:this.open,minAcceso:Fe["default"].LECTURA_ESCRITURA}),this.bancoCod===this.KASHIO?this.botones.push({label:"Enviar",icon:"send",click:this.procesarDeudasKashio,minAcceso:Fe["default"].LECTURA_ESCRITURA}):(this.cobroAutomatico&&this.botones.push({label:"Asignar",icon:"group_add",click:this.agregarPagoAutomatico,minAcceso:Fe["default"].LECTURA_ESCRITURA}),this.botones.push({label:this.btnProcesar,icon:"settings",click:this.procesar,minAcceso:Fe["default"].LECTURA_ESCRITURA}),this.botones.push({label:"Guardar",icon:"cloud_download",click:this.descargar,minAcceso:Fe["default"].LECTURA_ESCRITURA}))},agregarPagoAutomatico:function(){var e=this;return ae()(oe()().m(function o(){return oe()().w(function(o){while(1)switch(o.n){case 0:return e.personaSearchModal="",e.openModalCA=!0,e.storeSeleccionados=[],o.n=1,e.getDataClientes();case 1:return o.a(2)}},o)}))()},seleccionarAsignados:function(){var e=this;return ae()(oe()().m(function o(){return oe()().w(function(o){while(1)switch(o.n){case 0:setTimeout(function(){e.apiModal&&e.apiModal.forEachNode&&e.apiModal.forEachNode(function(e){e.setSelected(1===Number(e.data.ASIGNADO))})},1);case 1:return o.a(2)}},o)}))()},filtrosPersona:function(){var e=this;return ae()(oe()().m(function o(){var n,a,r;return oe()().w(function(o){while(1)switch(o.n){case 0:return n=t()(e.rowDataModalCopy),e.storeSeleccionados=[].concat(t()(e.storeSeleccionados),t()(e.apiModal.getSelectedRows())),a={NOMBRE:e.personaSearchModal},o.n=1,(0,Eo.A)({keys:a,data:n});case 1:r=o.v,e.rowDataModal=r,e.seleccionarAsignados();case 2:return o.a(2)}},o)}))()},changePerfiles:function(){var e=this;return ae()(oe()().m(function o(){return oe()().w(function(o){while(1)switch(o.n){case 0:e.storeSeleccionados=[].concat(t()(e.storeSeleccionados),t()(e.apiModal.getSelectedRows())),e.getDataClientes();case 1:return o.a(2)}},o)}))()},getDataClientes:function(){var e=arguments,o=this;return ae()(oe()().m(function n(){var a,r,i;return oe()().w(function(n){while(1)switch(n.n){case 0:return a=e.length>0&&void 0!==e[0]?e[0]:null,r={personaBanco:!0,id_perfil:o.selectPerfil,numcta:o.numcta,asignado:!0===a?1:null},n.n=1,ie.$http.get("api/personaController/getPersonasBanco",{params:{params:r}});case 1:return i=n.v,o.rowDataModal=i,o.rowDataModalCopy=t()(i),n.n=2,o.seleccionarAsignados();case 2:return n.a(2)}},n)}))()},procesar:function(){var e=this;return ae()(oe()().m(function o(){var n,a;return oe()().w(function(o){while(1)switch(o.n){case 0:if(n=Object.assign(e.$refs.banco.getForm(),e.$refs.filter.getForm()),n.id_ctaservicio=e.selectServicio,n.tipo_proceso="view",!e.cobroAutomatico){o.n=3;break}return o.n=1,e.getDataClientes(!0);case 1:if(a=e.rowDataModal.filter(function(e){return 1===e.ASIGNADO}),a&&0!==a.length){o.n=2;break}return o.a(2,e.$alert("No existen alumnos asignados para débito automático","warning"));case 2:n.id_persona=a.map(function(e){return e.ID_PERSONA});case 3:e.$q.loading.show(),ie.$http.get("api/bancoController/getDeudasBanco",{params:{datos:n}}).then(function(o){e.$q.loading.hide(),e.lblRegistros=o.rows&&o.rows>0?"Registros: "+o.rows:"Registros",e.textBanco=o.texto,e.archivo_exportar=o&&o.filename?o.filename:""}).catch(function(o){var n=o.error;e.$q.loading.hide(),e.$alert(n.message,"warning")});case 4:return o.a(2)}},o)}))()},createHidden:function(e,o){var n=document.createElement("input");return n.setAttribute("type","hidden"),n.setAttribute("name",e),n.setAttribute("id",e),n.setAttribute("value",o),n},descargarArchivoSimpleInterbank:function(e){var o=this;return ae()(oe()().m(function n(){var a,r,i,l,c,s,u;return oe()().w(function(n){while(1)switch(n.n){case 0:return e.id_ctaservicio=o.selectServicio,e.tipo_proceso="download",e.moncod=o.moneda,n.n=1,ie.$http.get("api/bancoController/getBancoArchivo",{params:{parametros:{id_bancoser:o.id_bancoser}}});case 1:return a=n.v,n.n=2,ie.$http.get("api/bancoController/getCtaServicios",{params:{parametros:{numcta:o.numcta}}});case 2:if(r=n.v,0!==r.length){n.n=3;break}o.$alert("No están configurados los campos de archivo para la modalidad SIMPLE.","warning"),n.n=4;break;case 3:return i=t()(a),l=i[0],c=t()(r),s=c[0],u=document.getElementById("form"),u.setAttribute("target","_blank"),u.setAttribute("method","POST"),u.setAttribute("action","/webservice/servicios-tesoreria/archivo-cobro-simple-interbank"),u.children.anocob?u.children.anocob.value=e.anio:u.appendChild(o.createHidden("anocob",e.anio)),u.children.filtroAnio?u.children.filtroAnio.value=e.deuda:u.appendChild(o.createHidden("filtroAnio",e.deuda)),u.children.id_ctaservicio?u.children.id_ctaservicio.value=e.id_ctaservicio:u.appendChild(o.createHidden("id_ctaservicio",e.id_ctaservicio)),u.children.orden?u.children.orden.value=e.orden:u.appendChild(o.createHidden("orden",e.orden)),u.children.moncod?u.children.moncod.value=e.moncod:u.appendChild(o.createHidden("moncod",e.moncod)),u.children.codigo?u.children.codigo.value=l.VALOR:u.appendChild(o.createHidden("codigo",l.VALOR)),u.children.nombre_archivo?u.children.nombre_archivo.value=s.NOMBRE_ARCHIVO:u.appendChild(o.createHidden("nombre_archivo",s.NOMBRE_ARCHIVO)),u.submit(),n.n=4,o.guardarUltimaFechaDeEnvio();case 4:return n.a(2)}},n)}))()},descargarArchivoXlsCajaHuancayo:function(e){var o=this;return ae()(oe()().m(function n(){var a,r,i,l,c,s,u;return oe()().w(function(n){while(1)switch(n.n){case 0:return e.id_ctaservicio=o.selectServicio,e.tipo_proceso="download",e.moncod=o.moneda,n.n=1,ie.$http.get("api/bancoController/getBancoArchivo",{params:{parametros:{id_bancoser:o.id_bancoser}}});case 1:return a=n.v,n.n=2,ie.$http.get("api/bancoController/getCtaServicios",{params:{parametros:{numcta:o.numcta}}});case 2:if(r=n.v,0!==r.length){n.n=3;break}o.$alert("No están configurados los campos de archivo para la modalidad SIMPLE.","warning"),n.n=4;break;case 3:return i=t()(a),l=i[0],c=t()(r),s=c[0],u=document.getElementById("form"),u.setAttribute("target","_blank"),u.setAttribute("method","POST"),u.setAttribute("action","/webservice/servicios-tesoreria/archivo-deudas-caja-huancayo"),u.children.anocob?u.children.anocob.value=e.anio:u.appendChild(o.createHidden("anocob",e.anio)),u.children.filtroAnio?u.children.filtroAnio.value=e.deuda:u.appendChild(o.createHidden("filtroAnio",e.deuda)),u.children.id_ctaservicio?u.children.id_ctaservicio.value=e.id_ctaservicio:u.appendChild(o.createHidden("id_ctaservicio",e.id_ctaservicio)),u.children.orden?u.children.orden.value=e.orden:u.appendChild(o.createHidden("orden",e.orden)),u.children.moncod?u.children.moncod.value=e.moncod:u.appendChild(o.createHidden("moncod",e.moncod)),u.children.codigo?u.children.codigo.value=l.VALOR:u.appendChild(o.createHidden("codigo",l.VALOR)),u.children.nombre_archivo?u.children.nombre_archivo.value=s.NOMBRE_ARCHIVO:u.appendChild(o.createHidden("nombre_archivo",s.NOMBRE_ARCHIVO)),u.children.usuario?u.children.usuario.value=o.sie.usucod:u.appendChild(o.createHidden("usuario",o.sie.usucod)),u.submit(),n.n=4,o.guardarUltimaFechaDeEnvio();case 4:return n.a(2)}},n)}))()},guardarUltimaFechaDeEnvio:function(){var e=this;return ae()(oe()().m(function o(){return oe()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,ie.$http.put("api/BancoController/putGuardarUltimaFechaDeEnvioCorreo",{params:{id_ctaservicio:e.selectServicio}});case 1:return o.a(2)}},o)}))()},descargar:function(){var e=this;return ae()(oe()().m(function o(){var n,a,t,r,i,l,c,s;return oe()().w(function(o){while(1)switch(o.p=o.n){case 0:if(n=Object.assign(e.$refs.banco.getForm(),e.$refs.filter.getForm()),n.id_ctaservicio=e.selectServicio,n.tipo_proceso="download",37!==e.id_bancoser){o.n=2;break}return o.n=1,e.descargarArchivoSimpleInterbank(n);case 1:o.n=17;break;case 2:if(18!==e.id_bancoser){o.n=4;break}return o.n=3,e.descargarArchivoXlsCajaHuancayo(n);case 3:o.n=17;break;case 4:if(26!==e.id_bancoser){o.n=8;break}return o.n=5,ie.$http.get("api/bancoController/getDeudasBanco",{params:{datos:n}});case 5:return a=o.v,t='{"name":"prueba","ruta":"'.concat(a.filename,'","tipo":"xlsx"}'),o.n=6,Fe["default"].DESCARGAR_ARCHIVO(t);case 6:return o.n=7,e.guardarUltimaFechaDeEnvio();case 7:o.n=17;break;case 8:if(40!==e.id_bancoser){o.n=13;break}return o.p=9,e.textBanco.split("\n").map(function(e){return[e.replace(/"/g,"")]}),r=e.archivo_exportar.replace(".txt",""),o.n=10,ie.$http.post("api/bancoController/postGenerarCsvCacsmm",{params:{data:e.textBanco,filename:r}});case 10:return i=o.v,l='{"name":"'.concat(r,'","ruta":"').concat(i.data.filename,'","tipo":"xlsx"}'),o.n=11,Fe["default"].DESCARGAR_ARCHIVO(l);case 11:return o.a(2,e.$alert(i.message,"success"));case 12:return o.p=12,s=o.v,o.a(2,e.$alert(s.error?s.error.message:s.message,"warning"));case 13:if(!e.cobroAutomatico){o.n=16;break}return o.n=14,e.getDataClientes(!0);case 14:if(c=e.rowDataModal.filter(function(e){return 1===e.ASIGNADO}),c&&0!==c.length){o.n=15;break}return o.a(2,e.$alert("No existen alumnos asignados para débito automático","warning"));case 15:n.id_persona=c.map(function(e){return e.ID_PERSONA});case 16:return o.n=17,ie.$http.get("api/bancoController/getDeudasBanco",{params:{datos:n}}).then(function(o){var n=o.fileName;e.bancoCod===e.BANCO_CONTINENTAL&&o.nroEnvio&&(e.nroEnvio=o.nroEnvio),e.$q.loading.hide(),e.$alert('Archivo: "'+n+'" Generado Satisfactoriamente',"success");var a=new Blob([o.texto],{type:"text/plain;charset=utf-8"});fo()(a,n),e.guardarUltimaFechaDeEnvio()}).catch(function(o){var n=o.error;e.$q.loading.hide(),e.$alert(n.message,"warning")});case 17:return o.a(2)}},o,null,[[9,12]])}))()},descargarCusco:function(e){var o=this,n=Object.assign(this.$refs.banco.getForm(),this.$refs.filter.getForm());n.id_ctaservicio=this.selectServicio,n.tipo_proceso="download",n.datoArchivo=e,ie.$http.get("api/bancoController/getDeudasBanco",{params:{datos:n}}).then(function(e){var n=e.fileName;o.bancoCod===o.BANCO_CONTINENTAL&&e.nroEnvio&&(o.nroEnvio=e.nroEnvio),o.$q.loading.hide(),o.$alert('Archivo: "'+n+'" Generado Satisfactoriamente',"success");var a=new Blob([e.texto],{type:"text/plain;charset=utf-8"});fo()(a,n)}).catch(function(e){var n=e.error;o.$q.loading.hide(),o.$alert(n.message,"warning")})},submit:function(){var e=this;return ae()(oe()().m(function o(){var n,a,t;return oe()().w(function(o){while(1)switch(o.p=o.n){case 0:if(n=e.rowData.filter(function(e){return Object.keys(e).includes("ESTADO")}),!(n.length<=0)){o.n=1;break}return o.a(2,e.$alert("No hay registros para actualizar.","warning"));case 1:return a=n.map(function(o){var n={id_ctaservicio:e.selectServicio,concob:o.CONCOB,agrupador:o.SERVICIO,activo:o.ESTADO?o.ESTADO:0,morafija:o&&o.MORAFIJA?Number(o.MORAFIJA):Number(0),autogenerado:o&&o.AUTOGENERADO?Number(o.AUTOGENERADO):Number(0),mescob:o&&o.MESCOB?Number(o.MESCOB):Number(0),anocob:o&&o.ANOCOB?Number(o.ANOCOB):Number(0)};return n}),o.p=2,e.$q.loading.show(),o.n=3,ie.$http.put("api/bancoController/putCtaConcepto",{datos:a});case 3:t=o.v,e.$q.loading.hide(),e.$alert(t.message,"success"),e.openModal=!1,o.n=5;break;case 4:o.p=4,o.v,e.$q.loading.hide(),e.$alert("Ha ocurrido un problema con la conexión.","warning");case 5:return o.a(2)}},o,null,[[2,4]])}))()},registrarCobroAutomatico:function(){var e=this;return ae()(oe()().m(function o(){var n,a;return oe()().w(function(o){while(1)switch(o.n){case 0:n={numcta:e.numcta,fecreg:(0,Le.Ay)(new Date,"YYYY-MM-DD"),usucod:e.sie.usucod,registros:[]},a={},n.registros=t()(new Set([].concat(t()(e.apiModal.getSelectedRows()),t()(e.storeSeleccionados)))).map(function(e){return Z()(Z()({},e),{},{TIPO:1})}).filter(function(e){return!a[e.ID_PERSONA]&&(a[e.ID_PERSONA]=e.ID_PERSONA,!0)}),0===e.apiModal.getSelectedRows().length&&(n.registros=[]),e.$confirm("¿Esta seguro de asignar el cobro automático a estos clientes?","info").onOk(ae()(oe()().m(function o(){var a,t;return oe()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,e.$q.loading.show(),o.n=1,ie.$http.post("api/bancoController/postCobroAutomatico",{datos:n});case 1:a=o.v,e.$alert(a.message,"success"),e.openModalCA=!1,e.$q.loading.hide(),o.n=3;break;case 2:return o.p=2,t=o.v,o.a(2,e.$alert(t.error?t.error.message:t.message,"warning"));case 3:return o.a(2)}},o,null,[[0,2]])})));case 1:return o.a(2)}},o)}))()},open:function(){var e=this;return ae()(oe()().m(function o(){return oe()().w(function(o){while(1)switch(o.n){case 0:return e.openModal=!0,e.filter.concob="",o.n=1,e.getConceptosEstados();case 1:return o.a(2)}},o)}))()},getConceptosEstados:function(){var e=this;return ae()(oe()().m(function o(){var n,a,t,r,i;return oe()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,ie.$http.get("api/bancoController/getConceptosCtaBanco",{params:{parametros:{vjson:!0,id_ctaservicio:e.selectServicio}}});case 1:return n=o.v,o.n=2,ie.$http.get("api/bancoController/getCtaServicios",{params:{parametros:{id_ctaservicio:e.selectServicio}}});case 2:return a=o.v,t=J()(a,1),r=t[0],e.MORA_FIJA=r&&Object.keys(r).includes("USA_MORAFIJA")&&1===Number(r.USA_MORAFIJA),e.AUTOGENERADO=r&&Object.keys(r).includes("AUTOGENERADO")&&1===Number(r.AUTOGENERADO),e.anchoModalCon=r&&Object.keys(r).includes("AUTOGENERADO")&&1===Number(r.AUTOGENERADO)?"760px":"515px",e.columnsConceptos(),i=(0,so["default"])(n),e.rowData=i,e.filter.condes="",e.rowDataCopy=i,o.a(2,i)}},o)}))()},onGridReady:function(e){this.api=e.api},onGridReadyModal:function(e){this.apiModal=e.api},onGridReadyKashio:function(e){this.apiKashio=e.api,this.columnsKashio()},columnsKashio:function(){this.columnDefsKashio=[{headerName:"Código",field:"CODIGO",sortable:!0,width:90},{headerName:"Nombre",field:"NOMBRE",sortable:!0,width:260,resizable:!0},{headerName:"Concepto",field:"CONCEPTO",sortable:!0,width:230,resizable:!0},{headerName:"Fecha de Vencimiento",field:"FECVEN",width:150,valueFormatter:function(e){return(0,Le.Ay)(e.value,"DD/MM/YYYY")}},{headerName:"Moneda",field:"MONSIG",width:50,cellClass:"text-right",resizable:!0},{headerName:"Monto",field:"MONTOPEN",width:100,valueFormatter:go.toFixed,cellClass:"text-right"},{headerName:"Mora",field:"MONTOMOR",width:100,valueFormatter:go.toFixed,cellClass:"text-right"},{headerName:"Estado",field:"ESTADO",width:120}]},show:function(e){return e.includes(this.selectBancoServicio)},getNumeroServicioOpenPay:function(){return ae()(oe()().m(function e(){var o,n,a;return oe()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,ie.$http.get("api/bancoController/getNumeroServicio");case 1:if(o=e.v,!(o.length>0)){e.n=2;break}return n=J()(o,1),a=n[0],e.a(2,a&&a.NRO_OPER?a.NRO_OPER:Fe["default"].DEFAULT_NRO_SERVICIO);case 2:return e.a(2,Fe["default"].DEFAULT_NRO_SERVICIO)}},e)}))()},getServicio:function(e){var o=this;return ae()(oe()().m(function n(){var a;return oe()().w(function(n){while(1)switch(n.n){case 0:return o.crearBotones(),o.lblRegistros="Registros",o.selectServicio=o.selectServicio.length>0?o.selectServicio:e,a=9,n.n=1,ie.$http.get("api/bancoController/getCtaServicios",{params:{parametros:{response:"combo2",id_ctaservicio:e}}}).then(function(e){if(0!==e.length){var n=t()(e),r=n[0];o.bancoCod=r.BANCOD,o.numcta=r.NUMCTA,o.bancoNombre=r.ABREVIATURA,o.nombreServicio=r.NOMBRE,o.id_bancoser=r.ID_BANCOSER,o.nroEnvio=r.NRO_ENVIO,o.codClase=r.COD_CLASE,o.bancoCod===Fe["default"].BANCOS.BBVA&&(o.$refs.filter.nroEnvio=r.NRO_ENVIO,o.$refs.filter.codClase=r.COD_CLASE),o.moneda=r.MONCOD?r.MONCOD:Fe["default"].MONEDA_LOCAL,o.selectBancoServicio=r.ID_BANCOSER,o.cobroAutomatico=r.ID_BANCOSER===a,o.$nextTick(function(){o.$refs.banco&&(o.$refs.banco.selectFilterAnio=r.FILTRO_DEUDA)})}});case 1:if(o.bancoCod!==o.OPENPAY){n.n=3;break}return o.setApiServicios(),o.title="Configuración Openpay",n.n=2,o.getNumeroServicioOpenPay();case 2:o.nuevoCorrelativo=n.v,o.correlativoInicial=o.nuevoCorrelativo;case 3:if(o.bancoCod===o.PAGO_EFECTIVO&&(o.setApiServicios(),o.title="Configuración Pago Efectivo"),o.bancoCod!==o.KASHIO){n.n=4;break}return o.columnsKashio(),n.n=4,o.getDeudasKashio();case 4:o.textBanco="",o.crearBotones();case 5:return n.a(2)}},n)}))()},insertarServicios:function(){var e=this;return ae()(oe()().m(function o(){return oe()().w(function(o){while(1)switch(o.n){case 0:e.$confirm("¿Desea actualizar la información?","info").onOk(ae()(oe()().m(function o(){var n,a;return oe()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,e.ERPSERVICIOS["ID_ERP"]=e.bancoCod===e.OPENPAY?Fe["default"].ERP_PAGO.OPENPAY:Fe["default"].ERP_PAGO.PAGO_EFECTIVO,e.ERPSERVICIOS["BANCOD"]=e.bancoCod,o.n=1,ie.$http.post("api/bancoController/postServicios",{datos:{banco:e.CTA_BANCO,servicio:e.ERPSERVICIOS,bancod:e.bancoCod}});case 1:n=o.v,e.$alert(n.message,"success"),e.setApiServicios(),o.n=3;break;case 2:o.p=2,a=o.v,e.$alert(a.error.message,"warning");case 3:return o.a(2)}},o,null,[[0,2]])})));case 1:return o.a(2)}},o)}))()},updateServicios:function(){var e=this;return ae()(oe()().m(function o(){return oe()().w(function(o){while(1)switch(o.n){case 0:e.$confirm("¿Desea actualizar la información?","info").onOk(ae()(oe()().m(function o(){var n,a,t;return oe()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,n={banco:e.CTA_BANCO,servicio:e.ERPSERVICIOS,bancod:e.bancoCod},e.nuevoCorrelativo!==e.correlativoInicial&&e.nuevoCorrelativo&&e.nuevoCorrelativo>0&&e.bancoCod===e.OPENPAY&&(n.correlativo=e.nuevoCorrelativo),o.n=1,ie.$http.put("api/bancoController/putServicios",{datos:n});case 1:a=o.v,e.$alert(a.message,"success"),e.setApiServicios(),o.n=3;break;case 2:o.p=2,t=o.v,e.$alert(t.error.message,"warning");case 3:return o.a(2)}},o,null,[[0,2]])})));case 1:return o.a(2)}},o)}))()},submitApiServicios:function(){var e=this;return ae()(oe()().m(function o(){return oe()().w(function(o){while(1)switch(o.n){case 0:if(!e.ERPSERVICIOS.ID_SERVICIO){o.n=1;break}return o.a(2,e.updateServicios());case 1:return o.a(2,e.insertarServicios())}},o)}))()},setDataServicios:function(e){var o=this;return ae()(oe()().m(function n(){var a,t,r;return oe()().w(function(n){while(1)switch(n.n){case 0:o.dataApi=[],a=W()(e);try{for(a.s();!(t=a.n()).done;)r=t.value,o.dataApi.push({label:"".concat(r.ID_SERVICIO," ").concat(r.DESCRIPCION," ").concat(r.SERVICIO),value:r.ID_SERVICIO})}catch(e){a.e(e)}finally{a.f()}case 1:return n.a(2)}},n)}))()},setApiServicios:function(){var e=this;return ae()(oe()().m(function o(){var n,a,t,r,i;return oe()().w(function(o){while(1)switch(o.p=o.n){case 0:if([e.PAGO_EFECTIVO,e.OPENPAY].includes(e.bancoCod)){o.n=1;break}return e.crearBotones(),e.tabsActive={config:!0,servicio:!1,banco:!1},o.a(2,!0);case 1:return o.p=1,o.n=2,ie.$http.get("api/bancoController/getCtaServicios",{params:{parametros:{response:"combo2",bancod:e.bancoCod}}});case 2:return e.dataCtaBan=o.v,o.n=3,ie.$http.get("api/bancoController/getServiciosApis",{params:{datos:{bancod:e.bancoCod}}});case 3:n=o.v,a=n.SERVICIOS_PAGO,t=n.CTA_BANCO,r=n.ERPSERVICIOS,e.ERPSERVICIOS={ID_SERVICIO:"",SERVICIO:"",LLAVE_SEGURIDAD:"",LLAVE_ACCESO:"",EMAIL:"",PVERSION:""},e.SERVICIOS_PAGO={},e.CTA_BANCO={},"undefined"!==typeof n.ERPSERVICIOS&&(e.ERPSERVICIOS=r,e.setDataServicios([r])),a&&(e.SERVICIOS_PAGO=a),t&&(e.CTA_BANCO=t),e.botones=[{label:"Bloquear",icon:"block-icon",click:e.bloquearPersonas,minAcceso:Fe["default"].LECTURA_ESCRITURA},{label:"Guardar",icon:"save",click:e.submitApiServicios,minAcceso:Fe["default"].LECTURA_ESCRITURA}],e.show([3])||e.botones.splice(1,0,{label:"Concepto",icon:"verified",click:e.open,minAcceso:Fe["default"].LECTURA_ESCRITURA}),o.n=5;break;case 4:o.p=4,i=o.v,e.$alert(i.error.message,"warning");case 5:return o.a(2)}},o,null,[[1,4]])}))()},columnsConceptos:function(){var e=[{headerName:"Código",field:"CONCOB",sortable:!0,width:70},{headerName:"Concepto",field:"CONDES",sortable:!0,width:230},{headerName:"Servicio",field:"SERVICIO",editable:!0,width:80}];this.MORA_FIJA&&e.push({headerName:"Mora Fija",field:"MORAFIJA",editable:!0,valueFormatter:go.toFixed,cellClass:"text-right",decimales:2,width:80}),e.push({headerName:"Activo",field:"ESTADO",cellRenderer:co.A,cellRendererParams:{tValue:1,fValue:0},width:70}),this.AUTOGENERADO&&(e.push({headerName:"Año",field:"ANOCOB",editable:!0,cellClass:"text-right",width:80}),e.push({headerName:"Mes",field:"MESCOB",editable:!0,cellClass:"text-right",width:80}),e.push({headerName:"Auto G.",field:"AUTOGENERADO",cellRenderer:co.A,cellRendererParams:{tValue:1,fValue:0},width:85})),this.columnDefs=e}},computed:{display:function(){var e=this.$q.platform.is.mobile;return e&&this.api&&this.api.sizeColumnsToFit(),e}},beforeMount:function(){var e=this;return ae()(oe()().m(function o(){return oe()().w(function(o){while(1)switch(o.n){case 0:ie.$http.get("api/personaController/getPerfiles").then(function(o){e.perfil=o}),e.frameworkComponents={checkbox:co.A},e.frameworkComponentsKashio={checkbox:co.A},e.columnsConceptos(),e.columnsKashio();case 1:return o.a(2)}},o)}))()},mounted:function(){var e=this;return ae()(oe()().m(function o(){var n,a,r,i;return oe()().w(function(o){while(1)switch(o.n){case 0:return e.getAnios(),o.n=1,ie.$http.get("api/bancoController/getCtaServicios",{params:{parametros:{response:"combo2"}}});case 1:if(n=o.v,0===n.length){o.n=3;break}return e.servicio=n,a=t()(n),r=a[0],e.getServicio(r.ID_CTASERVICIO),e.frameworkComponentsModal={agSelect:po.A,actionButton:ho.A},o.n=2,ie.$http.get("api/EstadoTablaController/getEstadoTabla",{params:{parametros:{CODIGO:"0060"}}});case 2:i=o.v,e.columnDefsModal=[{headerName:"Código",field:"CODIGO",width:80},{headerName:"Apellidos y Nombres",field:"NOMBRE",width:270},{headerName:"Tipo",field:"MOTIVO",editable:!0,cellEditor:(0,mo.A)(e,"MOTIVO",!1,"columnDefsModal"),cellEditorParams:{"option-label":"VALOR","option-value":"CLAVE",options:i},hide:!0,width:100}],o.n=4;break;case 3:e.$alert("No existen servicios bancarios configurados","warning");case 4:return o.a(2)}},o)}))()}};const Io=(0,he.A)(So,[["render",H]]);var wo=Io}}]);