"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[68384],{68384:function(e,a,o){o.r(a),o.d(a,{default:function(){return U}});var s=o(61758),t=o(58790),l={class:"col-xs-12 col-md-6"},i={class:"row"},n={class:"col-xs-6"},r={class:"col-xs-6"},u={class:"row"},c={class:"col-xs-6 col-md-4"},d={class:"col-xs-6 col-md-4"},f={class:"col-xs-12 col-md-4"},p={class:"row justify-center"};function m(e,a){var o=(0,s.g2)("q-datetime"),m=(0,s.g2)("q-select"),b=(0,s.g2)("sie-select"),v=(0,s.g2)("q-btn"),h=(0,s.g2)("q-card"),k=(0,s.g2)("q-page");return(0,s.uX)(),(0,s.Wv)(k,{class:(0,t.C4)(["usoMensajeriaGeneral column",e.isLess?"bg-white":""])},{default:(0,s.k6)(function(){return[(0,s.Lk)("div",{class:(0,t.C4)(["row col justify-center",e.isLess?"":"items-center"])},[(0,s.Lk)("div",l,[(0,s.bF)(h,{class:(0,t.C4)(["q-px-md q-py-lg",e.isLess?"no-shadow":""])},{default:(0,s.k6)(function(){return[(0,s.Lk)("div",i,[(0,s.Lk)("div",n,[(0,s.bF)(o,{class:"q-if-outlined",modelValue:e.desde,"onUpdate:modelValue":a[0]||(a[0]=function(a){return e.desde=a}),type:"date",format:"DD/MM/YYYY","float-label":e.$t("desde")},null,8,["modelValue","float-label"])]),(0,s.Lk)("div",r,[(0,s.bF)(o,{class:"q-if-outlined",modelValue:e.hasta,"onUpdate:modelValue":a[1]||(a[1]=function(a){return e.hasta=a}),type:"date",format:"DD/MM/YYYY","float-label":e.$t("hasta")},null,8,["modelValue","float-label"])])]),(0,s.Lk)("div",u,[(0,s.Lk)("div",c,[(0,s.bF)(m,{class:"q-if-outlined",modelValue:e.envia,"onUpdate:modelValue":a[2]||(a[2]=function(a){return e.envia=a}),options:e.tEnvia,"float-label":e.$t("tipo")},null,8,["modelValue","options","float-label"])]),(0,s.Lk)("div",d,[(0,s.bF)(b,{type:"outlined",modelValue:e.perfil,"onUpdate:modelValue":a[3]||(a[3]=function(a){return e.perfil=a}),options:e.perfiles,onSelected:e.seleccionarPerfil,label:"TIPNOM",placeholder:"navbar.perfil"},null,8,["modelValue","options","onSelected"])]),(0,s.Lk)("div",f,[(0,s.bF)(b,{type:"outlined",modelValue:e.usuario,"onUpdate:modelValue":a[4]||(a[4]=function(a){return e.usuario=a}),options:e.usuarios,label:"USUNOM",placeholder:"usuario.nombre"},null,8,["modelValue","options"])])]),(0,s.Lk)("div",p,[(0,s.bF)(v,{class:"q-mx-xs",icon:"file_pdf",color:"secondary",onClick:a[5]||(a[5]=function(a){return e.imprimir("pdf")}),label:"PDF"}),(0,s.bF)(v,{class:"q-mx-xs",icon:"file_excel",color:"secondary",onClick:a[6]||(a[6]=function(a){return e.imprimir("xls")}),label:"EXCEL"})])]}),_:1},8,["class"])])],2)]}),_:1},8,["class"])}o(68017);var b=o(6123),v=o(57668),h=o(73922),k=o(93616),D=o(80660),L=o(81288),Y={components:{QSelect:b.Si,QDatetime:b.T5,QPageSticky:b._U,sieInfo:v["default"],sieSelect:k.A,QPage:b.Tu,QCard:b.C$,QBtn:b.Il},data:function(){return{desde:new Date((new Date).setDate(1)),hasta:new Date,tEnvia:[{label:"Recibidos",value:"recibidos"},{label:"Enviados",value:"enviados"}],envia:"",perfiles:[],perfil:{},usuarios:[],usuario:{}}},computed:{isLess:function(){return(0,L.isLess)()},parametros:function(){var e={cbotipousu:this.perfil.TIPCOD,fecha_de:b.p6.formatDate(this.desde,"DD/MM/YYYY"),fecha_hasta:b.p6.formatDate(this.hasta,"DD/MM/YYYY"),cbousuario:this.usuario.USUCOD,cbotipomensaje:this.envia,de:this.usuario.USUNOM,ano:(0,v["default"])().ano,usunom:(0,v["default"])().nombre.trim(),formato:"pdf"};return e}},methods:{init:function(){var e=this;this.envia=this.tEnvia[0].value,D.$http.get("api/HyoPerfiles/obtPerfilesExistentes",{params:{unicos:"s"}}).then(function(a){var o=a.json;e.perfiles=o,e.perfil=e.perfiles[0],e.seleccionarPerfil(e.perfil)})},seleccionarPerfil:function(e){var a=this,o={tipcod:e.TIPCOD,todos:"n"};D.$http.get("api/HyoUsuario/obtUsuariosporPerfil",{params:o}).then(function(e){var o=e.json;a.usuarios=o,a.usuario=a.usuarios[0]})},imprimir:function(e){(0,h["default"])({parametros:this.parametros,metodo:"POST",nombre:"reporte",url:(0,v["default"])().url+"/intranet/reporte-mensajes-mensajeria/reportemensajeria",formatoTipo:"formato",formato:e,tipo:(0,L.isLess)()?"download":"vista"})}},created:function(){this.init()}},V=o(12807);const x=(0,V.A)(Y,[["render",m]]);var U=x}}]);