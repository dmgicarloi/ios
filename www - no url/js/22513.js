"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[22513],{22513:function(e,t,s){s.r(t),s.d(t,{default:function(){return P}});var o=s(61758),l=s(58790),n={class:"row q-px-md q-pt-md"},a={class:"col-xs-12 col-md-6"},i={class:"col-xs-6 col-md-3"},r={class:"col-xs-6 col-md-3"},u={class:"row q-px-md"},c={class:"col-xs-12"};function f(e,t){var s=(0,o.g2)("q-search"),f=(0,o.g2)("q-checkbox"),p=(0,o.g2)("q-select"),d=(0,o.g2)("q-td"),b=(0,o.g2)("q-tr"),h=(0,o.g2)("q-table"),m=(0,o.g2)("q-page");return(0,o.uX)(),(0,o.Wv)(m,{class:"usuariosSistema bg-white"},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",n,[(0,o.Lk)("div",a,[(0,o.bF)(s,{class:"q-if-outlined",modelValue:e.filtro,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.filtro=t})},null,8,["modelValue"])]),(0,o.Lk)("div",i,[(0,o.bF)(f,{class:"q-if-outlined",modelValue:e.sesion,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.sesion=t}),label:"(Sin cerrar sesi√≥n)",onInput:e.objtAccesosFecha},null,8,["modelValue","onInput"])]),(0,o.Lk)("div",r,[(0,o.bF)(p,{class:"q-if-outlined",modelValue:e.perfil,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.perfil=t}),options:e.perfiles,"float-label":e.$t("seguridad.perfiles")},null,8,["modelValue","options","float-label"])])]),(0,o.Lk)("div",u,[(0,o.Lk)("div",c,[(0,o.bF)(h,{"table-style":"height: 70vh",pagination:e.pagination,"onUpdate:pagination":t[3]||(t[3]=function(t){return e.pagination=t}),data:e.usuarios,columns:e.columnas,"row-key":"name"},{body:(0,o.k6)(function(t){return[(0,o.bF)(b,{class:"cursor-pointer",props:t},{default:(0,o.k6)(function(){return[(0,o.bF)(d,{key:"TIPCOD",props:t},{default:(0,o.k6)(function(){return[(0,o.eW)((0,l.v_)(t.row.TIPCOD),1)]}),_:2},1032,["props"]),(0,o.bF)(d,{key:"TIPNOM",props:t},{default:(0,o.k6)(function(){return[(0,o.eW)((0,l.v_)(t.row.TIPNOM),1)]}),_:2},1032,["props"]),(0,o.bF)(d,{key:"USUNOM",props:t},{default:(0,o.k6)(function(){return[(0,o.eW)((0,l.v_)(t.row.USUNOM),1)]}),_:2},1032,["props"]),(0,o.bF)(d,{key:"FECACC",props:t},{default:(0,o.k6)(function(){return[(0,o.eW)((0,l.v_)(e.date(t.row.FECACC,"DD/MM/YYYY")),1)]}),_:2},1032,["props"]),(0,o.bF)(d,{key:"DIREIP",props:t},{default:(0,o.k6)(function(){return[(0,o.eW)((0,l.v_)(t.row.DIREIP),1)]}),_:2},1032,["props"])]}),_:2},1032,["props"])]}),_:1},8,["pagination","data","columns"])])])]}),_:1})}var p=s(6123),d=s(57668),b=s(80660),h=s(18105),m=s(33001),g=s(13813),k={components:{sieInfo:d["default"],QTable:p.kH,QTh:p.EJ,QTr:p.qh,QTd:p.Ef,QTableColumns:p.$s,QSearch:p.Ks,QCheckbox:p.vZ,QSelect:p.Si,QPage:p.Tu},data:function(){return{perfiles:[],perfil:"T",usuariosTemp:[],columnas:[{name:"TIPCOD",label:this.$t("codigo"),field:"TIPCOD",align:"center",sortable:!0},{name:"TIPNOM",label:this.$t("tipo"),field:"TIPNOM",align:"left",sortable:!0},{name:"USUNOM",label:this.$t("apellidosynombres"),field:"USUNOM",align:"left",sortable:!0},{name:"FECACC",label:this.$t("Fecha Ing."),field:"FECACC",align:"left",sortable:!0},{name:"DIREIP",label:this.$t("IP"),field:"DIREIP",align:"left",sortable:!0}],pagination:{page:1,rowsPerPage:50},filtro:"",sesion:!1}},computed:{usuarios:function(){var e=this.usuariosTemp;return"T"!==this.perfil&&(e=(0,m.filterArray)(this.perfil,{field:"TIPCOD",list:e})),""!==this.filtro&&(e=(0,m.filterArray)(this.filtro,{field:"USUNOM",list:e})),e}},methods:{date:h.Ay,objtAccesosFecha:function(){var e=this,t={sesionOpen:this.sesion};b.$http.get("api/HyoWaccesos/obtAccesosFecha",{params:t}).then(function(t){var s=t.json;e.usuariosTemp=s})},obtPerfilesExistentes:function(){var e=this;b.$http.get("api/HyoPerfiles/obtPerfilesExistentes",{params:{unicos:!0}}).then(function(t){var s=t.json;s.unshift({TIPCOD:"T",TIPNOM:"Todos"}),e.perfiles=(0,g["default"])(s,function(e){return{label:e.TIPNOM,value:e.TIPCOD}})})}},created:function(){this.obtPerfilesExistentes(),this.objtAccesosFecha()}},I=s(12807);const T=(0,I.A)(k,[["render",f]]);var P=T}}]);