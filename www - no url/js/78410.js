"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[78410],{78410:function(e,t,o){o.r(t),o.d(t,{default:function(){return v}});var a=o(61758),l={class:"row col"},n={class:"col column"},i={class:"row"},c={class:"col-xs-12 col-md-6"},r={class:"col-xs-12 col-md-3"},s={class:"col-xs-12 col-md-3"};function d(e,t){var o=(0,a.g2)("sie-articulos"),d=(0,a.g2)("q-select"),u=(0,a.g2)("q-card-main"),m=(0,a.g2)("q-card"),f=(0,a.g2)("sie-pdf"),p=(0,a.g2)("q-page");return(0,a.uX)(),(0,a.Wv)(p,{class:"q-pa-xs"},{default:(0,a.k6)(function(){return[(0,a.Lk)("div",l,[(0,a.Lk)("div",n,[(0,a.bF)(m,{class:"q-mb-xs column"},{default:(0,a.k6)(function(){return[(0,a.bF)(u,null,{default:(0,a.k6)(function(){return[(0,a.Lk)("div",i,[(0,a.Lk)("div",c,[(0,a.bF)(o,{todos:!0,modelValue:e.form.idproducto,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.form.idproducto=t}),onSeleccionar:e.productoSeleccionado},null,8,["modelValue","onSeleccionar"])]),(0,a.Lk)("div",r,[(0,a.bF)(d,{class:"q-if-outlined",onInput:e.filterKardex,modelValue:e.selectMonth,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.selectMonth=t}),options:e.months,"float-label":"Seleccionar mes"},null,8,["onInput","modelValue","options"])]),(0,a.Lk)("div",s,[(0,a.bF)(d,{class:"q-if-outlined",onInput:e.filterKardex,modelValue:e.selectYear,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.selectYear=t}),options:e.years,"float-label":"Seleccionar año"},null,8,["onInput","modelValue","options"])])])]}),_:1})]}),_:1}),e.urlreporte?((0,a.uX)(),(0,a.Wv)(f,{key:0,class:"col",src:e.urlreporte},null,8,["src"])):(0,a.Q3)("v-if",!0)])])]}),_:1})}o(30683),o(70199);var u=o(6123),m=o(43136),f=o(58790);function p(e,t){var o=(0,a.g2)("sie-select");return(0,a.uX)(),(0,a.CE)("div",{class:(0,f.C4)({"sie-select-general":e.skin})},[(0,a.bF)(o,{modelValue:e.selected,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.selected=t}),type:"outlined",options:e.listaArticulos,label:"DESCRIPCION",val:"IDPRODUCTO",onSelected:e.seleccionar,placeholder:e.$t(e.label)},null,8,["modelValue","options","onSelected","placeholder"])],2)}o(11777);var h=o(93616),C=o(80660),b=o(6583),O={emits:["update:modelValue","input","seleccionar"],name:"sieArticulos",components:{sieSelect:h.A},mixins:[m.initialConfig],props:{fields:{type:Array,default:function(){return[]}},modelValue:{type:[String,Number],default:""},skin:{type:Boolean,default:!1},todos:{type:Boolean,default:!0},data:{type:Object,default:function(){return{}}},label:{type:String,default:"Artículo"}},data:function(){return{listaArticulos:[]}},computed:{selected:{get:function(){return Number(this.modelValue)},set:function(e){this.$emit("update:modelValue",e),this.$emit("input",e)}}},methods:{getListaArticulos:function(){var e=this;C.$http.get("api/HyoArticulos/obtArticulo",{params:{empcod:this.empcod}}).then(function(t){var o=(0,b["default"])(t);e.todos&&o.unshift({DESCRIPCION:"Todos",IDPRODUCTO:0}),e.listaArticulos=o})},seleccionar:function(e){this.$emit("seleccionar",e)}},created:function(){this.getListaArticulos()}},g=o(12807);const I=(0,g.A)(O,[["render",p]]);var A=I,S=o(84603),T=o(57668),N={components:{sieArticulos:A,siePdf:S.A,QSelect:u.Si,QPage:u.Tu,QCard:u.C$,QCardMain:u.d1},mixins:[m.initialConfig],methods:{getInfoKardex:function(e){return this.$http.get("api/HyoKardex/getInfoKardex",{params:{idproducto:e}})},productoSeleccionado:function(e){var t=this;0===e.IDPRODUCTO?this.urlreporte="".concat(this.sie.url,"/almacen/almacen/imprimir/reporte/kardex/empcod/").concat(this.empcod,"/idproducto/").concat(e.IDPRODUCTO,"/decimales/").concat(this.decimales,"/anio/").concat(this.selectYear,"/mes/").concat(this.selectMonth,"/formato/pdf?sie-token=").concat(this.sie.token):this.getInfoKardex(e.IDPRODUCTO).then(function(o){var a=(0,b["default"])(o);a.length>0&&(t.urlreporte="".concat(t.sie.url,"/almacen/almacen/imprimir/reporte/kardex/empcod/").concat(t.empcod,"/idproducto/").concat(e.IDPRODUCTO,"/decimales/").concat(t.decimales,"/anio/").concat(t.selectYear,"/mes/").concat(t.selectMonth,"/formato/pdf?sie-token=").concat(t.sie.token,"&info=").concat(encodeURIComponent(JSON.stringify(a))))})},filterKardex:function(){var e=this;0===this.form.idproducto?this.urlreporte="".concat(this.sie.url,"/almacen/almacen/imprimir/reporte/kardex/empcod/").concat(this.empcod,"/idproducto/").concat(this.form.idproducto,"/decimales/").concat(this.decimales,"/anio/").concat(this.selectYear,"/mes/").concat(this.selectMonth,"/formato/pdf?sie-token=").concat(this.sie.token):this.getInfoKardex(this.form.idproducto).then(function(t){var o=(0,b["default"])(t);o.length>0&&(e.urlreporte="".concat(e.sie.url,"/almacen/almacen/imprimir/reporte/kardex/empcod/").concat(e.empcod,"/idproducto/").concat(e.form.idproducto,"/decimales/").concat(e.decimales,"/anio/").concat(e.selectYear,"/mes/").concat(e.selectMonth,"/formato/pdf?sie-token=").concat(e.sie.token,"&info=").concat(encodeURIComponent(JSON.stringify(o))))})}},created:function(){this.months=(0,m.generarMeses)(),this.years=(0,m.generarAnios)(),this.selectYear=this.anio,this.selectMonth=this.mes,this.productoSeleccionado({IDPRODUCTO:0})},data:function(){return{urlreporte:"",dataKardex:[],filter:"",months:[],selectMonth:"",years:[],selectYear:"",form:{idproducto:0},sie:(0,T["default"])(),columns:[{name:"FECHA_EMISION",label:"Fecha",align:"center",field:"FECHA_EMISION",sortable:!0},{name:"SERIEFAC",label:"Serie",align:"left",field:"SERIEFAC",sortable:!0},{name:"CORRELATIVOFAC",label:"Correlativo",align:"left",field:"CORRELATIVOFAC",sortable:!0},{name:"NRO",label:"Nro",align:"left",field:"NRO",sortable:!0},{name:"IDTIPOPEALM",label:"Código ope.",align:"left",field:"IDTIPOPEALM",sortable:!0},{name:"OPERACION",label:"Operación",align:"left",field:"OPERACION",sortable:!0},{name:"ENTCAN",label:"Cantidad",align:"center",field:"ENTCAN",sortable:!0},{name:"ENTCOS",label:"Costo",align:"center",field:"ENTCOS",sortable:!0},{name:"ENTTOT",label:"Total",align:"center",field:"ENTTOT",sortable:!0},{name:"SALCAN",label:"Cantidad",align:"center",field:"SALCAN",sortable:!0},{name:"SALCOS",label:"Costo",align:"center",field:"SALCOS",sortable:!0},{name:"SALTOT",label:"Total",align:"center",field:"SALTOT",sortable:!0},{name:"FINCAN",label:"Cantidad",align:"center",field:"FINCAN",sortable:!0},{name:"FINCOS",label:"Costo",align:"center",field:"FINCOS",sortable:!0},{name:"FINTOT",label:"Total",align:"center",field:"FINTOT",sortable:!0}]}}};const k=(0,g.A)(N,[["render",d]]);var v=k}}]);