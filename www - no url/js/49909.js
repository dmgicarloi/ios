"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[49909],{49909:function(e,n,r){r.r(n),r.d(n,{default:function(){return ne}});r(39866);var a=r(61758),i=r(58790),o={class:"row q-col-gutter-md text-weight-thin text-bold"},l={class:"col-xs-12 col-sm-2"},t={class:"row"},s={class:"col-xs-12"},c={class:"col-xs-12"},u={class:"row"},f={class:"col-xs-12"},d={class:"col-xs-12"},b={class:"row q-col-gutter-sm q-pa-sm"},m={key:0,class:"col-xs-12"},C={key:1,class:"col-xs-12"},p={class:"col-xs-12"},E={class:"col-xs-12"},D={class:"col-xs-12"},h={key:0,class:"col-xs-12"},g={key:1,class:"col-xs-12"},N={key:0,class:"col-xs-12"},S={class:"col-xs-12"},O={key:4,class:"col-xs-12"},w={key:0,class:"col-xs-12"},U={key:1,class:"col-xs-12"},v={class:"col-xs-12"},I={class:"col-xs-12"},k={key:2,class:"col-xs-12"};function T(e,n){var r=this,T=(0,a.g2)("header-btn"),R=(0,a.g2)("sie-table"),A=(0,a.g2)("q-card-section"),L=(0,a.g2)("q-card"),V=(0,a.g2)("q-input"),B=(0,a.g2)("q-select"),P=(0,a.g2)("q-date"),M=(0,a.g2)("q-popup-proxy"),y=(0,a.g2)("q-icon"),F=(0,a.g2)("q-editor"),x=(0,a.g2)("sie-ngs"),_=(0,a.g2)("q-form"),q=(0,a.g2)("sie-modal"),Q=(0,a.g2)("q-page");return(0,a.uX)(),(0,a.Wv)(Q,{class:"biblioteca-mantenimiento-tablas q-pa-sm sie-flat"},{default:(0,a.k6)(function(){return[(0,a.bF)(L,{flat:"",bordered:""},{default:(0,a.k6)(function(){return[(0,a.bF)(T,{name:"Tablas del Sistema",auto:!1,buttons:e.buttons},null,8,["buttons"]),(0,a.bF)(A,null,{default:(0,a.k6)(function(){return[(0,a.Lk)("div",o,[(0,a.Lk)("div",l,[(0,a.bF)(R,{ref:"tabla",columns:e.fields,data:e.rows,selection:"single",config:e.config,context:r,onRowSelected:e.selectTablaSe,css:{height:"calc(100vh - 195px)"}},null,8,["columns","data","config","onRowSelected"])]),(0,a.Lk)("div",{class:(0,i.C4)(e.colsClass)},[(0,a.Lk)("div",t,[(0,a.Lk)("div",s,[["ubc"].includes(e.currentRowN1.SECUCOD)?((0,a.uX)(),(0,a.Wv)(T,{key:1,style:{visibility:"hidden"},paddingX:"",name:"",auto:!1,buttons:e.buttonsN1,border:!1},null,8,["buttons"])):((0,a.uX)(),(0,a.Wv)(T,{key:0,paddingX:"",name:"",auto:!1,buttons:e.buttonsN1,border:!1},null,8,["buttons"]))]),(0,a.Lk)("div",c,[((0,a.uX)(),(0,a.Wv)(R,{ref:"tablaN1",columns:e.fieldsN1,data:e.rowsN1,selection:"single",config:e.configN1,context:r,onRowSelected:e.selectTablaUbicacion,key:e.currentRowN1.SECUCOD,css:{height:"calc(100vh - 220px)"}},null,8,["columns","data","config","onRowSelected"]))])])],2),e.currentRowBiblioteca?((0,a.uX)(),(0,a.CE)("div",{key:0,class:(0,i.C4)(e.colsClass)},[(0,a.Lk)("div",u,[(0,a.Lk)("div",f,[(0,a.bF)(T,{paddingX:"",name:"",auto:!1,buttons:e.buttonsUbicacion},null,8,["buttons"])]),(0,a.Lk)("div",d,[(0,a.bF)(R,{ref:"tablaN1",columns:e.fieldsUbicacion,data:e.rowsUbicacion,selection:"single",config:e.configUbicacion,context:r,css:{height:"calc(100vh - 220px)"}},null,8,["columns","data","config"])])])],2)):(0,a.Q3)("v-if",!0)])]}),_:1})]}),_:1}),(0,a.bF)(q,{esc:"","esc-click":"",css:{width:"400px"},modelValue:e.openModalN1,"onUpdate:modelValue":n[16]||(n[16]=function(n){return e.openModalN1=n}),title:"Agregar ".concat(e.currentRowN1.SECUDES),onSubmit:e.guardar},{default:(0,a.k6)(function(){return[(0,a.bF)(_,{ref:"tablaN1"},{default:(0,a.k6)(function(){return[(0,a.Lk)("div",b,[["ubc","pre","prc"].includes(e.currentRowN1.SECUCOD)?(0,a.Q3)("v-if",!0):((0,a.uX)(),(0,a.CE)("div",m,[(0,a.bF)(V,{modelValue:e.form.nombre,"onUpdate:modelValue":n[0]||(n[0]=function(n){return e.form.nombre=n}),label:"Nombre",rules:[e.required],disable:"msj"===e.currentRowN1.SECUCOD},null,8,["modelValue","rules","disable"])])),"bib"===e.currentRowN1.SECUCOD?((0,a.uX)(),(0,a.CE)("div",C,[(0,a.bF)(V,{modelValue:e.form.responsable,"onUpdate:modelValue":n[1]||(n[1]=function(n){return e.form.responsable=n}),label:"Responsable",rules:[e.required]},null,8,["modelValue","rules"])])):(0,a.Q3)("v-if",!0),"prc"===e.currentRowN1.SECUCOD?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[(0,a.Lk)("div",p,[(0,a.bF)(B,{modelValue:e.form.perfil,"onUpdate:modelValue":n[2]||(n[2]=function(n){return e.form.perfil=n}),options:e.perfiles,"option-label":"TIPNOM","option-value":"TIPCOD",label:"Perfil","emit-value":""},null,8,["modelValue","options"])]),(0,a.Lk)("div",E,[(0,a.bF)(B,{modelValue:e.form.coleccion,"onUpdate:modelValue":n[3]||(n[3]=function(n){return e.form.coleccion=n}),options:r.configN1.COLECOD.options,"option-label":"COLEDES","option-value":"COLECOD",label:"Colección","emit-value":""},null,8,["modelValue","options"])]),(0,a.Lk)("div",D,[(0,a.bF)(B,{modelValue:e.form.sino,"onUpdate:modelValue":n[4]||(n[4]=function(n){return e.form.sino=n}),options:e.confirmar,label:"Calcular Fecha","emit-value":""},null,8,["modelValue","options"])]),1===e.form.sino?((0,a.uX)(),(0,a.CE)("div",h,[(0,a.bF)(V,{modelValue:e.form.nroDias,"onUpdate:modelValue":n[5]||(n[5]=function(n){return e.form.nroDias=n}),min:0,label:"N° de Días",rules:[e.required],onInput:e.validaInputDias},null,8,["modelValue","rules","onInput"])])):(0,a.Q3)("v-if",!0),0===e.form.sino?((0,a.uX)(),(0,a.CE)("div",g,[(0,a.bF)(V,{label:"Fecha Dev",debounce:"500",maxlength:"10",format:"##/##/####",modelValue:e.form.fecha,"onUpdate:modelValue":n[8]||(n[8]=function(n){return e.form.fecha=n}),mask:"##/##/####",readonly:"",rules:[e.required]},{append:(0,a.k6)(function(){return[(0,a.bF)(y,{class:"cursor-pointer",name:"date_range"},{default:(0,a.k6)(function(){return[(0,a.bF)(M,{ref:"qDateProxy","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)(function(){return[(0,a.bF)(P,{mask:"DD/MM/YYYY",modelValue:e.form.fecha,"onUpdate:modelValue":n[6]||(n[6]=function(n){return e.form.fecha=n}),onInput:n[7]||(n[7]=function(n){return e.$refs.qDateProxy.hide()})},null,8,["modelValue"])]}),_:1},512)]}),_:1})]}),_:1},8,["modelValue","rules"])])):(0,a.Q3)("v-if",!0)],64)):(0,a.Q3)("v-if",!0),["ubc"].includes(e.currentRowN1.SECUCOD)?((0,a.uX)(),(0,a.CE)(a.FK,{key:3},[e.currentRowBiblioteca?((0,a.uX)(),(0,a.CE)("div",N,[(0,a.bF)(V,{modelValue:e.currentRowBiblioteca.BIBDESC,"onUpdate:modelValue":n[9]||(n[9]=function(n){return e.currentRowBiblioteca.BIBDESC=n}),label:"Biblioteca",readonly:""},null,8,["modelValue"])])):(0,a.Q3)("v-if",!0),(0,a.Lk)("div",S,[(0,a.bF)(V,{modelValue:e.form.ubicacion,"onUpdate:modelValue":n[10]||(n[10]=function(n){return e.form.ubicacion=n}),label:"Ubicación",rules:[e.required]},null,8,["modelValue","rules"])])],64)):(0,a.Q3)("v-if",!0),"msj"===e.currentRowN1.SECUCOD?((0,a.uX)(),(0,a.CE)("div",O,[(0,a.bF)(F,{modelValue:e.form.mensaje,"onUpdate:modelValue":n[11]||(n[11]=function(n){return e.form.mensaje=n}),type:"standard"},null,8,["modelValue"])])):(0,a.Q3)("v-if",!0),"pre"===e.currentRowN1.SECUCOD?((0,a.uX)(),(0,a.CE)(a.FK,{key:5},["create"===e.action?((0,a.uX)(),(0,a.CE)("div",w,[(0,a.bF)(B,{modelValue:e.profileSelected,"onUpdate:modelValue":n[12]||(n[12]=function(n){return e.profileSelected=n}),options:e.profileOptions,label:"Perfil",onInput:e.changeProfile},null,8,["modelValue","options","onInput"])])):(0,a.Q3)("v-if",!0),"005"===e.profileSelected||"create"!=e.action?((0,a.uX)(),(0,a.CE)("div",U,[(0,a.bF)(V,{modelValue:e.form.nombre,"onUpdate:modelValue":n[13]||(n[13]=function(n){return e.form.nombre=n}),label:"Nombre",rules:[e.required]},null,8,["modelValue","rules"])])):(0,a.Q3)("v-if",!0),(0,a.Lk)("div",v,[(0,a.bF)(V,{modelValue:e.form.nroDias,"onUpdate:modelValue":n[14]||(n[14]=function(n){return e.form.nroDias=n}),type:"number",label:"N° de Días",rules:[e.required]},null,8,["modelValue","rules"])]),(0,a.Lk)("div",I,[(0,a.bF)(V,{modelValue:e.form.nroEjemplares,"onUpdate:modelValue":n[15]||(n[15]=function(n){return e.form.nroEjemplares=n}),type:"number",label:"N° de Ejemplares",rules:[e.required]},null,8,["modelValue","rules"])]),"005"===e.profileSelected&&"create"===e.action||e.ngVisible&&"create"!==e.action?((0,a.uX)(),(0,a.CE)("div",k,[(0,a.bF)(x,{class:"q-col-gutter-sm",ref:"refNsg",precargarGrado:!1,"show-seccion":!1,"class-nivel":"col-xs-12 col-sm-6","class-grado":"col-xs-12 col-sm-6"},null,512)])):(0,a.Q3)("v-if",!0)],64)):(0,a.Q3)("v-if",!0)])]}),_:1},512)]}),_:1},8,["modelValue","title","onSubmit"])]}),_:1})}var R=r(57008),A=r.n(R),L=r(76080),V=r.n(L),B=r(45254),P=r.n(B),M=r(99550),y=r.n(M),F=(r(74260),r(77507),r(52133),r(10239),r(89571),r(50310),r(32203),r(6724),r(11777),r(83190),r(6123)),x={data:function(){return{config:{},rows:[],fields:[{name:"SECUDES",label:"Tablas",field:"SECUDES",align:"left",sortable:!0,wrap:!0}]}}},_={data:function(){return{configN1:{MENSAJE:{renderHtml:function(e,n){return"msj"===this.currentRowN1.SECUCOD?n("span",{},"Editar para visualizar el mensaje"):n("span",{},e.MENSAJE)}},CALCULAR_FECHA:{renderHtml:function(e,n){return n("span",{},0===e.CALCULAR_FECHA?"No":"Si")}},COLECODT1:{renderHtml:function(e,n){return n("span",{},e.COLECOD)}},TIPCODT1:{renderHtml:function(e,n){return n("span",{},e.TIPCOD)}},COLECOD:{component:"select",options:[],optionLabel:"COLEDES",optionValue:"COLECOD",edit:!1},TIPCOD:{component:"select",options:[],optionLabel:"TIPNOM",optionValue:"TIPCOD",edit:!1},TIPCODPRC:{renderHtml:function(e,n){return n("span",{},e.TIPCOD)}},FECHA_DEV:{component:"date"},ACTION:{component:"button",icon:["edit","delete"],delete:function(e,n){var r=this;return P()(V()().m(function e(){var a;return V()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,r.$confirmar("¿Desea Eliminar? Al eliminar el proceso sera irreversible.","delete");case 1:if(a=e.v,!a){e.n=2;break}return e.n=2,r.deleteN1(n,1);case 2:return e.a(2)}},e)}))()},edit:function(e,n){this.currentRow=n,this.action="update",this.id_edit=n.ID,this.ngVisible="005"===n.TIPCOD&&"pre"===this.currentRowN1.SECUCOD,this.loadEditN1(n),this.ngVisible&&this.cargarNivelGrado(n.NIVEL,n.GRADO)},validate:{delete:function(){return!["msj"].includes(this.currentRowN1.SECUCOD)}},tooltip:{edit:"Editar",delete:"Eliminar"},permisos:{edit:">1",delete:"===3"},dense:!0,flat:!0}},rowsN1:[],fieldsN1:[]}}},q=r(36667),Q={data:function(){return{configUbicacion:{ACTION:{component:"button",icon:["edit","delete"],delete:function(e,n){var r=this;return P()(V()().m(function e(){var a;return V()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,r.$confirmar("¿Desea Eliminar? Al eliminar el proceso sera irreversible.","delete");case 1:if(a=e.v,!a){e.n=2;break}return e.n=2,r.deleteN1(n,2);case 2:return e.a(2)}},e)}))()},edit:function(e,n){this.currentRow=n,this.action="update",this.loadEditN1(n)},tooltip:{edit:"Editar",delete:"Eliminar"},permisos:{edit:">1",delete:"===3"},dense:!0,flat:!0}},rowsUbicacion:[],fieldsUbicacion:[{name:"BIBCOD",label:"Código Bib.",field:"BIBCOD",align:"center",sortable:!0},{name:"UBICACOD",label:"Código Ubi",field:"UBICACOD",align:"left",sortable:!0},{name:"UBICADES",label:"Descripción",field:"UBICADES",align:"left",sortable:!0,wrap:!0},{name:"ACTION",label:"Acción",field:"ACTION",align:"center",width:80}]}}},$=r(9736),j=r(16648),H=r(4437),X=r(95477),J=r(2739),G=r(57668),K=r(6083),W=r(88567),Y=r(95718),z={mixins:[x,_,Q],components:{QInput:$.A,QForm:J.A,sieNgs:q.A,QSelect:j.A,QEditor:K.A,QDate:H.A,QPopupProxy:X.A,QCard:W.A,QCardSection:Y.A,QPage:F.Tu,QIcon:F.bP},data:function(){return{sie:(0,G["default"])(),buttons:[],buttonsUbicacion:[{icon:"plus",label:"Agregar",click:this.openBiblioteca,permiso:">1"}],currentRow:{},instrucod:null,gradocod:null,currentRowN1:{},activaNombre:!1,currentRowBiblioteca:null,openModalN1:!1,perfiles:[],colecciones:[],confirmar:[{label:"Si",value:1},{label:"No",value:0}],form:{nombre:null,responsable:null,ubicacion:null,perfil:null,coleccion:null,sino:0,mensaje:"",nroDias:0,nroEjemplares:0,fecha:null},ngVisible:!1,profileSelected:null,profileOptions:[],action:"create",id_edit:null}},computed:{colsClass:function(){return"ubc"===this.currentRowN1.SECUCOD?"col-xs-12 col-sm-5":"col-xs-12 col-sm-10"},buttonsN1:function(){var e=[];return["msj","",null,void 0].includes(this.currentRowN1.SECUCOD)||e.push({icon:"plus",label:"Agregar",click:this.openN1,permiso:">1"}),e}},methods:{clearForm:function(){this.form={nombre:null,responsable:null,ubicacion:null,perfil:null,coleccion:null,sino:0,mensaje:"",nroDias:0,nroEjemplares:0,fecha:null},this.profileSelected=null},changeProfile:function(e){this.activaNombre="005"===e},required:function(e){return!!e||"Campo requerido"},openBiblioteca:function(){this.action="create",this.clearForm(),this.openModalN1=!0},openN1:function(){if(this.currentRowN1.SECUDES){if(this.action="create",this.clearForm(),this.configN1.COLECOD.options.length>0){var e=y()(this.configN1.COLECOD.options,1),n=e[0].COLECOD;this.form.coleccion=n}if(this.perfiles.length>0){var r=y()(this.perfiles,1),a=r[0].TIPCOD;this.form.perfil=a}this.openModalN1=!0}else this.$notify("Debe seleccionar al menos una tabla","info")},selectTablaSe:function(e){var n=this;return P()(V()().m(function r(){var a;return V()().w(function(r){while(1)switch(r.n){case 0:if(n.currentRowN1=e,n.activaNombre="pre"!==e.SECUCOD,n.currentRowBiblioteca=null,n.fieldsN1=[],"aut"!==e.SECUCOD){r.n=1;break}n.fieldsN1=[{name:"AUTCOD",label:"Código",field:"AUTCOD",align:"center",sortable:!0},{name:"AUTDES",label:"Descripción",field:"AUTDES",align:"left",sortable:!0}],r.n=13;break;case 1:if(!["bib","ubc"].includes(e.SECUCOD)){r.n=2;break}a=[{name:"BIBCOD",label:"Código",field:"BIBCOD",align:"center",sortable:!0},{name:"BIBDESC",label:"Descripción",field:"BIBDESC",align:"left",sortable:!0}],"bib"===e.SECUCOD&&a.push({name:"RESPONSABLE",label:"Responsable",field:"RESPONSABLE",align:"left",sortable:!0}),n.fieldsN1=a,r.n=13;break;case 2:if("col"!==e.SECUCOD){r.n=3;break}n.fieldsN1=[{name:"COLECOD",label:"Código",field:"COLECOD",align:"center",sortable:!0,vIf:!1},{name:"COLECODT1",label:"Código",field:"COLECODT1",align:"center",sortable:!0},{name:"COLEDES",label:"Descripción",field:"COLEDES",align:"left",sortable:!0}],r.n=13;break;case 3:if("pre"!==e.SECUCOD){r.n=4;break}n.fieldsN1=[{name:"TIPCODT1",label:"Código",field:"TIPCODT1",align:"center",sortable:!0},{name:"TIPNOM",label:"Descripción",field:"TIPNOM",align:"left",sortable:!0},{name:"DIANUM",label:"N° de días",field:"DIANUM",align:"left",sortable:!0},{name:"NUMEJEM",label:"N° de ejemplares",field:"NUMEJEM",align:"left",sortable:!0}],r.n=13;break;case 4:if("edi"!==e.SECUCOD){r.n=5;break}n.fieldsN1=[{name:"EDICOD",label:"Código",field:"EDICOD",align:"center",sortable:!0},{name:"EDIDES",label:"Descripción",field:"EDIDES",align:"left",sortable:!0}],r.n=13;break;case 5:if("idi"!==e.SECUCOD){r.n=6;break}n.fieldsN1=[{name:"IDICOD",label:"Código",field:"IDICOD",align:"center",sortable:!0},{name:"IDIDES",label:"Descripción",field:"IDIDES",align:"left",sortable:!0}],r.n=13;break;case 6:if("mat"!==e.SECUCOD){r.n=7;break}n.fieldsN1=[{name:"MATCOD",label:"Código",field:"MATCOD",align:"center",sortable:!0},{name:"MATDES",label:"Descripción",field:"MATDES",align:"left",sortable:!0}],r.n=13;break;case 7:if("tip"!==e.SECUCOD){r.n=8;break}n.fieldsN1=[{name:"SECUCOD",label:"Código",field:"SECUCOD",align:"center",sortable:!0},{name:"SECUDES",label:"Descripción",field:"SECUDES",align:"left",sortable:!0}],r.n=13;break;case 8:if("msj"!==e.SECUCOD){r.n=9;break}n.fieldsN1=[{name:"TIPO",label:"Código",field:"TIPO",align:"left",sortable:!0},{name:"MENSAJE",label:"Descripción",field:"MENSAJE",align:"left",sortable:!0}],r.n=13;break;case 9:if("wor"!==e.SECUCOD){r.n=10;break}n.fieldsN1=[{name:"ID_WORKBOOKS",label:"Código",field:"ID_WORKBOOKS",align:"center",sortable:!0},{name:"TITULO",label:"Título",field:"TITULO",align:"left",sortable:!0}],r.n=13;break;case 10:if("prc"!==e.SECUCOD){r.n=13;break}return r.n=11,n.$http.get("api/ColeccioController/getColeccio");case 11:return n.configN1.COLECOD.options=r.v,r.n=12,n.$http.get("api/PreDiasController/getPerfiles");case 12:n.perfiles=r.v,n.configN1.TIPCOD.options=n.perfiles,n.fieldsN1=[{name:"TIPCODPRC",label:"Código",field:"TIPCODPRC",align:"center",sortable:!0},{name:"TIPCOD",label:"Descripción",field:"TIPCOD",align:"center",sortable:!0},{name:"COLECOD",label:"Colección",field:"COLECOD",align:"left",sortable:!0},{name:"CALCULAR_FECHA",label:"Calculada",field:"CALCULAR_FECHA",align:"center",sortable:!0},{name:"DIANUM",label:"N° de días",field:"DIANUM",align:"center",sortable:!0},{name:"FECHA_DEV",label:"Fecha Dev.",field:"FECHA_DEV",align:"center",sortable:!0}];case 13:return"ubc"!==e.SECUCOD&&n.fieldsN1.push({name:"ACTION",label:"Acción",field:"ACTION",align:"center",width:80}),r.n=14,n.$http.get("api/HyoTablaSe/getSubTablasN1Biblioteca",{params:{secucod:e.SECUCOD,secuequ:e.SECUEQU}});case 14:n.rowsN1=r.v;case 15:return r.a(2)}},r)}))()},selectTablaUbicacion:function(e){var n=this;return P()(V()().m(function r(){return V()().w(function(r){while(1)switch(r.n){case 0:if("ubc"!==n.currentRowN1.SECUCOD){r.n=2;break}return n.currentRowBiblioteca=e,r.n=1,n.$http.get("api/HyoTablaSe/getSubTablasN1Biblioteca",{params:{secucod:e.BIBCOD,secuequ:"ubica"}});case 1:n.rowsUbicacion=r.v;case 2:return r.a(2)}},r)}))()},getTablasBiblioteca:function(){var e=this;return P()(V()().m(function n(){var r;return V()().w(function(n){while(1)switch(n.n){case 0:return n.n=1,e.$http.get("api/HyoTablaSe/getTablaSe",{params:{princod:"BTC",estado:1}});case 1:r=n.v,e.rows=r;case 2:return n.a(2)}},n)}))()},loadEditN1:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=this.currentRowN1.SECUEQU;switch("ubc"===this.currentRowN1.SECUCOD&&(r="ubica"),this.openModalN1=!0,r){case"autor":1===n?this.form.nombre=e.AUTDES:this.currentRow.AUTDES=this.form.nombre;break;case"editora":1===n?this.form.nombre=e.EDIDES:this.currentRow.EDIDES=this.form.nombre;break;case"idioma":1===n?this.form.nombre=e.IDIDES:this.currentRow.IDIDES=this.form.nombre;break;case"b_biblioteca":1===n?(this.form.nombre=e.BIBDESC,this.form.responsable=e.RESPONSABLE):(this.currentRow.BIBDESC=this.form.nombre,this.currentRow.RESPONSABLE=this.form.responsable);break;case"ubica":1===n?this.form.ubicacion=e.UBICADES:this.currentRow.UBICADES=this.form.ubicacion;break;case"pre_dias":1===n?(this.form.nombre=e.TIPNOM,this.form.nroDias=e.DIANUM,this.form.nroEjemplares=e.NUMEJEM):(this.currentRow.TIPNOM=this.form.nombre,this.currentRow.DIANUM=this.form.nroDias,this.currentRow.NUMEJEM=this.form.nroEjemplares);break;case"materia":1===n?this.form.nombre=e.MATDES:this.currentRow.MATDES=this.form.nombre;break;case"coleccio":1===n?this.form.nombre=e.COLEDES:this.currentRow.COLEDES=this.form.nombre;break;case"tabla_se":1===n?this.form.nombre=e.SECUDES:this.currentRow.SECUDES=this.form.nombre;break;case"bm_workbooks":1===n?this.form.nombre=e.TITULO:this.currentRow.TITULO=this.form.nombre;break;case"config_mensajes":1===n?(this.form.nombre=e.TIPO,this.form.mensaje=e.MENSAJE):this.currentRow.MENSAJE=this.form.mensaje;break;case"pre_dias_coleccion":1===n?(this.form.perfil=e.TIPCOD,this.form.coleccion=e.COLECOD,this.form.sino=e.CALCULAR_FECHA,this.form.nroDias=e.DIANUM,this.form.fecha=(e.FECHA_DEV||"").split("/").reverse().join("/")):(this.currentRow.perfil=this.form.perfil,this.currentRow.coleccion=this.form.coleccion,this.currentRow.sino=this.form.sino,this.currentRow.nroDias=this.form.nroDias,this.currentRow.fecha=(this.form.fecha||"").split("/").reverse().join("/"));break}},deleteN1:function(e){var n=arguments,r=this;return P()(V()().m(function a(){var i,o,l;return V()().w(function(a){while(1)switch(a.p=a.n){case 0:return i=n.length>1&&void 0!==n[1]?n[1]:1,a.p=1,o=r.currentRowN1.SECUEQU,"ubc"===r.currentRowN1.SECUCOD&&(o="ubica"),a.n=2,r.$http.delete("api/HyoTablaSe/deleteSubTablasN1Biblioteca",{params:{secuequ:o,params:e}});case 2:1===i?r.rowsN1.splice(r.rowsN1.indexOf(e),1):r.rowsUbicacion.splice(r.rowsUbicacion.indexOf(e),1),r.openModalN1=!1,a.n=4;break;case 3:a.p=3,l=a.v,r.$notify(l.message,"warning");case 4:return a.a(2)}},a,null,[[1,3]])}))()},cargarNivelGrado:function(e,n){var r=this;return P()(V()().m(function a(){return V()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,r.$nextTick();case 1:return a.n=2,r.$refs.refNsg.loadNiveles();case 2:r.$refs.refNsg.ngs.nivel=e,r.$refs.refNsg.ngs.grado=n;case 3:return a.a(2)}},a)}))()},guardar:function(){var e=this;return P()(V()().m(function n(){var r,a,i,o,l;return V()().w(function(n){while(1)switch(n.n){case 0:if(r="pre_dias_coleccion"===e.currentRowN1.SECUEQU,a="pre_dias"===e.currentRowN1.SECUEQU,i="create"===e.action,e.form.coleccion||!r){n.n=1;break}return n.a(2,e.$notify("No hay colecciones registradas por favor registre una","warning"));case 1:if(e.profileSelected||!i||!a){n.n=2;break}return n.a(2,e.$notify("Seleccione un perfil","warning"));case 2:if("005"===e.profileSelected&&"create"===e.action&&(o=e.$refs.refNsg.NGS().split(""),l=y()(o,2),e.instrucod=l[0],e.gradocod=l[1]),"create"!==e.action){n.n=4;break}return n.n=3,e.guardarN1();case 3:n.n=5;break;case 4:return n.n=5,e.updateN1();case 5:return n.a(2)}},n)}))()},validaInputDias:function(e){var n=Number(e);isNaN(n)&&(this.form.nroDias=0,this.$notify("Solo se agregan valores numericos","warning"))},guardarN1:function(){var e=this;return P()(V()().m(function n(){var r,a,i,o,l,t,s,c,u,f;return V()().w(function(n){while(1)switch(n.p=n.n){case 0:return n.n=1,e.$refs.tablaN1.validate();case 1:if(r=n.v,r){n.n=2;break}return n.a(2);case 2:if(n.p=2,a=null,i=e.currentRowN1.SECUEQU,"ubc"===e.currentRowN1.SECUCOD&&(a=e.currentRowBiblioteca.BIBCOD,i="ubica"),"pre"!==e.currentRowN1.SECUCOD){n.n=5;break}return"005"!==e.profileSelected&&(o=e.profileOptions.find(function(n){return n.value===e.profileSelected}),e.form.nombre=o.label),l={TIPCOD:e.profileSelected,TIPNOM:e.form.nombre,DIANUM:e.form.nroDias,NUMEJEM:e.form.nroEjemplares,NIVEL:e.instrucod,GRADO:e.gradocod},n.n=3,e.$http.post("api/MantenimientosController/registrarPrestamo",{params:A()({},l)});case 3:return e.openModalN1=!1,e.$notify("Registro agregado","success"),t={PRINCOD:"BTC",SECUCOD:"pre",SECUDES:"Días de prestamos",SECUEQU:"pre_dias",ESTADO:1},n.n=4,e.selectTablaSe(t);case 4:return n.a(2,1);case 5:return s=A()({},e.form),s.fecha&&(s.fecha=s.fecha.split("/").reverse().join("/")),n.n=6,e.$http.post("api/HyoTablaSe/createSubTablasN1Biblioteca",{params:s,secuequ:i,codigo:a});case 6:c=n.v,u=c.item,"ubc"===e.currentRowN1.SECUCOD?e.rowsUbicacion.unshift(u):e.rowsN1.unshift(u),e.openModalN1=!1,e.$notify("Registro agregado","success"),n.n=8;break;case 7:n.p=7,f=n.v,e.$notify(f.message,"warning");case 8:return n.a(2)}},n,null,[[2,7]])}))()},updateN1:function(){var e=this;return P()(V()().m(function n(){var r,a,i,o,l;return V()().w(function(n){while(1)switch(n.p=n.n){case 0:if(n.p=0,r=e.currentRowN1.SECUEQU,"ubc"===e.currentRowN1.SECUCOD&&(r="ubica"),a=null,a=A()({},e.form),!e.ngVisible){n.n=2;break}return n.n=1,e.$refs.refNsg.NGS().split("");case 1:i=n.v,o=y()(i,2),e.instrucod=o[0],e.gradocod=o[1],a.nivel="%"===e.instrucod?"T":e.instrucod,a.grado="%"===e.gradocod?"T":e.gradocod,a.tipcod="005",a.id=e.id_edit;case 2:return n.n=3,e.$http.put("api/HyoTablaSe/updateSubTablasN1Biblioteca",{secuequ:r,params:e.currentRow,updateParams:a});case 3:return n.n=4,e.$http.get("api/HyoTablaSe/getSubTablasN1Biblioteca",{params:{secucod:e.currentRowN1.SECUCOD,secuequ:e.currentRowN1.SECUEQU}});case 4:e.rowsN1=n.v,e.loadEditN1(null,2),e.openModalN1=!1,e.$notify("Datos actualizados","success"),n.n=6;break;case 5:n.p=5,l=n.v,e.$notify(l.message,"warning");case 6:return n.a(2)}},n,null,[[0,5]])}))()}},created:function(){var e=this;return P()(V()().m(function n(){var r;return V()().w(function(n){while(1)switch(n.n){case 0:return n.n=1,e.getTablasBiblioteca();case 1:return e.activaNombre="ubc"===e.currentRowN1.SECUCOD,n.n=2,e.$http.get("api/MantenimientosController/getProfileBib");case 2:r=n.v,r.map(function(n){e.profileOptions.push({label:n.TIPNOM,value:n.TIPCOD})}),e.profileOptions.unshift({label:"Seleccione un perfil",value:null});case 3:return n.a(2)}},n)}))()}},Z=r(12807);const ee=(0,Z.A)(z,[["render",T]]);var ne=ee}}]);