"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[90051],{90051:function(e,a,n){n.r(a),n.d(a,{default:function(){return L}});n(56285);var r=n(61758),t={class:"row items-center no-wrap"},c={class:"col-auto"},o={class:"row q-ma-xs q-col-gutter-md"},i={class:"col-xs-12"},l={class:"col-xs-12"},s={class:"col-xs-12"};function u(e,a){var n=this,u=(0,r.g2)("crearBotones"),d=(0,r.g2)("q-separator"),m=(0,r.g2)("sie-table"),f=(0,r.g2)("q-card"),C=(0,r.g2)("q-input"),g=(0,r.g2)("q-card-section"),p=(0,r.g2)("sie-modal"),F=(0,r.g2)("q-page");return(0,r.uX)(),(0,r.Wv)(F,{class:"sie-flat pasebrae bg-white q-pa-sm"},{default:(0,r.k6)(function(){return[(0,r.bF)(f,{class:"q-ma-sm"},{default:(0,r.k6)(function(){return[(0,r.Lk)("div",t,[a[4]||(a[4]=(0,r.Lk)("div",{class:"col"},[(0,r.Lk)("div",{class:"text-h6",style:{"font-size":"1.1rem","font-weight":"bold","padding-left":"16px"}}," Mantenimiento de Frecuencia de clases")],-1)),(0,r.Lk)("div",c,[(0,r.bF)(u,{option:e.name,buttons:e.buttons,nivelAcceso:e.nivelAcceso},null,8,["option","buttons","nivelAcceso"])])]),(0,r.bF)(d),(0,r.bF)(m,{data:e.rowData,columns:e.columns,config:e.config,context:n,css:"height: 80vh"},null,8,["data","columns","config"])]}),_:1}),(0,r.bF)(p,{escClick:!0,loading:e.cargando,esc:!0,css:{width:"600px"},modelValue:e.registroModal,"onUpdate:modelValue":a[3]||(a[3]=function(a){return e.registroModal=a}),title:"".concat(e.tipoModal," Frecuencia de clases"),ok:"Guardar",onSubmit:e.guardar},{default:(0,r.k6)(function(){return[(0,r.bF)(g,null,{default:(0,r.k6)(function(){return[(0,r.Lk)("div",o,[(0,r.Lk)("div",i,[(0,r.bF)(C,{type:"number",modelValue:e.formFrecuencia.VECES,"onUpdate:modelValue":a[0]||(a[0]=function(a){return e.formFrecuencia.VECES=a}),label:"Veces a la semana*",rules:e.OBLIGATORIO},null,8,["modelValue","rules"])]),(0,r.Lk)("div",l,[(0,r.bF)(C,{type:"text",modelValue:e.formFrecuencia.DESCRIPCION,"onUpdate:modelValue":a[1]||(a[1]=function(a){return e.formFrecuencia.DESCRIPCION=a}),label:"Descripción*",maxlength:"60",rules:e.OBLIGATORIO},null,8,["modelValue","rules"])]),(0,r.Lk)("div",s,[(0,r.bF)(C,{type:"number",modelValue:e.formFrecuencia.NRO_CLASES,"onUpdate:modelValue":a[2]||(a[2]=function(a){return e.formFrecuencia.NRO_CLASES=a}),label:"Número de clases"},null,8,["modelValue"])])])]}),_:1})]}),_:1},8,["loading","modelValue","title","onSubmit"])]}),_:1})}var d=n(76080),m=n.n(d),f=n(45254),C=n.n(f),g=n(57008),p=n.n(g),F=n(6123),b=n(11654),E=n(9736),h=n(16648),S=n(88567),A=n(95718),I=n(57668),v=n(30640),O=n(88865),w=n(64303),k=n(53380),N={components:{QItemSection:O.A,QBtn:b.A,QSelect:h.A,QInput:E.A,QCard:S.A,QCardSection:A.A,sieModal:v.A,crearBotones:w.A,QSeparator:k.A,QPage:F.Tu},data:function(){return{name:"Mantenimiento de Frecuencia de clases",nivelAcceso:2,sie:(0,I["default"])(),columns:[{name:"ID_FRECUENCIA",label:"ID",field:"ID_FRECUENCIA",align:"left",sortable:!0},{name:"DESCRIPCION",label:"Descripción",field:"DESCRIPCION",align:"left",sortable:!0},{name:"VECES",label:"Veces a la semana",field:"VECES",align:"right",sortable:!0},{name:"NRO_CLASES",label:"Nro. Clases",field:"NRO_CLASES",align:"right",sortable:!0},{sortable:!0,name:"ACCION",label:"ACCIONES",align:"center",width:"100px"}],config:{ACCION:{component:"button",permisos:{edit:"> 1",delete:"=== 3"},icon:["edit","delete"],tooltip:{edit:"Editar"},edit:this.editarFrecuencia,delete:this.eliminarFrecuencia,flat:!0,dense:!0}},rowData:[],buttons:[{label:"Agregar",icon:"plus",click:this.agregarFrecuencia,minAcceso:2}],registroModal:!1,tipoModal:"Agregar",cargando:!1,formFrecuencia:{VECES:"",DESCRIPCION:"",NRO_CLASES:""},OBLIGATORIO:[function(e){return!!e||"El campo es obligatorio"}]}},methods:{agregarFrecuencia:function(){this.registroModal=!0,this.tipoModal="Agregar",this.cleanForm()},editarFrecuencia:function(e){this.registroModal=!0,this.tipoModal="Editar",this.fillForm(e)},cleanForm:function(){this.formFrecuencia={VECES:"",DESCRIPCION:"",NRO_CLASES:""}},fillForm:function(e){this.formFrecuencia=p()({},e)},getFrecuencias:function(){var e=this;return C()(m()().m(function a(){var n,r;return m()().w(function(a){while(1)switch(a.p=a.n){case 0:return a.p=0,a.n=1,e.$http.get("api/CtCursoPeriodoController/getFrecuenciaClases",{params:{params:{order:{sidx:"veces",sord:"asc"}}}});case 1:n=a.v,e.rowData=n,a.n=3;break;case 2:a.p=2,r=a.v,console.log(r),e.$alert(r.message,"warning");case 3:return a.a(2)}},a,null,[[0,2]])}))()},guardar:function(){var e=this;return C()(m()().m(function a(){var n,r;return m()().w(function(a){while(1)switch(a.p=a.n){case 0:if(a.p=0,n={data:{VECES:e.formFrecuencia.VECES,DESCRIPCION:e.formFrecuencia.DESCRIPCION,NRO_CLASES:e.formFrecuencia.NRO_CLASES}},"Editar"!==e.tipoModal){a.n=2;break}return n.where={ID_FRECUENCIA:e.formFrecuencia.ID_FRECUENCIA},a.n=1,e.$http.put("api/CtCursoPeriodoController/putFrecuenciaClases",{params:n});case 1:a.n=3;break;case 2:return a.n=3,e.$http.post("api/CtCursoPeriodoController/postFrecuenciaClases",{params:n.data});case 3:return a.n=4,e.getFrecuencias();case 4:e.registroModal=!1,e.$alert("Frecuencia de clases guardada con éxito","success"),a.n=6;break;case 5:a.p=5,r=a.v,console.log(r),e.$alert("Hubo un error al guardar la frecuencia de clases","warning");case 6:return a.a(2)}},a,null,[[0,5]])}))()},eliminarFrecuencia:function(e){var a=this;this.$confirm("¿Está seguro de eliminar la frecuencia de clases?").onOk(C()(m()().m(function n(){var r;return m()().w(function(n){while(1)switch(n.p=n.n){case 0:return n.p=0,n.n=1,a.$http.delete("api/CtCursoPeriodoController/deleteFrecuenciaClases",{params:{params:p()({},e)}});case 1:return n.n=2,a.getFrecuencias();case 2:a.$alert("Frecuencia de clases eliminada con éxito","success"),n.n=4;break;case 3:n.p=3,r=n.v,a.$alert(r.message,"warning");case 4:return n.a(2)}},n,null,[[0,3]])})))}},beforeMount:function(){var e=this;return C()(m()().m(function a(){return m()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,e.getFrecuencias();case 1:return a.a(2)}},a)}))()}},R=n(12807);const V=(0,R.A)(N,[["render",u]]);var L=V}}]);