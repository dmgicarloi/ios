"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[85598],{85598:function(e,r,l){l.r(r),l.d(r,{default:function(){return y}});var o=l(61758),n={class:"row q-col-gutter-sm"},a={class:"col-xs-12"},s={class:"col-xs-12"},t={class:"row q-pa-sm q-col-gutter-sm"},i={class:"col-xs-12 col-sm-6"},u={class:"col-xs-12 col-sm-6"},m={class:"col-xs-12 col-sm-6"},c={class:"col-xs-12 col-sm-6"},E={class:"col-xs-12 col-sm-6"},C={class:"col-xs-12 col-sm-6"},f={class:"col-xs-12 col-sm-6"},O={class:"col-xs-12 col-sm-6"},d={class:"col-xs-12 col-sm-6"},A={class:"col-xs-12 col-sm-6"},I={class:"col-xs-12 col-sm-6"},R={class:"col-xs-12 col-sm-6"},p={class:"col-xs-12 col-sm-6"},S={class:"col-xs-12 col-sm-6"},T={class:"col-xs-12 col-sm-6"},N={class:"col-xs-12 col-sm-6"},_={class:"col-xs-12 col-sm-6"};function h(e,r){var l=this,h=(0,o.g2)("header-btn"),b=(0,o.g2)("sie-table"),w=(0,o.g2)("q-card-section"),D=(0,o.g2)("q-card"),V=(0,o.g2)("q-input"),L=(0,o.g2)("q-form"),U=(0,o.g2)("sie-modal"),v=(0,o.g2)("q-page");return(0,o.uX)(),(0,o.Wv)(v,{class:"q-pa-sm sie-flat"},{default:(0,o.k6)(function(){return[(0,o.bF)(D,{flat:"",bordered:""},{default:(0,o.k6)(function(){return[(0,o.bF)(w,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("div",n,[(0,o.Lk)("div",a,[(0,o.bF)(h,{name:"Mantenimiento Empresa",buttons:e.buttons},null,8,["buttons"])]),(0,o.Lk)("div",s,[(0,o.bF)(b,{type:"normal",data:e.rows,columns:e.fields,config:e.config,selection:"single","save-cells":"",ref:"tableCEmpresa",onRowSelected:e.rowSelectCEmpresa,css:"height:calc(100vh - 140px)",context:l},null,8,["data","columns","config","onRowSelected"])])])]}),_:1})]}),_:1}),(0,o.bF)(U,{esc:"","esc-click":"",modelValue:e.openAdd,"onUpdate:modelValue":r[17]||(r[17]=function(r){return e.openAdd=r}),css:{width:"500px"},title:"create"===e.action?"Agregar Empresa":"Modificar Empresa",onSubmit:e.saveAcccion},{default:(0,o.k6)(function(){return[(0,o.bF)(L,{ref:"refForm"},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",t,[(0,o.Lk)("div",i,[(0,o.bF)(V,{modelValue:e.form.RAZONSOCIAL,"onUpdate:modelValue":r[0]||(r[0]=function(r){return e.form.RAZONSOCIAL=r}),label:"Razón Social *",rules:[e.required]},null,8,["modelValue","rules"])]),(0,o.Lk)("div",u,[(0,o.bF)(V,{modelValue:e.form.RUC,"onUpdate:modelValue":r[1]||(r[1]=function(r){return e.form.RUC=r}),label:"RUC *",rules:[e.required]},null,8,["modelValue","rules"])]),(0,o.Lk)("div",m,[(0,o.bF)(V,{modelValue:e.form.DIRECCION,"onUpdate:modelValue":r[2]||(r[2]=function(r){return e.form.DIRECCION=r}),label:"Dirección"},null,8,["modelValue"])]),(0,o.Lk)("div",c,[(0,o.bF)(V,{modelValue:e.form.TELEFONO,"onUpdate:modelValue":r[3]||(r[3]=function(r){return e.form.TELEFONO=r}),label:"Teléfono"},null,8,["modelValue"])]),(0,o.Lk)("div",E,[(0,o.bF)(V,{modelValue:e.form.UBGCOD,"onUpdate:modelValue":r[4]||(r[4]=function(r){return e.form.UBGCOD=r}),label:"Ubigeo"},null,8,["modelValue"])]),(0,o.Lk)("div",C,[(0,o.bF)(V,{modelValue:e.form.COMERCIAL,"onUpdate:modelValue":r[5]||(r[5]=function(r){return e.form.COMERCIAL=r}),label:"Comercial"},null,8,["modelValue"])]),(0,o.Lk)("div",f,[(0,o.bF)(V,{modelValue:e.form.ACTIVO,"onUpdate:modelValue":r[6]||(r[6]=function(r){return e.form.ACTIVO=r}),label:"Activo *",rules:[e.required]},null,8,["modelValue","rules"])]),(0,o.Lk)("div",O,[(0,o.bF)(V,{modelValue:e.form.CTA_DETRACCION,"onUpdate:modelValue":r[7]||(r[7]=function(r){return e.form.CTA_DETRACCION=r}),label:"Cta. Detracción"},null,8,["modelValue"])]),(0,o.Lk)("div",d,[(0,o.bF)(V,{modelValue:e.form.SISCONTA,"onUpdate:modelValue":r[8]||(r[8]=function(r){return e.form.SISCONTA=r}),label:"SisConta *",rules:[e.required]},null,8,["modelValue","rules"])]),(0,o.Lk)("div",A,[(0,o.bF)(V,{modelValue:e.form.OSE,"onUpdate:modelValue":r[9]||(r[9]=function(r){return e.form.OSE=r}),label:"OSE *",rules:[e.required]},null,8,["modelValue","rules"])]),(0,o.Lk)("div",I,[(0,o.bF)(V,{modelValue:e.form.PRICO,"onUpdate:modelValue":r[10]||(r[10]=function(r){return e.form.PRICO=r}),label:"PRICO *",rules:[e.required]},null,8,["modelValue","rules"])]),(0,o.Lk)("div",R,[(0,o.bF)(V,{modelValue:e.form.TIPO_CLIENTE,"onUpdate:modelValue":r[11]||(r[11]=function(r){return e.form.TIPO_CLIENTE=r}),label:"Tipo Cliente *",rules:[e.required]},null,8,["modelValue","rules"])]),(0,o.Lk)("div",p,[(0,o.bF)(V,{modelValue:e.form.FLAT_PERSONA,"onUpdate:modelValue":r[12]||(r[12]=function(r){return e.form.FLAT_PERSONA=r}),label:"Flat Persona *",rules:[e.required]},null,8,["modelValue","rules"])]),(0,o.Lk)("div",S,[(0,o.bF)(V,{modelValue:e.form.PORCENTAJE_DETRACCION,"onUpdate:modelValue":r[13]||(r[13]=function(r){return e.form.PORCENTAJE_DETRACCION=r}),label:"% Detracción *",rules:[e.required]},null,8,["modelValue","rules"])]),(0,o.Lk)("div",T,[(0,o.bF)(V,{modelValue:e.form.EXONERADO_IGV,"onUpdate:modelValue":r[14]||(r[14]=function(r){return e.form.EXONERADO_IGV=r}),label:"Exonerado IGV *",rules:[e.required]},null,8,["modelValue","rules"])]),(0,o.Lk)("div",N,[(0,o.bF)(V,{modelValue:e.form.SIS_RENTA_SEGURO,"onUpdate:modelValue":r[15]||(r[15]=function(r){return e.form.SIS_RENTA_SEGURO=r}),label:"Sis. Renta Seguro"},null,8,["modelValue"])]),(0,o.Lk)("div",_,[(0,o.bF)(V,{modelValue:e.form.SIS_REP_DEUDAS,"onUpdate:modelValue":r[16]||(r[16]=function(r){return e.form.SIS_REP_DEUDAS=r}),label:"Sis. Rep Deudas *",rules:[e.required]},null,8,["modelValue","rules"])])])]}),_:1},512)]}),_:1},8,["modelValue","title","onSubmit"])]}),_:1})}var b=l(76080),w=l.n(b),D=l(45254),V=l.n(D),L=(l(89571),l(6123)),U={data:function(){return{config:{ACTION:{component:"button",icon:["edit as editar","delete as eliminar"],editar:function(e,r){var l=this;return V()(w()().m(function e(){return w()().w(function(e){while(1)switch(e.n){case 0:return l.rowCEmpresa=r,e.n=1,l.openActualizar();case 1:return e.a(2)}},e)}))()},eliminar:function(e,r){var l=this;return V()(w()().m(function e(){return w()().w(function(e){while(1)switch(e.n){case 0:return l.rowCEmpresa=r,e.n=1,l.deleteCEmpresa();case 1:return e.a(2)}},e)}))()},tooltip:{editar:"Editar",eliminar:"Eliminar"},permisos:{editar:">1",eliminar:"===3"},flat:!0,dense:!0}},rows:[],fields:[{name:"EMPCOD",label:"Código",field:"EMPCOD",align:"left",sortable:!0},{name:"RAZONSOCIAL",label:"Razón Social",field:"RAZONSOCIAL",align:"left",sortable:!0},{name:"RUC",label:"RUC",field:"RUC",align:"left",sortable:!0},{name:"DIRECCION",label:"Dirección",field:"DIRECCION",align:"left",sortable:!0,wrap:!0,width:200},{name:"TELEFONO",label:"Teléfono",field:"TELEFONO",align:"left",sortable:!0},{name:"ACTIVO",label:"Activo",field:"ACTIVO",align:"left",sortable:!0},{name:"ACTION",label:"Acción",field:"ACTION",align:"center",width:80}]}}},v=l(39893),g=l(81288),P=l(2739),F=l(9736),k=l(88567),G=l(95718),x={mixins:[U],components:{QForm:P.A,QInput:F.A,QCard:k.A,QCardSection:G.A,QPage:L.Tu},data:function(){return{required:v.require,buttons:[],openAdd:!1,action:"create",rowCEmpresa:null,form:{RAZONSOCIAL:null,RUC:null,DIRECCION:null,TELEFONO:null,UBGCOD:null,COMERCIAL:null,ACTIVO:null,CTA_DETRACCION:null,SISCONTA:null,OSE:null,PRICO:null,TIPO_CLIENTE:null,FLAT_PERSONA:null,PORCENTAJE_DETRACCION:null,EXONERADO_IGV:null,SIS_RENTA_SEGURO:null,SIS_REP_DEUDAS:null}}},methods:{openAgregar:function(){this.action="create",this.rowCEmpresa=null,(0,g.clear)(this.form),this.openAdd=!0},openActualizar:function(){this.rowCEmpresa?(this.action="update",this.form.RAZONSOCIAL=this.rowCEmpresa.RAZONSOCIAL,this.form.RUC=this.rowCEmpresa.RUC,this.form.DIRECCION=this.rowCEmpresa.DIRECCION,this.form.TELEFONO=this.rowCEmpresa.TELEFONO,this.form.UBGCOD=this.rowCEmpresa.UBGCOD,this.form.COMERCIAL=this.rowCEmpresa.COMERCIAL,this.form.ACTIVO=this.rowCEmpresa.ACTIVO,this.form.CTA_DETRACCION=this.rowCEmpresa.CTA_DETRACCION,this.form.SISCONTA=this.rowCEmpresa.SISCONTA,this.form.OSE=this.rowCEmpresa.OSE,this.form.PRICO=this.rowCEmpresa.PRICO,this.form.TIPO_CLIENTE=this.rowCEmpresa.TIPO_CLIENTE,this.form.FLAT_PERSONA=this.rowCEmpresa.FLAT_PERSONA,this.form.PORCENTAJE_DETRACCION=this.rowCEmpresa.PORCENTAJE_DETRACCION,this.form.EXONERADO_IGV=this.rowCEmpresa.EXONERADO_IGV,this.form.SIS_RENTA_SEGURO=this.rowCEmpresa.SIS_RENTA_SEGURO,this.form.SIS_REP_DEUDAS=this.rowCEmpresa.SIS_REP_DEUDAS,this.openAdd=!0):this.$notify("Selecciona un registro","info")},saveAcccion:function(){var e=this;return V()(w()().m(function r(){var l,o,n;return w()().w(function(r){while(1)switch(r.n){case 0:return r.n=1,e.$refs.refForm.validate();case 1:if(l=r.v,l){r.n=2;break}return r.a(2);case 2:if("create"!==e.action){r.n=4;break}return r.n=3,e.$confirmar("El registro se creará ¿Desea continuar?","info");case 3:o=r.v,o&&e.createCEmpresa(),r.n=6;break;case 4:return r.n=5,e.$confirmar("El registro se modificará ¿Desea continuar?","info");case 5:n=r.v,n&&e.updateCEmpresa();case 6:return r.a(2)}},r)}))()},rowSelectCEmpresa:function(e,r){this.rowCEmpresa=r},createCEmpresa:function(){var e=this;return V()(w()().m(function r(){var l,o,n,a;return w()().w(function(r){while(1)switch(r.p=r.n){case 0:return r.p=0,r.n=1,e.$http.post("api/c-empresa",e.form);case 1:l=r.v,l.result,o=l.message,n={RAZONSOCIAL:e.form.RAZONSOCIAL,RUC:e.form.RUC,DIRECCION:e.form.DIRECCION,TELEFONO:e.form.TELEFONO,UBGCOD:e.form.UBGCOD,COMERCIAL:e.form.COMERCIAL,ACTIVO:e.form.ACTIVO,CTA_DETRACCION:e.form.CTA_DETRACCION,SISCONTA:e.form.SISCONTA,OSE:e.form.OSE,PRICO:e.form.PRICO,TIPO_CLIENTE:e.form.TIPO_CLIENTE,FLAT_PERSONA:e.form.FLAT_PERSONA,PORCENTAJE_DETRACCION:e.form.PORCENTAJE_DETRACCION,EXONERADO_IGV:e.form.EXONERADO_IGV,SIS_RENTA_SEGURO:e.form.SIS_RENTA_SEGURO,SIS_REP_DEUDAS:e.form.SIS_REP_DEUDAS},e.rows.unshift(n),e.openAdd=!1,e.$notify(o,"success"),r.n=3;break;case 2:r.p=2,a=r.v,e.$notify(a.message,"warning");case 3:return r.a(2)}},r,null,[[0,2]])}))()},readCEmpresa:function(){var e=this;return V()(w()().m(function r(){var l,o;return w()().w(function(r){while(1)switch(r.p=r.n){case 0:return r.p=0,r.n=1,e.$http.get("api/HyoEmpresas/getAllEmpresa",{params:{fields:["*"]}});case 1:l=r.v,e.rows=l,r.n=3;break;case 2:r.p=2,o=r.v,e.$notify(o.message,"warning");case 3:return r.a(2)}},r,null,[[0,2]])}))()},deleteCEmpresa:function(){var e=this;return V()(w()().m(function r(){var l,o,n,a;return w()().w(function(r){while(1)switch(r.p=r.n){case 0:if(e.rowCEmpresa){r.n=1;break}e.$notify("Selecciona un registro","info"),r.n=6;break;case 1:return r.n=2,e.$confirmar("¿Estás seguro de eliminar el registro?","delete");case 2:if(l=r.v,!l){r.n=6;break}return r.p=3,r.n=4,e.$http.delete("api/c-empresa/");case 4:o=r.v,n=o.message,e.rows.splice(e.rows.indexOf(e.rowCEmpresa),1),e.rowCEmpresa=null,e.$notify(n,"success"),r.n=6;break;case 5:r.p=5,a=r.v,e.$notify(a.message,"warning");case 6:return r.a(2)}},r,null,[[3,5]])}))()},updateCEmpresa:function(){var e=this;return V()(w()().m(function r(){var l,o,n,a;return w()().w(function(r){while(1)switch(r.p=r.n){case 0:return r.p=0,l=e.$refs.tableCEmpresa,r.n=1,e.$http.put("api/HyoEmpresas/updateEmpresa",{empcod:e.rowCEmpresa.EMPCOD,data:{RAZONSOCIAL:e.form.RAZONSOCIAL,RUC:e.form.RUC,DIRECCION:e.form.DIRECCION,TELEFONO:e.form.TELEFONO,UBGCOD:e.form.UBGCOD,COMERCIAL:e.form.COMERCIAL,ACTIVO:e.form.ACTIVO,CTA_DETRACCION:e.form.CTA_DETRACCION,SISCONTA:e.form.SISCONTA,OSE:e.form.OSE,PRICO:e.form.PRICO,TIPO_CLIENTE:e.form.TIPO_CLIENTE,FLAT_PERSONA:e.form.FLAT_PERSONA,PORCENTAJE_DETRACCION:e.form.PORCENTAJE_DETRACCION,EXONERADO_IGV:e.form.EXONERADO_IGV,SIS_RENTA_SEGURO:e.form.SIS_RENTA_SEGURO,SIS_REP_DEUDAS:e.form.SIS_REP_DEUDAS}});case 1:o=r.v,n=o.message,e.openAdd=!1,l.updateRow(e.rowCEmpresa,e.form),e.$notify(n,"success"),r.n=3;break;case 2:r.p=2,a=r.v,e.$notify(a.message,"warning");case 3:return r.a(2)}},r,null,[[0,2]])}))()}},created:function(){var e=this;return V()(w()().m(function r(){return w()().w(function(r){while(1)switch(r.n){case 0:try{e.readCEmpresa()}catch(r){e.$notify(r.message,"warning")}case 1:return r.a(2)}},r)}))()}},q=l(12807);const $=(0,q.A)(x,[["render",h]]);var y=$}}]);