"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[19515],{19515:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var s=n(8445),i=n.n(s),u=n(61758),o=n(58790),l={key:2,class:"row q-pa-md col"},a={class:"col-md-4 col-xs-12"},c={class:"full-height column"},r={key:1,class:"col-md-8 col-xs-12 column"};function m(e,t){var n=(0,u.g2)("sie-salones"),s=(0,u.g2)("sie-estudiantes"),m=(0,u.g2)("q-item-tile"),d=(0,u.g2)("q-item-main"),f=(0,u.g2)("q-item"),v=(0,u.g2)("q-list"),D=(0,u.g2)("sie-pdf"),O=(0,u.g2)("sie-modal"),k=(0,u.g2)("sie-vacio"),g=(0,u.g2)("q-page");return(0,u.uX)(),(0,u.Wv)(g,{class:"bg-white"},{default:(0,u.k6)(function(){return[e.esFamilia?(0,u.Q3)("v-if",!0):((0,u.uX)(),(0,u.Wv)(n,{key:0,onSeleccionar:e.comboSalon,campos:["NEMO","NEMODES","GRADOCOD","INSTRUCOD"],todos:!1},null,8,["onSeleccionar"])),e.esFamilia||e.documentoAlumno?((0,u.uX)(),(0,u.Wv)(s,{key:1,onSelected:e.comboEstudiante,txtCustom:e.textCustom,ref:"estudiante"},null,8,["onSelected","txtCustom"])):(0,u.Q3)("v-if",!0),e.utiles.length?((0,u.uX)(),(0,u.CE)("div",l,[(0,u.Lk)("div",a,[(0,u.bF)(v,{link:""},{default:(0,u.k6)(function(){return[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(e.utiles,function(t,n){return(0,u.uX)(),(0,u.Wv)(f,{key:n,onClick:function(n){return e.ver(t.PDF)}},{default:(0,u.k6)(function(){return[(0,u.bF)(d,null,{default:(0,u.k6)(function(){return[(0,u.bF)(m,null,{default:(0,u.k6)(function(){return[(0,u.eW)((0,o.v_)(t.TITULO),1)]}),_:2},1024)]}),_:2},1024)]}),_:2},1032,["onClick"])}),128)),(0,u.bF)(f,{onClick:e.listaDeUtilesPdf},{default:(0,u.k6)(function(){return[(0,u.bF)(d,null,{default:(0,u.k6)(function(){return[(0,u.bF)(m,null,{default:(0,u.k6)(function(){return i()(t[1]||(t[1]=[(0,u.eW)("Ãštiles Escolares",-1)]))}),_:1})]}),_:1})]}),_:1},8,["onClick"])]}),_:1})]),e.isLess?((0,u.uX)(),(0,u.Wv)(O,{key:0,class:"modal-lista-utiles",modelValue:e.open,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.open=t}),title:e.$t("intranet.listaUtiles.listaUtiles"),ok:!1},{default:(0,u.k6)(function(){return[(0,u.Lk)("div",c,[e.esUtilesEscolares?((0,u.uX)(),(0,u.Wv)(D,{key:0,class:"col",src:"",name:"utilescolar"})):((0,u.uX)(),(0,u.Wv)(D,{key:1,class:"col",src:e.viewDocumentoPDF},null,8,["src"]))])]}),_:1},8,["modelValue","title"])):((0,u.uX)(),(0,u.CE)("div",r,[e.esUtilesEscolares?((0,u.uX)(),(0,u.Wv)(D,{key:0,class:"col",src:"",name:"utilescolar"})):e.viewDocumentoPDF?((0,u.uX)(),(0,u.Wv)(D,{key:1,class:"col",src:e.viewDocumentoPDF},null,8,["src"])):((0,u.uX)(),(0,u.Wv)(k,{key:2,icon:"list_alt",title:"intranet.aplicaciones.status",subtitle:"intranet.listaUtiles.mensaje"}))]))])):((0,u.uX)(),(0,u.Wv)(k,{key:3,subtitle:e.message},null,8,["subtitle"]))]}),_:1})}var d=n(76080),f=n.n(d),v=n(45254),D=n.n(v),O=(n(74260),n(50310),n(32203),n(83190),n(6123)),k=n(88275),g=n(92173),p=n(84603),C=n(30640),E=n(80340),h=n(99637),U=n(57668),A=n(81288),w=n(80660),F={getConfig:function(){return w.$http.post("api/HyoMatriculadocumentos/getConfigListaUtiles")},getListaUtiles:function(e){return w.$http.get("api/HyoMatriculadocumentos/getListaUtiles",{params:e})}},N=n(2819),_={components:{siePdf:p.A,sieSalones:k.Ay,sieEstudiantes:g.Ay,sieVacio:E.A,sieModal:C.A,QPage:O.Tu,QList:O.Mb,QItem:O.H0,QItemMain:O.mF,QItemTile:O.lp},data:function(){return{sie:(0,U["default"])(),utiles:[],alumnos:[],textCustom:!1,message:"",esFamilia:!1,esEstudiante:!1,documentoAlumno:!1,documentoBachillerato:!1,viewDocumentoPDF:null,open:!1,alumno:{},alucods:[],salon:[],esUtilesEscolares:!1}},computed:{isLess:function(){return(0,A.isLess)()}},methods:{init:function(){var e=this;return D()(f()().m(function t(){var n,s,i,u,o;return f()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,F.getConfig();case 1:n=t.v,s=n.esFamilia,i=n.esEstudiante,u=n.M_DOCUMENTO_ALUMNO,o=n.M_DOCUMENTO_BACHILLERATO,e.esFamilia=s,e.esEstudiante=i,e.documentoAlumno=!!u,e.documentoBachillerato=!!o;case 2:return t.a(2)}},t)}))()},comboSalon:function(e){var t=this;return D()(f()().m(function n(){var s,i,u,o,l,a;return f()().w(function(n){while(1)switch(n.p=n.n){case 0:return t.salon=e,t.viewDocumentoPDF=null,s={gradocod:e.GRADOCOD,instrucod:e.INSTRUCOD},e.NEMO&&(s.nemo=e.NEMO),n.p=1,n.n=2,F.getListaUtiles(s);case 2:i=n.v,u=i.utiles,o=i.alumnos,t.documentoAlumno?(t.$refs.estudiante.data=o,t.textCustom=!0):((0,h["default"])(u,function(e){e.PDF=t.sie.api+"/HyoMatriculadocumentos/descargar/"+e.ID+"/"+e.ANO+"/"+e.TITULO+"?access_token="+t.sie.token}),t.utiles=u),n.n=4;break;case 3:n.p=3,a=n.v,l=a.error,t.message=l.message,t.utiles=[];case 4:return n.a(2)}},n,null,[[1,3]])}))()},comboEstudiante:function(e,t){var n=this;return D()(f()().m(function s(){var i,u,o,l,a;return f()().w(function(s){while(1)switch(s.p=s.n){case 0:return n.alucods=t,n.alumno=e,n.viewDocumentoPDF=null,i={gradocod:e.GRADOCOD,instrucod:e.INSTRUCOD},e.ALUCOD&&(i.alucod=e.ALUCOD),s.p=1,s.n=2,F.getListaUtiles(i);case 2:u=s.v,o=u.utiles,(0,h["default"])(o,function(e){e.PDF=n.sie.api+"/HyoMatriculadocumentos/descargar/"+e.ID+"/"+e.ANO+"/"+e.TITULO+"?access_token="+n.sie.token}),n.utiles=o,s.n=4;break;case 3:s.p=3,a=s.v,l=a.error,n.utiles=[],n.message=l.message;case 4:return s.a(2)}},s,null,[[1,3]])}))()},ver:function(e){this.esUtilesEscolares=!1,this.isLess&&(this.open=!0),this.viewDocumentoPDF=e},listaDeUtilesPdf:function(){var e=this;return D()(f()().m(function t(){var n,s;return f()().w(function(t){while(1)switch(t.n){case 0:return e.esUtilesEscolares=!0,t.n=1,e.$nextTick();case 1:n=e.alucods.find(function(t){return t.ID_PERSONA===e.alumno.ID_PERSONA})||e.alumno;try{s={report_cod:"utilesescolares",ID_PERSONA:n.ID_PERSONA,NEMO:e.salon.NEMO||n.NEMO,ANO:(e.salon.NEMO||n.NEMO||"").substr(0,4),INSTRUCOD:n.INSTRUCOD,GRADOCOD:n.GRADOCOD},(0,N.exportFilePhp)(s,"webservice/reportes-almacen/reporte","","utilescolar")}catch(t){e.$notify(t.message,"warning")}case 2:return t.a(2)}},t)}))()}},created:function(){this.init()}},b=n(12807);const M=(0,b.A)(_,[["render",m]]);var y=M}}]);