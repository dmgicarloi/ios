"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[91303],{91303:function(e,a,t){t.r(a),t.d(a,{default:function(){return Ge}});var o=t(8445),n=t.n(o),r=(t(71225),t(50310),t(5962),t(83190),t(61758)),l=t(58790),i={key:0,class:"col-xs-12 col-xl-9"},s={class:"row"},c={class:"col-xs-12 col-sm-12 col-lg-12"},u={class:"row"},d={class:"col-xs-12 col-sm-4 q-pa-xs"},f={class:"col-xs-12 col-sm-4 q-pa-xs"},p={class:"col-xs-12 col-sm-4 q-pa-xs"},m={class:"col-xs-12 col-sm-12 col-lg-12"},h={class:"row"},v={class:"col-xs-12 col-sm-4 q-pa-xs"},g={class:"col-xs-12 col-sm-4 q-pa-xs"},D={class:"col-xs-12 col-sm-4 q-pa-xs"},O={class:"col-xs-12 col-sm-12 col-lg-12"},C={class:"row"},b={class:"col-xs-12 col-sm-4 q-pa-xs"},M={class:"col-xs-12 col-sm-4 q-pa-xs"},E={class:"col-xs-12 col-sm-4 q-pa-xs"},w={key:0,class:"col-xs-12 col-sm-12 col-lg-12"},N={class:"row"},A={class:"col-xs-12 q-pa-xs"},I={key:1,class:"col-xs-12 col-xl-3"},x={class:"col-xs-12 col-sm-4 q-pa-xs"},S={key:0,class:"col-xs-4 q-pa-xs"},k={key:1,class:"col-xs-12 q-pa-xs"},_={key:2,class:"col-xs-12 q-pa-xs"},F={key:3,class:"col-xs-12 q-pa-xs"},P={key:4,class:"col-xs-12 q-pa-xs"},T={key:5,class:"col-xs-12 q-pa-xs"},R={class:"col-xs-12 q-pa-xs"},V={key:2,class:"col-xs-12"},U={class:"row"},y={class:"col-xs-12 col-sm-3 q-pa-xs"},L={class:"col-xs-12 col-sm-7 q-pa-xs"},G={class:"col-xs-12 col-sm-2 q-pa-xs"},B={key:3,class:"col-xs-12"},q={class:"row"},Q={class:"col-xs-12 col-sm-9 q-pa-xs"},$={class:"text-no-wrap"},X={class:"text-no-wrap"},W={class:"text-no-wrap"},H={class:"text-no-wrap"},Y={class:"text-no-wrap"},z={class:"text-no-wrap"},j={class:"text-no-wrap"},K={class:"text-no-wrap"};function J(e,a){var t=(0,r.g2)("q-page-header"),o=(0,r.g2)("tesoreriaLoading"),J=(0,r.g2)("q-select"),Z=(0,r.g2)("q-checkbox"),ee=(0,r.g2)("q-date"),ae=(0,r.g2)("q-popup-proxy"),te=(0,r.g2)("q-icon"),oe=(0,r.g2)("q-input"),ne=(0,r.g2)("q-option-group"),re=(0,r.g2)("q-card-main"),le=(0,r.g2)("q-card"),ie=(0,r.g2)("sie-grid"),se=(0,r.g2)("footer-grid"),ce=(0,r.g2)("q-item-main"),ue=(0,r.g2)("q-item-tile"),de=(0,r.g2)("q-item"),fe=(0,r.g2)("q-list"),pe=(0,r.g2)("q-dialog"),me=(0,r.g2)("q-card-section");return(0,r.uX)(),(0,r.Wv)(le,{class:"layout-v1 my-card",flat:"",bordered:""},{default:(0,r.k6)(function(){return[(0,r.bF)(t,{title:e.pageHeader.title,botones:e.pageHeader.botones,nivelAcceso:e.pageHeader.nivelAcceso,componente:e.pageHeader.componente,useTab:"",tabs:e.pageHeader.tabs,onActionTab:e.changeTipo},null,8,["title","botones","nivelAcceso","componente","tabs","onActionTab"]),(0,r.bF)(o,{modelValue:e.loading.showLoading,total:e.loading.total,procesados:e.loading.procesados},null,8,["modelValue","total","procesados"]),(0,r.bF)(me,null,{default:(0,r.k6)(function(){return[(0,r.bF)(le,{class:"col-12 q-card-legend"},{default:(0,r.k6)(function(){return[(0,r.bF)(re,{class:"row"},{default:(0,r.k6)(function(){return[2===e.selectTipo?((0,r.uX)(),(0,r.CE)("div",i,[(0,r.Lk)("div",s,[(0,r.Lk)("div",c,[(0,r.Lk)("div",u,[(0,r.Lk)("div",d,[(0,r.bF)(J,{modelValue:e.selectAnio,"onUpdate:modelValue":a[0]||(a[0]=function(a){return e.selectAnio=a}),"option-value":"value","option-label":"label",options:e.anio,label:"Año",onInput:e.getDeudaPorModificar},null,8,["modelValue","options","onInput"])]),(0,r.Lk)("div",f,[(0,r.bF)(J,{modelValue:e.selectMesIni,"onUpdate:modelValue":a[1]||(a[1]=function(a){return e.selectMesIni=a}),"option-value":"value","option-label":"label",options:e.mesIni,label:"Mes de Inicio",onInput:e.getDeudaPorModificar},null,8,["modelValue","options","onInput"])]),(0,r.Lk)("div",p,[(0,r.bF)(J,{modelValue:e.selectMesFin,"onUpdate:modelValue":a[2]||(a[2]=function(a){return e.selectMesFin=a}),"option-value":"value","option-label":"label",options:e.mesFin,label:"Mes de Final",onInput:e.getDeudaPorModificar},null,8,["modelValue","options","onInput"])])])]),(0,r.Lk)("div",m,[(0,r.Lk)("div",h,[(0,r.Lk)("div",v,[(0,r.bF)(J,{modelValue:e.selectPerfil,"onUpdate:modelValue":a[3]||(a[3]=function(a){return e.selectPerfil=a}),"option-value":"value","option-label":"label",options:e.perfil,onInput:e.getDeudaPorModificar,label:"Perfil"},null,8,["modelValue","options","onInput"])]),(0,r.Lk)("div",g,[(0,r.bF)(J,{modelValue:e.selectConcepto,"onUpdate:modelValue":a[4]||(a[4]=function(a){return e.selectConcepto=a}),"option-value":"value","option-label":"label",options:e.concepto,label:"Concepto",onInput:e.getDeudaPorModificar},null,8,["modelValue","options","onInput"])]),(0,r.Lk)("div",D,[(0,r.bF)(Z,{color:"primary",inline:!0,type:"checkbox",modelValue:e.selectMontoCero,"onUpdate:modelValue":a[5]||(a[5]=function(a){return e.selectMontoCero=a}),onInput:e.getDeudaPorModificar},{default:(0,r.k6)(function(){return n()(a[27]||(a[27]=[(0,r.eW)("Monto cero",-1)]))}),_:1},8,["modelValue","onInput"]),(0,r.bF)(Z,{color:"primary",inline:!0,type:"checkbox",modelValue:e.buscarPersona,"onUpdate:modelValue":a[6]||(a[6]=function(a){return e.buscarPersona=a})},{default:(0,r.k6)(function(){return n()(a[28]||(a[28]=[(0,r.eW)("Buscar Persona",-1)]))}),_:1},8,["modelValue"])])])]),(0,r.Lk)("div",O,[(0,r.Lk)("div",C,[(0,r.Lk)("div",b,[1===e.selectPerfil?((0,r.uX)(),(0,r.Wv)(J,{key:0,modelValue:e.selectNivel,"onUpdate:modelValue":a[7]||(a[7]=function(a){return e.selectNivel=a}),"option-value":"value","option-label":"label",options:e.nivel,onInput:e.getGrado,label:"Nivel"},null,8,["modelValue","options","onInput"])):(0,r.Q3)("v-if",!0)]),(0,r.Lk)("div",M,[1===e.selectPerfil?((0,r.uX)(),(0,r.Wv)(J,{key:0,modelValue:e.selectGrado,"onUpdate:modelValue":a[8]||(a[8]=function(a){return e.selectGrado=a}),"option-value":"value","option-label":"label",options:e.grado,label:"Grado",onInput:e.getSeccion},null,8,["modelValue","options","onInput"])):(0,r.Q3)("v-if",!0)]),(0,r.Lk)("div",E,[1===e.selectPerfil?((0,r.uX)(),(0,r.Wv)(J,{key:0,modelValue:e.selectSeccion,"onUpdate:modelValue":a[9]||(a[9]=function(a){return e.selectSeccion=a}),"option-value":"value","option-label":"label",options:e.seccion,label:"Sección",onInput:e.getDeudaPorModificar},null,8,["modelValue","options","onInput"])):(0,r.Q3)("v-if",!0)])])]),e.mostrarCategorias?((0,r.uX)(),(0,r.CE)("div",w,[(0,r.Lk)("div",N,[(0,r.Lk)("div",A,[(0,r.bF)(J,{modelValue:e.selectCategoria,"onUpdate:modelValue":a[10]||(a[10]=function(a){return e.selectCategoria=a}),"option-value":"value","option-label":"label",options:e.categorias,onInput:e.getDeudaPorModificar,label:"Categorias"},null,8,["modelValue","options","onInput"])])])])):(0,r.Q3)("v-if",!0)])])):(0,r.Q3)("v-if",!0),2===e.selectTipo?((0,r.uX)(),(0,r.CE)("div",I,[(0,r.Lk)("div",x,[(0,r.bF)(J,{label:"Tipo de Modificación","option-value":"value","option-label":"label",options:e.modificar,onInput:e.filterModificar,modelValue:e.selectModificar,"onUpdate:modelValue":a[11]||(a[11]=function(a){return e.selectModificar=a})},null,8,["options","onInput","modelValue"])]),"fecven"===e.selectModificar?((0,r.uX)(),(0,r.CE)("div",S,[(0,r.bF)(oe,{class:"tesoreria-components-date","reverse-fill-mask":"",modelValue:e.valueModificar,"onUpdate:modelValue":a[14]||(a[14]=function(a){return e.valueModificar=a}),maxlength:"10",mask:"##/##/####",label:"Nueva Fecha de Vencimiento",placeholder:"Selecciones nueva fecha de vencimiento"},{append:(0,r.k6)(function(){return[(0,r.bF)(te,{class:"cursor-pointer",name:"date_range"},{default:(0,r.k6)(function(){return[(0,r.bF)(ae,{ref:"qDateProxy","transition-show":"scale","transition-hide":"scale"},{default:(0,r.k6)(function(){return[(0,r.bF)(ee,{mask:"DD/MM/YYYY",modelValue:e.valueModificar,"onUpdate:modelValue":a[12]||(a[12]=function(a){return e.valueModificar=a}),onInput:a[13]||(a[13]=function(a){return e.closeModalCalendar("qDateProxy")})},null,8,["modelValue"])]}),_:1},512)]}),_:1})]}),_:1},8,["modelValue"])])):(0,r.Q3)("v-if",!0),"monto"===e.selectModificar?((0,r.uX)(),(0,r.CE)("div",k,[(0,r.bF)(oe,{modelValue:e.valueModificar,"onUpdate:modelValue":a[15]||(a[15]=function(a){return e.valueModificar=a}),maxlength:"10",label:"Nuevo Monto",placeholder:"Ingrese nuevo monto"},null,8,["modelValue"])])):(0,r.Q3)("v-if",!0),"aummonto"===e.selectModificar?((0,r.uX)(),(0,r.CE)("div",_,[(0,r.bF)(oe,{modelValue:e.valueModificar,"onUpdate:modelValue":a[16]||(a[16]=function(a){return e.valueModificar=a}),maxlength:"10",label:"Monto a Aumentar",placeholder:"Ingrese el monto a sumar a la deuda"},null,8,["modelValue"])])):(0,r.Q3)("v-if",!0),"mora"===e.selectModificar?((0,r.uX)(),(0,r.CE)("div",F,[(0,r.bF)(ne,{modelValue:e.valueModificar,"onUpdate:modelValue":a[17]||(a[17]=function(a){return e.valueModificar=a}),options:e.mora,color:"purple"},null,8,["modelValue","options"])])):(0,r.Q3)("v-if",!0),"descuento"===e.selectModificar?((0,r.uX)(),(0,r.CE)("div",P,[(0,r.bF)(oe,{modelValue:e.valueModificar,"onUpdate:modelValue":a[18]||(a[18]=function(a){return e.valueModificar=a}),maxlength:"10",label:"Importe de Descuento",placeholder:"Ingrese el nuevo monto del descuento"},null,8,["modelValue"])])):(0,r.Q3)("v-if",!0),"copiarDescuento"===e.selectModificar?((0,r.uX)(),(0,r.CE)("div",T,[(0,r.bF)(J,{modelValue:e.selectMesDesc,"onUpdate:modelValue":a[19]||(a[19]=function(a){return e.selectMesDesc=a}),"option-value":"value","option-label":"label",options:e.mesDesc,label:"Mes a Copiar el desc.",onInput:e.getDeudaPorModificar},null,8,["modelValue","options","onInput"])])):(0,r.Q3)("v-if",!0),(0,r.Lk)("div",R,[(0,r.bF)(Z,{color:"primary",inline:!0,type:"checkbox",modelValue:e.soloBecados,"onUpdate:modelValue":a[20]||(a[20]=function(a){return e.soloBecados=a}),onInput:e.getDeudaPorModificar},{default:(0,r.k6)(function(){return n()(a[29]||(a[29]=[(0,r.eW)("Mostrar Solo Becados",-1)]))}),_:1},8,["modelValue","onInput"])])])):(0,r.Q3)("v-if",!0),1===e.selectTipo?((0,r.uX)(),(0,r.CE)("div",V,[(0,r.Lk)("div",U,[(0,r.Lk)("div",y,[(0,r.bF)(J,{modelValue:e.selectPerfil,"onUpdate:modelValue":a[21]||(a[21]=function(a){return e.selectPerfil=a}),"option-value":"value","option-label":"label",options:e.perfil,onInput:e.getPerPerfil,label:"Perfil"},null,8,["modelValue","options","onInput"])]),(0,r.Lk)("div",L,[(0,r.bF)(J,{modelValue:e.selectPersona,"onUpdate:modelValue":a[22]||(a[22]=function(a){return e.selectPersona=a}),"option-value":"value","option-label":"label",options:e.persona,onInput:e.getDeudaPorModificar,label:"Persona"},null,8,["modelValue","options","onInput"])]),(0,r.Lk)("div",G,[(0,r.bF)(J,{modelValue:e.selectAnio,"onUpdate:modelValue":a[23]||(a[23]=function(a){return e.selectAnio=a}),"option-value":"value","option-label":"label",options:e.anio,onInput:e.getDeudaPorModificar,label:"Año"},null,8,["modelValue","options","onInput"])])])])):(0,r.Q3)("v-if",!0),2===e.selectTipo?((0,r.uX)(),(0,r.CE)("div",B,[(0,r.Lk)("div",q,[(0,r.Lk)("div",Q,[e.buscarPersona?((0,r.uX)(),(0,r.Wv)(oe,{key:0,modelValue:e.filter.persona,"onUpdate:modelValue":a[24]||(a[24]=function(a){return e.filter.persona=a}),onInput:e.buscarPersonaDeuda,label:"Persona",placeholder:"Ingresar Persona"},null,8,["modelValue","onInput"])):(0,r.Q3)("v-if",!0)])])])):(0,r.Q3)("v-if",!0)]}),_:1})]}),_:1}),(0,r.Lk)("div",null,[(0,r.bF)(ie,{class:"q-mt-xs fix-tab-height ag-theme-balham",ref:"miGrid",columnDefs:e.columnDefs,rowData:e.rowData,frameworkComponents:e.frameworkComponents,height:e.height,rowIdField:"ID_DEUDA",onGridReady:e.onGridReady,onRowSelected:e.rowSelected,rowSelection:"multiple",rowClassRules:"rowClassRules",onRowClicked:e.clicked,style:(0,l.Tr)(e.styleGrilla),enableCellTextSelection:""},null,8,["columnDefs","rowData","frameworkComponents","height","onGridReady","onRowSelected","onRowClicked","style"]),(0,r.bF)(se,{modelValue:e.pagina,"onUpdate:modelValue":a[25]||(a[25]=function(a){return e.pagina=a}),max:e.pages,onLoad:e.getDeudaPorModificar,rows:e.rowData},null,8,["modelValue","max","onLoad","rows"])]),e.modalDetalle?((0,r.uX)(),(0,r.Wv)(pe,{key:0,modelValue:e.modalDetalle,"onUpdate:modelValue":a[26]||(a[26]=function(a){return e.modalDetalle=a}),"stack-buttons":""},{title:(0,r.k6)(function(){return[(0,r.Lk)("span",null,(0,l.v_)(e.datosExtras.ALUCOD)+" - "+(0,l.v_)(e.datosExtras.NOMBRE)+" ("+(0,l.v_)(e.datosExtras.ID_PERSONA)+")",1)]}),body:(0,r.k6)(function(){return[(0,r.Lk)("div",null,[(0,r.bF)(fe,{class:"no-border"},{default:(0,r.k6)(function(){return[e.datosExtras.ID_DEUDA&&String(e.datosExtras.ID_DEUDA).length>0?((0,r.uX)(),(0,r.Wv)(de,{key:0},{default:(0,r.k6)(function(){return[(0,r.bF)(ce,{class:"label"},{default:(0,r.k6)(function(){return n()(a[30]||(a[30]=[(0,r.eW)("Id Deuda",-1)]))}),_:1}),(0,r.bF)(ue,{class:"label text-right",style:{width:"150px"}},{default:(0,r.k6)(function(){return[(0,r.Lk)("span",$,(0,l.v_)(e.datosExtras.ID_DEUDA),1)]}),_:1})]}),_:1})):(0,r.Q3)("v-if",!0),e.datosExtras.RECIBOSUD&&String(e.datosExtras.RECIBOSUD).length>0?((0,r.uX)(),(0,r.Wv)(de,{key:1},{default:(0,r.k6)(function(){return[(0,r.bF)(ce,{class:"label"},{default:(0,r.k6)(function(){return n()(a[31]||(a[31]=[(0,r.eW)("Recibosud",-1)]))}),_:1}),(0,r.bF)(ue,{class:"label text-right",style:{width:"150px"}},{default:(0,r.k6)(function(){return[(0,r.Lk)("span",X,(0,l.v_)(e.datosExtras.RECIBOSUD),1)]}),_:1})]}),_:1})):(0,r.Q3)("v-if",!0),e.datosExtras.COLEGIO&&String(e.datosExtras.COLEGIO).length>0?((0,r.uX)(),(0,r.Wv)(de,{key:2},{default:(0,r.k6)(function(){return[(0,r.bF)(ce,{class:"label"},{default:(0,r.k6)(function(){return n()(a[32]||(a[32]=[(0,r.eW)("Colegio",-1)]))}),_:1}),(0,r.bF)(ue,{class:"label text-right",style:{width:"150px"}},{default:(0,r.k6)(function(){return[(0,r.Lk)("span",W,(0,l.v_)(e.datosExtras.COLEGIO),1)]}),_:1})]}),_:1})):(0,r.Q3)("v-if",!0),e.datosExtras.FECHA_CREACION&&String(e.datosExtras.FECHA_CREACION).length>0?((0,r.uX)(),(0,r.Wv)(de,{key:3},{default:(0,r.k6)(function(){return[(0,r.bF)(ce,{class:"label"},{default:(0,r.k6)(function(){return n()(a[33]||(a[33]=[(0,r.eW)("Fec. Creación",-1)]))}),_:1}),(0,r.bF)(ue,{class:"label text-right",style:{width:"150px"}},{default:(0,r.k6)(function(){return[(0,r.Lk)("span",H,(0,l.v_)(e.datosExtras.FECHA_CREACION),1)]}),_:1})]}),_:1})):(0,r.Q3)("v-if",!0),e.datosExtras.USUCOD&&String(e.datosExtras.USUCOD).length>0?((0,r.uX)(),(0,r.Wv)(de,{key:4},{default:(0,r.k6)(function(){return[(0,r.bF)(ce,{class:"label"},{default:(0,r.k6)(function(){return n()(a[34]||(a[34]=[(0,r.eW)("Usuario",-1)]))}),_:1}),(0,r.bF)(ue,{class:"label text-right",style:{width:"150px"}},{default:(0,r.k6)(function(){return[(0,r.Lk)("span",Y,(0,l.v_)(e.datosExtras.USUCOD),1)]}),_:1})]}),_:1})):(0,r.Q3)("v-if",!0),e.datosExtras.NUMPRO&&String(e.datosExtras.NUMPRO).length>0?((0,r.uX)(),(0,r.Wv)(de,{key:5},{default:(0,r.k6)(function(){return[(0,r.bF)(ce,{class:"label"},{default:(0,r.k6)(function(){return n()(a[35]||(a[35]=[(0,r.eW)("Nro. de Proceso",-1)]))}),_:1}),(0,r.bF)(ue,{class:"label text-right",style:{width:"150px"}},{default:(0,r.k6)(function(){return[(0,r.Lk)("span",z,(0,l.v_)(e.datosExtras.NUMPRO),1)]}),_:1})]}),_:1})):(0,r.Q3)("v-if",!0),e.datosExtras.ESTCOB&&String(e.datosExtras.ESTCOB).length>0?((0,r.uX)(),(0,r.Wv)(de,{key:6},{default:(0,r.k6)(function(){return[(0,r.bF)(ce,{class:"label"},{default:(0,r.k6)(function(){return n()(a[36]||(a[36]=[(0,r.eW)("Estado",-1)]))}),_:1}),(0,r.bF)(ue,{class:"label text-right",style:{width:"150px"}},{default:(0,r.k6)(function(){return[(0,r.Lk)("span",j,(0,l.v_)(e.datosExtras.ESTCOB),1)]}),_:1})]}),_:1})):(0,r.Q3)("v-if",!0),e.datosExtras.MORA&&String(e.datosExtras.MORA).length>0?((0,r.uX)(),(0,r.Wv)(de,{key:7},{default:(0,r.k6)(function(){return[(0,r.bF)(ce,{class:"label"},{default:(0,r.k6)(function(){return n()(a[37]||(a[37]=[(0,r.eW)("Mora",-1)]))}),_:1}),(0,r.bF)(ue,{class:"label text-right",style:{width:"150px"}},{default:(0,r.k6)(function(){return[(0,r.Lk)("span",K,(0,l.v_)(e.datosExtras.MORA),1)]}),_:1})]}),_:1})):(0,r.Q3)("v-if",!0)]}),_:1})])]}),_:1},8,["modelValue"])):(0,r.Q3)("v-if",!0)]}),_:1})]}),_:1})}var Z=t(41562),ee=t.n(Z),ae=t(76080),te=t.n(ae),oe=t(45254),ne=t.n(oe),re=(t(34634),t(30683),t(74260),t(39866),t(52133),t(10239),t(32203),t(90095),t(6724),t(11777),t(15547),t(515),t(27153),t(62540),t(88390),t(62692),t(13715),t(88567)),le=t(95718),ie=t(53380),se=t(3927),ce=t(54489),ue=t(64208),de=t(12143),fe=t(95477),pe=t(80660),me=t(6123),he=t(12533),ve=t(36408),ge=t(54267),De=t(57668),Oe=t(18105),Ce=t(42037),be=t(27560),Me=t(75053),Ee=["checked"];function we(e,a){return(0,r.uX)(),(0,r.CE)("input",{type:"checkbox",onClick:a[0]||(a[0]=function(a){return e.checkedHandler(a,e.params)}),checked:"S"===e.params.value},null,8,Ee)}var Ne=t(41615),Ae={name:"checkboxRender",props:{},methods:{checkedHandler:function(e,a){e.target.checked?a.data[a.colDef.field]="S":a.data[a.colDef.field]="N"}}},Ie=t(12807);const xe=(0,Ie.A)(Ae,[["render",we]]);var Se=xe,ke=t(33001),_e={components:{QSelect:ce.S},data:function(){return{options:[],value:null}},beforeMount:function(){var e=this;return ne()(te()().m(function a(){var t;return te()().w(function(a){while(1)switch(a.n){case 0:if(t=[],"string"!==typeof e.params.api){a.n=2;break}return a.n=1,pe.$http.get(e.params.api,{params:{response:"combo"}});case 1:t=a.v,a.n=3;break;case 2:t=e.params.options||[];case 3:e.options=n()(t),e.value=e.params.value||e.params.defaultvalue;case 4:return a.a(2)}},a)}))()},render:function(){var e=this;return(0,r.h)(ce.S,{modelValue:e.value,options:e.options,"hide-selected":!0,"fill-input":!0,"use-input":!0,onInput:function(a){e.value=a,e.params.setValue(a)},onFilter:function(a,t){t(function(){var t=n()(e.params.options);e.options=(0,ke.filterArray)(a,{field:e.params.dLabel||"label",list:t})})}})}},Fe=t(64303),Pe=t(3112),Te=t(6557),Re=t(17915),Ve=t(78840),Ue=t(2652),ye={components:{QPageHeader:Ue.A,QDate:de.A,QPopupProxy:fe.A,QCard:re.A,QCardSection:le.A,QSelect:ce.S,QOptionGroup:me.EX,QSeparator:ie.A,sieGrid:ve.A,QInput:ue.A,footerGrid:be.A,sieModal:Me.A,crearBotones:Fe.A,QCheckbox:Pe.A,tesoreriaLoading:Re.A,QDialog:me.OQ,QItem:me.H0,QItemMain:me.mF,QItemSeparator:me.CL,QItemSide:me.n1,QItemTile:me.lp,QList:me.Mb,QCardMain:me.d1,QIcon:me.bP},created:function(){return ne()(te()().m(function e(){return te()().w(function(e){while(1)switch(e.n){case 0:return e.a(2)}},e)}))()},data:function(){return{statusBar:null,nameComponete:"ModificarDeuda",perfil:[],actualizar:0,selectPerfil:1,categorias:[{label:"Todos",value:"T"}],selectCategoria:"T",nivelAcceso:(0,De["default"])().ruta.nivel,columnDefs:null,rowData:null,height:"80%",api:null,frameworkComponents:null,nivel:[],selectAnio:String((0,De["default"])().ano),selectNivel:"I",grado:[],selectGrado:"4",seccion:[],selectSeccion:"A",concepto:[],selectConcepto:"01",mesIni:[],selectMesIni:Ne["default"].CURRENT_MONTH,mesFin:[],selectMesFin:Ne["default"].CURRENT_MONTH,mesDesc:[],selectMesDesc:Ne["default"].CURRENT_MONTH,anio:[],tipo:[{label:"Individual",value:1},{label:"Grupal",value:2}],selectTipo:1,modificar:[{label:"Fecha vencimiento",value:"fecven"},{label:"Monto",value:"monto"},{label:"Aumentar monto",value:"aummonto"},{label:"Cobro Mora",value:"mora"},{label:"Descuento Fijo",value:"descuento"},{label:"Copiar Descuento Fijo",value:"copiarDescuento"}],selectModificar:"monto",filtro:[{label:"Filtrar Monto Cero",value:"montoCero"}],selectFiltro:[],selectMontoCero:!1,persona:[],selectPersona:"",buscar:!1,sinBeca:!1,montoCero:1,fecven:!0,monto:!1,aummonto:!1,valueModificar:"01/01/"+(0,De["default"])().ano,alumno:"",pagina:1,pages:1,func:!1,columnTypes:null,openModal:!1,deudasGrupales:{},monOption:[],moneda:"",mora:[{label:"SI",value:1},{label:"NO",value:0}],botones:[],rows:0,filter:{persona:""},buscarPersona:!1,soloBecados:!1,dataInicial:[],styleGrilla:"width: 100wv; height: calc(100vh - 350px)",dataEmpresa:[],P_COBRO_SEDE:!1,loading:{showLoading:!1,procesados:0,total:0},modalDetalle:!1,datosExtras:{},estadosCobranza:[],CLAVE_ESTADOS_COBRO:"0015",pageHeader:{botones:[],componente:"modificacionDeudas",tabs:[{name:1,label:"Individual"},{name:2,label:"Grupal"}],tabsKeys:{individual:"index",grupal:"grupal"},tabActive:1,title:"Modificación de Deudas",nivelAcceso:(0,De["default"])().ruta.nivel},perfil_usu_admin:!1,mostrarCategorias:!1}},methods:{obtenerUsuarioPerfiles:function(){var e=this;return ne()(te()().m(function a(){var t,o;return te()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,pe.$http.get("api/UsuarioController/getUsuarioPersonal",{params:{parametros:{}}});case 1:t=a.v,o=t.find(function(e){return e.USUCOD===(0,De["default"])().usucod&&e.TIPCOD===Ne["default"].PERFIL_USUARIO_ADMINISTRADOR}),e.perfil_usu_admin=o&&Object.keys(o).length>0;case 2:return a.a(2)}},a)}))()},closeModalCalendar:function(e){this.$refs[e].hide()},crearBotones:function(){this.botones=[{label:"Actualizar",icon:"settings",click:this.submit,minAcceso:Ne["default"].LECTURA_ESCRITURA}],this.pageHeader.botones=this.botones},buscarPersonaDeuda:function(){var e=this;return ne()(te()().m(function a(){var t,o,r;return te()().w(function(a){while(1)switch(a.n){case 0:return t={NOMBRE:e.filter.persona},o=n()(e.dataInicial),a.n=1,(0,Te.A)({keys:t,data:o});case 1:r=a.v,e.rowData=r;case 2:return a.a(2)}},a)}))()},clicked:function(e){},getMeses:function(){var e=this;return ne()(te()().m(function a(){return te()().w(function(a){while(1)switch(a.n){case 0:e.mesIni=(0,ge.generarMeses)(),e.mesFin=(0,ge.generarMeses)(),e.mesDesc=(0,ge.generarMeses)();case 1:return a.a(2)}},a)}))()},rowSelected:function(e){this.currentRow=e.data},getPerfiles:function(){var e=this;return ne()(te()().m(function a(){return te()().w(function(a){while(1)switch(a.n){case 0:return e.perfil=[],a.n=1,Ne["default"].API_PERFILES();case 1:e.perfil=a.v;case 2:return a.a(2)}},a)}))()},modalModificar:function(e){var a=this;return ne()(te()().m(function e(){return te()().w(function(e){while(1)switch(e.n){case 0:a.selectModificar=!0,a.openModal=!0;case 1:return e.a(2)}},e)}))()},getEstadosCobranza:function(){var e=this;return ne()(te()().m(function a(){return te()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,pe.$http.get("api/EstadoTablaController/getEstadoTabla",{params:{parametros:{CODIGO:e.CLAVE_ESTADOS_COBRO}}});case 1:e.estadosCobranza=a.v;case 2:return a.a(2)}},a)}))()},mostarDatosExtras:function(e){var a=e.data,t="",o="",n="",r=this.persona.find(function(e){return e.value===a.ID_PERSONA});if(o=r.label.split("|").at(0),a.ID_COLEGIO){var l=this.dataEmpresa.find(function(e){return Number(e.value)===Number(a.ID_COLEGIO)});t=l.label}var i=this.estadosCobranza.find(function(e){return e.CLAVE===a.ESTCOB});i&&Object.keys(i).length>0&&(n=i.VALOR),this.datosExtras={ID_DEUDA:a.ID_DEUDA,RECIBOSUD:a.RECIBOSUD,FECHA_CREACION:(0,ge.formatearFechaHora)(new Date(a.FECHA_CREACION)),USUCOD:a.USUCOD,NUMPRO:a.NUMPRO,COLEGIO:t,NOMBRE:o,MORA:a.MORA?"Sí":"No",ESTCOB:n,ALUCOD:a.ALUCOD,ID_PERSONA:a.ID_PERSONA},this.modalDetalle=!0},columns:function(){var e=this;return ne()(te()().m(function a(){return te()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,e.obtenerUsuarioPerfiles();case 1:e.columnDefs=[],e.rowData=[],1===e.selectTipo?(e.columnDefs.push({width:40,headerName:"",filter:!1,headerCheckboxSelection:!0,headerCheckboxSelectionFilteredOnly:!0,checkboxSelection:!0},{headerName:"modified",field:"modified",hide:!0},{headerName:"Id Deuda",field:"ID_DEUDA",width:80},{headerName:"Año",field:"ANOCOB",cellRenderer:_e,cellRendererParams:{options:e.anio},width:100},{headerName:"Mes",field:"MESCOB",cellRenderer:_e,cellRendererParams:{options:(0,ge.generarMeses)()},width:150},{headerName:"Cod.",field:"CONCOB",width:60},{headerName:"Concepto",field:"CONDES",width:150}),e.columnDefs.push({headerName:"Fec. Emisión",field:"FECEMI",cellRenderer:he.A,valueFormatter:function(e){return(0,Oe.Ay)(e.value,"DD/MM/YYYY")},width:150},{headerName:"Fec. Venc.",field:"FECVEN",cellRenderer:he.A,valueFormatter:function(e){return(0,Oe.Ay)(e.value,"DD/MM/YYYY")},width:150},{headerName:"B/E",field:"BOLEMI",cellRenderer:Se,width:50,hide:!e.perfil_usu_admin},{headerName:"",field:"MONSIG",cellStyle:{textAlign:"right"},width:40},{headerName:"Monto Inicial",field:"MONTOINI",cellStyle:{textAlign:"right"},valueFormatter:Ce.toFixed,width:110,editable:!0},{headerName:"Monto Cobrar",field:"MONTOCOB",cellStyle:{textAlign:"right"},valueFormatter:Ce.toFixed,width:110},{headerName:"Desc.",field:"MONTODES",cellStyle:{textAlign:"right"},valueFormatter:Ce.toFixed,width:90,editable:!0},{headerName:"Saldo",field:"MONTOPEN",cellStyle:{textAlign:"right"},valueFormatter:Ce.toFixed,width:110},{headerName:"Perfil",field:"ID_PERFIL",cellRenderer:_e,cellRendererParams:{options:e.perfil},width:150},{cellRenderer:Ve.A,cellRendererParams:{icon:"remove_red_eye",onClick:e.mostarDatosExtras},width:50})):2===e.selectTipo&&(e.columnDefs=[{headerName:"Código",field:"CODIGO",width:90},{headerName:"Apellidos y Nombres",field:"NOMBRE",width:260},{headerName:"Concepto",field:"CONCEPTO",width:180}],e.mostrarCategorias&&e.columnDefs.push({headerName:"Categoría",field:"CATEGORIA",width:150}),e.columnDefs.push({headerName:"Fecha Venc.",field:"FECVEN",valueFormatter:function(e){return(0,Oe.Ay)(e.value,"DD/MM/YYYY")},width:100},{headerName:"Mon.",field:"MONEDA",width:60,cellStyle:{textAlign:"right"}},{headerName:"Monto Inicial",field:"MONTOINI",width:110,valueFormatter:Ce.toFixed,cellStyle:{textAlign:"right"}},{headerName:"Monto Cobrar",field:"MONTOCOB",width:110,valueFormatter:Ce.toFixed,cellStyle:{textAlign:"right"}},{headerName:"Desc.",field:"MONTODES",width:90,valueFormatter:Ce.toFixed,cellStyle:{textAlign:"right"}},{headerName:"Saldo",field:"MONTOPEN",width:100,valueFormatter:Ce.toFixed,cellStyle:{textAlign:"right"}},{headerName:"Mora",field:"MORA",width:60},{headerName:"modified",field:"modified",hide:!0}));case 2:return a.a(2)}},a)}))()},submit:function(){var e=this;return ne()(te()().m(function a(){return te()().w(function(a){while(1)switch(a.n){case 0:2===e.selectTipo?e.getUpdateDeudasGrupales():e.updateModificarDeuda();case 1:return a.a(2)}},a)}))()},verificarDeudasModificar:function(e){return ne()(te()().m(function a(){var t;return te()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,pe.$http.post("api/cobroController/verificarUpdateDeudas",{parametros:e});case 1:return t=a.v,a.a(2,t)}},a)}))()},ajaxUpdateDeuda:function(e){var a=this,t=[];e.forEach(function(e){e.FECEMI=(0,Oe.Ay)(e.FECEMI),e.FECVEN=(0,Oe.Ay)(e.FECVEN),t.push(e)});var o={id_perfil:this.selectPerfil,id_persona:this.selectPersona,anocob:this.selectAnio,registros:t};this.$confirm("¿Esta seguro de modificar las deudas seleccionadas?","info").onOk(ne()(te()().m(function e(){return te()().w(function(e){while(1)switch(e.n){case 0:return a.$q.loading.show(),e.n=1,pe.$http.put("api/cobroController/putUpdateDeudasIndividual",{parametros:o}).then(function(e){a.$q.loading.hide(),a.$alert(e.message,"success"),a.getDeudaPorModificar(a.selectPersona)}).catch(function(e){a.$alert(e.error.message,"warning"),a.$q.loading.hide()});case 1:return e.a(2)}},e)})))},updateModificarDeuda:function(){if(this.selectPersona){var e=this.api.getSelectedRows();e.length>0?this.ajaxUpdateDeuda(e):this.$alert("No modificó ninguna deuda","warning")}else this.$alert("Debe de elegir una persona para modificar las deudas","warning")},prepararUpdate:function(e){var a={ID_DEUDA:e.ID_DEUDA};return this.selectModificar&&("fecven"===this.selectModificar?a.FECVEN=new Date((0,ge.convertToYMD)(this.valueModificar)):"mora"===this.selectModificar?a.MORA=this.valueModificar:"aummonto"===this.selectModificar?a.MONTOINI=Number(e.MONTOINI)+Number(this.valueModificar):"monto"===this.selectModificar?a.MONTOINI=Number(this.valueModificar):("descuento"===this.selectModificar||"copiarDescuento"===this.selectModificar)&&(a.MONTODES=Number(this.valueModificar))),a},updateCopiarDescFijo:function(e,a){var t=this;return ne()(te()().m(function o(){var n;return te()().w(function(o){while(1)switch(o.n){case 0:n={error:[],procesados:[]},t.loading.procesados=0,t.loading.total=a.length,t.$confirm(e,"info").onOk(ne()(te()().m(function e(){var o,r,l,i,s;return te()().w(function(e){while(1)switch(e.p=e.n){case 0:t.loading.showLoading=!0,o=ee()(a),e.p=1,o.s();case 2:if((r=o.n()).done){e.n=4;break}return l=r.value,i={ID_PERSONA:l.ID_PERSONA,ID_DEUDA:l.ID_DEUDA,MESREF:t.selectMesDesc},e.n=3,pe.$http.put("api/cobroController/putCopiarDescuentoFijo",{parametros:i}).then(function(e){n.procesados.push(e.data)}).catch(function(e){n.error.push(e.error.message)}).finally(function(){t.loading.procesados++});case 3:e.n=2;break;case 4:e.n=6;break;case 5:e.p=5,s=e.v,o.e(s);case 6:return e.p=6,o.f(),e.f(6);case 7:t.loading.showLoading=!1,n.procesados.length>0?t.$alert("Proceso Finalizado: (".concat(n.procesados.length,") Deudas Actualizadas Satisfactoriamente"),"success"):n.error.length>0?(console.log("Errores: ",n.error),t.$alert("Proceso Finalizado: (".concat(n.error.length,") Deudas con con problemas"),"warning")):t.$alert("Ha ocurrido un problema obteniendo la respuesta del sistema","warning"),t.getDeudasGrupal();case 8:return e.a(2)}},e,null,[[1,5,6,7]])})));case 1:return o.a(2)}},o)}))()},updateDeudasGrupales:function(e,a){var t=this;return ne()(te()().m(function o(){var n;return te()().w(function(o){while(1)switch(o.n){case 0:n={error:[],procesados:[]},t.loading.procesados=0,t.loading.total=a.length,t.$confirm(e,"info").onOk(ne()(te()().m(function e(){var o,r,l,i,s,c;return te()().w(function(e){while(1)switch(e.p=e.n){case 0:t.loading.showLoading=!0,o=ee()(a),e.p=1,o.s();case 2:if((r=o.n()).done){e.n=4;break}return l=r.value,i=t.prepararUpdate(l),s={registros:[i],id_perfil:t.selectPerfil,id_persona:l.ID_PERSONA,anocob:t.selectAnio},e.n=3,pe.$http.put("api/cobroController/putUpdateDeudasIndividual",{parametros:s}).then(function(e){n.procesados.push(e.data)}).catch(function(e){n.error.push(e.error.message)}).finally(function(){t.loading.procesados++});case 3:e.n=2;break;case 4:e.n=6;break;case 5:e.p=5,c=e.v,o.e(c);case 6:return e.p=6,o.f(),e.f(6);case 7:t.loading.showLoading=!1,n.procesados.length>0?t.$alert("Proceso Finalizado: (".concat(n.procesados.length,") Deudas Actualizadas Satisfactoriamente"),"success"):n.error.length>0?(console.log("Errores: ",n.error),t.$alert("Proceso Finalizado: (".concat(n.error.length,") Deudas con con problemas"),"warning")):t.$alert("Ha ocurrido un problema obteniendo la respuesta del sistema","warning"),t.getDeudasGrupal();case 8:return e.a(2)}},e,null,[[1,5,6,7]])})));case 1:return o.a(2)}},o)}))()},updateFechaDeudasGrupales:function(e){this.updateDeudasGrupales("¿Esta seguro en cambiar la fecha de vencimiento de las (".concat(e.length,") deudas seleccionadas a ").concat(this.valueModificar," ?"),e)},updateMoraDeudasGrupales:function(e){1===this.valueModificar?this.updateDeudasGrupales("¿Esta seguro de aplicar mora a las (".concat(e.length,") deudas seleccionadas?"),e):this.updateDeudasGrupales("¿Esta seguro de quitar la mora a las (".concat(e.length,") deudas seleccionadas?"),e)},aumentarMontoDeudasGrupales:function(e){var a=Number(this.valueModificar);0===a?this.$alert("El importe debe ser mayor a cero (0.00)","warning"):this.updateDeudasGrupales("¿Esta seguro aumentar ".concat(a.toFixed(2)," a las (").concat(e.length,") deudas seleccionadas?"),e)},updateMontoDeudasGrupales:function(e){var a=Number(this.valueModificar);0===a?this.updateDeudasGrupales("¿Esta seguro de recudir a cero (0.00) las (".concat(e.length,") deudas seleccionadas?"),e):this.updateDeudasGrupales("¿Esta seguro de cambiar el monto de las (".concat(e.length,") deudas seleccionadas por ").concat(a.toFixed(2)," ?"),e)},updateDescuentoFijo:function(e){var a=Number(this.valueModificar);this.updateDeudasGrupales("¿Esta seguro de modificar el descuento a ".concat(a.toFixed(2)," con las (").concat(e.length,") deudas seleccionadas?"),e)},updateCopiarDescuentoFijo:function(e){var a=this;return ne()(te()().m(function t(){var o,n,r;return te()().w(function(t){while(1)switch(t.n){case 0:return o="",t.n=1,Ne["default"].MESES();case 1:for(n=t.v,r=0;r<n.length;r++)n[r].value===a.selectMesDesc&&(o=n[r].label);return t.n=2,a.updateCopiarDescFijo("¿Esta seguro de copiar el descuento de ".concat(o," a las (").concat(e.length,") deudas seleccionadas?"),e);case 2:return t.a(2)}},t)}))()},getUpdateDeudasGrupales:function(){var e=this.api.getSelectedRows(),a=[];e.length>0?(e.map(function(e){var t=e.ID_DEUDA,o=e.MONTOCOB,n=e.MONTODES,r=e.MONTOINI,l=e.MONTOPEN,i=e.ID_PERSONA,s=e.FECVEN;a.push({ID_DEUDA:t,MONTOCOB:o,MONTODES:n,MONTOINI:r,ID_PERSONA:i,MONTOPEN:l,FECVEN:s})}),"fecven"===this.selectModificar?this.updateFechaDeudasGrupales(a):"monto"===this.selectModificar?this.updateMontoDeudasGrupales(a):"aummonto"===this.selectModificar?this.aumentarMontoDeudasGrupales(a):"mora"===this.selectModificar?this.updateMoraDeudasGrupales(a):"descuento"===this.selectModificar?this.updateDescuentoFijo(a):"copiarDescuento"===this.selectModificar?this.updateCopiarDescuentoFijo(a):this.$alert("No seleccionó campo para actualizar","warning")):this.$alert("No seleccionó deudas para actualizar","warning")},getMonedas:function(){var e=this;return ne()(te()().m(function a(){return te()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,Ne["default"].API_MONEDAS();case 1:e.monOption=a.v,e.moneda=Ne["default"].MONEDA_LOCAL;case 2:return a.a(2)}},a)}))()},changeTipo:function(e){this.selectTipo=e,1===this.selectTipo?(this.styleGrilla="width: 100wv; height: calc(100vh - 350px)",this.columns(),this.getDeudaPorModificar()):(this.styleGrilla="width: 100wv; height: calc(100vh - 455px)",this.selectModificar="",this.valueModificar="",this.columns(),this.getDeudaPorModificar())},filterModificar:function(e){var a=this;return ne()(te()().m(function t(){var o;return te()().w(function(t){while(1)switch(t.n){case 0:a.selectModificar=e,o=e,t.n="fecven"===o?1:"monto"===o?2:"aummonto"===o?3:"mora"===o?4:"descuento"===o?5:6;break;case 1:return a.valueModificar="01/01/"+(0,De["default"])().ano,a.fecven=!0,a.monto=!1,a.aummonto=!1,t.a(3,6);case 2:return a.valueModificar=0,a.fecven=!1,a.monto=!0,a.aummonto=!1,t.a(3,6);case 3:return a.valueModificar=0,a.fecven=!1,a.monto=!1,a.aummonto=!0,t.a(3,6);case 4:return a.valueModificar=1,a.fecven=!1,a.monto=!1,a.aummonto=!1,t.a(3,6);case 5:return a.valueModificar=0,t.a(3,6);case 6:return t.n=7,a.getDeudasGrupal();case 7:return t.a(2)}},t)}))()},getItems:function(e){var a=this.objectItems(e);this.buscar=!!a.nombre,this.sinBeca=!!a.sinBeca,this.montoCero=!!a.montoCero},getnivel:function(){var e=this;return ne()(te()().m(function a(){return te()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,Ne["default"].API_NIVELES();case 1:e.nivel=a.v,e.selectNivel=Ne["default"].TODOS;case 2:return a.a(2)}},a)}))()},getGrado:function(){var e=arguments,a=this;return ne()(te()().m(function t(){return te()().w(function(t){while(1)switch(t.n){case 0:return e.length>0&&void 0!==e[0]&&e[0],t.n=1,Ne["default"].API_GRADOS(a.selectNivel);case 1:a.grado=t.v,a.selectGrado=Ne["default"].TODOS,a.getDeudaPorModificar();case 2:return t.a(2)}},t)}))()},getSeccion:function(){var e=this;return ne()(te()().m(function a(){return te()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,Ne["default"].API_SECCIONES(e.selectGrado,e.selectNivel);case 1:e.seccion=a.v,e.selectSeccion=Ne["default"].TODOS,e.getDeudaPorModificar();case 2:return a.a(2)}},a)}))()},getConcepto:function(){var e=this;return ne()(te()().m(function a(){return te()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,Ne["default"].API_CONCEPTOS();case 1:e.concepto=a.v,e.selectConcepto="01";case 2:return a.a(2)}},a)}))()},onGridReady:function(e){this.api=e.api},getDeudaPorModificar:function(){var e=this;return ne()(te()().m(function a(){return te()().w(function(a){while(1)switch(a.n){case 0:1===e.selectTipo?e.getDeudasIndividual():2===e.selectTipo&&e.getDeudasGrupal();case 1:return a.a(2)}},a)}))()},getDeudasGrupal:function(){var e=this;return ne()(te()().m(function a(){var t,o,n,r;return te()().w(function(a){while(1)switch(a.p=a.n){case 0:return a.p=0,t={ANOCOB:e.selectAnio,CONCOB:e.selectConcepto,MESINI:e.selectMesIni,MESFIN:e.selectMesFin,MONTO_CERO:Number(e.selectMontoCero),ID_PERFIL:e.selectPerfil,MODIFICA:e.selectModificar,SOLOBECADOS:e.soloBecados},e.selectPerfil===Ne["default"].PERFIL_ALUMNO&&(t.INSTRUCOD=e.selectNivel===Ne["default"].TODOS?"%":e.selectNivel,t.GRADOCOD=e.selectGrado===Ne["default"].TODOS?"%":e.selectGrado,t.SECCIONCOD=e.selectSeccion===Ne["default"].TODOS?"%":e.selectSeccion),e.mostrarCategorias&&"T"!==e.selectCategoria&&(t.flagCategoria=!0,t.id_categoria=e.selectCategoria),e.$q.loading.show(),a.n=1,pe.$http.get("api/cobroController/getDeudasGrupales",{params:{parametros:t}});case 1:return o=a.v,n=o.map(function(e){return e["MORA"]=Number(e["MORA"])?"SI":"NO",e["C"]=!1,e}),e.rows=n.length,e.rowData=n,e.dataInicial=n,e.buscarPersonaDeuda(),e.$q.loading.hide(),a.a(2,!0);case 2:a.p=2,r=a.v,console.log(r.error.message);case 3:return a.a(2)}},a,null,[[0,2]])}))()},getDeudasIndividual:function(){var e=this;return ne()(te()().m(function a(){var t;return te()().w(function(a){while(1)switch(a.n){case 0:if(!e.selectPersona){a.n=2;break}return e.$q.loading.show(),a.n=1,pe.$http.get("api/cobroController/getDeudasModificar",{params:{parametros:{ID_PERSONA:e.selectPersona,ANOCOB:e.selectAnio}}}).then(function(e){return e}).catch(function(a){console.log("Error:",a.error.message),e.$alert("Error obteniendo información","warning")});case 1:t=a.v,e.$q.loading.hide(),e.rowData=(0,se["default"])(t.k,t.v),e.rows=e.rowData.length;case 2:return a.a(2)}},a)}))()},getAniosPer:function(){var e=this;return ne()(te()().m(function a(){return te()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,Ne["default"].API_ANIOS();case 1:e.anio=a.v;case 2:return a.a(2)}},a)}))()},getPerPerfil:function(e){var a=this;return ne()(te()().m(function e(){var t,o;return te()().w(function(e){while(1)switch(e.p=e.n){case 0:return e.p=0,a.persona=[],a.selectPersona="",e.n=1,Ne["default"].API_PERSONAS(a.selectPerfil);case 1:t=e.v,a.persona=t||[],e.n=3;break;case 2:e.p=2,o=e.v,console.error(o);case 3:return e.a(2)}},e,null,[[0,2]])}))()},onCellValueChanged:function(e){var a=e.data,t=a.ID_DEUDA,o=a.MONTOCOB,n=a.ANOCOB,r=a.ALUCOD,l=a.MESCOB,i=a.ID_PERSONA,s=a.CONCOB,c={ID_DEUDA:t,MONTOCOB:o,ANOCOB:n,ALUCOD:r,MESCOB:l,ID_PERSONA:i,CONCOB:s},u=e.colDef.field;"FECEMI"===u||"FECVEN"===u?this.modifcarFecha(c,e):"MONTODES"===u?this.modificarDescuento(c,e):"MONTOINI"===u?this.modificarMonto(c,e):"ANOCOB"===u?this.modificarAño(c,e):"MESDES"===u&&this.modificarMes(c,e)},modifcarFecha:function(e,a){var t="FECVEN"===a.colDef.field?"vencimiento":"emision",o="Desea editar la fecha de ".concat(t," de esta deuda ?");e[a.colDef.field]=(0,Oe.Ay)(a.newValue,"YYYY/MM/DD"),e["FECKEY"]=a.colDef.field,e["METODO"]="FECHA",this.updateModificarDeuda(o,e)},modificarDescuento:function(e,a){var t="Desea editar el descuento de esta deuda ?";e[a.colDef.field]=a.newValue,e["MONTOPEN"]=a.data.MONTOPEN,e["METODO"]="DESCUENTO",this.updateModificarDeuda(t,e)},modificarMonto:function(e,a){var t="Desea editar el monto de esta deuda ?";e["MONTONUEVO"]=a.newValue,e["MONTODES"]=a.data.MONTODES,e["MONTOPEN"]=a.data.MONTOPEN,e["METODO"]="MONTO",this.updateModificarDeuda(t,e)},"modificarAño":function(e,a){var t="Desea editar el Año de la deuda ?";e["METODO"]="ANO",e["ANOCOB"]=a.newValue,this.updateModificarDeuda(t,e)},modificarMes:function(e,a){var t="Desea editar el mes de la deuda ?";e["METODO"]="MES",e["MESCOB"]=a.newValue,this.updateModificarDeuda(t,e)},cerrarModal:function(){this.openModal=!1},getColegiosEmpresas:function(){var e=this;return ne()(te()().m(function a(){var t,o,n,r,l;return te()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,pe.$http.get("api/empresaController/getColegiosEmpresa");case 1:t=a.v,o=[],n=ee()(t);try{for(n.s();!(r=n.n()).done;)l=r.value,o.push({value:l.ID_COLEGIO,label:l.COLEGIO})}catch(e){n.e(e)}finally{n.f()}e.dataEmpresa=o;case 2:return a.a(2)}},a)}))()},validarCobroSedes:function(){var e=this;return ne()(te()().m(function a(){var t,o;return te()().w(function(a){while(1)switch(a.n){case 0:return t={ID_CONSTANTE:[Ne["default"].CONSTANTES_SISTEMA.P_COBRO_SEDE]},a.n=1,Ne["default"].API_CONSTANTES_SISTEMAS(t);case 1:return o=a.v,e.P_COBRO_SEDE=1===Number(o.P_COBRO_SEDE),a.n=2,e.getColegiosEmpresas();case 2:return a.a(2)}},a)}))()},getCatAnio:function(){var e=this;return ne()(te()().m(function a(){var t,o;return te()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,pe.$http.get("api/CategoriaCobroController/getCategoriaAnio",{params:{params:{response:"list",ano:e.selectAnio}}});case 1:t=a.v,o=[],t.length>0?(t.map(function(a){o.includes(a.ID_CATEGORIA_ANO)||e.categorias.push({value:a.ID_CATEGORIA_ANO,label:a.CATEGORIA_ANIO})}),e.mostrarCategorias=!0):e.mostrarCategorias=!1;case 2:return a.a(2)}},a)}))()},getCategoriaAlumno:function(){var e=this;return ne()(te()().m(function a(){var t,o;return te()().w(function(a){while(1)switch(a.n){case 0:return t={ANO:e.selectAnio,ID_CATEGORIA_ANO:e.selectCategoria},a.n=1,pe.$http.get("api/CategoriaCobroController/getCategoriaAlumno",{params:{parametros:t}});case 1:o=a.v,e.categorias=o,e.mostrarCategorias=!1;case 2:return a.a(2)}},a)}))()}},beforeMount:function(){var e=this;return ne()(te()().m(function a(){return te()().w(function(a){while(1)switch(a.n){case 0:return e.frameworkComponents={agDate:he.A,checkboxRender:Se,select:_e,actionButton:Ve.A},a.n=1,e.getPerfiles();case 1:return a.n=2,e.getAniosPer();case 2:return a.n=3,e.getCatAnio();case 3:return e.getMonedas(),e.getnivel(),e.getGrado(),e.getSeccion(),e.getConcepto(),e.getPerPerfil(),a.n=4,e.validarCobroSedes();case 4:e.columns(),e.getMeses(),e.crearBotones(),e.getEstadosCobranza(),e.statusBar={statusPanels:[{statusPanel:"agTotalAndFilteredRowCountComponent",align:"left"},{statusPanel:"agTotalRowCountComponent",align:"center"},{statusPanel:"agFilteredRowCountComponent"},{statusPanel:"agSelectedRowCountComponent"},{statusPanel:"agAggregationComponent"}]};case 5:return a.a(2)}},a)}))()}};const Le=(0,Ie.A)(ye,[["render",J]]);var Ge=Le}}]);