"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[25329],{25329:function(e,o,a){a.r(o),a.d(o,{default:function(){return I}});var s=a(61758),t={class:"row col justify-center items-center"},l={class:"col-xs-12 col-md-7"},n={class:"row"},i={class:"col-xs-4"},r={class:"col-xs-4"},d={class:"col-xs-4"},c={class:"row justify-center"},u={class:"col-xs-4"},p={class:"row justify-center"};function m(e,o){var a=(0,s.g2)("q-select"),m=(0,s.g2)("sie-select"),v=(0,s.g2)("q-btn"),b=(0,s.g2)("q-card"),S=(0,s.g2)("q-page");return(0,s.uX)(),(0,s.Wv)(S,{class:"column"},{default:(0,s.k6)(function(){return[(0,s.Lk)("div",t,[(0,s.Lk)("div",l,[(0,s.bF)(b,{class:"q-px-md q-py-lg"},{default:(0,s.k6)(function(){return[(0,s.Lk)("div",n,[(0,s.Lk)("div",i,[(0,s.bF)(a,{class:"q-if-outlined",modelValue:e.vmReportes.nivel,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.vmReportes.nivel=o}),options:e.dataReportes.niveles,onInput:e.cambiarNivel,"float-label":e.$t("ngs.nivel")},null,8,["modelValue","options","onInput","float-label"])]),(0,s.Lk)("div",r,[(0,s.bF)(a,{class:"q-if-outlined",modelValue:e.vmReportes.grado,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.vmReportes.grado=o}),options:e.dataReportes.grados,disable:e.disabledGrado,onInput:e.cambiarGrado,"float-label":e.$t("ngs.grado")},null,8,["modelValue","options","disable","onInput","float-label"])]),(0,s.Lk)("div",d,[(0,s.bF)(a,{class:"q-if-outlined",modelValue:e.vmReportes.seccion,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.vmReportes.seccion=o}),options:e.dataReportes.secciones,disable:e.disabledSeccion,"float-label":e.$t("ngs.seccion")},null,8,["modelValue","options","disable","float-label"])])]),(0,s.Lk)("div",c,[(0,s.Lk)("div",u,[(0,s.bF)(m,{class:"q-if-outlined",modelValue:e.currentBimestre,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.currentBimestre=o}),type:"outlined",placeholder:"periodo",label:"label",val:"value",options:e.bimestres,disabreadonlyled:e.isReadOnlyBimestre,onSelected:e.getBimestre},null,8,["modelValue","options","disabreadonlyled","onSelected"])])]),(0,s.Lk)("div",p,[(0,s.bF)(v,{class:"q-mx-xs",icon:"settings",color:"secondary",onClick:e.processSugerenciaAcompanamiento,label:"PROCESAR"},null,8,["onClick"])])]}),_:1})])])]}),_:1})}a(52133),a(50310),a(6724),a(83190),a(44264);var v=a(80660),b=a(6123),S=a(982),f=a(80340),R=a(93616),g=a(30640),h=a(24974),O={components:{QTable:b.kH,QModal:b.tU,QTr:b.qh,QTd:b.Ef,QSelect:b.Si,QList:b.Mb,QListHeader:b.XR,QItemSeparator:b.CL,QItemMain:b.mF,QItemSide:b.n1,QCheckbox:b.vZ,sieVacio:f.A,sieSelect:R.A,sieModal:g.A,sieUsuario:h.A,QBtn:b.Il,QPageSticky:b._U,QInnerLoading:b.SQ,QSpinnerGears:b.hV,QPage:b.Tu,QCard:b.C$},data:function(){return{allSalones:[],currentSalon:null,currentBimestre:null,bimestres:[{label:"1er Periodo",value:"1"},{label:"2do Periodo",value:"2"},{label:"3er Periodo",value:"3"},{label:"4to Periodo",value:"4"}],trimestres:[{label:"1er Periodo",value:"1"},{label:"2do Periodo",value:"2"},{label:"3er Periodo",value:"3"}],periodos:null,isReadOnlyBimestre:!0,idDisableBtnProcesar:!0,idReadOnlySalon:!1,isVisible:!1,dataReportes:{niveles:[],grados:[{label:"Todos",value:{GRADOCOD:"T",GRADODES:"Todos"}}],secciones:[{label:"Todos",value:{SECCIONCOD:"T",SECCIONDES:"Todos"}}]},vmReportes:{nivel:"",grado:"",seccion:""},disabledGrado:!0,disabledSeccion:!0}},computed:{allSalonesFormat:function(){return this.allSalones.map(function(e){return{label:e.NEMODES,value:e.NEMO,PERINUM:e.PERINUM}})}},methods:{getSalones:function(){var e=this;v.$http.get("api/HyoSalones/getPeriodoSalon").then(function(o){var a=o.cboSalones;e.allSalones=a,e.isReadOnlyBimestre=!1})},getSalon:function(e){this.periodos=this.bimestres},getBimestre:function(e){null!==this.currentBimestre&&(this.idDisableBtnProcesar=!1)},processSugerenciaAcompanamiento:function(){var e=this;return"T"===this.vmReportes.nivel.INSTRUCOD?((0,S["default"])("Selecione un nivel","error"),!1):null===this.currentBimestre?((0,S["default"])("Selecione un periodo","error"),!1):(this.isVisible=!0,this.idReadOnlySalon=!0,void v.$http.get("api/HyoAcompanamientoalumno/sugerenciaAcompanamientoAlumno",{params:{instrucod:this.vmReportes.nivel.INSTRUCOD,gradocod:this.vmReportes.grado.GRADOCOD,seccioncod:this.vmReportes.seccion.SECCIONCOD,periodo:this.currentBimestre.toString()}}).then(function(o){1===o.json.estado?(e.isVisible=!1,e.idReadOnlySalon=!1,(0,S["default"])(e.$t("mensajes.m0008"),"success")):((0,S["default"])(o.json.mensaje,"error"),e.isVisible=!1,e.idReadOnlySalon=!1)}).catch(function(){(0,S["default"])(e.$t("mensajes.e0006"),"error"),e.isVisible=!1,e.idReadOnlySalon=!1}))},cambiarNivel:function(e){this.dataReportes.grados=this.gradosAgrupados[e.INSTRUCOD].map(function(e){return{label:e.GRADODES,value:e}}),this.vmReportes.grado=this.dataReportes.grados[0].value,this.vmReportes.seccion=this.dataReportes.secciones[0].value,this.disabledGrado=!1,"T"===e.INSTRUCOD&&(this.disabledSeccion=!0,this.disabledGrado=!0)},cambiarGrado:function(e){var o=this;v.$http.get("api/HyoSalones/obtSecciones",{params:{gradocod:e.GRADOCOD,instrucod:e.INSTRUCOD}}).then(function(a){var s=a.json;s.unshift({SECCIONDES:"Todos",SECCIONCOD:"T"}),o.dataReportes.secciones=s.map(function(e){return{label:e.SECCIONDES,value:e}}),o.vmReportes.seccion=o.dataReportes.secciones[0].value,o.disabledSeccion=!1,"T"===e.GRADOCOD&&(o.disabledSeccion=!0)})},nivelYgrado:function(){var e=this;v.$http.get("api/HyoInstrus/obtInstru").then(function(o){var a=o.json;a.unshift({INSTRUDES:"SELECCIONE",INSTRUCOD:""}),e.dataReportes.niveles=a.map(function(e){return{label:e.INSTRUDES,value:e}}),e.vmReportes.nivel=e.dataReportes.niveles[0].value,e.dataReportes.grado=e.dataReportes.grados[0].value}),v.$http.get("api/HyoGradoNivs/obtGrados",{params:{agrupado:"s",todos:"s"}}).then(function(o){var a=o.json;e.gradosAgrupados=a})}},created:function(){this.nivelYgrado()},mounted:function(){this.getSalones()}},C=a(12807);const D=(0,C.A)(O,[["render",m]]);var I=D}}]);