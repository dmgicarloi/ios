"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[19162],{19162:function(e,o,t){t.r(o),t.d(o,{default:function(){return oo}});var a=t(8445),n=t.n(a),l=t(61758),s=t(29104),i={class:"row q-col-gutter-sm"},r={class:"col-xs-12 col-sm-6 col-md-4 col-lg-3"},u={class:"col-xs-12 col-sm-6 col-md-4 col-lg-3"},d={class:"col-xs-12 col-sm-6 col-md-4 col-lg-3"},c={class:"row"},m={class:"col"},p={class:"col-xs-12 col-sm-6 col-md-4 col-lg-3"},f={class:"col-xs-12 col-sm-6 col-md-4 col-lg-3"},v={class:"row q-col-gutter-sm"},b={class:"col-xs-12"},h={class:"row column items-end q-pa-sm"},g={class:"col-xs-12"},k={class:"row q-gutter-xs"},E={class:"row q-pa-sm"},w={key:0,class:"col-xs-12"},V={class:"col-xs-12"},A={class:"col-xs-12"},M={class:"col-xs-12"},F={class:"col-xs-12"},S={class:"col-xs-12"},C={class:"row q-pa-sm q-px-xl q-col-gutter-sm"},P={key:0,class:"col-xs-12"},O={key:1,class:"col-xs-12"},x={key:0,class:"col-xs-12"},L={key:0,class:"col-xs-12"},R={key:0,class:"col-xs-12"},D={key:1,class:"col-xs-12"},y={key:2,class:"col-xs-12"},I={key:0,class:"col-xs-12"},U={class:"row q-col-xs-sm q-pa-sm"},N={class:"col-xs-12 q-pb-sm"},q={key:0,class:"col-xs-12 col-sm-6 col-md-4"},T={key:0,class:"row q-col-gutter-sm q-col-xs-sm q-pa-sm"},_={class:"col-xs-12"},$={class:"row q-col-gutter-sm"},Y={class:"col-xs-12 col-sm-12 col-md-6"},Q={class:"row q-col-gutter-sm"},H={class:"col-xs-12"},X={class:"row q-col-gutter-sm"},B={class:"col-xs-12"},G={class:"col-xs-12"},z={class:"col-xs-12"},K={class:"col-xs-12"},J={class:"col-xs-12 col-sm-12 col-md-6"},j={class:"row q-col-gutter-sm"},W={class:"col-xs-12"},Z={class:"row q-col-gutter-sm"},ee={class:"col-xs-12"},oe={class:"row"},te={class:"col"},ae={class:"col-xs-12"},ne={class:"col-xs-12"},le={class:"col-xs-12"},se={class:"col-xs-12"},ie={class:"row q-col-gutter-sm"},re={class:"col-xs-12 col-sm-12 col-md-6"},ue={class:"row sie-flat"},de={class:"col-xs-12"},ce={class:"col-xs-12"},me={class:"col-xs-12 col-sm-12 col-md-6"},pe={class:"row sie-flat"},fe={class:"col-xs-12"},ve={class:"col-xs-12"},be={key:1,class:"row q-col-xs-sm q-pa-sm"},he={class:"row q-pa-sm q-col-gutter-sm"},ge={class:"col-xs-12"},ke={class:"col-xs-12 sie-flat"},Ee={class:"row q-pa-sm q-col-gutter-sm"},we={class:"col-xs-12"},Ve={class:"col-xs-12"},Ae={class:"col-xs-12"},Me={class:"row q-pa-sm q-col-gutter-sm"},Fe={class:"col-xs-12"},Se={class:"col-xs-12"},Ce={class:"col-xs-12"};function Pe(e,o){var t=this,a=(0,l.g2)("header-btn"),Pe=(0,l.g2)("q-input"),Oe=(0,l.g2)("q-date"),xe=(0,l.g2)("q-popup-proxy"),Le=(0,l.g2)("q-icon"),Re=(0,l.g2)("q-btn"),De=(0,l.g2)("q-select"),ye=(0,l.g2)("q-card-section"),Ie=(0,l.g2)("q-pagination"),Ue=(0,l.g2)("sie-table"),Ne=(0,l.g2)("q-card"),qe=(0,l.g2)("q-radio"),Te=(0,l.g2)("sie-modal"),_e=(0,l.g2)("q-time"),$e=(0,l.g2)("q-checkbox"),Ye=(0,l.g2)("q-page");return(0,l.uX)(),(0,l.Wv)(Ye,{class:"bg-white q-pa-sm sie-flat"},{default:(0,l.k6)(function(){return[(0,l.bF)(Ne,null,{default:(0,l.k6)(function(){return[(0,l.bF)(a,{name:"Lista de Entrevistas",buttons:e.buttons},null,8,["buttons"]),(0,l.bF)(ye,null,{default:(0,l.k6)(function(){return[(0,l.Lk)("div",i,[(0,l.Lk)("div",r,[(0,l.bF)(Pe,{modelValue:e.nombre,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.nombre=o}),label:"Nombre",onKeyup:o[1]||(o[1]=(0,s.jR)(function(o){e.page=1,e.getEntrevistas()},["enter"]))},null,8,["modelValue"])]),(0,l.Lk)("div",u,[(0,l.bF)(Pe,{modelValue:e.desde,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.desde=o}),label:"Desde",format:"##/##/####",mask:"##/##/####"},{append:(0,l.k6)(function(){return[(0,l.bF)(Le,{class:"cursor-pointer",name:"date_range"},{default:(0,l.k6)(function(){return[(0,l.bF)(xe,{ref:"qDateProxy","transition-show":"scale","transition-hide":"scale"},{default:(0,l.k6)(function(){return[(0,l.bF)(Oe,{mask:"DD/MM/YYYY",modelValue:e.desde,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.desde=o}),onInput:o[3]||(o[3]=function(o){return e.$refs.qDateProxy.hide()})},null,8,["modelValue"])]}),_:1},512)]}),_:1})]}),_:1},8,["modelValue"])]),(0,l.Lk)("div",d,[(0,l.Lk)("div",c,[(0,l.Lk)("div",m,[(0,l.bF)(Pe,{modelValue:e.hasta,"onUpdate:modelValue":o[7]||(o[7]=function(o){return e.hasta=o}),label:"Hasta",format:"##/##/####",mask:"##/##/####"},{append:(0,l.k6)(function(){return[(0,l.bF)(Le,{class:"cursor-pointer",name:"date_range"},{default:(0,l.k6)(function(){return[(0,l.bF)(xe,{ref:"qDateProxy1","transition-show":"scale","transition-hide":"scale"},{default:(0,l.k6)(function(){return[(0,l.bF)(Oe,{mask:"DD/MM/YYYY",modelValue:e.hasta,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.hasta=o}),onInput:o[6]||(o[6]=function(o){return e.$refs.qDateProxy1.hide()})},null,8,["modelValue"])]}),_:1},512)]}),_:1})]}),_:1},8,["modelValue"])]),(0,l.bF)(Re,{icon:"search",flat:"",round:"",dense:"",color:"primary",onClick:o[8]||(o[8]=function(o){e.page=1,e.getEntrevistas()})})])]),(0,l.Lk)("div",p,[(0,l.bF)(De,{modelValue:e.tipo,"onUpdate:modelValue":o[9]||(o[9]=function(o){return e.tipo=o}),options:e.tipos,label:"Tipos",onInput:o[10]||(o[10]=function(o){e.page=1,e.getEntrevistas()})},null,8,["modelValue","options"])]),(0,l.Lk)("div",f,[(0,l.bF)(De,{modelValue:e.sala,"onUpdate:modelValue":o[11]||(o[11]=function(o){return e.sala=o}),options:e.salas,label:"Sala","option-value":"SECUCOD","option-label":"SECUDES",onInput:o[12]||(o[12]=function(o){e.page=1,e.getEntrevistas()})},null,8,["modelValue","options"])])])]}),_:1}),(0,l.bF)(ye,null,{default:(0,l.k6)(function(){return[(0,l.Lk)("div",v,[(0,l.Lk)("div",b,[(0,l.bF)(Ue,{columns:e.fields,data:e.rows,selection:"single",config:e.config,context:t,"total-registros":e.de,css:{height:"calc(100vh - 220px)"}},{beforeBottom:(0,l.k6)(function(){return[(0,l.bF)(Ie,{size:"12px",modelValue:e.page,"onUpdate:modelValue":o[13]||(o[13]=function(o){return e.page=o}),input:"",min:1,max:e.totalPagination,onInput:o[14]||(o[14]=function(o){return e.getEntrevistas()})},null,8,["modelValue","max"])]}),_:1},8,["columns","data","config","total-registros"])])])]}),_:1})]}),_:1}),(0,l.bF)(Te,{modelValue:e.openModalReportes,"onUpdate:modelValue":o[35]||(o[35]=function(o){return e.openModalReportes=o}),title:"Reportes",css:{"max-width":"700px"}},{footer:(0,l.k6)(function(){return[(0,l.Lk)("div",null,[(0,l.Lk)("div",h,[(0,l.Lk)("div",g,[(0,l.Lk)("div",k,[(0,l.bF)(Re,{color:"primary",size:"13px",icon:"file_pdf",onClick:o[15]||(o[15]=function(o){return e.print("pdf")})},{default:(0,l.k6)(function(){return n()(o[60]||(o[60]=[(0,l.eW)("Pdf",-1)]))}),_:1}),(0,l.bF)(Re,{color:"primary",size:"13px",icon:"file_excel",onClick:o[16]||(o[16]=function(o){return e.print("excel")})},{default:(0,l.k6)(function(){return n()(o[61]||(o[61]=[(0,l.eW)("Excel",-1)]))}),_:1})])])])])]}),default:(0,l.k6)(function(){return[(0,l.Lk)("div",E,["S"===e.sie.docest?((0,l.uX)(),(0,l.CE)("div",w,[(0,l.bF)(qe,{modelValue:e.tipoReporte,"onUpdate:modelValue":o[17]||(o[17]=function(o){return e.tipoReporte=o}),val:"personal",label:"Relación de Entrevistas registradas por Usuario",onInput:e.filtrarCampos},null,8,["modelValue","onInput"])])):((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[(0,l.Lk)("div",V,[(0,l.bF)(qe,{modelValue:e.tipoReporte,"onUpdate:modelValue":o[18]||(o[18]=function(o){return e.tipoReporte=o}),val:"general",label:"Relación de Entrevistas",onInput:e.filtrarCampos},null,8,["modelValue","onInput"])]),(0,l.Lk)("div",A,[(0,l.bF)(qe,{modelValue:e.tipoReporte,"onUpdate:modelValue":o[19]||(o[19]=function(o){return e.tipoReporte=o}),val:"usuario",label:"Relación de Entrevistas registradas por Usuario",onInput:e.filtrarCampos},null,8,["modelValue","onInput"])]),(0,l.Lk)("div",M,[(0,l.bF)(qe,{modelValue:e.tipoReporte,"onUpdate:modelValue":o[20]||(o[20]=function(o){return e.tipoReporte=o}),val:"personal",label:"Relación de Entrevistas por Responsable",onInput:e.filtrarCampos},null,8,["modelValue","onInput"])]),(0,l.Lk)("div",F,[(0,l.bF)(qe,{modelValue:e.tipoReporte,"onUpdate:modelValue":o[21]||(o[21]=function(o){return e.tipoReporte=o}),val:"resumen",label:"Resumén de Entrevistas",onInput:e.filtrarCampos},null,8,["modelValue","onInput"])]),(0,l.Lk)("div",S,[(0,l.bF)(qe,{modelValue:e.tipoReporte,"onUpdate:modelValue":o[22]||(o[22]=function(o){return e.tipoReporte=o}),val:"padre",label:"Parte de Atención Padres de Familia",onInput:e.filtrarCampos},null,8,["modelValue","onInput"])])],64))]),(0,l.Lk)("div",C,[e.shows.showFechaIni?((0,l.uX)(),(0,l.CE)("div",P,[(0,l.bF)(Pe,{modelValue:e.desdeModal,"onUpdate:modelValue":o[25]||(o[25]=function(o){return e.desdeModal=o}),label:"Fecha Inicio",format:"##/##/####",mask:"##/##/####"},{append:(0,l.k6)(function(){return[(0,l.bF)(Le,{class:"cursor-pointer",name:"date_range"},{default:(0,l.k6)(function(){return[(0,l.bF)(xe,{ref:"qDateProxy2","transition-show":"scale","transition-hide":"scale"},{default:(0,l.k6)(function(){return[(0,l.bF)(Oe,{mask:"DD/MM/YYYY",modelValue:e.desdeModal,"onUpdate:modelValue":o[23]||(o[23]=function(o){return e.desdeModal=o}),onInput:o[24]||(o[24]=function(o){return e.$refs.qDateProxy2.hide()})},null,8,["modelValue"])]}),_:1},512)]}),_:1})]}),_:1},8,["modelValue"])])):(0,l.Q3)("v-if",!0),e.shows.showFechaFin?((0,l.uX)(),(0,l.CE)("div",O,[(0,l.bF)(Pe,{modelValue:e.hastaModal,"onUpdate:modelValue":o[28]||(o[28]=function(o){return e.hastaModal=o}),label:"Fecha Fin",format:"##/##/####",mask:"##/##/####"},{append:(0,l.k6)(function(){return[(0,l.bF)(Le,{class:"cursor-pointer",name:"date_range"},{default:(0,l.k6)(function(){return[(0,l.bF)(xe,{ref:"qDateProxy3","transition-show":"scale","transition-hide":"scale"},{default:(0,l.k6)(function(){return[(0,l.bF)(Oe,{mask:"DD/MM/YYYY",modelValue:e.hastaModal,"onUpdate:modelValue":o[26]||(o[26]=function(o){return e.hastaModal=o}),onInput:o[27]||(o[27]=function(o){return e.$refs.qDateProxy3.hide()})},null,8,["modelValue"])]}),_:1},512)]}),_:1})]}),_:1},8,["modelValue"])])):(0,l.Q3)("v-if",!0),"0090"===e.sie.colcod&&"S"!==e.sie.docest?((0,l.uX)(),(0,l.CE)(l.FK,{key:2},[e.shows.showLocal?((0,l.uX)(),(0,l.CE)("div",x,[(0,l.bF)(De,{modelValue:e.local,"onUpdate:modelValue":o[29]||(o[29]=function(o){return e.local=o}),options:e.locales,label:"Local"},null,8,["modelValue","options"])])):(0,l.Q3)("v-if",!0)],64)):(0,l.Q3)("v-if",!0),"S"===e.sie.docest?((0,l.uX)(),(0,l.CE)(l.FK,{key:3},[e.shows.showPersonal?((0,l.uX)(),(0,l.CE)("div",L,[(0,l.bF)(De,{modelValue:e.docenteModal,"onUpdate:modelValue":o[30]||(o[30]=function(o){return e.docenteModal=o}),options:e.docentesModal,label:"Personal"},null,8,["modelValue","options"])])):(0,l.Q3)("v-if",!0)],64)):((0,l.uX)(),(0,l.CE)(l.FK,{key:4},[e.shows.showTipo?((0,l.uX)(),(0,l.CE)("div",R,[(0,l.bF)(De,{modelValue:e.tipoModal,"onUpdate:modelValue":o[31]||(o[31]=function(o){return e.tipoModal=o}),options:e.tiposModal,label:"Tipo"},null,8,["modelValue","options"])])):(0,l.Q3)("v-if",!0),e.shows.showPersonal?((0,l.uX)(),(0,l.CE)("div",D,[(0,l.bF)(De,{modelValue:e.personal,"onUpdate:modelValue":o[32]||(o[32]=function(o){return e.personal=o}),options:e.personales,"option-value":"PROFCOD","option-label":"NOMCOMP",label:"Personal"},null,8,["modelValue","options"])])):(0,l.Q3)("v-if",!0),e.shows.showSala?((0,l.uX)(),(0,l.CE)("div",y,[(0,l.bF)(De,{modelValue:e.salaModal,"onUpdate:modelValue":o[33]||(o[33]=function(o){return e.salaModal=o}),options:e.salasModal,"option-value":"SECUCOD","option-label":"SECUDES",label:"Sala"},null,8,["modelValue","options"])])):(0,l.Q3)("v-if",!0)],64)),"0090"===e.sie.colcod?((0,l.uX)(),(0,l.CE)(l.FK,{key:5},[e.shows.showEstado?((0,l.uX)(),(0,l.CE)("div",I,[(0,l.bF)(De,{modelValue:e.estadoModal,"onUpdate:modelValue":o[34]||(o[34]=function(o){return e.estadoModal=o}),options:e.estadosModal,label:"Estado"},null,8,["modelValue","options"])])):(0,l.Q3)("v-if",!0)],64)):(0,l.Q3)("v-if",!0)])]}),_:1},8,["modelValue"]),(0,l.bF)(Te,{modelValue:e.openModalAgregar,"onUpdate:modelValue":o[49]||(o[49]=function(o){return e.openModalAgregar=o}),maximized:"",footer:!1,title:"Registro de Entrevistas"},{default:(0,l.k6)(function(){return[(0,l.Lk)("div",U,[(0,l.Lk)("div",N,[(0,l.bF)(a,{name:"",buttons:e.buttonsRegistroEntrevista},null,8,["buttons"])]),e.showSolicitadoPor?((0,l.uX)(),(0,l.CE)("div",q,[(0,l.bF)(De,{modelValue:e.tipoSolicitadoModal,"onUpdate:modelValue":o[36]||(o[36]=function(o){return e.tipoSolicitadoModal=o}),options:e.tiposSolicitadoModal,label:"Solicitado Por",onInput:e.cambiarSolicitadoPor},null,8,["modelValue","options","onInput"])])):(0,l.Q3)("v-if",!0)]),e.solicitado?((0,l.uX)(),(0,l.CE)("div",T,[(0,l.Lk)("div",_,[(0,l.Lk)("div",$,[(0,l.Lk)("div",Y,[(0,l.Lk)("div",Q,[(0,l.Lk)("div",H,[(0,l.Lk)("div",X,[o[62]||(o[62]=(0,l.Lk)("div",{class:"col-xs-12 column items-center justify-center"},[(0,l.Lk)("span",null,[(0,l.Lk)("b",null,"Datos Principales")])],-1)),(0,l.Lk)("div",B,[(0,l.bF)(Pe,{modelValue:e.solicitudPersonal.fecha,"onUpdate:modelValue":o[39]||(o[39]=function(o){return e.solicitudPersonal.fecha=o}),label:"Fecha",format:"##/##/####",mask:"##/##/####",readonly:""},{append:(0,l.k6)(function(){return[(0,l.bF)(Le,{class:"cursor-pointer",name:"date_range"},{default:(0,l.k6)(function(){return[(0,l.bF)(xe,{ref:"qTimeProxy4","transition-show":"scale","transition-hide":"scale"},{default:(0,l.k6)(function(){return[(0,l.bF)(Oe,{mask:"DD/MM/YYYY",modelValue:e.solicitudPersonal.fecha,"onUpdate:modelValue":o[37]||(o[37]=function(o){return e.solicitudPersonal.fecha=o}),onInput:o[38]||(o[38]=function(o){return e.$refs.qDateProxy4.hide()})},null,8,["modelValue"])]}),_:1},512)]}),_:1})]}),_:1},8,["modelValue"])]),(0,l.Lk)("div",G,[(0,l.bF)(Pe,{modelValue:e.solicitudPersonal.horaIni,"onUpdate:modelValue":o[41]||(o[41]=function(o){return e.solicitudPersonal.horaIni=o}),label:"Hora Inicio",format:"##:## SS",mask:"##:## SS",readonly:""},{append:(0,l.k6)(function(){return[(0,l.bF)(Le,{class:"cursor-pointer",name:"timer"},{default:(0,l.k6)(function(){return[(0,l.bF)(xe,{"transition-show":"scale","transition-hide":"scale"},{default:(0,l.k6)(function(){return[(0,l.bF)(_e,{mask:"hh:mm A",modelValue:e.solicitudPersonal.horaIni,"onUpdate:modelValue":o[40]||(o[40]=function(o){return e.solicitudPersonal.horaIni=o})},null,8,["modelValue"])]}),_:1})]}),_:1})]}),_:1},8,["modelValue"])]),(0,l.Lk)("div",z,[(0,l.bF)(Pe,{modelValue:e.solicitudPersonal.horaFin,"onUpdate:modelValue":o[43]||(o[43]=function(o){return e.solicitudPersonal.horaFin=o}),label:"Hora Fin",format:"##:## SS",mask:"##:## SS",readonly:""},{append:(0,l.k6)(function(){return[(0,l.bF)(Le,{class:"cursor-pointer",name:"timer"},{default:(0,l.k6)(function(){return[(0,l.bF)(xe,{"transition-show":"scale","transition-hide":"scale"},{default:(0,l.k6)(function(){return[(0,l.bF)(_e,{mask:"hh:mm A",modelValue:e.solicitudPersonal.horaFin,"onUpdate:modelValue":o[42]||(o[42]=function(o){return e.solicitudPersonal.horaFin=o})},null,8,["modelValue"])]}),_:1})]}),_:1})]}),_:1},8,["modelValue"])]),(0,l.Lk)("div",K,[(0,l.bF)(De,{modelValue:e.salaSolicitud,"onUpdate:modelValue":o[44]||(o[44]=function(o){return e.salaSolicitud=o}),options:e.salasSolicitudes,label:"Sala","option-value":"SECUCOD","option-label":"SECUDES"},null,8,["modelValue","options"])])])])])]),(0,l.Lk)("div",J,[(0,l.Lk)("div",j,[(0,l.Lk)("div",W,[(0,l.Lk)("div",Z,[o[63]||(o[63]=(0,l.Lk)("div",{class:"col-xs-12 column items-center justify-center"},[(0,l.Lk)("span",null,[(0,l.Lk)("b",null,"Datos del Alumno")])],-1)),(0,l.Lk)("div",ee,[(0,l.Lk)("div",oe,[(0,l.Lk)("div",te,[(0,l.bF)(Pe,{modelValue:e.solicitudPersonal.alucod,"onUpdate:modelValue":o[45]||(o[45]=function(o){return e.solicitudPersonal.alucod=o}),label:"Alumno [F8]",readonly:""},null,8,["modelValue"])]),(0,l.bF)(Re,{icon:"search",flat:"",round:"",dense:"",color:"primary",onClick:e.openAlumnos},null,8,["onClick"])])]),(0,l.Lk)("div",ae,[(0,l.bF)(Pe,{modelValue:e.solicitudPersonal.nombre,"onUpdate:modelValue":o[46]||(o[46]=function(o){return e.solicitudPersonal.nombre=o}),label:"Nombre",readonly:""},null,8,["modelValue"])]),(0,l.Lk)("div",ne,[(0,l.bF)(Pe,{modelValue:e.solicitudPersonal.ngs,"onUpdate:modelValue":o[47]||(o[47]=function(o){return e.solicitudPersonal.ngs=o}),label:"NGS",readonly:""},null,8,["modelValue"])]),(0,l.Lk)("div",le,[(0,l.bF)(Pe,{modelValue:e.solicitudPersonal.asunto,"onUpdate:modelValue":o[48]||(o[48]=function(o){return e.solicitudPersonal.asunto=o}),label:"Asunto"},null,8,["modelValue"])])])])])])])]),(0,l.Lk)("div",se,[(0,l.Lk)("div",ie,[(0,l.Lk)("div",re,[(0,l.Lk)("div",ue,[(0,l.Lk)("div",de,[(0,l.bF)(a,{auto:!1,name:"Entrevistados","font-size":"14px",buttons:e.buttonsEntrevistados},null,8,["buttons"])]),(0,l.Lk)("div",ce,[(0,l.bF)(Ue,{ref:"entrevistados","show-index":"",columns:e.fieldsEntrevistados,data:e.rowsEntrevistados,selection:"single",config:e.configEntrevistados,context:t,css:{height:"calc(100vh - 370px)"}},null,8,["columns","data","config"])])])]),(0,l.Lk)("div",me,[(0,l.Lk)("div",pe,[(0,l.Lk)("div",fe,[(0,l.bF)(a,{auto:!1,name:"Entrevistadores","font-size":"14px",buttons:e.buttonsEntrevistadores},null,8,["buttons"])]),(0,l.Lk)("div",ve,[(0,l.bF)(Ue,{ref:"entrevistadores","show-index":"",columns:e.fieldsEntrevistadores,data:e.rowsEntrevistadores,selection:"multiple",config:e.configEntrevistadores,context:t,css:{height:"calc(100vh - 370px)"}},null,8,["columns","data","config"])])])])])])])):(0,l.Q3)("v-if",!0),e.entrevistaintranet?((0,l.uX)(),(0,l.CE)("div",be,n()(o[64]||(o[64]=[(0,l.Lk)("span",null,"ENTREVISTA INTRANET",-1)])))):(0,l.Q3)("v-if",!0)]}),_:1},8,["modelValue"]),(0,l.bF)(Te,{modelValue:e.openModalAlumnos,"onUpdate:modelValue":o[51]||(o[51]=function(o){return e.openModalAlumnos=o}),title:"Buscar Alumno",onSubmit:e.agregarAlumno},{default:(0,l.k6)(function(){return[(0,l.Lk)("div",he,[(0,l.Lk)("div",ge,[(0,l.bF)(De,{modelValue:e.modalAlumnos.tipo,"onUpdate:modelValue":o[50]||(o[50]=function(o){return e.modalAlumnos.tipo=o}),options:e.modalAlumnos.tipos,label:"Tipo",onInput:e.cambiarTipo},null,8,["modelValue","options","onInput"])]),(0,l.Lk)("div",ke,[(0,l.bF)(Ue,{columns:e.fieldsAlumnos,data:e.rowsAlumnos,config:e.configAlumnos,context:t,onRowSelected:e.alumnoSelected,onRowSelectedDbl:e.agregarAlumno,selection:"single",css:{height:"calc(100vh - 345px)"}},null,8,["columns","data","config","onRowSelected","onRowSelectedDbl"])])])]}),_:1},8,["modelValue","onSubmit"]),(0,l.bF)(Te,{modelValue:e.openModalEntrevistado,"onUpdate:modelValue":o[55]||(o[55]=function(o){return e.openModalEntrevistado=o}),title:"Agregar Entrevistado",onSubmit:e.agregarEntrevistado},{default:(0,l.k6)(function(){return[(0,l.Lk)("div",Ee,[(0,l.Lk)("div",we,[(0,l.bF)(De,{modelValue:e.entrevistados.tipo,"onUpdate:modelValue":o[52]||(o[52]=function(o){return e.entrevistados.tipo=o}),options:e.entrevistados.tipos,label:"Tipo",onInput:e.cargarDatosEntrevistados},null,8,["modelValue","options","onInput"])]),(0,l.Lk)("div",Ve,[(0,l.bF)(Pe,{modelValue:e.entrevistados.nombre,"onUpdate:modelValue":o[53]||(o[53]=function(o){return e.entrevistados.nombre=o}),label:"Nombre"},null,8,["modelValue"])]),(0,l.Lk)("div",Ae,[(0,l.bF)($e,{modelValue:e.entrevistados.repetir,"onUpdate:modelValue":o[54]||(o[54]=function(o){return e.entrevistados.repetir=o}),label:"Repetir","true-value":"S","false-value":"N"},null,8,["modelValue"])])])]}),_:1},8,["modelValue","onSubmit"]),(0,l.bF)(Te,{modelValue:e.openModalEntrevistador,"onUpdate:modelValue":o[59]||(o[59]=function(o){return e.openModalEntrevistador=o}),title:"Agregar Entrevistador",onSubmit:e.agregarEntrevistador},{default:(0,l.k6)(function(){return[(0,l.Lk)("div",Me,[(0,l.Lk)("div",Fe,[(0,l.bF)(De,{modelValue:e.entrevistador.entrevistador,"onUpdate:modelValue":o[56]||(o[56]=function(o){return e.entrevistador.entrevistador=o}),options:e.entrevistador.entrevistadores,"option-label":"NOMCOMP","option-value":"PROFCOD","emit-value":!1,label:"Entrevistador",onInput:e.cargarDatosEntrevistador},null,8,["modelValue","options","onInput"])]),(0,l.Lk)("div",Se,[(0,l.bF)(Pe,{modelValue:e.entrevistador.cargo,"onUpdate:modelValue":o[57]||(o[57]=function(o){return e.entrevistador.cargo=o}),label:"Cargo"},null,8,["modelValue"])]),(0,l.Lk)("div",Ce,[(0,l.bF)($e,{modelValue:e.entrevistador.repetir,"onUpdate:modelValue":o[58]||(o[58]=function(o){return e.entrevistador.repetir=o}),label:"Repetir","true-value":"S","false-value":"N"},null,8,["modelValue"])])])]}),_:1},8,["modelValue","onSubmit"])]}),_:1})}var Oe=t(76080),xe=t.n(Oe),Le=t(45254),Re=t.n(Le),De=(t(39866),t(52133),t(10239),t(50310),t(6724),t(70199),t(515),t(83190),t(52776),t(81813),t(7346),t(6123)),ye=t(95718),Ie=t(57668),Ue={data:function(){return{config:{FECHA:{component:"date",edit:!1},ESTADO:{renderHtml:function(e,o,t,a){var n=(0,Ie["default"])().colcod,l="",s="green-2";if("0090"===n)switch(e.ESTADO){case"01":l="Pendiente";break;case"02":a.$$background=s,l="Realizado";break;case"03":l="Por Confirmar";break;case"04":l="Cancelado";break}else"02"===e.ESTADO?(a.$$background=s,l="Realizado"):l="Pendiente";return o("span",{},l)}},ACTION:{component:"button",icon:["edit","verified","delete"],tooltip:{edit:"Editar",verified:"Revisar",delete:"Eliminar"},edit:function(e){console.log("EDIT",e)},verified:function(e){console.log("VERIFIED",e)},delete:function(e){var o=this;return Re()(xe()().m(function t(){var a;return xe()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,o.$confirmar("¿Desea eliminar Entrevista?","delete");case 1:a=t.v,a&&console.log("DELETE",e);case 2:return t.a(2)}},t)}))()},dense:!0,flat:!0,round:!0}},rows:[],fields:[{name:"ALUCOD",label:"Alumno",field:"ALUCOD",align:"left",sortable:!0},{name:"NOMBRE",label:"Responsable",field:"NOMBRE",align:"left",sortable:!0},{name:"ASUNTO",label:"Asunto",field:"ASUNTO",align:"center",sortable:!0},{name:"FECHA",label:"Fecha",field:"FECHA",align:"center",sortable:!0},{name:"HORAINI",label:"Fecha",field:"HORAINI",align:"center",sortable:!0},{name:"HORAFIN",label:"Fecha",field:"HORAFIN",align:"center",sortable:!0},{name:"SALANOM",label:"Sala",field:"SALANOM",align:"center",sortable:!0},{name:"ESTADO",label:"Estado",field:"ESTADO",align:"center",sortable:!0},{name:"ACTION",label:"Acción",field:"ACTION",align:"center",width:50}]}}},Ne=(t(89571),{data:function(){return{configEntrevistados:{ACTION:{component:"button",icon:["delete"],delete:function(e,o){var t=this;return Re()(xe()().m(function e(){var a;return xe()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,t.$confirmar("¿Seguro de eliminar?","delete");case 1:a=e.v,a&&t.rowsEntrevistados.splice(t.rowsEntrevistados.indexOf(o),1);case 2:return e.a(2)}},e)}))()},dense:!0,flat:!0,round:!0}},rowsEntrevistados:[],fieldsEntrevistados:[{name:"TIPO",label:"Tipo",field:"TIPO",align:"center"},{name:"NOMBRE",label:"Nombre",field:"NOMBRE",align:"left"},{name:"ACTION",label:"Acción",field:"ACTION",align:"center"}]}}}),qe={data:function(){return{configEntrevistadores:{ACTION:{component:"button",icon:["delete"],delete:function(e,o){var t=this;return Re()(xe()().m(function e(){var a;return xe()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,t.$confirmar("¿Seguro de eliminar?","delete");case 1:a=e.v,a&&t.rowsEntrevistadores.splice(t.rowsEntrevistadores.indexOf(o),1);case 2:return e.a(2)}},e)}))()},dense:!0,flat:!0,round:!0}},rowsEntrevistadores:[],fieldsEntrevistadores:[{name:"CODIGO",label:"Código",field:"CODIGO",align:"center"},{name:"NOMBRE",label:"Nombre",field:"NOMBRE",align:"left"},{name:"CARGO",label:"Cargo",field:"CARGO",align:"center"},{name:"ACTION",label:"Acción",field:"ACTION",align:"center"}]}}},Te={data:function(){return{configAlumnos:{},rowsAlumnos:[],currentAlumno:null,fieldsAlumnos:[{name:"ALUCOD",label:"Código",field:"ALUCOD",align:"center"},{name:"NOMCOMP",label:"Apellidos y Nombres",field:"NOMCOMP",align:"left"}]}}},_e=t(30640),$e=t(9736),Ye=t(3112),Qe=t(16648),He=t(2739),Xe=t(4437),Be=t(95477),Ge=t(23564),ze=t(99515),Ke=t(18105),Je=t(2819),je=t(23560),We={components:{QTime:Ge.A,QCardSection:ye.A,sieModal:_e.A,QSelect:Qe.A,QInput:$e.A,QDate:Xe.A,QCheckbox:Ye.A,QPopupProxy:Be.A,QForm:He.A,QRadio:ze.A,QPagination:De.ao,QPage:De.Tu,QCard:De.C$,QIcon:De.bP,QBtn:De.Il},mixins:[Ue,Ne,qe,Te],data:function(){var e=this;return{buttons:[{icon:"print",label:"Imprimir",click:function(){e.openModalReportes=!0}},{icon:"add",label:"Agregar",click:function(){e.action="new",e.openModalAgregar=!0}},{icon:"alarm_off",label:"Excluir Fecha"}],buttonsEntrevistados:[{icon:"plus",click:function(){var o=e.solicitudPersonal,t=o.alucod,a=o.nombre,n=o.ngs;t||a||n?e.openModalEntrevistado=!0:e.$notify("Debe seleccionar un Alumno.","info")}}],buttonsEntrevistadores:[{icon:"plus",click:function(){var o=Re()(xe()().m(function o(){return xe()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,e.getProfes();case 1:e.entrevistador.entrevistadores=o.v,e.openModalEntrevistador=!0;case 2:return o.a(2)}},o)}));function t(){return o.apply(this,arguments)}return t}()}],buttonsRegistroEntrevista:[{icon:"save",label:"Grabar",click:function(){var o=e.$refs.entrevistadores,t=o.rowsSelected(null,null,!0);if(e.solicitudPersonal.asunto)if(t.length<1)e.$notify("Debe de seleccionar un Responsable entre los Entrevistadores.","info");else{e.rowsEntrevistadores.map(function(e){t.indexOf(e)>-1?e.RESP="S":e.RESP="N"});var a={entrevistados:[],entrevistadores:[]};a.entrevistados=o.rowsSelected(["$$key as item","TIPO as tipo","NOMBRE as nombre"],e.rowsEntrevistados),a.entrevistadores=o.rowsSelected(["$$key as item","CODIGO as codigo","NOMBRE as nombre","RESP as resp"],e.rowsEntrevistadores),console.log("request",a)}else e.$notify("Debe de ingresar un Asunto.","info")}},{icon:"calendario_periodos",label:"Horario 1",click:function(){}}],nombre:"",desde:"",hasta:"",salas:[],sala:"",salasSolicitudes:[],salaSolicitud:"",salasModal:[],salaModal:"%",tipos:[{value:"A",label:"Alumnos"},{value:"P",label:"Postulantes"}],tiposSolicitadoModal:[{value:"",label:"Seleccione"},{value:"F",label:"Familia"},{value:"P",label:"Personal"}],tipoSolicitadoModal:"",tipo:"A",tiposModal:[],tipoModal:"%",page:1,totalPagination:1,totalRegistros:0,de:"",openModalReportes:!1,tipoReporte:"general",desdeModal:(0,Ke.Ay)(new Date,"DD/MM/YYYY"),hastaModal:(0,Ke.Ay)(new Date,"DD/MM/YYYY"),sie:{},locales:[{label:"TREBOL",value:"local_trebol"},{label:"MERCURIO",value:"local_mercurio"}],local:"local_trebol",estadosModal:[{label:"Todos",value:"%"},{label:"Pendiente",value:"01"},{label:"Realizado",value:"02"},{label:"Por confirmar",value:"03"},{label:"Cancelado",value:"04"}],estadoModal:"%",docentesModal:[],docenteModal:"",personales:[],personal:"%",shows:{showFechaIni:!0,showFechaFin:!0,showLocal:!0,showTipo:!0,showSala:!0,showPersonal:!0,showEstado:!0},openModalAgregar:!1,solicitado:!1,entrevistaintranet:!1,openModalEntrevistado:!1,openModalEntrevistador:!1,openModalAlumnos:!1,action:null,solicitudPersonal:{fecha:(0,Ke.Ay)(new Date,"DD/MM/YYYY"),horaIni:(0,Ke.Ay)(new Date,"hh:mm A"),horaFin:(0,Ke.Ay)(new Date,"hh:mm A"),alucod:"",nombre:"",ngs:"",asunto:""},entrevistados:{tipos:[{label:"Padre",value:"P"},{label:"Madre",value:"M"},{label:"Apoderado",value:"A"},{label:"Terapeuta",value:"T"},{label:"Alumno(a)",value:"E"},{label:"Otros",value:"O"}],tipo:"",nombre:"",repetir:"N"},entrevistador:{entrevistadores:[],entrevistador:"",cargo:"",repetir:"N"},modalAlumnos:{tipos:[{label:"Alumnos",value:"A"},{label:"Postulantes",value:"P"}],tipo:"A"},saveOnKeyUp:function(){}}},computed:{showSolicitadoPor:function(){var e=!1;if("0090"===this.sie.colcod&&this.sie.profcod&&"S"===this.sie.docest&&(e=!0),"0090"===this.sie.colcod){if([null,"new"].includes(this.action)&&!1===e)return this.solicitado=!1,!0;this.solicitado=!0}else this.solicitado=!0;return!1}},methods:{verificarEntrevistado:function(e){for(var o=!1,t=0;t<this.rowsEntrevistados.length;t++){var a=this.rowsEntrevistados[t];if(a.TIPO===e){o=!0;break}}return o},agregarEntrevistado:function(){if(this.entrevistados.nombre&&this.entrevistados.tipo){var e=this.entrevistados,o=e.tipo,t=e.nombre,a=e.repetir;!0!==this.verificarEntrevistado(o)?(this.rowsEntrevistados.push({TIPO:o,NOMBRE:t}),"S"!==a&&(this.openModalEntrevistado=!1)):this.$notify("Entrevistado seleccionado, ya se encuentra en la lista","warning")}else this.$notify("Debe seleccionar un Tipo de Entrevistado.","info")},verificarEntrevistador:function(e){for(var o=!1,t=0;t<this.rowsEntrevistadores.length;t++){var a=this.rowsEntrevistadores[t];if(a.CODIGO===e){o=!0;break}}return o},agregarEntrevistador:function(){var e=this.entrevistador.entrevistador,o=e.CARNOM,t=e.NOMCOMP,a=e.PROFCOD;if(!0!==this.verificarEntrevistador(a)){var n=this.entrevistador.repetir;this.entrevistador.cargo=o,this.rowsEntrevistadores.push({CODIGO:a,NOMBRE:t,CARGO:o}),"S"!==n&&(this.openModalEntrevistador=!1)}else this.$notify("Entrevistador seleccionado, ya se encuentra en la lista","warning")},cargarDatosEntrevistados:function(e){var o=this;return Re()(xe()().m(function t(){var a,n;return xe()().w(function(t){while(1)switch(t.n){case 0:if("E"!==e){t.n=1;break}return o.entrevistados.nombre=o.currentAlumno.NOMCOMP,t.a(2);case 1:return t.n=2,o.$http.get("api/HyoEntrevista/cargarDatosEntrevistados",{params:{alucod:o.solicitudPersonal.alucod,tipo:e}});case 2:a=t.v,n=a.nombre,o.entrevistados.nombre=n;case 3:return t.a(2)}},t)}))()},cargarDatosEntrevistador:function(){var e=this.entrevistador.entrevistador.CARNOM;this.entrevistador.cargo=e},openAlumnos:function(){var e=this;return Re()(xe()().m(function o(){return xe()().w(function(o){while(1)switch(o.n){case 0:return e.currentAlumno=null,o.n=1,e.getAlumnos();case 1:e.rowsAlumnos=o.v,e.openModalAlumnos=!0;case 2:return o.a(2)}},o)}))()},getAlumnos:function(){return this.$http.get("api/HyoAlumnos/listarAlumnos")},alumnoSelected:function(e){this.currentAlumno=e},agregarAlumno:function(e){(0,je.isArray)(e)&&this.alumnoSelected(e),this.currentAlumno?(this.solicitudPersonal.alucod=this.currentAlumno.ALUCOD,this.solicitudPersonal.nombre=this.currentAlumno.NOMCOMP,this.solicitudPersonal.ngs=this.currentAlumno.NGS,this.openModalAlumnos=!1):this.$notify("Debe seleccionar un registro","info")},cambiarTipo:function(e){var o=this;return Re()(xe()().m(function t(){return xe()().w(function(t){while(1)switch(t.n){case 0:if("A"!==e){t.n=2;break}return t.n=1,o.getAlumnos();case 1:o.rowsAlumnos=t.v,t.n=3;break;case 2:o.rowsAlumnos=[];case 3:return t.a(2)}},t)}))()},cambiarSolicitadoPor:function(e){""===e?(this.$notify("Atención-Debe seleccionar quien solicita la entrevista.","info"),this.solicitado=!1):"P"===e?(this.solicitado=!0,this.entrevistaintranet=!1):(this.solicitado=!1,this.entrevistaintranet=!0)},print:function(e){var o={case:this.tipoReporte,fecha1:this.desdeModal,fecha2:this.hastaModal,local:this.local,tipo:this.tipoModal,sala:this.salaModal,profcod:this.personal,estado:this.estadoModal,formato:e,report_cod:"registroEntrevistas",repcod:"nuevoReporteAcademico"};(0,Je.exportFilePhp)(o,"webservice/reportes/reporte")},setValueCampos:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];for(var o in this.shows)this.shows[o]=e},filtrarCampos:function(){"resumen"===this.tipoReporte?this.setValueCampos(!1):(this.setValueCampos(!0),this.shows.showPersonal=!1,"usuario"!==this.tipoReporte&&"personal"!==this.tipoReporte||(this.shows.showPersonal=!0,this.shows.showSala=!1,this.shows.showTipo=!1),"general"===this.tipoReporte||"padre"===this.tipoReporte?this.shows.showLocal=!0:this.shows.showLocal=!1)},getEntrevistas:function(){var e=arguments,o=this;return Re()(xe()().m(function t(){var a,n;return xe()().w(function(t){while(1)switch(t.n){case 0:if(a=e.length>0&&void 0!==e[0]&&e[0],n=function(){var e=Re()(xe()().m(function e(){var t,a,n,l,s,i;return xe()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,o.$http.get("api/HyoEntrevista/listarEntrevistas",{params:{rowsPerPage:1e3,page:o.page,params:{nombre:o.nombre,tipo:o.tipo,sala:o.sala,fechaini:o.desde.replace(/\//g,"."),fechafin:o.hasta.replace(/\//g,".")}}});case 1:t=e.v,a=t.page,n=t.de,l=t.total,s=t.totalPagination,i=t.data,o.page=a,o.de=n,o.totalRegistros=l,o.totalPagination=s,o.rows=i;case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),!1!==a){t.n=2;break}if(o.desde||o.hasta){t.n=1;break}t.n=2;break;case 1:if(o.desde&&o.hasta){t.n=2;break}return o.$notify("Ingrese rango de fechas","info"),t.a(2);case 2:n();case 3:return t.a(2)}},t)}))()},getSalas:function(){return this.$http.get("api/HyoTablaSe/getTablaSe",{params:{princod:"202"}})},getPersonal:function(){return this.$http.get("api/HyoEntrevista/listaprofesoresconentrevista")},getProfes:function(){return this.$http.get("api/HyoEntrevista/getProfes")}},created:function(){var e=this;return Re()(xe()().m(function o(){var t;return xe()().w(function(o){while(1)switch(o.n){case 0:return e.filtrarCampos(),o.n=1,e.getEntrevistas(!0);case 1:return o.n=2,e.getSalas();case 2:return e.salas=o.v,o.n=3,e.getPersonal();case 3:e.personales=o.v,e.sie=(0,Ie["default"])(),e.tiposModal=JSON.parse(JSON.stringify(e.tipos)),e.salasModal=JSON.parse(JSON.stringify(e.salas)),e.salasSolicitudes=JSON.parse(JSON.stringify(e.salas)),e.salasSolicitudes.length>0&&(t=e.salasSolicitudes[0].SECUCOD,e.salaSolicitud=t),e.salas.unshift({SECUCOD:"",SECUDES:"Todos"}),e.salasModal.unshift({SECUCOD:"%",SECUDES:"Todos"}),e.tiposModal.unshift({value:"%",label:"Todos"}),e.personales.unshift({PROFCOD:"%",NOMCOMP:"Todos"}),"S"===e.sie.docest&&"0090"===e.sie.colcod&&(e.docentesModal.push({label:e.sie.nombre,value:e.sie.profcod}),e.docenteModal=e.sie.profcod),"S"===e.sie.docest&&(e.tipoReporte="personal");case 4:return o.a(2)}},o)}))()},mounted:function(){var e=this;this.saveOnKeyUp=window.onkeyup,window.onkeyup=function(o){119!==o.keyCode&&119!==o.which||e.openAlumnos()}},unmounted:function(){window.onkeyup=this.saveOnKeyUp}},Ze=t(12807);const eo=(0,Ze.A)(We,[["render",Pe]]);var oo=eo}}]);