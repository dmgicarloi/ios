"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[30083],{30083:function(e,a,i){i.r(a),i.d(a,{default:function(){return R}});var t=i(61758),n=i(58790);function o(e,a){var i=(0,t.g2)("header-btn"),o=(0,t.g2)("sie-estudiantes"),s=(0,t.g2)("q-card-title"),r=(0,t.g2)("formularioCovid"),u=(0,t.g2)("sie-vacio"),c=(0,t.g2)("q-card-main"),l=(0,t.g2)("q-card"),d=(0,t.g2)("q-page");return(0,t.uX)(),(0,t.Wv)(d,{class:"pasebrae bg-white overflow-auto full-height q-my-sm q-pl-sm"},{default:(0,t.k6)(function(){return[(0,t.bF)(l,null,{default:(0,t.k6)(function(){return[(0,t.bF)(i,{name:"",buttons:e.buttons},null,8,["buttons"]),e.sie.esFamilia||e.sie.esEstudiante?((0,t.uX)(),(0,t.Wv)(s,{key:0},{default:(0,t.k6)(function(){return[(0,t.Lk)("div",{class:(0,n.C4)(e.isLess?"col-12":"col")},[(0,t.bF)(o,{modelValue:e.persona,"onUpdate:modelValue":a[0]||(a[0]=function(a){return e.persona=a}),onSelected:e.cambiarAlumno},null,8,["modelValue","onSelected"])],2)]}),_:1})):(0,t.Q3)("v-if",!0),(0,t.bF)(c,null,{default:(0,t.k6)(function(){return[e.ficha.ID_FORMULARIO?((0,t.uX)(),(0,t.Wv)(r,{key:0,class:"full-height full-width overflow-auto",ref:"formulario",onPostSave:e.postSave,ficha:e.ficha,persona:e.datosPersona,preview:!1},null,8,["onPostSave","ficha","persona"])):((0,t.uX)(),(0,t.Wv)(u,{key:1,title:e.mensajeVacio},null,8,["title"]))]}),_:1})]}),_:1})]}),_:1})}var s=i(76080),r=i.n(s),u=i(45254),c=i.n(u),l=(i(10239),i(6123)),d=i(11654),f=i(9736),h=i(16648),m=i(88567),v=i(40102),p=i(95718),g=i(80340),b=i(57668),A=i(65229),F=i(81288),k=i(982),P=i(92173),S=i(80660),Q={getFicha:function(e){return S.$http.get("api/FichaSintomatologica/getFichaPase",{params:{data:e}})}},w={directives:{sieActive:A.A},components:{QBtn:d.A,QSelect:h.A,QInput:f.A,QPageSticky:l._U,QFab:l.l6,QCard:m.A,QFabAction:l.B$,QCardSection:p.A,QInnerLoading:l.SQ,QSpinnerOval:l.VA,sieVacio:g.A,formularioCovid:v.A,sieEstudiantes:P.Ay,QPage:l.Tu,QCardTitle:l.u0,QCardMain:l.d1},data:function(){return{sie:(0,b["default"])(),ficha:{},questions:[],fichaHead:"",fichaFooter:"",persona:"",datosPersona:{},alumno:{alucod:"",instrucod:"",gradocod:"",seccioncod:"",nemo:""},mensajeVacio:"Ficha sintomatologica",buttons:[]}},computed:{isLess:function(){return(0,F.isLess)()}},methods:{postSave:function(e,a){var i=this;this.ficha["ID_FRM_USUARIO"]=e.ID_FRM_USUARIO,e.ID_FRM_USUARIO?"0437"===this.sie.colcod&&a?this.verPase():(this.buttons=[{icon:"print",label:"IMPRIMIR",click:function(){i.imprimir()}}],"0159"!==this.sie.colcod&&(this.sie.esEstudiante||this.sie.esFamilia)&&this.buttons.push({icon:"academicos",label:"VER PASE",click:function(){i.verPase()}})):this.buttons=[{icon:"save",label:"Enviar",permisos:" >= 2",click:function(){i.guardar()}}]},imprimir:function(){this.$refs.formulario.imprimir()},guardar:function(){this.$refs.formulario.savePreguntas()},verPase:function(){this.$refs.formulario.verPase()},getFicha:function(){var e=this;return c()(r()().m(function a(){var i;return r()().w(function(a){while(1)switch(a.p=a.n){case 0:return a.p=0,e.ficha={},a.n=1,Q.getFicha(e.datosPersona);case 1:i=a.v,i.data.length>0?e.ficha=i.data[0]:e.mensajeVacio=i.message,a.n=3;break;case 2:a.p=2,a.v,(0,k["default"])("Ha ocurrido un problema de conexi√≥n vuelve a intentarlo","warning");case 3:return a.a(2)}},a,null,[[0,2]])}))()},cambiarAlumno:function(e){this.persona=e.ALUCOD,this.alumno.alucod=e.ALUCOD,this.alumno.instrucod=e.INSTRUCOD,this.alumno.gradocod=e.GRADOCOD,this.alumno.nemo=e.NEMO,this.datosPersona=this.alumno,this.getFicha()}},created:function(){var e=this;return c()(r()().m(function a(){return r()().w(function(a){while(1)switch(a.n){case 0:e.sie.esEstudiante||e.sie.esFamilia||(e.persona=e.sie.profcod,e.datosPersona={profcod:e.persona},e.getFicha());case 1:return a.a(2)}},a)}))()}},I=i(12807);const C=(0,I.A)(w,[["render",o]]);var R=C}}]);