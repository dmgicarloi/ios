"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[64522],{64522:function(e,o,n){n.r(o),n.d(o,{default:function(){return S}});var a=n(61758),t={class:"row q-pa-sm"},r={class:"col-xs-12 col-md-8 offset-md-2"},i={class:"row q-col-gutter-sm"},l={class:"col-12"},u={class:"col-12"},d={class:"col-12"},s={class:"col-12"},c={class:"row"},m={class:"col-12 column items-center justify-center"};function f(e,o){var n=(0,a.g2)("q-btn"),f=(0,a.g2)("q-toolbar"),p=(0,a.g2)("sie-moneda"),g=(0,a.g2)("q-input"),v=(0,a.g2)("q-select"),b=(0,a.g2)("q-form"),h=(0,a.g2)("q-card-main"),k=(0,a.g2)("q-card"),C=(0,a.g2)("q-page");return(0,a.uX)(),(0,a.Wv)(C,{class:"q-pa-sm"},{default:(0,a.k6)(function(){return[e.isGreater?(0,a.Q3)("v-if",!0):((0,a.uX)(),(0,a.Wv)(f,{key:0,class:"q-toolbar-menu fixed-top q-pt-sm",style:{width:"80%",left:"20%"},color:"primary"},{default:(0,a.k6)(function(){return[o[4]||(o[4]=(0,a.Lk)("div",{class:"col"},null,-1)),(0,a.bF)(n,{icon:"save",dense:"",round:"",flat:"",onClick:e.guardarConfiguracion},null,8,["onClick"])]}),_:1})),(0,a.Lk)("div",t,[(0,a.Lk)("div",r,[(0,a.bF)(k,null,{default:(0,a.k6)(function(){return[(0,a.bF)(h,null,{default:(0,a.k6)(function(){return[(0,a.bF)(b,{ref:"formConfiguracion"},{default:(0,a.k6)(function(){return[(0,a.Lk)("div",i,[(0,a.Lk)("div",l,[(0,a.bF)(p,{modelValue:e.form.moncod,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.form.moncod=o}),todos:!1,rules:[e.required]},null,8,["modelValue","rules"])]),(0,a.Lk)("div",u,[(0,a.bF)(g,{modelValue:e.form.igv,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.form.igv=o}),type:"number",label:"Igv",rules:[e.required]},null,8,["modelValue","rules"])]),(0,a.Lk)("div",d,[(0,a.bF)(g,{modelValue:e.form.decimales,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.form.decimales=o}),disable:"",type:"number",label:"Decimales",rules:[e.numeric]},null,8,["modelValue","rules"])]),(0,a.Lk)("div",s,[(0,a.bF)(v,{modelValue:e.form.codigoalid,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.form.codigoalid=o}),"emit-value":"",options:e.confirmar,label:"Código igual al ID"},null,8,["modelValue","options"])])])]}),_:1},512)]}),_:1})]}),_:1})])]),(0,a.Lk)("div",c,[(0,a.Lk)("div",m,[(0,a.bF)(n,{color:"primary",label:"Aceptar",onClick:e.guardarConfiguracion},null,8,["onClick"])])])]}),_:1})}var p=n(76080),g=n.n(p),v=n(45254),b=n.n(v),h=(n(48426),n(6123)),k=n(16648),C=n(9736),M=n(2739);function q(e,o){var n=(0,a.g2)("q-select");return(0,a.uX)(),(0,a.Wv)(n,{"model-value":e.selected,type:"outlined",options:e.listaMoneda,"option-label":"MONNOM","option-value":"MONCOD",onInput:e.seleccionar,label:"Moneda"},null,8,["model-value","options","onInput"])}var V=n(80660),y={emits:["update:todos","input","update:modelValue","seleccionar"],name:"sieMoneda",components:{QSelect:k.A},props:{modelValue:{String:String,default:""},todos:{type:Boolean,default:!0},data:{type:Object,default:function(){return{}}},label:{type:String,default:"Moneda"}},data:function(){return{listaMoneda:[]}},computed:{all:{get:function(){return this.todos},set:function(e){this.$emit("update:todos",e)}},selected:{get:function(){return this.modelValue},set:function(e){this.$emit("update:modelValue",e),this.$emit("input",e)}}},methods:{getListaMoneda:function(){var e=this,o={params:this.data};V.$http.get("api/HyoMonedas/obtMoneda",o).then(function(o){var n=o;e.all&&n.unshift({MONCOD:"Todos",MONNOM:"T"}),e.listaMoneda=n,1===n.length&&(e.selected=n[0]["MONCOD"],e.seleccionar())})},seleccionar:function(e){this.$emit("seleccionar",e)}},created:function(){this.getListaMoneda()}},O=n(12807);const L=(0,O.A)(y,[["render",q]]);var w=L,I=n(39893),A=n(81288),F=n(43136),Q=n(982),N=n(71271),$={components:{sieMoneda:w,QSelect:k.A,QInput:C.A,QForm:M.A,QPage:h.Tu,QToolbar:h.ZV,QBtn:h.Il,QCard:h.C$,QCardMain:h.d1},mixins:[F.initialConfig],data:function(){return{confirmar:[{label:"Si",value:1},{label:"No",value:0}],form:{moncod:"",igv:"",decimales:2,codigoalid:1}}},computed:{isGreater:function(){return(0,A.isGreater)()},params:function(){return{idsede:this.idsede}}},methods:{numeric:I.numeric,required:I.required,guardarConfiguracion:function(){var e=this;return b()(g()().m(function o(){var n;return g()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,e.$refs.formConfiguracion.validate();case 1:if(n=o.v,n){o.n=2;break}return o.a(2);case 2:if(e.form.decimales||(e.form.decimales=2),!(parseInt(e.form.decimales)<2||parseInt(e.form.decimales)>8)){o.n=3;break}return e.form.decimales=2,(0,Q["default"])("Debe ingresar cantidad de decimales en el rango de 2 a 8.","warning"),o.a(2,!1);case 3:V.$http.put("api/HyoConfalm/updateConfiguracion",{empcod:e.empcod,params:e.form}).then(function(){var o=N.A.getItem("params");Object.assign(o,e.form),N.A.set("params",o),(0,Q["default"])("Registro agregado con éxito.")}).catch(function(){(0,Q["default"])("El registro no ha sido agregado.","warning")});case 4:return o.a(2)}},o)}))()}},created:function(){var e,o=this;this.form.codigoalid=null!==(e=this.codigoalid)&&void 0!==e?e:1,V.$http.get("api/HyoConfalm/getBasicConfig",{params:{empcod:this.empcod}}).then(function(e){o.form.moncod=e.MONCOD,o.form.igv=e.IGV,o.form.decimales=e.DECIMALES})}};const D=(0,O.A)($,[["render",f]]);var S=D}}]);