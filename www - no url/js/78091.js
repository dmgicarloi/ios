"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[78091],{472:function(n,e,o){o.r(e),o.d(e,{default:function(){return Q}});var t=o(8445),r=o.n(t),a=o(61758),u=o(58790),l={class:"row"},i={class:"col-xs-4 col-md-2 q-pt-sm"},s={class:"col-xs-4 col-md-2 q-pt-sm"},c={key:0,class:"col"},d={key:1,class:"col"},f={class:"col column scroll-y"};function p(n,e){var o=(0,a.g2)("sie-select"),t=(0,a.g2)("sie-estudiantes"),p=(0,a.g2)("q-card-title"),C=(0,a.g2)("q-item-tile"),b=(0,a.g2)("q-item-side"),m=(0,a.g2)("q-item-main"),_=(0,a.g2)("q-item"),O=(0,a.g2)("q-list"),I=(0,a.g2)("q-checkbox"),E=(0,a.g2)("q-spinner-oval"),h=(0,a.g2)("q-inner-loading"),v=(0,a.g2)("q-card-main"),g=(0,a.g2)("q-card"),k=(0,a.g2)("sie-modal"),P=(0,a.g2)("q-iframe"),D=(0,a.g2)("q-btn"),A=(0,a.g2)("q-tooltip"),S=(0,a.g2)("q-fab-action"),F=(0,a.g2)("q-fab"),R=(0,a.g2)("q-page-sticky"),N=(0,a.g2)("q-page");return(0,a.uX)(),(0,a.Wv)(N,{class:"sie-flat pasebrae bg-white q-pa-sm"},{default:(0,a.k6)(function(){return[(0,a.bF)(g,null,{default:(0,a.k6)(function(){return[(0,a.bF)(p,null,{default:(0,a.k6)(function(){return[(0,a.Lk)("div",l,[(0,a.Lk)("div",i,[(0,a.bF)(o,{type:"outlined",modelValue:n.idPrograma,"onUpdate:modelValue":e[0]||(e[0]=function(e){return n.idPrograma=e}),val:"TIPOCOD",label:"TIPODES",options:n.optPrograma,readonly:!1,placeholder:"Programa",onSelected:n.loadGrupo},null,8,["modelValue","options","onSelected"])]),(0,a.Lk)("div",s,[(0,a.bF)(o,{type:"outlined",modelValue:n.tipoAlumno,"onUpdate:modelValue":e[1]||(e[1]=function(e){return n.tipoAlumno=e}),val:"value",label:"label",options:n.optTipoAlumno,readonly:!1,placeholder:"Alumno Interno/Externo"},null,8,["modelValue","options"])]),"I"===n.tipoAlumno?((0,a.uX)(),(0,a.CE)("div",c,[(0,a.bF)(t,{modelValue:n.idPersona,"onUpdate:modelValue":e[2]||(e[2]=function(e){return n.idPersona=e}),val:"ID_PERSONA",onSelected:n.cambiarAlumno,style:{border:"none"}},null,8,["modelValue","onSelected"])])):((0,a.uX)(),(0,a.CE)("div",d,[(0,a.bF)(o,{class:"q-pt-sm",type:"outlined",modelValue:n.idPersona,"onUpdate:modelValue":e[3]||(e[3]=function(e){return n.idPersona=e}),val:"ID_PERSONA",label:"NOMBRE",options:n.dataAlumnosExternos,readonly:!1,placeholder:"Alumno Externo",onSelected:n.cambiarAlumno},null,8,["modelValue","options","onSelected"])]))])]}),_:1}),(0,a.bF)(v,null,{default:(0,a.k6)(function(){return[e[13]||(e[13]=(0,a.Lk)("div",{class:"row"},null,-1)),(0,a.bF)(O,{class:"bg-white"},{default:(0,a.k6)(function(){return[(0,a.bF)(_,null,{default:(0,a.k6)(function(){return[(0,a.bF)(b,null,{default:(0,a.k6)(function(){return[(0,a.bF)(C)]}),_:1}),(0,a.bF)(b,null,{default:(0,a.k6)(function(){return[(0,a.bF)(C,null,{default:(0,a.k6)(function(){return r()(e[12]||(e[12]=[(0,a.eW)("Mis Cursos",-1)]))}),_:1})]}),_:1}),n.objEnviar.length>0?((0,a.uX)(),(0,a.Wv)(m,{key:0},{default:(0,a.k6)(function(){return[(0,a.bF)(C,{class:"float-right hidden","text-color":"faded"},{default:(0,a.k6)(function(){return[(0,a.eW)((0,u.v_)(n.objEnviar.length)+" "+(0,u.v_)(n.$t(n.objEnviar.length>1?"Curso Seleccionado":"Cursos Seleccionados")),1)]}),_:1})]}),_:1})):((0,a.uX)(),(0,a.Wv)(m,{key:1},{default:(0,a.k6)(function(){return[(0,a.bF)(C,{class:"float-right hidden","text-color":"faded"},{default:(0,a.k6)(function(){return[(0,a.eW)((0,u.v_)(n.talleres.length)+" Cursos",1)]}),_:1})]}),_:1}))]}),_:1})]}),_:1}),(0,a.Lk)("div",f,[n.cursosInscritos.length?((0,a.uX)(),(0,a.Wv)(O,{key:0,"inset-separator":""},{default:(0,a.k6)(function(){return[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.cursosInscritos,function(o,t){return(0,a.uX)(),(0,a.Wv)(_,{key:t},{default:(0,a.k6)(function(){return[(0,a.bF)(b,null,{default:(0,a.k6)(function(){return[(0,a.bF)(C,null,{default:(0,a.k6)(function(){return[(0,a.bF)(I,{modelValue:o.SELECTED,"onUpdate:modelValue":function(n){return o.SELECTED=n},val:o,color:"secondary",onInput:e[4]||(e[4]=function(e){return n.marcar(n.porCobrar)})},null,8,["modelValue","onUpdate:modelValue","val"])]}),_:2},1024)]}),_:2},1024),(0,a.bF)(b,null,{default:(0,a.k6)(function(){return[(0,a.bF)(C,{label:""},{default:(0,a.k6)(function(){return[(0,a.eW)((0,u.v_)(o.CURSOCOD),1)]}),_:2},1024)]}),_:2},1024),(0,a.bF)(m,null,{default:(0,a.k6)(function(){return[(0,a.bF)(C,{label:""},{default:(0,a.k6)(function(){return[(0,a.eW)((0,u.v_)(o.CURSODES),1)]}),_:2},1024),(0,a.bF)(C,{sublabel:""},{default:(0,a.k6)(function(){return[(0,a.eW)((0,u.v_)(o.NOMCOMP),1)]}),_:2},1024),(0,a.bF)(C,{sublabel:""},{default:(0,a.k6)(function(){return[(0,a.eW)((0,u.v_)(o.HORARIO),1)]}),_:2},1024),o.URL_PAGO?((0,a.uX)(),(0,a.Wv)(C,{key:0,class:"item-cip",onClick:function(e){return n.openPagePago(o.URL_PAGO)}},{default:(0,a.k6)(function(){return[(0,a.eW)("CIP: "+(0,u.v_)(o.CODIGO_PAGO),1)]}),_:2},1032,["onClick"])):(0,a.Q3)("v-if",!0)]}),_:2},1024),(0,a.bF)(b,null,{default:(0,a.k6)(function(){return[(0,a.bF)(C,null,{default:(0,a.k6)(function(){return[(0,a.eW)((0,u.v_)(o.MONSIG+" "+o.MONTOCUR),1)]}),_:2},1024)]}),_:2},1024)]}),_:2},1024)}),128))]}),_:1})):(0,a.Q3)("v-if",!0),(0,a.bF)(h,{visible:n.visible},{default:(0,a.k6)(function(){return[(0,a.bF)(E,{size:"50px",color:"primary"})]}),_:1},8,["visible"])])]}),_:1})]}),_:1}),(0,a.bF)(k,{modelValue:n.modalPagar,"onUpdate:modelValue":e[6]||(e[6]=function(e){return n.modalPagar=e}),css:{"min-width":"600px","min-height":"250px"},title:"Pagar Cursos",ok:"pagar",onSubmit:n.pagarCursos},{default:(0,a.k6)(function(){return[(0,a.bF)(O,{"inset-separator":""},{default:(0,a.k6)(function(){return[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.porCobrar,function(o,t){return(0,a.uX)(),(0,a.Wv)(_,{key:t},{default:(0,a.k6)(function(){return[(0,a.bF)(b,null,{default:(0,a.k6)(function(){return[(0,a.bF)(C,null,{default:(0,a.k6)(function(){return[(0,a.bF)(I,{modelValue:o.SELECTED,"onUpdate:modelValue":function(n){return o.SELECTED=n},disable:!!o.URL_PAGO,val:o,color:"secondary",onInput:e[5]||(e[5]=function(e){return n.marcar(n.porCobrar)})},null,8,["modelValue","onUpdate:modelValue","disable","val"])]}),_:2},1024)]}),_:2},1024),(0,a.bF)(b,null,{default:(0,a.k6)(function(){return[(0,a.bF)(C,{label:""},{default:(0,a.k6)(function(){return[(0,a.eW)((0,u.v_)(o.CURSOCOD),1)]}),_:2},1024)]}),_:2},1024),(0,a.bF)(m,null,{default:(0,a.k6)(function(){return[(0,a.bF)(C,{label:""},{default:(0,a.k6)(function(){return[(0,a.eW)((0,u.v_)(o.CURSODES),1)]}),_:2},1024),(0,a.bF)(C,{sublabel:""},{default:(0,a.k6)(function(){return[(0,a.eW)((0,u.v_)(o.NOMCOMP),1)]}),_:2},1024),(0,a.bF)(C,{sublabel:""},{default:(0,a.k6)(function(){return[(0,a.eW)((0,u.v_)(o.HORARIO),1)]}),_:2},1024),o.URL_PAGO?((0,a.uX)(),(0,a.Wv)(C,{key:0,class:"item-cip",onClick:function(e){return n.openPagePago(o.URL_PAGO)}},{default:(0,a.k6)(function(){return[(0,a.eW)("CIP: "+(0,u.v_)(o.CODIGO_PAGO),1)]}),_:2},1032,["onClick"])):(0,a.Q3)("v-if",!0)]}),_:2},1024),(0,a.bF)(b,null,{default:(0,a.k6)(function(){return[(0,a.bF)(C,null,{default:(0,a.k6)(function(){return[(0,a.eW)((0,u.v_)(o.MONSIG+" "+o.MONTOCUR),1)]}),_:2},1024)]}),_:2},1024)]}),_:2},1024)}),128))]}),_:1})]}),_:1},8,["modelValue","onSubmit"]),(0,a.bF)(k,{modelValue:n.modalMisCursos,"onUpdate:modelValue":e[8]||(e[8]=function(e){return n.modalMisCursos=e}),css:{"min-width":"600px","min-height":"250px"},title:"Mis Cursos",footer:!1,ok:!1},{default:(0,a.k6)(function(){return[(0,a.bF)(O,{"inset-separator":""},{default:(0,a.k6)(function(){return[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.cursosInscritos,function(o,t){return(0,a.uX)(),(0,a.Wv)(_,{key:t},{default:(0,a.k6)(function(){return[(0,a.bF)(b,null,{default:(0,a.k6)(function(){return[(0,a.bF)(C,null,{default:(0,a.k6)(function(){return[(0,a.bF)(I,{modelValue:o.SELECTED,"onUpdate:modelValue":function(n){return o.SELECTED=n},disable:!!o.URL_PAGO,val:o,color:"secondary",onInput:e[7]||(e[7]=function(e){return n.marcar(n.porCobrar)})},null,8,["modelValue","onUpdate:modelValue","disable","val"])]}),_:2},1024)]}),_:2},1024),(0,a.bF)(b,null,{default:(0,a.k6)(function(){return[(0,a.bF)(C,{label:""},{default:(0,a.k6)(function(){return[(0,a.eW)((0,u.v_)(o.CURSOCOD),1)]}),_:2},1024)]}),_:2},1024),(0,a.bF)(m,null,{default:(0,a.k6)(function(){return[(0,a.bF)(C,{label:""},{default:(0,a.k6)(function(){return[(0,a.eW)((0,u.v_)(o.CURSODES),1)]}),_:2},1024),(0,a.bF)(C,{sublabel:""},{default:(0,a.k6)(function(){return[(0,a.eW)((0,u.v_)(o.NOMCOMP),1)]}),_:2},1024),(0,a.bF)(C,{sublabel:""},{default:(0,a.k6)(function(){return[(0,a.eW)((0,u.v_)(o.HORARIO),1)]}),_:2},1024),o.URL_PAGO?((0,a.uX)(),(0,a.Wv)(C,{key:0,class:"item-cip",onClick:function(e){return n.openPagePago(o.URL_PAGO)}},{default:(0,a.k6)(function(){return[(0,a.eW)("CIP: "+(0,u.v_)(o.CODIGO_PAGO),1)]}),_:2},1032,["onClick"])):(0,a.Q3)("v-if",!0)]}),_:2},1024),(0,a.bF)(b,null,{default:(0,a.k6)(function(){return[(0,a.bF)(C,null,{default:(0,a.k6)(function(){return[(0,a.eW)((0,u.v_)(o.MONSIG+" "+o.MONTOCUR),1)]}),_:2},1024)]}),_:2},1024)]}),_:2},1024)}),128))]}),_:1})]}),_:1},8,["modelValue"]),(0,a.bF)(k,{class:"cip-modal",modelValue:n.modalCip,"onUpdate:modelValue":e[10]||(e[10]=function(e){return n.modalCip=e}),header:!1,column:"",footer:!1,ok:!1},{default:(0,a.k6)(function(){return[(0,a.bF)(P,{class:"col",src:n.frameUrl},null,8,["src"]),(0,a.bF)(D,{class:"absolute-top-right bg-white text-black",icon:"close",round:"",style:{"margin-right":"10px","margin-top":"10px"},size:"sm",onClick:e[9]||(e[9]=function(e){return n.modalCip=!1})})]}),_:1},8,["modelValue"]),(0,a.bF)(k,{modelValue:n.modalCarrito,"onUpdate:modelValue":e[11]||(e[11]=function(e){return n.modalCarrito=e}),css:{"min-width":"600px","min-height":"250px"},title:"Grabar Cursos",ok:"grabar",onSubmit:n.grabarCursos},{default:(0,a.k6)(function(){return[(0,a.bF)(O,{"inset-separator":""},{default:(0,a.k6)(function(){return[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(n.objEnviar,function(o,t){return(0,a.uX)(),(0,a.Wv)(_,{key:t},{default:(0,a.k6)(function(){return[(0,a.bF)(b,null,{default:(0,a.k6)(function(){return[(0,a.bF)(C,{label:""},{default:(0,a.k6)(function(){return[(0,a.eW)((0,u.v_)(o.CURSOCOD),1)]}),_:2},1024)]}),_:2},1024),(0,a.bF)(m,null,{default:(0,a.k6)(function(){return[(0,a.bF)(C,{label:""},{default:(0,a.k6)(function(){return[(0,a.eW)((0,u.v_)(o.CURSODES),1)]}),_:2},1024),(0,a.bF)(C,{sublabel:""},{default:(0,a.k6)(function(){return[(0,a.eW)((0,u.v_)(o.NOMCOMP),1)]}),_:2},1024),(0,a.bF)(C,{sublabel:""},{default:(0,a.k6)(function(){return[(0,a.eW)((0,u.v_)(o.HORARIO),1)]}),_:2},1024),o.URL_PAGO?((0,a.uX)(),(0,a.Wv)(C,{key:0,class:"item-cip",onClick:function(e){return n.openPagePago(o.URL_PAGO)}},{default:(0,a.k6)(function(){return[(0,a.eW)("CIP: "+(0,u.v_)(o.CODIGO_PAGO),1)]}),_:2},1032,["onClick"])):(0,a.Q3)("v-if",!0)]}),_:2},1024),o.ID_INSCRIPCION_DETALLE?((0,a.uX)(),(0,a.Wv)(b,{key:0,right:""},{default:(0,a.k6)(function(){return[(0,a.bF)(C,{sublabel:"",style:{color:"#1982d5"}},{default:(0,a.k6)(function(){return r()(e[14]||(e[14]=[(0,a.eW)("Inscrito",-1)]))}),_:1})]}),_:1})):(0,a.Q3)("v-if",!0),(0,a.bF)(b,{right:""},{default:(0,a.k6)(function(){return[(0,a.bF)(C,{class:"cursor-pointer",icon:"delete",color:"primary",onClick:function(e){return n.quitarCurso(t)}},null,8,["onClick"])]}),_:2},1024)]}),_:2},1024)}),128))]}),_:1})]}),_:1},8,["modelValue","onSubmit"]),(0,a.bF)(R,{expand:"",position:"bottom-right",offset:[20,20]},{default:(0,a.k6)(function(){return[(0,a.bF)(F,{icon:"more_vert",color:"secondary",direction:"up"},{default:(0,a.k6)(function(){return[(0,a.bF)(S,{round:"",color:"secondary",icon:"block",onClick:n.anular},{default:(0,a.k6)(function(){return[(0,a.bF)(A,null,{default:(0,a.k6)(function(){return r()(e[15]||(e[15]=[(0,a.eW)("Anular",-1)]))}),_:1})]}),_:1},8,["onClick"])]}),_:1})]}),_:1})]}),_:1})}var C=o(76080),b=o.n(C),m=o(45254),_=o.n(m),O=(o(30683),o(71225),o(39866),o(52133),o(10239),o(89571),o(50310),o(5962),o(6724),o(83190),o(52776),o(84433),o(62692),o(81813),o(6123)),I=o(26697),E=o(53093),h=o(53811),v=o(43346),g=o(11654),k=o(9736),P=o(16648),D=o(88567),A=o(95718),S=o(80340),F=o(57668),R=o(65229),N=o(982),U=o(92173),T=o(30640),L=o(93616),y=o(88865),V=o(24974),w=o(56089),W={directives:{sieActive:R.A},components:{QIframe:w.A,sieUsuario:V.A,QCheckbox:O.vZ,QItemSection:y.A,QSearch:O.Ks,sieSelect:L.A,QToolbar:O.ZV,QTabs:I.A,QTab:E.A,QTabPanels:h.A,QTabPanel:v.A,QBtn:g.A,QSelect:P.A,QInput:k.A,QPageSticky:O._U,QFab:O.l6,QCard:D.A,QFabAction:O.B$,QCardSection:A.A,QInnerLoading:O.SQ,QSpinnerOval:O.VA,sieVacio:S.A,sieEstudiantes:U.Ay,sieModal:T.A,QPage:O.Tu,QCardTitle:O.u0,QCardMain:O.d1,QList:O.Mb,QItem:O.H0,QItemSide:O.n1,QItemTile:O.lp,QItemMain:O.mF,QTooltip:O.nC},data:function(){return{cursosInscritos:[],modalCip:!1,modalMisCursos:!1,todosTienenCip:!1,pagar:!1,alumnoSeleccionado:{},modalPagar:!1,selecionados:[],porCobrar:[],duracod:null,sie:(0,F["default"])(),optTipoAlumno:[{label:"Interno",value:"I"},{label:"Externo",value:"E"}],cursosEliminados:[],optPrograma:[],tipoAlumno:"I",modalCarrito:null,idPrograma:null,frameUrl:null,idPersona:null,gruvacod:null,talleres:[],buscar:"",visible:!1,optGrupo:[],objEnviar:[],objActual:[],pase:{},persona:"",dataAlumnos:[],alumno:{alucod:"",nombres:"",apellidos:""},isFamAlu:(0,F["default"])().esFamilia||(0,F["default"])().esFamiliaAdmision||(0,F["default"])().esEstudiante,isFamExterna:"E01"===(0,F["default"])().tipcod,rutaEscudo:(0,F["default"])().host+"/api/HyoEscudo/imagen/logo",colegio:(0,F["default"])().colname}},methods:{imprimir:function(){},anular:function(){var n=this,e=this.cursosInscritos.filter(function(n){return n.SELECTED}).map(function(n){return n.ID_INSCRIPCION_DETALLE});this.$confirmar("¿Está seguro de realizar el proceso?","info").then(function(o){n.$http.post("api/InscripcionController/anular",{data:e}).then(function(n){(0,N["default"])("Proceso Realizado con éxito","success")}).catch(function(n){(0,N["default"])("Hubo un inconveniente al realizar el proceso","warning")})})},recalculoVacantes:function(){},openPagePago:function(n){if("string"===typeof n&&""!==n){var e=/openpay/,o=n.replace(/https?\:/,window.location.protocol);["cordova","capacitor"].includes("capacitor")?e.test(n)?window.open(n,"OpenPay","toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=1,width=800,height=800,left = 390,top = 50"):(0,O.KN)(o):e.test(n)?window.open(n,"OpenPay","toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=1,width=800,height=800,left = 390,top = 50"):(this.modalCip=!0,this.frameUrl=o)}else(0,N["default"])("No se encontró datos","warning")},getGrupoTipo:function(){var n=this;this.$http.get("api/InscripcionController/getTipoGrupoVac").then(function(e){n.optPrograma=e,n.idPrograma=e[0]?e[0].TIPOCOD:null})},getDuracodActivo:function(){var n=this;this.$http.get("api/InscripcionController/getPeriodo",{params:{activo:!0}}).then(function(e){n.duracod=e.DURACOD})},cambiarAlumno:function(n){var e=this;return _()(b()().m(function o(){var t,r,a;return b()().w(function(o){while(1)switch(o.n){case 0:return e.alumnoSeleccionado=n,e.cursosEliminados=[],t={id_persona:n.ID_PERSONA,alucod:n.ALUCOD,duracod:e.duracod,ano:e.sie.ano},r=[],o.n=1,e.getCursosPorCobrar(t).then(function(n){return e.todosTienenCip=!!n.length,n=n.map(function(n){return console.log("v:",n),n.CHECK=!0,n.URL_PAGO||(e.todosTienenCip=!1),r.push(n.ID_CURSO_PERIODO+""+n.TURNO),n}),n});case 1:return a=o.v,e.objEnviar=a,e.selecionados=r,e.talleres=[],e.gruvacod=null,o.n=2,e.loadGrupo(n);case 2:return o.a(2)}},o)}))()},getCursosPorCobrar:function(n){var e=this;return _()(b()().m(function o(){return b()().w(function(o){while(1)switch(o.n){case 0:return o.a(2,e.$http.get("api/InscripcionController/getAllCursos",{params:{params:n}}).then(function(n){var o=n.pendienteDePago,t=n.cursosInscritos;return e.cursosInscritos=t.map(function(n){return n.SELECTED=!1,n}),e.porCobrar=o.map(function(n){return n.SELECTED=!n.URL_PAGO,n}),e.pagar=1,o}))}},o)}))()},loadGrupo:function(n){var e=this;if(!this.idPersona)return!1;var o={ano:this.sie.ano,duracod:this.duracod,idPersona:this.idPersona,tipocod:this.idPrograma};this.$http.get("api/InscripcionController/getGruposTalleres",{params:{params:o}}).then(function(n){e.optGrupo=n})},cambiaGrupo:function(){var n=this;return _()(b()().m(function e(){var o;return b()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,n.getCursos(n.duracod,n.gruvacod,n.ano);case 1:o=e.v,n.talleres=o.map(function(e){return e.CHECK=n.selecionados.includes(e.ID_CURSO_PERIODO+""+e.TURNO),e});case 2:return e.a(2)}},e)}))()},getCursos:function(n,e,o){return this.$http.get("api/CtCursoPeriodoController/getCursoPeriodo",{params:{params:{duracod:n,gruvacod:e,ano:o}}})},getAlumnosExternos:function(){var n=this;return _()(b()().m(function e(){return b()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,n.$http.get("api/personaController/getAuxiliar",{params:{params:{filtro:{tipo_persona:1,id_perfil:3},order:"NOMBRE",vjson:0}}});case 1:n.dataAlumnosExternos=e.v;case 2:return e.a(2)}},e)}))()},pagarCursos:function(n){var e=this;return _()(b()().m(function n(){var o,t,r,a;return b()().w(function(n){while(1)switch(n.n){case 0:for(o=[],r=0;r<e.porCobrar.length;r++)a=e.porCobrar[r],a.ID_INSCRIPCION&&(t=a.ID_INSCRIPCION),a.SELECTED&&o.push({ANOCOB:a.ANO,CODIGO:e.alumnoSeleccionado.ALUCOD,CONCEPTO:"".concat(a.CURSOCOD," - ").concat(a.CURSODES),CONCOB:a.CONCOB,ESTADO:"",ID:a.ID_INSCRIPCION_DETALLE,ID_PERSONA:a.ID_PERSONA,ID_PERFIL:"",ID_SERVICIO:1,MONTO:a.MONTOCUR,MONTODES:a.MONTOCUR,MONTOPEN:a.MONTOCUR,MONCOD:a.MONCOD,MONEDA:a.MONISO,MONSIG:a.MONSIG,TIPO_DEUDA:2,MESCOB:"01",FECHAVEN:new Date});if(0!==o.length){n.n=1;break}return n.a(2,(0,N["default"])("Todos los Cips ya han sido generados","info"));case 1:e.$http.post("api/HyoCobros/obtCipPago",{tipper:1,codigo:e.alumnoSeleccionado.ALUCOD,deudas:o}).then(function(){var n=_()(b()().m(function n(o){var r;return b()().w(function(n){while(1)switch(n.n){case 0:return e.openPagePago(o.body.cipUrl),r={alucod:e.alumnoSeleccionado.ALUCOD,id_persona:e.alumnoSeleccionado.ID_PERSONA,ano:e.sie.ano,duracod:e.duracod,ID_INSCRIPCION:t},n.n=1,e.getCursosPorCobrar(r);case 1:e.objEnviar=n.v;case 2:return n.a(2)}},n)}));return function(e){return n.apply(this,arguments)}}());case 2:return n.a(2)}},n)}))()},grabarCursos:function(n){var e=this;return _()(b()().m(function n(){var o,t,r,a,u,l;return b()().w(function(n){while(1)switch(n.n){case 0:for(o=e.objEnviar,t=[],r=null,a=0;a<o.length;a++)u=o[a],u.ID_INSCRIPCION_DETALLE?r||(r=u.ID_INSCRIPCION):(delete u.FECINI,delete u.FECFIN,delete u.ID_INSCRIPCION_DETALLE,t.push(u));if(!t.length&&!e.cursosEliminados.length){n.n=3;break}return n.n=1,e.$http.post("api/InscripcionController/grabarCursos",{data:t,idInscripcion:r,deleted:e.cursosEliminados});case 1:return l=n.v,l.alucod=e.alumnoSeleccionado.ALUCOD,l.id_persona=e.alumnoSeleccionado.ID_PERSONA,l.ano=e.sie.ano,l.duracod=e.duracod,n.n=2,e.getCursosPorCobrar(l);case 2:e.objEnviar=n.v;case 3:e.modalPagar=!0,e.modalCarrito=!1;case 4:return n.a(2)}},n)}))()},marcar:function(n){if(n.CHECK)n.ANO=this.sie.ano,n.ID_PERSONA=this.idPersona,this.objEnviar.push(n),this.selecionados.push(n.ID_CURSO_PERIODO+""+n.TURNO),n.ID_INSCRIPCION_DETALLE&&this.cursosEliminados.includes(n.ID_INSCRIPCION_DETALLE)&&(this.cursosEliminados=this.cursosEliminados.filter(function(e){return e!==n.ID_INSCRIPCION_DETALLE}));else{if(n.ID_INSCRIPCION_DETALLE){var e=r()(this.cursosEliminados);e.push(n.ID_INSCRIPCION_DETALLE),this.cursosEliminados=e}this.objEnviar=this.objEnviar.filter(function(e){return!(e.ID_CURSO_PERIODO===n.ID_CURSO_PERIODO&&e.TURNO===n.TURNO)})}console.log(this.objEnviar,this.selecionados)},quitarCurso:function(n){var e=this.objEnviar,o=e[n];this.talleres=this.talleres.map(function(n){return n.ID_CURSO_PERIODO===o.ID_CURSO_PERIODO&&n.TURNO===o.TURNO&&(n.CHECK=!1),n}),o.ID_INSCRIPCION_DETALLE&&this.cursosEliminados.push(o.ID_INSCRIPCION_DETALLE),e.splice(n,1),this.objEnviar=e},verCarrito:function(n){for(var e=!1,o=0;o<n.length;o++){var t=n[o];if(!t.ID_INSCRIPCION_DETALLE){e=!0;break}}e=!!this.cursosEliminados.length||e,this.modalCarrito=e,this.modalPagar=!e}},created:function(){this.getDuracodActivo(),this.getGrupoTipo(),this.getAlumnosExternos()}},M=o(12807);const G=(0,M.A)(W,[["render",p]]);var Q=G}}]);