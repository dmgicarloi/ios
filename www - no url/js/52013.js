"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[52013],{52013:function(e,o,t){t.r(o),t.d(o,{default:function(){return gt}});var a=t(61758),n=t(58790),r={class:"row items-center no-wrap"},l={class:"col"},i={class:"text-h6"},s={class:"row"},c={class:"col-xs-12 col-sm-3 col-md-2"},u={class:"col-xs-12 col-sm-9 col-md-10 q-pl-xs",ref:"vGrid"};function d(e,o){var t=(0,a.g2)("q-card-section"),d=(0,a.g2)("q-separator"),C=(0,a.g2)("sie-grid"),m=(0,a.g2)("centrocosto"),f=(0,a.g2)("subdiarios"),p=(0,a.g2)("cuentasContables"),O=(0,a.g2)("cuentasContablesGradoniv"),A=(0,a.g2)("servicios"),h=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.Wv)(h,{class:"layout-v1 my-card",flat:"",bordered:""},{default:(0,a.k6)(function(){return[(0,a.bF)(t,null,{default:(0,a.k6)(function(){return[(0,a.Lk)("div",r,[(0,a.Lk)("div",l,[(0,a.Lk)("div",i,"Tablas / "+(0,n.v_)(e.title),1)]),o[0]||(o[0]=(0,a.Lk)("div",{class:"col-auto"},[(0,a.Q3)('q-btn.q-mr-sm(slot="right" icon="add" color="primary" label="Nuevo" size="sm" )')],-1))])]}),_:1}),(0,a.bF)(d),(0,a.bF)(t,null,{default:(0,a.k6)(function(){return[(0,a.Lk)("div",s,[(0,a.Lk)("div",c,[o[1]||(o[1]=(0,a.Lk)("div",{class:"row q-mt-sm"},null,-1)),(0,a.bF)(C,{class:"fix-table-global ag-theme-balham",columnDefs:e.columnDefs,rowData:e.rowData,frameworkComponents:e.frameworkComponents,onGridReady:e.onGridReady,onRowClicked:e.selectRowTable,style:{height:"calc(100vh - 185px)"}},null,8,["columnDefs","rowData","frameworkComponents","onGridReady","onRowClicked"])]),(0,a.Lk)("div",u,["centrocosto"===e.selectTable?((0,a.uX)(),(0,a.Wv)(m,{key:0})):(0,a.Q3)("v-if",!0),"subdiario"===e.selectTable?((0,a.uX)(),(0,a.Wv)(f,{key:1})):(0,a.Q3)("v-if",!0),"cuentacontable"===e.selectTable?((0,a.uX)(),(0,a.Wv)(p,{key:2})):(0,a.Q3)("v-if",!0),"cuentagradoniv"===e.selectTable?((0,a.uX)(),(0,a.Wv)(O,{key:3})):(0,a.Q3)("v-if",!0),"servicios"===e.selectTable?((0,a.uX)(),(0,a.Wv)(A,{key:4})):(0,a.Q3)("v-if",!0)],512)])]}),_:1})]}),_:1})}var C=t(88567),m=t(95718),f=t(53380),p=t(54489),O=t(12143),A=t(36408),h=t(27560),b=t(96330),v=t(75053),g=t(64208),D=t(6123),I=t(95051),E=t(95477),S=t(3112),_=t(38642),R=t(8445),w=t.n(R),N={class:"row q-mt-sm"},T={class:"col headerTable"},U={class:"row q-ma-xs q-col-gutter-sm"},k={class:"col-xs-12"},L={class:"col headerTable"},V={class:"col-xs-12",style:{"padding-top":"0","margin-top":"0"}},x={class:"row q-ma-xs q-col-gutter-sm"},F={class:"text-h6"},M={class:"row q-ma-xs q-col-gutter-sm"},P={class:"col-xs-12"},G={class:"col-xs-12"},B={class:"col-xs-12"},y={class:"col-xs-12"},$={key:0,class:"col-xs-12"},Q={class:"row q-ma-xs q-col-gutter-sm"},z={class:"text-h6"},X={class:"row q-ma-xs q-col-gutter-sm"},q={class:"col-xs-12"},W={class:"col-xs-12"},H={class:"col-xs-12"},j={class:"col-xs-12"},Z={class:"col-xs-12"},K={class:"col-xs-12"},Y={class:"col-xs-12"};function J(e,o){var t=(0,a.g2)("q-btn"),r=(0,a.g2)("sie-grid"),l=(0,a.g2)("footer-grid"),i=(0,a.g2)("q-card-section"),s=(0,a.g2)("sie-modal"),c=(0,a.g2)("q-separator"),u=(0,a.g2)("q-input"),d=(0,a.g2)("q-select"),C=(0,a.g2)("q-checkbox");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("div",N,[(0,a.Lk)("div",T,[e.nivelAcceso>=e.LECTURA_ESCRITURA?((0,a.uX)(),(0,a.Wv)(t,{key:0,class:"q-ma-xs",size:"sm",icon:"add",color:"primary",flat:"",onClick:e.abrilModalConcepto},{default:(0,a.k6)(function(){return w()(o[16]||(o[16]=[(0,a.eW)("Agregar",-1)]))}),_:1},8,["onClick"])):(0,a.Q3)("v-if",!0),e.nivelAcceso>=e.LECTURA_ESCRITURA?((0,a.uX)(),(0,a.Wv)(t,{key:1,class:"q-ma-xs",size:"sm",icon:"settings",color:"primary",flat:"",onClick:e.abriModalCCostos},{default:(0,a.k6)(function(){return w()(o[17]||(o[17]=[(0,a.eW)("Definir",-1)]))}),_:1},8,["onClick"])):(0,a.Q3)("v-if",!0)])]),(0,a.bF)(r,{class:"fix-table-global ag-theme-balham",columnDefs:e.columnDefs,frameworkComponents:e.frameworkComponents,rowData:e.rowData,onGridReady:e.onGridReady,style:{height:"calc(100vh - 250px)"}},null,8,["columnDefs","frameworkComponents","rowData","onGridReady"]),(0,a.bF)(l,{modelValue:e.pagina,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.pagina=o}),max:e.max,onLoad:e.reloadGrid,rows:e.rowData},null,8,["modelValue","max","onLoad","rows"]),(0,a.bF)(s,{title:e.title,modelValue:e.openModalCentroCosto,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.openModalCentroCosto=o}),showButtonCancel:!1,showButtonSave:!1,customWidth:"800px"},{default:(0,a.k6)(function(){return[(0,a.bF)(i,null,{default:(0,a.k6)(function(){return w()(o[18]||(o[18]=[(0,a.Lk)("div",{class:"row q-ma-xs q-col-gutter-sm"},[(0,a.Lk)("div",{class:"text-h6"},"Centro de Costos")],-1)]))}),_:1}),(0,a.bF)(i,null,{default:(0,a.k6)(function(){return[(0,a.Lk)("div",U,[(0,a.Lk)("div",k,[(0,a.Lk)("div",L,[e.nivelAcceso>=e.LECTURA_ESCRITURA?((0,a.uX)(),(0,a.Wv)(t,{key:0,class:"q-ma-xs",size:"sm",icon:"add",color:"primary",flat:"",onClick:e.AgregarCentroCosto},{default:(0,a.k6)(function(){return w()(o[19]||(o[19]=[(0,a.eW)("Agregar",-1)]))}),_:1},8,["onClick"])):(0,a.Q3)("v-if",!0)])]),(0,a.Lk)("div",V,[(0,a.bF)(r,{class:"fix-tab-height ag-theme-balham",columnDefs:e.columnDefsCentroCostos,frameworkComponents:e.frameworkComponentsCostos,rowData:e.rowDataCostos,onGridReady:e.onGridReadyCosto,style:{width:"100%",height:"400px"}},null,8,["columnDefs","frameworkComponents","rowData","onGridReady"])])])]}),_:1})]}),_:1},8,["title","modelValue"]),(0,a.bF)(s,{title:e.title,modelValue:e.openModalAgregarCentroCosto,"onUpdate:modelValue":o[7]||(o[7]=function(o){return e.openModalAgregarCentroCosto=o}),onSubmit:e.submitCentroCosto},{default:(0,a.k6)(function(){return[(0,a.bF)(i,null,{default:(0,a.k6)(function(){return[(0,a.Lk)("div",x,[(0,a.Lk)("div",F,(0,n.v_)(e.tituloOpcion)+" Centro de Costos",1)]),(0,a.bF)(c),(0,a.bF)(i,null,{default:(0,a.k6)(function(){return[(0,a.Lk)("div",M,[(0,a.Lk)("div",P,[(0,a.bF)(u,{label:"Código",placeholder:"Ingrese el código del centro de costo",modelValue:e.formCentroCosto.CODIGO_CENCOS,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.formCentroCosto.CODIGO_CENCOS=o})},null,8,["modelValue"])]),(0,a.Lk)("div",G,[(0,a.bF)(u,{label:"Descripción",placeholder:"Ingrese la Nombre del centro de costo",modelValue:e.formCentroCosto.NOMBRE_CENCOS,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.formCentroCosto.NOMBRE_CENCOS=o})},null,8,["modelValue"])]),(0,a.Lk)("div",B,[(0,a.bF)(d,{label:"Empresa","option-value":"EMPCOD","option-label":"RAZONSOCIAL",options:e.empresas,modelValue:e.formCentroCosto.EMPCOD,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.formCentroCosto.EMPCOD=o})},null,8,["options","modelValue"])]),(0,a.Lk)("div",y,[(0,a.bF)(d,{label:"Centro de Costo Referencia",options:e.rowDataCostosRef,"option-value":"ID_CENTRO_COSTO","option-label":"label",modelValue:e.formCentroCosto.ID_CENTRO_COSTO_REF,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.formCentroCosto.ID_CENTRO_COSTO_REF=o})},null,8,["options","modelValue"])]),"update"===e.modeCentroCosto?((0,a.uX)(),(0,a.CE)("div",$,[(0,a.bF)(C,{modelValue:e.formCentroCosto.ACTIVO,"onUpdate:modelValue":o[6]||(o[6]=function(o){return e.formCentroCosto.ACTIVO=o}),"true-value":1,"false-value":0,"left-label":"",label:"Activo"},null,8,["modelValue"])])):(0,a.Q3)("v-if",!0)])]}),_:1})]}),_:1})]}),_:1},8,["title","modelValue","onSubmit"]),(0,a.bF)(s,{title:e.title,modelValue:e.openModalAgregarCConcepto,"onUpdate:modelValue":o[15]||(o[15]=function(o){return e.openModalAgregarCConcepto=o}),onSubmit:e.submitCentroCostoConcepto},{default:(0,a.k6)(function(){return[(0,a.bF)(i,null,{default:(0,a.k6)(function(){return[(0,a.Lk)("div",Q,[(0,a.Lk)("div",z,(0,n.v_)(e.tituloConfiguracion),1)]),(0,a.bF)(c),(0,a.bF)(i,null,{default:(0,a.k6)(function(){return[(0,a.Lk)("div",X,[(0,a.Lk)("div",q,[(0,a.bF)(d,{label:"Centro de Costo",options:e.rowDataCostos,"option-value":"ID_CENTRO_COSTO","option-label":"label",modelValue:e.formCentroConcepto.ID_CENTRO_COSTO,"onUpdate:modelValue":o[8]||(o[8]=function(o){return e.formCentroConcepto.ID_CENTRO_COSTO=o})},null,8,["options","modelValue"])]),(0,a.Lk)("div",W,[(0,a.bF)(d,{label:"Colegio",options:e.dataColegio,"option-value":"ID_LOCAL","option-label":"NOMBRE",modelValue:e.formCentroConcepto.ID_LOCAL,"onUpdate:modelValue":o[9]||(o[9]=function(o){return e.formCentroConcepto.ID_LOCAL=o})},null,8,["options","modelValue"])]),(0,a.Lk)("div",H,[(0,a.bF)(d,{label:"Conceptos",options:e.conceptos,"option-value":"value","option-label":"label",modelValue:e.formCentroConcepto.CONCOB,"onUpdate:modelValue":o[10]||(o[10]=function(o){return e.formCentroConcepto.CONCOB=o})},null,8,["options","modelValue"])]),(0,a.Lk)("div",j,[(0,a.bF)(d,{label:"Niveles",options:e.niveles,"option-value":"value","option-label":"label",onInput:e.getGrados,modelValue:e.formCentroConcepto.INSTRUCOD,"onUpdate:modelValue":o[11]||(o[11]=function(o){return e.formCentroConcepto.INSTRUCOD=o})},null,8,["options","onInput","modelValue"])]),(0,a.Lk)("div",Z,[(0,a.bF)(d,{label:"Grado",options:e.grados,"option-value":"value","option-label":"label",onInput:e.getSecciones,modelValue:e.formCentroConcepto.GRADOCOD,"onUpdate:modelValue":o[12]||(o[12]=function(o){return e.formCentroConcepto.GRADOCOD=o})},null,8,["options","onInput","modelValue"])]),(0,a.Lk)("div",K,[(0,a.bF)(d,{label:"Sección",options:e.secciones,"option-value":"value","option-label":"label",modelValue:e.formCentroConcepto.SECCIONCOD,"onUpdate:modelValue":o[13]||(o[13]=function(o){return e.formCentroConcepto.SECCIONCOD=o})},null,8,["options","modelValue"])]),(0,a.Lk)("div",Y,[(0,a.bF)(C,{modelValue:e.repetir,"onUpdate:modelValue":o[14]||(o[14]=function(o){return e.repetir=o}),"left-label":"",label:"Continuar Registrando"},null,8,["modelValue"])])])]}),_:1})]}),_:1})]}),_:1},8,["title","modelValue","onSubmit"])])}var ee=t(41562),oe=t.n(ee),te=t(76080),ae=t.n(te),ne=t(45254),re=t.n(ne),le=(t(52133),t(10239),t(50310),t(6724),t(83190),t(78840)),ie=t(80660),se=t(57668),ce=t(19852),ue=t(7729),de=t(26697),Ce=t(53093),me=t(2739),fe=t(43346),pe=t(53811),Oe=t(99515),Ae=t(93616),he=t(80340),be=t(41615),ve={components:{sieGrid:A.A,sieVacio:he.A,headerGrid:b.A,footerGrid:h.A,sieSelect:Ae.A,QRadio:Oe.A,QForm:me.A,QCheckbox:S.A,createGrid:ue.A,formulario:ce.A,QCard:C.A,QCardSection:m.A,QSeparator:f.A,QTabs:de.A,QTab:Ce.A,QTabPanels:pe.A,QTabPanel:fe.A,QPagination:D.ao,sieModal:v.A,QSearch:D.Ks,QSelect:p.S,QInput:g.A,QBtn:D.Il},data:function(){return{columnDefs:[],frameworkComponents:{},rowData:[],api:{},openModalCentroCosto:!1,LECTURA_ESCRITURA:be["default"].LECTURA_ESCRITURA,nivelAcceso:(0,se["default"])().ruta.nivel,max:1,pagina:1,columnDefsCentroCostos:{},frameworkComponentsCostos:{},rowDataCostos:[],rowDataCostosRef:[],apiCostos:null,openModal:!1,openModalAgregarCentroCosto:!1,empresas:[],ID_CENTRO_COSTO:"",ID_CENCOS_CONCOBRO:"",formCentroCosto:{EMPCOD:"",CODIGO_CENCOS:"",NOMBRE_CENCOS:"",COLEGIO:(0,se["default"])().colcod,ID_CENTRO_COSTO_REF:null,ACTIVO:1},formCentroConcepto:{ID_CENTRO_COSTO:"",INSTRUCOD:"T",GRADOCOD:"T",SECCIONCOD:"T",CONCOB:"",ACTIVO:1,ID_LOCAL:""},modeCentroCosto:"insert",title:"SIEWEB: Tesorería",openModalAgregarCConcepto:!1,niveles:[],conceptos:[],grados:[],secciones:[],modeCConcepto:"insert",tituloOpcion:"Agregar",tituloConfiguracion:"Asociar Centro de Costos c/ Concepto",repetir:!0,dataColegio:[]}},computed:{},methods:{getColegios:function(){var e=this;return re()(ae()().m(function o(){var t;return ae()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,ie.$http.get("api/empresaController/getLocales",{params:{parametros:{response:"combo"}}});case 1:t=o.v,e.dataColegio=t;case 2:return o.a(2)}},o)}))()},getConceptos:function(){var e=this;return re()(ae()().m(function o(){var t;return ae()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,ie.$http.get("api/CalendarController/getConceptos");case 1:t=o.v,t.map(function(o){return e.conceptos.push({label:o.CONDES,value:o.CONCOB})}),e.conceptos.unshift({label:"Todos",value:"T"});case 2:return o.a(2)}},o)}))()},clearFormCentroCosto:function(){var e=this;return re()(ae()().m(function o(){return ae()().w(function(o){while(1)switch(o.n){case 0:e.formCentroCosto.EMPCOD="",e.formCentroCosto.CODIGO_CENCOS="",e.formCentroCosto.NOMBRE_CENCOS="",e.formCentroCosto.COLEGIO=(0,se["default"])().colcod,e.formCentroCosto.ACTIVO=1;case 1:return o.a(2)}},o)}))()},clearFormCConcepto:function(){var e=this;return re()(ae()().m(function o(){return ae()().w(function(o){while(1)switch(o.n){case 0:e.formCentroConcepto.ID_CENTRO_COSTO="",e.formCentroConcepto.INSTRUCOD="T",e.formCentroConcepto.GRADOCOD="T",e.formCentroConcepto.SECCIONCOD="T",e.formCentroConcepto.CONCOB="",e.formCentroConcepto.ACTIVO=1;case 1:return o.a(2)}},o)}))()},getNiveles:function(){var e=this;return re()(ae()().m(function o(){return ae()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,be["default"].API_NIVELES();case 1:e.niveles=o.v;case 2:return o.a(2)}},o)}))()},getGrados:function(){var e=this;return re()(ae()().m(function o(){return ae()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,be["default"].API_GRADOS(e.formCentroConcepto.INSTRUCOD);case 1:e.grados=o.v,e.formCentroConcepto.GRADOCOD="";case 2:return o.a(2)}},o)}))()},getSecciones:function(){var e=this;return re()(ae()().m(function o(){return ae()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,be["default"].API_SECCIONES(e.formCentroConcepto.GRADOCOD,e.formCentroConcepto.INSTRUCOD);case 1:e.secciones=o.v,e.formCentroConcepto.SECCIONCOD="";case 2:return o.a(2)}},o)}))()},getEmpresas:function(){var e=this;return re()(ae()().m(function o(){var t;return ae()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,ie.$http.get("api/empresaController/getEmpresas");case 1:t=o.v,e.empresas=t;case 2:return o.a(2)}},o)}))()},AgregarCentroCosto:function(){var e=this;return re()(ae()().m(function o(){return ae()().w(function(o){while(1)switch(o.n){case 0:e.getCentroDeCosto({id_centro_costo:9999,flagReferencia:!0}),e.openModalAgregarCentroCosto=!0,e.modeCentroCosto="insert",e.tituloOpcion="Agregar",e.clearFormCentroCosto();case 1:return o.a(2)}},o)}))()},setUpdateCentroCosto:function(e){var o=this;return re()(ae()().m(function t(){var a;return ae()().w(function(t){while(1)switch(t.n){case 0:return a=e.data,o.formCentroCosto.EMPCOD=a.EMPCOD,o.formCentroCosto.CODIGO_CENCOS=a.CODIGO_CENCOS,o.formCentroCosto.NOMBRE_CENCOS=a.NOMBRE_CENCOS,o.formCentroCosto.COLEGIO=(0,se["default"])().colcod,o.formCentroCosto.ACTIVO=a.ACTIVO,o.ID_CENTRO_COSTO=a.ID_CENTRO_COSTO,o.formCentroCosto.ID_CENTRO_COSTO_REF=a.ID_CENTRO_COSTO_REF,o.modeCentroCosto="update",o.tituloOpcion="Editar",t.n=1,o.getCentroDeCosto({id_centro_costo:a.ID_CENTRO_COSTO,flagReferencia:!0});case 1:o.openModalAgregarCentroCosto=!0;case 2:return t.a(2)}},t)}))()},setUpdateCComcepto:function(e){var o=this;return re()(ae()().m(function t(){var a;return ae()().w(function(t){while(1)switch(t.n){case 0:return a=e.data,o.formCentroConcepto.ID_CENTRO_COSTO=a.ID_CENTRO_COSTO,o.formCentroConcepto.INSTRUCOD=a.INSTRUCOD,t.n=1,o.getGrados(a.INSTRUCOD);case 1:return o.formCentroConcepto.GRADOCOD=a.GRADOCOD,t.n=2,o.getSecciones(a.GRADOCOD,a.INSTRUCOD);case 2:o.formCentroConcepto.SECCIONCOD=a.SECCIONCOD,o.formCentroConcepto.CONCOB=a.CONCOB,o.formCentroConcepto.ACTIVO=a.ACTIVO,o.formCentroConcepto.ID_LOCAL=a.ID_LOCAL,o.openModalAgregarCConcepto=!0,o.ID_CENCOS_CONCOBRO=a.ID_CENCOS_CONCOBRO,o.modeCConcepto="update",o.tituloConfiguracion="Editar Centro de Costos c/ Concepto";case 3:return t.a(2)}},t)}))()},validateFormCentroCosto:function(){var e="";return this.formCentroCosto.CODIGO_CENCOS?this.formCentroCosto.NOMBRE_CENCOS?this.formCentroCosto.EMPCOD||(e="Debe elegir la empresa"):e="Debe ingresar la descripción del centro de costos":e="Debe ingresar el código del centro de costos",e.length>0?{status:"error",message:e}:{status:"ok"}},validateFormCConcepto:function(){var e="";return this.formCentroConcepto.ID_CENTRO_COSTO?this.formCentroConcepto.CONCOB?this.formCentroConcepto.INSTRUCOD?this.formCentroConcepto.GRADOCOD?this.formCentroConcepto.ID_LOCAL||(e="No selecciono el local"):e="No selecciono el grado":e="No selecciono el nivel ":e="No se selecciono el concepto":e="No selecciono el centro de costo",e.length>0?{status:"error",message:e}:{status:"ok"}},insertarCentroCosto:function(){var e=this;delete this.formCentroCosto.ID,this.$confirm("¿Esta seguro de ingresar este centro de costo?","info").onOk(re()(ae()().m(function o(){var t,a;return ae()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,o.n=1,ie.$http.post("api/ContabilidadController/addCentroDeCosto",{datos:e.formCentroCosto});case 1:t=o.v,e.getCentroDeCosto(),e.$alert(t.message,"success"),e.repetir||(e.openModalAgregarCentroCosto=!1,e.clearFormCentroCosto()),o.n=3;break;case 2:o.p=2,a=o.v,console.log(a),e.$alert(a.error.message,"warning");case 3:return o.a(2)}},o,null,[[0,2]])})))},insertarCConcepto:function(){var e=this;delete this.formCentroConcepto.ID,this.$confirm("Esta seguro de darle esta configuracion a este centro de costo ?","info").onOk(re()(ae()().m(function o(){var t,a;return ae()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,o.n=1,ie.$http.post("api/ContabilidadController/addCentroDeCostoConcepto",{datos:e.formCentroConcepto});case 1:t=o.v,e.$alert(t.message,"success"),e.getCeConcepto(),e.repetir||(e.openModalAgregarCConcepto=!1,e.clearFormCConcepto()),o.n=3;break;case 2:o.p=2,a=o.v,e.$alert(a.error.message,"warning");case 3:return o.a(2)}},o,null,[[0,2]])})))},actualizarCentroCosto:function(){var e=this;this.$confirm("Esta seguro de actulizar este centro de costo ?","info").onOk(re()(ae()().m(function o(){var t,a;return ae()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,e.formCentroCosto.ID=e.ID_CENTRO_COSTO,o.n=1,ie.$http.post("api/ContabilidadController/updateCentroDeCosto",{datos:e.formCentroCosto});case 1:t=o.v,e.$alert(t.message,"success"),e.getCentroDeCosto(),e.repetir||(e.getCeConcepto(),e.openModalAgregarCentroCosto=!1,delete e.formCentroCosto.ID,e.clearFormCentroCosto()),o.n=3;break;case 2:o.p=2,a=o.v,e.$alert(a.error.message,"warning");case 3:return o.a(2)}},o,null,[[0,2]])})))},actualizarCConcepto:function(){var e=this;this.$confirm("Esta seguro de actulizar este centro de costo ?","info").onOk(re()(ae()().m(function o(){var t,a;return ae()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,e.formCentroConcepto.ID=e.ID_CENCOS_CONCOBRO,o.n=1,ie.$http.post("api/ContabilidadController/updateCConcepto",{datos:e.formCentroConcepto});case 1:t=o.v,e.$alert(t.message,"success"),e.getCeConcepto(),e.openModalAgregarCConcepto=!1,delete e.formCentroConcepto.ID,e.clearFormCentroCosto(),o.n=3;break;case 2:o.p=2,a=o.v,e.$alert(a.error.message,"warning");case 3:return o.a(2)}},o,null,[[0,2]])})))},deleteCentroCosto:function(e){var o=this;this.$confirm("Esta seguro de ingresar este centro de costo ?","delete").onOk(re()(ae()().m(function t(){var a,n;return ae()().w(function(t){while(1)switch(t.p=t.n){case 0:return t.p=0,t.n=1,ie.$http.delete("api/ContabilidadController/deleteCentroDeCosto",{params:{datos:{ID_CENTRO_COSTO:e.data.ID_CENTRO_COSTO}}});case 1:a=t.v,o.$alert(a.message,"success"),o.getCentroDeCosto(),o.getCeConcepto(),t.n=3;break;case 2:t.p=2,n=t.v,o.$alert(n.error.message,"warning");case 3:return t.a(2)}},t,null,[[0,2]])})))},deleteCConcepto:function(e){var o=this;this.$confirm("Esta seguro de eliminar la configuracion este centro de costo ?","delete").onOk(re()(ae()().m(function t(){var a,n;return ae()().w(function(t){while(1)switch(t.p=t.n){case 0:return t.p=0,t.n=1,ie.$http.delete("api/ContabilidadController/deleteCConcepto",{params:{datos:{ID_CENCOS_CONCOBRO:e.data.ID_CENCOS_CONCOBRO}}});case 1:a=t.v,o.$alert(a.message,"success"),o.getCeConcepto(),t.n=3;break;case 2:t.p=2,n=t.v,o.$alert(n.error.message,"warning");case 3:return t.a(2)}},t,null,[[0,2]])})))},submitCentroCosto:function(){var e=this;return re()(ae()().m(function o(){var t;return ae()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,e.validateFormCentroCosto();case 1:t=o.v,"ok"===t.status?"insert"===e.modeCentroCosto?e.insertarCentroCosto():e.actualizarCentroCosto():e.$alert(t.message,"warning");case 2:return o.a(2)}},o)}))()},submitCentroCostoConcepto:function(){var e=this;return re()(ae()().m(function o(){var t;return ae()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,e.validateFormCConcepto();case 1:t=o.v,"ok"===t.status?"insert"===e.modeCConcepto?e.insertarCConcepto():e.actualizarCConcepto():e.$alert(t.message,"warning");case 2:return o.a(2)}},o)}))()},abrilModalConcepto:function(){this.openModalAgregarCConcepto=!0,this.modeCConcepto="insert",this.tituloConfiguracion="Asociar Centro de Costos c/ Concepto",this.clearFormCConcepto()},abriModalCCostos:function(){this.openModalCentroCosto=!0},onGridReady:function(e){this.api=e.api},onGridReadyCosto:function(e){this.apiCostos=e.api},reloadGrid:function(e){this.getCentroDeCosto(),this.getCeConcepto()},agregar:function(){this.$router.push({name:"tesoreria.centroDeCosto.form"})},getCentroDeCosto:function(){var e=arguments,o=this;return re()(ae()().m(function t(){var a,n,r,l,i,s,c,u,d;return ae()().w(function(t){while(1)switch(t.n){case 0:return a=e.length>0&&void 0!==e[0]?e[0]:null,t.n=1,ie.$http.get("api/ContabilidadController/getCentroDeCosto",{params:{params:{}}});case 1:n=t.v,r=oe()(n);try{for(r.s();!(l=r.n()).done;)i=l.value,i.label=i.CODIGO_CENCOS+"-"+i.NOMBRE_CENCOS}catch(e){r.e(e)}finally{r.f()}if(o.rowDataCostos=n,!a||!a.flagReferencia){t.n=4;break}return t.n=2,ie.$http.get("api/ContabilidadController/getCentroDeCosto",{params:{params:{id_centro_costo:a.id_centro_costo,flagReferencia:a.flagReferencia}}});case 2:s=t.v,c=oe()(s);try{for(c.s();!(u=c.n()).done;)d=u.value,d.label=d.CODIGO_CENCOS+"-"+d.NOMBRE_CENCOS}catch(e){c.e(e)}finally{c.f()}return t.n=3,s;case 3:o.rowDataCostosRef=t.v,o.rowDataCostosRef.push({label:"",value:null});case 4:return t.a(2)}},t)}))()},getCeConcepto:function(){var e=this;return re()(ae()().m(function o(){return ae()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,ie.$http.get("api/ContabilidadController/getCentroDeCostoConcepto",{params:{params:{}}});case 1:e.rowData=o.v;case 2:return o.a(2)}},o)}))()},columnsCConcepto:function(){this.frameworkComponents={actionButton:le.A},this.columnDefs=[{headerName:"Código",width:100,field:"CODIGO_CENCOS",resizable:!0,cellStyle:{textAlign:"center"},sortable:!0},{headerName:"Centro Costos",width:190,field:"NOMBRE_CENCOS",resizable:!0,sortable:!0},{headerName:"Cod.",width:50,field:"CONCOB",sortable:!0},{headerName:"Concepto",width:200,field:"CONDES",resizable:!0,sortable:!0},{headerName:"Nivel",width:90,field:"INSTRUDES",resizable:!0,sortable:!0},{headerName:"Grado",width:90,field:"GRADODES",resizable:!0,sortable:!0},{headerName:"Seccion",width:70,field:"SECCIONDES",resizable:!0,sortable:!0},{cellRenderer:le.A,width:40,cellRendererParams:{icon:"edit",onClick:this.setUpdateCComcepto},hide:this.nivelAcceso<be["default"].LECTURA_ESCRITURA},{cellRenderer:le.A,width:40,cellRendererParams:{icon:"delete",onClick:this.deleteCConcepto},hide:this.nivelAcceso<be["default"].ACCESO_TOTAL}]},columnsCentroCosto:function(){this.frameworkComponentsCostos={actionButton:le.A},this.columnDefsCentroCostos=[{headerName:"Id",width:50,field:"ID_CENTRO_COSTO"},{headerName:"Código",width:130,resizable:!0,field:"CODIGO_CENCOS",sortable:!0},{headerName:"Descripción",width:150,resizable:!0,field:"NOMBRE_CENCOS",sortable:!0},{headerName:"Colegio",width:270,resizable:!0,field:"RAZONSOCIAL",sortable:!0},{cellRenderer:le.A,width:40,cellRendererParams:{icon:"edit",onClick:this.setUpdateCentroCosto},hide:this.nivelAcceso<be["default"].LECTURA_ESCRITURA},{cellRenderer:le.A,width:40,cellRendererParams:{icon:"delete",onClick:this.deleteCentroCosto},hide:this.nivelAcceso<be["default"].ACCESO_TOTAL}]}},beforeMount:function(){this.columnsCentroCosto(),this.getEmpresas(),this.getCentroDeCosto(),this.getNiveles(),this.getConceptos(),this.getGrados(),this.getSecciones(),this.getCeConcepto(),this.columnsCConcepto(),this.getColegios()}},ge=t(12807);const De=(0,ge.A)(ve,[["render",J]]);var Ie=De,Ee={class:"row q-mt-sm"},Se={class:"col headerTable"},_e={class:"row q-ma-xs q-col-gutter-sm"},Re={class:"col-12"},we={class:"text-h6"},Ne={class:"row q-ma-xs q-col-gutter-sm"},Te={class:"col-xs-12"},Ue={class:"col-xs-12"},ke={class:"col-xs-6"},Le={class:"col-xs-6"},Ve={class:"col-xs-6"},xe={class:"col-xs-6"};function Fe(e,o){var t=(0,a.g2)("q-btn"),r=(0,a.g2)("sie-grid"),l=(0,a.g2)("footer-grid"),i=(0,a.g2)("q-select"),s=(0,a.g2)("q-input"),c=(0,a.g2)("sie-modal");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("div",Ee,[(0,a.Lk)("div",Se,[e.nivelAcceso>=e.LECTURA_ESCRITURA?((0,a.uX)(),(0,a.Wv)(t,{key:0,class:"q-ma-xs",size:"sm",icon:"add",color:"primary",onClick:e.agregarServicio,flat:""},{default:(0,a.k6)(function(){return w()(o[8]||(o[8]=[(0,a.eW)("Agregar",-1)]))}),_:1},8,["onClick"])):(0,a.Q3)("v-if",!0)])]),(0,a.bF)(r,{class:"fix-table-global ag-theme-balham",columnDefs:e.columnDefs,frameworkComponents:e.frameworkComponents,rowData:e.rowData,onGridReady:e.onGridReady,style:{height:"calc(100vh - 250px)"}},null,8,["columnDefs","frameworkComponents","rowData","onGridReady"]),(0,a.bF)(l,{modelValue:e.pagina,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.pagina=o}),max:e.max,onLoad:e.getServicios,rows:e.rowData},null,8,["modelValue","max","onLoad","rows"]),(0,a.bF)(c,{onSubmit:e.submit,modelValue:e.modal,"onUpdate:modelValue":o[7]||(o[7]=function(o){return e.modal=o})},{default:(0,a.k6)(function(){return[(0,a.Lk)("div",_e,[(0,a.Lk)("div",Re,[(0,a.Lk)("div",we,(0,n.v_)(e.titleOp[e.opcion])+" Servicio",1)])]),(0,a.Lk)("div",Ne,[(0,a.Lk)("div",Te,[(0,a.bF)(i,{label:"Concepto",placeholder:"Seleccione el concepto",modelValue:e.form.concob,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.form.concob=o}),options:e.data.concepto},null,8,["modelValue","options"])]),(0,a.Lk)("div",Ue,[(0,a.bF)(s,{placeholder:"Ingrese el codigo de servicio",label:"Código Servicio",modelValue:e.form.codservicio,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.form.codservicio=o}),maxlength:"30"},null,8,["modelValue"])]),(0,a.Lk)("div",ke,[(0,a.bF)(i,{placeholder:"Seleccione el nivel",label:"Nivel",modelValue:e.form.instrucod,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.form.instrucod=o}),options:e.data.nivel,onInput:e.getGrados},null,8,["modelValue","options","onInput"])]),(0,a.Lk)("div",Le,[(0,a.bF)(i,{placeholder:"Seleccion el grado",label:"Grado",modelValue:e.form.gradocod,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.form.gradocod=o}),options:e.data.grado},null,8,["modelValue","options"])]),(0,a.Lk)("div",Ve,[(0,a.bF)(s,{placeholder:"Ingrese el código del proyecto",label:"Código de Proyecto",modelValue:e.form.codproyecto,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.form.codproyecto=o}),maxlength:"6"},null,8,["modelValue"])]),(0,a.Lk)("div",xe,[(0,a.bF)(s,{placeholder:"Ingrese el codigo de servicio",label:"Código de Servicio MORA",modelValue:e.form.codmora,"onUpdate:modelValue":o[6]||(o[6]=function(o){return e.form.codmora=o}),maxlength:"30"},null,8,["modelValue"])])])]}),_:1},8,["onSubmit","modelValue"])])}t(12563);var Me={components:{actionButton:le.A,sieGrid:A.A,sieModal:v.A,QInput:g.A,QSelect:p.S,footerGrid:h.A,QBtn:D.Il},data:function(){return{rowData:[],nivelAcceso:3,LECTURA_ESCRITURA:be["default"].LECTURA_ESCRITURA,modal:!1,opcion:"A",pagina:1,max:1,titleOp:{A:"Agregar",U:"Actualizar"},api:{A:"postInsertServicio",U:"postActualizarServicio"},data:{grado:[],nivel:[],concepto:[]},form:{codservicio:"",instrucod:be["default"].TODOS,gradocod:be["default"].TODOS,concob:"",codproyecto:""},formUpdate:{concob:"",codservicio:""}}},computed:{},methods:{clear:function(){var e=this;return re()(ae()().m(function o(){return ae()().w(function(o){while(1)switch(o.n){case 0:e.form={codservicio:"",instrucod:be["default"].TODOS,gradocod:be["default"].TODOS,concob:"",codproyecto:"",codmora:""};case 1:return o.a(2)}},o)}))()},submit:function(){var e=this;return re()(ae()().m(function o(){var t;return ae()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,o.n=1,e.validar();case 1:e.$confirm("¿Esta seguro de realizar el proceso?").onOk(re()(ae()().m(function o(){var t,a;return ae()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,"U"===e.opcion&&(e.form.update=e.formUpdate,e.form.update.verificar=e.formUpdate.concob!==e.form.concob||e.formUpdate.codservicio!==e.formUpdate.codservicio),o.n=1,ie.$http.post("api/contabilidadController/".concat(e.api[e.opcion]),{params:e.form});case 1:return t=o.v,e.modal=!1,o.n=2,e.getServicios();case 2:return o.a(2,e.$alert(t.message,"success"));case 3:return o.p=3,a=o.v,o.a(2,e.$alert(a.error?a.error.message:a.message,"warning"))}},o,null,[[0,3]])}))),o.n=3;break;case 2:return o.p=2,t=o.v,o.a(2,e.$alert(t.error?t.error.message:t.message,"warning"));case 3:return o.a(2)}},o,null,[[0,2]])}))()},validar:function(){try{var e=this.form;if(!e.concob)throw new Error("No selecciono el concepto.");if(!e.codservicio)throw new Error("No Ingreso el código de servicio.");if(!e.instrucod)throw new Error("No selecciono el nivel.");if(!e.gradocod)throw new Error("No selecciono el grado.");if(!e.codproyecto)throw new Error("No ingreso el codigo del proyecto")}catch(e){throw new Error(e.message)}},cargarInicial:function(){this.getConceptos(),this.getNiveles()},getGrados:function(){var e=this;return re()(ae()().m(function o(){return ae()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,be["default"].API_GRADOS(e.form.instrucod);case 1:e.data.grado=o.v;case 2:return o.a(2)}},o)}))()},getNiveles:function(){var e=this;return re()(ae()().m(function o(){return ae()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,be["default"].API_NIVELES();case 1:return e.data.nivel=o.v,o.n=2,e.getGrados();case 2:return o.a(2)}},o)}))()},getConceptos:function(){var e=this;return re()(ae()().m(function o(){return ae()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,be["default"].API_CONCEPTOS();case 1:e.data.concepto=o.v;case 2:return o.a(2)}},o)}))()},onGridReady:function(){this.getServicios()},agregarServicio:function(){this.clear(),this.opcion="A",this.modal=!0},getServicios:function(){var e=this;return re()(ae()().m(function o(){return ae()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,ie.$http.get("api/ContabilidadController/getServicios");case 1:e.rowData=o.v;case 2:return o.a(2)}},o)}))()},setActualizarSubdiario:function(e){var o=this;return re()(ae()().m(function t(){return ae()().w(function(t){while(1)switch(t.n){case 0:return o.form.codservicio=e.data.CODSERVICIO,o.form.instrucod=e.data.INSTRUCOD,o.form.concob=e.data.CONCOB,o.form.gradocod=e.data.GRADOCOD,o.form.codproyecto=e.data.CODPROYECTO,o.form.codmora=e.data.CODMORA,o.formUpdate.concob=e.data.CONCOB,o.formUpdate.codservicio=e.data.CODSERVICIO,t.n=1,o.getGrados();case 1:o.modal=!0,o.opcion="U";case 2:return t.a(2)}},t)}))()},eliminarSubdiario:function(e){var o=this;return re()(ae()().m(function t(){return ae()().w(function(t){while(1)switch(t.n){case 0:o.$confirm("¿Esta seguro de eliminar el registro?").onOk(re()(ae()().m(function t(){var a,n;return ae()().w(function(t){while(1)switch(t.p=t.n){case 0:return t.p=0,o.formUpdate.concob=e.data.CONCOB,o.formUpdate.codservicio=e.data.CODSERVICIO,t.n=1,ie.$http.delete("api/contabilidadController/deleteConceptoServicio",{params:{params:{params:o.formUpdate}}});case 1:return a=t.v,t.n=2,o.getServicios();case 2:return t.a(2,o.$alert(a.message,"success"));case 3:return t.p=3,n=t.v,t.a(2,o.$alert(n.error?n.error.message:n.message,"warning"))}},t,null,[[0,3]])})));case 1:return t.a(2)}},t)}))()}},beforeMount:function(){this.cargarInicial()},created:function(){this.frameworkComponents={actionButton:le.A},this.columnDefs=[{headerName:"Código",field:"CONCOB",width:70,sortable:!0,pinned:"left"},{headerName:"Concepto",field:"CONDES",width:280,sortable:!0,pinned:"left"},{headerName:"Cod. de Servicio",field:"CODSERVICIO",width:140,sortable:!0},{headerName:"Nivel",field:"NIVEL",width:140,sortable:!0},{headerName:"Grado",field:"GRADO",width:140,sortable:!0},{headerName:"Proyecto",field:"CODPROYECTO",width:100,sortable:!0},{cellRenderer:le.A,width:40,cellRendererParams:{icon:"edit",title:"Actualizar",onClick:this.setActualizarSubdiario},hide:this.nivelAcceso<be["default"].LECTURA_ESCRITURA},{cellRenderer:le.A,width:40,cellRendererParams:{icon:"delete",onClick:this.eliminarSubdiario},hide:this.nivelAcceso<be["default"].ACCESO_TOTAL}]},mouted:function(){}};const Pe=(0,ge.A)(Me,[["render",Fe]]);var Ge=Pe,Be={class:"row q-mt-sm"},ye={class:"col headerTable"},$e={class:"row q-ma-xs q-col-gutter-sm"},Qe={class:"text-h6"},ze={class:"row q-ma-xs q-col-gutter-sm"},Xe={class:"col-xs-12"},qe={class:"col-xs-12"},We={class:"col-xs-12"},He={class:"col-xs-6"},je={class:"col-xs-6"},Ze={class:"col-xs-12"},Ke={class:"col-xs-12"},Ye={key:0,class:"col-xs-6"},Je={key:1,class:"col-xs-6"};function eo(e,o){var t=(0,a.g2)("q-btn"),r=(0,a.g2)("sie-grid"),l=(0,a.g2)("footer-grid"),i=(0,a.g2)("q-card-section"),s=(0,a.g2)("q-separator"),c=(0,a.g2)("q-input"),u=(0,a.g2)("q-select"),d=(0,a.g2)("q-checkbox"),C=(0,a.g2)("sie-modal");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("div",Be,[(0,a.Lk)("div",ye,[e.nivelAcceso>=e.LECTURA_ESCRITURA?((0,a.uX)(),(0,a.Wv)(t,{key:0,class:"q-ma-xs",size:"sm",icon:"add",color:"primary",onClick:e.agregar,flat:""},{default:(0,a.k6)(function(){return w()(o[11]||(o[11]=[(0,a.eW)(" Agregar ",-1)]))}),_:1},8,["onClick"])):(0,a.Q3)("v-if",!0)])]),(0,a.bF)(r,{class:"fix-table-global ag-theme-balham",columnDefs:e.columnDefs,frameworkComponents:e.frameworkComponents,rowData:e.rowData,onGridReady:e.onGridReady,style:{height:"calc(100vh - 250px)"}},null,8,["columnDefs","frameworkComponents","rowData","onGridReady"]),(0,a.bF)(l,{modelValue:e.pagina,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.pagina=o}),max:e.max,onLoad:e.getCuentaContable,rows:e.rowData},null,8,["modelValue","max","onLoad","rows"]),e.openModal?((0,a.uX)(),(0,a.Wv)(C,{key:0,modelValue:e.openModal,"onUpdate:modelValue":o[10]||(o[10]=function(o){return e.openModal=o}),onSubmit:e.submit,css:{maxWidth:"60vw"}},{default:(0,a.k6)(function(){return[(0,a.bF)(i,null,{default:(0,a.k6)(function(){return[(0,a.Lk)("div",$e,[(0,a.Lk)("div",Qe,(0,n.v_)(e.tituloOpcion)+" Cuenta Contable",1)])]}),_:1}),(0,a.bF)(s),(0,a.bF)(i,null,{default:(0,a.k6)(function(){return[(0,a.Lk)("div",ze,[(0,a.Lk)("div",Xe,[(0,a.bF)(c,{label:"Código",placeholder:"Ingrese Código de cuenta contable",modelValue:e.form.CODCTA,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.form.CODCTA=o}),maxlength:e.maxSizeParams.CODCTA},null,8,["modelValue","maxlength"])]),(0,a.Lk)("div",qe,[(0,a.bF)(c,{label:"Descripción",placeholder:"Ingrese la descripción de cuenta contable",modelValue:e.form.CTADES,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.form.CTADES=o}),maxlength:e.maxSizeParams.CTADES},null,8,["modelValue","maxlength"])]),(0,a.Lk)("div",We,[(0,a.bF)(u,{"option-value":"EMPCOD","option-label":"RAZONSOCIAL",options:e.empresas,label:"Empresa",modelValue:e.form.EMPCOD,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.form.EMPCOD=o})},null,8,["options","modelValue"])]),(0,a.Lk)("div",He,[(0,a.bF)(c,{label:"Centro Costo",modelValue:e.form.CENCOS,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.form.CENCOS=o}),placeholder:"Ingrese el centro de costo"},null,8,["modelValue"])]),(0,a.Lk)("div",je,[(0,a.bF)(u,{"option-label":"label","option-value":"value",options:e.opMonedas,label:"Moneda",modelValue:e.form.MONCOD,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.form.MONCOD=o})},null,8,["options","modelValue"])]),(0,a.Lk)("div",Ze,[(0,a.bF)(d,{"true-value":e.true_value,"false-value":e.false_value,"left-label":"",label:"Requiere Número de Documento de Anexo",modelValue:e.form.PIDAUX,"onUpdate:modelValue":o[6]||(o[6]=function(o){return e.form.PIDAUX=o})},null,8,["true-value","false-value","modelValue"])]),(0,a.Lk)("div",Ke,[(0,a.bF)(d,{"true-value":e.true_value,"false-value":e.false_value,"left-label":"",label:"Requiere Tipo de Comprobante",modelValue:e.form.PIDDOC,"onUpdate:modelValue":o[7]||(o[7]=function(o){return e.form.PIDDOC=o})},null,8,["true-value","false-value","modelValue"])]),"S"==e.form.PIDAUX?((0,a.uX)(),(0,a.CE)("div",Ye,[(0,a.bF)(d,{"true-value":e.true_value,"false-value":e.false_value,"left-label":"",label:"Usar Anexo Estático",modelValue:e.form.FLAGAUXICOD,"onUpdate:modelValue":o[8]||(o[8]=function(o){return e.form.FLAGAUXICOD=o})},null,8,["true-value","false-value","modelValue"])])):(0,a.Q3)("v-if",!0),"S"==e.form.FLAGAUXICOD&&"S"==e.form.PIDAUX?((0,a.uX)(),(0,a.CE)("div",Je,[(0,a.bF)(c,{label:"Código Auxiliar Defecto",modelValue:e.form.AUXICOD,"onUpdate:modelValue":o[9]||(o[9]=function(o){return e.form.AUXICOD=o}),placeholder:"Ingrese el código auxiliar"},null,8,["modelValue"])])):(0,a.Q3)("v-if",!0)])]}),_:1})]}),_:1},8,["modelValue","onSubmit"])):(0,a.Q3)("v-if",!0)])}t(68017);var oo=t(18105),to=t(74160),ao=["checked"];function no(e,o){return(0,a.uX)(),(0,a.CE)("input",{type:"checkbox",onClick:o[0]||(o[0]=function(o){return e.checkedHandler(o,e.params)}),checked:"S"===e.params.data[e.params.colDef.field],disabled:""},null,8,ao)}var ro={name:"checkboxRender",props:{},methods:{}};const lo=(0,ge.A)(ro,[["render",no]]);var io=lo,so={components:{sieGrid:A.A,sieVacio:he.A,headerGrid:b.A,footerGrid:h.A,sieSelect:Ae.A,QRadio:Oe.A,QForm:me.A,QCheckbox:S.A,createGrid:ue.A,formulario:ce.A,QCard:C.A,QCardSection:m.A,QSeparator:f.A,QTabs:de.A,QTab:Ce.A,QTabPanels:pe.A,QTabPanel:fe.A,QPagination:D.ao,sieModal:v.A,QSearch:D.Ks,QSelect:p.S,QInput:g.A,QOptionGroup:D.EX,QBtn:D.Il},data:function(){return{rowData:[],openModal:!1,LECTURA_ESCRITURA:be["default"].LECTURA_ESCRITURA,nivelAcceso:(0,se["default"])().ruta.nivel,max:1,pagina:1,opMonedas:[],optionsAfectos:[{label:"Si",value:"S"},{label:"NO",value:"N"}],true_value:"S",false_value:"N",empresaDefecto:null,form:{CODCTA:"",CTADES:"",MONCOD:be["default"].MONEDA_LOCAL,PIDAUX:"S",PIDDOC:"S",EMPCOD:"",AFECOSTO:"S",CENCOS:"",AUXICOD:"",FLAGAUXICOD:"N"},empresas:[],maxSizeParams:{},mode:"insert",tituloOpcion:"Agregar",CODCTAUPD:"",centroCosto:""}},computed:{},methods:{getCentroCosto:function(){var e=this;return re()(ae()().m(function o(){return ae()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,ie.$http.get("api/ContabilidadController/getCentroDeCosto",{params:{params:{}}});case 1:e.centroCosto=o.v;case 2:return o.a(2)}},o)}))()},getSize:function(){var e=this;return re()(ae()().m(function o(){var t;return ae()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,(0,to.n)(["C_CUENTA"]);case 1:t=o.v,e.maxSizeParams=t.C_CUENTA;case 2:return o.a(2)}},o)}))()},clear:function(){this.form.CODCTA="",this.form.CTADES="",this.form.MONCOD=be["default"].MONEDA_LOCAL,this.form.PIDAUX="S",this.form.PIDDOC="S",this.form.AUXICOD="",this.form.FLAGAUXICOD="N",this.empresaDefecto?this.form.EMPCOD=this.empresaDefecto:this.form.EMPCOD="",this.form.AFECOSTO="S"},validate:function(){var e="";return this.form.CODCTA.trim().length>this.maxSizeParams.CODCTA?e="No registro correctamente el codigo de la cuenta contable":this.form.CTADES?this.form.EMPCOD||(e="No se selecciono la Empresa"):e="No registro correctamente la descripción de la cuenta contable",e.length>0?{status:"error",message:e}:{status:"ok"}},getEmpresas:function(){var e=this;return re()(ae()().m(function o(){var t,a,n;return ae()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,ie.$http.get("api/empresaController/getEmpresas");case 1:t=o.v,t.length>0&&(e.empresas=t,1===t.length&&(a=w()(t),n=a[0],e.empresaDefecto=n.EMPCOD));case 2:return o.a(2)}},o)}))()},setMonedas:function(){var e=this;return re()(ae()().m(function o(){return ae()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,be["default"].API_MONEDAS();case 1:e.opMonedas=o.v;case 2:return o.a(2)}},o)}))()},onGridReady:function(e){this.getCuentaContable(),this.api=e.api,this.api.sizeColumnsToFit()},changePagination:function(e){this.loadData()},agregar:function(){this.openModal=!0,this.mode="insert",this.tituloOpcion="Agregar",this.clear()},setCuentaContable:function(e){var o=e.data;this.CODCTAUPD=o.CODCTA,this.form.CODCTA=o.CODCTA,this.form.CTADES=o.CTADES,this.form.MONCOD=o.MONCOD,this.form.PIDAUX=o.PIDAUX,this.form.PIDDOC=o.PIDDOC,this.form.EMPCOD=o.EMPCOD,this.form.AFECOSTO=o.AFECOSTO,this.form.CENCOS=o.CENCOS,this.form.AUXICOD=o.AUXICOD||"",this.form.FLAGAUXICOD=o.FLAGAUXICOD||"N",this.mode="update",this.tituloOpcion="Editar",this.openModal=!0},registrarCuentaContable:function(){var e=this;this.$confirm("¿Esta seguro de regitrar la cuenta contable?","info").onOk(re()(ae()().m(function o(){var t,a;return ae()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,o.n=1,ie.$http.post("api/contabilidadController/addCuentaContable",{datos:e.form});case 1:t=o.v,e.openModal=!1,e.getCuentaContable(),e.clear(),e.$alert(t.message,"success"),o.n=3;break;case 2:o.p=2,a=o.v,e.$alert(a.error.message,"warning");case 3:return o.a(2)}},o,null,[[0,2]])})))},eliminarCuentaContable:function(e){var o=this,t=e.data.CODCTA;this.$confirm("¿Esta seguro de eliminar la cuenta contable?","delete").onOk(re()(ae()().m(function e(){var a,n;return ae()().w(function(e){while(1)switch(e.p=e.n){case 0:return e.p=0,e.n=1,ie.$http.delete("api/contabilidadController/deleteCuentaContable",{params:{datos:{CODCTA:t}}});case 1:a=e.v,o.getCuentaContable(),o.$alert(a.message,"success"),e.n=3;break;case 2:e.p=2,n=e.v,o.$alert(n.error.message,"warning");case 3:return e.a(2)}},e,null,[[0,2]])})))},actualizarCuentaContable:function(){var e=this;this.$confirm("¿Esta seguro de actualizar la cuenta contable?","info").onOk(re()(ae()().m(function o(){var t,a;return ae()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,o.n=1,ie.$http.post("api/contabilidadController/updateCuentaContable",{datos:{data:e.form,CODCTAUPD:e.CODCTAUPD}});case 1:t=o.v,e.openModal=!1,e.getCuentaContable(),e.clear(),e.$alert(t.message,"success"),o.n=3;break;case 2:o.p=2,a=o.v,e.$alert(a.error.message,"warning");case 3:return o.a(2)}},o,null,[[0,2]])})))},submit:function(){var e=this;return re()(ae()().m(function o(){var t;return ae()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,e.validate();case 1:t=o.v,"ok"===t.status?"insert"===e.mode?e.registrarCuentaContable():e.actualizarCuentaContable():e.$alert(t.message,"warning");case 2:return o.a(2)}},o)}))()},getCuentaContable:function(){var e=this;ie.$http.get("api/ContabilidadController/getCuentaContable",{params:{params:{}}}).then(function(o){e.rowData=o})}},created:function(){this.frameworkComponents={date:oo.Ay,actionButton:le.A,checkboxRender:io},this.columnDefs=[{headerName:"Cuenta Contable",field:"CODCTA",width:75,sortable:!0},{headerName:"Descripción",field:"CTADES",width:200,sortable:!0},{cellRenderer:io,headerName:"Req. Aux.",field:"PIDAUX",width:60,editable:!1},{cellRenderer:io,headerName:"Req. Doc",field:"PIDDOC",width:60,editable:!1},{cellRenderer:io,headerName:"Afecto IGV",field:"AFECOSTO",width:90,editable:!1,hide:!0},{headerName:"",width:30,cellRenderer:le.A,cellRendererParams:{label:"Editar",title:"Editar",icon:"edit",onClick:this.setCuentaContable},hide:this.nivelAcceso<be["default"].LECTURA_ESCRITURA},{headerName:"",width:30,cellRenderer:le.A,cellRendererParams:{label:"Eliminar",title:"Eliminar",icon:"delete",onClick:this.eliminarCuentaContable},hide:this.nivelAcceso<be["default"].ACCESO_TOTAL}]},mounted:function(){var e=this;return re()(ae()().m(function o(){return ae()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,e.getEmpresas();case 1:return o.n=2,e.setMonedas();case 2:return o.n=3,e.getCentroCosto();case 3:return o.a(2)}},o)}))()},beforeMount:function(){this.getSize()}};const co=(0,ge.A)(so,[["render",eo]]);var uo=co,Co={class:"row q-mt-sm"},mo={class:"col headerTable"};function fo(e,o){var t=(0,a.g2)("q-btn"),n=(0,a.g2)("sie-grid"),r=(0,a.g2)("footer-grid");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("div",Co,[(0,a.Lk)("div",mo,[e.nivelAcceso>=e.LECTURA_ESCRITURA?((0,a.uX)(),(0,a.Wv)(t,{key:0,class:"q-ma-xs",size:"sm",icon:"save",color:"primary",onClick:e.guardar,flat:""},{default:(0,a.k6)(function(){return w()(o[1]||(o[1]=[(0,a.eW)(" Guardar ",-1)]))}),_:1},8,["onClick"])):(0,a.Q3)("v-if",!0)])]),(0,a.bF)(n,{class:"fix-table-global ag-theme-balham",columnDefs:e.columnDefs,frameworkComponents:e.frameworkComponents,rowData:e.rowData,onGridReady:e.onGridReady,onCellValueChanged:e.cellValueChanged,defaultColDef:e.defaultColDef,style:{height:"calc(100vh - 250px)"}},null,8,["columnDefs","frameworkComponents","rowData","onGridReady","onCellValueChanged","defaultColDef"]),(0,a.bF)(r,{modelValue:e.pagina,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.pagina=o}),max:e.max,onLoad:e.getCuentaContableGradoniv,rows:e.rowData},null,8,["modelValue","max","onLoad","rows"])])}var po={components:{sieGrid:A.A,headerGrid:b.A,footerGrid:h.A,QBtn:D.Il},data:function(){return{rowData:[],openModal:!1,LECTURA_ESCRITURA:be["default"].LECTURA_ESCRITURA,nivelAcceso:(0,se["default"])().ruta.nivel,max:1,pagina:1,maxSizeParams:{},mode:"insert",tituloOpcion:"Agregar",defaultColDef:{suppressHeaderMenuButton:!0,filter:!0,floatingFilterComponentParams:{suppressFilterButton:!0},resizable:!0,sortable:!0}}},computed:{},methods:{getSize:function(){var e=this;return re()(ae()().m(function o(){var t;return ae()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,(0,to.n)(["C_CUENTA"]);case 1:t=o.v,e.maxSizeParams=t.C_CUENTA;case 2:return o.a(2)}},o)}))()},onGridReady:function(e){this.getCuentaContableGradoniv(),this.api=e.api,this.api.sizeColumnsToFit()},cellValueChanged:function(e){e.node.data.isModified=!0},changePagination:function(e){this.loadData()},guardar:function(){var e=this,o=[];this.api.forEachNode(function(e){e.data.isModified&&o.push({INSTRUCOD:e.data.INSTRUCOD,GRADOCOD:e.data.GRADOCOD,CDEBE:e.data.CDEBE,CHABER:e.data.CHABER})}),0!==o.length?this.$confirm("¿Quiere guardar los (".concat(o.length,") registros modificados?"),"info").onOk(re()(ae()().m(function t(){var a,n;return ae()().w(function(t){while(1)switch(t.p=t.n){case 0:return t.p=0,t.n=1,ie.$http.post("api/contabilidadController/updateCuentaContableGradoniv",{params:o});case 1:a=t.v,e.getCuentaContableGradoniv(),e.$alert(a.message,"success"),t.n=3;break;case 2:t.p=2,n=t.v,e.$alert(n.error.message,"warning");case 3:return t.a(2)}},t,null,[[0,2]])}))):this.$alert("No se ha modificado ningun registro","info")},actualizarCuentaContable:function(){var e=this;this.$confirm("¿Esta seguro de actualizar la cuenta contable?","info").onOk(re()(ae()().m(function o(){var t,a;return ae()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,o.n=1,ie.$http.post("api/contabilidadController/updateCuentaContable",{datos:{data:e.form,CODCTAUPD:e.CODCTAUPD}});case 1:t=o.v,e.openModal=!1,e.getCuentaContableGradoniv(),e.clear(),e.$alert(t.message,"success"),o.n=3;break;case 2:o.p=2,a=o.v,e.$alert(a.error.message,"warning");case 3:return o.a(2)}},o,null,[[0,2]])})))},submit:function(){var e=this;return re()(ae()().m(function o(){var t;return ae()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,e.validate();case 1:t=o.v,"ok"===t.status?"insert"===e.mode?e.registrarCuentaContable():e.actualizarCuentaContable():e.$alert(t.message,"warning");case 2:return o.a(2)}},o)}))()},getCuentaContableGradoniv:function(){var e=this;ie.$http.get("api/ContabilidadController/getCuentaContableGradoniv",{params:{params:{}}}).then(function(o){e.rowData=o})}},created:function(){this.frameworkComponents={actionButton:le.A},this.columnDefs=[{headerName:"Nivel",field:"INSTRUDES",width:100,sortable:!0},{headerName:"Grado",field:"GRADODES",width:100,sortable:!0},{headerName:"Cta.Debe",field:"CDEBE",width:100,sortable:!0,editable:!0},{headerName:"Cta.Haber",field:"CHABER",width:100,sortable:!0,editable:!0},{field:"INSTRUCOD",width:100,sortable:!0,hide:!0},{field:"GRADOCOD",width:100,sortable:!0,hide:!0}]},mounted:function(){return re()(ae()().m(function e(){return ae()().w(function(e){while(1)switch(e.n){case 0:return e.a(2)}},e)}))()},beforeMount:function(){this.getSize()}};const Oo=(0,ge.A)(po,[["render",fo]]);var Ao=Oo,ho=(t(39866),t(11777),t(62692),{class:"row q-mt-sm"}),bo={class:"col headerTable"},vo={class:"row q-ma-xs q-col-gutter-sm"},go={class:"text-h6"},Do={key:0,class:"row q-ma-xs q-col-gutter-sm"},Io={class:"col-xs-12"},Eo={class:"col-xs-6"},So={class:"col-xs-6"},_o={class:"col-xs-12"},Ro={key:0,class:"col-xs-12"},wo={key:1,class:"col-xs-12"},No={key:2,class:"col-xs-6"},To={key:3,class:"col-xs-6"},Uo={class:"col-xs-6"},ko={class:"col-xs-6"},Lo={class:"col-xs-6"},Vo={class:"col-xs-6"},xo={class:"col-xs-9"},Fo={key:1,class:"row q-ma-xs q-col-gutter-sm"},Mo={class:"col-xs-12"},Po={class:"col-xs-12"},Go={class:"col-xs-6"},Bo={class:"col-xs-6"},yo={class:"col-xs-6"},$o={class:"col-xs-6"},Qo={class:"col-xs-6"},zo={class:"col-xs-6"},Xo={class:"col-xs-6"},qo={class:"col-xs-6"},Wo={class:"col-xs-6"},Ho={class:"col-xs-6"},jo={class:"col-xs-6"},Zo={class:"col-xs-6"},Ko={class:"row q-ma-xs q-col-gutter-sm"},Yo={class:"text-h6"},Jo={class:"col-xs-12"},et={class:"row q-ma-xs q-col-gutter-sm"},ot={class:"col-xs-6"},tt={class:"col-xs-6"},at={class:"col-xs-6"},nt={class:"col-xs-6"},rt={class:"col-xs-6"},lt={class:"col-xs-6"},it={class:"col-xs-6"},st={class:"col-xs-6"},ct={class:"col-xs-6"},ut={class:"col-xs-6"},dt={class:"col-xs-6"},Ct={class:"col-xs-6"};function mt(e,o){var t=(0,a.g2)("q-btn"),r=(0,a.g2)("sie-grid"),l=(0,a.g2)("footer-grid"),i=(0,a.g2)("q-card-section"),s=(0,a.g2)("q-tab"),c=(0,a.g2)("q-tabs"),u=(0,a.g2)("q-select"),d=(0,a.g2)("q-input"),C=(0,a.g2)("q-checkbox"),m=(0,a.g2)("q-date"),f=(0,a.g2)("q-popup-proxy"),p=(0,a.g2)("q-icon"),O=(0,a.g2)("sie-modal"),A=(0,a.g2)("q-separator");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("div",ho,[(0,a.Lk)("div",bo,[e.nivelAcceso>=e.LECTURA_ESCRITURA?((0,a.uX)(),(0,a.Wv)(t,{key:0,class:"q-ma-xs",size:"sm",icon:"add",color:"primary",onClick:e.agregar,flat:""},{default:(0,a.k6)(function(){return w()(o[46]||(o[46]=[(0,a.eW)("Agregar",-1)]))}),_:1},8,["onClick"])):(0,a.Q3)("v-if",!0)])]),(0,a.bF)(r,{class:"fix-table-global ag-theme-balham",columnDefs:e.columnDefs,frameworkComponents:e.frameworkComponents,rowData:e.rowData,onGridReady:e.onGridReady,style:{height:"calc(100vh - 250px)"}},null,8,["columnDefs","frameworkComponents","rowData","onGridReady"]),(0,a.bF)(l,{modelValue:e.pagina,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.pagina=o}),max:e.max,onLoad:e.getSubdiario,css:{maxWidth:"60vw"},rows:e.rowData},null,8,["modelValue","max","onLoad","rows"]),e.openModal?((0,a.uX)(),(0,a.Wv)(O,{key:0,modelValue:e.openModal,"onUpdate:modelValue":o[31]||(o[31]=function(o){return e.openModal=o}),onSubmit:e.submit},{default:(0,a.k6)(function(){return[(0,a.bF)(i,null,{default:(0,a.k6)(function(){return[(0,a.Lk)("div",vo,[(0,a.Lk)("div",go,(0,n.v_)(e.tituloOpcion)+" Subdiario",1)])]}),_:1}),(0,a.bF)(c,{modelValue:e.tabActivo,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.tabActivo=o})},{default:(0,a.k6)(function(){return[(0,a.bF)(s,{name:e.tabsKeys.index},{default:(0,a.k6)(function(){return w()(o[47]||(o[47]=[(0,a.eW)("Datos",-1)]))}),_:1},8,["name"]),(0,a.bF)(s,{name:e.tabsKeys.config},{default:(0,a.k6)(function(){return w()(o[48]||(o[48]=[(0,a.eW)("Configuración",-1)]))}),_:1},8,["name"])]}),_:1},8,["modelValue"]),(0,a.bF)(i,null,{default:(0,a.k6)(function(){return[e.tabActivo===e.tabsKeys.index?((0,a.uX)(),(0,a.CE)("div",Do,[(0,a.Lk)("div",Io,[(0,a.bF)(u,{modelValue:e.form.EMPCOD,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.form.EMPCOD=o}),label:"Empresa","option-value":"EMPCOD","option-label":"RAZONSOCIAL",options:e.empresas},null,8,["modelValue","options"])]),(0,a.Lk)("div",Eo,[(0,a.bF)(d,{modelValue:e.form.LIBRO,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.form.LIBRO=o}),label:"Código de Libro/Subdiario",placeholder:"Ingrese Código Libro Subdiario",maxlength:e.size.LIBRO},null,8,["modelValue","maxlength"])]),(0,a.Lk)("div",So,[(0,a.bF)(d,{modelValue:e.form.SUBDIARIO,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.form.SUBDIARIO=o}),label:"Nombre Subdiario",placeholder:"Ingrese Nombre del Subdiario",maxlength:e.size.SUBDIARIO},null,8,["modelValue","maxlength"])]),(0,a.Lk)("div",_o,[(0,a.bF)(u,{modelValue:e.form.TIPO_SUBDIARIO,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.form.TIPO_SUBDIARIO=o}),label:"Tipo Subdiario",options:e.tipSubDiarios,"option-value":"CLAVE","option-label":"VALOR"},null,8,["modelValue","options"])]),e.PROCESOS_COBRANZA.includes(Number(e.form.TIPO_SUBDIARIO))?((0,a.uX)(),(0,a.CE)("div",Ro,[(0,a.bF)(u,{modelValue:e.form.TIPO_AGRUPADOR,"onUpdate:modelValue":o[6]||(o[6]=function(o){return e.form.TIPO_AGRUPADOR=o}),label:"Tipo de Agrupador","option-value":"value","option-label":"label",options:e.tipoAgrupador},null,8,["modelValue","options"])])):(0,a.Q3)("v-if",!0),e.PROCESOS_COBRANZA.includes(Number(e.form.TIPO_SUBDIARIO))?((0,a.uX)(),(0,a.CE)("div",wo,[(0,a.bF)(C,{modelValue:e.form.CODANEXO_ANT,"onUpdate:modelValue":o[7]||(o[7]=function(o){return e.form.CODANEXO_ANT=o}),"true-value":1,"false-value":0,"left-label":"",label:"Usar Codigo Anexo Antiguo"},null,8,["modelValue"])])):(0,a.Q3)("v-if",!0),e.PROCESOS_COBRANZA.includes(Number(e.form.TIPO_SUBDIARIO))&&e.form.CODANEXO_ANT?((0,a.uX)(),(0,a.CE)("div",No,[(0,a.bF)(u,{modelValue:e.form.TIPO_CODANEXO_ANT,"onUpdate:modelValue":o[8]||(o[8]=function(o){return e.form.TIPO_CODANEXO_ANT=o}),label:"Código de Anexo Ant.","option-value":"value",placeholder:"Elegir Anexo Antiguo","option-label":"label",options:e.optionsCodAnexo},null,8,["modelValue","options"])])):(0,a.Q3)("v-if",!0),e.PROCESOS_COBRANZA.includes(Number(e.form.TIPO_SUBDIARIO))&&e.form.CODANEXO_ANT?((0,a.uX)(),(0,a.CE)("div",To,[(0,a.bF)(d,{"reverse-fill-mask":"",modelValue:e.form.FECEMI_ANT,"onUpdate:modelValue":o[11]||(o[11]=function(o){return e.form.FECEMI_ANT=o}),maxlength:"10",mask:"##/##/####",label:"Fecha Cambio del codigo Antiguo"},{append:(0,a.k6)(function(){return[(0,a.bF)(p,{class:"cursor-pointer",name:"date_range"},{default:(0,a.k6)(function(){return[(0,a.bF)(f,{ref:"qDateProxy2","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)(function(){return[(0,a.bF)(m,{mask:"DD/MM/YYYY",modelValue:e.form.FECEMI_ANT,"onUpdate:modelValue":o[9]||(o[9]=function(o){return e.form.FECEMI_ANT=o}),onInput:o[10]||(o[10]=function(o){return e.closeModalFecha("qDateProxy2")})},null,8,["modelValue"])]}),_:1},512)]}),_:1})]}),_:1},8,["modelValue"])])):(0,a.Q3)("v-if",!0),(0,a.Lk)("div",Uo,[(0,a.bF)(d,{modelValue:e.form.ARCHIVO,"onUpdate:modelValue":o[12]||(o[12]=function(o){return e.form.ARCHIVO=o}),label:"Nombre Archivo (Cabecera)",placeholder:"Ingrese el nombre del archivo",maxlength:e.size.ARCHIVO},null,8,["modelValue","maxlength"])]),(0,a.Lk)("div",ko,[(0,a.bF)(d,{modelValue:e.form.ARCHIVO_DET,"onUpdate:modelValue":o[13]||(o[13]=function(o){return e.form.ARCHIVO_DET=o}),label:"Nombree Archivo 2 (Detalle)",placeholder:"Ingrese el detalle del archivo",maxlength:e.size.ARCHIVO_DET},null,8,["modelValue","maxlength"])]),(0,a.Lk)("div",Lo,[(0,a.bF)(C,{modelValue:e.form.FLAG_RUC_EMPRESA,"onUpdate:modelValue":o[14]||(o[14]=function(o){return e.form.FLAG_RUC_EMPRESA=o}),"true-value":1,"false-value":0,"left-label":"",label:"Usar RUC como Anexo"},null,8,["modelValue"])]),(0,a.Lk)("div",Vo,[(0,a.bF)(C,{modelValue:e.form.AFECTO_CAMBIO,"onUpdate:modelValue":o[15]||(o[15]=function(o){return e.form.AFECTO_CAMBIO=o}),"true-value":1,"false-value":0,"left-label":"",label:"Afecto a Tipo Cambio"},null,8,["modelValue"])]),(0,a.Lk)("div",xo,[(0,a.bF)(C,{modelValue:e.form.FLAG_DESC,"onUpdate:modelValue":o[16]||(o[16]=function(o){return e.form.FLAG_DESC=o}),"true-value":1,"false-value":0,"left-label":"",label:"Generar Asientos Por Descuentos"},null,8,["modelValue"])])])):(0,a.Q3)("v-if",!0),e.tabActivo===e.tabsKeys.config?((0,a.uX)(),(0,a.CE)("div",Fo,[(0,a.Lk)("div",Mo,[(0,a.bF)(d,{label:"Glosa Cabecera",modelValue:e.form.GLOSA,"onUpdate:modelValue":o[17]||(o[17]=function(o){return e.form.GLOSA=o}),placeholder:"Ingrese glosa",maxlength:e.size.GLOSA},null,8,["modelValue","maxlength"])]),(0,a.Lk)("div",Po,[(0,a.bF)(d,{label:"Glosa Detalle",modelValue:e.form.GLOSA_DET,"onUpdate:modelValue":o[18]||(o[18]=function(o){return e.form.GLOSA_DET=o}),placeholder:"Ingrese glosa",maxlength:e.size.GLOSA_DET},null,8,["modelValue","maxlength"])]),(0,a.Lk)("div",Go,[(0,a.bF)(u,{label:"Código de Anexo",modelValue:e.form.TIPO_CODANEXO,"onUpdate:modelValue":o[19]||(o[19]=function(o){return e.form.TIPO_CODANEXO=o}),"option-value":"value","option-label":"label",options:e.optionsCodAnexo},null,8,["modelValue","options"])]),(0,a.Lk)("div",Bo,[(0,a.bF)(u,{label:"Código de Anexo 2 (Subcliente)",modelValue:e.form.TIPO_CODANEXO2,"onUpdate:modelValue":o[20]||(o[20]=function(o){return e.form.TIPO_CODANEXO2=o}),"option-value":"value","option-label":"label",options:e.optionsCodAnexo},null,8,["modelValue","options"])]),(0,a.Lk)("div",yo,[(0,a.bF)(u,{label:"Asiento por Beca",modelValue:e.form.FLAG_BECA,"onUpdate:modelValue":o[21]||(o[21]=function(o){return e.form.FLAG_BECA=o}),"option-value":"value","option-label":"label",options:e.optionsTipoBeca},null,8,["modelValue","options"])]),(0,a.Lk)("div",$o,[(0,a.bF)(u,{label:"Tipo Centro de Costo",placeholder:"Seleccione Tipo de Centro de Costo","option-value":"value","option-label":"label",options:e.tiposCentroCosto,modelValue:e.form.TIPO_CENCOS,"onUpdate:modelValue":o[22]||(o[22]=function(o){return e.form.TIPO_CENCOS=o})},null,8,["options","modelValue"])]),(0,a.Lk)("div",Qo,[(0,a.bF)(d,{label:"Código Anexo Anulado",modelValue:e.form.CODANE_ANULADO,"onUpdate:modelValue":o[23]||(o[23]=function(o){return e.form.CODANE_ANULADO=o}),maxlength:e.size.CODANE_ANULADO},null,8,["modelValue","maxlength"])]),(0,a.Lk)("div",zo,[(0,a.bF)(d,{label:"Nombre Anulado",modelValue:e.form.NOMBRE_ANULADO,"onUpdate:modelValue":o[24]||(o[24]=function(o){return e.form.NOMBRE_ANULADO=o})},null,8,["modelValue"])]),(0,a.Lk)("div",Xo,[(0,a.bF)(d,{label:"Codigo Subdiario 1",modelValue:e.form.CODSUBDIARIO1,"onUpdate:modelValue":o[25]||(o[25]=function(o){return e.form.CODSUBDIARIO1=o}),maxlength:e.size.CODSUBDIARIO1},null,8,["modelValue","maxlength"])]),(0,a.Lk)("div",qo,[(0,a.bF)(d,{label:"Codigo Subdiario 2",modelValue:e.form.CODSUBDIARIO2,"onUpdate:modelValue":o[26]||(o[26]=function(o){return e.form.CODSUBDIARIO2=o}),maxlength:e.size.CODSUBDIARIO2},null,8,["modelValue","maxlength"])]),(0,a.Lk)("div",Wo,[(0,a.bF)(C,{modelValue:e.form.AFECTO_CAMBIO_NC,"onUpdate:modelValue":o[27]||(o[27]=function(o){return e.form.AFECTO_CAMBIO_NC=o}),"true-value":1,"false-value":0,"left-label":"",label:"Usar Tipo Cambio de Referencia por Nota Credito"},null,8,["modelValue"])]),(0,a.Lk)("div",Ho,[(0,a.bF)(C,{modelValue:e.form.FLAG_CTA_CONTABLE_NOTACRED,"onUpdate:modelValue":o[28]||(o[28]=function(o){return e.form.FLAG_CTA_CONTABLE_NOTACRED=o}),"true-value":1,"false-value":0,"left-label":"",label:"Cuenta Contable Nota de Crédito"},null,8,["modelValue"])]),(0,a.Lk)("div",jo,[(0,a.bF)(C,{modelValue:e.form.FLAG_ANTICIPO_MENSUAL,"onUpdate:modelValue":o[29]||(o[29]=function(o){return e.form.FLAG_ANTICIPO_MENSUAL=o}),"true-value":1,"false-value":0,"left-label":"",label:"Aplicar Prefijo de Anticipo Mensual"},null,8,["modelValue"])]),(0,a.Lk)("div",Zo,[(0,a.bF)(C,{modelValue:e.form.FLAG_ANTICIPO_ANUAL,"onUpdate:modelValue":o[30]||(o[30]=function(o){return e.form.FLAG_ANTICIPO_ANUAL=o}),"true-value":1,"false-value":0,"left-label":"",label:"Aplicar Prefijo de Anticipo Anual"},null,8,["modelValue"])])])):(0,a.Q3)("v-if",!0)]}),_:1})]}),_:1},8,["modelValue","onSubmit"])):(0,a.Q3)("v-if",!0),e.openModalConfig?((0,a.uX)(),(0,a.Wv)(O,{key:1,modelValue:e.openModalConfig,"onUpdate:modelValue":o[45]||(o[45]=function(o){return e.openModalConfig=o}),onSubmit:e.actualizarCorrelativo},{default:(0,a.k6)(function(){return[(0,a.bF)(i,null,{default:(0,a.k6)(function(){return[(0,a.Lk)("div",Ko,[(0,a.Lk)("div",Yo,"Correlativo por Año: "+(0,n.v_)(e.titleConfig),1),(0,a.Lk)("div",Jo,[(0,a.bF)(u,{"option-value":"value","option-label":"label",options:e.anos,label:"Años",modelValue:e.selectAno,"onUpdate:modelValue":o[32]||(o[32]=function(o){return e.selectAno=o}),onInput:e.generarCorrelativo},null,8,["options","modelValue","onInput"])])])]}),_:1}),(0,a.bF)(A),(0,a.bF)(i,null,{default:(0,a.k6)(function(){return[(0,a.Lk)("div",et,[(0,a.Lk)("div",ot,[(0,a.bF)(d,{label:"Enero",modelValue:e.correlativo["01"],"onUpdate:modelValue":o[33]||(o[33]=function(o){return e.correlativo["01"]=o}),maxlength:e.sizeSub.NUMERO},null,8,["modelValue","maxlength"])]),(0,a.Lk)("div",tt,[(0,a.bF)(d,{label:"Febrero",modelValue:e.correlativo["02"],"onUpdate:modelValue":o[34]||(o[34]=function(o){return e.correlativo["02"]=o}),maxlength:e.sizeSub.NUMERO},null,8,["modelValue","maxlength"])]),(0,a.Lk)("div",at,[(0,a.bF)(d,{label:"Marzo",modelValue:e.correlativo["03"],"onUpdate:modelValue":o[35]||(o[35]=function(o){return e.correlativo["03"]=o}),maxlength:e.sizeSub.NUMERO},null,8,["modelValue","maxlength"])]),(0,a.Lk)("div",nt,[(0,a.bF)(d,{label:"Abril",modelValue:e.correlativo["04"],"onUpdate:modelValue":o[36]||(o[36]=function(o){return e.correlativo["04"]=o}),maxlength:e.sizeSub.NUMERO},null,8,["modelValue","maxlength"])]),(0,a.Lk)("div",rt,[(0,a.bF)(d,{label:"Mayo",modelValue:e.correlativo["05"],"onUpdate:modelValue":o[37]||(o[37]=function(o){return e.correlativo["05"]=o}),maxlength:e.sizeSub.NUMERO},null,8,["modelValue","maxlength"])]),(0,a.Lk)("div",lt,[(0,a.bF)(d,{label:"Junio",modelValue:e.correlativo["06"],"onUpdate:modelValue":o[38]||(o[38]=function(o){return e.correlativo["06"]=o}),maxlength:e.sizeSub.NUMERO},null,8,["modelValue","maxlength"])]),(0,a.Lk)("div",it,[(0,a.bF)(d,{label:"Julio",modelValue:e.correlativo["07"],"onUpdate:modelValue":o[39]||(o[39]=function(o){return e.correlativo["07"]=o}),maxlength:e.sizeSub.NUMERO},null,8,["modelValue","maxlength"])]),(0,a.Lk)("div",st,[(0,a.bF)(d,{label:"Agosto",modelValue:e.correlativo["08"],"onUpdate:modelValue":o[40]||(o[40]=function(o){return e.correlativo["08"]=o}),maxlength:e.sizeSub.NUMERO},null,8,["modelValue","maxlength"])]),(0,a.Lk)("div",ct,[(0,a.bF)(d,{label:"Setiembre",modelValue:e.correlativo["09"],"onUpdate:modelValue":o[41]||(o[41]=function(o){return e.correlativo["09"]=o}),maxlength:e.sizeSub.NUMERO},null,8,["modelValue","maxlength"])]),(0,a.Lk)("div",ut,[(0,a.bF)(d,{label:"octubre",modelValue:e.correlativo["10"],"onUpdate:modelValue":o[42]||(o[42]=function(o){return e.correlativo["10"]=o}),maxlength:e.sizeSub.NUMERO},null,8,["modelValue","maxlength"])]),(0,a.Lk)("div",dt,[(0,a.bF)(d,{label:"Noviembre",modelValue:e.correlativo["11"],"onUpdate:modelValue":o[43]||(o[43]=function(o){return e.correlativo["11"]=o}),maxlength:e.sizeSub.NUMERO},null,8,["modelValue","maxlength"])]),(0,a.Lk)("div",Ct,[(0,a.bF)(d,{label:"Diciembre",modelValue:e.correlativo["12"],"onUpdate:modelValue":o[44]||(o[44]=function(o){return e.correlativo["12"]=o}),maxlength:e.sizeSub.NUMERO},null,8,["modelValue","maxlength"])])])]}),_:1})]}),_:1},8,["modelValue","onSubmit"])):(0,a.Q3)("v-if",!0)])}var ft=t(57008),pt=t.n(ft),Ot=(t(30683),t(515),t(52776),t(81813),{components:{QInput:g.A,sieGrid:A.A,sieVacio:he.A,QDate:O.A,headerGrid:b.A,footerGrid:h.A,sieSelect:Ae.A,QRadio:Oe.A,QForm:me.A,QDatetime:D.T5,QCheckbox:S.A,createGrid:ue.A,formulario:ce.A,QCard:C.A,QCardSection:m.A,QSeparator:f.A,QTabs:de.A,QTab:Ce.A,QTabPanels:pe.A,QTabPanel:fe.A,QPagination:D.ao,sieModal:v.A,QSearch:D.Ks,QSelect:p.S,QPopupProxy:E.A,QBtn:D.Il,QIcon:D.bP},data:function(){return{rowData:[],openModal:!1,LECTURA_ESCRITURA:be["default"].LECTURA_ESCRITURA,nivelAcceso:(0,se["default"])().ruta.nivel,max:1,pagina:1,tipSubDiarios:[],empresas:[],mode:"insert",ID_SUBDIARIO_ACTUALIZAR:"",PROCESOS_COBRANZA:[2,3,4],tabsKeys:{index:"index",config:"config"},tabActivo:"index",form:{EMPCOD:"",SUBDIARIO:"",AFECTO_CAMBIO:1,TIPO_SUBDIARIO:"",ARCHIVO:"",ARCHIVO_DET:"",LIBRO:"",TIPO_AGRUPADOR:0,TIPO_CODANEXO:1,CODANE_ANULADO:"0001",TIPO_CENCOS:1,FLAG_DESC:0,GLOSA:"",GLOSA_DET:"",NOMBRE_ANULADO:"",CODANEXO_ANT:0,FECEMI_ANT:null,TIPO_CODANEXO_ANT:1,FLAG_BECA:0,AFECTO_CAMBIO_NC:0,TIPO_CODANEXO2:1,FLAG_ANTICIPO_MENSUAL:0,FLAG_RUC_EMPRESA:1,FLAG_CTA_CONTABLE_NOTACRED:0,FLAG_ANTICIPO_ANUAL:0},size:{},anos:[],selectAno:String((0,se["default"])().ano),openModalConfig:!1,correlativo:{"01":"","02":"","03":"","04":"","05":"","06":"","07":"","08":"","09":"",10:"",11:"",12:""},meses:[],setSubDiario:"",sizeSub:[],tituloOpcion:"Agregar",tipoAgrupador:[],optionsCodAnexo:[{value:1,label:"1-Código de Sistema"},{value:2,label:"2-Nro. Documento"},{value:3,label:"3-Código de Banco"}],tiposCentroCosto:[{value:1,label:"1-General (Por concepto)"},{value:2,label:"2-Por cuenta contable"},{value:3,label:"3-Local"}],optionsTipoBeca:[{value:0,label:"0-No Usa"},{value:1,label:"1-Par de Asientos por beca (Debe/Haber)"},{value:2,label:"2-Un Asiento por el Descuento de la beca (Debe)"}],titleConfig:""}},computed:{},methods:{onGridReady:function(){this.getSubdiario()},"getAños":function(){var e=this;return re()(ae()().m(function o(){return ae()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,be["default"].API_ANIOS();case 1:e.anos=o.v;case 2:return o.a(2)}},o)}))()},getTipoAgrupador:function(){var e=be["default"].TIPO_AGRUPADOR_ASIENTOS;for(var o in e)this.tipoAgrupador.push({value:e[o],label:o})},changePagination:function(e){this.loadData()},closeModalFecha:function(e){this.$refs[e].hide()},agregar:function(){this.mode="insert",this.tituloOpcion="Agregar",this.clear(),this.openModal=!0},clear:function(){this.form={EMPCOD:"",SUBDIARIO:"",AFECTO_CAMBIO:1,TIPO_SUBDIARIO:"",ARCHIVO:"",ARCHIVO_DET:"",LIBRO:"",TIPO_AGRUPADOR:0,TIPO_CODANEXO:1,CODANE_ANULADO:"0001",TIPO_CENCOS:1,FLAG_DESC:0,GLOSA:"",GLOSA_DET:"",NOMBRE_ANULADO:"",CODANEXO_ANT:0,FECEMI_ANT:null,TIPO_CODANEXO_ANT:1,FLAG_BECA:0,CODSUBDIARIO1:"",CODSUBDIARIO2:"",AFECTO_CAMBIO_NC:0,TIPO_CODANEXO2:1,FLAG_ANTICIPO_MENSUAL:1,FLAG_RUC_EMPRESA:1,FLAG_CTA_CONTABLE_NOTACRED:0,FLAG_ANTICIPO_ANUAL:0}},dayConverter:function(e){var o=e.replace("T"," ").split(" ")[0].split("-");return o="".concat(o[2],"/").concat(o[1],"/").concat(o[0]),o},getLength:function(){var e=this;return re()(ae()().m(function o(){var t,a;return ae()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,(0,to.n)(["C_SUBDIARIO"]);case 1:return t=o.v,e.size=t.C_SUBDIARIO,o.n=2,(0,to.n)(["C_SUBDIARIO_PERIODO"]);case 2:a=o.v,e.sizeSub=a.C_SUBDIARIO_PERIODO;case 3:return o.a(2)}},o)}))()},validateSubdiario:function(){var e=this.form;try{if(!e.LIBRO)throw new Error("Debe registrar el Libro Subdiario");if(!e.SUBDIARIO)throw new Error("Debe registrar el Nombre del Subdiario");if(!e.ARCHIVO)throw new Error("Debe registrar el nombre del archivo a exportar");if(!e.EMPCOD)throw new Error("Debe elegir la empresa");if(this.form.CODANEXO_ANT){if(!this.form.FECEMI_ANT)throw new Error("No selecciono la fecha del cambio de codigo de anexo");if(!this.form.TIPO_CODANEXO_ANT)throw new Error("No selecciono el codigo de anexo anterior")}return!0}catch(e){throw Error(e)}},getEmpresas:function(){var e=this;return re()(ae()().m(function o(){var t;return ae()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,ie.$http.get("api/empresaController/getEmpresas");case 1:t=o.v,e.empresas=t;case 2:return o.a(2)}},o)}))()},getTipoSubdiarios:function(){var e=this;return re()(ae()().m(function o(){var t;return ae()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,ie.$http.get("api/EstadoTablaController/getEstadoTabla",{params:{parametros:{CODIGO:"0018"}}});case 1:t=o.v,e.tipSubDiarios=t.map(function(e){return{CLAVE:e.CLAVE,VALOR:"".concat(e.CLAVE,"- ").concat(e.VALOR)}});case 2:return o.a(2)}},o)}))()},getSubdiario:function(){var e=this;return re()(ae()().m(function o(){var t,a,n,r;return ae()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,ie.$http.get("api/ContabilidadController/getSubdiario",{params:{params:{cole:""}}});case 1:t=o.v,console.log("getSubdiario",t),a=oe()(t);try{for(a.s();!(n=a.n()).done;)r=n.value,console.log("AFECTO_CAMBIO",r.AFECTO_CAMBIO),r.AFECTO_CAMBIO=1===r.AFECTO_CAMBIO?"SI":"NO"}catch(e){a.e(e)}finally{a.f()}e.rowData=t;case 2:return o.a(2)}},o)}))()},filtroDatosSubmit:function(){var e=pt()({},this.form);return Object.keys(e).includes("CODSUBDIARIO1")&&0==Object.keys(this.size).includes("CODSUBDIARIO1")&&delete e.CODSUBDIARIO1,Object.keys(this.form).includes("CODSUBDIARIO2")&&0==Object.keys(this.size).includes("CODSUBDIARIO2")&&delete e.CODSUBDIARIO2,e},registrarSubdiario:function(){var e=this;return re()(ae()().m(function o(){return ae()().w(function(o){while(1)switch(o.n){case 0:e.$confirm("¿Esta seguro de registrar el subdiario?","info").onOk(re()(ae()().m(function o(){var t,a,n;return ae()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,t=e.filtroDatosSubmit(),o.n=1,ie.$http.post("api/ContabilidadController/addSubdiario",{datos:t});case 1:a=o.v,e.openModal=!1,e.clear(),e.$alert(a.message,"success"),e.getSubdiario(),o.n=3;break;case 2:o.p=2,n=o.v,e.$alert(n.error?n.error.message:n.message,"warning");case 3:return o.a(2)}},o,null,[[0,2]])})));case 1:return o.a(2)}},o)}))()},actualizarSubdiario:function(){var e=this;return re()(ae()().m(function o(){return ae()().w(function(o){while(1)switch(o.n){case 0:e.$confirm("¿Esta seguro de Actualizar el subdiario?","info").onOk(re()(ae()().m(function o(){var t,a,n;return ae()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,e.form.ID_SUBDIARIO=e.ID_SUBDIARIO_ACTUALIZAR,t=e.filtroDatosSubmit(),o.n=1,ie.$http.post("api/ContabilidadController/updateSubdiario",{datos:t});case 1:a=o.v,e.openModal=!1,delete e.form.ID_SUBDIARIO,e.clear(),e.$alert(a.message,"success"),e.getSubdiario(),o.n=3;break;case 2:o.p=2,n=o.v,e.$alert(n.error?n.error.message:n.message,"warning");case 3:return o.a(2)}},o,null,[[0,2]])})));case 1:return o.a(2)}},o)}))()},submit:function(){var e=this;return re()(ae()().m(function o(){var t;return ae()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,e.validateSubdiario(),o.a(2,"insert"===e.mode?e.registrarSubdiario():e.actualizarSubdiario());case 1:return o.p=1,t=o.v,o.a(2,e.$alert(t.message,"warning"))}},o,null,[[0,1]])}))()},setActualizarSubdiario:function(e){var o=this;return re()(ae()().m(function t(){var a,n;return ae()().w(function(t){while(1)switch(t.p=t.n){case 0:return t.p=0,t.n=1,ie.$http.get("api/ContabilidadController/getSubdiario",{params:{params:{ID_SUBDIARIO:e.data.ID_SUBDIARIO}}});case 1:a=t.v,o.form.TIPO_CENCOS=a.TIPO_CENCOS,o.form.EMPCOD=a.EMPCOD,o.form.SUBDIARIO=a.SUBDIARIO,o.form.AFECTO_CAMBIO="SI"===a.AFECTO_CAMBIO?1:0,o.form.AFECTO_CAMBIO_NC=Object.keys(a).includes("AFECTO_CAMBIO_NC")?a.AFECTO_CAMBIO_NC:0,o.form.TIPO_SUBDIARIO=String(a.TIPO_SUBDIARIO),o.form.ARCHIVO=a.ARCHIVO,o.form.ARCHIVO_DET=a.ARCHIVO_DET,o.form.LIBRO=a.LIBRO,o.form.TIPO_AGRUPADOR=a.TIPO_AGRUPADOR,o.form.TIPO_CODANEXO=a.TIPO_CODANEXO,o.form.CODANE_ANULADO=a.CODANE_ANULADO,o.ID_SUBDIARIO_ACTUALIZAR=a.ID_SUBDIARIO,o.form.FLAG_DESC=Number(a.FLAG_DESC),o.form.FLAG_BECA=Number(a.FLAG_BECA),o.form.GLOSA=a.GLOSA,o.form.GLOSA_DET=a.GLOSA_DET,o.form.NOMBRE_ANULADO=a.NOMBRE_ANULADO,o.form.CODANEXO_ANT=Number(a.CODANEXO_ANT),o.form.FECEMI_ANT=a.FECEMI_ANT?o.dayConverter(a.FECEMI_ANT):null,o.form.TIPO_CODANEXO_ANT=a.TIPO_CODANEXO_ANT,o.form.CODSUBDIARIO1=Object.keys(a).includes("CODSUBDIARIO1")?a.CODSUBDIARIO1:"",o.form.CODSUBDIARIO2=Object.keys(a).includes("CODSUBDIARIO2")?a.CODSUBDIARIO2:"",o.form.TIPO_CODANEXO2=Object.keys(a).includes("TIPO_CODANEXO2")?a.TIPO_CODANEXO2:1,o.form.FLAG_ANTICIPO_MENSUAL=Object.keys(a).includes("FLAG_ANTICIPO_MENSUAL")?a.FLAG_ANTICIPO_MENSUAL:1,o.form.FLAG_RUC_EMPRESA=Object.keys(a).includes("FLAG_RUC_EMPRESA")?a.FLAG_RUC_EMPRESA:1,o.form.FLAG_CTA_CONTABLE_NOTACRED=Object.keys(a).includes("FLAG_CTA_CONTABLE_NOTACRED")?a.FLAG_CTA_CONTABLE_NOTACRED:1,o.form.FLAG_ANTICIPO_ANUAL=Object.keys(a).includes("FLAG_ANTICIPO_ANUAL")?a.FLAG_ANTICIPO_ANUAL:1,o.mode="actualizar",o.tituloOpcion="Editar",o.openModal=!0,t.n=3;break;case 2:t.p=2,n=t.v,console.log(n.error?n.error.message:n.message);case 3:return t.a(2)}},t,null,[[0,2]])}))()},eliminarSubdiario:function(e){var o=this;this.$confirm("¿Esta seguro de eliminar el subdiario?","delete").onOk(re()(ae()().m(function t(){var a,n;return ae()().w(function(t){while(1)switch(t.p=t.n){case 0:return t.p=0,t.n=1,ie.$http.delete("api/ContabilidadController/deleteSubdiario",{params:{datos:{ID_SUBDIARIO:e.data.ID_SUBDIARIO,ANOCOB:o.selectAno}}});case 1:a=t.v,o.getSubdiario(),o.$alert(a.message,"success"),t.n=3;break;case 2:t.p=2,n=t.v,o.$alert(n.error.message,"warning");case 3:return t.a(2)}},t,null,[[0,2]])})))},generarCorrelativo:function(){var e=this;return re()(ae()().m(function o(){var t,a,n,r;return ae()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,ie.$http.get("api/ContabilidadController/getCorrelativoSubdiario",{params:{params:{ID_SUBDIARIO:e.setSubDiario,ANOCOB:e.selectAno}}});case 1:t=o.v,a=oe()(t);try{for(a.s();!(n=a.n()).done;)r=n.value,e.correlativo[r.MESCOB]=r.NUMERO}catch(e){a.e(e)}finally{a.f()}case 2:return o.a(2)}},o)}))()},configModal:function(e){var o=this;return re()(ae()().m(function t(){var a,n,r,l;return ae()().w(function(t){while(1)switch(t.n){case 0:return o.titleConfig="".concat(e.data.LIBRO,"-").concat(e.data.SUBDIARIO),o.setSubDiario=e.data.ID_SUBDIARIO,t.n=1,ie.$http.get("api/ContabilidadController/getCorrelativoSubdiario",{params:{params:{ID_SUBDIARIO:e.data.ID_SUBDIARIO,ANOCOB:o.selectAno}}});case 1:a=t.v,n=oe()(a);try{for(n.s();!(r=n.n()).done;)l=r.value,o.correlativo[l.MESCOB]=l.NUMERO}catch(e){n.e(e)}finally{n.f()}o.openModalConfig=!0;case 2:return t.a(2)}},t)}))()},actualizarCorrelativo:function(){var e=this;return re()(ae()().m(function o(){return ae()().w(function(o){while(1)switch(o.n){case 0:e.$confirm("Desea actualizar el correlativo ?","info").onOk(re()(ae()().m(function o(){var t,a,n;return ae()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,t=[],t.push(e.correlativo),o.n=1,ie.$http.post("api/ContabilidadController/updateCorrelativoSubdiario",{datos:{correlativos:t,ano:e.selectAno,id_subdiario:e.setSubDiario}});case 1:a=o.v,e.$alert(a.message,"success"),e.openModalConfig=!1,o.n=3;break;case 2:o.p=2,n=o.v,e.$alert(n.error.message,"success");case 3:return o.a(2)}},o,null,[[0,2]])})));case 1:return o.a(2)}},o)}))()}},created:function(){this.frameworkComponents={date:oo.Ay,actionButton:le.A},this.columnDefs=[{headerName:"Id",field:"ID_SUBDIARIO",width:40,sortable:!0,pinned:"left"},{headerName:"Libro Subdiario",field:"LIBRO",width:120,sortable:!0,pinned:"left"},{headerName:"Nombre Subdiario",field:"SUBDIARIO",width:180,sortable:!0},{headerName:"Tipo Oper",field:"TIPO_PROCESO",width:110,sortable:!0},{headerName:"Archivo",field:"ARCHIVO",width:110,sortable:!0},{headerName:"Empresa",field:"EMPRESA",width:200,sortable:!0},{cellRenderer:le.A,width:40,cellRendererParams:{icon:"edit",title:"Actualizar",onClick:this.setActualizarSubdiario},hide:this.nivelAcceso<be["default"].LECTURA_ESCRITURA},{cellRenderer:le.A,width:40,cellRendererParams:{icon:"delete",onClick:this.eliminarSubdiario},hide:this.nivelAcceso<be["default"].ACCESO_TOTAL},{cellRenderer:le.A,width:40,cellRendererParams:{icon:"settings",onClick:this.configModal},hide:this.nivelAcceso<be["default"].LECTURA_ESCRITURA}]},mounted:function(){this.getSubdiario(),this.getTipoSubdiarios(),this.getEmpresas(),this.getLength(),this.getAños(),this.getTipoAgrupador()},beforeMount:function(){var e=this;return re()(ae()().m(function o(){return ae()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,be["default"].MESES();case 1:e.meses=o.v;case 2:return o.a(2)}},o)}))()}});const At=(0,ge.A)(Ot,[["render",mt]]);var ht=At,bt={components:{headerGrid:b.A,sieGrid:A.A,footerGrid:h.A,QCard:C.A,QCardSection:m.A,QSelect:p.S,QSeparator:f.A,sieModal:v.A,QInput:g.A,QDate:O.A,QPopupProxy:E.A,QDatetime:D.T5,QCheckbox:S.A,createForm:_.A,QOptionGroup:D.EX,QChip:I.A,centrocosto:Ie,cuentasContables:uo,cuentasContablesGradoniv:Ao,subdiarios:ht,servicios:Ge},data:function(){return{columnDefs:[],rowData:[],frameworkComponents:{},api:null,selectTable:"subdiario",title:"Subdiarios"}},methods:{onGridReady:function(e){this.api=e.api},columns:function(){this.columnDefs=[{field:"tabla",headerName:"Tablas"}]},setData:function(){this.rowData=[{tabla:"Subdiarios",value:"subdiario",title:"Subdiarios"},{tabla:"Cuentas Contables",value:"cuentacontable",title:"Cuentas Contables"},{tabla:"Cuentas por Nivel/Grado",value:"cuentagradoniv",title:"Cuentas Contables"},{tabla:"Centro de costo",value:"centrocosto",title:"Centro de Costos"},{tabla:"Servicios",value:"servicios",title:"Servicios Contables (Conceptos)"}]},selectRowTable:function(e){this.selectTable=e.data.value,this.title=e.data.title}},beforeMount:function(){this.columns(),this.setData()}};const vt=(0,ge.A)(bt,[["render",d]]);var gt=vt}}]);