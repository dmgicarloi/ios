"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[83975],{83975:function(e,l,o){o.r(l),o.d(l,{default:function(){return K}});var t=o(61758);function r(e,l){var o=(0,t.g2)("recojo"),r=(0,t.g2)("q-page");return(0,t.uX)(),(0,t.Wv)(r,{class:"column q-pa-md"},{default:(0,t.k6)(function(){return[(0,t.bF)(o,{showCabecera:!0})]}),_:1})}var a=o(6123),n=o(8445),i=o.n(n),u=(o(71225),o(50310),o(5962),o(83190),o(58790)),s={class:"column"},d={class:"row q-ma-xs"},c={class:"row"},O={key:1,class:"row col q-if-outlined margenChips"},f={key:0,class:"q-if-label"},m={key:1,class:"q-if-label q-if-label-above",style:{position:"relative"}},R={class:"col row",style:{"max-height":"20vh","overflow-x":"auto"}},E={key:0,class:"q-mx-sm"},v={class:"row"},C={class:"row"},h={class:"row"},p={class:"col text-bold"},A={class:"row"},b={class:"row"},_={key:0,class:"row"},D={key:0,class:"row"},P={class:"row layout-end flex"};function L(e,l){var o=(0,t.g2)("q-spinner-gears"),r=(0,t.g2)("q-inner-loading"),a=(0,t.g2)("q-search"),n=(0,t.g2)("q-table"),L=(0,t.g2)("sie-modal"),$=(0,t.g2)("header-btn"),N=(0,t.g2)("sie-select"),T=(0,t.g2)("q-field"),M=(0,t.g2)("q-toggle"),g=(0,t.g2)("sie-estudiantes"),U=(0,t.g2)("q-chip"),F=(0,t.g2)("q-btn"),q=(0,t.g2)("q-datetime"),k=(0,t.g2)("q-input"),S=(0,t.g2)("q-select"),V=(0,t.g2)("sie-upload"),I=(0,t.g2)("q-card"),w=(0,t.g2)("q-toolbar");return(0,t.uX)(),(0,t.CE)("div",s,[(0,t.bF)(r,{visible:e.cargando},{default:(0,t.k6)(function(){return[(0,t.bF)(o,{size:"50px",color:"primary"})]}),_:1},8,["visible"]),(0,t.bF)(L,{modelValue:e.modalMultples,"onUpdate:modelValue":l[2]||(l[2]=function(l){return e.modalMultples=l}),onSubmit:e.asignarAlucods},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{class:"q-ma-xs q-card",data:e.listEstudiantes,columns:e.columns,"row-key":"ALUCOD",selection:"multiple",selected:e.ALUCODSMODAL,"onUpdate:selected":l[1]||(l[1]=function(l){return e.ALUCODSMODAL=l}),style:{"max-height":"70vh"},filter:e.filter,"hide-bottom":""},{"top-right":(0,t.k6)(function(o){return[(0,t.bF)(a,{"hide-underline":"",modelValue:e.filter,"onUpdate:modelValue":l[0]||(l[0]=function(l){return e.filter=l})},null,8,["modelValue"])]}),_:1},8,["data","columns","selected","filter"])]}),_:1},8,["modelValue","onSubmit"]),e.showCabecera?((0,t.uX)(),(0,t.Wv)($,{key:0,name:"Solicitud de Permisos",buttons:e.buttons},null,8,["buttons"])):(0,t.Q3)("v-if",!0),(0,t.bF)(I,{class:"q-ma-xs"},{default:(0,t.k6)(function(){return[(0,t.Lk)("div",d,[(0,t.bF)(T,{class:"col",error:e.v$.ID_MOTIVO.$error,"error-label":e.$t("validaciones.requerido")},{default:(0,t.k6)(function(){return[(0,t.bF)(N,{class:"col",type:"outlined",modelValue:e.v$.ID_MOTIVO.$model,"onUpdate:modelValue":l[3]||(l[3]=function(l){return e.v$.ID_MOTIVO.$model=l}),options:e.motivos,label:"DESCRIPCION",val:"ID",placeholder:"Motivo",onSelected:e.seleccionarMotivo},null,8,["modelValue","options","onSelected"])]}),_:1},8,["error","error-label"]),e.permiteGrupal?((0,t.uX)(),(0,t.Wv)(M,{key:0,modelValue:e.GRUPAL,"onUpdate:modelValue":l[4]||(l[4]=function(l){return e.GRUPAL=l}),"true-value":1,"false-value":0,color:"secondary"},{default:(0,t.k6)(function(){return i()(l[19]||(l[19]=[(0,t.eW)("Grupal",-1)]))}),_:1},8,["modelValue"])):(0,t.Q3)("v-if",!0)]),(0,t.Lk)("div",c,[0===e.GRUPAL?((0,t.uX)(),(0,t.Wv)(T,{key:0,class:"col",error:e.v$.ALUCOD.$error,"error-label":e.$t("validaciones.requerido")},{default:(0,t.k6)(function(){return[(0,t.bF)(g,{modelValue:e.v$.ALUCOD.$model,"onUpdate:modelValue":l[5]||(l[5]=function(l){return e.v$.ALUCOD.$model=l}),onSelected:e.selectAlumno},null,8,["modelValue","onSelected"])]}),_:1},8,["error","error-label"])):((0,t.uX)(),(0,t.CE)("div",O,[!e.ALUCODS.length>0?((0,t.uX)(),(0,t.CE)("span",f,"Estudiantes")):((0,t.uX)(),(0,t.CE)("span",m,"Estudiantes")),(0,t.Lk)("div",R,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.ALUCODS,function(l,o){return(0,t.uX)(),(0,t.Wv)(U,{closable:"",color:"secondary",onHide:function(l){return e.eliminarChip(o)}},{default:(0,t.k6)(function(){return[(0,t.eW)((0,u.v_)(l.NOMCOMP),1)]}),_:2},1032,["onHide"])}),256))]),(0,t.bF)(F,{class:"q-mt-xs",flat:"",dense:"",round:"",icon:"user_add",onClick:e.openModalMultiples},null,8,["onClick"])]))]),e.ALUCOD||e.ALUCODS.length>0?((0,t.uX)(),(0,t.CE)("div",E,[(0,t.Lk)("div",v,[e.ID_MOTIVO?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},[(0,t.bF)(T,{class:"col",error:e.v$.FH_SALIDA_PROP.$error,"error-label":e.$t("validaciones.requerido")},{default:(0,t.k6)(function(){return[(0,t.bF)(q,{class:"q-if-outlined",type:"date",modelValue:e.v$.FH_SALIDA_PROP.$model,"onUpdate:modelValue":l[6]||(l[6]=function(l){return e.v$.FH_SALIDA_PROP.$model=l}),min:e.fechaMaxima,format:"DD/MM/YYYY","float-label":"Fecha de Salida"},null,8,["modelValue","min"])]}),_:1},8,["error","error-label"]),(0,t.bF)(T,{class:"col",error:e.v$.FH_SALIDA_PROP.$error,"error-label":e.$t("validaciones.requerido")},{default:(0,t.k6)(function(){return[(0,t.bF)(q,{class:"q-if-outlined",modelValue:e.v$.FH_SALIDA_PROP.$model,"onUpdate:modelValue":l[7]||(l[7]=function(l){return e.v$.FH_SALIDA_PROP.$model=l}),type:"time",min:e.fechaMaxima,format:"hh:mm A","float-label":"Hora de Salida",onInput:e.calcularSalida},null,8,["modelValue","min","onInput"])]}),_:1},8,["error","error-label"]),e.permiteEmergencia?((0,t.uX)(),(0,t.Wv)(M,{key:0,modelValue:e.ES_EMERGENCIA,"onUpdate:modelValue":l[8]||(l[8]=function(l){return e.ES_EMERGENCIA=l}),"true-value":1,"false-value":0},{default:(0,t.k6)(function(){return i()(l[20]||(l[20]=[(0,t.eW)("Emergencia",-1)]))}),_:1},8,["modelValue"])):(0,t.Q3)("v-if",!0)],64)):(0,t.Q3)("v-if",!0)]),(0,t.Lk)("div",C,[(0,t.bF)(T,{class:"col",error:e.v$.DETALLE.$error,"error-label":e.errorLabel(e.v$.DETALLE),count:500},{default:(0,t.k6)(function(){return[(0,t.bF)(k,{class:"q-if-outlined col",modelValue:e.v$.DETALLE.$model,"onUpdate:modelValue":l[9]||(l[9]=function(l){return e.v$.DETALLE.$model=l}),"float-label":"Descripción",type:"textarea",rows:"3"},null,8,["modelValue"])]}),_:1},8,["error","error-label"])]),(0,t.Lk)("div",h,[(0,t.Lk)("span",p,(0,u.v_)(1===e.GRUPAL?"Responsable":"Quien Recoge al estudiante"),1)]),(0,t.Lk)("div",A,[e.ALUCOD||1===e.GRUPAL?((0,t.uX)(),(0,t.Wv)(T,{key:0,class:"col",error:e.v$.PARENT_RECOJO.$error,"error-label":e.$t("validaciones.requerido")},{default:(0,t.k6)(function(){return[(0,t.bF)(S,{class:"q-if-outlined",modelValue:e.v$.PARENT_RECOJO.$model,"onUpdate:modelValue":l[10]||(l[10]=function(l){return e.v$.PARENT_RECOJO.$model=l}),options:e.listParent,"float-label":1===e.GRUPAL?"":"Parentesco",onInput:e.seleccionarParentesco,disable:1===e.GRUPAL},null,8,["modelValue","options","float-label","onInput","disable"])]}),_:1},8,["error","error-label"])):(0,t.Q3)("v-if",!0),0===e.GRUPAL?((0,t.uX)(),(0,t.CE)(t.FK,{key:1},[(0,t.bF)(T,{class:"col",error:e.v$.NOMCOMP_RECOJO.$error,"error-label":e.$t("validaciones.requerido")},{default:(0,t.k6)(function(){return[(0,t.bF)(k,{class:"q-if-outlined col",modelValue:e.v$.NOMCOMP_RECOJO.$model,"onUpdate:modelValue":l[11]||(l[11]=function(l){return e.v$.NOMCOMP_RECOJO.$model=l}),"float-label":"Nombre",disable:e.bloqRecoje},null,8,["modelValue","disable"])]}),_:1},8,["error","error-label"]),(0,t.bF)(T,{class:"col",error:e.v$.DOC_RECOJO.$error,"error-label":e.$t("validaciones.requerido")},{default:(0,t.k6)(function(){return[(0,t.bF)(k,{class:"q-if-outlined col",modelValue:e.v$.DOC_RECOJO.$model,"onUpdate:modelValue":l[12]||(l[12]=function(l){return e.v$.DOC_RECOJO.$model=l}),"float-label":"Documento",disable:e.bloqRecoje},null,8,["modelValue","disable"])]}),_:1},8,["error","error-label"])],64)):((0,t.uX)(),(0,t.Wv)(T,{key:2,class:"col",error:e.v$.DOC_RECOJO.$error,"error-label":e.$t("validaciones.requerido")},{default:(0,t.k6)(function(){return[(0,t.bF)(S,{class:"q-if-outlined","float-label":"Nombre",modelValue:e.v$.DOC_RECOJO.$model,"onUpdate:modelValue":l[13]||(l[13]=function(l){return e.v$.DOC_RECOJO.$model=l}),options:e.personal,filter:""},null,8,["modelValue","options"])]}),_:1},8,["error","error-label"]))]),(0,t.Lk)("div",b,[l[22]||(l[22]=(0,t.Lk)("span",null,null,-1)),(0,t.bF)(M,{modelValue:e.RETORNA,"onUpdate:modelValue":l[14]||(l[14]=function(l){return e.RETORNA=l}),"true-value":1,"false-value":0,color:"secondary"},{default:(0,t.k6)(function(){return i()(l[21]||(l[21]=[(0,t.eW)("¿El estudiante Retornara?",-1)]))}),_:1},8,["modelValue"]),e.RETORNA?((0,t.uX)(),(0,t.CE)("div",_,[(0,t.bF)(T,{class:"col",error:e.v$.FH_RETORNO_PROP.$error,"error-label":e.$t("validaciones.requerido")},{default:(0,t.k6)(function(){return[(0,t.bF)(q,{class:"q-if-outlined",type:"time",modelValue:e.v$.FH_RETORNO_PROP.$model,"onUpdate:modelValue":l[15]||(l[15]=function(l){return e.v$.FH_RETORNO_PROP.$model=l}),format:"HH:mm A","float-label":"Hora de Retorno",min:e.minRetorno},null,8,["modelValue","min"])]}),_:1},8,["error","error-label"])])):(0,t.Q3)("v-if",!0)]),e.RETORNA&&0===e.GRUPAL?((0,t.uX)(),(0,t.CE)("div",D,[(0,t.bF)(T,{class:"col",error:e.v$.PARENT_RETORNO.$error,"error-label":e.$t("validaciones.requerido")},{default:(0,t.k6)(function(){return[e.ALUCOD?((0,t.uX)(),(0,t.Wv)(S,{key:0,class:"q-if-outlined",modelValue:e.v$.PARENT_RETORNO.$model,"onUpdate:modelValue":l[16]||(l[16]=function(l){return e.v$.PARENT_RETORNO.$model=l}),options:e.listParent,"float-label":"Parentesco",onInput:e.seleccionarParentescoRetorno},null,8,["modelValue","options","onInput"])):(0,t.Q3)("v-if",!0)]}),_:1},8,["error","error-label"]),(0,t.bF)(T,{class:"col",error:e.v$.NOMCOMP_RETORNO.$error,"error-label":e.$t("validaciones.requerido")},{default:(0,t.k6)(function(){return[(0,t.bF)(k,{class:"q-if-outlined col",modelValue:e.v$.NOMCOMP_RETORNO.$model,"onUpdate:modelValue":l[17]||(l[17]=function(l){return e.v$.NOMCOMP_RETORNO.$model=l}),"float-label":"Nombre",disable:e.bloqDevuelve},null,8,["modelValue","disable"])]}),_:1},8,["error","error-label"]),(0,t.bF)(k,{class:"q-if-outlined col",modelValue:e.DOC_RETORNO,"onUpdate:modelValue":l[18]||(l[18]=function(l){return e.DOC_RETORNO=l}),"float-label":"Documento",disable:e.bloqDevuelve},null,8,["modelValue","disable"])])):(0,t.Q3)("v-if",!0),(0,t.bF)(V,{onUpload:e.addFile,icon:"file",title:e.$t("subirArchivos"),onlyButton:!0},null,8,["onUpload","title"])])):(0,t.Q3)("v-if",!0)]}),_:1}),e.showCabecera?(0,t.Q3)("v-if",!0):((0,t.uX)(),(0,t.Wv)(w,{key:1,class:"justify-end",inverted:""},{default:(0,t.k6)(function(){return[(0,t.Lk)("div",P,[3!==e.sie.ruta.nivel||e.v$.$invalid?(0,t.Q3)("v-if",!0):((0,t.uX)(),(0,t.Wv)(F,{key:0,icon:"save",dense:"",color:"primary",onClick:e.grabar,loading:e.cargando},{default:(0,t.k6)(function(){return i()(l[23]||(l[23]=[(0,t.eW)("Grabar",-1)]))}),_:1},8,["onClick","loading"]))])]}),_:1}))])}var $=o(76080),N=o.n($),T=o(45254),M=o.n(T),g=(o(10239),o(89571),o(90095),o(13715),o(83972)),U=o(93616),F=o(30545),q=o(57668),k=o(80660),S=o(82640),V=o(92173),I=o(66469),w=o(2819),y=o(982),Q=o(30640),H=o(13813),G=o(59089),J=o(33950),j={setup:function(){var e=(0,g.fG)();return{v$:e}},emits:["closeModal"],components:{QSelect:a.Si,QToggle:a.c5,QCheckbox:a.vZ,QBtnToggle:a.QL,QRadio:a.$,QTable:F.A,QTh:a.EJ,QTr:a.qh,QTd:a.Ef,QTableColumns:a.$s,QPopupEdit:a.GT,QChip:a.wQ,QFabAction:a.B$,QPageSticky:a._U,QFab:a.l6,QDatetime:a.T5,QTab:a.zu,QTabs:a.uw,sieEstudiantes:V.Ay,sieSelect:U.A,QInnerLoading:a.SQ,QSpinnerGears:a.hV,QChipsInput:a.XX,sieModal:Q.A,sieUpload:G.A,QSearch:a.Ks,QCard:a.C$,QField:a.Om,QBtn:a.Il,QInput:a.ie,QToolbar:a.ZV},props:["showCabecera"],data:function(){return{sie:(0,q["default"])(),motivos:null,ALUCOD:null,ID_MOTIVO:null,FECHA:new Date,minDiff:0,minDiffReg:0,minDiffEmer:0,FH_SALIDA_PROP:new Date,listParent:[],PARENT_RECOJO:null,bloqRecoje:!1,bloqDevuelve:!1,NOMCOMP_RECOJO:null,DOC_RECOJO:null,RETORNA:0,PARENT_RETORNO:null,FH_RETORNO_PROP:new Date((new Date).getTime()+6e5),NOMCOMP_RETORNO:null,DOC_RETORNO:null,permiteEmergencia:!1,ES_EMERGENCIA:0,GRUPAL:0,objParent:{},DETALLE:null,cargando:!1,ALUCODS:[],ALUCODSMODAL:[],grupales:[],listEstudiantes:[],permiteGrupal:!1,valorColegio:null,personal:[],modalMultples:!1,filter:null,infoUpd:{},columns:[{name:"NOMCOMP",field:"NOMCOMP",align:"left",label:this.$t("estudiante")}]}},methods:{addFile:function(e){var l=this;this.cerrarModal=!0,(0,J.Upload)({url:"api/HyoArchivo/tmp/upload",file:e[0]}).then(function(e){l.infoUpd.file=e}).catch(function(){})},handleResize:function(){this.alto=window.innerHeight-105},imprimir:function(e){var l="intranet/reporte-node/reporte",o={repcod:"constanciaPermiso",ID:e,ANO:(0,q["default"])().ano};(0,w.exportFilePhp)(o,l,"Reporte ")},selectAlumno:function(e){null!==this.PARENT_RECOJO&&this.seleccionarParentesco(this.bloqRecoje)},calcularTolerancia:function(e){var l=new Date;this.minDiff=e,this.FH_SALIDA_PROP=new Date(l.getTime()+6e4*e)},calcularSalida:function(e){this.FH_RETORNO_PROP=new Date(new Date(e).getTime()+6e5)},seleccionarMotivo:function(e){this.permiteEmergencia=1===e.PERMIT_EMERGENCIA,this.minDiffReg=this.sie.esFamilia?e.ANTICIP:0,this.minDiffEmer=this.sie.esFamilia&&e.ANT_EME||0;var l=1===this.ES_EMERGENCIA?this.minDiffEmer:this.minDiffReg;this.calcularTolerancia(l)},seleccionarParentesco:function(e){var l=this;if(this.bloqRecoje=!!this.objParent[e],this.bloqRecoje){var o={PREF:this.objParent[e],ALUCOD:this.ALUCOD,campos:["NOM","DOC"]};k.$http.get("api/HyoFamilias/getResponsable",{params:o}).then(function(o){var t=o.json;l.NOMCOMP_RECOJO=t[l.objParent[e]+"NOM"],l.DOC_RECOJO=t[l.objParent[e]+"DOC"]})}else this.NOMCOMP_RECOJO="",this.DOC_RECOJO=""},seleccionarParentescoRetorno:function(e){var l=this;if(this.bloqDevuelve=!!this.objParent[e],this.bloqDevuelve){var o={PREF:this.objParent[e],ALUCOD:this.ALUCOD,campos:["NOM","DOC"]};k.$http.get("api/HyoFamilias/getResponsable",{params:o}).then(function(o){var t=o.json;l.NOMCOMP_RETORNO=t[l.objParent[e]+"NOM"],l.DOC_RETORNO=t[l.objParent[e]+"DOC"]})}},init:function(){this.ALUCOD=null,this.ID_MOTIVO=null,this.FECHA=new Date,this.minDiff=0,this.minDiffReg=0,this.minDiffEmer=0,this.FH_SALIDA_PROP=new Date,this.PARENT_RECOJO=null,this.bloqRecoje=!1,this.bloqDevuelve=!1,this.NOMCOMP_RECOJO=null,this.DETALLE=null,this.DOC_RECOJO=null,this.RETORNA=0,this.PARENT_RETORNO=null,this.FH_RETORNO_PROP=new Date((new Date).getTime()+6e5),this.NOMCOMP_RETORNO=null,this.DOC_RETORNO=null,this.permiteEmergencia=!1,this.ES_EMERGENCIA=0,this.GRUPAL=0,this.infoUpd={}},errorLabel:function(e){return this.$t((0,I["default"])(e))},grabar:function(){var e=this;return M()(N()().m(function l(){var o,t,r,a,n,i,u;return N()().w(function(l){while(1)switch(l.p=l.n){case 0:if(e.v$.$touch(),e.v$.$invalid){l.n=5;break}return l.n=1,e.$confirmar("Esta seguro de guardar esta información");case 1:if(o=l.v,!o){l.n=5;break}return l.p=2,t={ID_MOTIVO:e.ID_MOTIVO,FECHA:e.FECHA,FH_SALIDA_PROP:e.FH_SALIDA_PROP,PARENT_RECOJO:e.PARENT_RECOJO,NOMCOMP_RECOJO:e.NOMCOMP_RECOJO,DOC_RECOJO:e.DOC_RECOJO,RETORNA:e.RETORNA,PARENT_RETORNO:e.PARENT_RETORNO,FH_RETORNO_PROP:e.FH_RETORNO_PROP,NOMCOMP_RETORNO:e.NOMCOMP_RETORNO,DOC_RETORNO:e.DOC_RETORNO,ES_EMERGENCIA:e.ES_EMERGENCIA,DETALLE:e.DETALLE,GRUPAL:e.GRUPAL},0===e.GRUPAL?t.ALUCOD=e.ALUCOD:t.ALUCODS=(0,H["default"])(e.ALUCODS,function(e){var l=e.ALUCOD;return l}),e.infoUpd&&e.infoUpd.file&&(t.file=e.infoUpd.file),l.n=3,e.$http.post("api/PermisoRecojoController/addPermisoRecojo",{data:t});case 3:r=l.v,a=r.data,n=a.msg,i=a.idReg,u=a.type,u||(e.init(),e.imprimir(i),e.v$.$reset(),e.showCabecera||e.$emit("closeModal",!0),(0,y["default"])(e.$t("mensajes."+n),u),e.cargando=!1),l.n=5;break;case 4:l.p=4,l.v,(0,y["default"])(e.$t("mensajes.e0006"),"error");case 5:return l.a(2)}},l,null,[[2,4]])}))()},openModalMultiples:function(){this.modalMultples=!0,this.ALUCODSMODAL=i()(this.ALUCODS)},asignarAlucods:function(){this.ALUCODS=i()(this.ALUCODSMODAL),this.modalMultples=!1},eliminarChip:function(e){this.ALUCODS.splice(e,1)}},computed:{fechaMaxima:function(){var e=new Date;return new Date(e.getTime()+6e4*this.minDiff)},minRetorno:function(){var e=this.FH_SALIDA_PROP;return new Date(e.getTime()+6e5)},maxLista:function(){var e=this.alto-200;return e/20},buttons:function(){var e=[];return 3!==this.sie.ruta.nivel||this.v$.$invalid||e.unshift({label:"Grabar",icon:"save",click:this.grabar}),e}},unmounted:function(){window.removeEventListener("resize",this.handleResize)},watch:{ES_EMERGENCIA:function(){var e=1===this.ES_EMERGENCIA?this.minDiffEmer:this.minDiffReg;this.calcularTolerancia(e)},GRUPAL:function(e){1===e?(this.ALUCOD=null,this.PARENT_RECOJO=this.valorColegio,console.log(this.valorColegio)):(this.ALUCODS=[],this.PARENT_RECOJO=null)},ID_MOTIVO:function(e){this.permiteGrupal=this.grupales.indexOf(e)>=0,this.grupales.indexOf(e)<0&&(this.GRUPAL=0)}},validations:function(){var e={ID_MOTIVO:{required:S.mw},FH_SALIDA_PROP:{required:S.mw},DOC_RECOJO:{required:S.mw},PARENT_RECOJO:{required:S.mw},DETALLE:{maxLength:(0,S.Ru)(500)}};return 1===this.GRUPAL?(e.DETALLE={maxLength:(0,S.Ru)(500),required:S.mw},e.ALUCODS={required:S.mw}):(e.NOMCOMP_RECOJO={required:S.mw},e.ALUCOD={required:S.mw}),1===this.RETORNA&&(0===this.GRUPAL&&(e.PARENT_RETORNO={required:S.mw},e.NOMCOMP_RETORNO={required:S.mw}),e.FH_RETORNO_PROP={required:S.mw}),e},mounted:function(){var e=this;window.addEventListener("resize",this.handleResize),this.handleResize(),this.init();var l={activos:1};this.sie.esFamilia&&(l.familia=1),this.sie.esOtros&&(l.personal=1),k.$http.get("api/HyoRpmotivos/getMotivos",{params:l}).then(function(l){var o=l.json;o.forEach(function(l){1===l.ES_GRUPAL&&e.grupales.push(l.ID)}),e.grupales.length>0&&(k.$http.get("/api/HyoAlumnos/listarAlumnosHijos",{params:{parametros:{matriculado:"S"}}}).then(function(l){l.json.forEach(function(l){var o=l.ALUCOD,t=l.NOMCOMP;e.listEstudiantes.push({ALUCOD:o,NOMCOMP:t})})}),k.$http.get("/api/HyoProfes/obtListadoProfecActivos",{params:{hasUnidadOrganizativa:!0}}).then(function(l){l.json.forEach(function(l){var o=l.PROFCOD,t=l.USUNOM;e.personal.push({label:t,value:o})})})),e.motivos=o}),k.$http.get("api/HyoTablaSe/datosSe",{params:{princod:"009"}}).then(function(l){var o=l.listar;e.listParent=[],o.forEach(function(l){var o=l.SECUEQU,t=l.SECUDES,r=l.SECUCOD;o&&("PROF"!==o?e.objParent[r]=o:e.valorColegio=r),e.listParent.push({value:r,label:t})})})}},X=o(12807);const x=(0,X.A)(j,[["render",L]]);var W=x,z={components:{recojo:W,QPage:a.Tu}};const B=(0,X.A)(z,[["render",r]]);var K=B}}]);