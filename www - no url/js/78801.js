"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[78801],{78801:function(e,t,a){a.r(t),a.d(t,{default:function(){return Ie}});var n=a(8445),l=a.n(n),c=(a(15547),a(61758)),s=a(58790),i=a(29104),r={class:"row q-col-gutter-md text-weight-thin text-bold"},o={class:"col-xs-12 col-sm-5"},u={class:"col-xs-12 col-sm-7"},d={class:"row q-col-gutter-md"},k={key:0,class:"col-xs-12"},v={class:"col-xs-12 text-weight-regular text-center"},m={class:"col-xs-12"},p={class:"row"},L={class:"col"},f={key:0,class:"row"},C={class:"col-xs-12"},O={key:0,class:"col-xs-12"},g={class:"col-xs-12"},h={class:"col-xs-12"},P={class:"col-xs-12"},b={class:"col-xs-12"},D={key:0,class:"row"},w={class:"col-xs-12"},A={class:"row"},E={class:"column"},x={class:"col-xs-12 text-weight-regular text-center"},N={class:"col-xs-12"},_={class:"row"},M={class:"col"},q={key:0,class:"row"},R={class:"col-xs-12"},F={class:"row"},S={class:"column"},U={class:"col-xs-12 text-weight-regular text-center"},y={class:"col-xs-12"},T={class:"row"},I={class:"col"},X={class:"q-table q-caption"},G={class:"q-tr"},Q={class:"q-td",colspan:"3"},K={class:"q-tr"},$={class:"q-td"},z={class:"q-td"},H={class:"q-td"},Y={class:"q-td text-right"},j={class:"q-td text-right"},B={class:"q-tr"},J={colspan:"5"},V={class:"q-tr"},W={class:"q-td text-right"},Z={class:"q-td text-right"},ee={class:"row"},te={class:"column"},ae={class:"col-xs-12 text-weight-regular text-center"},ne={class:"col-xs-12"},le={class:"row"},ce={class:"col"},se={key:0,class:"q-caption q-table"},ie={key:0,class:"q-tr text-bold"},re={colspan:"5"},oe={class:"q-tr"},ue={class:"q-td"},de={class:"q-td"},ke={class:"q-td"},ve={class:"q-td"},me={class:"q-td"},pe={class:"q-td text-right"},Le={class:"q-tr"},fe={colspan:"6"},Ce={class:"q-tr"},Oe={class:"q-td text-right"},ge={class:"q-td text-right"},he={class:"row"},Pe={class:"column"};function be(e,t){var a=this,n=(0,c.g2)("header-btn"),be=(0,c.g2)("sie-table"),De=(0,c.g2)("q-card-section"),we=(0,c.g2)("q-card"),Ae=(0,c.g2)("q-icon"),Ee=(0,c.g2)("q-separator"),xe=(0,c.g2)("q-page");return(0,c.uX)(),(0,c.Wv)(xe,{class:"bg-white q-pa-sm sie-flat"},{default:(0,c.k6)(function(){return[(0,c.bF)(we,null,{default:(0,c.k6)(function(){return[(0,c.bF)(n,{name:"Registro de Matrícula",buttons:e.buttons},null,8,["buttons"]),(0,c.bF)(De,null,{default:(0,c.k6)(function(){return[(0,c.Lk)("div",r,[(0,c.Lk)("div",o,[(0,c.bF)(be,{ref:"tabla",columns:e.fields,data:e.rows,selection:"single",onRowSelected:e.selectAlumno,config:e.config,context:a,css:{height:"calc(100vh - 135px)"}},null,8,["columns","data","onRowSelected","config"])]),(0,c.Lk)("div",u,[(0,c.Lk)("div",d,[a.currentRow.ALUCOD?((0,c.uX)(),(0,c.CE)("div",k,[(0,c.bF)(n,{auto:!1,"font-size":"15px",name:e.currentRow.NOMCOMP,buttons:e.buttonsMatricula},null,8,["name","buttons"])])):(0,c.Q3)("v-if",!0),(0,c.Lk)("div",v,[(0,c.Lk)("span",null,(0,s.v_)(e.etiqueta1),1)]),(0,c.Lk)("div",m,[(0,c.Lk)("div",p,[(0,c.Lk)("div",L,[(0,c.bF)(we,{flat:"",bordered:""},{default:(0,c.k6)(function(){return[(0,c.bF)(De,{class:"scroll",style:{height:"80px"}},{default:(0,c.k6)(function(){return[e.matriculaPendiente.dataCursos.length>0?((0,c.uX)(),(0,c.CE)("div",f,[(0,c.bo)((0,c.Lk)("span",null,(0,s.v_)(e.matriculaPendiente.iconCursosPendientes="cancel"),513),[[i.aG,!1]]),((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(e.matriculaPendiente.dataCursos,function(a){return(0,c.uX)(),(0,c.CE)(c.FK,null,[(0,c.Lk)("div",C,[(0,c.Lk)("p",null,[(0,c.Lk)("span",null,(0,s.v_)(a.ANO),1)])]),"0026"===e.sie.colcod&&("I"===a.INSTRUCOD||"P"===a.INSTRUCOD&&"1"===a.GRADOCOD)?((0,c.uX)(),(0,c.CE)("div",O,l()(t[0]||(t[0]=[(0,c.Lk)("p",null,[(0,c.Lk)("b",null,"Asistir a terapia")],-1)])))):((0,c.uX)(),(0,c.CE)(c.FK,{key:1},[(0,c.Lk)("div",g,[(0,c.Lk)("p",null,[(0,c.Lk)("b",null,(0,s.v_)(e.value.INSTRUDES),1)])]),(0,c.Lk)("div",h,[(0,c.Lk)("p",null,[(0,c.Lk)("b",null,(0,s.v_)(e.value.GRADOCOD),1)])]),(0,c.Lk)("div",P,[(0,c.Lk)("p",null,[(0,c.Lk)("b",null,(0,s.v_)(e.value.SECCIONCOD),1)])])],64)),(0,c.Lk)("div",b,[(0,c.Lk)("p",null,[(0,c.Lk)("b",null,(0,s.v_)(e.value.CURSONOM),1)])])],64)}),256))])):((0,c.uX)(),(0,c.CE)(c.FK,{key:1},["0057"===e.sie.colcod?((0,c.uX)(),(0,c.CE)(c.FK,{key:0},["J"===e.matriculaPendiente.estadoAlu?((0,c.uX)(),(0,c.CE)("div",D,[(0,c.Lk)("div",w,[(0,c.bo)((0,c.Lk)("span",null,(0,s.v_)(e.matriculaPendiente.iconCursosPendientes="cancel"),513),[[i.aG,!1]]),t[1]||(t[1]=(0,c.Lk)("p",null,[(0,c.Lk)("b",null,"Alumno Repitente")],-1))])])):(0,c.Q3)("v-if",!0)],64)):(0,c.Q3)("v-if",!0)],64))]}),_:1})]}),_:1})]),(0,c.Lk)("div",null,[(0,c.Lk)("div",A,[(0,c.Lk)("div",E,[(0,c.bF)(Ae,{size:"25px",color:"cancel"===e.matriculaPendiente.iconCursosPendientes?"negative":"positive",name:e.matriculaPendiente.iconCursosPendientes},null,8,["color","name"])])])])])]),(0,c.Lk)("div",x,[(0,c.Lk)("span",null,(0,s.v_)(e.etiqueta2),1)]),(0,c.Lk)("div",N,[(0,c.Lk)("div",_,[(0,c.Lk)("div",M,[(0,c.bF)(we,{flat:"",bordered:""},{default:(0,c.k6)(function(){return[(0,c.bF)(De,{class:"scroll",style:{height:"80px"}},{default:(0,c.k6)(function(){return[e.matriculaPendiente.valida.document.length>0?((0,c.uX)(),(0,c.CE)("div",q,[(0,c.bo)((0,c.Lk)("span",null,(0,s.v_)(e.matriculaPendiente.iconDocumentosPendientes="cancel"),513),[[i.aG,!1]]),((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(e.matriculaPendiente.valida.document,function(e,t){return(0,c.uX)(),(0,c.CE)("div",R,[(0,c.Lk)("p",null,[(0,c.Lk)("b",null,(0,s.v_)(t+1)+") "+(0,s.v_)(e.SECUDES),1)])])}),256))])):(0,c.Q3)("v-if",!0)]}),_:1})]}),_:1})]),(0,c.Lk)("div",null,[(0,c.Lk)("div",F,[(0,c.Lk)("div",S,[(0,c.bF)(Ae,{size:"25px",color:"cancel"===e.matriculaPendiente.iconDocumentosPendientes?"negative":"positive",name:e.matriculaPendiente.iconDocumentosPendientes},null,8,["color","name"])])])])])]),(0,c.Lk)("div",U,[(0,c.Lk)("span",null,(0,s.v_)(e.etiqueta3),1)]),(0,c.Lk)("div",y,[(0,c.Lk)("div",T,[(0,c.Lk)("div",I,[(0,c.bF)(we,{flat:"",bordered:""},{default:(0,c.k6)(function(){return[(0,c.bF)(De,{class:"scroll",style:{height:"80px"}},{default:(0,c.k6)(function(){return[e.pago.pagos.length>0?((0,c.uX)(),(0,c.CE)(c.FK,{key:0},[(0,c.bo)((0,c.Lk)("span",null,(0,s.v_)(e.matriculaPendiente.iconCursosPendientes="check_circle"),513),[[i.aG,!1]]),(0,c.Lk)("table",X,[(0,c.Lk)("tbody",null,[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(e.pago.pagos,function(a,n){return(0,c.uX)(),(0,c.CE)(c.FK,null,[(0,c.Lk)("tr",G,[(0,c.Lk)("td",Q,(0,s.v_)(a.NUMTAL)+" - "+(0,s.v_)(a.NUMPAG),1),0===n?((0,c.uX)(),(0,c.CE)(c.FK,{key:0},[t[2]||(t[2]=(0,c.Lk)("td",{class:"text-right q-td"},"Dólares",-1)),t[3]||(t[3]=(0,c.Lk)("td",{class:"text-right q-td"},"Soles",-1))],64)):(0,c.Q3)("v-if",!0)]),(0,c.Lk)("tr",K,[(0,c.Lk)("td",$,(0,s.v_)(a.ANOCOB),1),(0,c.Lk)("td",z,(0,s.v_)(a.MESDES),1),(0,c.Lk)("td",H,(0,s.v_)(a.concepto),1),(0,c.Lk)("td",Y,(0,s.v_)(e.pago.montopagd.toFixed(2)),1),(0,c.Lk)("td",j,(0,s.v_)(e.pago.montopags.toFixed(2)),1)]),(0,c.Lk)("tr",B,[(0,c.Lk)("td",J,[(0,c.bF)(Ee)])]),(0,c.Lk)("tr",V,[t[4]||(t[4]=(0,c.Lk)("td",{class:"q-td text-bold",colspan:"3"},"Total Pagos",-1)),(0,c.Lk)("td",W,(0,s.v_)(e.pago.totald.toFixed(2)),1),(0,c.Lk)("td",Z,(0,s.v_)(e.pago.totals.toFixed(2)),1)])],64)}),256))])])],64)):(0,c.Q3)("v-if",!0)]}),_:1}),(0,c.bF)(De,null,{default:(0,c.k6)(function(){return[(0,c.Lk)("span",null,(0,s.v_)(e.pago.mensaje_Seguro),1)]}),_:1})]}),_:1})]),(0,c.Lk)("div",null,[(0,c.Lk)("div",ee,[(0,c.Lk)("div",te,[(0,c.bF)(Ae,{size:"25px",color:"cancel"===e.matriculaPendiente.iconPagosMatriculas?"negative":"positive",name:e.matriculaPendiente.iconPagosMatriculas},null,8,["color","name"])])])])])]),(0,c.Lk)("div",ae,[(0,c.Lk)("span",null,(0,s.v_)(e.etiqueta4),1)]),(0,c.Lk)("div",ne,[(0,c.Lk)("div",le,[(0,c.Lk)("div",ce,[(0,c.bF)(we,{flat:"",bordered:""},{default:(0,c.k6)(function(){return[(0,c.bF)(De,{class:"scroll",style:{height:"80px"}},{default:(0,c.k6)(function(){return[e.deuda.deudas.length>0?((0,c.uX)(),(0,c.CE)("table",se,[(0,c.Lk)("tbody",null,[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(e.deuda.deudas,function(t,a){return(0,c.uX)(),(0,c.CE)(c.FK,null,[t.hasAlucod?((0,c.uX)(),(0,c.CE)("tr",ie,[(0,c.Lk)("td",null,(0,s.v_)(t.ALUCOD),1),(0,c.Lk)("td",re,(0,s.v_)(t.NOMCOMP),1)])):(0,c.Q3)("v-if",!0),(0,c.Lk)("tr",oe,[(0,c.Lk)("td",ue,(0,s.v_)(t.ANOCOB),1),(0,c.Lk)("td",de,(0,s.v_)(t.MESDES),1),(0,c.Lk)("td",ke,(0,s.v_)(t.CONDES),1),(0,c.Lk)("td",ve,(0,s.v_)(t.NOMNOM),1),(0,c.Lk)("td",me,(0,s.v_)(e.date(t.FECVEN,"DD/MM/YYYY")),1),(0,c.Lk)("td",pe,(0,s.v_)(t.MONTOPEN.toFixed(2)),1)]),(0,c.Lk)("tr",Le,[(0,c.Lk)("td",fe,[(0,c.bF)(Ee)])])],64)}),256)),(0,c.Lk)("tr",Ce,[t[5]||(t[5]=(0,c.Lk)("td",{class:"q-td text-bold",colspan:"2"},"Total",-1)),t[6]||(t[6]=(0,c.Lk)("td",{class:"q-td text-bold"},"Dólares",-1)),(0,c.Lk)("td",Oe,(0,s.v_)(e.deuda.totald.toFixed(2)),1),t[7]||(t[7]=(0,c.Lk)("td",{class:"q-td text-bold"},"Soles",-1)),(0,c.Lk)("td",ge,(0,s.v_)(e.deuda.totals.toFixed(2)),1)])])])):(0,c.Q3)("v-if",!0)]}),_:1})]}),_:1})]),(0,c.Lk)("div",null,[(0,c.Lk)("div",he,[(0,c.Lk)("div",Pe,[(0,c.bF)(Ae,{size:"25px",color:"cancel"===e.matriculaPendiente.iconDeudasPendientes?"negative":"positive",name:e.matriculaPendiente.iconDeudasPendientes},null,8,["color","name"])])])])])])])])])]}),_:1})]}),_:1})]}),_:1})}var De=a(76080),we=a.n(De),Ae=a(45254),Ee=a.n(Ae),xe=(a(52133),a(89571),a(50310),a(6724),a(11777),a(83190),a(6123)),Ne={data:function(){return{config:{},rows:[],fields:[{name:"ALUCOD",label:"Código",field:"ALUCOD",align:"center",sortable:!0},{name:"NOMCOMP",label:"Apellidos y Nombres",field:"NOMCOMP",align:"left",sortable:!0}]}}},_e=a(88567),Me=a(95718),qe=a(57668),Re=a(53380),Fe=a(18105),Se=a(2819),Ue={components:{QCard:_e.A,QCardSection:Me.A,QSeparator:Re.A,QPage:xe.Tu,QIcon:xe.bP},mixins:[Ne],data:function(){return{buttons:[{label:"Matricular a todos",icon:"settings",click:this.matricularAlumnos}],buttonsMatricula:[{label:"Matricular",icon:"check",click:this.matricularAlumno}],etiqueta1:"CURSOS PENDIENTES DE RECUPERACIÓN",etiqueta2:"DOCUMENTOS PENDIENTES",etiqueta3:"PAGOS REALIZADOS",etiqueta4:"DEUDA PENDIENTE",sie:(0,qe["default"])(),aviso:"",currentRow:"",matriculaPendiente:{deuda:[],pago:[],valida:{document:[]},dataCursos:[],iconCursosPendientes:"check_circle",iconDocumentosPendientes:"check_circle",iconPagosMatriculas:"cancel",iconDeudasPendientes:"check_circle"}}},computed:{pago:function(){var e=0,t=0;return this.matriculaPendiente.pago.map(function(a){var n=0,l=0;"001"===a.MONCOD?(e+=Number(a.MONTOPAG||0),n=a.MONTOPAG||0,l=0):(t+=a.MONTOPAG||0,l=a.MONTOPAG||0,n=0);var c=a.CONDES;a.montopags=n,a.montopagd=l,a.concepto=c,Number(a.MONTOPAG||0)===Number(a.MONTOMOR||0)&&(c+=" (Mora)")}),{pagos:this.matriculaPendiente.pago,mensaje_Seguro:this.matriculaPendiente.mensaje_Seguro,totals:e,totald:t}},deuda:function(){var e="",t=0,a=0;return this.matriculaPendiente.deuda.map(function(n){var l=0,c=0;n.hasAlucod=!1,e!==n.ALUCOD&&(e=n.ALUCOD,n.hasAlucod=!0),"001"===n.MONCOD?(l+=n.MONTOPEN,t+=n.MONTOPEN):(c+=n.MONTOPEN,a+=n.MONTOPEN),n.subtalums=l,n.subtalumd=c}),{deudas:this.matriculaPendiente.deuda,totals:t,totald:a}}},methods:{date:Fe.Ay,selectAlumno:function(e,t){var a=this;return Ee()(we()().m(function n(){return we()().w(function(n){while(1)switch(n.n){case 0:return a.currentRow=t,n.n=1,a.registroMatriculaPendiente(e.ALUCOD);case 1:return n.a(2)}},n)}))()},matricularAlumno:function(){var e=this;return Ee()(we()().m(function t(){var a,n,l;return we()().w(function(t){while(1)switch(t.p=t.n){case 0:return t.p=0,t.n=1,e.$confirmar("¿Está seguro de realizar la matrícula?","info");case 1:if(a=t.v,!a){t.n=4;break}return t.n=2,e.$http.post("api/HyoMatricula/matricularAlumno",{alucod:e.currentRow.ALUCOD});case 2:return e.rows.splice(e.rows.indexOf(e.currentRow),1),t.n=3,e.$confirmar("Atención-¿Desea imprimir Constancia de Matrícula?",{icon:"file_pdf_o",color:"negative"});case 3:n=t.v,n&&(l={},l="0026"===e.sie.colcod?{ALUCOD:e.currentRow.ALUCOD,ALUCOD1:e.currentRow.ALUCOD,ANO:e.sie.ano,INSTRUCOD:e.currentRow.INSTRUCOD,GRADOCOD:e.currentRow.GRADOCOD,SECCIONCOD:e.currentRow.SECCIONCOD,colcod:e.sie.colcod,formato:"pdf",desde:"matricula",report_cod:"185",repcod:"nuevoReporteAcademico"}:{alucod:e.currentRow.ALUCOD,nomcomp:e.currentRow.NOMCOMP,instrudes:e.matriculaPendiente.datos.INSTRUDES,instrucod:e.currentRow.INSTRUCOD,gradocod:e.currentRow.GRADOCOD,seccioncod:e.currentRow.SECCIONCOD,cantdocs:e.matriculaPendiente.valida.document.length,cantpendts:e.matriculaPendiente.dataCursos.length,report_cod:e.matriculaPendiente.action,repcod:"nuevoReporteAcademico"},(0,Se.exportFilePhp)(l,"webservice/reportes/reporte"),e.$notify("Alumno matriculado","success"),e.currentRow="");case 4:t.n=6;break;case 5:t.p=5,t.v,e.$notify("No ha sido posible matricular al alumno","warning");case 6:return t.a(2)}},t,null,[[0,5]])}))()},matricularAlumnos:function(){var e=this;return Ee()(we()().m(function t(){var a;return we()().w(function(t){while(1)switch(t.p=t.n){case 0:return t.n=1,e.$confirmar("¿Está seguro de realizar la matrícula a todos los alumnos?","info");case 1:if(a=t.v,!a){t.n=5;break}return t.p=2,t.n=3,e.$http.post("api/HyoMatricula/matricularAlumnos");case 3:e.$notify("Alumnos matriculados","success"),e.rows=[],t.n=5;break;case 4:t.p=4,t.v,e.$notify("No ha sido posible matricular a los alumnos","warning");case 5:return t.a(2)}},t,null,[[2,4]])}))()},listarMatriculados:function(){var e=this;return Ee()(we()().m(function t(){return we()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,e.$http.get("api/HyoAlumnos/alumnosListaMatricula");case 1:e.rows=t.v;case 2:return t.a(2)}},t)}))()},registroMatriculaPendiente:function(){var e=arguments,t=this;return Ee()(we()().m(function a(){var n;return we()().w(function(a){while(1)switch(a.n){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:"20230370",a.n=1,t.$http.get("api/HyoMatricula/registroMatriculaPendiente",{params:{alucod:n}});case 1:t.matriculaPendiente=a.v,t.matriculaPendiente.iconCursosPendientes="check_circle",t.matriculaPendiente.iconDocumentosPendientes="check_circle",t.matriculaPendiente.iconPagosMatriculas="cancel",t.matriculaPendiente.iconDeudasPendientes="check_circle";case 2:return a.a(2)}},a)}))()}},created:function(){var e=this;return Ee()(we()().m(function t(){var a,n;return we()().w(function(t){while(1)switch(t.n){case 0:a=e.sie.colcod,n=a,t.n="0026"===n?1:"0032"===n?2:"0078"===n?3:4;break;case 1:return e.etiqueta1="TERAPIA / CURSOS RECUPERACIÓN",e.etiqueta4="DEUDA DE AÑOS ANTERIORES",e.aviso="¿Desea imprimir Ficha de Matrícula?",t.a(3,5);case 2:return e.aviso="¿Desea imprimir Convenio Económico?",t.a(3,5);case 3:return e.aviso="",t.a(3,5);case 4:return e.aviso="",t.a(3,5);case 5:return t.n=6,e.listarMatriculados();case 6:return t.a(2)}},t)}))()}},ye=a(12807);const Te=(0,ye.A)(Ue,[["render",be]]);var Ie=Te}}]);