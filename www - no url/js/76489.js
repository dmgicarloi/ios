"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[76489],{76489:function(e,o,a){a.r(o),a.d(o,{default:function(){return ta}});var n=a(8445),l=a.n(n),t=a(61758);function r(e,o){var a=(0,t.g2)("q-toolbar-title"),n=(0,t.g2)("q-toolbar"),r=(0,t.g2)("q-tab"),i=(0,t.g2)("notas"),u=(0,t.g2)("notasfull"),s=(0,t.g2)("q-tab-pane"),d=(0,t.g2)("conducta"),c=(0,t.g2)("conductaZend"),f=(0,t.g2)("equivalencia"),p=(0,t.g2)("libretas"),C=(0,t.g2)("firmas"),m=(0,t.g2)("cae"),O=(0,t.g2)("cursosEspeciales"),b=(0,t.g2)("q-tabs"),A=(0,t.g2)("q-page");return(0,t.uX)(),(0,t.Wv)(A,null,{default:(0,t.k6)(function(){return[(0,t.bF)(n,{class:"shadow-2 z-fab",inverted:""},{default:(0,t.k6)(function(){return[(0,t.bF)(a,{class:"q-pa-none"},{default:(0,t.k6)(function(){return l()(o[0]||(o[0]=[(0,t.eW)("Parámetros Notas",-1)]))}),_:1})]}),_:1}),(0,t.bF)(b,{class:"q-tabs-flex bg-white q-mt-md",inverted:"",animated:""},{title:(0,t.k6)(function(){return[(0,t.bF)(r,{name:"tab-1",label:"Notas",default:""}),(0,t.bF)(r,{name:"tab-2",label:"Conducta"}),(0,t.bF)(r,{name:"tab-3",label:"Equivalencias"}),e.isStart?((0,t.uX)(),(0,t.Wv)(r,{key:0,name:"tab-4",label:"Informe de Progreso"})):(0,t.Q3)("v-if",!0),(0,t.bF)(r,{name:"tab-5",label:"Firmas"}),(0,t.bF)(r,{name:"tab-6",label:"Cierre de Año"}),e.isCursoEspecial?((0,t.uX)(),(0,t.Wv)(r,{key:1,name:"tab-7",label:"Cursos Especiales"})):(0,t.Q3)("v-if",!0)]}),default:(0,t.k6)(function(){return[(0,t.bF)(s,{name:"tab-1"},{default:(0,t.k6)(function(){return[e.isStart?((0,t.uX)(),(0,t.Wv)(i,{key:0,acceso:e.acceso},null,8,["acceso"])):((0,t.uX)(),(0,t.Wv)(u,{key:1,acceso:e.acceso},null,8,["acceso"]))]}),_:1}),(0,t.bF)(s,{name:"tab-2"},{default:(0,t.k6)(function(){return[e.isConductaZend?((0,t.uX)(),(0,t.Wv)(d,{key:0,acceso:e.acceso},null,8,["acceso"])):((0,t.uX)(),(0,t.Wv)(c,{key:1,acceso:e.acceso},null,8,["acceso"]))]}),_:1}),(0,t.bF)(s,{name:"tab-3"},{default:(0,t.k6)(function(){return[(0,t.bF)(f,{acceso:e.acceso},null,8,["acceso"])]}),_:1}),e.isStart?((0,t.uX)(),(0,t.Wv)(s,{key:0,name:"tab-4"},{default:(0,t.k6)(function(){return[(0,t.bF)(p,{acceso:e.acceso},null,8,["acceso"])]}),_:1})):(0,t.Q3)("v-if",!0),(0,t.bF)(s,{name:"tab-5"},{default:(0,t.k6)(function(){return[(0,t.bF)(C,{acceso:e.acceso},null,8,["acceso"])]}),_:1}),(0,t.bF)(s,{name:"tab-6"},{default:(0,t.k6)(function(){return[(0,t.bF)(m,{acceso:e.acceso},null,8,["acceso"])]}),_:1}),e.isCursoEspecial?((0,t.uX)(),(0,t.Wv)(s,{key:1,name:"tab-7"},{default:(0,t.k6)(function(){return[(0,t.bF)(O,{acceso:e.acceso},null,8,["acceso"])]}),_:1})):(0,t.Q3)("v-if",!0)]}),_:1})]}),_:1})}var i=a(76080),u=a.n(i),s=a(45254),d=a.n(s),c=a(6123),f=a(58790),p={class:"row gutter-sm"},C={key:1,class:"col column items-center justify-center"},m={class:"column q-pa-md"},O={class:"col row"},b={class:"col-2"},A={class:"col-4"},N={class:"col"},v={class:"col row"},E={class:"col"},R={class:"col"},I={key:0,class:"col row items-center gutter-sm"},S={class:"col"},g={key:0},T={key:1},h={class:"col"},D={class:"col"},_={class:"col"},U={class:"col"},V={key:0,class:"col"},F={key:1,class:"col row items-center gutter-xs"},k={class:"col"},L={class:"col"},P={class:"col"},q={class:"col"},w={key:2,class:"col row items-center gutter-xs"},y={class:"col"},G={class:"col"},M={class:"col"},$={class:"col"},Q={key:3,class:"col row items-center gutter-xs"},B={class:"col"},W={class:"col"},H={class:"col"},j={class:"col"},X={key:4,class:"col row items-center gutter-xs"},x={class:"col"},z={class:"col"},Y={key:5,class:"row"},J={class:"col"},Z={class:"col"},K={key:6,class:"row"},ee={class:"col"},oe={class:"col"},ae={key:0,class:"col"},ne={class:"col"},le={class:"col"},te={class:"row"},re={class:"col"},ie={class:"col"},ue={class:"col"},se={class:"col"},de={class:"col"};function ce(e,o){var a=(0,t.g2)("q-card-title"),n=(0,t.g2)("q-card-separator"),r=(0,t.g2)("q-tooltip"),i=(0,t.g2)("q-btn"),u=(0,t.g2)("q-card-actions"),s=(0,t.g2)("q-card"),d=(0,t.g2)("sie-vacio"),c=(0,t.g2)("sie-select"),ce=(0,t.g2)("q-dialog"),fe=(0,t.g2)("q-page-sticky"),pe=(0,t.g2)("q-input"),Ce=(0,t.g2)("q-field"),me=(0,t.g2)("q-toggle"),Oe=(0,t.g2)("sie-modal");return(0,t.uX)(),(0,t.CE)("div",p,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.listConfig,function(c){return(0,t.uX)(),(0,t.CE)("div",{key:c.ID_CONF,class:"col-4"},[e.listConfig.length?((0,t.uX)(),(0,t.Wv)(s,{key:0,class:"q-pa-sm"},{default:(0,t.k6)(function(){return[(0,t.bF)(a,null,{subtitle:(0,t.k6)(function(){return[(0,t.Lk)("span",null,(0,f.v_)(c.INSTRUDES)+" "+(0,f.v_)(c.GRADODES),1)]}),default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(c.DESCRIPCION),1)]}),_:2},1024),(0,t.bF)(n),(0,t.bF)(u,null,{default:(0,t.k6)(function(){return[(0,t.bF)(i,{outline:"",color:"primary",icon:"edit",onClick:function(o){return e.openEditForm(c.ID_CONF)},disable:!e.acceso},{default:(0,t.k6)(function(){return[(0,t.bF)(r,{anchor:"bottom middle",self:"top middle"},{default:(0,t.k6)(function(){return l()(o[41]||(o[41]=[(0,t.eW)("Editar",-1)]))}),_:1})]}),_:1},8,["onClick","disable"]),(0,t.bF)(i,{outline:"",color:"primary",icon:"remove_red_eye",onClick:function(o){return e.cargarVistaPrevia(c)}},{default:(0,t.k6)(function(){return[(0,t.bF)(r,{anchor:"bottom middle",self:"top middle"},{default:(0,t.k6)(function(){return l()(o[42]||(o[42]=[(0,t.eW)("Vista previa",-1)]))}),_:1})]}),_:1},8,["onClick"]),(0,t.bF)(i,{outline:"",color:"negative",icon:"delete",onClick:function(o){return e.deleteConf(c.ID_CONF)},disable:!e.acceso},{default:(0,t.k6)(function(){return[(0,t.bF)(r,{anchor:"bottom middle",self:"top middle"},{default:(0,t.k6)(function(){return l()(o[43]||(o[43]=[(0,t.eW)("Eliminar",-1)]))}),_:1})]}),_:1},8,["onClick","disable"])]}),_:2},1024)]}),_:2},1024)):((0,t.uX)(),(0,t.CE)("div",C,[(0,t.bF)(d,{class:"col",icon:"document_table"})]))])}),128)),(0,t.bF)(ce,{modelValue:e.openVistaPrevia,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.openVistaPrevia=o}),"prevent-close":"",ok:"Imprimir",cancel:"Cancelar",onOk:e.generarVistaPrevia},{title:(0,t.k6)(function(){return l()(o[44]||(o[44]=[(0,t.Lk)("span",null,"Salones",-1)]))}),message:(0,t.k6)(function(){return l()(o[45]||(o[45]=[(0,t.Lk)("span",null,"Debe seleccionar un salón para generar la vista previa de su libreta",-1)]))}),body:(0,t.k6)(function(){return[(0,t.Lk)("div",null,[(0,t.bF)(c,{type:"outlined",modelValue:e.formVistaPrevia.NEMO,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.formVistaPrevia.NEMO=o}),options:e.optSalones,val:"NEMO",label:"NEMODES",placeholder:"Seleccione salón"},null,8,["modelValue","options"])])]}),_:1},8,["modelValue","onOk"]),e.acceso?((0,t.uX)(),(0,t.Wv)(fe,{key:0,expand:"",position:"bottom-right",offset:[20,20]},{default:(0,t.k6)(function(){return[(0,t.bF)(i,{fab:"",round:"",color:"secondary",icon:"add",onClick:e.openNewForm},null,8,["onClick"])]}),_:1})):(0,t.Q3)("v-if",!0),(0,t.bF)(Oe,{modelValue:e.showModalConf,"onUpdate:modelValue":o[40]||(o[40]=function(o){return e.showModalConf=o}),title:e.titleModal,ok:"Guardar",css:{minWidth:"60vw"},onSubmit:e.guardar,onClose:e.limpiar},{default:(0,t.k6)(function(){return[(0,t.Lk)("div",m,[(0,t.Lk)("div",O,[(0,t.Lk)("div",b,[(0,t.bF)(pe,{class:"q-if-outlined",modelValue:e.formConf.ANO,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.formConf.ANO=o}),"float-label":"Año",disable:""},null,8,["modelValue"])]),(0,t.Lk)("div",A,[(0,t.bF)(Ce,{"error-label":e.$t("validaciones.requerido"),error:e.v$.formConf.FORMATO.$error},{default:(0,t.k6)(function(){return[(0,t.bF)(c,{type:"outlined",modelValue:e.formConf.FORMATO,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.formConf.FORMATO=o}),options:e.optPlantilla,val:"value",label:"label",placeholder:"Plantilla",onSelected:e.cargarConfigSiagie,onBlur:e.v$.formConf.FORMATO.$touch},null,8,["modelValue","options","onSelected","onBlur"])]}),_:1},8,["error-label","error"])]),(0,t.Lk)("div",N,[(0,t.bF)(Ce,{"error-label":e.$t("validaciones.requerido")},{default:(0,t.k6)(function(){return[(0,t.bF)(pe,{class:"q-if-outlined",modelValue:e.formConf.DESCRIPCION,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.formConf.DESCRIPCION=o}),"float-label":"Descripción",onBlur:e.v$.formConf.DESCRIPCION.$touch,error:e.v$.formConf.DESCRIPCION.$error},null,8,["modelValue","onBlur","error"])]}),_:1},8,["error-label"])])]),(0,t.Lk)("div",v,[(0,t.Lk)("div",E,[(0,t.bF)(Ce,{"error-label":e.$t("validaciones.requerido"),error:e.v$.formConf.INSTRUCOD.$error},{default:(0,t.k6)(function(){return[(0,t.bF)(c,{type:"outlined",modelValue:e.formConf.INSTRUCOD,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.formConf.INSTRUCOD=o}),onSelected:e.getListaGrados,options:e.optInstru,val:"INSTRUCOD",label:"INSTRUDES",placeholder:"Nivel",onBlur:e.v$.formConf.INSTRUCOD.$touch},null,8,["modelValue","onSelected","options","onBlur"])]}),_:1},8,["error-label","error"])]),(0,t.Lk)("div",R,[(0,t.bF)(Ce,{"error-label":e.$t("validaciones.requerido"),error:e.v$.formConf.GRADOCOD.$error},{default:(0,t.k6)(function(){return[(0,t.bF)(c,{type:"outlined",modelValue:e.formConf.GRADOCOD,"onUpdate:modelValue":o[6]||(o[6]=function(o){return e.formConf.GRADOCOD=o}),options:e.optGrado,val:"GRADOCOD",label:"GRADODES",placeholder:"Grado",onBlur:e.v$.formConf.GRADOCOD.$touch},null,8,["modelValue","options","onBlur"])]}),_:1},8,["error-label","error"])])]),5!==e.formConf.FORMATO?((0,t.uX)(),(0,t.CE)("div",I,[(0,t.Lk)("div",S,[e.esSiagie?((0,t.uX)(),(0,t.CE)("div",g,[(0,t.bF)(me,{modelValue:e.formConf.MOSTRAR_ESCUDO,"onUpdate:modelValue":o[7]||(o[7]=function(o){return e.formConf.MOSTRAR_ESCUDO=o}),label:"Mostrar escudo","true-value":1,"false-value":0,disable:e.esSiagie,"left-label":""},null,8,["modelValue","disable"])])):((0,t.uX)(),(0,t.CE)("div",T,[(0,t.bF)(me,{modelValue:e.formConf.MOSTRAR_FOTO,"onUpdate:modelValue":o[8]||(o[8]=function(o){return e.formConf.MOSTRAR_FOTO=o}),label:"Mostrar foto","left-label":"","true-value":1,"false-value":0},null,8,["modelValue"])]))]),(0,t.Lk)("div",h,[(0,t.bF)(me,{modelValue:e.formConf.MOSTRAR_INSIGNIA,"onUpdate:modelValue":o[9]||(o[9]=function(o){return e.formConf.MOSTRAR_INSIGNIA=o}),label:"Mostrar insignia",disable:e.esSiagie,"left-label":"","true-value":1,"false-value":0},null,8,["modelValue","disable"])]),(0,t.Lk)("div",D,[(0,t.bF)(me,{modelValue:e.formConf.MOSTRAR_ESTADISTICA,"onUpdate:modelValue":o[10]||(o[10]=function(o){return e.formConf.MOSTRAR_ESTADISTICA=o}),label:"Mostrar Estadística",disable:e.esSiagie,"left-label":"","true-value":1,"false-value":0},null,8,["modelValue","disable"])]),(0,t.Lk)("div",_,[(0,t.bF)(me,{modelValue:e.formConf.CON_CRITERIOS,"onUpdate:modelValue":o[11]||(o[11]=function(o){return e.formConf.CON_CRITERIOS=o}),label:"Niveles de evaluación",disable:e.esSiagie,"left-label":"","true-value":1,"false-value":0},null,8,["modelValue","disable"])]),(0,t.Lk)("div",U,[(0,t.bF)(me,{modelValue:e.formConf.OCULTA_INTERNOS,"onUpdate:modelValue":o[12]||(o[12]=function(o){return e.formConf.OCULTA_INTERNOS=o}),label:"Oculta internos",disable:e.esSiagie,"left-label":"","true-value":1,"false-value":0},null,8,["modelValue","disable"])]),4!==e.formConf.FORMATO?((0,t.uX)(),(0,t.CE)("div",V,[(0,t.bF)(me,{modelValue:e.formConf.VER_SITUACION_FINAL,"onUpdate:modelValue":o[13]||(o[13]=function(o){return e.formConf.VER_SITUACION_FINAL=o}),label:"Ver Situación Final","left-label":"","true-value":1,"false-value":0},null,8,["modelValue"])])):(0,t.Q3)("v-if",!0)])):(0,t.Q3)("v-if",!0),4===e.formConf.FORMATO?((0,t.uX)(),(0,t.CE)("div",F,[(0,t.Lk)("div",k,[(0,t.bF)(me,{modelValue:e.formConf.CABECERA_SIAGIE,"onUpdate:modelValue":o[14]||(o[14]=function(o){return e.formConf.CABECERA_SIAGIE=o}),label:"Cabecera Siagie","left-label":"","true-value":1,"false-value":0},null,8,["modelValue"])]),(0,t.Lk)("div",L,[(0,t.bF)(me,{modelValue:e.formConf.MOSTRAR_CA,"onUpdate:modelValue":o[15]||(o[15]=function(o){return e.formConf.MOSTRAR_CA=o}),label:"Mostrar Competencia Anual","left-label":"","true-value":1,"false-value":0},null,8,["modelValue"])]),(0,t.Lk)("div",P,[(0,t.bF)(me,{modelValue:e.formConf.MOSTRAR_NF,"onUpdate:modelValue":o[16]||(o[16]=function(o){return e.formConf.MOSTRAR_NF=o}),label:"Mostrar nota final","left-label":"","true-value":1,"false-value":0},null,8,["modelValue"])]),(0,t.Lk)("div",q,[(0,t.bF)(me,{modelValue:e.formConf.MOSTRAR_CONDES,"onUpdate:modelValue":o[17]||(o[17]=function(o){return e.formConf.MOSTRAR_CONDES=o}),label:"Con Conclusion Descriptiva","left-label":"","true-value":1,"false-value":0},null,8,["modelValue"])])])):(0,t.Q3)("v-if",!0),4===e.formConf.FORMATO?((0,t.uX)(),(0,t.CE)("div",w,[(0,t.Lk)("div",y,[(0,t.bF)(me,{modelValue:e.formConf.OCULTAR_NJ,"onUpdate:modelValue":o[18]||(o[18]=function(o){return e.formConf.OCULTAR_NJ=o}),label:"Ocultar nota jalada","left-label":"","true-value":1,"false-value":0},null,8,["modelValue"])]),(0,t.Lk)("div",G,[(0,t.bF)(me,{modelValue:e.formConf.TODOTIPOEVA,"onUpdate:modelValue":o[19]||(o[19]=function(o){return e.formConf.TODOTIPOEVA=o}),label:"Mostrar Toda Evaluación","left-label":"","true-value":1,"false-value":0},null,8,["modelValue"])]),(0,t.Lk)("div",M,[(0,t.bF)(me,{modelValue:e.formConf.NIVELLOGRO,"onUpdate:modelValue":o[20]||(o[20]=function(o){return e.formConf.NIVELLOGRO=o}),label:"Mostrar Nivel de Logro","left-label":"","true-value":1,"false-value":0},null,8,["modelValue"])]),(0,t.Lk)("div",$,[(0,t.bF)(me,{modelValue:e.formConf.MOSTRAR_ASISTENCIA,"onUpdate:modelValue":o[21]||(o[21]=function(o){return e.formConf.MOSTRAR_ASISTENCIA=o}),label:"Mostrar Asistencia","left-label":"","true-value":1,"false-value":0},null,8,["modelValue"])])])):(0,t.Q3)("v-if",!0),4===e.formConf.FORMATO?((0,t.uX)(),(0,t.CE)("div",Q,[(0,t.Lk)("div",B,[(0,t.bF)(me,{modelValue:e.formConf.MOSTRAR_ANEXO,"onUpdate:modelValue":o[22]||(o[22]=function(o){return e.formConf.MOSTRAR_ANEXO=o}),label:"Mostrar Anexo (Internos)","left-label":"","true-value":1,"false-value":0},null,8,["modelValue"])]),(0,t.Lk)("div",W,[(0,t.bF)(me,{modelValue:e.formConf.MOSTRAR_FORMATIVO,"onUpdate:modelValue":o[23]||(o[23]=function(o){return e.formConf.MOSTRAR_FORMATIVO=o}),label:"Mostrar Formativo","left-label":"","true-value":1,"false-value":0},null,8,["modelValue"])]),(0,t.Lk)("div",H,[(0,t.bF)(c,{type:"outlined",modelValue:e.formConf.NIVEL_CONDUCTA,"onUpdate:modelValue":o[24]||(o[24]=function(o){return e.formConf.NIVEL_CONDUCTA=o}),options:e.optMostrarNivelCond,val:"value",label:"label",placeholder:"Nivel de Conducta hasta"},null,8,["modelValue","options"])]),(0,t.Lk)("div",j,[(0,t.bF)(me,{modelValue:e.formConf.OCULTAR_PBCOND,"onUpdate:modelValue":o[25]||(o[25]=function(o){return e.formConf.OCULTAR_PBCOND=o}),label:"Ocultar Pb Conducta","left-label":"","true-value":1,"false-value":0},null,8,["modelValue"])])])):(0,t.Q3)("v-if",!0),4===e.formConf.FORMATO?((0,t.uX)(),(0,t.CE)("div",X,[(0,t.Lk)("div",x,[(0,t.bF)(me,{modelValue:e.formConf.VER_SITUACION_FINAL,"onUpdate:modelValue":o[26]||(o[26]=function(o){return e.formConf.VER_SITUACION_FINAL=o}),label:"Ver Situación Final","left-label":"","true-value":1,"false-value":0},null,8,["modelValue"])]),(0,t.Lk)("div",z,[(0,t.bF)(me,{modelValue:e.formConf.MOSTRAR_FIRMA_TUTOR,"onUpdate:modelValue":o[27]||(o[27]=function(o){return e.formConf.MOSTRAR_FIRMA_TUTOR=o}),label:"Mostrar Firma Tutor","left-label":"","true-value":1,"false-value":0},null,8,["modelValue"])])])):(0,t.Q3)("v-if",!0),e.formConf.CON_CRITERIOS&&!e.esSiagie&&5!==e.formConf.FORMATO?((0,t.uX)(),(0,t.CE)("div",Y,[(0,t.Lk)("div",J,[(0,t.bF)(c,{type:"outlined",modelValue:e.formConf.NIVEL_EVA,"onUpdate:modelValue":o[28]||(o[28]=function(o){return e.formConf.NIVEL_EVA=o}),options:e.optMostrarNivel,val:"value",label:"label",placeholder:"Nivel de Notas hasta"},null,8,["modelValue","options"])]),(0,t.Lk)("div",Z,[(0,t.bF)(c,{type:"outlined",modelValue:e.formConf.OCULTA_NIVEL,"onUpdate:modelValue":o[29]||(o[29]=function(o){return e.formConf.OCULTA_NIVEL=o}),options:e.optOcultaNivel,val:"value",label:"label",placeholder:"Ocultar el nivel"},null,8,["modelValue","options"])])])):(0,t.Q3)("v-if",!0),5!==e.formConf.FORMATO?((0,t.uX)(),(0,t.CE)("div",K,[(0,t.Lk)("div",ee,[(0,t.bF)(me,{modelValue:e.formConf.OCULTAR_PERIODO,"onUpdate:modelValue":o[30]||(o[30]=function(o){return e.formConf.OCULTAR_PERIODO=o}),label:"Ocultar periodo","left-label":"","true-value":1,"false-value":0},null,8,["modelValue"])]),(0,t.Lk)("div",oe,[(0,t.bF)(Ce,{"error-label":e.$t("validaciones.requerido"),error:e.v$.formConf.PERIODO.$error},{default:(0,t.k6)(function(){return[(0,t.bF)(c,{type:"outlined",disable:3===e.formConf.FORMATO,modelValue:e.formConf.PERIODO,"onUpdate:modelValue":o[31]||(o[31]=function(o){return e.formConf.PERIODO=o}),options:e.optPeriodo,val:"value",label:"label",placeholder:"Periodos a mostrar",onBlur:e.v$.formConf.PERIODO.$touch},null,8,["disable","modelValue","options","onBlur"])]}),_:1},8,["error-label","error"])]),"S"===e.formConf.PERIODO?((0,t.uX)(),(0,t.CE)("div",ae,[(0,t.bF)(me,{modelValue:e.formConf.MOSTRAR_NF,"onUpdate:modelValue":o[32]||(o[32]=function(o){return e.formConf.MOSTRAR_NF=o}),label:"Mostrar nota final en el último periodo","left-label":"","true-value":1,"false-value":0},null,8,["modelValue"])])):(0,t.Q3)("v-if",!0),(0,t.Lk)("div",ne,[(0,t.bF)(Ce,{"error-label":e.$t("validaciones.requerido"),error:e.v$.formConf.EQUI_NOTA.$error},{default:(0,t.k6)(function(){return[(0,t.bF)(c,{type:"outlined",modelValue:e.formConf.EQUI_NOTA,"onUpdate:modelValue":o[33]||(o[33]=function(o){return e.formConf.EQUI_NOTA=o}),options:e.optEqui,val:"value",label:"label",placeholder:"Convertir a letras - Notas",onBlur:e.v$.formConf.EQUI_NOTA.$touch},null,8,["modelValue","options","onBlur"])]}),_:1},8,["error-label","error"])]),(0,t.Lk)("div",le,[(0,t.bF)(Ce,{"error-label":e.$t("validaciones.requerido"),error:e.v$.formConf.EQUI_CONDU.$error},{default:(0,t.k6)(function(){return[(0,t.bF)(c,{type:"outlined",modelValue:e.formConf.EQUI_CONDU,"onUpdate:modelValue":o[34]||(o[34]=function(o){return e.formConf.EQUI_CONDU=o}),options:e.optEqui,val:"value",label:"label",placeholder:"Convertir a letras - Conducta",onBlur:e.v$.formConf.EQUI_CONDU.$touch},null,8,["modelValue","options","onBlur"])]}),_:1},8,["error-label","error"])])])):(0,t.Q3)("v-if",!0),(0,t.Lk)("div",te,[(0,t.Lk)("div",re,[(0,t.bF)(c,{type:"outlined",modelValue:e.formConf.TAMANO_PAPEL,"onUpdate:modelValue":o[35]||(o[35]=function(o){return e.formConf.TAMANO_PAPEL=o}),disable:e.esSiagie||5===e.formConf.FORMATO,options:e.optTamano,val:"value",label:"label",placeholder:"Tamaño de papel"},null,8,["modelValue","disable","options"])]),(0,t.Lk)("div",ie,[(0,t.bF)(Ce,{"error-label":e.$t("validaciones.requerido"),error:e.v$.formConf.ORIENTACION.$error},{default:(0,t.k6)(function(){return[(0,t.bF)(c,{type:"outlined",modelValue:e.formConf.ORIENTACION,"onUpdate:modelValue":o[36]||(o[36]=function(o){return e.formConf.ORIENTACION=o}),disable:e.esSiagie||5===e.formConf.FORMATO,options:e.optOrientacion,val:"value",label:"label",placeholder:"Orientación del papel",onBlur:e.v$.formConf.ORIENTACION.$touch},null,8,["modelValue","disable","options","onBlur"])]}),_:1},8,["error-label","error"])]),(0,t.Lk)("div",ue,[(0,t.bF)(Ce,{"error-label":e.$t("validaciones.requerido"),error:e.v$.formConf.COLUMNAS.$error},{default:(0,t.k6)(function(){return[(0,t.bF)(c,{type:"outlined",modelValue:e.formConf.COLUMNAS,"onUpdate:modelValue":o[37]||(o[37]=function(o){return e.formConf.COLUMNAS=o}),disable:e.esSiagie||5===e.formConf.FORMATO,options:e.optColumnas,val:"value",label:"label",placeholder:"Número de columnas",onBlur:e.v$.formConf.COLUMNAS.$touch},null,8,["modelValue","disable","options","onBlur"])]}),_:1},8,["error-label","error"])]),(0,t.Lk)("div",se,[(0,t.bF)(pe,{class:"q-if-outlined",modelValue:e.formConf.ALTURA,"onUpdate:modelValue":o[38]||(o[38]=function(o){return e.formConf.ALTURA=o}),"float-label":"Altura de la fila"},null,8,["modelValue"])]),(0,t.Lk)("div",de,[(0,t.bF)(pe,{class:"q-if-outlined",modelValue:e.formConf.MARGEN_SUP,"onUpdate:modelValue":o[39]||(o[39]=function(o){return e.formConf.MARGEN_SUP=o}),"float-label":"Margen Superior"},null,8,["modelValue"])])])])]}),_:1},8,["modelValue","title","onSubmit","onClose"])])}a(71225),a(10239),a(50310),a(5962),a(83190),a(27153),a(62540),a(68017);var fe=a(83972),pe=a(24729),Ce=a(80340),me=a(30640),Oe=a(93616),be=a(88275),Ae=a(82640),Ne=a(982),ve=a(18105),Ee=a(73922),Re=a(57668),Ie={setup:function(){var e=(0,fe.fG)();return{v$:e}},name:"Libretas",props:{acceso:{type:Boolean,required:!0}},components:{QCard:c.C$,QPopover:c.VM,QInnerLoading:c.SQ,QSpinnerOval:c.VA,QPageSticky:c._U,QDialog:c.OQ,Dialog:pe.A,QToggle:c.c5,sieVacio:Ce.A,sieModal:me.A,notify:Ne["default"],sieSelect:Oe.A,sieSalones:be.Ay,QCardTitle:c.u0,QCardSeparator:c.d6,QCardActions:c.zZ,QBtn:c.Il,QTooltip:c.nC,QInput:c.ie,QField:c.Om},data:function(){return{sie:(0,Re["default"])(),openVistaPrevia:!1,visible:!1,showModalConf:!1,listConfig:[],currentConfig:{},optInstru:[],optGrado:[],optYears:[{label:"2019",value:"2019"}],optPlantilla:[{label:"Formato 1",value:1},{label:"Formato 2",value:2},{label:"Siagie 1",value:3},{label:"Siagie 2",value:4},{label:"Siagie 3",value:5}],optPeriodo:[{label:"Todos los periodos",value:"N"},{label:"Por periodo",value:"S"}],optNivelEva:[{label:"No",value:"N"},{label:"Si",value:"S"}],optEqui:[{label:"Defecto",value:0},{label:"Si",value:1},{label:"Ambos",value:2}],optMostrarNivel:[{label:"Competencia",value:1},{label:"Capacidad",value:2},{label:"Indicador",value:3}],optOcultaNivel:[{label:"Ninguna",value:0},{label:"Competencia",value:1},{label:"Capacidad",value:2},{label:"Competencia y Capacidad",value:99}],optMostrarNivelCond:[{label:"Primer Nivel",value:1},{label:"Segundo Nivel",value:2}],optOrientacion:[{label:"Vertical",value:"P"},{label:"Horizontal",value:"L"}],optColumnas:[{label:"1",value:1},{label:"2",value:2}],optTamano:[{label:"A3",value:"A3"},{label:"A4",value:"A4"},{label:"A5",value:"A5"},{label:"Carta",value:"letter"},{label:"Oficio",value:"legal"}],optSalones:[],formConf:{ANO:(0,Re["default"])().ano,INSTRUCOD:"",GRADOCOD:"",DESCRIPCION:"",FORMATO:"",PERIODO:"",CON_CRITERIOS:1,NIVEL_EVA:null,NIVEL_CONDUCTA:null,OCULTA_NIVEL:null,OCULTA_INTERNOS:0,OCULTAR_NJ:0,OCULTAR_PERIODO:0,EQUI_NOTA:"",EQUI_CONDU:"",ORIENTACION:"",TAMANO_PAPEL:"A4",COLUMNAS:0,ALTURA:4,MARGEN_SUP:9,MOSTRAR_NF:0,MOSTRAR_CA:0,MOSTRAR_ESTADISTICA:0,MOSTRAR_ESCUDO:0,MOSTRAR_INSIGNIA:0,MOSTRAR_FOTO:0,MOSTRAR_ANEXO:0,MOSTRAR_ASISTENCIA:1,MOSTRAR_CONDES:1,CABECERA_SIAGIE:1,MOSTRAR_FORMATIVO:0,NIVELLOGRO:1,TODOTIPOEVA:0,MOSTRAR_FIRMA_TUTOR:1,OCULTAR_PBCOND:0},formVistaPrevia:{NEMO:"",japaram:(0,ve.Ay)(new Date,"DD/MM/YYYY"),repcod:"reporteLibreta",BIMECOD:"1",ANO:(0,ve.Ay)(new Date,"YYYY"),PREVIEW:"S",OPCION:"",UNIDAD:""},isEdit:!1}},methods:{init:function(){this.getListaNivel(),this.obtenerConfig()},obtenerConfig:function(){var e=this;this.$http.get("api/HyoLibreta/getConfig").then(function(o){e.listConfig=o.json})},guardar:function(){this.isEdit?this.editarConfig():this.grabarConfig()},grabarConfig:function(){var e=this;this.v$.$touch(),this.v$.$invalid||this.$http.post("api/HyoLibreta/grabarConf",{data:this.formConf}).then(function(e){(0,Ne["default"])(e.json.message)}).catch(function(e){console.log(e),(0,Ne["default"])(e.error.message,"error")}).finally(function(){e.showModalConf=!1,e.obtenerConfig()})},editarConfig:function(){var e=this,o={id:this.formConf.ID_CONF,data:this.formConf};this.$http.put("api/HyoLibreta/updateConf",o).then(function(e){(0,Ne["default"])(e.json.message)}).catch(function(e){console.log(e),(0,Ne["default"])(e.error.message,"error")}).finally(function(){e.showModalConf=!1,e.obtenerConfig()})},deleteConf:function(e){var o=this;this.$q.dialog({title:"¿Esta seguro de eliminar el registro?",message:"Si elimina, debe volver a configurar la libreta para su visualización",ok:"SI",cancel:"NO"}).onOk(function(){o.$http.delete("api/HyoLibreta/deleteConf",{params:{id:e}}).then(function(e){(0,Ne["default"])(e.json.message)}).catch(function(e){console.log(e),(0,Ne["default"])(e.error.message,"error")}).finally(function(){o.obtenerConfig()})})},openNewForm:function(){this.openModal()},openEditForm:function(e){var o=this;this.isEdit=!0,this.$http.get("api/HyoLibreta/getConfigById",{params:{id:e}}).then(function(e){o.formConf=e.json}).then(function(){o.getListaGrados()}).then(function(){o.openModal()})},openModal:function(){this.showModalConf=!0},cargarVistaPrevia:function(e){var o=this;this.$http.get("api/HyoSalones/getAll",{params:{columns:["NEMO","NEMODES","INSTRUCOD","GRADOCOD"]}}).then(function(a){o.optSalones=a.filter(function(o){var a=e.INSTRUCOD.trim(),n=e.GRADOCOD.trim();return"T"===a?o:"T"===n?o.INSTRUCOD===a:o.INSTRUCOD===a&&o.GRADOCOD===n}),o.openVistaPrevia=!0})},generarVistaPrevia:function(){(0,Ee["default"])({parametros:this.formVistaPrevia,metodo:"POST",nombre:"reporte",url:this.sie.url+"/intranet/reporte-node/reporte",formatoTipo:"formato",formato:"pdf",tipo:"vista"})},getListaNivel:function(){var e=this;this.$http.get("api/HyoInstrus/obtInstru").then(function(o){var a=o.json;a.unshift({INSTRUCOD:"T",INSTRUDES:"Todos",INSTRUANO:0}),e.optInstru=a})},getListaGrados:function(){var e=this;"T"===this.formConf.instrucod?this.grados.push({GRADOCOD:"T",GRADODES:"Todos"}):this.$http.get("api/HyoGradoNivs/obtGrados").then(function(o){var a=o.json;e.optGrado=a.filter(function(o){return o.INSTRUCOD===e.formConf.INSTRUCOD}),e.optGrado.unshift({GRADOCOD:"T",GRADODES:"Todos"})})},cargarConfigSiagie:function(){[5].indexOf(this.formConf.FORMATO)>=0?(this.formConf["ORIENTACION"]="P",this.formConf["TAMANO_PAPEL"]="A3",this.formConf["COLUMNAS"]=1,this.formConf["MOSTRAR_ESCUDO"]=1,this.formConf["MOSTRAR_INSIGNIA"]=1,this.formConf["NIVELLOGRO"]=1,this.formConf["MOSTRAR_ASISTENCIA"]=1,this.formConf["VER_SITUACION_FINAL"]=1,this.formConf["MOSTRAR_FIRMA_TUTOR"]=1):[3,4].indexOf(this.formConf.FORMATO)>=0?(this.formConf["PERIODO"]="N",this.formConf["CON_CRITERIOS"]=1,this.formConf["NIVEL_EVA"]=1,this.formConf["NIVEL_CONDUCTA"]=1,this.formConf["OCULTA_NIVEL"]=0,this.formConf["OCULTA_INTERNOS"]=1,this.formConf["ORIENTACION"]="P",this.formConf["TAMANO_PAPEL"]="A4",this.formConf["COLUMNAS"]=1,this.formConf["MOSTRAR_ESCUDO"]=1,this.formConf["MOSTRAR_INSIGNIA"]=1,this.formConf["MOSTRAR_CONDES"]=1,this.formConf["NIVELLOGRO"]=1,this.formConf["TODOTIPOEVA"]=0,this.formConf["MOSTRAR_FIRMA_TUTOR"]=1,this.formConf["OCULTAR_PBCOND"]=0):(this.formConf["PERIODO"]="",this.formConf["CON_CRITERIOS"]=0,this.formConf["NIVEL_EVA"]=null,this.formConf["OCULTA_NIVEL"]=null,this.formConf["OCULTA_INTERNOS"]=0,this.formConf["ORIENTACION"]="P",this.formConf["TAMANO_PAPEL"]="A4",this.formConf["COLUMNAS"]=1,this.formConf["MOSTRAR_ESCUDO"]=0,this.formConf["MOSTRAR_INSIGNIA"]=0)},limpiar:function(){this.isEdit=!1,this.formConf={ANO:(0,Re["default"])().ano,INSTRUCOD:"",GRADOCOD:"",DESCRIPCION:"",FORMATO:"",PERIODO:"",CON_CRITERIOS:1,NIVEL_EVA:null,NIVEL_CONDUCTA:null,OCULTA_NIVEL:null,OCULTA_INTERNOS:0,OCULTAR_NJ:0,OCULTAR_PERIODO:0,EQUI_NOTA:"",EQUI_CONDU:"",ORIENTACION:"P",TAMANO_PAPEL:"A4",COLUMNAS:1,ALTURA:4,MARGEN_SUP:9,MOSTRAR_NF:0,MOSTRAR_CA:0,MOSTRAR_ESTADISTICA:0,MOSTRAR_ESCUDO:0,MOSTRAR_INSIGNIA:0,MOSTRAR_FOTO:0,MOSTRAR_ASISTENCIA:1,MOSTRAR_CONDES:1,CABECERA_SIAGIE:1,MOSTRAR_FORMATIVO:0,VER_SITUACION_FINAL:1,NIVELLOGRO:1,TODOTIPOEVA:0,MOSTRAR_FIRMA_TUTOR:1,OCULTAR_PBCOND:0},this.v$.$reset()}},validations:{formConf:{DESCRIPCION:{required:Ae.mw},INSTRUCOD:{required:Ae.mw},GRADOCOD:{required:Ae.mw},FORMATO:{required:Ae.mw},PERIODO:{required:Ae.mw},EQUI_NOTA:{required:Ae.mw},EQUI_CONDU:{required:Ae.mw},ORIENTACION:{required:Ae.mw},COLUMNAS:{required:Ae.mw}}},computed:{esSiagie:function(){return-1!==[3,4].indexOf(this.formConf.FORMATO)},titleModal:function(){return(this.isEdit?"Editar":"Añadir")+" configuración de libreta"}},created:function(){this.init()}},Se=a(12807);const ge=(0,Se.A)(Ie,[["render",ce]]);var Te=ge,he={class:"row"},De={class:"col"},_e={class:"row q-pa-sm"},Ue={class:"col-12"},Ve={class:"col-12"},Fe={class:"col-12"};function ke(e,o){var a=(0,t.g2)("q-td"),n=(0,t.g2)("sie-select"),r=(0,t.g2)("q-popup-edit"),i=(0,t.g2)("q-tooltip"),u=(0,t.g2)("q-btn"),s=(0,t.g2)("q-tr"),d=(0,t.g2)("q-table"),c=(0,t.g2)("q-page-sticky"),p=(0,t.g2)("q-field"),C=(0,t.g2)("sie-modal");return(0,t.uX)(),(0,t.CE)("div",he,[(0,t.Lk)("div",De,[(0,t.bF)(d,{data:e.dataConfNotas,columns:e.columns,pagination:e.pagination,"onUpdate:pagination":o[1]||(o[1]=function(o){return e.pagination=o}),"rows-per-page-options":[0],"hide-bottom":""},{body:(0,t.k6)(function(d){return[(0,t.bF)(s,{props:d},{default:(0,t.k6)(function(){return[(0,t.bF)(a,{key:"NIVEL",props:d},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(d.row.NIVEL),1)]}),_:2},1032,["props"]),(0,t.bF)(a,{key:"GRADO",props:d},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(d.row.GRADO),1)]}),_:2},1032,["props"]),(0,t.bF)(a,{key:"LEYENDA",props:d},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(d.row.LEYENDA),1),(0,t.bF)(r,{modelValue:d.row.LEYENDA,"onUpdate:modelValue":function(e){return d.row.LEYENDA=e},disable:!e.acceso,count:""},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{modelValue:e.formConfNotas.ID_CONFIG,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.formConfNotas.ID_CONFIG=o}),type:"outlined",options:e.config,label:"LEYENDA",val:"ID_CONFIG",placeholder:"Notas",onSelected:function(o){return e.editConfig(d.row)}},null,8,["modelValue","options","onSelected"])]}),_:2},1032,["modelValue","onUpdate:modelValue","disable"])]}),_:2},1032,["props"]),(0,t.bF)(a,{key:"acciones",props:d},{default:(0,t.k6)(function(){return[(0,t.bF)(u,{color:"negative",icon:"delete",flat:"",onClick:function(o){return e.deleteConfig(d.row)},disable:!e.acceso},{default:(0,t.k6)(function(){return[(0,t.bF)(i,{anchor:"bottom middle",self:"top middle"},{default:(0,t.k6)(function(){return l()(o[7]||(o[7]=[(0,t.eW)("Eliminar",-1)]))}),_:1})]}),_:1},8,["onClick","disable"])]}),_:2},1032,["props"])]}),_:2},1032,["props"])]}),_:1},8,["data","columns","pagination"])]),e.acceso?((0,t.uX)(),(0,t.Wv)(c,{key:0,expand:"",position:"bottom-right",offset:[20,20]},{default:(0,t.k6)(function(){return[(0,t.bF)(u,{fab:"",round:"",color:"secondary",icon:"add",onClick:o[2]||(o[2]=function(o){return e.showNewConfig=!0})},{default:(0,t.k6)(function(){return[(0,t.bF)(i,{anchor:"center left",self:"center right"},{default:(0,t.k6)(function(){return l()(o[8]||(o[8]=[(0,t.eW)("Actualización en bloque",-1)]))}),_:1})]}),_:1})]}),_:1})):(0,t.Q3)("v-if",!0),(0,t.bF)(C,{modelValue:e.showNewConfig,"onUpdate:modelValue":o[6]||(o[6]=function(o){return e.showNewConfig=o}),title:"Añadir configuración de notas",onSubmit:e.addConfig,ok:"Guardar"},{default:(0,t.k6)(function(){return[(0,t.Lk)("div",_e,[(0,t.Lk)("div",Ue,[(0,t.bF)(p,{"error-label":e.$t("validaciones.requerido"),error:e.v$.formConfNotas.INSTRUCOD.$error},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{modelValue:e.formConfNotas.INSTRUCOD,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.formConfNotas.INSTRUCOD=o}),type:"outlined",options:e.niveles,label:"INSTRUDES",val:"INSTRUCOD",placeholder:"Niveles",onSelected:e.getListaGrados,onBlur:e.v$.formConfNotas.INSTRUCOD.$touch},null,8,["modelValue","options","onSelected","onBlur"])]}),_:1},8,["error-label","error"])]),(0,t.Lk)("div",Ve,[(0,t.bF)(p,{"error-label":e.$t("validaciones.requerido"),error:e.v$.formConfNotas.GRADOCOD.$error},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{modelValue:e.formConfNotas.GRADOCOD,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.formConfNotas.GRADOCOD=o}),type:"outlined",options:e.grados,label:"GRADODES",val:"GRADOCOD",placeholder:"Grados",onBlur:e.v$.formConfNotas.GRADOCOD.$touch},null,8,["modelValue","options","onBlur"])]}),_:1},8,["error-label","error"])]),(0,t.Lk)("div",Fe,[(0,t.bF)(p,{"error-label":e.$t("validaciones.requerido"),error:e.v$.formConfNotas.ID_CONFIG.$error},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{modelValue:e.formConfNotas.ID_CONFIG,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.formConfNotas.ID_CONFIG=o}),type:"outlined",options:e.config,label:"LEYENDA",val:"ID_CONFIG",placeholder:"Notas",onBlur:e.v$.formConfNotas.ID_CONFIG.$touch},null,8,["modelValue","options","onBlur"])]}),_:1},8,["error-label","error"])])])]}),_:1},8,["modelValue","onSubmit"])])}var Le={setup:function(){var e=(0,fe.fG)();return{v$:e}},props:{acceso:{type:Boolean,required:!0}},components:{QTable:c.kH,QTr:c.qh,QTd:c.Ef,QPopupEdit:c.GT,QPageSticky:c._U,Dialog:pe.A,notify:Ne["default"],sieSelect:Oe.A,sieModal:me.A,sieInfo:Re["default"],QBtn:c.Il,QTooltip:c.nC,QField:c.Om},data:function(){return{niveles:[],grados:[],config:[],showNewConfig:!1,formConfNotas:{ANO:(0,Re["default"])().ano+"",INSTRUCOD:"",GRADOCOD:"",TIPO_CALCULO:1,ORDENAR_GRUPO:0,ID_CONFIG:"",ANUAL_REPLICA:0,EDICION_PESOS_PROFE:2,LIMITE_REPLICA:0,MOSTRAR_TRADUCCION:0},dataConfNotas:[],pagination:{sortBy:null,descending:!1,page:1,rowsPerPage:100},columns:[{name:"NIVEL",label:"NIVEL",field:"NIVEL",align:"left"},{name:"GRADO",label:"GRADO",field:"GRADO",align:"left"},{name:"LEYENDA",label:"TIPO CALIFICACIÓN NOTAS",field:"LEYENDA",align:"left"},{name:"acciones",label:"ACCIONES"}]}},validations:{formConfNotas:{INSTRUCOD:{required:Ae.mw},GRADOCOD:{required:Ae.mw},ID_CONFIG:{required:Ae.mw}}},methods:{getListaNivel:function(){var e=this;this.$http.get("api/HyoInstrus/obtInstru").then(function(o){var a=o.json;e.niveles=a})},getListaGrados:function(){var e=this;"T"===this.formConfNotas.INSTRUCOD?this.grados.push({GRADOCOD:"T",GRADODES:"Todos"}):this.$http.get("api/HyoGradoNivs/obtGrados").then(function(o){var a=o.json;e.grados=a.filter(function(o){return o.INSTRUCOD===e.formConfNotas.INSTRUCOD}),e.grados.unshift({GRADOCOD:"T",GRADODES:"Todos"})})},getListadoConfig:function(){var e=this;this.$http.get("api/HyoClaseContenidoConfig/obtListadoConfig",{params:{fields:["ID_CONFIG","LEYENDA"]}}).then(function(o){var a=o.json;e.config=a})},getConfigNotas:function(){var e=this;this.$http.get("api/HyoConfigGeneralNotas/obtenerConfigGrado").then(function(o){var a=o.json;e.dataConfNotas=a})},addConfig:function(){var e=this;this.v$.$touch(),this.v$.$invalid||this.$http.post("api/HyoConfigGeneralNotas/procesoGrabarConfig",{data:this.formConfNotas}).then(function(o){e.showNewConfig=!1,(0,Ne["default"])(o.json.message),e.getConfigNotas(),e.limpiarForm()}).catch(function(e){console.log(e)})},editConfig:function(e){var o=this;this.formConfNotas["ANO"]=e.ANO,this.formConfNotas["INSTRUCOD"]=e.INSTRUCOD,this.formConfNotas["GRADOCOD"]=e.GRADOCOD,console.log(this.formConfNotas),this.$http.post("api/HyoConfigGeneralNotas/procesoGrabarConfig",{data:this.formConfNotas}).then(function(e){o.showNewConfig=!1,(0,Ne["default"])(e.json.message),o.getConfigNotas(),o.limpiarForm()}).catch(function(e){console.log(e)})},deleteConfig:function(e){var o=this;this.$q.dialog({title:"¿Esta seguro de eliminar el registro?",ok:"SI",cancel:"NO"}).onOk(function(){var a={anio:e.ANO,instrucod:e.INSTRUCOD,gradocod:e.GRADOCOD};o.$http.post("api/HyoConfigGeneralNotas/eliminarConfig",{data:a}).then(function(e){(0,Ne["default"])(e.json.message,"success"),o.getConfigNotas()}).catch(function(e){console.log(e)})})},limpiarForm:function(){this.formConfNotas={ANO:(0,Re["default"])().ano+"",INSTRUCOD:"",GRADOCOD:"",TIPO_CALCULO:1,ORDENAR_GRUPO:0,ID_CONFIG:"",ANUAL_REPLICA:0,EDICION_PESOS_PROFE:2,LIMITE_REPLICA:0,MOSTRAR_TRADUCCION:0},this.v$.$reset()}},created:function(){this.getListaNivel(),this.getListadoConfig(),this.getConfigNotas()}};const Pe=(0,Se.A)(Le,[["render",ke]]);var qe=Pe,we={class:"row q-pa-sm"},ye={class:"col-12"},Ge={class:"col-12"},Me={class:"col-12"};function $e(e,o){var a=(0,t.g2)("q-td"),n=(0,t.g2)("sie-select"),r=(0,t.g2)("q-popup-edit"),i=(0,t.g2)("q-tr"),u=(0,t.g2)("q-table"),s=(0,t.g2)("q-tooltip"),d=(0,t.g2)("q-btn"),c=(0,t.g2)("q-page-sticky"),p=(0,t.g2)("q-field"),C=(0,t.g2)("sie-modal");return(0,t.uX)(),(0,t.CE)("div",null,[(0,t.bF)(u,{data:e.dataSalones,columns:e.columns,pagination:e.pagination,"onUpdate:pagination":o[0]||(o[0]=function(o){return e.pagination=o}),"rows-per-page-options":[0],"hide-bottom":""},{body:(0,t.k6)(function(o){return[(0,t.bF)(i,{props:o},{default:(0,t.k6)(function(){return[(0,t.bF)(a,{key:"NEMO",props:o},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(o.row.NEMO),1)]}),_:2},1032,["props"]),(0,t.bF)(a,{key:"INSTRUCOD",props:o},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(o.row.INSTRUCOD),1)]}),_:2},1032,["props"]),(0,t.bF)(a,{key:"GRADOCOD",props:o},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(o.row.GRADOCOD),1)]}),_:2},1032,["props"]),(0,t.bF)(a,{key:"SECCIONCOD",props:o},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(o.row.SECCIONCOD),1)]}),_:2},1032,["props"]),(0,t.bF)(a,{key:"NEMODES",props:o},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(o.row.NEMODES),1)]}),_:2},1032,["props"]),(0,t.bF)(a,{key:"TIPCAL2",props:o},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)("L"===o.row.TIPCAL2?"Letras":"N"===o.row.TIPCAL2?"Números":"-"),1),(0,t.bF)(r,{modelValue:o.row.TIPCAL2,"onUpdate:modelValue":function(e){return o.row.TIPCAL2=e},disable:!e.acceso,count:""},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{modelValue:o.row.TIPCAL2,"onUpdate:modelValue":function(e){return o.row.TIPCAL2=e},type:"outlined",options:e.tipoCalCondu,val:"value",label:"label",placeholder:"Seleccione",onSelected:function(a){return e.editarTipoCalCondu(o.row)}},null,8,["modelValue","onUpdate:modelValue","options","onSelected"])]}),_:2},1032,["modelValue","onUpdate:modelValue","disable"])]}),_:2},1032,["props"])]}),_:2},1032,["props"])]}),_:1},8,["data","columns","pagination"]),e.acceso?((0,t.uX)(),(0,t.Wv)(c,{key:0,expand:"",position:"bottom-right",offset:[20,20]},{default:(0,t.k6)(function(){return[(0,t.bF)(d,{fab:"",round:"",color:"secondary",icon:"cogs",onClick:o[1]||(o[1]=function(o){return e.openModal=!0})},{default:(0,t.k6)(function(){return[(0,t.bF)(s,{anchor:"center left",self:"center right"},{default:(0,t.k6)(function(){return l()(o[6]||(o[6]=[(0,t.eW)("Actualización en bloque",-1)]))}),_:1})]}),_:1})]}),_:1})):(0,t.Q3)("v-if",!0),(0,t.bF)(C,{modelValue:e.openModal,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.openModal=o}),title:"Actualización en bloque",ok:"Procesar",onSubmit:e.actualizarBloque},{default:(0,t.k6)(function(){return[(0,t.Lk)("div",we,[(0,t.Lk)("div",ye,[(0,t.bF)(p,{"error-label":e.$t("validaciones.requerido"),error:e.v$.form.INSTRUCOD.$error},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{modelValue:e.form.INSTRUCOD,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.form.INSTRUCOD=o}),type:"outlined",options:e.niveles,label:"INSTRUDES",val:"INSTRUCOD",placeholder:"Nivel",onSelected:e.getListaGrados},null,8,["modelValue","options","onSelected"])]}),_:1},8,["error-label","error"])]),(0,t.Lk)("div",Ge,[(0,t.bF)(p,{"error-label":e.$t("validaciones.requerido"),error:e.v$.form.GRADOCOD.$error},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{modelValue:e.form.GRADOCOD,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.form.GRADOCOD=o}),type:"outlined",options:e.grados,label:"GRADODES",val:"GRADOCOD",placeholder:"Grado"},null,8,["modelValue","options"])]}),_:1},8,["error-label","error"])]),(0,t.Lk)("div",Me,[(0,t.bF)(p,{"error-label":e.$t("validaciones.requerido"),error:e.v$.form.TIPCAL2.$error},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{modelValue:e.form.TIPCAL2,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.form.TIPCAL2=o}),type:"outlined",options:e.tipoCalCondu,val:"value",label:"label",placeholder:"Tipo Calificación"},null,8,["modelValue","options"])]}),_:1},8,["error-label","error"])])])]}),_:1},8,["modelValue","onSubmit"])])}var Qe={setup:function(){var e=(0,fe.fG)();return{v$:e}},props:{acceso:{type:Boolean,required:!0}},components:{QTable:c.kH,QTr:c.qh,QTd:c.Ef,QPageSticky:c._U,QPopupEdit:c.GT,sieSelect:Oe.A,sieModal:me.A,sieInfo:Re["default"],notify:Ne["default"],QBtn:c.Il,QTooltip:c.nC,QField:c.Om},data:function(){return{openModal:!1,niveles:[],grados:[],dataSalones:[],tipoCalCondu:[{label:"Letras",value:"L"},{label:"Números",value:"N"}],pagination:{sortBy:null,descending:!1,page:1,rowsPerPage:100},columns:[{label:"CÓDIGO",name:"NEMO",field:"NEMO",align:"center"},{label:"N",name:"INSTRUCOD",field:"INSTRUCOD",align:"center"},{label:"G",name:"GRADOCOD",field:"GRADOCOD",align:"center"},{label:"S",name:"SECCIONCOD",field:"SECCIONCOD",align:"center"},{label:"DESCRIPCIÓN",name:"NEMODES",field:"NEMODES",align:"left"},{label:"TIPO CALIFICACIÓN NOTAS",name:"TIPCAL2",field:"TIPCAL2",align:"center"}],form:{ANO:(0,Re["default"])().ano,INSTRUCOD:"",GRADOCOD:"",TIPCAL2:""}}},validations:{form:{INSTRUCOD:{required:Ae.mw},GRADOCOD:{required:Ae.mw},TIPCAL2:{required:Ae.mw}}},created:function(){this.init()},methods:{init:function(){this.obtenerSalones(),this.getListaNivel()},getListaNivel:function(){var e=this;this.$http.get("api/HyoInstrus/obtInstru").then(function(o){var a=o.json;a.unshift({INSTRUCOD:"T",INSTRUDES:"Todos",INSTRUANO:0}),e.niveles=a})},getListaGrados:function(){var e=this;"T"===this.form.INSTRUCOD?this.grados.push({GRADOCOD:"T",GRADODES:"Todos"}):this.$http.get("api/HyoGradoNivs/obtGrados").then(function(o){var a=o.json;e.grados=a.filter(function(o){return o.INSTRUCOD===e.form.INSTRUCOD}),e.grados.unshift({GRADOCOD:"T",GRADODES:"Todos"})})},obtenerSalones:function(){var e=this;this.$http.get("api/HyoSalones/getAll",{params:{columns:["NEMO","INSTRUCOD","GRADOCOD","SECCIONCOD","NEMODES","TIPCAL2"]}}).then(function(o){e.dataSalones=o})},editarTipoCalCondu:function(e){var o=this,a={nemo:e.NEMO},n={tipcal2:e.TIPCAL2};this.$http.post("api/HyoSalones/actualizarTipCal",{where:a,data:n}).then(function(e){(0,Ne["default"])(e.json.message),o.obtenerSalones()})},actualizarBloque:function(){var e=this,o={ano:this.form.ANO},a={tipcal2:this.form.TIPCAL2};"T"!==this.form.INSTRUCOD&&(o["INSTRUCOD"]=this.form.INSTRUCOD),"T"!==this.form.GRADOCOD&&(o["gradocod"]=this.form.GRADOCOD),this.v$.$touch(),this.v$.$invalid||this.$http.post("api/HyoSalones/actualizarTipCal",{where:o,data:a}).then(function(o){(0,Ne["default"])(o.json.message),e.obtenerSalones()}).finally(function(){e.openModal=!1,e.limpiarForm()})},limpiarForm:function(){this.form={ANO:(0,Re["default"])().ano,INSTRUCOD:"",GRADOCOD:"",TIPCAL2:""}}}};const Be=(0,Se.A)(Qe,[["render",$e]]);var We=Be,He={class:"row q-pb-md"},je={class:"col-12"},Xe={class:"row q-pb-md"},xe={class:"col-12"},ze={class:"row q-pa-sm"},Ye={class:"col-12"},Je={class:"col-12"},Ze={class:"col-12"},Ke={class:"col-12"};function eo(e,o){var a=(0,t.g2)("q-card"),n=(0,t.g2)("q-td"),r=(0,t.g2)("sie-select"),i=(0,t.g2)("q-popup-edit"),u=(0,t.g2)("q-tooltip"),s=(0,t.g2)("q-btn"),d=(0,t.g2)("q-tr"),c=(0,t.g2)("q-table"),p=(0,t.g2)("q-page-sticky"),C=(0,t.g2)("q-field"),m=(0,t.g2)("sie-modal"),O=(0,t.g2)("q-page");return(0,t.uX)(),(0,t.Wv)(O,{class:"bg-white configGeneralConducta"},{default:(0,t.k6)(function(){return[(0,t.Lk)("div",He,[(0,t.Lk)("div",je,[(0,t.bF)(a,{class:"row full width items items-center q-px-sm q-py-xs"},{default:(0,t.k6)(function(){return l()(o[9]||(o[9]=[(0,t.Lk)("div",{class:"col altoCond"},[(0,t.Lk)("span",{class:"text-bold q-body-1"},"Configuración Conducta")],-1)]))}),_:1}),(0,t.bF)(c,{data:e.dataConfConducta,columns:e.columnsConducta,pagination:e.pagination,"onUpdate:pagination":o[1]||(o[1]=function(o){return e.pagination=o}),"rows-per-page-options":[0],"hide-bottom":""},{body:(0,t.k6)(function(a){return[(0,t.bF)(d,{props:a},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{key:"NIVEL",props:a,onClick:function(o){return e.getSeleccionaDataPart(a.row)}},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(a.row.NIVEL),1)]}),_:2},1032,["props","onClick"]),(0,t.bF)(n,{key:"GRADO",props:a,onClick:function(o){return e.getSeleccionaDataPart(a.row)}},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(a.row.GRADO),1)]}),_:2},1032,["props","onClick"]),(0,t.bF)(n,{key:"LEYENDA",props:a,onClick:function(o){return e.getSeleccionaDataPart(a.row)}},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(a.row.LEYENDA),1),(0,t.bF)(i,{modelValue:a.row.LEYENDA,"onUpdate:modelValue":function(e){return a.row.LEYENDA=e},disable:!e.acceso,count:""},{default:(0,t.k6)(function(){return[(0,t.bF)(r,{modelValue:e.formConfNotas.ID_CONFIG,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.formConfNotas.ID_CONFIG=o}),type:"outlined",options:e.config,label:"LEYENDA",val:"ID_CONFIG",placeholder:"Notas",onSelected:function(o){return e.editConfig(a.row)}},null,8,["modelValue","options","onSelected"])]}),_:2},1032,["modelValue","onUpdate:modelValue","disable"])]}),_:2},1032,["props","onClick"]),(0,t.bF)(n,{key:"acciones",props:a},{default:(0,t.k6)(function(){return[(0,t.bF)(s,{color:"negative",icon:"delete",flat:"",onClick:function(o){return e.deleteConfig(a.row)},disable:!e.acceso},{default:(0,t.k6)(function(){return[(0,t.bF)(u,{anchor:"bottom middle",self:"top middle"},{default:(0,t.k6)(function(){return l()(o[10]||(o[10]=[(0,t.eW)("Eliminar",-1)]))}),_:1})]}),_:1},8,["onClick","disable"])]}),_:2},1032,["props"])]}),_:2},1032,["props"])]}),_:1},8,["data","columns","pagination"])])]),(0,t.Lk)("div",Xe,[(0,t.Lk)("div",xe,[(0,t.bF)(a,{class:"row full width items items-center q-px-sm q-py-xs"},{default:(0,t.k6)(function(){return l()(o[11]||(o[11]=[(0,t.Lk)("div",{class:"col altoCond"},[(0,t.Lk)("span",{class:"text-bold q-body-1"},"Configuraciones adicionales de Conducta")],-1)]))}),_:1}),(0,t.bF)(c,{data:e.dataParticularidades,columns:e.columnsParticularidades,pagination:e.pagination,"onUpdate:pagination":o[2]||(o[2]=function(o){return e.pagination=o}),"rows-per-page-options":[0],"hide-bottom":""},{body:(0,t.k6)(function(a){return[(0,t.bF)(d,{props:a},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{key:"NIVEL",props:a},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(a.row.NIVEL),1)]}),_:2},1032,["props"]),(0,t.bF)(n,{key:"GRADO",props:a},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(a.row.GRADO),1)]}),_:2},1032,["props"]),(0,t.bF)(n,{key:"LEYENDA",props:a},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(a.row.LEYENDA),1)]}),_:2},1032,["props"]),(0,t.bF)(n,{key:"NIVELEVA",props:a},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(a.row.NIVELEVA),1)]}),_:2},1032,["props"]),(0,t.bF)(n,{key:"acciones",props:a},{default:(0,t.k6)(function(){return[(0,t.bF)(s,{color:"negative",icon:"delete",flat:"",onClick:function(o){return e.deleteParticularidad(a.row)},disable:!e.acceso},{default:(0,t.k6)(function(){return[(0,t.bF)(u,{anchor:"bottom middle",self:"top middle"},{default:(0,t.k6)(function(){return l()(o[12]||(o[12]=[(0,t.eW)("Eliminar",-1)]))}),_:1})]}),_:1},8,["onClick","disable"])]}),_:2},1032,["props"])]}),_:2},1032,["props"])]}),_:1},8,["data","columns","pagination"])])]),e.acceso?((0,t.uX)(),(0,t.Wv)(p,{key:0,expand:"",position:"bottom-right",offset:[20,20]},{default:(0,t.k6)(function(){return[(0,t.bF)(s,{fab:"",round:"",color:"secondary",icon:"add",onClick:o[3]||(o[3]=function(o){return e.showNewConfig=!0})},{default:(0,t.k6)(function(){return[(0,t.bF)(u,{anchor:"center left",self:"center right"},{default:(0,t.k6)(function(){return l()(o[13]||(o[13]=[(0,t.eW)("Actualización en bloque",-1)]))}),_:1})]}),_:1})]}),_:1})):(0,t.Q3)("v-if",!0),(0,t.bF)(m,{modelValue:e.showNewConfig,"onUpdate:modelValue":o[8]||(o[8]=function(o){return e.showNewConfig=o}),title:"Añadir configuración de conducta",onSubmit:e.addConfig,ok:"Guardar"},{default:(0,t.k6)(function(){return[(0,t.Lk)("div",ze,[(0,t.Lk)("div",Ye,[(0,t.bF)(C,{"error-label":e.$t("validaciones.requerido"),error:e.v$.formConfNotas.INSTRUCOD.$error},{default:(0,t.k6)(function(){return[(0,t.bF)(r,{modelValue:e.formConfNotas.INSTRUCOD,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.formConfNotas.INSTRUCOD=o}),type:"outlined",options:e.niveles,label:"INSTRUDES",val:"INSTRUCOD",placeholder:"Niveles",onSelected:e.getListaGrados,onBlur:e.v$.formConfNotas.INSTRUCOD.$touch},null,8,["modelValue","options","onSelected","onBlur"])]}),_:1},8,["error-label","error"])]),(0,t.Lk)("div",Je,[(0,t.bF)(C,{"error-label":e.$t("validaciones.requerido"),error:e.v$.formConfNotas.GRADOCOD.$error},{default:(0,t.k6)(function(){return[(0,t.bF)(r,{modelValue:e.formConfNotas.GRADOCOD,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.formConfNotas.GRADOCOD=o}),type:"outlined",options:e.grados,label:"GRADODES",val:"GRADOCOD",placeholder:"Grados",onBlur:e.v$.formConfNotas.GRADOCOD.$touch},null,8,["modelValue","options","onBlur"])]}),_:1},8,["error-label","error"])]),(0,t.Lk)("div",Ze,[(0,t.bF)(r,{modelValue:e.formConfNotas.TIPO_EVA,"onUpdate:modelValue":o[6]||(o[6]=function(o){return e.formConfNotas.TIPO_EVA=o}),type:"outlined",options:e.optTipoEva,label:"label",val:"value",placeholder:"Tipo Evaluación",filter:""},null,8,["modelValue","options"])]),(0,t.Lk)("div",Ke,[(0,t.bF)(C,{"error-label":e.$t("validaciones.requerido"),error:e.v$.formConfNotas.ID_CONFIG.$error},{default:(0,t.k6)(function(){return[(0,t.bF)(r,{modelValue:e.formConfNotas.ID_CONFIG,"onUpdate:modelValue":o[7]||(o[7]=function(o){return e.formConfNotas.ID_CONFIG=o}),type:"outlined",options:e.config,label:"LEYENDA",val:"ID_CONFIG",placeholder:"Notas",onBlur:e.v$.formConfNotas.ID_CONFIG.$touch},null,8,["modelValue","options","onBlur"])]}),_:1},8,["error-label","error"])])])]}),_:1},8,["modelValue","onSubmit"])]}),_:1})}var oo=a(99550),ao=a.n(oo),no=(a(74260),a(23825),a(32203),a(90095),a(66307),a(13715),a(24066),{setup:function(){var e=(0,fe.fG)();return{v$:e}},props:{acceso:{type:Boolean,required:!0}},components:{QSelect:c.Si,QTable:c.kH,QTr:c.qh,QTd:c.Ef,QPageSticky:c._U,QPopupEdit:c.GT,sieSelect:Oe.A,sieModal:me.A,sieInfo:Re["default"],notify:Ne["default"],QPage:c.Tu,QCard:c.C$,QBtn:c.Il,QTooltip:c.nC,QField:c.Om},data:function(){return{openModal:!1,showNewConfig:!1,dataConfConducta:[],niveles:[],grados:[],config:[],dataListaPart:[],dataListaNG:[],newDataListaPart:[],dataParticularidades:[],pagination:{sortBy:null,descending:!1,page:1,rowsPerPage:100},formConfNotas:{ANO:(0,Re["default"])().ano+"",INSTRUCOD:"",GRADOCOD:"",TIPO_CALCULO:1,ID_CONFIG:"",ANUAL_REPLICA:0,TIPO_REGISTRO:2,TIPO_EVA_DES:"",TIPO_EVA:""},columnsConducta:[{name:"NIVEL",label:"NIVEL",field:"NIVEL",align:"left"},{name:"GRADO",label:"GRADO",field:"GRADO",align:"left"},{name:"LEYENDA",label:"TIPO CALIFICACIÓN NOTAS",field:"LEYENDA",align:"left"},{name:"acciones",label:"ACCIONES"}],columnsParticularidades:[{name:"NIVEL",label:"NIVEL",field:"NIVEL",align:"left"},{name:"GRADO",label:"GRADO",field:"GRADO",align:"left"},{name:"LEYENDA",label:"TIPO CALIFICACIÓN NOTAS",field:"LEYENDA",align:"left"},{name:"NIVELEVA",label:"TIPO EVALUACIÓN",field:"NIVELEVA",align:"left"},{name:"acciones",label:"ACCIONES"}],optTipoEva:[{label:"Conducta",value:"",valorx:9},{label:"Participación de Padres",value:8,valorx:88}]}},validations:{formConfNotas:{INSTRUCOD:{required:Ae.mw},GRADOCOD:{required:Ae.mw},ID_CONFIG:{required:Ae.mw}}},created:function(){this.init()},methods:{init:function(){this.getListaNivel(),this.getListadoConfig(),this.getConfigConducta(),this.getListaParticularidad()},selecTipoEva:function(e){this.formConfNotas.TIPO_EVA=e.value},addConfig:function(){var e=this;if(this.v$.$touch(),!this.v$.$invalid){var o=[];o=this.optTipoEva.filter(function(o){return e.formConfNotas.TIPO_EVA===o.value}),o.length>0&&(this.formConfNotas.TIPO_EVA_DES="NIVEL_EVA");var a=this.formConfNotas.TIPO_EVA?"procesoGrabarParticularidad":"procesoGrabarConfig";this.$http.post("api/HyoConfigGeneralConducta/"+a,{data:this.formConfNotas}).then(function(o){e.showNewConfig=!1,(0,Ne["default"])(o.json.message),e.getConfigConducta(),e.limpiarForm(),e.getListaParticularidadRefresh()}).catch(function(e){console.log(e)})}},deleteConfig:function(e){var o=this;this.$q.dialog({title:"¿Esta seguro de eliminar el registro?",ok:"SI",cancel:"NO"}).onOk(function(){var a={anio:e.ANO,instrucod:e.INSTRUCOD,gradocod:e.GRADOCOD};o.$http.post("api/HyoConfigGeneralConducta/eliminarConfig",{data:a}).then(function(e){(0,Ne["default"])(e.json.message,"success"),o.getConfigConducta(),o.getListaParticularidadRefresh()}).catch(function(e){console.log(e)})})},deleteParticularidad:function(e){var o=this;this.$q.dialog({title:"¿Esta seguro de eliminar el registro?",ok:"SI",cancel:"NO"}).onOk(function(){o.$http.delete("api/HyoParticularidades/deleteParticularidad",{params:{ID:e.ID}}).then(function(e){(0,Ne["default"])("Eliminado correctamente","success"),o.getListaParticularidadRefresh()}).catch(function(e){console.log(e)})})},editConfig:function(e){var o=this;this.formConfNotas["ANO"]=e.ANO,this.formConfNotas["INSTRUCOD"]=e.INSTRUCOD,this.formConfNotas["GRADOCOD"]=e.GRADOCOD,this.$http.post("api/HyoConfigGeneralConducta/procesoGrabarConfig",{data:this.formConfNotas}).then(function(e){o.showNewConfig=!1,(0,Ne["default"])(e.json.message),o.getConfigConducta(),o.limpiarForm(),o.getListaParticularidadRefresh()}).catch(function(e){console.log(e)})},getListaParticularidadRefresh:function(){var e=this;Promise.all([this.$http.get("api/HyoConfigGeneralConducta/obtDataConfigPartConducta",{params:{ano:(0,Re["default"])().ano}})]).then(function(o){var a=ao()(o,1),n=a[0];e.dataListaPart=n,e.getSeleccionaDataPart()})},getListaParticularidad:function(){var e=this;Promise.all([this.$http.get("api/HyoConfigGeneralConducta/obtDataConfigPartConducta",{params:{ano:(0,Re["default"])().ano}}),this.$http.get("api/HyoGradoNivs/getAllDatos")]).then(function(o){var a=ao()(o,2),n=a[0],l=a[1];e.dataListaPart=n,e.dataListaNG=l,e.getSeleccionaDataPart()})},getSeleccionaDataPart:function(){var e=this.dataListaPart.json,o=this.dataListaNG.json,a=[],n={};e.forEach(function(e){var l={ID:e.ID,NIVEL:"",GRADO:"TODOS",ID_CONFIG:e.ID_CONFIG,ANO:e.ANO,LEYENDA:e.LEYENDA,NIVELEVA:e.NIVELEVA},t="KEY"+e.ID,r=n.hasOwnProperty(t);if(r?l=a[n[t]]:(n[t]=a.length,a.push(l)),"INSTRUCOD"===e.CAMPO){var i=o.find(function(o){return o.INSTRUCOD===e.VALOR});l["NIVEL"]=i.INSTRUDES}else if("GRADOCOD"===e.CAMPO){var u=o.find(function(o){return o.GRADOCOD===e.VALOR});l["GRADO"]=u.GRADODES}else"TIPO_EVA"===e.CAMPO&&(l["NIVELEVA"]=e.NIVELEVA);a[n[t]]=l}),this.dataParticularidades=a},getConfigConducta:function(){var e=this;this.$http.get("api/HyoConfigGeneralConducta/obtenerConfigGrado").then(function(o){var a=o.json;e.dataConfConducta=a})},getListaNivel:function(){var e=this;this.$http.get("api/HyoInstrus/obtInstru").then(function(o){var a=o.json;e.niveles=a})},getListaGrados:function(){var e=this;"T"===this.formConfNotas.INSTRUCOD?this.grados.push({GRADOCOD:"T",GRADODES:"Todos"}):this.$http.get("api/HyoGradoNivs/obtGrados").then(function(o){var a=o.json;e.grados=a.filter(function(o){return o.INSTRUCOD===e.formConfNotas.INSTRUCOD}),e.grados.unshift({GRADOCOD:"T",GRADODES:"Todos"})})},getListadoConfig:function(){var e=this;this.$http.get("api/HyoClaseContenidoConfig/obtListadoConfig",{params:{fields:["ID_CONFIG","LEYENDA"],tipo_registro:2}}).then(function(o){var a=o.json;e.config=a})},limpiarForm:function(){this.formConfNotas={ANO:(0,Re["default"])().ano+"",INSTRUCOD:"",GRADOCOD:"",TIPO_CALCULO:1,ID_CONFIG:"",ANUAL_REPLICA:0,TIPO_REGISTRO:2,TIPO_EVA_DES:"",TIPO_EVA:""},this.v$.$reset()}}});const lo=(0,Se.A)(no,[["render",eo]]);var to=lo,ro={class:"row q-pa-sm"},io={class:"col-12"},uo={class:"col-12"},so={class:"col-12"};function co(e,o){var a=(0,t.g2)("q-td"),n=(0,t.g2)("sie-select"),r=(0,t.g2)("q-popup-edit"),i=(0,t.g2)("q-tr"),u=(0,t.g2)("q-table"),s=(0,t.g2)("q-tooltip"),d=(0,t.g2)("q-btn"),c=(0,t.g2)("q-page-sticky"),p=(0,t.g2)("q-field"),C=(0,t.g2)("sie-modal");return(0,t.uX)(),(0,t.CE)("div",null,[(0,t.bF)(u,{data:e.dataSalones,columns:e.columns,pagination:e.pagination,"onUpdate:pagination":o[0]||(o[0]=function(o){return e.pagination=o}),"rows-per-page-options":[0],"hide-bottom":""},{body:(0,t.k6)(function(o){return[(0,t.bF)(i,{props:o},{default:(0,t.k6)(function(){return[(0,t.bF)(a,{key:"NEMO",props:o},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(o.row.NEMO),1)]}),_:2},1032,["props"]),(0,t.bF)(a,{key:"INSTRUCOD",props:o},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(o.row.INSTRUCOD),1)]}),_:2},1032,["props"]),(0,t.bF)(a,{key:"GRADOCOD",props:o},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(o.row.GRADOCOD),1)]}),_:2},1032,["props"]),(0,t.bF)(a,{key:"SECCIONCOD",props:o},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(o.row.SECCIONCOD),1)]}),_:2},1032,["props"]),(0,t.bF)(a,{key:"NEMODES",props:o},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(o.row.NEMODES),1)]}),_:2},1032,["props"]),(0,t.bF)(a,{key:"TIPCALC",props:o},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)("L"===o.row.TIPCALC?"Letras":"N"===o.row.TIPCALC?"Números":"-"),1),(0,t.bF)(r,{modelValue:o.row.TIPCALC,"onUpdate:modelValue":function(e){return o.row.TIPCALC=e},disable:!e.acceso,count:""},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{modelValue:o.row.TIPCALC,"onUpdate:modelValue":function(e){return o.row.TIPCALC=e},type:"outlined",options:e.tipoCalCondu,val:"value",label:"label",placeholder:"Seleccione",onSelected:function(a){return e.editarTipoCalCondu(o.row)}},null,8,["modelValue","onUpdate:modelValue","options","onSelected"])]}),_:2},1032,["modelValue","onUpdate:modelValue","disable"])]}),_:2},1032,["props"])]}),_:2},1032,["props"])]}),_:1},8,["data","columns","pagination"]),e.acceso?((0,t.uX)(),(0,t.Wv)(c,{key:0,expand:"",position:"bottom-right",offset:[20,20]},{default:(0,t.k6)(function(){return[(0,t.bF)(d,{fab:"",round:"",color:"secondary",icon:"cogs",onClick:o[1]||(o[1]=function(o){return e.openModal=!0})},{default:(0,t.k6)(function(){return[(0,t.bF)(s,{anchor:"center left",self:"center right"},{default:(0,t.k6)(function(){return l()(o[6]||(o[6]=[(0,t.eW)("Actualización en bloque",-1)]))}),_:1})]}),_:1})]}),_:1})):(0,t.Q3)("v-if",!0),(0,t.bF)(C,{modelValue:e.openModal,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.openModal=o}),title:"Actualización en bloque",ok:"Procesar",onSubmit:e.actualizarBloque},{default:(0,t.k6)(function(){return[(0,t.Lk)("div",ro,[(0,t.Lk)("div",io,[(0,t.bF)(p,{"error-label":e.$t("validaciones.requerido"),error:e.v$.form.INSTRUCOD.$error},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{modelValue:e.form.INSTRUCOD,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.form.INSTRUCOD=o}),type:"outlined",options:e.niveles,label:"INSTRUDES",val:"INSTRUCOD",placeholder:"Nivel",onSelected:e.getListaGrados},null,8,["modelValue","options","onSelected"])]}),_:1},8,["error-label","error"])]),(0,t.Lk)("div",uo,[(0,t.bF)(p,{"error-label":e.$t("validaciones.requerido"),error:e.v$.form.GRADOCOD.$error},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{modelValue:e.form.GRADOCOD,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.form.GRADOCOD=o}),type:"outlined",options:e.grados,label:"GRADODES",val:"GRADOCOD",placeholder:"Grado"},null,8,["modelValue","options"])]}),_:1},8,["error-label","error"])]),(0,t.Lk)("div",so,[(0,t.bF)(p,{"error-label":e.$t("validaciones.requerido"),error:e.v$.form.TIPCALC.$error},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{modelValue:e.form.TIPCALC,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.form.TIPCALC=o}),type:"outlined",options:e.tipoCalCondu,val:"value",label:"label",placeholder:"Tipo Calificación"},null,8,["modelValue","options"])]}),_:1},8,["error-label","error"])])])]}),_:1},8,["modelValue","onSubmit"])])}var fo={setup:function(){var e=(0,fe.fG)();return{v$:e}},props:{acceso:{type:Boolean,required:!0}},components:{QTable:c.kH,QTr:c.qh,QTd:c.Ef,QPageSticky:c._U,QPopupEdit:c.GT,sieSelect:Oe.A,sieModal:me.A,sieInfo:Re["default"],notify:Ne["default"],QBtn:c.Il,QTooltip:c.nC,QField:c.Om},data:function(){return{openModal:!1,niveles:[],grados:[],dataSalones:[],tipoCalCondu:[{label:"Letras",value:"L"},{label:"Números",value:"N"}],pagination:{sortBy:null,descending:!1,page:1,rowsPerPage:100},columns:[{label:"CÓDIGO",name:"NEMO",field:"NEMO",align:"center"},{label:"N",name:"INSTRUCOD",field:"INSTRUCOD",align:"center"},{label:"G",name:"GRADOCOD",field:"GRADOCOD",align:"center"},{label:"S",name:"SECCIONCOD",field:"SECCIONCOD",align:"center"},{label:"DESCRIPCIÓN",name:"NEMODES",field:"NEMODES",align:"left"},{label:"TIPO CALIFICACIÓN CONDUCTA",name:"TIPCALC",field:"TIPCALC",align:"center"}],form:{ANO:(0,Re["default"])().ano,INSTRUCOD:"",GRADOCOD:"",TIPCALC:""}}},validations:{form:{INSTRUCOD:{required:Ae.mw},GRADOCOD:{required:Ae.mw},TIPCALC:{required:Ae.mw}}},created:function(){this.init()},methods:{init:function(){this.obtenerSalones(),this.getListaNivel()},getListaNivel:function(){var e=this;this.$http.get("api/HyoInstrus/obtInstru").then(function(o){var a=o.json;a.unshift({INSTRUCOD:"T",INSTRUDES:"Todos",INSTRUANO:0}),e.niveles=a})},getListaGrados:function(){var e=this;"T"===this.form.INSTRUCOD?this.grados.push({GRADOCOD:"T",GRADODES:"Todos"}):this.$http.get("api/HyoGradoNivs/obtGrados").then(function(o){var a=o.json;e.grados=a.filter(function(o){return o.INSTRUCOD===e.form.INSTRUCOD}),e.grados.unshift({GRADOCOD:"T",GRADODES:"Todos"})})},obtenerSalones:function(){var e=this;this.$http.get("api/HyoSalones/getAll",{params:{columns:["NEMO","INSTRUCOD","GRADOCOD","SECCIONCOD","NEMODES","TIPCALC"]}}).then(function(o){e.dataSalones=o})},editarTipoCalCondu:function(e){var o=this,a={nemo:e.NEMO},n={tipcalc:e.TIPCALC};this.$http.post("api/HyoSalones/actualizarTipCal",{where:a,data:n}).then(function(e){(0,Ne["default"])(e.json.message),o.obtenerSalones()})},actualizarBloque:function(){var e=this,o={ano:this.form.ANO},a={tipcalc:this.form.TIPCALC};"T"!==this.form.INSTRUCOD&&(o["INSTRUCOD"]=this.form.INSTRUCOD),"T"!==this.form.GRADOCOD&&(o["gradocod"]=this.form.GRADOCOD),this.v$.$touch(),this.v$.$invalid||this.$http.post("api/HyoSalones/actualizarTipCal",{where:o,data:a}).then(function(o){(0,Ne["default"])(o.json.message),e.obtenerSalones()}).finally(function(){e.openModal=!1,e.limpiarForm()})},limpiarForm:function(){this.form={ANO:(0,Re["default"])().ano,INSTRUCOD:"",GRADOCOD:"",TIPCALC:""}}}};const po=(0,Se.A)(fo,[["render",co]]);var Co=po,mo={class:"column q-pa-sm"},Oo={class:"row"},bo={class:"col"},Ao={class:"col"},No={key:0,class:"col"},vo={class:"row gutter-sm"},Eo={class:"col"},Ro={class:"col"},Io={key:0,class:"col"};function So(e,o){var a=(0,t.g2)("sie-select"),n=(0,t.g2)("q-field"),r=(0,t.g2)("q-input"),i=(0,t.g2)("sie-modal"),u=(0,t.g2)("q-td"),s=(0,t.g2)("q-popup-edit"),d=(0,t.g2)("q-tooltip"),c=(0,t.g2)("q-btn"),p=(0,t.g2)("q-tr"),C=(0,t.g2)("q-table"),m=(0,t.g2)("q-page-sticky");return(0,t.uX)(),(0,t.CE)("div",null,[(0,t.bF)(i,{modelValue:e.showModalEqui,"onUpdate:modelValue":o[6]||(o[6]=function(o){return e.showModalEqui=o}),title:"Añadir equivalencia",onSubmit:e.grabarEqui,ok:"Guardar"},{default:(0,t.k6)(function(){return[(0,t.Lk)("div",mo,[(0,t.Lk)("div",null,[(0,t.bF)(n,{"error-label":e.$t("validaciones.requerido"),error:e.v$.tipo.$error},{default:(0,t.k6)(function(){return[(0,t.bF)(a,{modelValue:e.tipo,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.tipo=o}),type:"outlined",options:e.opcEqui,val:"value",label:"label",placeholder:"Tipo",onBlur:e.v$.tipo.$touch},null,8,["modelValue","options","onBlur"])]}),_:1},8,["error-label","error"])]),(0,t.Lk)("div",null,["R"!=e.tipo?((0,t.uX)(),(0,t.Wv)(n,{key:0,"error-label":e.$t("validaciones.requerido"),error:e.v$.formEqui.instrucod.$error},{default:(0,t.k6)(function(){return[(0,t.bF)(a,{modelValue:e.formEqui.instrucod,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.formEqui.instrucod=o}),type:"outlined",options:e.opcNiveles,val:"value",label:"label",placeholder:"Nivel",onBlur:e.v$.formEqui.instrucod.$touch},null,8,["modelValue","options","onBlur"])]}),_:1},8,["error-label","error"])):(0,t.Q3)("v-if",!0)]),(0,t.Lk)("div",Oo,[(0,t.Lk)("div",bo,[(0,t.bF)(n,{"error-label":e.$t("validaciones.requerido"),error:e.v$.formEqui.letra.$error},{default:(0,t.k6)(function(){return[(0,t.bF)(a,{modelValue:e.formEqui.letra,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.formEqui.letra=o}),type:"outlined",options:e.opcLetra,val:"value",label:"label",placeholder:"Letra",onBlur:e.v$.formEqui.letra.$touch},null,8,["modelValue","options","onBlur"])]}),_:1},8,["error-label","error"])]),(0,t.Lk)("div",Ao,["R"==e.tipo?((0,t.uX)(),(0,t.Wv)(n,{key:0,"error-label":e.$t("validaciones.requerido")},{default:(0,t.k6)(function(){return[(0,t.bF)(r,{class:"q-if-outlined",modelValue:e.formEqui.notaini,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.formEqui.notaini=o}),modelModifiers:{number:!0},"float-label":"Mayor igual a (%):"},null,8,["modelValue"])]}),_:1},8,["error-label"])):((0,t.uX)(),(0,t.Wv)(n,{key:1,"error-label":e.$t("validaciones.requerido")},{default:(0,t.k6)(function(){return[(0,t.bF)(r,{class:"q-if-outlined",modelValue:e.formEqui.notaini,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.formEqui.notaini=o}),modelModifiers:{number:!0},"float-label":"Nota Inicial",onBlur:e.v$.formEqui.notaini.$touch,error:e.v$.formEqui.notaini.$error},null,8,["modelValue","onBlur","error"])]}),_:1},8,["error-label"]))]),"R"!=e.tipo?((0,t.uX)(),(0,t.CE)("div",No,[(0,t.bF)(n,{"error-label":e.$t("validaciones.requerido")},{default:(0,t.k6)(function(){return[(0,t.bF)(r,{class:"q-if-outlined",modelValue:e.formEqui.notafin,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.formEqui.notafin=o}),modelModifiers:{number:!0},"float-label":"Nota Fin",onBlur:e.v$.formEqui.notafin.$touch,error:e.v$.formEqui.notafin.$error},null,8,["modelValue","onBlur","error"])]}),_:1},8,["error-label"])])):(0,t.Q3)("v-if",!0)])])]}),_:1},8,["modelValue","onSubmit"]),(0,t.Lk)("div",vo,[(0,t.Lk)("div",Eo,[(0,t.bF)(C,{data:e.dataEquiNota,columns:e.columnsEquiNota,pagination:e.pagination,"onUpdate:pagination":o[7]||(o[7]=function(o){return e.pagination=o}),"rows-per-page-options":[0],"hide-bottom":""},{"top-left":(0,t.k6)(function(e){return l()(o[11]||(o[11]=[(0,t.Lk)("p",null,"Equivalencia Registro de Notas",-1)]))}),body:(0,t.k6)(function(a){return[(0,t.bF)(p,{props:a},{default:(0,t.k6)(function(){return[(0,t.bF)(u,{key:"INSTRUDES",props:a},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(a.row.INSTRUDES),1)]}),_:2},1032,["props"]),(0,t.bF)(u,{key:"LETRA",props:a},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(a.row.LETRA),1)]}),_:2},1032,["props"]),(0,t.bF)(u,{key:"NOTAINI",props:a},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(a.row.NOTAINI),1),(0,t.bF)(s,{modelValue:a.row.NOTAINI,"onUpdate:modelValue":function(e){return a.row.NOTAINI=e},modelModifiers:{number:!0},buttons:"",onSave:function(o){return e.editarEquiNota(a.row)},disable:!e.acceso},{default:(0,t.k6)(function(){return[(0,t.bF)(r,{class:"q-if-outlined",modelValue:a.row.NOTAINI,"onUpdate:modelValue":function(e){return a.row.NOTAINI=e},modelModifiers:{number:!0},"float-label":"Nota Inicial"},null,8,["modelValue","onUpdate:modelValue"])]}),_:2},1032,["modelValue","onUpdate:modelValue","onSave","disable"])]}),_:2},1032,["props"]),(0,t.bF)(u,{key:"NOTAFIN",props:a},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(a.row.NOTAFIN),1),(0,t.bF)(s,{modelValue:a.row.NOTAFIN,"onUpdate:modelValue":function(e){return a.row.NOTAFIN=e},modelModifiers:{number:!0},buttons:"",onSave:function(o){return e.editarEquiNota(a.row)},disable:!e.acceso},{default:(0,t.k6)(function(){return[(0,t.bF)(r,{class:"q-if-outlined",modelValue:a.row.NOTAFIN,"onUpdate:modelValue":function(e){return a.row.NOTAFIN=e},modelModifiers:{number:!0},"float-label":"Nota Final"},null,8,["modelValue","onUpdate:modelValue"])]}),_:2},1032,["modelValue","onUpdate:modelValue","onSave","disable"])]}),_:2},1032,["props"]),(0,t.bF)(u,{key:"ACCIONES",props:a},{default:(0,t.k6)(function(){return[(0,t.bF)(c,{color:"negative",icon:"delete",flat:"",onClick:function(o){return e.eliminarEquiNota(a.row)},disable:!e.acceso},{default:(0,t.k6)(function(){return[(0,t.bF)(d,{anchor:"bottom middle",self:"top middle"},{default:(0,t.k6)(function(){return l()(o[12]||(o[12]=[(0,t.eW)("Eliminar",-1)]))}),_:1})]}),_:1},8,["onClick","disable"])]}),_:2},1032,["props"])]}),_:2},1032,["props"])]}),_:1},8,["data","columns","pagination"])]),(0,t.Lk)("div",Ro,[(0,t.bF)(C,{data:e.dataEquiCondu,columns:e.columnsEquiNota,pagination:e.pagination,"onUpdate:pagination":o[8]||(o[8]=function(o){return e.pagination=o}),"rows-per-page-options":[0],"hide-bottom":""},{"top-left":(0,t.k6)(function(e){return l()(o[13]||(o[13]=[(0,t.Lk)("p",null,"Equivalencia Registro de Conducta",-1)]))}),body:(0,t.k6)(function(a){return[(0,t.bF)(p,{props:a},{default:(0,t.k6)(function(){return[(0,t.bF)(u,{key:"INSTRUDES",props:a},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(a.row.INSTRUDES),1)]}),_:2},1032,["props"]),(0,t.bF)(u,{key:"LETRA",props:a},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(a.row.LETRA),1)]}),_:2},1032,["props"]),(0,t.bF)(u,{key:"NOTAINI",props:a},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(a.row.NOTAINI),1),(0,t.bF)(s,{modelValue:a.row.NOTAINI,"onUpdate:modelValue":function(e){return a.row.NOTAINI=e},modelModifiers:{number:!0},buttons:"",onSave:function(o){return e.editarEquiCondu(a.row)},disable:!e.acceso},{default:(0,t.k6)(function(){return[(0,t.bF)(r,{class:"q-if-outlined",modelValue:a.row.NOTAINI,"onUpdate:modelValue":function(e){return a.row.NOTAINI=e},modelModifiers:{number:!0},"float-label":"Nota Inicial"},null,8,["modelValue","onUpdate:modelValue"])]}),_:2},1032,["modelValue","onUpdate:modelValue","onSave","disable"])]}),_:2},1032,["props"]),(0,t.bF)(u,{key:"NOTAFIN",props:a},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(a.row.NOTAFIN),1),(0,t.bF)(s,{modelValue:a.row.NOTAFIN,"onUpdate:modelValue":function(e){return a.row.NOTAFIN=e},modelModifiers:{number:!0},buttons:"",onSave:function(o){return e.editarEquiCondu(a.row)},disable:!e.acceso},{default:(0,t.k6)(function(){return[(0,t.bF)(r,{class:"q-if-outlined",modelValue:a.row.NOTAFIN,"onUpdate:modelValue":function(e){return a.row.NOTAFIN=e},modelModifiers:{number:!0},"float-label":"Nota Final"},null,8,["modelValue","onUpdate:modelValue"])]}),_:2},1032,["modelValue","onUpdate:modelValue","onSave","disable"])]}),_:2},1032,["props"]),(0,t.bF)(u,{key:"ACCIONES",props:a},{default:(0,t.k6)(function(){return[(0,t.bF)(c,{color:"negative",icon:"delete",flat:"",onClick:function(o){return e.eliminarEquiCond(a.row)},disable:!e.acceso},{default:(0,t.k6)(function(){return[(0,t.bF)(d,{anchor:"bottom middle",self:"top middle"},{default:(0,t.k6)(function(){return l()(o[14]||(o[14]=[(0,t.eW)("Eliminar",-1)]))}),_:1})]}),_:1},8,["onClick","disable"])]}),_:2},1032,["props"])]}),_:2},1032,["props"])]}),_:1},8,["data","columns","pagination"])]),e.rubrica?((0,t.uX)(),(0,t.CE)("div",Io,[(0,t.bF)(C,{data:e.dataEquiRub,columns:e.columnsEquiRub,pagination:e.pagination,"onUpdate:pagination":o[9]||(o[9]=function(o){return e.pagination=o}),"rows-per-page-options":[0],"hide-bottom":""},{"top-left":(0,t.k6)(function(e){return l()(o[15]||(o[15]=[(0,t.Lk)("p",null,"Equivalencia Rúbrica",-1)]))}),body:(0,t.k6)(function(a){return[(0,t.bF)(p,{props:a},{default:(0,t.k6)(function(){return[(0,t.bF)(u,{key:"LETRA",props:a},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(a.row.LETRA),1)]}),_:2},1032,["props"]),(0,t.bF)(u,{key:"PORCENTAJE",props:a},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(a.row.PORCENTAJE),1),(0,t.bF)(s,{modelValue:a.row.PORCENTAJE,"onUpdate:modelValue":function(e){return a.row.PORCENTAJE=e},modelModifiers:{number:!0},buttons:"",onSave:function(o){return e.editarEquiRub(a.row)},disable:!e.acceso},{default:(0,t.k6)(function(){return[(0,t.bF)(r,{class:"q-if-outlined",modelValue:a.row.PORCENTAJE,"onUpdate:modelValue":function(e){return a.row.PORCENTAJE=e},modelModifiers:{number:!0},"float-label":"Nota Inicial"},null,8,["modelValue","onUpdate:modelValue"])]}),_:2},1032,["modelValue","onUpdate:modelValue","onSave","disable"])]}),_:2},1032,["props"]),(0,t.bF)(u,{key:"ACCIONES",props:a},{default:(0,t.k6)(function(){return[(0,t.bF)(c,{color:"negative",icon:"delete",flat:"",onClick:function(o){return e.eliminarEquiCondRub(a.row)},disable:!e.acceso},{default:(0,t.k6)(function(){return[(0,t.bF)(d,{anchor:"bottom middle",self:"top middle"},{default:(0,t.k6)(function(){return l()(o[16]||(o[16]=[(0,t.eW)("Eliminar",-1)]))}),_:1})]}),_:1},8,["onClick","disable"])]}),_:2},1032,["props"])]}),_:2},1032,["props"])]}),_:1},8,["data","columns","pagination"])])):(0,t.Q3)("v-if",!0)]),e.acceso?((0,t.uX)(),(0,t.Wv)(m,{key:0,expand:"",position:"bottom-right",offset:[20,20]},{default:(0,t.k6)(function(){return[(0,t.bF)(c,{fab:"",round:"",color:"secondary",icon:"add",onClick:o[10]||(o[10]=function(o){return e.showModalEqui=!0})})]}),_:1})):(0,t.Q3)("v-if",!0)])}var go={setup:function(){var e=(0,fe.fG)();return{v$:e}},props:{acceso:{type:Boolean,required:!0}},components:{QTable:c.kH,QTr:c.qh,QTd:c.Ef,QTableColumns:c.$s,QPageSticky:c._U,QBtn:c.Il,Dialog:pe.A,QPopupEdit:c.GT,sieSelect:Oe.A,sieModal:me.A,notify:Ne["default"],QField:c.Om,QInput:c.ie,QTooltip:c.nC},data:function(){return{rubrica:!1,sie:(0,Re["default"])(),dataEquiRub:[],opcNiveles:[{label:"Inicial",value:"I"},{label:"Primaria",value:"P"},{label:"Secundaria",value:"S"}],opcEqui:[{label:"Notas",value:"N"},{label:"Conducta",value:"C"}],opcLetra:[{label:"AD",value:"AD"},{label:"A",value:"A"},{label:"B",value:"B"},{label:"C",value:"C"}],pagination:{sortBy:null,descending:!1,page:1,rowsPerPage:100},columnsEquiRub:[{label:"LETRA",name:"LETRA",field:"LETRA",align:"left"},{label:"PORCENTAJE",name:"PORCENTAJE",field:"PORCENTAJE",align:"left"},{label:"ACCIONES",name:"ACCIONES",align:"center"}],columnsEquiNota:[{label:"NIVEL",name:"INSTRUDES",field:"INSTRUDES",align:"left"},{label:"LETRA",name:"LETRA",field:"LETRA",align:"left"},{label:"NOTA INICIAL",name:"NOTAINI",field:"NOTAINI",align:"left"},{label:"NOTA FINAL",name:"NOTAFIN",field:"NOTAFIN",align:"left"},{label:"ACCIONES",name:"ACCIONES",align:"center"}],dataEquiNota:[],dataEquiCondu:[],showModalEqui:!1,tipo:"",formEqui:{instrucod:"",letra:"",notaini:"",notafin:""}}},validations:{formEqui:{instrucod:{required:Ae.mw},letra:{required:Ae.mw},notaini:{required:Ae.mw,numeric:Ae.sH,minValue:(0,Ae.Ww)(0),maxValue:(0,Ae.cG)(20)},notafin:{required:Ae.mw,numeric:Ae.sH,minValue:(0,Ae.Ww)(0),maxValue:(0,Ae.cG)(20)}},tipo:{required:Ae.mw}},created:function(){this.verificarRubrica(),this.init()},methods:{init:function(){this.obtenerEquivalenciasNota(),this.obtenerEquivalenciasCond()},verificarRubrica:function(){var e=this;this.$http.post("api/evaluacion/enableEvaluacion").then(function(o){if(o){var a=e.opcEqui;a.push({label:"Rúbrica",value:"R"}),e.opcEqui=a,e.obtenerEquivalenciasRub()}e.rubrica=o})},obtenerEquivalenciasRub:function(){var e=this;this.$http.get("api/hyoEquinota/listadoEquivalenciasRubrica").then(function(o){e.dataEquiRub=o})},obtenerEquivalenciasNota:function(){var e=this;this.$http.get("api/hyoEquinota/listadoEquivalencias").then(function(o){e.dataEquiNota=o.json})},obtenerEquivalenciasCond:function(){var e=this;this.$http.get("api/HyoEquicond/listadoEquivalencias").then(function(o){e.dataEquiCondu=o.json})},grabarEqui:function(){"R"===this.tipo?this.grabarEquiRubrica():this.v$.$invalid||(this.v$.$touch(),"N"===this.tipo?this.grabarEquiNota():"C"===this.tipo&&this.grabarEquiCond())},grabarEquiRubrica:function(){var e=this,o=this.formEqui,a=o.letra,n=o.notaini,l={letra:a,porcentaje:n};this.$http.post("api/hyoEquinota/saveEquivalenciaRubrica",{data:l}).then(function(o){(0,Ne["default"])(o.message),e.obtenerEquivalenciasRub(),e.limpiarFormulario()}).catch(function(e){(0,Ne["default"])(e.error.message,"error")}).finally(function(){e.showModalEqui=!0})},grabarEquiNota:function(){var e=this;this.$http.post("api/hyoEquinota/saveEquivalencia",{data:this.formEqui}).then(function(e){(0,Ne["default"])(e.json.message)}).then(function(){e.obtenerEquivalenciasNota(),e.limpiarFormulario()}).catch(function(e){(0,Ne["default"])(e.error.message,"error")})},grabarEquiCond:function(){var e=this;this.$http.post("api/HyoEquicond/saveEquivalencia",{data:this.formEqui}).then(function(e){(0,Ne["default"])(e.json.message)}).then(function(){e.obtenerEquivalenciasCond(),e.limpiarFormulario()}).finally(function(){e.showModalEqui=!0})},editarEquiNota:function(e){var o=this,a={notaini:e.NOTAINI,notafin:e.NOTAFIN},n={letra:e.LETRA,instrucod:e.INSTRUCOD};this.$http.put("api/hyoEquinota/updateEquivalencia",{data:a,where:n}).then(function(e){(0,Ne["default"])(e.json.message)}).catch(function(e){(0,Ne["default"])(e.error.message,"error")}).finally(function(){o.obtenerEquivalenciasNota()})},editarEquiCondu:function(e){var o=this,a={notaini:e.NOTAINI,notafin:e.NOTAFIN},n={letra:e.LETRA,instrucod:e.INSTRUCOD};this.$http.put("api/HyoEquicond/updateEquivalencia",{data:a,where:n}).then(function(e){(0,Ne["default"])(e.json.message)}).catch(function(e){(0,Ne["default"])(e.error.message,"error")}).finally(function(){o.obtenerEquivalenciasCond()})},editarEquiRub:function(e){var o=this,a={porcentaje:e.PORCENTAJE},n={id_equivalencia:e.ID_EQUIVALENCIA};this.$http.post("api/HyoEquinota/updateRubrica",{data:a,where:n}).then(function(e){(0,Ne["default"])(e.message)}).catch(function(e){(0,Ne["default"])(e.error.message,"error")}).finally(function(){o.obtenerEquivalenciasRub()})},eliminarEquiNota:function(e){var o=this;this.$q.dialog({title:"¿Esta seguro de eliminar el registro?",ok:"Si",cancel:"No"}).onOk(function(){var a={instrucod:e.INSTRUCOD,letra:e.LETRA};o.$http.delete("api/hyoEquinota/deleteEquivalencia",{params:{where:a}}).then(function(e){(0,Ne["default"])(e.json.message),o.obtenerEquivalenciasNota()}).catch(function(e){(0,Ne["default"])(e.error.message,"error")})})},eliminarEquiCondRub:function(e){var o=this;this.$q.dialog({title:"¿Esta seguro de eliminar el registro?",ok:"Si",cancel:"No"}).onOk(function(){var a={id_equivalencia:e.ID_EQUIVALENCIA};o.$http.delete("api/HyoEquinota/deleteEquivalenciaRub",{params:{where:a}}).then(function(e){o.obtenerEquivalenciasRub(),(0,Ne["default"])(e.message)}).catch(function(e){console.log(e)})})},eliminarEquiCond:function(e){var o=this;this.$q.dialog({title:"¿Esta seguro de eliminar el registro?",ok:"Si",cancel:"No"}).onOk(function(){var a={instrucod:e.INSTRUCOD,letra:e.LETRA};o.$http.delete("api/HyoEquicond/deleteEquivalencia",{params:{where:a}}).then(function(e){(0,Ne["default"])(e.json.message),o.obtenerEquivalenciasCond()}).catch(function(e){console.log(e)})})},limpiarFormulario:function(){this.formEqui={instrucod:"",letra:"",notaini:"",notafin:""}}}};const To=(0,Se.A)(go,[["render",So]]);var ho=To,Do={class:"scroll-y"},_o={class:"row q-pa-sm"},Uo={class:"col-12"},Vo={class:"col-12"},Fo={class:"col-12"},ko={class:"col-12"};function Lo(e,o){var a=(0,t.g2)("q-td"),n=(0,t.g2)("sie-select"),r=(0,t.g2)("q-popup-edit"),i=(0,t.g2)("q-tr"),u=(0,t.g2)("q-table"),s=(0,t.g2)("q-collapsible"),d=(0,t.g2)("q-tooltip"),c=(0,t.g2)("q-btn"),p=(0,t.g2)("q-fab"),C=(0,t.g2)("q-page-sticky"),m=(0,t.g2)("q-field"),O=(0,t.g2)("sie-modal");return(0,t.uX)(),(0,t.CE)("div",Do,[(0,t.bF)(s,{icon:"cog",label:"Configuración para obtener la Nota Anual",opened:""},{default:(0,t.k6)(function(){return[(0,t.bF)(u,{data:e.dataSalonesProceso,columns:e.columnsProceso,pagination:e.pagination,"onUpdate:pagination":o[0]||(o[0]=function(o){return e.pagination=o}),"rows-per-page-options":[0],"hide-bottom":""},{body:(0,t.k6)(function(o){return[(0,t.bF)(i,{props:o},{default:(0,t.k6)(function(){return[(0,t.bF)(a,{key:"INSTRUDES",props:o},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(o.row.INSTRUDES),1)]}),_:2},1032,["props"]),(0,t.bF)(a,{key:"GRADODES",props:o},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(o.row.GRADODES),1)]}),_:2},1032,["props"]),(0,t.bF)(a,{key:"TIPCALCOMP",props:o},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)("1"===o.row.TIPCALCOMP?"Calculado":"2"===o.row.TIPCALCOMP?"Copia Ult. Per.":"3"===o.row.TIPCALCOMP?"Digitado":"4"===o.row.TIPCALCOMP?"Solo comentarios":"5"===o.row.TIPCALCOMP?"Copia de la Nota del Área":"-"),1),(0,t.bF)(r,{modelValue:o.row.TIPCALCOMP,"onUpdate:modelValue":function(e){return o.row.TIPCALCOMP=e},disable:!e.acceso,count:""},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{modelValue:o.row.TIPCALCOMP,"onUpdate:modelValue":function(e){return o.row.TIPCALCOMP=e},type:"outlined",options:e.opcAnualComp,val:"value",label:"label",placeholder:"Seleccione",onSelected:function(a){return e.actualizarParametro(o.row,"TIPCALCOMP")}},null,8,["modelValue","onUpdate:modelValue","options","onSelected"])]}),_:2},1032,["modelValue","onUpdate:modelValue","disable"])]}),_:2},1032,["props"]),(0,t.bF)(a,{key:"NF_CURSOS",props:o},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)("1"===o.row.NF_CURSOS?"Calculado x PB":"2"===o.row.NF_CURSOS?"Copia Ult. Per.":"3"===o.row.NF_CURSOS?"Digitado":"4"===o.row.NF_CURSOS?"Anual competencias":"-"),1),(0,t.bF)(r,{modelValue:o.row.NF_CURSOS,"onUpdate:modelValue":function(e){return o.row.NF_CURSOS=e},disable:!e.acceso,count:""},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{modelValue:o.row.NF_CURSOS,"onUpdate:modelValue":function(e){return o.row.NF_CURSOS=e},type:"outlined",options:e.opcAnualAreas,val:"value",label:"label",placeholder:"Seleccione",onSelected:function(a){return e.actualizarParametro(o.row,"NF_CURSOS")}},null,8,["modelValue","onUpdate:modelValue","options","onSelected"])]}),_:2},1032,["modelValue","onUpdate:modelValue","disable"])]}),_:2},1032,["props"]),(0,t.bF)(a,{key:"NF_FORMATO",props:o},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(2===o.row.NF_FORMATO?"Decimales":1===o.row.NF_FORMATO?"Enteros":"-"),1),(0,t.bF)(r,{modelValue:o.row.NF_FORMATO,"onUpdate:modelValue":function(e){return o.row.NF_FORMATO=e},disable:!e.acceso,count:""},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{modelValue:o.row.NF_FORMATO,"onUpdate:modelValue":function(e){return o.row.NF_FORMATO=e},type:"outlined",options:e.opcFormatoNF,val:"value",label:"label",placeholder:"Seleccione",onSelected:function(a){return e.actualizarParametro(o.row,"NF_FORMATO")}},null,8,["modelValue","onUpdate:modelValue","options","onSelected"])]}),_:2},1032,["modelValue","onUpdate:modelValue","disable"])]}),_:2},1032,["props"]),(0,t.bF)(a,{key:"NF_CONDUCTA",props:o},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)("1"===o.row.NF_CONDUCTA?"Calculado":"2"===o.row.NF_CONDUCTA?"Copia Ult. Per.":"3"===o.row.NF_CONDUCTA?"Digitado":"-"),1),(0,t.bF)(r,{modelValue:o.row.NF_CONDUCTA,"onUpdate:modelValue":function(e){return o.row.NF_CONDUCTA=e},disable:!e.acceso,count:""},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{modelValue:o.row.NF_CONDUCTA,"onUpdate:modelValue":function(e){return o.row.NF_CONDUCTA=e},type:"outlined",options:e.opcAnualComp,val:"value",label:"label",placeholder:"Seleccione",onSelected:function(a){return e.actualizarParametro(o.row,"NF_CONDUCTA")}},null,8,["modelValue","onUpdate:modelValue","options","onSelected"])]}),_:2},1032,["modelValue","onUpdate:modelValue","disable"])]}),_:2},1032,["props"]),(0,t.bF)(a,{key:"TIPO_CONCLUDESC_ANUAL",props:o},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(1===o.row.TIPO_CONCLUDESC_ANUAL?"Digitado":0===o.row.TIPO_CONCLUDESC_ANUAL?"Copia del periodo":"-"),1),(0,t.bF)(r,{modelValue:o.row.TIPO_CONCLUDESC_ANUAL,"onUpdate:modelValue":function(e){return o.row.TIPO_CONCLUDESC_ANUAL=e},disable:!e.acceso,count:""},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{modelValue:o.row.TIPO_CONCLUDESC_ANUAL,"onUpdate:modelValue":function(e){return o.row.TIPO_CONCLUDESC_ANUAL=e},type:"outlined",options:e.conclusionDescriptiva,val:"value",label:"label",placeholder:"Seleccione",onSelected:function(a){return e.actualizarParametro(o.row,"TIPO_CONCLUDESC_ANUAL")}},null,8,["modelValue","onUpdate:modelValue","options","onSelected"])]}),_:2},1032,["modelValue","onUpdate:modelValue","disable"])]}),_:2},1032,["props"]),(0,t.bF)(a,{key:"TIPO_RES_CIERRE_ANO",props:o},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)("1"===o.row.TIPO_RES_CIERRE_ANO?"Promoción Guiada":"2"===o.row.TIPO_RES_CIERRE_ANO?"Resolución RV-094":"-"),1),(0,t.bF)(r,{modelValue:o.row.TIPO_RES_CIERRE_ANO,"onUpdate:modelValue":function(e){return o.row.TIPO_RES_CIERRE_ANO=e},disable:!e.acceso,count:""},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{modelValue:o.row.TIPO_RES_CIERRE_ANO,"onUpdate:modelValue":function(e){return o.row.TIPO_RES_CIERRE_ANO=e},type:"outlined",options:e.opcTipoResCierreAno,val:"value",label:"label",placeholder:"Seleccione",onSelected:function(a){return e.actualizarParametro(o.row,"TIPO_RES_CIERRE_ANO")}},null,8,["modelValue","onUpdate:modelValue","options","onSelected"])]}),_:2},1032,["modelValue","onUpdate:modelValue","disable"])]}),_:2},1032,["props"]),(0,t.bF)(a,{key:"TIPO_DESAPROBADO_ANUAL",props:o},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(1===o.row.TIPO_DESAPROBADO_ANUAL?"Nota en blanco":2===o.row.TIPO_DESAPROBADO_ANUAL?"Dar Nota Desap.":"-"),1),(0,t.bF)(r,{modelValue:o.row.TIPO_DESAPROBADO_ANUAL,"onUpdate:modelValue":function(e){return o.row.TIPO_DESAPROBADO_ANUAL=e},disable:!e.acceso,count:""},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{modelValue:o.row.TIPO_DESAPROBADO_ANUAL,"onUpdate:modelValue":function(e){return o.row.TIPO_DESAPROBADO_ANUAL=e},type:"outlined",options:e.opcDesaprobadoAnual,val:"value",label:"label",placeholder:"Seleccione",onSelected:function(a){return e.actualizarParametro(o.row,"TIPO_DESAPROBADO_ANUAL")}},null,8,["modelValue","onUpdate:modelValue","options","onSelected"])]}),_:2},1032,["modelValue","onUpdate:modelValue","disable"])]}),_:2},1032,["props"]),(0,t.bF)(a,{key:"TIPO_CIERRE_ANO",props:o},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(1===o.row.TIPO_CIERRE_ANO?"Por Competencias":2===o.row.TIPO_CIERRE_ANO?"Nota del Area":"-"),1),(0,t.bF)(r,{modelValue:o.row.TIPO_CIERRE_ANO,"onUpdate:modelValue":function(e){return o.row.TIPO_CIERRE_ANO=e},disable:!e.acceso,count:""},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{modelValue:o.row.TIPO_CIERRE_ANO,"onUpdate:modelValue":function(e){return o.row.TIPO_CIERRE_ANO=e},type:"outlined",options:e.opcCierreAnual,val:"value",label:"label",placeholder:"Seleccione",onSelected:function(a){return e.actualizarParametro(o.row,"TIPO_CIERRE_ANO")}},null,8,["modelValue","onUpdate:modelValue","options","onSelected"])]}),_:2},1032,["modelValue","onUpdate:modelValue","disable"])]}),_:2},1032,["props"]),(0,t.bF)(a,{key:"VER_NOTA_AREA",props:o},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)("1"===o.row.VER_NOTA_AREA?"Si":"0"===o.row.VER_NOTA_AREA?"No":"-"),1),(0,t.bF)(r,{modelValue:o.row.VER_NOTA_AREA,"onUpdate:modelValue":function(e){return o.row.VER_NOTA_AREA=e},disable:!e.acceso,count:""},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{modelValue:o.row.VER_NOTA_AREA,"onUpdate:modelValue":function(e){return o.row.VER_NOTA_AREA=e},type:"outlined",options:e.opcVerNotaArea,val:"value",label:"label",placeholder:"Seleccione",onSelected:function(a){return e.actualizarParametro(o.row,"VER_NOTA_AREA")}},null,8,["modelValue","onUpdate:modelValue","options","onSelected"])]}),_:2},1032,["modelValue","onUpdate:modelValue","disable"])]}),_:2},1032,["props"])]}),_:2},1032,["props"])]}),_:1},8,["data","columns","pagination"])]}),_:1}),(0,t.Q3)("v-if",!0),(0,t.bF)(C,{expand:"",position:"bottom-right",offset:[20,20]},{default:(0,t.k6)(function(){return[(0,t.bF)(p,{icon:"more_vert",direction:"up",color:"secondary"},{default:(0,t.k6)(function(){return[(0,t.bF)(c,{fab:"",round:"",color:"secondary",icon:"file_excel",onClick:e.exportarReporte},{default:(0,t.k6)(function(){return[(0,t.bF)(d,{anchor:"center left",self:"center right"},{default:(0,t.k6)(function(){return l()(o[8]||(o[8]=[(0,t.eW)("Exportar plantilla",-1)]))}),_:1})]}),_:1},8,["onClick"]),e.acceso?((0,t.uX)(),(0,t.Wv)(c,{key:0,fab:"",round:"",color:"secondary",icon:"cogs",onClick:o[2]||(o[2]=function(o){return e.openModal=!0})},{default:(0,t.k6)(function(){return[(0,t.bF)(d,{anchor:"center left",self:"center right"},{default:(0,t.k6)(function(){return l()(o[9]||(o[9]=[(0,t.eW)("Actualización en bloque",-1)]))}),_:1})]}),_:1})):(0,t.Q3)("v-if",!0),e.acceso?((0,t.uX)(),(0,t.Wv)(c,{key:1,fab:"",round:"",color:"secondary",icon:"copy",onClick:e.copiaCaeAnioPasado},{default:(0,t.k6)(function(){return[(0,t.bF)(d,{anchor:"center left",self:"center right"},{default:(0,t.k6)(function(){return l()(o[10]||(o[10]=[(0,t.eW)("Copiar información del año anterior",-1)]))}),_:1})]}),_:1},8,["onClick"])):(0,t.Q3)("v-if",!0)]}),_:1})]}),_:1}),(0,t.bF)(O,{modelValue:e.openModal,"onUpdate:modelValue":o[7]||(o[7]=function(o){return e.openModal=o}),title:"Actualización en bloque",ok:"Guardar",onSubmit:e.actualizarParametroBloque,onShow:e.getListaNivel,onClose:e.limpiarForm},{default:(0,t.k6)(function(){return[(0,t.Lk)("div",_o,[(0,t.Lk)("div",Uo,[(0,t.bF)(m,{"error-label":e.$t("validaciones.requerido"),error:e.v$.formCae.INSTRUCOD.$error},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{modelValue:e.formCae.INSTRUCOD,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.formCae.INSTRUCOD=o}),type:"outlined",options:e.niveles,label:"INSTRUDES",val:"INSTRUCOD",placeholder:"Niveles",onBlur:e.v$.formCae.INSTRUCOD.$touch},null,8,["modelValue","options","onBlur"])]}),_:1},8,["error-label","error"])]),(0,t.Lk)("div",Vo,[(0,t.bF)(n,{modelValue:e.formCae.TIPCALCOMP,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.formCae.TIPCALCOMP=o}),type:"outlined",options:e.opcAnualComp,label:"label",val:"value",placeholder:"Proceso Anual Competencias"},null,8,["modelValue","options"])]),(0,t.Lk)("div",Fo,[(0,t.bF)(m,{"error-label":e.$t("validaciones.requerido"),error:e.v$.formCae.NF_CURSOS.$error},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{modelValue:e.formCae.NF_CURSOS,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.formCae.NF_CURSOS=o}),type:"outlined",options:e.opcAnualAreas,label:"label",val:"value",placeholder:"Proceso Anual Áreas",onBlur:e.v$.formCae.NF_CURSOS.$touch},null,8,["modelValue","options","onBlur"])]}),_:1},8,["error-label","error"])]),(0,t.Lk)("div",ko,[(0,t.bF)(m,{"error-label":e.$t("validaciones.requerido"),error:e.v$.formCae.NF_CONDUCTA.$error},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{modelValue:e.formCae.NF_CONDUCTA,"onUpdate:modelValue":o[6]||(o[6]=function(o){return e.formCae.NF_CONDUCTA=o}),type:"outlined",options:e.opcAnualComp,label:"label",val:"value",placeholder:"Proceso Conducta",onBlur:e.v$.formCae.NF_CONDUCTA.$touch},null,8,["modelValue","options","onBlur"])]}),_:1},8,["error-label","error"])])])]}),_:1},8,["modelValue","onSubmit","onShow","onClose"])])}var Po=a(69027),qo=function(){var e=[{label:"NIVEL",name:"INSTRUDES",field:"INSTRUDES",align:"left"},{label:"GRADO",name:"GRADODES",field:"GRADODES",align:"left"},{label:"PROCESO ANUAL COMPETENCIA",name:"TIPCALCOMP",field:"TIPCALCOMP",align:"center"},{label:"PROCESO ANUAL ÁREA",name:"NF_CURSOS",field:"NF_CURSOS",align:"center"},{label:"FORMATO CÁLCULO ANUAL ÁREA",name:"NF_FORMATO",field:"NF_FORMATO",align:"center"},{label:"PROCESO ANUAL CONDUCTA",name:"NF_CONDUCTA",field:"NF_CONDUCTA",align:"center"},{label:"PROCESO CONCLUSIÓN DESCRIPTIVA",name:"TIPO_CONCLUDESC_ANUAL",field:"TIPO_CONCLUDESC_ANUAL",align:"center"}];return(0,Re["default"])().ano>=2020&&(0,Re["default"])().ano<=2022&&(e.push({label:"DESAPROBADO ANUAL",name:"TIPO_DESAPROBADO_ANUAL",field:"TIPO_DESAPROBADO_ANUAL",align:"center"}),e.push({label:"CIERRE ANUAL",name:"TIPO_CIERRE_ANO",field:"TIPO_CIERRE_ANO",align:"center",hidden:!0})),(0,Re["default"])().ano>=2023&&e.push({label:"VER NOTA DEL AREA",name:"VER_NOTA_AREA",field:"VER_NOTA_AREA",align:"center",hidden:!0}),e},wo={setup:function(){var e=(0,fe.fG)();return{v$:e}},props:{acceso:{type:Boolean,required:!0}},components:{QTable:c.kH,QTr:c.qh,QTd:c.Ef,QBtn:c.Il,Dialog:pe.A,QPageSticky:c._U,QFab:c.l6,QFabAction:c.B$,QPopupEdit:c.GT,QCollapsible:c.eS,sieSelect:Oe.A,sieModal:me.A,sieInfo:Re["default"],notify:Ne["default"],QTooltip:c.nC,QField:c.Om},data:function(){return{openModal:!1,opcAnualComp:[{label:"Ninguno",value:null},{label:"Calculado",value:"1"},{label:"Copia Ult. Per.",value:"2"},{label:"Digitado",value:"3"},{label:"Solo comentarios",value:"4"}],conclusionDescriptiva:[{label:"Ninguno",value:null},{label:"Copia del Periodo",value:0},{label:"Digitado.",value:1}],opcAnualAreas:[{label:"Ninguno",value:null},{label:"Calculado x PB",value:"1"},{label:"Copia Ult. Per.",value:"2"},{label:"Digitado",value:"3"},{label:"Anual competencias",value:"4"}],opcRepitentes:[{label:"Ninguno",value:null},{label:"LM",value:"LM"},{label:"CI",value:"CI"},{label:"CA",value:"CA"},{label:"PS",value:"PS"}],opcDesaprobadoAnual:[{label:"Ninguno",value:null},{label:"Nota en blanco",value:1},{label:"Dar Nota Desap.",value:2}],opcCierreAnual:[{label:"Ninguno",value:null},{label:"Por Competencias",value:1},{label:"Nota del Area",value:2}],opcVerNotaArea:[{label:"Sí",value:1},{label:"No",value:0}],opcFormatoNF:[{label:"Ninguno",value:null},{label:"Enteros",value:1},{label:"Decimales",value:2}],opcTipoResCierreAno:[{label:"Promoción Guiada",value:"1"},{label:"Resolución RV-094",value:"2"}],pagination:{sortBy:null,descending:!1,page:1,rowsPerPage:100},columnsProceso:[],columnsRepitencia:[{label:"NIVEL",name:"INSTRUDES",field:"INSTRUDES",align:"left"},{label:"GRADO",name:"GRADODES",field:"GRADODES",align:"left"},{label:"ÁREA",name:"CURSONOM",field:"CURSONOM",align:"left"},{label:"MINISTERIO",name:"CAE",field:"CAE",align:"left"}],niveles:[],dataSalonesProceso:[],dataCursosCae:[],formCae:{INSTRUCOD:"",NF_CONDUCTA:"",NF_CURSOS:"",TIPCALCOMP:""}}},validations:{formCae:{INSTRUCOD:{required:Ae.mw},NF_CONDUCTA:{required:Ae.mw},NF_CURSOS:{required:Ae.mw}}},methods:{init:function(){this.obtenerSalonesCae(),this.obtenerCursosRepitentesCae(),(0,Re["default"])().ano>=2023&&this.opcAnualComp.push({label:"Copia de la Nota del Área",value:"5"})},getListaNivel:function(){var e=this;this.$http.get("api/HyoInstrus/obtInstru").then(function(o){var a=o.json;a.unshift({INSTRUCOD:"T",INSTRUDES:"Todos",INSTRUANO:0}),e.niveles=a})},obtenerSalonesCae:function(){var e=this;this.$http.get("api/HyoSalones/listarSalonesCAE").then(function(o){e.dataSalonesProceso=o.json})},obtenerCursosRepitentesCae:function(){var e=this;this.$http.get("api/Hyocurgra/listadoRepitentesCAE").then(function(o){e.dataCursosCae=o.json})},actualizarParametro:function(e,o){var a=this,n={INSTRUCOD:e.INSTRUCOD,GRADOCOD:e.GRADOCOD},l={campo:o,valor:e[o]};this.$http.post("api/HyoSalones/actualizarCampo",{data:l,where:n}).then(function(e){(0,Ne["default"])(e.json.message)}).finally(function(){a.obtenerSalonesCae()})},actualizarParametroBloque:function(){var e=this;this.v$.$touch(),this.v$.$invalid||this.$http.post("api/HyoSalones/actualizarCampoBloque",{data:this.formCae}).then(function(e){(0,Ne["default"])(e.json.message)}).then(function(){e.openModal=!1}).finally(function(){e.obtenerSalonesCae()})},actualizarCae:function(e){var o={INSTRUCOD:e.INSTRUCOD,GRADOCOD:e.GRADOCOD,CURSOCOD:e.CURSOCOD},a={cae:e.CAE};this.$http.post("api/Hyocurgra/actualizarCae",{data:a,where:o}).then(function(e){(0,Ne["default"])(e.json.message)})},limpiarForm:function(){this.formCae={INSTRUCOD:"",NF_CONDUCTA:"",NF_CURSOS:""}},exportarReporte:function(){var e="/academico/proceso-calculo-de-notas-anuales/exportar?sie-token="+(0,Re["default"])().token;window.open(e,"_blank")},copiaCaeAnioPasado:function(){var e=this;return d()(u()().m(function o(){var a;return u()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,e.$http.get("api/HyoAnos/isAnoVigente",{});case 1:a=o.v,!0===a.json.vigente?(0,Po.dialogGeneral)({title:e.$t("confirmar"),message:"Desea copiar la información de cierre de año del año anterior?\n\nEl proceso es irreversible.",ok:e.$t("botones.aceptar"),cancel:e.$t("botones.cancelar")}).then(function(o){e.$http.post("api/Hyocurgra/copiarInfoCaeAnioAnt",{}).then(function(o){e.obtenerSalonesCae(),(0,Ne["default"])(o.json.message)})}).catch(function(e){console.log("error",e)}):(0,Ne["default"])("El año está cerrado","warning");case 2:return o.a(2)}},o)}))()}},created:function(){this.columnsProceso=qo(),this.init()}};const yo=(0,Se.A)(wo,[["render",Lo]]);var Go=yo,Mo={class:"column"},$o={class:"col"},Qo={class:"q-px-sm"};function Bo(e,o){var a=(0,t.g2)("sie-upload"),n=(0,t.g2)("q-toggle");return(0,t.uX)(),(0,t.CE)("div",null,[(0,t.Lk)("div",Mo,[(0,t.Lk)("div",$o,[(0,t.bF)(a,{onUpload:e.upload,name:!0,title:"Clic para subir las firmas",allow:["jpg"],preview:!1,multiple:0===e.data.isDirector||0===e.data.isWithSello},null,8,["onUpload","multiple"])]),(0,t.Lk)("div",Qo,[(0,t.bF)(n,{modelValue:e.data.isDirector,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.data.isDirector=o}),label:"¿Es firma del director(a)?","left-label":"","true-value":1,"false-value":0},null,8,["modelValue"]),(0,t.bF)(n,{class:"q-mx-sm",modelValue:e.data.isCoordinador,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.data.isCoordinador=o}),label:"¿Es firma de coordinador(a)?","left-label":"","true-value":1,"false-value":0},null,8,["modelValue"]),(0,t.bF)(n,{class:"q-mx-sm",modelValue:e.data.isWithSello,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.data.isWithSello=o}),label:"¿Tiene sello? (se mostrará centrado)","left-label":"","true-value":1,"false-value":0},null,8,["modelValue"])])])])}a(56285),a(52776),a(84433);var Wo=a(59089),Ho=a(33950),jo={props:{acceso:{type:Boolean,required:!0}},components:{QCard:c.C$,QPopover:c.VM,QInnerLoading:c.SQ,QSpinnerOval:c.VA,QPageSticky:c._U,QDialog:c.OQ,QToggle:c.c5,QFab:c.l6,QFabAction:c.B$,QAlert:c.ex,Dialog:pe.A,sieUpload:Wo.A,sieVacio:Ce.A,sieModal:me.A,Upload:Ho["default"],notify:Ne["default"]},data:function(){return{openModal:!1,loadBtn:!1,data:{isDirector:0,isWithSello:0,isCoordinador:0,firmas:[]}}},methods:{clean:function(){this.data.firmas=[]},validate:function(e){var o;return o=1===this.data.isDirector?/[firma_direct].jpg/:1===this.data.isCoordinador?/coord_[a-z]{1}.jpg/:1===this.data.isWithSello?/[sello]([0-9]{1})?.jpg/:/\d{6,8}.jpg/,o.test(e)},upload:function(e){var o=this,a=e.length;e.forEach(function(e){var n=e.name;o.validate(n)?(o.clean(),(0,Ho["default"])({file:e}).then(function(e){var a=e.name;o.data.firmas.push({name:n,temp:a})}).then(function(){a===o.data.firmas.length&&o.$q.dialog({title:"¿Desea subir las firmas?",ok:"SI",cancel:"NO"}).onOk(function(){o.$http.post("api/HyoLibreta/subirFirmas",o.data).then(function(e){(0,Ne["default"])(e.json.message,"success")}).catch(function(e){(0,Ne["default"])(e.error.message,"error")}).finally(function(){o.clean()})})}).catch(function(e){console.log(e)})):(0,Ne["default"])("El nombre y/o el formato de la imagen ".concat(n," no es correcta"),"error")})}}};const Xo=(0,Se.A)(jo,[["render",Bo]]);var xo=Xo,zo={class:"scroll-y"},Yo={class:"column q-pa-sm"};function Jo(e,o){var a=(0,t.g2)("q-td"),n=(0,t.g2)("sie-select"),r=(0,t.g2)("q-popup-edit"),i=(0,t.g2)("q-tooltip"),u=(0,t.g2)("q-btn"),s=(0,t.g2)("q-tr"),d=(0,t.g2)("q-table"),c=(0,t.g2)("q-collapsible"),p=(0,t.g2)("q-fab"),C=(0,t.g2)("q-page-sticky"),m=(0,t.g2)("q-field"),O=(0,t.g2)("q-select"),b=(0,t.g2)("sie-modal");return(0,t.uX)(),(0,t.CE)("div",zo,[(0,t.bF)(c,{icon:"cog",label:"Configuración de Cursos Especiales para la Nota Anual",opened:""},{default:(0,t.k6)(function(){return[(0,t.bF)(d,{data:e.dataCursosEspeciales,columns:e.columnsCursosEspeciales,pagination:e.pagination,"onUpdate:pagination":o[0]||(o[0]=function(o){return e.pagination=o}),"rows-per-page-options":[0],"hide-bottom":""},{body:(0,t.k6)(function(d){return[(0,t.bF)(s,{props:d},{default:(0,t.k6)(function(){return[(0,t.bF)(a,{key:"INSTRUDES",props:d},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(d.row.INSTRUDES),1)]}),_:2},1032,["props"]),(0,t.bF)(a,{key:"GRADODES",props:d},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(d.row.GRADODES),1)]}),_:2},1032,["props"]),(0,t.bF)(a,{key:"CURSONOM",props:d},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)(d.row.CURSONOM),1)]}),_:2},1032,["props"]),(0,t.bF)(a,{key:"TIPCALCOMP",props:d},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)("1"===d.row.TIPCALCOMP?"Calculado":"2"===d.row.TIPCALCOMP?"Copia Ult. Per.":"3"===d.row.TIPCALCOMP?"Digitado":"4"===d.row.TIPCALCOMP?"Solo comentarios":"-"),1),(0,t.bF)(r,{modelValue:d.row.TIPCALCOMP,"onUpdate:modelValue":function(e){return d.row.TIPCALCOMP=e},disable:!e.acceso,count:""},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{modelValue:d.row.TIPCALCOMP,"onUpdate:modelValue":function(e){return d.row.TIPCALCOMP=e},type:"outlined",options:e.opcAnualComp,val:"value",label:"label",placeholder:"Seleccione",onSelected:function(o){return e.actualizarParametro(d.row,"TIPCALCOMP")}},null,8,["modelValue","onUpdate:modelValue","options","onSelected"])]}),_:2},1032,["modelValue","onUpdate:modelValue","disable"])]}),_:2},1032,["props"]),(0,t.bF)(a,{key:"NF_CURSOS",props:d},{default:(0,t.k6)(function(){return[(0,t.eW)((0,f.v_)("1"===d.row.NF_CURSOS?"Calculado x PB":"2"===d.row.NF_CURSOS?"Copia Ult. Per.":"3"===d.row.NF_CURSOS?"Digitado":"4"===d.row.NF_CURSOS?"Anual competencias":"-"),1),(0,t.bF)(r,{modelValue:d.row.NF_CURSOS,"onUpdate:modelValue":function(e){return d.row.NF_CURSOS=e},disable:!e.acceso,count:""},{default:(0,t.k6)(function(){return[(0,t.bF)(n,{modelValue:d.row.NF_CURSOS,"onUpdate:modelValue":function(e){return d.row.NF_CURSOS=e},type:"outlined",options:e.opcAnualAreas,val:"value",label:"label",placeholder:"Seleccione",onSelected:function(o){return e.actualizarParametro(d.row,"NF_CURSOS")}},null,8,["modelValue","onUpdate:modelValue","options","onSelected"])]}),_:2},1032,["modelValue","onUpdate:modelValue","disable"])]}),_:2},1032,["props"]),(0,t.bF)(a,{key:"ACCIONES",props:d},{default:(0,t.k6)(function(){return[(0,t.bF)(u,{color:"negative",icon:"delete",flat:"",onClick:function(o){return e.eliminarCursoEspecial(d.row)},disable:!e.acceso},{default:(0,t.k6)(function(){return[(0,t.bF)(i,{anchor:"bottom middle",self:"top middle"},{default:(0,t.k6)(function(){return l()(o[8]||(o[8]=[(0,t.eW)("Eliminar",-1)]))}),_:1})]}),_:1},8,["onClick","disable"])]}),_:2},1032,["props"])]}),_:2},1032,["props"])]}),_:1},8,["data","columns","pagination"])]}),_:1}),(0,t.bF)(C,{expand:"",position:"bottom-right",offset:[20,20]},{default:(0,t.k6)(function(){return[(0,t.bF)(p,{icon:"more_vert",direction:"up",color:"secondary"},{default:(0,t.k6)(function(){return[(0,t.bF)(u,{fab:"",round:"",color:"secondary",icon:"file_excel",onClick:e.exportarReporte},{default:(0,t.k6)(function(){return[(0,t.bF)(i,{anchor:"center left",self:"center right"},{default:(0,t.k6)(function(){return l()(o[9]||(o[9]=[(0,t.eW)("Exportar",-1)]))}),_:1})]}),_:1},8,["onClick"]),e.acceso?((0,t.uX)(),(0,t.Wv)(u,{key:0,fab:"",round:"",color:"secondary",icon:"add",onClick:o[1]||(o[1]=function(o){return e.openModal=!0})},{default:(0,t.k6)(function(){return[(0,t.bF)(i,{anchor:"center left",self:"center right"},{default:(0,t.k6)(function(){return l()(o[10]||(o[10]=[(0,t.eW)("Registrar",-1)]))}),_:1})]}),_:1})):(0,t.Q3)("v-if",!0),e.acceso?((0,t.uX)(),(0,t.Wv)(u,{key:1,fab:"",round:"",color:"secondary",icon:"copy",onClick:e.copiaAnioPasado},{default:(0,t.k6)(function(){return[(0,t.bF)(i,{anchor:"center left",self:"center right"},{default:(0,t.k6)(function(){return l()(o[11]||(o[11]=[(0,t.eW)("Copiar información del año anterior",-1)]))}),_:1})]}),_:1},8,["onClick"])):(0,t.Q3)("v-if",!0)]}),_:1})]}),_:1}),(0,t.bF)(b,{modelValue:e.openModal,"onUpdate:modelValue":o[7]||(o[7]=function(o){return e.openModal=o}),title:"Añadir Cursos Especiales",onSubmit:e.grabarCursoEspecial,ok:"Guardar"},{default:(0,t.k6)(function(){return[(0,t.Lk)("div",Yo,[(0,t.Lk)("div",null,[(0,t.bF)(m,{"error-label":e.$t("validaciones.requerido"),error:e.v$.formCurEsp.instrucod.$error},null,8,["error-label","error"]),(0,t.bF)(O,{class:"q-if-outlined",modelValue:e.formCurEsp.instrucod,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.formCurEsp.instrucod=o}),options:e.opcNiveles,label:"Nivel",onInput:e.seleccionaInstru,filter:""},null,8,["modelValue","options","onInput"]),(0,t.bF)(m,{"error-label":e.$t("validaciones.requerido"),error:e.v$.formCurEsp.gradocod.$error},null,8,["error-label","error"]),(0,t.bF)(O,{class:"q-if-outlined",modelValue:e.formCurEsp.gradocod,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.formCurEsp.gradocod=o}),options:e.grados,label:"Grado",onInput:e.seleccionaGrado},null,8,["modelValue","options","onInput"]),(0,t.bF)(m,{"error-label":e.$t("validaciones.requerido"),error:e.v$.formCurEsp.cursocod.$error},null,8,["error-label","error"]),(0,t.bF)(O,{class:"q-if-outlined",modelValue:e.formCurEsp.cursocod,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.formCurEsp.cursocod=o}),options:e.cursos,label:"Curso",onInput:e.seleccionaCurso},null,8,["modelValue","options","onInput"]),(0,t.bF)(m,{"error-label":e.$t("validaciones.requerido"),error:e.v$.formCurEsp.tipcalcomp.$error},{default:(0,t.k6)(function(){return[(0,t.bF)(O,{class:"q-if-outlined",modelValue:e.formCurEsp.tipcalcomp,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.formCurEsp.tipcalcomp=o}),val:"value",options:e.opcAnualComp,label:"Proceso Anual Competencia"},null,8,["modelValue","options"])]}),_:1},8,["error-label","error"]),(0,t.bF)(m,{"error-label":e.$t("validaciones.requerido"),error:e.v$.formCurEsp.nf_cursos.$error},{default:(0,t.k6)(function(){return[(0,t.bF)(O,{class:"q-if-outlined",modelValue:e.formCurEsp.nf_cursos,"onUpdate:modelValue":o[6]||(o[6]=function(o){return e.formCurEsp.nf_cursos=o}),val:"value",options:e.opcAnualAreas,label:"Proceso Anual Area"},null,8,["modelValue","options"])]}),_:1},8,["error-label","error"])])])]}),_:1},8,["modelValue","onSubmit"])])}var Zo=a(16648),Ko={setup:function(){var e=(0,fe.fG)();return{v$:e}},props:{acceso:{type:Boolean,required:!0}},components:{QTable:c.kH,QSelect:Zo.A,QTr:c.qh,QTd:c.Ef,QBtn:c.Il,Dialog:pe.A,QPageSticky:c._U,QFab:c.l6,QFabAction:c.B$,QPopupEdit:c.GT,QCollapsible:c.eS,sieSelect:Oe.A,sieModal:me.A,sieInfo:Re["default"],notify:Ne["default"],QTooltip:c.nC,QField:c.Om},data:function(){return{openModal:!1,opcAnualComp:[{label:"- Seleccione -",value:""},{label:"Calculado",value:"1"},{label:"Copia Ult. Per.",value:"2"},{label:"Digitado",value:"3"},{label:"Solo comentarios",value:"4"}],opcAnualAreas:[{label:"- Seleccione -",value:""},{label:"Calculado x PB",value:"1"},{label:"Copia Ult. Per.",value:"2"},{label:"Digitado",value:"3"},{label:"Anual competencias",value:"4"}],columnsCursosEspeciales:[{label:"NIVEL",name:"INSTRUDES",field:"INSTRUDES",align:"left"},{label:"GRADO",name:"GRADODES",field:"GRADODES",align:"left"},{label:"CURSO",name:"CURSONOM",field:"CURSONOM",align:"left"},{label:"PROCESO ANUAL COMPETENCIA",name:"TIPCALCOMP",field:"TIPCALCOMP",align:"center"},{label:"PROCESO ANUAL ÁREA",name:"NF_CURSOS",field:"NF_CURSOS",align:"center"},{label:"ACCIONES",name:"ACCIONES",align:"center"}],pagination:{sortBy:null,descending:!1,page:1,rowsPerPage:100},dataCursosEspeciales:[],dataCurGra:[],formCurEsp:{instrucod:"",gradocod:"",cursocod:"",tipcalcomp:"",nf_cursos:""},vmFiltro:{instrucod:"I",gradocod:"",gradodes:"",cursos:[],curso:null,bimecod:1},opcNiveles:[],opcGrados:[],opcGradosTmp:[],opcCursosTmp:[]}},validations:{formCurEsp:{instrucod:{required:Ae.mw},gradocod:{required:Ae.mw},cursocod:{required:Ae.mw},tipcalcomp:{required:Ae.mw},nf_cursos:{required:Ae.mw}}},computed:{grados:function(){var e=this.vmFiltro.instrucod,o=[],a=this.opcGradosTmp[e];for(var n in o.push({label:"- Selecione -",value:""}),a)o.push({label:a[n].GRADODES,value:a[n].GRADOCOD});return o},cursos:function(){var e=[],o=this.vmFiltro.instrucod,a=this.vmFiltro.gradocod,n=this.opcCursosTmp[o+""+a];for(var l in e.push({label:"- Selecione -",value:""}),n)e.push({label:n[l].CURSONOM,value:n[l].CURSOCOD});return e}},methods:{init:function(){this.obtenerCursosEspeciales(),this.obtenerCursoAnio()},limpiarFormulario:function(){this.formCurEsp={instrucod:"",gradocod:"",cursocod:"",tipcalcomp:"",nf_cursos:""}},seleccionaInstru:function(e){this.vmFiltro.instrucod=e,this.formCurEsp.gradocod="",this.formCurEsp.cursocod=""},seleccionaGrado:function(e){this.vmFiltro.gradocod=e,this.formCurEsp.cursocod=""},seleccionaCurso:function(e){this.vmFiltro.cursocod=e},grabarCursoEspecial:function(){var e=this;return""===this.formCurEsp.instrucod?((0,Ne["default"])("Seleccionar Nivel","warning"),!1):""===this.formCurEsp.gradocod?((0,Ne["default"])("Seleccionar Grado","warning"),!1):""===this.formCurEsp.cursocod?((0,Ne["default"])("Seleccionar Curso","warning"),!1):""===this.formCurEsp.tipcalcomp?((0,Ne["default"])("Seleccionar Proceso Anual Competencias","warning"),!1):""===this.formCurEsp.nf_cursos?((0,Ne["default"])("Seleccionar Proceso Anual Area","warning"),!1):void this.$http.post("api/HyoConfigcursonotaAnual/saveConfNotaAnual",{data:this.formCurEsp}).then(function(e){(0,Ne["default"])(e.json.message)}).then(function(){e.obtenerCursosEspeciales(),e.limpiarFormulario()}).catch(function(e){(0,Ne["default"])(e.error.message,"error")})},eliminarCursoEspecial:function(e){var o=this;this.$q.dialog({title:"¿Esta seguro de eliminar el registro?",ok:"Si",cancel:"No"}).onOk(function(){var a={ano:e.ANO,instrucod:e.INSTRUCOD,gradocod:e.GRADOCOD,cursocod:e.CURSOCOD};o.$http.delete("api/HyoConfigcursonotaAnual/deleteCursoEsp",{params:{where:a}}).then(function(e){(0,Ne["default"])(e.json.message),o.obtenerCursosEspeciales()}).catch(function(e){(0,Ne["default"])(e.error.message,"error")})})},obtenerCursosEspeciales:function(){var e=this;this.$http.get("api/HyoConfigcursonotaAnual/listarCursos").then(function(o){e.dataCursosEspeciales=o.json})},obtenerCursoAnio:function(){var e=this;this.$http.get("api/Hyocurgra/listadoCursosAnio").then(function(o){e.dataCurGra=o.json;var a={},n=[],l={},t={};for(var r in e.dataCurGra.forEach(function(e){a[e.INSTRUCOD]={INSTRUCOD:e.INSTRUCOD,INSTRUDES:e.INSTRUDES},l.hasOwnProperty(e.INSTRUCOD)||(l[e.INSTRUCOD]={}),l[e.INSTRUCOD][e.GRADOCOD]={INSTRUCOD:e.INSTRUCOD,INSTRUDES:e.INSTRUDES,GRADOCOD:e.GRADOCOD,GRADODES:e.GRADODES},t.hasOwnProperty(e.INSTRUCOD+""+e.GRADOCOD)||(t[e.INSTRUCOD+""+e.GRADOCOD]={}),t[e.INSTRUCOD+""+e.GRADOCOD][e.CURSOCOD]={CURSOCOD:e.CURSOCOD,CURSONOM:e.CURSONOM}}),n.push({label:"- Selecione -",value:""}),a)n.push({label:a[r].INSTRUDES,value:a[r].INSTRUCOD});e.opcNiveles=n,e.opcGradosTmp=l,e.opcCursosTmp=t})},actualizarParametro:function(e,o){var a=this,n={INSTRUCOD:e.INSTRUCOD,GRADOCOD:e.GRADOCOD,CURSOCOD:e.CURSOCOD},l={campo:o,valor:e[o]};this.$http.post("api/HyoConfigcursonotaAnual/actualizarCampo",{data:l,where:n}).then(function(e){(0,Ne["default"])(e.json.message)}).finally(function(){a.obtenerCursosEspeciales()})},exportarReporte:function(){var e="/academico/proceso-calculo-de-notas-anuales/exportar?sie-token="+(0,Re["default"])().token+"&caso=cursosespeciales";window.open(e,"_blank")},copiaAnioPasado:function(){var e=this;return d()(u()().m(function o(){var a;return u()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,e.$http.get("api/HyoAnos/isAnoVigente",{});case 1:a=o.v,!0===a.json.vigente?(0,Po.dialogGeneral)({title:e.$t("confirmar"),message:"Desea copiar la información de los Cursos Especiales del año anterior?\n\nEl proceso es irreversible.",ok:e.$t("botones.aceptar"),cancel:e.$t("botones.cancelar")}).then(function(o){e.$http.post("api/HyoConfigCursoNotaAnual/copiarInfoAnioAnt",{}).then(function(o){e.obtenerCursoAnio(),(0,Ne["default"])(o.json.message)})}).catch(function(e){console.log("error",e)}):(0,Ne["default"])("El año está cerrado","warning");case 2:return o.a(2)}},o)}))()}},created:function(){this.init()}};const ea=(0,Se.A)(Ko,[["render",Jo]]);var oa=ea,aa=a(81288),na={components:{QTabs:c.uw,QTab:c.zu,QTabPane:c.dg,sieInfo:Re["default"],libretas:Te,notas:qe,notasfull:We,conducta:to,equivalencia:ho,cae:Go,firmas:xo,cursosEspeciales:oa,conductaZend:Co,QPage:c.Tu,QToolbar:c.ZV,QToolbarTitle:c.r_},data:function(){return{acceso:(0,Re["default"])().ruta.nivel>=2,isCursoEspecial:(0,Re["default"])().ano>=2020,isStart:"start"===(0,Re["default"])().sistema,isConductaZend:!1}},created:function(){this.init()},methods:{init:function(){var e=this;return d()(u()().m(function o(){var a;return u()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,(0,aa.constantes)(["REGISTRO_CONDUCTA_VUE"]);case 1:a=o.v,e.isConductaZend=a.REGISTRO_CONDUCTA_VUE;case 2:return o.a(2)}},o)}))()}}};const la=(0,Se.A)(na,[["render",r]]);var ta=la}}]);