"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[5309],{5309:function(e,o,t){t.r(o),t.d(o,{default:function(){return y}});var l=t(8445),n=t.n(l),a=t(61758),i={class:"row q-gutter-sm q-pa-sm"},r={class:"q-card col q-py-sm"},s={key:0,class:"q-ma-sm"},c={class:"row q-gutter-sm q-gutter-sm"},u={key:1,class:"q-ma-sm"},d={class:"row q-gutter-sm q-gutter-sm"},f={key:2,class:"q-ma-sm"},p={class:"row q-gutter-sm q-gutter-sm"},A={class:"col row justify-center q-gutter-md"};function C(e,o){var t=(0,a.g2)("header-btn"),l=(0,a.g2)("q-card"),C=(0,a.g2)("q-list-header"),I=(0,a.g2)("q-radio"),m=(0,a.g2)("q-item-label"),b=(0,a.g2)("q-item-section"),v=(0,a.g2)("q-item"),F=(0,a.g2)("q-list"),g=(0,a.g2)("q-input"),O=(0,a.g2)("q-select"),S=(0,a.g2)("q-btn"),_=(0,a.g2)("q-toolbar"),q=(0,a.g2)("q-page");return(0,a.uX)(),(0,a.Wv)(q,null,{default:(0,a.k6)(function(){return[(0,a.bF)(l,{class:"layout-v1 my-card",flat:"",bordered:""},{default:(0,a.k6)(function(){return[(0,a.bF)(t,{name:"Reporte",buttons:e.buttons},null,8,["buttons"])]}),_:1}),(0,a.Lk)("div",i,[(0,a.bF)(F,{class:"col-6 q-card",bordered:"",separator:""},{default:(0,a.k6)(function(){return[(0,a.bF)(C,null,{default:(0,a.k6)(function(){return n()(o[8]||(o[8]=[(0,a.Lk)("span",null,"Reportes",-1)]))}),_:1}),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.tiposReportes,function(t){return(0,a.uX)(),(0,a.Wv)(v,{clickable:""},{default:(0,a.k6)(function(){return[(0,a.bF)(b,{class:"row"},{default:(0,a.k6)(function(){return[(0,a.bF)(m,null,{default:(0,a.k6)(function(){return[(0,a.bF)(I,{modelValue:e.tipoSeleccionado,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.tipoSeleccionado=o}),val:t.code,label:t.label},null,8,["modelValue","val","label"])]}),_:2},1024)]}),_:2},1024)]}),_:2},1024)}),256))]}),_:1}),(0,a.Lk)("div",r,[(0,a.bF)(C,null,{default:(0,a.k6)(function(){return n()(o[9]||(o[9]=[(0,a.Lk)("span",null,"Parametros",-1)]))}),_:1}),e.tipoSeleccionado?((0,a.uX)(),(0,a.CE)("div",s,[(0,a.Lk)("div",c,[(0,a.bF)(g,{class:"col",type:"date",label:"Fecha de Inicio",modelValue:e.filtros.FECHA_INICIO,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.filtros.FECHA_INICIO=o}),disable:!e.camposActivos[e.tipoSeleccionado].FECHA_INICIO},null,8,["modelValue","disable"]),(0,a.bF)(g,{class:"col",type:"date",label:"Fecha de Fin",modelValue:e.filtros.FECHA_FIN,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.filtros.FECHA_FIN=o}),disable:!e.camposActivos[e.tipoSeleccionado].FECHA_INICIO},null,8,["modelValue","disable"])])])):(0,a.Q3)("v-if",!0),e.tipoSeleccionado?((0,a.uX)(),(0,a.CE)("div",u,[(0,a.Lk)("div",d,[(0,a.bF)(O,{class:"col",modelValue:e.filtros.CATALOGO,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.filtros.CATALOGO=o}),label:"Catalogo","use-input":"",options:e.catalogos,onFilter:e.filterFn,"option-value":"ID_CATALOGO","option-label":"DESCRIPCION",onInput:o[4]||(o[4]=function(o){return null===e.filtros.ACTIVOS}),disable:!e.camposActivos[e.tipoSeleccionado].CATALOGO},null,8,["modelValue","options","onFilter","disable"])])])):(0,a.Q3)("v-if",!0),e.tipoSeleccionado?((0,a.uX)(),(0,a.CE)("div",f,[(0,a.Lk)("div",p,[(0,a.bF)(O,{class:"col",modelValue:e.filtros.ACTIVOS,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.filtros.ACTIVOS=o}),label:"Activo","use-input":"",options:e.activos,onFilter:e.filterActivos,"option-value":"ID_ACTIVO","option-label":"DESCRIPCION",multiple:"","use-chips":"",disable:!e.camposActivos[e.tipoSeleccionado].ACTIVOS},null,8,["modelValue","options","onFilter","disable"])])])):(0,a.Q3)("v-if",!0)])]),(0,a.bF)(_,{class:"q-card",inverted:""},{default:(0,a.k6)(function(){return[(0,a.Lk)("div",A,[(0,a.bF)(S,{color:"primary",label:"Exp. PDF",icon:"file_pdf_o",onClick:o[6]||(o[6]=function(o){return e.exportar("pdf")})}),(0,a.bF)(S,{color:"primary",label:"Exp. EXCEL",icon:"file_excel",onClick:o[7]||(o[7]=function(o){return e.exportar("xls")})})])]}),_:1})]}),_:1})}var I=t(76080),m=t.n(I),b=t(45254),v=t.n(b),F=t(57008),g=t.n(F),O=(t(71225),t(50310),t(5962),t(83190),t(6123)),S=t(33777),_=t(2819),q=t(99515),E=t(88567),h=t(16648),k=t(95718),L=t(9736),T=t(65673),V=t(82327),N=t(66824),w=t(88865),H=t(18105),D={components:{SieTable:S.A,QCard:E.A,QCardSection:k.A,QInput:L.A,QList:T.A,QItem:V.A,QItemSection:w.A,QRadio:q.A,QSelect:h.A,QItemLabel:N.A,QPage:O.Tu,QListHeader:O.XR,QToolbar:O.ZV,QBtn:O.Il},data:function(){return{cargando:!1,filtros:{FECHA_INICIO:(0,H.Ay)(new Date((new Date).getFullYear(),(new Date).getMonth(),1),"YYYY-MM-DD"),FECHA_FIN:(0,H.Ay)(new Date((new Date).getFullYear(),(new Date).getMonth()+1,0),"YYYY-MM-DD"),CATALOGO:null,ACTIVOS:[],TRANSAC_INICIO:null,TRANSAC_FINAL:null,USUARIO:null},tiposReportes:[{code:"MA",label:"Movimiento de Activos"},{code:"SA",label:"Stock actual"},{code:"PC",label:"Transferencias en curso"},{code:"HP",label:"Historial de transferencias"},{code:"ES",label:"Equipos en soporte"},{code:"HM",label:"Historial de mantenimientos por equipo"},{code:"MC",label:"Reporte de proveedores"}],tipoSeleccionado:null,catalogosBase:[],catalogos:[],activos:[],activosBase:[],camposActivos:{MA:{FECHA_INICIO:!0,FECHA_FIN:!0,CATALOGO:!0,ACTIVOS:!0},SA:{CATALOGO:!0},PC:{},HP:{FECHA_INICIO:!0,FECHA_FIN:!0},HM:{CATALOGO:!0,ACTIVOS:!0},ES:{},MC:{FECHA_INICIO:!0,FECHA_FIN:!0}}}},computed:{buttons:function(){var e=[];return e}},methods:{seleccionarTipo:function(e){this.tipoSeleccionado=e,console.log(this.tipoSeleccionado)},exportar:function(e){console.log(this.tipoSeleccionado);var o=g()(g()({},this.filtros),{repcod:"activoFijo",reporte:this.tipoSeleccionado,formato:e});(0,_.exportFilePhp)(o,"intranet/reporte-node/reporte","Reporte "),console.log(e,this.filtros)},filterFn:function(e,o){var t=this;o(""!==e?function(){var o=e.toLowerCase();t.catalogos=t.catalogosBase.filter(function(e){return e.DESCRIPCION.toLowerCase().indexOf(o)>-1})}:function(){t.catalogos=t.catalogosBase})},filterActivos:function(e,o){var t=this;if(this.filtros.CATALOGO){var l=this.activosBase.filter(function(e){return e.ID_CATALOGO===t.filtros.CATALOGO});if(""===e)return void o(function(){t.activos=l});o(function(){var o=e.toLowerCase();t.activos=l.filter(function(e){return e.DESCRIPCION.toLowerCase().indexOf(o)>-1})})}else this.activos=[]}},mounted:function(){var e=this;return v()(m()().m(function o(){return m()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,e.$http.get("api/AfCatalogoController/getAfCatalogo");case 1:return e.catalogosBase=o.v,o.n=2,e.$http.get("api/afActivoController/getAfActivo");case 2:e.activosBase=o.v;case 3:return o.a(2)}},o)}))()}},Q=t(12807);const R=(0,Q.A)(D,[["render",C]]);var y=R}}]);