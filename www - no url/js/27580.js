"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[27580],{27580:function(e,a,n){n.r(a),n.d(a,{default:function(){return D}});var o=n(61758),t=n(58790),r={class:"row q-col-gutter-md"},s={class:"col-xs-12 col-sm-3"},i={class:"col-xs-12 col-sm-9"};function l(e,a){var n=(0,o.g2)("header-btn"),l=(0,o.g2)("formulario"),c=(0,o.g2)("q-card-section"),u=(0,o.g2)("q-card"),d=(0,o.g2)("sie-cloud"),m=(0,o.g2)("sie-modal"),f=(0,o.g2)("q-page");return(0,o.uX)(),(0,o.Wv)(f,{class:"q-pa-sm sie-flat"},{default:(0,o.k6)(function(){return[(0,o.bF)(u,{flat:"",bordered:""},{default:(0,o.k6)(function(){return[(0,o.bF)(n,{name:e.tituloForm,auto:!0,buttons:e.botonesForm},null,8,["name","buttons"]),(0,o.bF)(c,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("div",r,[(0,o.Lk)("div",s,[(0,o.bF)(l,{schema:e.schemas.viewAdmTablas,ref:"formTables",key:"formTables",onClickIconGrid:e.clickIconGrid,onChangeInput:e.changeInput,onRowSelected:e.selTabla},null,8,["schema","onClickIconGrid","onChangeInput","onRowSelected"])]),(0,o.Lk)("div",i,[(0,o.bF)(l,{schema:e.schemas[e.viewSel],ref:"formApp",key:"formApp",onClickIconGrid:e.clickIconGrid,onChangeInput:e.changeInput},null,8,["schema","onClickIconGrid","onChangeInput"])])])]}),_:1})]}),_:1}),(0,o.bF)(m,{title:e.configModalSel.titulo,modelValue:e.openModal,"onUpdate:modelValue":a[1]||(a[1]=function(a){return e.openModal=a}),ok:"GRABAR",onSubmit:e.submit},{default:(0,o.k6)(function(){return[(0,o.bF)(c,{class:(0,t.C4)(e.classContModal)},{default:(0,o.k6)(function(){return[(0,o.bF)(l,{schema:e.schemaModal,ref:"formModal",key:"formModal",modal:!0},null,8,["schema"]),"admAdjunto"===e.configModalSel.codigoFormulario?((0,o.uX)(),(0,o.Wv)(d,{key:0,modelValue:e.adjuntosModal,"onUpdate:modelValue":a[0]||(a[0]=function(a){return e.adjuntosModal=a}),ref:"sieCloudModal","only-local":"",apiView:"NotasController/getArchivo",campos:"adjunto,tipo",onDeleteFile:e.deleteFile,classModalPreview:"q-download-file-medium__modalSieCloud"},null,8,["modelValue","onDeleteFile"])):(0,o.Q3)("v-if",!0)]}),_:1},8,["class"])]}),_:1},8,["title","modelValue","onSubmit"])]}),_:1})}var c=n(76080),u=n.n(c),d=n(45254),m=n.n(d),f=(n(71225),n(10239),n(50310),n(5962),n(83190),n(52776),n(6123)),h=n(65848),w=n(74656),v=n(32195),M={mixins:[h.A],components:{QAvatar:w.A,sieCloud:v.A,QPage:f.Tu,QCard:f.C$},data:function(){var e=this.init();return e.viewSel="",e.sie.idEscuela=0,e.sie.idDocumento=0,e.sie.idEstado=0,e.adjuntosModal=[],e.archivosEliminados=[],e.classContModal="",e},methods:{selTabla:function(e){var a=this;return m()(u()().m(function n(){var o;return u()().w(function(n){while(1)switch(n.n){case 0:return o="view"+a.toCamelCase(e.CODIGO),n.n=1,a.loadSchemas([{id:o,ref:"formApp"}]);case 1:a.viewSel=o;case 2:return n.a(2)}},n)}))()},modalCodigosModulares:function(e,a,n){var o=this;return m()(u()().m(function a(){return u()().w(function(a){while(1)switch(a.n){case 0:return o.sie.idEscuela=e.ID_ESCUELA,a.n=1,o.runModal(null,"codModular","I");case 1:return a.a(2)}},a)}))()},modalDocGrados:function(e,a,n){var o=this;return m()(u()().m(function a(){return u()().w(function(a){while(1)switch(a.n){case 0:return o.sie.idDocumento=e.ID_DOCUMENTO,a.n=1,o.runModal(null,"admDocGrados","I");case 1:return a.a(2)}},a)}))()},modalEstadoEtapas:function(e,a,n){var o=this;return m()(u()().m(function a(){return u()().w(function(a){while(1)switch(a.n){case 0:return o.sie.idEstado=e.ID_ESTADO,a.n=1,o.runModal(null,"admEstadoEtapas","I");case 1:return a.a(2)}},a)}))()},modalPreguntas:function(e,a,n){var o=this;return m()(u()().m(function a(){return u()().w(function(a){while(1)switch(a.n){case 0:return o.sie.idDocumento=e.ID_DOCUMENTO,a.n=1,o.runModal(null,"admDocPreguntas","I");case 1:return a.a(2)}},a)}))()},deleteFile:function(e){var a=this;return m()(u()().m(function n(){return u()().w(function(n){while(1)switch(n.n){case 0:/[.]/.exec(e.id)||a.archivosEliminados.push(e);case 1:return n.a(2)}},n)}))()},preModal:function(e,a,n){var o=this;return m()(u()().m(function a(){var t,r;return u()().w(function(a){while(1)switch(a.n){case 0:t=o.configModalSel.codigoFormulario,a.n="admEvaluacion"===t?1:"admDocumento"===t?2:"admAdjunto"===t?3:"msgAlert"===t?4:5;break;case 1:return"U"===n&&(e.NOMEVALUACION=e.NOMBRE),a.a(3,5);case 2:return"I"===n&&(e={ANIO:o.sie.ano}),a.a(3,5);case 3:return o.adjuntosModal="I"===n?[]:e.adjuntos,o.archivosEliminados=[],a.a(3,5);case 4:return e={MSGCOD:e.MSGCOD,ASUNTO:e.ASUNTO,COPIA_COLEGIO:e.COPIA_COLEGIO,CORREO:e.CORREO,TEXTO:e.TEXTO},a.a(3,5);case 5:r=o.configModalSel.codigoFormulario,a.n="msgAlert"===r||"admDocPreguntas"===r?6:"admAdjunto"===r||"admEstadoEtapas"===r?7:"admDocumento"===r||"admDocGrados"===r?8:9;break;case 6:return o.classContModal="cont-modal-xl",a.a(3,10);case 7:return o.classContModal="cont-modal-lg",a.a(3,10);case 8:return o.classContModal="cont-modal-md",a.a(3,10);case 9:return o.classContModal="cont-modal-sm",a.a(3,10);case 10:return a.a(2,e)}},a)}))()},preSubmit:function(e){var a=!0;switch(this.configModalSel.codigoFormulario){case"admEvaluacion":e.NOMBRE=e.NOMEVALUACION;break;case"admAdjunto":if(0===this.adjuntosModal.length)this.$notify("Debe adjuntar un archivo","warning"),a=!1;else if(this.adjuntosModal.length>1)this.$notify("SÃ³lo debe adjuntar un archivo","warning"),a=!1;else{var n=this.adjuntosModal.filter(function(e){return/[.]/.exec(e.id)});0===n.length&&0===this.archivosEliminados.length?(this.$notify("No hay cambios","warning"),a=!1):e={ID_ADJUNTO:e.ID_ADJUNTO,adjuntos:n,eliminados:this.archivosEliminados}}break;case"codModular":var o=this.$refs["formModal"].$refs["GRID_3"].selected;e={idEscuela:this.sie.idEscuela,rows:o};break;case"admDocGrados":var t=this.$refs["formModal"].$refs["GRID_3"].selected;e={idDocumento:this.sie.idDocumento,rows:t};break;case"admEstadoEtapas":var r=this.$refs["formModal"].$refs["GRID_3"].selected;e={idEstado:this.sie.idEstado,rows:r};break;case"msgAlert":0===e.TEXTO.length&&(this.$notify("Debe indicar el texto del mensaje","warning"),a=!1);break;case"admDocPreguntas":var s=this.$refs["formModal"].$refs["GRID_3"].selected;e={idDocumento:this.sie.idDocumento,rows:s};break}return{res:a,data:e}},postSubmit:function(e){var a=this;return m()(u()().m(function e(){return u()().w(function(e){while(1)switch(e.n){case 0:a.reloadGrid("formApp","GRID_2");case 1:return e.a(2)}},e)}))()},postDelete:function(e){var a=this;return m()(u()().m(function e(){return u()().w(function(e){while(1)switch(e.n){case 0:a.reloadGrid("formApp","GRID_2");case 1:return e.a(2)}},e)}))()}},created:function(){var e=this;return m()(u()().m(function a(){var n;return u()().w(function(a){while(1)switch(a.n){case 0:return n=[{id:"viewAdmTablas",ref:"formTables"}],a.n=1,e.loadSchemas(n);case 1:e.tituloForm=e.configModales["viewAdmTablas"].titulo;case 2:return a.a(2)}},a)}))()}},g=n(12807);const b=(0,g.A)(M,[["render",l]]);var D=b}}]);