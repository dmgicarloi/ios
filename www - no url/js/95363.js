"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[95363],{95363:function(o,e,r){r.r(e),r.d(e,{default:function(){return Ve}});r(56285),r(11777);var a=r(61758),n=r(58790),t={class:"row items-center no-wrap"},i={class:"col row"},l={class:"text-header text-primary"},u={class:"col-auto"};function c(o,e){var r=(0,a.g2)("q-icon"),c=(0,a.g2)("crearBotones"),s=(0,a.g2)("q-separator"),d=(0,a.g2)("formCurso"),m=(0,a.g2)("q-card-section"),f=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.Wv)(f,{flat:"",bordered:""},{default:(0,a.k6)(function(){return[(0,a.bF)(m,null,{default:(0,a.k6)(function(){return[(0,a.Lk)("div",t,[(0,a.Lk)("div",i,[(0,a.bF)(r,{class:"cursor-pointer",name:"arrow_back",onClick:o.volver,size:"md"},null,8,["onClick"]),(0,a.Lk)("div",l,(0,n.v_)(o.tipoRegistro)+" Curso",1)]),(0,a.Lk)("div",u,[(0,a.bF)(c,{option:o.name,buttons:o.buttons,nivelAcceso:o.nivelAcceso},null,8,["option","buttons","nivelAcceso"])])]),(0,a.bF)(s),(0,a.bF)(d,{ref:"refCurso",idCursoPeriodo:Number(o.idCursoPeriodo)},null,8,["idCursoPeriodo"])]}),_:1})]}),_:1})}var s=r(76080),d=r.n(s),m=r(45254),f=r.n(m),p=r(41562),h=r.n(p),b=(r(12563),r(30683),r(71225),r(39866),r(52133),r(10239),r(50310),r(5962),r(6724),r(515),r(83190),r(62692),r(34262)),F=r(11654),C=r(9736),v=r(16648),O=r(88567),E=r(95718),I=r(53380),D=r(64303),A=r(8445),L=r.n(A),k={class:"row q-ma-xs q-col-gutter-md center-vertical"},g={class:"col-xs-12 col-xl-6"},T={class:"col-xs-12 col-xl-3"},R={class:"col-xs-12 col-xl-3"},P={class:"col-xs-12 col-xl-6"},_={class:"col-xs-12 col-xl-3"},N={class:"col-xs-12 col-xl-3"},V={class:"col-xs-12 col-xl-6"},x={class:"row q-ma-xs q-col-gutter-md center-vertical"},U={class:"col-xs-6 col-xl-3"},w={class:"col-xs-6 col-xl-3"},S={class:"col-xs-12 col-xl-3 center-vertical"},y={class:"col-xs-12 col-xl-3 center-vertical"},M={class:"col-xs-12 col-xl-6"},q={class:"row q-ma-xs q-col-gutter-md"},G={class:"col-xs-6 col-xl-3"},H={class:"col-xs-6 col-xl-3"},j={class:"col-xs-6 col-xl-3"},Q={class:"col-xs-6 col-xl-3"},X={class:"col-xs-12 col-xl-2"},$={key:0,class:"col-xs-12 col-xl-10"},B={class:"col-xs-12 col-xl-2"},Y={class:"col-xs-12 col-xl-2"},K={class:"col-xs-12 col-xl-2"},J={key:1,class:"col-xs-12 col-xl-8"},z={class:"col-xs-12 col-xl-3"},W={class:"col-xs-12 col-xl-3"},Z={class:"col-xs-12 col-xl-3"},oo={class:"row q-ma-xs q-col-gutter-md"},eo={class:"col-xs-12"},ro={class:"row q-ma-xs q-col-gutter-md center-vertical"},ao={class:"col-xs-12 col-xl-2"},no={key:0,class:"col-xs-12 col-xl-3"},to={key:1,class:"col-xs-12 col-xl-3"},io={key:2,class:"col-xs-12 col-xl-3 center-vertical"},lo={key:3,class:"col-xs-12 col-xl-12 center-vertical"},uo={key:4,class:"col-xs-12 col-xl-4"},co={key:0,class:"row q-ma-xs q-col-gutter-md"},so={class:"col-xs-12 col-xl-6 center-vertical"},mo={key:0,class:"col-xs-12 col-xl-6 center-vertical"},fo={key:0,class:"col-xs-12 col-xl-2"},po={key:1,class:"col-xs-12 col-xl-2"},ho={key:2,class:"col-xs-12 col-xl-2"},bo={key:3,class:"col-xs-12 col-xl-2"},Fo={class:"col-xs-12"},Co={class:"col-xs-12"},vo={class:"row q-ma-xs q-col-gutter-md center-vertical"},Oo={class:"col-xs-12 col-xl-3"},Eo={key:0,class:"col-xs-12 col-xl-2"},Io={key:1,class:"col-xs-12 col-xl-2"},Do={key:2,class:"col-xs-12 col-xl-2"},Ao={key:3,class:"col-xs-12 col-xl-2"},Lo={key:1,class:"col-xs-12 col-xl-2"},ko={class:"row q-ma-xs q-col-gutter-md flex"},go={style:{width:"500px"}},To={class:"row q-ma-xs q-col-gutter-md center-vertical"},Ro={key:0,class:"col-xs-12"},Po={class:"color-primary"},_o={class:"col-xs-12 col-xl-4 center-vertical gap-8"},No={class:"color-grey"},Vo={class:"col-xs-12 col-xl-4 center-vertical gap-8"},xo={class:"col-xs-12 col-xl-4 center-right"},Uo={class:"row q-ma-xs q-col-gutter-md center-vertical padding-top-8"},wo={class:"col-xs-12 col-xl-4 center-vertical"},So={class:"col-xs-12 col-xl-4 center-vertical"},yo={class:"row items-center justify-end"},Mo={class:"col-xs-12 col-xl-4 center-vertical"},qo={class:"row items-center justify-end"},Go={class:"row q-ma-xs q-col-gutter-md center-vertical padding-top-16"},Ho={class:"col-xs-12 col-xl-4"},jo={key:0,class:"col-xs-12 col-xl-2"},Qo={class:"col-xs-12 col-xl-3"},Xo={class:"col-xs-12 col-xl-4 center-vertical"},$o={class:"row items-center justify-end"},Bo={class:"col-xs-12 col-xl-4 center-vertical"},Yo={class:"row items-center justify-end"},Ko={key:0,class:"col-xs-12 col-xl-1"},Jo={class:"row q-ma-xs q-col-gutter-md center-vertical"},zo={class:"col-xs-12 col-xl-4 center-vertical gap-8"},Wo={class:"color-grey"},Zo={class:"col-xs-12 col-xl-4 center-right gap-8"},oe={class:"col-xs-12 height-16"},ee={class:"color-primary"},re={key:0,class:"fzise-12"},ae={class:"row q-ma-xs q-col-gutter-md center-vertical padding-top-16"},ne={class:"col-xs-12 col-xl-4 center-vertical"},te={class:"col-xs-12 col-xl-4 center-vertical"},ie={class:"row items-center justify-end"},le={class:"col-xs-12 col-xl-4 center-vertical"},ue={class:"row items-center justify-end"},ce={class:"row q-ma-xs q-col-gutter-md"},se={class:"col-xs-12 col-xl-3"},de={class:"col-xs-12 col-xl-3"};function me(o,e){var r=this,t=(0,a.g2)("q-card-section"),i=(0,a.g2)("autocomplete"),l=(0,a.g2)("q-select"),u=(0,a.g2)("q-input"),c=(0,a.g2)("sie-select"),s=(0,a.g2)("q-toggle"),d=(0,a.g2)("q-date"),m=(0,a.g2)("q-popup-proxy"),f=(0,a.g2)("q-icon"),p=(0,a.g2)("q-checkbox"),h=(0,a.g2)("old-select"),b=(0,a.g2)("q-card"),F=(0,a.g2)("q-btn"),C=(0,a.g2)("q-time");return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.bF)(t,null,{default:(0,a.k6)(function(){return[(0,a.bF)(b,{flat:"",bordered:""},{default:(0,a.k6)(function(){return[(0,a.bF)(t,null,{default:(0,a.k6)(function(){return L()(e[45]||(e[45]=[(0,a.Lk)("div",{class:"text-subtitle"},"Información General",-1)]))}),_:1}),(0,a.bF)(t,null,{default:(0,a.k6)(function(){return[(0,a.Lk)("div",k,[(0,a.Lk)("div",g,[(0,a.bF)(i,{modelValue:o.formCurso.curso,"onUpdate:modelValue":e[0]||(e[0]=function(e){return o.formCurso.curso=e}),label:"Curso*",data:o.optionCurso,keys:o.keysComplete,onInput:o.primeraLetraMayuscula,onSelected:o.cursoFueSeleccionado},null,8,["modelValue","data","keys","onInput","onSelected"])]),(0,a.Lk)("div",T,[(0,a.bF)(l,{modelValue:o.formCurso.programa,"onUpdate:modelValue":e[1]||(e[1]=function(e){return o.formCurso.programa=e}),label:"Programa*",options:o.comboProgramas,onInput:e[2]||(e[2]=function(e){return o.getGrupos(o.formCurso.programa)}),"option-value":"TIPOCOD","option-label":"TIPODES",rules:o.OBLIGATORIO},null,8,["modelValue","options","rules"])]),(0,a.Lk)("div",R,[(0,a.bF)(l,{modelValue:o.formCurso.grupo,"onUpdate:modelValue":e[3]||(e[3]=function(e){return o.formCurso.grupo=e}),label:"Grupo de curso",options:o.comboGrupos,"option-value":"GRUVACOD","option-label":"GRUVADES",rules:o.OBLIGATORIO},null,8,["modelValue","options","rules"])]),(0,a.Lk)("div",P,[(0,a.bF)(u,{modelValue:o.formCurso.requisitos,"onUpdate:modelValue":e[4]||(e[4]=function(e){return o.formCurso.requisitos=e}),label:o.labelRequisitos,onInput:o.primeraLetraMayuscula},null,8,["modelValue","label","onInput"])]),(0,a.Lk)("div",_,[(0,a.bF)(c,{modelValue:o.formCurso.profesor,"onUpdate:modelValue":e[5]||(e[5]=function(e){return o.formCurso.profesor=e}),type:"outlined",placeholder:"Profesor",options:o.comboProfesores,val:"ID_PERSONA",label:"NOMCOMP"},null,8,["modelValue","options"])]),(0,a.Lk)("div",N,[(0,a.bF)(l,{modelValue:o.formCurso.aula,"onUpdate:modelValue":e[6]||(e[6]=function(e){return o.formCurso.aula=e}),label:"Aula",options:o.comboAulas,"option-value":"AULACOD","option-label":"AULADES"},null,8,["modelValue","options"])]),(0,a.Lk)("div",V,[(0,a.Lk)("div",x,[(0,a.Lk)("div",U,[(0,a.bF)(s,{modelValue:o.formCurso.cerrado,"onUpdate:modelValue":e[7]||(e[7]=function(e){return o.formCurso.cerrado=e}),label:"Cerrado"},null,8,["modelValue"])]),(0,a.Lk)("div",w,[(0,a.bF)(s,{modelValue:o.formCurso.anulacionAutomatica,"onUpdate:modelValue":e[8]||(e[8]=function(e){return o.formCurso.anulacionAutomatica=e}),label:"Anulación automática"},null,8,["modelValue"])]),(0,a.Lk)("div",S,[(0,a.bF)(u,{class:"full-width",modelValue:o.formCurso.fechaInicio,"onUpdate:modelValue":e[11]||(e[11]=function(e){return o.formCurso.fechaInicio=e}),maxlength:"10",mask:"##/##/####",label:"Fecha Inicio*",rules:o.OBLIGATORIO},{append:(0,a.k6)(function(){return[(0,a.bF)(f,{class:"cursor-pointer",name:"date_range"},{default:(0,a.k6)(function(){return[(0,a.bF)(m,{ref:"qDateProxy1","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)(function(){return[(0,a.bF)(d,{mask:"DD/MM/YYYY",modelValue:o.formCurso.fechaInicio,"onUpdate:modelValue":e[9]||(e[9]=function(e){return o.formCurso.fechaInicio=e}),onInput:e[10]||(e[10]=function(e){return o.closeModalCalendar("qDateProxy1")})},null,8,["modelValue"])]}),_:1},512)]}),_:1})]}),_:1},8,["modelValue","rules"])]),(0,a.Lk)("div",y,[(0,a.bF)(u,{class:"full-width",modelValue:o.formCurso.fechaFin,"onUpdate:modelValue":e[14]||(e[14]=function(e){return o.formCurso.fechaFin=e}),maxlength:"10",mask:"##/##/####",label:"Fecha Fin*",rules:o.OBLIGATORIO},{append:(0,a.k6)(function(){return[(0,a.bF)(f,{class:"cursor-pointer",name:"date_range"},{default:(0,a.k6)(function(){return[(0,a.bF)(m,{ref:"qDateProxy2","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)(function(){return[(0,a.bF)(d,{mask:"DD/MM/YYYY",modelValue:o.formCurso.fechaFin,"onUpdate:modelValue":e[12]||(e[12]=function(e){return o.formCurso.fechaFin=e}),onInput:e[13]||(e[13]=function(e){return o.closeModalCalendar("qDateProxy2")})},null,8,["modelValue"])]}),_:1},512)]}),_:1})]}),_:1},8,["modelValue","rules"])])])]),(0,a.Lk)("div",M,[e[46]||(e[46]=(0,a.Lk)("span",{class:"color-grey"},"Curso disponibles para:",-1)),(0,a.Lk)("div",q,[(0,a.Lk)("div",G,[(0,a.bF)(p,{modelValue:o.formCurso.habilitado.alumnos,"onUpdate:modelValue":e[15]||(e[15]=function(e){return o.formCurso.habilitado.alumnos=e}),label:"Alumnos",color:"secondary"},null,8,["modelValue"])]),(0,a.Lk)("div",H,[(0,a.bF)(p,{modelValue:o.formCurso.habilitado.externos,"onUpdate:modelValue":e[16]||(e[16]=function(e){return o.formCurso.habilitado.externos=e}),label:"Externos",color:"secondary"},null,8,["modelValue"])]),(0,a.Lk)("div",j,[(0,a.bF)(p,{modelValue:o.formCurso.habilitado.trabajadores,"onUpdate:modelValue":e[17]||(e[17]=function(e){return o.formCurso.habilitado.trabajadores=e}),label:"Trabajadores",color:"secondary"},null,8,["modelValue"])]),(0,a.Lk)("div",Q,[(0,a.bF)(p,{modelValue:o.formCurso.habilitado.hijosTrabajadores,"onUpdate:modelValue":e[18]||(e[18]=function(e){return o.formCurso.habilitado.hijosTrabajadores=e}),label:"Hijos de Trabajadores",color:"secondary"},null,8,["modelValue"])])])]),(0,a.Lk)("div",X,[(0,a.bF)(l,{modelValue:o.formCurso.tipoCondicion,"onUpdate:modelValue":e[19]||(e[19]=function(e){return o.formCurso.tipoCondicion=e}),label:"Curso por:",options:o.comboCondicion,onInput:o.initCondicion},null,8,["modelValue","options","onInput"])]),1===o.formCurso.tipoCondicion?((0,a.uX)(),(0,a.CE)("div",$,[(0,a.bF)(h,{class:"q-if-outlined select-border",modelValue:o.formCurso.condicion,"onUpdate:modelValue":e[20]||(e[20]=function(e){return o.formCurso.condicion=e}),"use-chips":"",multiple:"","float-label":"Grados",options:o.comboNivelGrado},null,8,["modelValue","options"])])):(0,a.Q3)("v-if",!0),2===o.formCurso.tipoCondicion?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.Lk)("div",B,[(0,a.bF)(u,{class:"full-width",modelValue:o.formCurso.cumpleaniosHasta,"onUpdate:modelValue":e[23]||(e[23]=function(e){return o.formCurso.cumpleaniosHasta=e}),maxlength:"10",mask:"##/##/####",label:"Cumple años hasta:"},{append:(0,a.k6)(function(){return[(0,a.bF)(f,{class:"cursor-pointer",name:"calendar"},{default:(0,a.k6)(function(){return[(0,a.bF)(m,{ref:"qDateProxy5","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)(function(){return[(0,a.bF)(d,{mask:"DD/MM/YYYY",modelValue:o.formCurso.cumpleaniosHasta,"onUpdate:modelValue":e[21]||(e[21]=function(e){return o.formCurso.cumpleaniosHasta=e}),onInput:e[22]||(e[22]=function(e){return o.closeModalCalendar("qDateProxy5")})},null,8,["modelValue"])]}),_:1},512)]}),_:1})]}),_:1},8,["modelValue"])]),o.RANGOEDAD?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("div",Y,[(0,a.bF)(u,{modelValue:o.formCurso.edadInicio,"onUpdate:modelValue":e[24]||(e[24]=function(e){return o.formCurso.edadInicio=e}),label:"Edad Inicio",mask:"##",onInput:e[25]||(e[25]=function(e){return o.rangoEdad("EDADINI")})},null,8,["modelValue"])]),(0,a.Lk)("div",K,[(0,a.bF)(u,{modelValue:o.formCurso.edadFin,"onUpdate:modelValue":e[26]||(e[26]=function(e){return o.formCurso.edadFin=e}),label:"Edad Fin",mask:"##",onInput:e[27]||(e[27]=function(e){return o.rangoEdad("EDADFIN")})},null,8,["modelValue"])])],64)):((0,a.uX)(),(0,a.CE)("div",J,[(0,a.bF)(h,{class:"q-if-outlined select-border","use-chips":"",multiple:"",modelValue:o.formCurso.condicion,"onUpdate:modelValue":e[28]||(e[28]=function(e){return o.formCurso.condicion=e}),options:o.comboEdades,"float-label":"Edades"},null,8,["modelValue","options"])]))],64)):(0,a.Q3)("v-if",!0),e[47]||(e[47]=(0,a.Lk)("div",{class:"col-xs-12"},[(0,a.Lk)("span",{class:"color-grey"},"Adicionales:")],-1)),(0,a.Lk)("div",z,[(0,a.bF)(p,{modelValue:o.formCurso.soloMatriculado,"onUpdate:modelValue":e[29]||(e[29]=function(e){return o.formCurso.soloMatriculado=e}),label:"Solo matriculados",color:"secondary","true-value":1,"false-value":0},null,8,["modelValue"])]),(0,a.Lk)("div",W,[(0,a.bF)(p,{modelValue:o.formCurso.altoRendimiento,"onUpdate:modelValue":e[30]||(e[30]=function(e){return o.formCurso.altoRendimiento=e}),label:"Solo alumnos de alto rendimiento",color:"secondary","true-value":1,"false-value":0},null,8,["modelValue"])]),(0,a.Lk)("div",Z,[(0,a.bF)(p,{modelValue:o.formCurso.recuperacion,"onUpdate:modelValue":e[31]||(e[31]=function(e){return o.formCurso.recuperacion=e}),label:"Es taller de recuperación",color:"secondary","true-value":1,"false-value":0},null,8,["modelValue"])])])]}),_:1})]}),_:1})]}),_:1}),(0,a.bF)(t,null,{default:(0,a.k6)(function(){return[(0,a.bF)(b,{flat:"",bordered:""},{default:(0,a.k6)(function(){return[(0,a.bF)(t,null,{default:(0,a.k6)(function(){return L()(e[48]||(e[48]=[(0,a.Lk)("div",{class:"text-subtitle"},"Facturación",-1)]))}),_:1}),(0,a.bF)(t,null,{default:(0,a.k6)(function(){return[(0,a.Lk)("div",oo,[(0,a.Lk)("div",eo,[(0,a.Lk)("div",ro,[(0,a.Lk)("div",ao,[(0,a.bF)(l,{modelValue:o.formFacturacion.tipoCobro,"onUpdate:modelValue":e[32]||(e[32]=function(e){return o.formFacturacion.tipoCobro=e}),label:"Tipo de Cobro*",options:o.comboTiposCobro,rules:o.OBLIGATORIO,onInput:e[33]||(e[33]=function(e){return o.validarTipoCobro()}),disable:o.formFacturacion.precioPaqueteSemanas||o.formFacturacion.precioFrecDias},null,8,["modelValue","options","rules","disable"])]),"G"!==r.formFacturacion.tipoCobro?((0,a.uX)(),(0,a.CE)("div",no,[(0,a.bF)(s,{modelValue:o.formFacturacion.precioPaqueteSemanas,"onUpdate:modelValue":e[34]||(e[34]=function(e){return o.formFacturacion.precioPaqueteSemanas=e}),color:"secondary",label:"Precio por paquete de semanas",onInput:o.initprecioPaqueteSemanas},null,8,["modelValue","onInput"])])):(0,a.Q3)("v-if",!0),"G"===r.formFacturacion.tipoCobro||o.formFacturacion.precioPaqueteSemanas?(0,a.Q3)("v-if",!0):((0,a.uX)(),(0,a.CE)("div",to,[(0,a.bF)(s,{modelValue:o.formFacturacion.precioFrecDias,"onUpdate:modelValue":e[35]||(e[35]=function(e){return o.formFacturacion.precioFrecDias=e}),color:"secondary",label:"Precio por frecuencia de clases",onInput:o.initFrecuencias},null,8,["modelValue","onInput"])])),"G"===r.formFacturacion.tipoCobro||o.formFacturacion.precioPaqueteSemanas?(0,a.Q3)("v-if",!0):((0,a.uX)(),(0,a.CE)("div",io,[(0,a.bF)(s,{modelValue:o.formFacturacion.montosTipoParticipante,"onUpdate:modelValue":e[36]||(e[36]=function(e){return o.formFacturacion.montosTipoParticipante=e}),color:"secondary",label:"Montos por tipo de participante"},null,8,["modelValue"])])),o.formFacturacion.precioFrecDias||o.formFacturacion.montosTipoParticipante?((0,a.uX)(),(0,a.CE)("div",lo,L()(e[49]||(e[49]=[(0,a.Lk)("span",{class:"color-grey"},"Montos: (S/)",-1)])))):((0,a.uX)(),(0,a.CE)("div",uo,[o.formFacturacion.precioPaqueteSemanas?(0,a.Q3)("v-if",!0):((0,a.uX)(),(0,a.CE)("div",co,[(0,a.Lk)("div",so,[(0,a.bF)(u,{class:"full-width",ref:"refMonto",modelValue:o.formFacturacion.monto,"onUpdate:modelValue":e[37]||(e[37]=function(e){return o.formFacturacion.monto=e}),label:"Monto (S/)",type:"Number",rules:o.RULES_MONTO,disable:"G"===o.formFacturacion.tipoCobro},null,8,["modelValue","rules","disable"])]),o.tieneTemporada?((0,a.uX)(),(0,a.CE)("div",mo,[(0,a.bF)(u,{class:"full-width",ref:"refMonto",modelValue:o.formFacturacion.montotemporada,"onUpdate:modelValue":e[38]||(e[38]=function(e){return o.formFacturacion.montotemporada=e}),label:"Monto Temporada (S/)",type:"number",rules:o.RULES_MONTO,disable:"G"===o.formFacturacion.tipoCobro},null,8,["modelValue","rules","disable"])])):(0,a.Q3)("v-if",!0)]))])),o.formFacturacion.montosTipoParticipante&&!o.formFacturacion.precioFrecDias?((0,a.uX)(),(0,a.CE)(a.FK,{key:5},[o.formCurso.habilitado.alumnos?((0,a.uX)(),(0,a.CE)("div",fo,[(0,a.bF)(u,{modelValue:o.formMontoParticipante.alumnos,"onUpdate:modelValue":e[39]||(e[39]=function(e){return o.formMontoParticipante.alumnos=e}),label:"Alumnos",type:"Number"},null,8,["modelValue"])])):(0,a.Q3)("v-if",!0),o.formCurso.habilitado.externos?((0,a.uX)(),(0,a.CE)("div",po,[(0,a.bF)(u,{modelValue:o.formMontoParticipante.externos,"onUpdate:modelValue":e[40]||(e[40]=function(e){return o.formMontoParticipante.externos=e}),label:"Externos",type:"Number"},null,8,["modelValue"])])):(0,a.Q3)("v-if",!0),o.formCurso.habilitado.trabajadores?((0,a.uX)(),(0,a.CE)("div",ho,[(0,a.bF)(u,{modelValue:o.formMontoParticipante.trabajadores,"onUpdate:modelValue":e[41]||(e[41]=function(e){return o.formMontoParticipante.trabajadores=e}),label:"Trabajador",type:"Number"},null,8,["modelValue"])])):(0,a.Q3)("v-if",!0),o.formCurso.habilitado.hijosTrabajadores?((0,a.uX)(),(0,a.CE)("div",bo,[(0,a.bF)(u,{modelValue:o.formMontoParticipante.hijosTrabajadores,"onUpdate:modelValue":e[42]||(e[42]=function(e){return o.formMontoParticipante.hijosTrabajadores=e}),label:"Hijo de Trabajador",type:"Number"},null,8,["modelValue"])])):(0,a.Q3)("v-if",!0)],64)):(0,a.Q3)("v-if",!0),o.formFacturacion.precioFrecDias?((0,a.uX)(),(0,a.CE)(a.FK,{key:6},[(0,a.Lk)("div",Fo,[(0,a.bF)(F,{label:"Agregar frecuencia de clases",color:"secondary",size:"sm",onClick:o.agregarFrecuenciaDias,class:(0,n.C4)(o.formFrecDias.length===o.comboFrecDias.length?"bg-grey":""),disable:o.formFrecDias.length===o.comboFrecDias.length},null,8,["onClick","class","disable"])]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.formFrecDias,function(e){return(0,a.uX)(),(0,a.CE)("div",Co,[(0,a.Lk)("div",vo,[(0,a.Lk)("div",Oo,[(0,a.bF)(l,{modelValue:e.ID_FRECUENCIA,"onUpdate:modelValue":function(o){return e.ID_FRECUENCIA=o},options:o.getComboFrecuenciaDias(e.ID_FRECUENCIA),"option-value":"ID_FRECUENCIA","option-label":"DESCRIPCION"},null,8,["modelValue","onUpdate:modelValue","options"])]),o.formFacturacion.montosTipoParticipante?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[o.formCurso.habilitado.alumnos?((0,a.uX)(),(0,a.CE)("div",Eo,[(0,a.bF)(u,{modelValue:e.MONTOS[o.PERFIL_ALUMNO],"onUpdate:modelValue":function(r){return e.MONTOS[o.PERFIL_ALUMNO]=r},label:"Alumnos",type:"Number"},null,8,["modelValue","onUpdate:modelValue"])])):(0,a.Q3)("v-if",!0),o.formCurso.habilitado.externos?((0,a.uX)(),(0,a.CE)("div",Io,[(0,a.bF)(u,{modelValue:e.MONTOS[o.PERFIL_ALUMNO_EXTERNO],"onUpdate:modelValue":function(r){return e.MONTOS[o.PERFIL_ALUMNO_EXTERNO]=r},label:"Externos",type:"Number"},null,8,["modelValue","onUpdate:modelValue"])])):(0,a.Q3)("v-if",!0),o.formCurso.habilitado.trabajadores?((0,a.uX)(),(0,a.CE)("div",Do,[(0,a.bF)(u,{modelValue:e.MONTOS[o.PERFIL_PERSONAL],"onUpdate:modelValue":function(r){return e.MONTOS[o.PERFIL_PERSONAL]=r},label:"Trabajador",type:"Number"},null,8,["modelValue","onUpdate:modelValue"])])):(0,a.Q3)("v-if",!0),o.formCurso.habilitado.hijosTrabajadores?((0,a.uX)(),(0,a.CE)("div",Ao,[(0,a.bF)(u,{modelValue:e.MONTOS[o.PERFIL_HIJO_PERSONAL],"onUpdate:modelValue":function(r){return e.MONTOS[o.PERFIL_HIJO_PERSONAL]=r},label:"Hijo de Trabajador",type:"Number"},null,8,["modelValue","onUpdate:modelValue"])])):(0,a.Q3)("v-if",!0)],64)):((0,a.uX)(),(0,a.CE)("div",Lo,[(0,a.bF)(u,{modelValue:e.MONTO_FREC,"onUpdate:modelValue":function(o){return e.MONTO_FREC=o},label:"Monto*",type:"Number"},null,8,["modelValue","onUpdate:modelValue"])])),(0,a.bF)(f,{class:"cursor-pointer",name:"delete",size:"sm",color:"primary",onClick:function(r){return o.eliminarFrecuenciaDias(e)}},null,8,["onClick"])])])}),256))],64)):(0,a.Q3)("v-if",!0)])])])]}),_:1})]}),_:1})]}),_:1}),(0,a.bF)(t,null,{default:(0,a.k6)(function(){return[(0,a.bF)(b,{flat:"",bordered:""},{default:(0,a.k6)(function(){return[(0,a.bF)(t,{class:"center-vertical gap-16"},{default:(0,a.k6)(function(){return[e[50]||(e[50]=(0,a.Lk)("div",{class:"text-subtitle"},"Vacantes y horarios",-1)),!o.formFacturacion.precioPaqueteSemanas&&o.nivelAcceso>1?((0,a.uX)(),(0,a.Wv)(F,{key:0,label:"Agregar turno",color:"secondary",size:"sm",onClick:o.agregarTurno},null,8,["onClick"])):(0,a.Q3)("v-if",!0)]}),_:1}),o.turnosLoaded?((0,a.uX)(),(0,a.Wv)(t,{key:0,class:"scroll-y",id:"turnosContainer"},{default:(0,a.k6)(function(){return[(0,a.Lk)("div",ko,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o.formTurnos,function(r,i){return(0,a.uX)(),(0,a.CE)("div",go,[(0,a.bF)(b,{class:"full-width parent-destello",bordered:"",id:"turno"+i},{default:(0,a.k6)(function(){return[o.formFacturacion.precioFrecDias||o.formFacturacion.precioPaqueteSemanas?(0,a.Q3)("v-if",!0):((0,a.uX)(),(0,a.Wv)(t,{key:0},{default:(0,a.k6)(function(){return[(0,a.Lk)("div",To,[r.cubiertas>0?((0,a.uX)(),(0,a.CE)("div",Ro,[(0,a.Lk)("span",Po,[(0,a.Lk)("b",null," Hay "+(0,n.v_)(r.cubiertas)+" inscritos para este turno ",1)])])):(0,a.Q3)("v-if",!0),(0,a.Lk)("div",_o,[(0,a.Lk)("span",No,"Turno "+(0,n.v_)("#")+(0,n.v_)(r.turno),1),o.formTurnos.length>1&&0===r.cubiertas?((0,a.uX)(),(0,a.Wv)(f,{key:0,class:"cursor-pointer",name:"delete",size:"sm",color:"primary",onClick:function(e){return o.eliminarTurno(r)}},null,8,["onClick"])):(0,a.Q3)("v-if",!0)]),(0,a.Lk)("div",Vo,[(0,a.bF)(u,{modelValue:r.vacantes,"onUpdate:modelValue":function(o){return r.vacantes=o},type:"Number",label:"Vacantes*"},null,8,["modelValue","onUpdate:modelValue"])]),(0,a.Lk)("div",xo,[o.nivelAcceso>1?((0,a.uX)(),(0,a.Wv)(F,{key:0,label:"Día",icon:"add",color:"secondary",size:"sm",onClick:function(e){return o.agregarHorario(r)}},null,8,["onClick"])):(0,a.Q3)("v-if",!0)])]),(0,a.Lk)("div",Uo,[(0,a.Lk)("div",wo,[(0,a.bF)(s,{modelValue:r.horaPorDia,"onUpdate:modelValue":function(o){return r.horaPorDia=o},color:"secondary",label:"Hora por día"},null,8,["modelValue","onUpdate:modelValue"])]),r.horaPorDia?(0,a.Q3)("v-if",!0):((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("div",So,[(0,a.bF)(u,{class:"full-width",modelValue:r.horaInicio,"onUpdate:modelValue":function(o){return r.horaInicio=o},mask:"time",label:"Hora Inicio*",rules:o.OBLIGATORIO},{append:(0,a.k6)(function(){return[(0,a.bF)(f,{class:"cursor-pointer",name:"watch_later"},{default:(0,a.k6)(function(){return[(0,a.bF)(m,{ref_for:!0,ref:"qDateProxyFecIni"+i,"transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)(function(){return[(0,a.bF)(C,{modelValue:r.horaInicio,"onUpdate:modelValue":function(o){return r.horaInicio=o}},{default:(0,a.k6)(function(){return[(0,a.Lk)("div",yo,[(0,a.bF)(F,{label:"Aceptar",color:"primary",flat:"",onClick:function(e){return o.$refs["qDateProxyFecIni"+i][0].hide()}},null,8,["onClick"])])]}),_:2},1032,["modelValue","onUpdate:modelValue"])]}),_:2},1536)]}),_:2},1024)]}),_:2},1032,["modelValue","onUpdate:modelValue","rules"])]),(0,a.Lk)("div",Mo,[(0,a.bF)(u,{class:"full-width",modelValue:r.horaFin,"onUpdate:modelValue":function(o){return r.horaFin=o},mask:"time",label:"Hora Fin*",rules:o.OBLIGATORIO},{append:(0,a.k6)(function(){return[(0,a.bF)(f,{class:"cursor-pointer",name:"watch_later"},{default:(0,a.k6)(function(){return[(0,a.bF)(m,{ref_for:!0,ref:"qDateProxyFecFin"+i,"transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)(function(){return[(0,a.bF)(C,{modelValue:r.horaFin,"onUpdate:modelValue":function(o){return r.horaFin=o}},{default:(0,a.k6)(function(){return[(0,a.Lk)("div",qo,[(0,a.bF)(F,{label:"Aceptar",color:"primary",flat:"",onClick:function(e){return o.$refs["qDateProxyFecFin"+i][0].hide()}},null,8,["onClick"])])]}),_:2},1032,["modelValue","onUpdate:modelValue"])]}),_:2},1536)]}),_:2},1024)]}),_:2},1032,["modelValue","onUpdate:modelValue","rules"])])],64))]),(0,a.Lk)("div",Go,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.horarios,function(e,n){return(0,a.uX)(),(0,a.CE)(a.FK,null,[r.horaPorDia?(0,a.Q3)("v-if",!0):((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("div",Ho,[(0,a.bF)(l,{modelValue:e.dia,"onUpdate:modelValue":function(o){return e.dia=o},options:o.comboDiasSemana},null,8,["modelValue","onUpdate:modelValue","options"])]),r.horarios.length>1?((0,a.uX)(),(0,a.CE)("div",jo,[(0,a.bF)(f,{class:"cursor-pointer",name:"delete",size:"sm",color:"primary",onClick:function(a){return o.eliminarHorario(r,e)}},null,8,["onClick"])])):(0,a.Q3)("v-if",!0)],64)),r.horaPorDia?((0,a.uX)(),(0,a.CE)(a.FK,{key:1},[(0,a.Lk)("div",Qo,[(0,a.bF)(l,{modelValue:e.dia,"onUpdate:modelValue":function(o){return e.dia=o},options:o.comboDiasSemana},null,8,["modelValue","onUpdate:modelValue","options"])]),(0,a.Lk)("div",Xo,[(0,a.bF)(u,{class:"full-width",modelValue:e.horaInicio,"onUpdate:modelValue":function(o){return e.horaInicio=o},mask:"time",label:"Hora Inicio",rules:o.OBLIGATORIO},{append:(0,a.k6)(function(){return[(0,a.bF)(f,{class:"cursor-pointer",name:"watch_later"},{default:(0,a.k6)(function(){return[(0,a.bF)(m,{ref_for:!0,ref:"qDateProxyFecIni"+n,"transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)(function(){return[(0,a.bF)(C,{modelValue:e.horaInicio,"onUpdate:modelValue":function(o){return e.horaInicio=o}},{default:(0,a.k6)(function(){return[(0,a.Lk)("div",$o,[(0,a.bF)(F,{label:"Aceptar",color:"primary",flat:"",onClick:function(e){return o.$refs["qDateProxyFecIni"+n][0].hide()}},null,8,["onClick"])])]}),_:2},1032,["modelValue","onUpdate:modelValue"])]}),_:2},1536)]}),_:2},1024)]}),_:2},1032,["modelValue","onUpdate:modelValue","rules"])]),(0,a.Lk)("div",Bo,[(0,a.bF)(u,{class:"full-width",modelValue:e.horaFin,"onUpdate:modelValue":function(o){return e.horaFin=o},mask:"time",label:"Hora Fin",rules:o.OBLIGATORIO},{append:(0,a.k6)(function(){return[(0,a.bF)(f,{class:"cursor-pointer",name:"watch_later"},{default:(0,a.k6)(function(){return[(0,a.bF)(m,{ref_for:!0,ref:"qDateProxyFecFin"+n,"transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)(function(){return[(0,a.bF)(C,{modelValue:e.horaFin,"onUpdate:modelValue":function(o){return e.horaFin=o}},{default:(0,a.k6)(function(){return[(0,a.Lk)("div",Yo,[(0,a.bF)(F,{label:"Aceptar",color:"primary",flat:"",onClick:function(e){return o.$refs["qDateProxyFecFin"+n][0].hide()}},null,8,["onClick"])])]}),_:2},1032,["modelValue","onUpdate:modelValue"])]}),_:2},1536)]}),_:2},1024)]}),_:2},1032,["modelValue","onUpdate:modelValue","rules"])]),r.horarios.length>1?((0,a.uX)(),(0,a.CE)("div",Ko,[(0,a.bF)(f,{class:"cursor-pointer",name:"delete",size:"sm",color:"primary",onClick:function(a){return o.eliminarHorario(r,e)}},null,8,["onClick"])])):(0,a.Q3)("v-if",!0)],64)):(0,a.Q3)("v-if",!0)],64)}),256))])]}),_:2},1024)),o.formFacturacion.precioFrecDias||o.formFacturacion.precioPaqueteSemanas?((0,a.uX)(),(0,a.Wv)(t,{key:1},{default:(0,a.k6)(function(){return[(0,a.Lk)("div",Jo,[(0,a.Lk)("div",zo,[(0,a.Lk)("span",Wo,"Turno "+(0,n.v_)("#")+(0,n.v_)(r.turno),1),o.formTurnos.length>1&&0===r.cubiertas?((0,a.uX)(),(0,a.Wv)(f,{key:0,class:"cursor-pointer",name:"delete",size:"sm",color:"primary",onClick:function(e){return o.eliminarTurno(r)}},null,8,["onClick"])):(0,a.Q3)("v-if",!0)]),e[51]||(e[51]=(0,a.Lk)("div",{class:"col-xs-12 col-xl-4"},null,-1)),(0,a.Lk)("div",Zo,[(0,a.bF)(u,{modelValue:r.vacantes,"onUpdate:modelValue":function(o){return r.vacantes=o},type:"Number",label:"Vacantes*",rules:o.OBLIGATORIO},null,8,["modelValue","onUpdate:modelValue","rules"])])]),(0,a.Lk)("div",oe,[(0,a.Lk)("span",ee,[r.cubiertas>0?((0,a.uX)(),(0,a.CE)("b",re,"Hay "+(0,n.v_)(r.cubiertas)+" inscritos para este turno",1)):(0,a.Q3)("v-if",!0)])]),(0,a.Lk)("div",ae,[(0,a.Lk)("div",ne,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(r.horarios,function(e,r){return(0,a.uX)(),(0,a.Wv)(l,{class:"full-width pb-6",modelValue:e.dia,"onUpdate:modelValue":function(o){return e.dia=o},options:o.comboDiasSemana},null,8,["modelValue","onUpdate:modelValue","options"])}),256))]),(0,a.Lk)("div",te,[(0,a.bF)(u,{class:"full-width",modelValue:r.horaInicio,"onUpdate:modelValue":function(o){return r.horaInicio=o},mask:"time",label:"Hora Inicio*",rules:o.OBLIGATORIO},{append:(0,a.k6)(function(){return[(0,a.bF)(f,{class:"cursor-pointer",name:"watch_later"},{default:(0,a.k6)(function(){return[(0,a.bF)(m,{ref_for:!0,ref:"qDateProxyFecIni"+i,"transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)(function(){return[(0,a.bF)(C,{modelValue:r.horaInicio,"onUpdate:modelValue":function(o){return r.horaInicio=o}},{default:(0,a.k6)(function(){return[(0,a.Lk)("div",ie,[(0,a.bF)(F,{label:"Aceptar",color:"primary",flat:"",onClick:function(e){return o.$refs["qDateProxyFecIni"+i][0].hide()}},null,8,["onClick"])])]}),_:2},1032,["modelValue","onUpdate:modelValue"])]}),_:2},1536)]}),_:2},1024)]}),_:2},1032,["modelValue","onUpdate:modelValue","rules"])]),(0,a.Lk)("div",le,[(0,a.bF)(u,{class:"full-width",modelValue:r.horaFin,"onUpdate:modelValue":function(o){return r.horaFin=o},mask:"time",label:"Hora Fin*",rules:o.OBLIGATORIO},{append:(0,a.k6)(function(){return[(0,a.bF)(f,{class:"cursor-pointer",name:"watch_later"},{default:(0,a.k6)(function(){return[(0,a.bF)(m,{ref_for:!0,ref:"qDateProxyFecFin"+i,"transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)(function(){return[(0,a.bF)(C,{modelValue:r.horaFin,"onUpdate:modelValue":function(o){return r.horaFin=o}},{default:(0,a.k6)(function(){return[(0,a.Lk)("div",ue,[(0,a.bF)(F,{label:"Aceptar",color:"primary",flat:"",onClick:function(e){return o.$refs["qDateProxyFecFin"+i][0].hide()}},null,8,["onClick"])])]}),_:2},1032,["modelValue","onUpdate:modelValue"])]}),_:2},1536)]}),_:2},1024)]}),_:2},1032,["modelValue","onUpdate:modelValue","rules"])])])]}),_:2},1024)):(0,a.Q3)("v-if",!0)]}),_:2},1032,["id"])])}),256))])]}),_:1})):(0,a.Q3)("v-if",!0)]}),_:1})]}),_:1}),(0,a.bF)(t,null,{default:(0,a.k6)(function(){return[(0,a.bF)(b,{flat:"",bordered:""},{default:(0,a.k6)(function(){return[(0,a.bF)(t,null,{default:(0,a.k6)(function(){return L()(e[52]||(e[52]=[(0,a.Lk)("div",{class:"text-subtitle"},"Recursos adicionales",-1)]))}),_:1}),(0,a.bF)(t,null,{default:(0,a.k6)(function(){return[(0,a.Lk)("div",ce,[(0,a.Lk)("div",se,[(0,a.bF)(u,{modelValue:o.formRecursos.linkReglamento,"onUpdate:modelValue":e[43]||(e[43]=function(e){return o.formRecursos.linkReglamento=e}),label:"Link Reglamento"},null,8,["modelValue"])]),(0,a.Lk)("div",de,[(0,a.bF)(u,{modelValue:o.formRecursos.linkListaUtiles,"onUpdate:modelValue":e[44]||(e[44]=function(e){return o.formRecursos.linkListaUtiles=e}),label:"Link Lista de Útiles"},null,8,["modelValue"])])])]}),_:1})]}),_:1})]}),_:1})])}r(74260),r(23513),r(25751),r(32203);var fe=r(53399),pe=r(6123),he=r(41615),be=r(55973),Fe=r(95477),Ce=r(4437),ve=r(23564),Oe=r(3112),Ee=r(36639),Ie=r(95898),De=r(57668),Ae=r(3042),Le=r(93616),ke={directives:{ClosePopup:Ee.A},props:{idCursoPeriodo:{type:Number,default:0}},components:{QBtn:F.A,QImg:fe.A,QIcon:b.A,QCard:O.A,QCardSection:E.A,QInput:C.A,QSeparator:I.A,QTooltip:pe.nC,QSelect:v.A,QToggle:be.A,QDate:Ce.A,QTime:ve.A,QPopupProxy:Fe.A,QCheckbox:Oe.A,OldSelect:Ie.A,constantesTesoreria:he["default"],autocomplete:Ae.A,date:pe.p6,sieSelect:Le.A},computed:{RULES_MONTO:function(){var o=this;return[function(e){return!!e||"G"===o.formFacturacion.tipoCobro||"El campo es obligatorio"}]},inscritos:function(){var o,e=0,r=h()(this.formTurnos);try{for(r.s();!(o=r.n()).done;){var a=o.value;e+=a.cubiertas}}catch(o){r.e(o)}finally{r.f()}return e}},data:function(){return{nivelAcceso:(0,De["default"])().ruta.nivel,labelRequisitos:["0437"].includes((0,De["default"])().colcod)?"Tipo taller":"Requisitos",formCurso:{curso:"",programa:"",grupo:"",requisitos:"",profesor:null,aula:"",cerrado:!1,anulacionAutomatica:!1,fechaInicio:"",fechaFin:"",habilitado:{alumnos:!0,externos:!1,trabajadores:!1,hijosTrabajadores:!1},tipoCondicion:1,condicion:[],edadInicio:"",edadFin:"",cumpleaniosHasta:"",soloMatriculado:0,altoRendimiento:0,recuperacion:0},formRecursos:{linkReglamento:"",linkListaUtiles:""},formFacturacion:{tipoCobro:"",precioFrecDias:!1,monto:"",montotemporada:"",montosTipoParticipante:!1,precioPaqueteSemanas:!1},formFrecDias:[],formMontoParticipante:{alumnos:"",externos:"",trabajadores:"",hijosTrabajadores:""},formTurnos:[],comboProgramas:[],comboGrupos:[],comboProfesores:[],comboAulas:[],comboTiposCobro:[{value:"M",label:"Mensual"},{value:"A",label:"Único"},{value:"G",label:"Gratuito"}],comboNivelGrado:[],comboCondicion:[{value:1,label:"Nivel y Grado"},{value:2,label:"Edad"}],comboEdad:[],comboFrecDias:[],comboDiasSemana:[{value:1,label:"Lunes"},{value:2,label:"Martes"},{value:3,label:"Miércoles"},{value:4,label:"Jueves"},{value:5,label:"Viernes"},{value:6,label:"Sábado"},{value:7,label:"Domingo"}],comboPerfiles:[{value:1,label:"Alumno"},{value:3,label:"Externos"},{value:8,label:"Personal"},{value:15,label:"Hijo de Personal"}],PERFIL_ALUMNO:he["default"].PERFIL_ALUMNO,PERFIL_ALUMNO_EXTERNO:he["default"].PERFIL_ALUMNO_EXTERNO,PERFIL_PERSONAL:he["default"].PERFIL_PERSONAL,PERFIL_HIJO_PERSONAL:he["default"].PERFIL_HIJO_PERSONAL,RANGOEDAD:!0,tieneTemporada:!1,optionCurso:[],keysComplete:["CURSODES"],OBLIGATORIO:[function(o){return!!o||"El campo es obligatorio"}],turnosLoaded:!1}},methods:{validarMonto:function(){this.$refs&&this.$refs.refMonto&&this.$refs.refMonto.resetValidation()},validarTipoCobro:function(){this.validarMonto(),"G"===this.formFacturacion.tipoCobro?(this.formFacturacion.precioFrecDias=!1,this.formFacturacion.monto=0,this.formFacturacion.montotemporada=0,this.formFacturacion.montosTipoParticipante=!1,this.formFacturacion.precioPaqueteSemanas=!1):(this.formFacturacion.monto=null,this.formFacturacion.montotemporada=null)},alertOfRefresh:function(o){o.preventDefault(),o.returnValue=""},primeraLetraMayuscula:function(){this.formCurso.curso=String(this.formCurso.curso).charAt(0).toUpperCase()+String(this.formCurso.curso).slice(1)},cambiarFechaFin:function(){var o=this;return f()(d()().m(function e(){var r,a;return d()().w(function(e){while(1)switch(e.n){case 0:if(!(o.inscritos>0&&["A","G"].includes(o.formFacturacion.tipoCobro))||o.formFacturacion.precioFrecDias&&o.formFacturacion.precioPaqueteSemanas){e.n=2;break}return r="El taller tiene ".concat(o.inscritos," inscrito(s), ¿Deseas que este cambio afecte en ellos?"),e.n=1,o.$confirmar(r,"info");case 1:a=e.v,o.formCurso.updateFechaFinInscripcion=!1,a&&(o.formCurso.updateFechaFinInscripcion=!0);case 2:return e.a(2)}},e)}))()},closeModalCalendar:function(o){var e=this;return f()(d()().m(function r(){return d()().w(function(r){while(1)switch(r.n){case 0:return r.n=1,e.cambiarFechaFin();case 1:e.$refs[o].hide();case 2:return r.a(2)}},r)}))()},initFrecuencias:function(){var o=this.validarUnHorarioPorTurno();if(o){this.formFacturacion.tipoCobro="A";var e,r=h()(this.formTurnos);try{for(r.s();!(e=r.n()).done;){var a=e.value;a.horaPorDia=!1}}catch(o){r.e(o)}finally{r.f()}this.formFrecDias.length>0||this.agregarFrecuenciaDias()}},initprecioPaqueteSemanas:function(){if(this.formTurnos.length>1)return this.formFacturacion.precioPaqueteSemanas=!1,this.$alert("Debes tener 1 solo turno con 1 solo día para usar esta opción","warning"),0;var o=this.validarUnHorarioPorTurno();o&&(this.formFacturacion.precioFrecDias=!1,this.formFacturacion.montosTipoParticipante=!1,this.formFacturacion.tipoCobro="A")},validarUnHorarioPorTurno:function(){var o,e=h()(this.formTurnos);try{for(e.s();!(o=e.n()).done;){var r=o.value;if(r.horarios.length>1)return this.formFacturacion.precioFrecDias=!1,this.formFacturacion.precioPaqueteSemanas=!1,this.$alert("Cada turno debe tener solo 1 día para usar esta opción","warning"),0}}catch(o){e.e(o)}finally{e.f()}return 1},initCondicion:function(){this.formCurso.condicion=[]},agregarFrecuenciaDias:function(){if(this.formFrecDias.length!==this.comboFrecDias.length){var o=this.getComboFrecuenciaDias(),e=o[0].ID_FRECUENCIA,r={ID_FRECUENCIA:e,MONTO_FREC:"",MONTOS:{}};r.MONTOS[this.PERFIL_ALUMNO]="",r.MONTOS[this.PERFIL_ALUMNO_EXTERNO]="",r.MONTOS[this.PERFIL_PERSONAL]="",r.MONTOS[this.PERFIL_HIJO_PERSONAL]="",this.formFrecDias.push(r),this.formFrecDias=this.formFrecDias.sort(function(o,e){return o.ID_FRECUENCIA-e.ID_FRECUENCIA})}},eliminarFrecuenciaDias:function(o){this.formFrecDias=this.formFrecDias.filter(function(e){return e.ID_FRECUENCIA!==o.ID_FRECUENCIA})},getComboFrecuenciaDias:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this.formFrecDias.map(function(o){return o.ID_FRECUENCIA});return this.comboFrecDias.filter(function(r){return!e.includes(r.ID_FRECUENCIA)||o===r.ID_FRECUENCIA})},generarIdTurnoDisponible:function(){for(var o,e=this,r=function(o){var r=e.formTurnos.find(function(e){return e.turno===o});if(!r)return{v:o}},a=1;a<200;a++)if(o=r(a),o)return o.v;throw new Error("Hubo un problema al generar el turno")},agregarTurno:function(){var o=this;try{var e=document.getElementById("turnosContainer");e&&e.scrollTo&&e.scrollTo({top:e.scrollHeight,behavior:"smooth"});var r=this.generarIdTurnoDisponible();this.formTurnos.push({turno:r,cubiertas:0,vacantes:"",horaPorDia:!1,horaInicio:"",horaFin:"",horarios:[{dia:1,horaInicio:"",horaFin:""}]}),this.turnosLoaded=!0,setTimeout(function(){var e=document.getElementById("turno"+(o.formTurnos.length-1));console.log(o.formTurnos.length,e,"turno"+(o.formTurnos.length-1)),e&&(e.classList.add("shine"),setTimeout(function(){e.classList.remove("shine")},600))},200)}catch(o){this.$alert(o.message,"warning")}},agregarHorario:function(o){var e=o.horarios.length%7+1;o.horarios.push({dia:e,horaInicio:"",horaFin:""})},eliminarTurno:function(o){var e=this;return f()(d()().m(function r(){return d()().w(function(r){while(1)switch(r.n){case 0:e.$confirm("¿Está seguro de eliminar el turno?").onOk(function(){e.formTurnos=e.formTurnos.filter(function(e){return e!==o})});case 1:return r.a(2)}},r)}))()},eliminarHorario:function(o,e){var r=this;return f()(d()().m(function a(){return d()().w(function(a){while(1)switch(a.n){case 0:r.$confirm("¿Está seguro de eliminar el horario?").onOk(function(){o.horarios=o.horarios.filter(function(o){return o!==e})});case 1:return a.a(2)}},a)}))()},getcombos:function(){var o=this;return this.$http("api/CTCursoController/getcombos").then(function(e){o.comboProgramas=L()(e.dataTipoGrupo),o.optionCurso=e.dataCurso,o.comboProfesores=e.dataProfe,o.comboProfesores.unshift({ID_PERSONA:null,NOMCOMP:"SIN ASIGNAR"}),o.comboAulas=e.dataAula,o.comboAulas.unshift({AULACOD:"",AULADES:"SIN ASIGNAR"});var r=e.dataNivel.map(function(o){return o.value=o.NG,o.label=o.DESCRIPCION,o.ID=o.INSTRUCOD+o.GRADOCOD,o});return r.unshift({value:"T",label:"Todos",ID:"T",NG:"T"}),o.comboNivelGrado=r,e.dataDuravac?(o.duracod=e.dataDuravac.DURACOD,o.durades=e.dataDuravac.DURADES):o.$alert("Falta configurar el periodo vacacional","info"),e})},getEdades:function(){for(var o=[],e=1;e<=90;e++)o.push({value:String(e),label:"".concat(e," años"),EDAD:String(e)});return o},rangoEdad:function(o){var e=this;clearTimeout(this.timer),this.timer=setTimeout(function(){if(e.formCurso.edadInicio&&e.formCurso.edadFin){var r=[],a=parseInt(e.formCurso.edadInicio),n=parseInt(e.formCurso.edadFin);if(a>n)return e.formCurso[o]=null,e.$notify("La edad fin no puede ser menor a la edad inicio","warning");for(var t=a;t<=n;t++)r.push(String(t));e.formCurso.condicion=r}},700)},cursoFueSeleccionado:function(o){o&&(this.formCurso.curso=o.CURSODES)},convertDayFormat:function(o){var e=o.split("T")[0],r=e.split("-");return r[2]+"/"+r[1]+"/"+r[0]},getGrupos:function(o){var e=this;return f()(d()().m(function r(){var a;return d()().w(function(r){while(1)switch(r.n){case 0:return r.n=1,e.$http.get("api/CTCursoController/getGrupo",{params:{tipocod:o}});case 1:a=r.v,e.comboGrupos=a,e.formCurso.grupo=null;case 2:return r.a(2)}},r)}))()},cleanForm:function(){this.formCurso={curso:"",programa:"",grupo:"",requisitos:"",profesor:null,aula:"",cerrado:!1,anulacionAutomatica:!1,fechaInicio:"",fechaFin:"",habilitado:{alumnos:!0,externos:!1,trabajadores:!1,hijosTrabajadores:!1},tipoCondicion:1,condicion:[],edadInicio:"",edadFin:"",cumpleaniosHasta:"",soloMatriculado:0,altoRendimiento:0,recuperacion:0},this.formRecursos={linkReglamento:"",linkListaUtiles:""},this.formFacturacion={tipoCobro:"",precioFrecDias:!1,monto:"",montotemporada:"",montosTipoParticipante:!1,precioPaqueteSemanas:!1},this.formFrecDias=[],this.formMontoParticipante={alumnos:"",externos:"",trabajadores:"",hijosTrabajadores:""},this.formTurnos=[]},fillForm:function(o,e,r,a,n){var t=this;return f()(d()().m(function i(){return d()().w(function(i){while(1)switch(i.n){case 0:return console.log("dataTurnos",e),i.n=1,t.getGrupos(o.TIPOCOD);case 1:t.formCurso={curso:o.CURSODES,programa:o.TIPOCOD,grupo:o.GRUVACOD,requisitos:o.REQUISITOS,profesor:e[0].ID_PERSONA,aula:e[0].AULACOD,cerrado:Boolean(o.CERRADO),anulacionAutomatica:1===o.FL_ANULACION,fechaInicio:t.convertDayFormat(o.FECINI),fechaFin:t.convertDayFormat(o.FECFIN),habilitado:{alumnos:a.includes(t.PERFIL_ALUMNO),externos:a.includes(t.PERFIL_ALUMNO_EXTERNO),trabajadores:a.includes(t.PERFIL_PERSONAL),hijosTrabajadores:a.includes(t.PERFIL_HIJO_PERSONAL)},tipoCondicion:o.TIPOCONDICION,condicion:r||[],cumpleaniosHasta:1===o.TIPOCONDICION?"":t.convertDayFormat(o.CUMPLEANIO),soloMatriculado:o.FLAG_SOLO_MATRICULADO,altoRendimiento:o.ALTO_RENDIMIENTO,recuperacion:o.RECUPERACION},2===t.formCurso.tipoCondicion&&t.RANGOEDAD&&r.length&&(t.formCurso.edadInicio=r[0],t.formCurso.edadFin=r[r.length-1]),o.REGLAMENTO="0"===o.REGLAMENTO?null:o.REGLAMENTO,o.UTILES="0"===o.UTILES?null:o.UTILES,t.formRecursos={linkReglamento:o.REGLAMENTO,linkListaUtiles:o.UTILES},o.FLAG_PAQUETE_FREC=Number(o.FLAG_PAQUETE_FREC),t.formFacturacion={tipoCobro:o.TIPOCOB,precioFrecDias:Boolean(o.FLAG_FREC_DIAS),monto:o.FLAG_MONTO_TIPO?"":o.MONTOCUR||o.MONTOCURE||o.MONTOCURH||o.MONTOCURT||0,montotemporada:o.MONTOTEMPORADA,montosTipoParticipante:Boolean(o.FLAG_MONTO_TIPO),precioPaqueteSemanas:Boolean(o.FLAG_PAQUETE_FREC)},t.formMontoParticipante={alumnos:o.FLAG_MONTO_TIPO?o.MONTOCUR:"",externos:o.FLAG_MONTO_TIPO?o.MONTOCURE:"",trabajadores:o.FLAG_MONTO_TIPO?o.MONTOCURT:"",hijosTrabajadores:o.FLAG_MONTO_TIPO?o.MONTOCURH:""},t.formTurnos=e.map(function(o){var e={turno:o.TURNO,cubiertas:o.CUBIERTAS,vacantes:o.VACANTES,codTurno:o.VACCOD,horaPorDia:Boolean(o.FLAG_HORA_POR_DIA),horaInicio:o.FLAG_HORA_POR_DIA?"":pe.p6.formatDate(o.horarios[0].HORAINI,"HH:mm"),horaFin:o.FLAG_HORA_POR_DIA?"":pe.p6.formatDate(o.horarios[0].HORAFIN,"HH:mm")},r=o.horarios.map(function(e){var r=o.FLAG_HORA_POR_DIA?pe.p6.formatDate(e.HORAINI,"HH:mm"):"",a=o.FLAG_HORA_POR_DIA?pe.p6.formatDate(e.HORAFIN,"HH:mm"):"",n={dia:e.DIA,horaInicio:r,horaFin:a};return n});return e.horarios=r,e}),t.formTurnos.sort(function(o,e){return o.turno-e.turno}),o.FLAG_FREC_DIAS&&n.map(function(o){var e=t.formFrecDias.find(function(e){return e.ID_FRECUENCIA===o.ID_FRECUENCIA});e||(e={ID_FRECUENCIA:o.ID_FRECUENCIA,MONTO_FREC:o.MONTO,MONTOS:{}},e.MONTOS[t.PERFIL_ALUMNO]="",e.MONTOS[t.PERFIL_ALUMNO_EXTERNO]="",e.MONTOS[t.PERFIL_PERSONAL]="",e.MONTOS[t.PERFIL_HIJO_PERSONAL]="",t.formFrecDias.push(e)),e.MONTOS[o.ID_PERFIL]=o.MONTO}),t.turnosLoaded=!0;case 2:return i.a(2)}},i)}))()},setCurso:function(){var o=this;return f()(d()().m(function e(){var r,a,n,t,i,l,u,c,s,m;return d()().w(function(e){while(1)switch(e.p=e.n){case 0:return e.p=0,e.n=1,o.$http.get("api/CtCursoPeriodoController/getPerfilesHabilitados",{params:{params:{where:{ID_CURSO_PERIODO:o.idCursoPeriodo}}}});case 1:return r=e.v,a=r.map(function(o){return o.ID_PERFIL}),e.n=2,o.$http.get("api/CtCursoPeriodoController/getCursoPeriodo",{params:{params:{ID_CURSO_PERIODO:o.idCursoPeriodo}}});case 2:return n=e.v,t=n[0],e.n=3,o.$http.get("api/CtCursoPeriodoController/getTurnos",{params:{params:{where:{ID_CURSO_PERIODO:o.idCursoPeriodo}}}});case 3:return i=e.v,e.n=4,o.$http.get("api/CtCursoPeriodoController/getHorario",{params:{idCursoPeriodo:o.idCursoPeriodo}});case 4:return l=e.v,i.map(function(o){o.horarios=l.filter(function(e){return e.TURNO===o.TURNO})}),e.n=5,o.$http.get("api/CtCursoPeriodoController/getCursoCondicion",{params:{idCursoPeriodo:o.idCursoPeriodo,tipocondicion:t.TIPOCONDICION}});case 5:if(u=e.v,c=u.map(function(o){return o.VALOR}),s=[],!t.FLAG_FREC_DIAS){e.n=7;break}return e.n=6,o.$http.get("api/CtCursoPeriodoController/getFrecCurso",{params:{params:{where:{ID_CURSO_PERIODO:o.idCursoPeriodo}}}});case 6:s=e.v;case 7:return e.n=8,o.fillForm(t,i,c,a,s);case 8:e.n=10;break;case 9:e.p=9,m=e.v,console.log(m),o.$alert("Hubo un problema al obtener el curso","warning");case 10:return e.a(2)}},e,null,[[0,9]])}))()},getFrecuenciaDias:function(){var o=this;return f()(d()().m(function e(){var r;return d()().w(function(e){while(1)switch(e.p=e.n){case 0:return e.p=0,e.n=1,o.$http.get("api/CtCursoPeriodoController/getFrecuenciaDias");case 1:return r=e.v,r.map(function(o){o.DESCRIPCION=o.NRO_CLASES?"".concat(o.DESCRIPCION," - ").concat(o.NRO_CLASES," clases"):"".concat(o.DESCRIPCION)}),e.a(2,r);case 2:e.p=2,e.v,o.$alert("Hubo un error al obtener la frecuencia de días","warning");case 3:return e.a(2)}},e,null,[[0,2]])}))()}},beforeMount:function(){var o=this;return f()(d()().m(function e(){return d()().w(function(e){while(1)switch(e.n){case 0:return o.$q.loading.show(),e.n=1,o.getcombos();case 1:return e.n=2,o.getFrecuenciaDias();case 2:if(o.comboFrecDias=e.v,o.comboEdades=o.getEdades(),!o.idCursoPeriodo){e.n=4;break}return e.n=3,o.setCurso();case 3:e.n=5;break;case 4:o.cleanForm(),o.agregarTurno();case 5:o.$q.loading.hide();case 6:return e.a(2)}},e)}))()},created:function(){window.addEventListener("beforeunload",this.alertOfRefresh)},beforeDestroy:function(){window.removeEventListener("beforeunload",this.alertOfRefresh)},watch:{"formFacturacion.precioPaqueteSemanas":{immediate:!0,handler:function(o){o&&(this.formFacturacion.montotemporada=0)}},"formFacturacion.precioFrecDias":{immediate:!0,handler:function(o){o&&(this.formFacturacion.montotemporada=0)}},"formFacturacion.montosTipoParticipante":{immediate:!0,handler:function(o){o&&(this.formFacturacion.montotemporada=0)}}}},ge=r(12807);const Te=(0,ge.A)(ke,[["render",me]]);var Re=Te,Pe=r(54267),_e={props:{tipo:{type:String,default:"agregar"},periodo:{type:String,default:""},idCursoPeriodo:{type:[Number,String],default:0}},components:{QIcon:b.A,QBtn:F.A,QSelect:v.A,QInput:C.A,QCard:O.A,QCardSection:E.A,QSeparator:I.A,crearBotones:D.A,formCurso:Re,date:pe.p6},data:function(){return{sieInfo:(0,De["default"])(),tipoRegistro:"editar"===this.tipo?"Editar":"Agregar",name:"".concat(this.tipoRegistro," Curso Talleres"),nivelAcceso:(0,De["default"])().ruta.nivel,buttons:[{label:"Guardar",icon:"save",click:this.saveCurso,minAcceso:2}],PERFIL_ALUMNO:he["default"].PERFIL_ALUMNO,PERFIL_ALUMNO_EXTERNO:he["default"].PERFIL_ALUMNO_EXTERNO,PERFIL_PERSONAL:he["default"].PERFIL_PERSONAL,PERFIL_HIJO_PERSONAL:he["default"].PERFIL_HIJO_PERSONAL,rangoEdad:!1}},methods:{volver:function(){var o="talleres.mantenimientoCursosNuevo.listar";this.$router.push({name:o})},validarForm:function(o,e,r,a){if(!o.curso)throw new Error("Debe ingresar el nombre del curso");if(!o.programa)throw new Error("Debe seleccionar el programa del curso");if(!o.grupo)throw new Error("Debe seleccionar el grupo del curso");if(!o.fechaInicio)throw new Error("Debe ingresar la fecha de inicio del curso");if(!o.fechaFin)throw new Error("Debe ingresar la fecha fin del curso");if(new Date((0,Pe.convertToYMD)(o.fechaFin))<new Date((0,Pe.convertToYMD)(o.fechaInicio)))throw new Error("Debe ingresar una fecha fin mayor o igual a la fecha de inicio");if(!o.habilitado.alumnos&&!o.habilitado.externos&&!o.habilitado.trabajadores&&!o.habilitado.hijosTrabajadores)throw new Error("Debe indicar en curso disponible, mínimo un perfil");if(1===o.tipoCondicion&&0===o.condicion.length)throw new Error("Debe seleccionar al menos un grado para el curso");if(2===o.tipoCondicion&&!this.rangoEdad&&0===o.condicion.length)throw new Error("Debe seleccionar al menos una edad para el curso");if(2===o.tipoCondicion&&!o.cumpleaniosHasta)throw new Error("Debe ingresar hasta qué fecha se considerarán las edades");if(2===o.tipoCondicion&&this.rangoEdad&&!o.edadInicio)throw new Error("Debe ingresar la edad inicio");if(2===o.tipoCondicion&&this.rangoEdad&&!o.edadFin)throw new Error("Debe ingresar la edad fin");if(!e.tipoCobro)throw new Error("Debe seleccionar el tipo de cobro del curso");if(!e.precioFrecDias&&!e.precioPaqueteSemanas&&!e.montosTipoParticipante&&!e.monto&&0!==e.monto)throw new Error("Debe ingresar el monto del curso");if(e.precioFrecDias&&!r.length)throw new Error("Debe agregar una frecuencia por clase");if(e.precioFrecDias&&!e.montosTipoParticipante){var n,t=h()(r);try{for(t.s();!(n=t.n()).done;){var i=n.value;if(!i.MONTO_FREC)throw new Error("Debe ingresar el monto de todas las frecuencias de clases")}}catch(o){t.e(o)}finally{t.f()}}if(e.precioFrecDias&&e.montosTipoParticipante){var l,u=h()(r);try{for(u.s();!(l=u.n()).done;){var c=l.value;if(o.habilitado.alumnos&&!c.MONTOS[this.PERFIL_ALUMNO])throw new Error("Debe ingresar todos los montos de alumno para las frecuencias de clases");if(o.habilitado.externos&&!c.MONTOS[this.PERFIL_ALUMNO_EXTERNO])throw new Error("Debe ingresar todos los montos de externos para las frecuencias de clases");if(o.habilitado.trabajadores&&!c.MONTOS[this.PERFIL_PERSONAL])throw new Error("Debe ingresar todos los montos de trabajadores para las frecuencias de clases");if(o.habilitado.hijosTrabajadores&&!c.MONTOS[this.PERFIL_HIJO_PERSONAL])throw new Error("Debe ingresar todos los montos de los hijos de trabajadores para las frecuencias de clases")}}catch(o){u.e(o)}finally{u.f()}}if(0===a.length)throw new Error("Debe ingresar al menos un turno para el taller");var s,d=h()(a);try{for(d.s();!(s=d.n()).done;){var m=s.value;if(!m.vacantes&&0!==m.vacantes)throw new Error("Debe ingresar el número de vacantes para el turno #".concat(m.turno));if(m.vacantes<m.cubiertas)throw new Error("El número de vacantes no puede ser menor a la cantidad de vacantes cubiertas para el turno #".concat(m.turno));if(!m.horaPorDia&&!m.horaInicio)throw new Error("Debe ingresar la hora de inicio para el turno #".concat(m.turno));if(!m.horaPorDia&&!m.horaFin)throw new Error("Debe ingresar la hora fin para el turno #".concat(m.turno));if(m.horaInicio&&m.horaFin&&m.horaFin<=m.horaInicio)throw new Error("Debe ingresar la hora fin mayor a la hora de inicio, para el turno #".concat(m.turno));if(m.horaPorDia){var f,p=h()(m.horarios);try{for(p.s();!(f=p.n()).done;){var b=f.value;if(!b.horaInicio)throw new Error("Debe ingresar la hora de inicio para el día ".concat(he["default"].DIAS_SEMANA[b.dia]," del turno #").concat(m.turno));if(!b.horaFin)throw new Error("Debe ingresar la hora de fin para el día ".concat(he["default"].DIAS_SEMANA[b.dia]," del turno #").concat(m.turno));if(b.horaFin<b.horaInicio)throw new Error("Debe ingresar la hora fin mayor a la hora de inicio, para el turno #".concat(m.turno));if(!this.validarTiempoMinimoCurso(b.horaInicio,b.horaFin))throw new Error("El curso debe durar al menos 30 minutos para el día ".concat(he["default"].DIAS_SEMANA[b.dia]," del turno #").concat(m.turno))}}catch(o){p.e(o)}finally{p.f()}}else{var F,C=[],v=h()(m.horarios);try{for(v.s();!(F=v.n()).done;){var O=F.value;if(C.includes(O.dia))throw new Error("El turno #".concat(m.turno," no puede tener el mismo día con el mismo horario"));C.push(O.dia)}}catch(o){v.e(o)}finally{v.f()}}}}catch(o){d.e(o)}finally{d.f()}},validarTiempoMinimoCurso:function(o,e){if(!e||!o)return!0;var r=new Date("1970-01-01T".concat(o)),a=new Date("1970-01-01T".concat(e)),n=(a.getTime()-r.getTime())/6e4;return console.log(n),!(n<=29)},getDataCursoComponent:function(){var o=this.$refs.refCurso.formCurso,e=this.$refs.refCurso.formRecursos,r=this.$refs.refCurso.formFacturacion,a=this.$refs.refCurso.formFrecDias,n=this.$refs.refCurso.formMontoParticipante,t=this.$refs.refCurso.formTurnos;this.rangoEdad=this.$refs.refCurso.RANGOEDAD,this.validarForm(o,r,a,t);var i={TIPOCONDICION:o.tipoCondicion,TIPOHORARIO:3,FL_ANULACION:o.anulacionAutomatica?1:2,TIPOCOD:o.programa,TIPOCOB:r.tipoCobro,MONTOTEMPORADA:Number(r.montotemporada),GRUVACOD:o.grupo,CERRADO:Number(o.cerrado),FECINI:(0,Pe.convertToYMD)(o.fechaInicio),FECFIN:(0,Pe.convertToYMD)(o.fechaFin),CONDICION:o.condicion,CURSODES:o.curso,REQUISITOS:o.requisitos,AULACOD:o.aula,REGLAMENTO:e.linkReglamento,UTILES:e.linkListaUtiles,DURACOD:this.periodo,CUMPLEANIO:(0,Pe.convertToYMD)(o.cumpleaniosHasta),FLAG_SOLO_MATRICULADO:o.soloMatriculado,ALTO_RENDIMIENTO:o.altoRendimiento,RECUPERACION:o.recuperacion,TURNOS:t,HABILITADOS:o.habilitado,FREC_DIAS:r.precioFrecDias?a:[],FLAG_MONTO_TIPO:r.montosTipoParticipante?1:0,FLAG_FREC_DIAS:r.precioFrecDias?1:0,FLAG_PAQUETE_FREC:r.precioPaqueteSemanas?1:0,anoOrigen:this.sieInfo.ano,updateFechaFinInscripcion:o.updateFechaFinInscripcion||!1},l={alumnos:"MONTOCUR",externos:"MONTOCURE",trabajadores:"MONTOCURT",hijosTrabajadores:"MONTOCURH"};if(!r.precioFrecDias&&!r.precioPaqueteSemanas)for(var u=0,c=Object.keys(l);u<c.length;u++){var s=c[u],d=l[s];i[d]=r.montosTipoParticipante?n[s]:r.monto}r.precioFrecDias&&!r.montosTipoParticipante&&i.FREC_DIAS.map(function(o){o.MONTO_FREC=Number(o.MONTO_FREC);var e=Object.keys(o.MONTOS);e.map(function(e){o.MONTOS[e]=o.MONTO_FREC})}),1===o.tipoCondicion&&o.condicion.includes("T")&&(o.condicion=this.$refs.refCurso.comboNivelGrado.filter(function(o){return"T"!==o.NG}).map(function(o){return o.NG})),i.CONDICION=o.condicion;var m,f=h()(t);try{for(f.s();!(m=f.n()).done;){var p=m.value;if(!p.horaPorDia){var b,F=h()(p.horarios);try{for(F.s();!(b=F.n()).done;){var C=b.value;C.horaInicio=p.horaInicio,C.horaFin=p.horaFin}}catch(o){F.e(o)}finally{F.f()}}p.ID_PERSONA=o.profesor}}catch(o){f.e(o)}finally{f.f()}return i},saveCurso:function(){var o=this;return f()(d()().m(function e(){var r,a;return d()().w(function(e){while(1)switch(e.p=e.n){case 0:r={},e.p=1,r=o.getDataCursoComponent(),"editar"===o.tipo&&(r.ID_CURSO_PERIODO=Number(o.idCursoPeriodo)),e.n=3;break;case 2:return e.p=2,a=e.v,o.$alert(a.message,"warning"),e.a(2);case 3:o.$confirm("¿Está seguro de guardar el curso?").onOk(f()(d()().m(function e(){return d()().w(function(e){while(1)switch(e.p=e.n){case 0:return o.$q.loading.show(),e.p=1,e.n=2,o.$http.post("api/CtCursoPeriodoController/postNuevoCtCursoPeriodo",{data:r});case 2:o.$alert("El curso fue guardado satisfactoriamente","success"),o.volver(),e.n=4;break;case 3:e.p=3,e.v,o.$alert("Hubo un error al guardar el curso","warning");case 4:o.$q.loading.hide();case 5:return e.a(2)}},e,null,[[1,3]])})));case 4:return e.a(2)}},e,null,[[1,2]])}))()}},beforeMount:function(){return f()(d()().m(function o(){return d()().w(function(o){while(1)switch(o.n){case 0:return o.a(2)}},o)}))()}};const Ne=(0,ge.A)(_e,[["render",c]]);var Ve=Ne}}]);