"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[82631],{82631:function(e,r,o){o.r(r),o.d(r,{default:function(){return re}});var l=o(8445),n=o.n(l),a=(o(71225),o(50310),o(5962),o(83190),o(61758)),t={class:"row q-col-gutter-sm"},A={class:"col-xs-12"},O={class:"col-xs-12 col-sm-6 col-md-3"},i={class:"col-xs-12 col-sm-6 col-md-3"},I={class:"col-xs-12 col-sm-6 col-md-3"},s={class:"col-xs-12 col-sm-6 col-md-3"},T={class:"col-xs-12"},u={class:"row q-pa-sm q-col-gutter-sm"},d={class:"col-xs-12 col-sm-6"},c={class:"col-xs-12 col-sm-6"},m={class:"col-xs-12 col-sm-6"},_={class:"col-xs-12 col-sm-6"},f={class:"col-xs-12 col-sm-6"},D={class:"col-xs-12 col-sm-6"},N={class:"col-xs-12 col-sm-6"},C={class:"col-xs-12 col-sm-6"},S={class:"col-xs-12 col-sm-6"},L={class:"col-xs-12 col-sm-6"},E={class:"col-xs-12 col-sm-6"},p={class:"col-xs-12 col-sm-6"},R={class:"col-xs-12 col-sm-6"},M={class:"col-xs-12 col-sm-6"},h={class:"col-xs-12 col-sm-6"},V={class:"col-xs-12 col-sm-6"},b={class:"col-xs-12 col-sm-6"},P={class:"col-xs-12 col-sm-6"},F={class:"col-xs-12 col-sm-6"},x={class:"col-xs-12 col-sm-6"};function w(e,r){var o=this,l=(0,a.g2)("header-btn"),w=(0,a.g2)("q-select"),g=(0,a.g2)("q-date"),v=(0,a.g2)("q-popup-proxy"),U=(0,a.g2)("q-icon"),k=(0,a.g2)("q-input"),K=(0,a.g2)("sie-table"),H=(0,a.g2)("q-card-section"),y=(0,a.g2)("q-card"),$=(0,a.g2)("q-form"),q=(0,a.g2)("sie-modal"),B=(0,a.g2)("q-page");return(0,a.uX)(),(0,a.Wv)(B,{class:"q-pa-sm sie-flat"},{default:(0,a.k6)(function(){return[(0,a.bF)(y,{flat:"",bordered:""},{default:(0,a.k6)(function(){return[(0,a.bF)(H,null,{default:(0,a.k6)(function(){return[(0,a.Lk)("div",t,[(0,a.Lk)("div",A,[(0,a.bF)(l,{name:"Kardex",buttons:e.buttons},null,8,["buttons"])]),(0,a.Lk)("div",O,[(0,a.bF)(w,{modelValue:e.filter.IDALMACEN,"onUpdate:modelValue":r[0]||(r[0]=function(r){return e.filter.IDALMACEN=r}),options:e.almacenes,label:"Almacén","option-label":"DESCRIPCION","emit-value":"","option-value":"IDALMACEN",onInput:e.readKardexPromedio},null,8,["modelValue","options","onInput"])]),(0,a.Lk)("div",i,[(0,a.bF)(w,{modelValue:e.filter.IDPRODUCTO,"onUpdate:modelValue":r[1]||(r[1]=function(r){return e.filter.IDPRODUCTO=r}),options:e.productos,label:"Producto","option-label":"DESCRIPCION","emit-value":"","option-value":"IDPRODUCTO",onInput:e.readKardexPromedio},null,8,["modelValue","options","onInput"])]),(0,a.Lk)("div",I,[(0,a.bF)(k,{readonly:"",label:"Fecha Emisión Inicio",maxlength:"10",format:"##/##/####",modelValue:e.filter.FECHA_EMISION_INICIO,"onUpdate:modelValue":r[4]||(r[4]=function(r){return e.filter.FECHA_EMISION_INICIO=r}),mask:"##/##/####"},{append:(0,a.k6)(function(){return[(0,a.bF)(U,{class:"cursor-pointer",name:"date_range"},{default:(0,a.k6)(function(){return[(0,a.bF)(v,{ref:"qDateProxy1","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)(function(){return[(0,a.bF)(g,{mask:"DD/MM/YYYY",modelValue:e.filter.FECHA_EMISION_INICIO,"onUpdate:modelValue":r[2]||(r[2]=function(r){return e.filter.FECHA_EMISION_INICIO=r}),onInput:r[3]||(r[3]=function(r){e.$refs.qDateProxy1.hide(),e.readKardexPromedio()})},null,8,["modelValue"])]}),_:1},512)]}),_:1})]}),_:1},8,["modelValue"])]),(0,a.Lk)("div",s,[(0,a.bF)(k,{readonly:"",label:"Fecha Emisión Fin",maxlength:"10",format:"##/##/####",modelValue:e.filter.FECHA_EMISION_FIN,"onUpdate:modelValue":r[7]||(r[7]=function(r){return e.filter.FECHA_EMISION_FIN=r}),mask:"##/##/####"},{append:(0,a.k6)(function(){return[(0,a.bF)(U,{class:"cursor-pointer",name:"date_range"},{default:(0,a.k6)(function(){return[(0,a.bF)(v,{ref:"qDateProxy2","transition-show":"scale","transition-hide":"scale"},{default:(0,a.k6)(function(){return[(0,a.bF)(g,{mask:"DD/MM/YYYY",modelValue:e.filter.FECHA_EMISION_FIN,"onUpdate:modelValue":r[5]||(r[5]=function(r){return e.filter.FECHA_EMISION_FIN=r}),onInput:r[6]||(r[6]=function(r){e.$refs.qDateProxy2.hide(),e.readKardexPromedio()})},null,8,["modelValue"])]}),_:1},512)]}),_:1})]}),_:1},8,["modelValue"])]),(0,a.Lk)("div",T,[(0,a.bF)(K,{type:"normal",data:e.rows,columns:e.fields,config:e.config,selection:"single","save-cells":"",ref:"tableKardexPromedio",onRowSelected:e.rowSelectKardexPromedio,css:"height:calc(100vh - 180px)","show-search":!1,"show-footer":!1,context:o},{header:(0,a.k6)(function(){return n()(r[29]||(r[29]=[(0,a.Lk)("tr",{class:"q-tr"},[(0,a.Lk)("th",{class:"q-th",colspan:"5"}),(0,a.Lk)("th",{class:"q-th",colspan:"3"},"Entradas"),(0,a.Lk)("th",{class:"q-th",colspan:"3"},"Salidas"),(0,a.Lk)("th",{class:"q-th",colspan:"3"},"Saldo")],-1)]))}),_:1},8,["data","columns","config","onRowSelected"])])])]}),_:1})]}),_:1}),(0,a.bF)(q,{esc:"","esc-click":"",modelValue:e.openAdd,"onUpdate:modelValue":r[28]||(r[28]=function(r){return e.openAdd=r}),css:{width:"500px"},title:"create"===e.action?"Agregar":"Modificar",onSubmit:e.saveAcccion},{default:(0,a.k6)(function(){return[(0,a.bF)($,{ref:"refForm"},{default:(0,a.k6)(function(){return[(0,a.Lk)("div",u,[(0,a.Lk)("div",d,[(0,a.bF)(k,{modelValue:e.form.IDTIPDOCALM,"onUpdate:modelValue":r[8]||(r[8]=function(r){return e.form.IDTIPDOCALM=r}),label:"IDTIPDOCALM",rules:[e.required]},null,8,["modelValue","rules"])]),(0,a.Lk)("div",c,[(0,a.bF)(k,{modelValue:e.form.IDTIPOPEALM,"onUpdate:modelValue":r[9]||(r[9]=function(r){return e.form.IDTIPOPEALM=r}),label:"IDTIPOPEALM",rules:[e.required]},null,8,["modelValue","rules"])]),(0,a.Lk)("div",m,[(0,a.bF)(k,{modelValue:e.form.MONCOD,"onUpdate:modelValue":r[10]||(r[10]=function(r){return e.form.MONCOD=r}),label:"MONCOD",rules:[e.required]},null,8,["modelValue","rules"])]),(0,a.Lk)("div",_,[(0,a.bF)(k,{modelValue:e.form.CAMBIO_MONEDA,"onUpdate:modelValue":r[11]||(r[11]=function(r){return e.form.CAMBIO_MONEDA=r}),label:"CAMBIO_MONEDA"},null,8,["modelValue"])]),(0,a.Lk)("div",f,[(0,a.bF)(k,{modelValue:e.form.MOVIMIENTO,"onUpdate:modelValue":r[12]||(r[12]=function(r){return e.form.MOVIMIENTO=r}),label:"MOVIMIENTO",rules:[e.required]},null,8,["modelValue","rules"])]),(0,a.Lk)("div",D,[(0,a.bF)(k,{modelValue:e.form.ENTRADA_CANTIDAD,"onUpdate:modelValue":r[13]||(r[13]=function(r){return e.form.ENTRADA_CANTIDAD=r}),label:"ENTRADA_CANTIDAD"},null,8,["modelValue"])]),(0,a.Lk)("div",N,[(0,a.bF)(k,{modelValue:e.form.ENTRADA_COSTO_UNITARIO,"onUpdate:modelValue":r[14]||(r[14]=function(r){return e.form.ENTRADA_COSTO_UNITARIO=r}),label:"ENTRADA_COSTO_UNITARIO"},null,8,["modelValue"])]),(0,a.Lk)("div",C,[(0,a.bF)(k,{modelValue:e.form.ENTRADA_COSTO_TOTAL,"onUpdate:modelValue":r[15]||(r[15]=function(r){return e.form.ENTRADA_COSTO_TOTAL=r}),label:"ENTRADA_COSTO_TOTAL"},null,8,["modelValue"])]),(0,a.Lk)("div",S,[(0,a.bF)(k,{modelValue:e.form.SALIDA_CANTIDAD,"onUpdate:modelValue":r[16]||(r[16]=function(r){return e.form.SALIDA_CANTIDAD=r}),label:"SALIDA_CANTIDAD"},null,8,["modelValue"])]),(0,a.Lk)("div",L,[(0,a.bF)(k,{modelValue:e.form.SALIDA_COSTO_UNITARIO,"onUpdate:modelValue":r[17]||(r[17]=function(r){return e.form.SALIDA_COSTO_UNITARIO=r}),label:"SALIDA_COSTO_UNITARIO"},null,8,["modelValue"])]),(0,a.Lk)("div",E,[(0,a.bF)(k,{modelValue:e.form.SALIDA_COSTO_TOTAL,"onUpdate:modelValue":r[18]||(r[18]=function(r){return e.form.SALIDA_COSTO_TOTAL=r}),label:"SALIDA_COSTO_TOTAL"},null,8,["modelValue"])]),(0,a.Lk)("div",p,[(0,a.bF)(k,{modelValue:e.form.SALDO_CANTIDAD,"onUpdate:modelValue":r[19]||(r[19]=function(r){return e.form.SALDO_CANTIDAD=r}),label:"SALDO_CANTIDAD"},null,8,["modelValue"])]),(0,a.Lk)("div",R,[(0,a.bF)(k,{modelValue:e.form.SALDO_COSTO_UNITARIO,"onUpdate:modelValue":r[20]||(r[20]=function(r){return e.form.SALDO_COSTO_UNITARIO=r}),label:"SALDO_COSTO_UNITARIO"},null,8,["modelValue"])]),(0,a.Lk)("div",M,[(0,a.bF)(k,{modelValue:e.form.SALDO_COSTO_TOTAL,"onUpdate:modelValue":r[21]||(r[21]=function(r){return e.form.SALDO_COSTO_TOTAL=r}),label:"SALDO_COSTO_TOTAL"},null,8,["modelValue"])]),(0,a.Lk)("div",h,[(0,a.bF)(k,{modelValue:e.form.INVENTARIO_INICIAL,"onUpdate:modelValue":r[22]||(r[22]=function(r){return e.form.INVENTARIO_INICIAL=r}),label:"INVENTARIO_INICIAL"},null,8,["modelValue"])]),(0,a.Lk)("div",V,[(0,a.bF)(k,{modelValue:e.form.COMPRAS_NETAS,"onUpdate:modelValue":r[23]||(r[23]=function(r){return e.form.COMPRAS_NETAS=r}),label:"COMPRAS_NETAS"},null,8,["modelValue"])]),(0,a.Lk)("div",b,[(0,a.bF)(k,{modelValue:e.form.INVENTARIO_FINAL,"onUpdate:modelValue":r[24]||(r[24]=function(r){return e.form.INVENTARIO_FINAL=r}),label:"INVENTARIO_FINAL"},null,8,["modelValue"])]),(0,a.Lk)("div",P,[(0,a.bF)(k,{modelValue:e.form.COSTOS_VENTAS,"onUpdate:modelValue":r[25]||(r[25]=function(r){return e.form.COSTOS_VENTAS=r}),label:"COSTOS_VENTAS"},null,8,["modelValue"])]),(0,a.Lk)("div",F,[(0,a.bF)(k,{modelValue:e.form.FECHA_REGISTRO,"onUpdate:modelValue":r[26]||(r[26]=function(r){return e.form.FECHA_REGISTRO=r}),label:"FECHA_REGISTRO"},null,8,["modelValue"])]),(0,a.Lk)("div",x,[(0,a.bF)(k,{modelValue:e.form.FECHA_MOVIMIENTO,"onUpdate:modelValue":r[27]||(r[27]=function(r){return e.form.FECHA_MOVIMIENTO=r}),label:"FECHA_MOVIMIENTO"},null,8,["modelValue"])])])]}),_:1},512)]}),_:1},8,["modelValue","title","onSubmit"])]}),_:1})}var g=o(76080),v=o.n(g),U=o(45254),k=o.n(U),K=(o(77507),o(89571),o(6123)),H=(o(30683),o(43136)),y={data:function(){return{config:{FECHA_MOVIMIENTO:{component:"date",edit:!1},TABLA10:{renderHtml:function(e,r){return r("span","".concat(e.IDTIPDOCALM||"-","(").concat(e.TIPO_COMPROBANTE||"Otros",")"))}},TABLA12:{renderHtml:function(e,r){return r("span","".concat(e.IDTIPOPEALM||"-","(").concat(e.TIPO_OPERACION||"Otros",")"))}},ENTRADA_CANTIDAD:{renderHtml:function(e,r){return r("span",{},(0,H.format)(e.ENTRADA_CANTIDAD||0))}},ENTRADA_COSTO_UNITARIO:{renderHtml:function(e,r){return r("span",{},(0,H.format)(e.ENTRADA_COSTO_UNITARIO||0))}},ENTRADA_COSTO_TOTAL:{renderHtml:function(e,r){return r("span",{},(0,H.format)(e.ENTRADA_COSTO_TOTAL||0))}},SALIDA_CANTIDAD:{renderHtml:function(e,r){return r("span",{},(0,H.format)(e.SALIDA_CANTIDAD||0))}},SALIDA_COSTO_UNITARIO:{renderHtml:function(e,r){return r("span",{},(0,H.format)(e.SALIDA_COSTO_UNITARIO||0))}},SALIDA_COSTO_TOTAL:{renderHtml:function(e,r){return r("span",{},(0,H.format)(e.SALIDA_COSTO_TOTAL||0))}},SALDO_CANTIDAD:{renderHtml:function(e,r){return r("span",{},(0,H.format)(e.SALDO_CANTIDAD||0))}},SALDO_COSTO_UNITARIO:{renderHtml:function(e,r){return r("span",{},(0,H.format)(e.SALDO_COSTO_UNITARIO||0))}},SALDO_COSTO_TOTAL:{renderHtml:function(e,r){return r("span",{},(0,H.format)(e.SALDO_COSTO_TOTAL||0))}},ACTION:{component:"button",icon:["edit as editar","delete as eliminar"],editar:function(e,r){var o=this;return k()(v()().m(function e(){return v()().w(function(e){while(1)switch(e.n){case 0:return o.rowKardexPromedio=r,e.n=1,o.openActualizar();case 1:return e.a(2)}},e)}))()},eliminar:function(e,r){var o=this;return k()(v()().m(function e(){return v()().w(function(e){while(1)switch(e.n){case 0:return o.rowKardexPromedio=r,e.n=1,o.deleteKardexPromedio();case 1:return e.a(2)}},e)}))()},tooltip:{editar:"Editar",eliminar:"Eliminar"},permisos:{editar:">1",eliminar:"===3"},flat:!0,dense:!0}},rows:[],fields:[{name:"FECHA_MOVIMIENTO",label:"Fecha",field:"FECHA_MOVIMIENTO",align:"center",sortable:!0},{name:"IDTIPDOCALM",label:"",field:"IDTIPDOCALM",align:"left",sortable:!0,vIf:!1},{name:"TIPO_COMPROBANTE",label:"",field:"TIPO_COMPROBANTE",align:"left",sortable:!0,vIf:!1},{name:"TABLA10",label:"Tipo Comprobante",field:"TABLA10",align:"left",sortable:!0},{name:"SERIE",label:"Serie",field:"SERIE",align:"center",sortable:!0},{name:"CORRELATIVO",label:"Correlativo",field:"CORRELATIVO",align:"center",sortable:!0},{name:"IDTIPOPEALM",label:"",field:"IDTIPOPEALM",align:"left",sortable:!0,vIf:!1},{name:"TIPO_OPERACION",label:"",field:"TIPO_OPERACION",align:"left",sortable:!0,vIf:!1},{name:"TABLA12",label:"Tipo Operación",field:"TABLA12",align:"left",sortable:!0},{name:"ENTRADA_CANTIDAD",label:"Cantidad",field:"ENTRADA_CANTIDAD",align:"right",sortable:!0},{name:"ENTRADA_COSTO_UNITARIO",label:"Costo Unitario",field:"ENTRADA_COSTO_UNITARIO",align:"right",sortable:!0},{name:"ENTRADA_COSTO_TOTAL",label:"Costo Total",field:"ENTRADA_COSTO_TOTAL",align:"right",sortable:!0},{name:"SALIDA_CANTIDAD",label:"Cantidad",field:"SALIDA_CANTIDAD",align:"right",sortable:!0},{name:"SALIDA_COSTO_UNITARIO",label:"Costo Unitario",field:"SALIDA_COSTO_UNITARIO",align:"right",sortable:!0},{name:"SALIDA_COSTO_TOTAL",label:"Costo Total",field:"SALIDA_COSTO_TOTAL",align:"right",sortable:!0},{name:"SALDO_CANTIDAD",label:"Cantidad",field:"SALDO_CANTIDAD",align:"right",sortable:!0},{name:"SALDO_COSTO_UNITARIO",label:"Costo Unitario",field:"SALDO_COSTO_UNITARIO",align:"right",sortable:!0},{name:"SALDO_COSTO_TOTAL",label:"Costo Total",field:"SALDO_COSTO_TOTAL",align:"right",sortable:!0}]}}},$=o(39893),q=o(81288),B=o(2739),Y=o(9736),G=o(5215),Q=o(95477),j=o(4437),z=o(88567),W=o(95718),X=o(18105),J={mixins:[H.initialConfig,y],components:{QForm:B.A,QInput:Y.A,QSelect:G.A,QPopupProxy:Q.A,QDate:j.A,QCard:z.A,QCardSection:W.A,QPage:K.Tu,QIcon:K.bP},data:function(){return{required:$.require,buttons:[{label:"Reparar",icon:"build",permiso:"===3",click:this.repararKardex}],openAdd:!1,action:"create",rowKardexPromedio:null,productos:[],almacenes:[],filter:{IDALMACEN:null,IDPRODUCTO:null,FECHA_EMISION_INICIO:null,FECHA_EMISION_FIN:null},form:{IDTIPDOCALM:null,IDTIPOPEALM:null,MONCOD:null,CAMBIO_MONEDA:null,MOVIMIENTO:null,ENTRADA_CANTIDAD:null,ENTRADA_COSTO_UNITARIO:null,ENTRADA_COSTO_TOTAL:null,SALIDA_CANTIDAD:null,SALIDA_COSTO_UNITARIO:null,SALIDA_COSTO_TOTAL:null,SALDO_CANTIDAD:null,SALDO_COSTO_UNITARIO:null,SALDO_COSTO_TOTAL:null,INVENTARIO_INICIAL:null,COMPRAS_NETAS:null,INVENTARIO_FINAL:null,COSTOS_VENTAS:null,FECHA_REGISTRO:null,FECHA_MOVIMIENTO:null}}},methods:{openAgregar:function(){this.action="create",this.rowKardexPromedio=null,(0,q.clear)(this.form),this.openAdd=!0},openActualizar:function(){this.rowKardexPromedio?(this.action="update",this.form.IDTIPDOCALM=this.rowKardexPromedio.IDTIPDOCALM,this.form.IDTIPOPEALM=this.rowKardexPromedio.IDTIPOPEALM,this.form.MONCOD=this.rowKardexPromedio.MONCOD,this.form.CAMBIO_MONEDA=this.rowKardexPromedio.CAMBIO_MONEDA,this.form.MOVIMIENTO=this.rowKardexPromedio.MOVIMIENTO,this.form.ENTRADA_CANTIDAD=this.rowKardexPromedio.ENTRADA_CANTIDAD,this.form.ENTRADA_COSTO_UNITARIO=this.rowKardexPromedio.ENTRADA_COSTO_UNITARIO,this.form.ENTRADA_COSTO_TOTAL=this.rowKardexPromedio.ENTRADA_COSTO_TOTAL,this.form.SALIDA_CANTIDAD=this.rowKardexPromedio.SALIDA_CANTIDAD,this.form.SALIDA_COSTO_UNITARIO=this.rowKardexPromedio.SALIDA_COSTO_UNITARIO,this.form.SALIDA_COSTO_TOTAL=this.rowKardexPromedio.SALIDA_COSTO_TOTAL,this.form.SALDO_CANTIDAD=this.rowKardexPromedio.SALDO_CANTIDAD,this.form.SALDO_COSTO_UNITARIO=this.rowKardexPromedio.SALDO_COSTO_UNITARIO,this.form.SALDO_COSTO_TOTAL=this.rowKardexPromedio.SALDO_COSTO_TOTAL,this.form.INVENTARIO_INICIAL=this.rowKardexPromedio.INVENTARIO_INICIAL,this.form.COMPRAS_NETAS=this.rowKardexPromedio.COMPRAS_NETAS,this.form.INVENTARIO_FINAL=this.rowKardexPromedio.INVENTARIO_FINAL,this.form.COSTOS_VENTAS=this.rowKardexPromedio.COSTOS_VENTAS,this.form.FECHA_REGISTRO=this.rowKardexPromedio.FECHA_REGISTRO,this.form.FECHA_MOVIMIENTO=this.rowKardexPromedio.FECHA_MOVIMIENTO,this.openAdd=!0):this.$notify("Selecciona un registro","info")},saveAcccion:function(){var e=this;return k()(v()().m(function r(){var o,l,n;return v()().w(function(r){while(1)switch(r.n){case 0:return r.n=1,e.$refs.refForm.validate();case 1:if(o=r.v,o){r.n=2;break}return r.a(2);case 2:if("create"!==e.action){r.n=4;break}return r.n=3,e.$confirmar("El registro se creará ¿Desea continuar?","info");case 3:l=r.v,l&&e.createKardexPromedio(),r.n=6;break;case 4:return r.n=5,e.$confirmar("El registro se modificará ¿Desea continuar?","info");case 5:n=r.v,n&&e.updateKardexPromedio();case 6:return r.a(2)}},r)}))()},repararKardex:function(){var e=this;return k()(v()().m(function r(){var o,l;return v()().w(function(r){while(1)switch(r.p=r.n){case 0:if(r.p=0,e.filter.IDALMACEN&&e.filter.IDPRODUCTO){r.n=1;break}return e.$notify("Debe seleccionar un almacén y un producto","info"),r.a(2);case 1:return r.n=2,e.$confirmar("¿Realmente desea continuar con el proceso de reparación?","info");case 2:if(o=r.v,!o){r.n=5;break}return r.n=3,e.$http.post("api/HyoKardex/repararKardex",{params:{IDPRODUCTO:e.filter.IDPRODUCTO,IDALMACEN:e.filter.IDALMACEN}});case 3:return r.n=4,e.readKardexPromedio();case 4:e.$notify("Proceso completado","success");case 5:r.n=7;break;case 6:r.p=6,l=r.v,e.$notify(l.message,"warning");case 7:return r.a(2)}},r,null,[[0,6]])}))()},rowSelectKardexPromedio:function(e,r){this.rowKardexPromedio=r},createKardexPromedio:function(){var e=this;return k()(v()().m(function r(){var o,l,n,a;return v()().w(function(r){while(1)switch(r.p=r.n){case 0:return r.p=0,r.n=1,e.$http.post("api/kardex-promedio",e.form);case 1:o=r.v,o.result,l=o.message,n={IDTIPDOCALM:e.form.IDTIPDOCALM,IDTIPOPEALM:e.form.IDTIPOPEALM,MONCOD:e.form.MONCOD,CAMBIO_MONEDA:e.form.CAMBIO_MONEDA,MOVIMIENTO:e.form.MOVIMIENTO,ENTRADA_CANTIDAD:e.form.ENTRADA_CANTIDAD,ENTRADA_COSTO_UNITARIO:e.form.ENTRADA_COSTO_UNITARIO,ENTRADA_COSTO_TOTAL:e.form.ENTRADA_COSTO_TOTAL,SALIDA_CANTIDAD:e.form.SALIDA_CANTIDAD,SALIDA_COSTO_UNITARIO:e.form.SALIDA_COSTO_UNITARIO,SALIDA_COSTO_TOTAL:e.form.SALIDA_COSTO_TOTAL,SALDO_CANTIDAD:e.form.SALDO_CANTIDAD,SALDO_COSTO_UNITARIO:e.form.SALDO_COSTO_UNITARIO,SALDO_COSTO_TOTAL:e.form.SALDO_COSTO_TOTAL,INVENTARIO_INICIAL:e.form.INVENTARIO_INICIAL,COMPRAS_NETAS:e.form.COMPRAS_NETAS,INVENTARIO_FINAL:e.form.INVENTARIO_FINAL,COSTOS_VENTAS:e.form.COSTOS_VENTAS,FECHA_REGISTRO:e.form.FECHA_REGISTRO,FECHA_MOVIMIENTO:e.form.FECHA_MOVIMIENTO},e.rows.unshift(n),e.openAdd=!1,e.$notify(l,"success"),r.n=3;break;case 2:r.p=2,a=r.v,e.$notify(a.message,"warning");case 3:return r.a(2)}},r,null,[[0,2]])}))()},readKardexPromedio:function(){var e=this;return k()(v()().m(function r(){var o,l;return v()().w(function(r){while(1)switch(r.p=r.n){case 0:if(r.p=0,!e.filter.IDPRODUCTO||!e.filter.IDALMACEN){r.n=2;break}return r.n=1,e.$http.get("api/HyoKardex/getKardex",{params:{idproducto:e.filter.IDPRODUCTO,idalmacen:e.filter.IDALMACEN,fecha_emision_inicio:e.filter.FECHA_EMISION_INICIO.split("/").reverse().join("-"),fecha_emision_fin:e.filter.FECHA_EMISION_FIN.split("/").reverse().join("-")}});case 1:o=r.v,e.rows=o;case 2:r.n=4;break;case 3:r.p=3,l=r.v,e.$notify(l.message,"warning");case 4:return r.a(2)}},r,null,[[0,3]])}))()},readAlmacen:function(){var e=this;return k()(v()().m(function r(){var o;return v()().w(function(r){while(1)switch(r.p=r.n){case 0:return r.p=0,r.n=1,e.$http.get("api/HyoAlmacenes/getAlmacenesBySede",{params:{id_local:e.id_local}});case 1:e.almacenes=r.v,r.n=3;break;case 2:r.p=2,o=r.v,e.$alert(o.message,"warning");case 3:return r.a(2)}},r,null,[[0,2]])}))()},readProducto:function(){var e=arguments,r=this;return k()(v()().m(function o(){var l,n,a,t;return v()().w(function(o){while(1)switch(o.n){case 0:return l=e.length>0&&void 0!==e[0]?e[0]:["idproducto","descripcion","estado"],n={empcod:r.empcod,fields:l},o.n=1,r.$http.get("api/HyoArticulos/getAllArticulos",{params:n});case 1:a=o.v,t=a.json,r.productos=t;case 2:return o.a(2)}},o)}))()},deleteKardexPromedio:function(){var e=this;return k()(v()().m(function r(){var o,l,n,a;return v()().w(function(r){while(1)switch(r.p=r.n){case 0:if(e.rowKardexPromedio){r.n=1;break}e.$notify("Selecciona un registro","info"),r.n=6;break;case 1:return r.n=2,e.$confirmar("¿Estás seguro de eliminar el registro?","delete");case 2:if(o=r.v,!o){r.n=6;break}return r.p=3,r.n=4,e.$http.delete("api/kardex-promedio/");case 4:l=r.v,n=l.message,e.rows.splice(e.rows.indexOf(e.rowKardexPromedio),1),e.rowKardexPromedio=null,e.$notify(n,"success"),r.n=6;break;case 5:r.p=5,a=r.v,e.$notify(a.message,"warning");case 6:return r.a(2)}},r,null,[[3,5]])}))()},updateKardexPromedio:function(){var e=this;return k()(v()().m(function r(){var o,l,n,a;return v()().w(function(r){while(1)switch(r.p=r.n){case 0:return r.p=0,o=e.$refs.tableKardexPromedio,r.n=1,e.$http.put("api/kardex-promedio",{IDTIPDOCALM:e.form.IDTIPDOCALM,IDTIPOPEALM:e.form.IDTIPOPEALM,MONCOD:e.form.MONCOD,CAMBIO_MONEDA:e.form.CAMBIO_MONEDA,MOVIMIENTO:e.form.MOVIMIENTO,ENTRADA_CANTIDAD:e.form.ENTRADA_CANTIDAD,ENTRADA_COSTO_UNITARIO:e.form.ENTRADA_COSTO_UNITARIO,ENTRADA_COSTO_TOTAL:e.form.ENTRADA_COSTO_TOTAL,SALIDA_CANTIDAD:e.form.SALIDA_CANTIDAD,SALIDA_COSTO_UNITARIO:e.form.SALIDA_COSTO_UNITARIO,SALIDA_COSTO_TOTAL:e.form.SALIDA_COSTO_TOTAL,SALDO_CANTIDAD:e.form.SALDO_CANTIDAD,SALDO_COSTO_UNITARIO:e.form.SALDO_COSTO_UNITARIO,SALDO_COSTO_TOTAL:e.form.SALDO_COSTO_TOTAL,INVENTARIO_INICIAL:e.form.INVENTARIO_INICIAL,COMPRAS_NETAS:e.form.COMPRAS_NETAS,INVENTARIO_FINAL:e.form.INVENTARIO_FINAL,COSTOS_VENTAS:e.form.COSTOS_VENTAS,FECHA_REGISTRO:e.form.FECHA_REGISTRO,FECHA_MOVIMIENTO:e.form.FECHA_MOVIMIENTO});case 1:l=r.v,n=l.message,e.openAdd=!1,o.updateRow(e.rowKardexPromedio,e.form),e.$notify(n,"success"),r.n=3;break;case 2:r.p=2,a=r.v,e.$notify(a.message,"warning");case 3:return r.a(2)}},r,null,[[0,2]])}))()}},created:function(){var e=this;return k()(v()().m(function r(){var o,l,n,a;return v()().w(function(r){while(1)switch(r.p=r.n){case 0:return r.p=0,o=new Date,l=new Date(o.getFullYear(),o.getMonth(),1),n=new Date(o.getFullYear(),o.getMonth()+1,0),e.filter.FECHA_EMISION_INICIO=(0,X.Ay)(l,"DD/MM/YYYY"),e.filter.FECHA_EMISION_FIN=(0,X.Ay)(n,"DD/MM/YYYY"),r.n=1,e.readAlmacen();case 1:return r.n=2,e.readProducto();case 2:r.n=4;break;case 3:r.p=3,a=r.v,e.$notify(a.message,"warning");case 4:return r.a(2)}},r,null,[[0,3]])}))()}},Z=o(12807);const ee=(0,Z.A)(J,[["render",w]]);var re=ee}}]);