"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[17332],{17332:function(e,o,t){t.r(o),t.d(o,{default:function(){return me}});var n=t(61758),i=t(58790),l={key:0,class:"row q-pa-md col responsive"},a={class:"col-md-4 col-xs-12"},s={class:"col-xs-12 col-md-8 column"};function u(e,o){var t=(0,n.g2)("q-tab"),u=(0,n.g2)("sie-estudiantes"),r=(0,n.g2)("q-icon"),c=(0,n.g2)("q-item-side"),d=(0,n.g2)("q-item-tile"),m=(0,n.g2)("q-item-main"),f=(0,n.g2)("q-item"),p=(0,n.g2)("q-list"),g=(0,n.g2)("sie-view"),h=(0,n.g2)("sie-vacio"),v=(0,n.g2)("q-tab-pane"),b=(0,n.g2)("registro-documento"),D=(0,n.g2)("q-tabs"),O=(0,n.g2)("q-page");return(0,n.uX)(),(0,n.Wv)(O,{class:"col-auto column no-wrap"},{default:(0,n.k6)(function(){return[(0,n.bF)(D,{class:"q-tabs-flex",modelValue:e.tabSelected,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.tabSelected=o}),inverted:""},{title:(0,n.k6)(function(){return[(0,n.bF)(t,{default:"",name:"documento",label:"Documentos"},null,8,["default"]),e.ocultaTabs?((0,n.uX)(),(0,n.Wv)(t,{key:0,name:"registro",label:"Registro"})):(0,n.Q3)("v-if",!0)]}),default:(0,n.k6)(function(){return[(0,n.bF)(v,{class:"responsive",name:"documento","keep-alive":""},{default:(0,n.k6)(function(){return[(0,n.bF)(u,{modelValue:e.alucod,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.alucod=o}),txtCustom:!0,onSelected:e.loadEstudiante},null,8,["modelValue","onSelected"]),e.documentos.length&&e.alucod?((0,n.uX)(),(0,n.CE)("div",l,[(0,n.Lk)("div",a,[(0,n.bF)(p,{class:"bg-white",link:"",separator:""},{default:(0,n.k6)(function(){return[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.documentos,function(o,t){return(0,n.uX)(),(0,n.Wv)(f,{key:t,onClick:function(t){return e.ver(o)}},{default:(0,n.k6)(function(){return[(0,n.bF)(c,null,{default:(0,n.k6)(function(){return[(0,n.bF)(r,{name:"documents",size:"20px"})]}),_:1}),(0,n.bF)(m,null,{default:(0,n.k6)(function(){return[(0,n.bF)(d,null,{default:(0,n.k6)(function(){return[(0,n.eW)((0,i.v_)(o.TIPO),1)]}),_:2},1024)]}),_:2},1024)]}),_:2},1032,["onClick"])}),128))]}),_:1})]),(0,n.Lk)("div",s,[e.viewDocumento?((0,n.uX)(),(0,n.Wv)(g,{key:0,class:"col",src:e.visor.src},null,8,["src"])):((0,n.uX)(),(0,n.Wv)(h,{key:1,icon:"list_alt",title:"intranet.aplicaciones.status",subtitle:"intranet.listaUtiles.mensaje"}))])])):((0,n.uX)(),(0,n.Wv)(h,{key:1,subtitle:e.message},null,8,["subtitle"]))]}),_:1}),(0,n.bF)(v,{name:"registro","keep-alive":""},{default:(0,n.k6)(function(){return[(0,n.bF)(b)]}),_:1})]}),_:1},8,["modelValue"])]}),_:1})}var r=t(76080),c=t.n(r),d=t(45254),m=t.n(d),f=(t(30683),t(23513),t(6123)),p=t(30545),g=t(57668),h=t(92173),v=t(80340),b=t(84603),D=t(59089),O=t(30640),C=t(32195),q=t(9054),S=t(93616),w=t(8445),A=t.n(w),I=(t(56285),{class:"row q-col-gutter-sm"}),k={class:"col-xs-12 col-sm-6"},V={class:"col-xs-12 col-sm-6"},R={class:"col-xs-12 col-sm-4"},E={class:"col-xs-12 col-sm-4"},U={class:"col-xs-12 col-sm-4"},F={class:"col-12"},N={class:"row q-pa-sm q-col-gutter-sm"},T={class:"col-12"},y={class:"col-12"},_={class:"col-12 column"},j={class:"row q-pa-sm q-col-gutter-sm"},G={class:"col-12"},L={class:"col-xs-12 col-sm-4"},M={class:"col-xs-12 col-sm-4"},Q={class:"col-xs-12 col-sm-4"},B={class:"col-xs-12 col-12"},x={class:"col-12 column"};function P(e,o){var t=this,i=(0,n.g2)("header-btn"),l=(0,n.g2)("q-date"),a=(0,n.g2)("q-popup-proxy"),s=(0,n.g2)("q-icon"),u=(0,n.g2)("q-input"),r=(0,n.g2)("q-select"),c=(0,n.g2)("q-card-section"),d=(0,n.g2)("sie-table"),m=(0,n.g2)("q-card"),f=(0,n.g2)("sie-select"),p=(0,n.g2)("sie-cloud"),g=(0,n.g2)("sie-modal"),h=(0,n.g2)("sie-view"),v=(0,n.g2)("q-page");return(0,n.uX)(),(0,n.Wv)(v,null,{default:(0,n.k6)(function(){return[(0,n.bF)(m,null,{default:(0,n.k6)(function(){return[(0,n.bF)(i,{buttons:e.buttons},null,8,["buttons"]),(0,n.bF)(m,null,{default:(0,n.k6)(function(){return[(0,n.bF)(c,null,{default:(0,n.k6)(function(){return[(0,n.Lk)("div",I,[(0,n.Lk)("div",k,[(0,n.bF)(u,{outlined:"",modelValue:e.form.fhIni,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.form.fhIni=o}),readonly:"",label:"Desde"},{append:(0,n.k6)(function(){return[(0,n.bF)(s,{class:"cursor-pointer",name:"date_range"},{default:(0,n.k6)(function(){return[(0,n.bF)(a,{ref:"qDateProxy","transition-show":"scale","transition-hide":"scale"},{default:(0,n.k6)(function(){return[(0,n.bF)(l,{modelValue:e.form.fhIni,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.form.fhIni=o}),onInput:o[1]||(o[1]=function(o){e.$refs.qDateProxy.hide(),e.loadRegistroDocumento()}),mask:"DD/MM/YYYY"},{default:(0,n.k6)(function(){return A()(o[27]||(o[27]=[(0,n.Lk)("div",{class:"row items-center justify-end"},null,-1)]))}),_:1},8,["modelValue"])]}),_:1},512)]}),_:1})]}),_:1},8,["modelValue"])]),(0,n.Lk)("div",V,[(0,n.bF)(u,{outlined:"",modelValue:e.form.fhFin,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.form.fhFin=o}),readonly:"",label:"Hasta"},{append:(0,n.k6)(function(){return[(0,n.bF)(s,{class:"cursor-pointer",name:"date_range"},{default:(0,n.k6)(function(){return[(0,n.bF)(a,{ref:"qDateProxy2","transition-show":"scale","transition-hide":"scale"},{default:(0,n.k6)(function(){return[(0,n.bF)(l,{modelValue:e.form.fhFin,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.form.fhFin=o}),onInput:o[4]||(o[4]=function(o){e.$refs.qDateProxy2.hide(),e.loadRegistroDocumento()}),mask:"DD/MM/YYYY"},{default:(0,n.k6)(function(){return A()(o[28]||(o[28]=[(0,n.Lk)("div",{class:"row items-center justify-end"},null,-1)]))}),_:1},8,["modelValue"])]}),_:1},512)]}),_:1})]}),_:1},8,["modelValue"])]),(0,n.Lk)("div",R,[(0,n.bF)(r,{modelValue:e.form.nivel,"onUpdate:modelValue":o[6]||(o[6]=function(o){return e.form.nivel=o}),options:e.niveles,"option-value":"INSTRUCOD","option-label":"INSTRUDES",label:"Nivel",onInput:o[7]||(o[7]=function(o){e.getGrados(),e.loadRegistroDocumento()})},null,8,["modelValue","options"])]),(0,n.Lk)("div",E,[(0,n.bF)(r,{modelValue:e.form.grado,"onUpdate:modelValue":o[8]||(o[8]=function(o){return e.form.grado=o}),options:e.grados,"option-value":"GRADOCOD","option-label":"GRADODES",label:"Grados",onInput:o[9]||(o[9]=function(o){e.getSeccion(),e.loadRegistroDocumento()})},null,8,["modelValue","options"])]),(0,n.Lk)("div",U,[(0,n.bF)(r,{modelValue:e.form.seccion,"onUpdate:modelValue":o[10]||(o[10]=function(o){return e.form.seccion=o}),options:e.secciones,"option-value":"SECCIONCOD","option-label":"SECCIONDES",label:"Sección",onInput:o[11]||(o[11]=function(o){return e.loadRegistroDocumento()})},null,8,["modelValue","options"])]),(0,n.Lk)("div",F,[(0,n.bF)(r,{modelValue:e.form.tipo,"onUpdate:modelValue":o[12]||(o[12]=function(o){return e.form.tipo=o}),options:e.tipos,"option-value":"SECUCOD","option-label":"SECUDES",label:"Tipos",onInput:o[13]||(o[13]=function(o){return e.loadRegistroDocumento()})},null,8,["modelValue","options"])])])]}),_:1}),(0,n.bF)(c,null,{default:(0,n.k6)(function(){return[(0,n.bF)(d,{data:e.rows,columns:e.fields,config:e.config,context:t,css:{height:"44vh"}},null,8,["data","columns","config"])]}),_:1})]}),_:1})]}),_:1}),(0,n.bF)(g,{class:"modal-registro",modelValue:e.modalRegistro,"onUpdate:modelValue":o[17]||(o[17]=function(o){return e.modalRegistro=o}),onSubmit:e.saveDocumento,title:"Subir Documento"},{default:(0,n.k6)(function(){return[(0,n.Lk)("div",N,[(0,n.Lk)("div",T,[(0,n.bF)(f,{type:"outlined",modelValue:e.bloque.alucod,"onUpdate:modelValue":o[14]||(o[14]=function(o){return e.bloque.alucod=o}),options:e.alumnos,label:"NOMCOMP",val:"ALUCOD",placeholder:"Estudiante"},null,8,["modelValue","options"])]),(0,n.Lk)("div",y,[(0,n.bF)(r,{modelValue:e.bloque.tipo,"onUpdate:modelValue":o[15]||(o[15]=function(o){return e.bloque.tipo=o}),options:e.tmpTipos,"option-value":"SECUCOD","option-label":"SECUDES",label:"Tipo de Documento"},null,8,["modelValue","options"])]),(0,n.Lk)("div",_,[(0,n.bF)(p,{modelValue:e.adjuntos,"onUpdate:modelValue":o[16]||(o[16]=function(o){return e.adjuntos=o}),onInput:e.aceptar,allow:["jpg","png","jpeg","pdf"],"only-local":"",isMultiple:!1},null,8,["modelValue","onInput"])])])]}),_:1},8,["modelValue","onSubmit"]),(0,n.bF)(g,{class:"modal-registro-bloque",modelValue:e.modalRegistroBloque,"onUpdate:modelValue":o[25]||(o[25]=function(o){return e.modalRegistroBloque=o}),onSubmit:e.saveDocumentoBloque,title:"Documentos en Bloque"},{default:(0,n.k6)(function(){return[(0,n.Lk)("div",j,[(0,n.Lk)("div",G,[(0,n.bF)(r,{modelValue:e.bloque.tipo,"onUpdate:modelValue":o[18]||(o[18]=function(o){return e.bloque.tipo=o}),options:e.tmpTipos,"option-value":"SECUCOD","option-label":"SECUDES",label:"Tipo de Documento"},null,8,["modelValue","options"])]),(0,n.Lk)("div",L,[(0,n.bF)(r,{modelValue:e.bloque.nivel,"onUpdate:modelValue":o[19]||(o[19]=function(o){return e.bloque.nivel=o}),options:e.niveles,"option-value":"INSTRUCOD","option-label":"INSTRUDES",label:"Nivel",onInput:o[20]||(o[20]=function(o){e.getGrados(),e.loadDataAlumno})},null,8,["modelValue","options"])]),(0,n.Lk)("div",M,[(0,n.bF)(r,{modelValue:e.bloque.grado,"onUpdate:modelValue":o[21]||(o[21]=function(o){return e.bloque.grado=o}),options:e.grados,"option-value":"GRADOCOD","option-label":"GRADODES",label:"Grados",onInput:o[22]||(o[22]=function(o){e.getSeccion(),e.loadDataAlumno})},null,8,["modelValue","options"])]),(0,n.Lk)("div",Q,[(0,n.bF)(r,{modelValue:e.bloque.seccion,"onUpdate:modelValue":o[23]||(o[23]=function(o){return e.bloque.seccion=o}),options:e.secciones,"option-value":"SECCIONCOD","option-label":"SECCIONDES",label:"Sección",onInput:e.loadDataAlumno},null,8,["modelValue","options","onInput"])]),(0,n.Lk)("div",B,[(0,n.bF)(d,{ref:"tablaUsuario",data:e.loadDataAlumno,selection:"multiple",columns:e.fieldsUsuario,config:e.configUsuario,context:t,css:{height:"38vh"}},null,8,["data","columns","config"])]),(0,n.Lk)("div",x,[(0,n.bF)(p,{modelValue:e.adjuntosBloque,"onUpdate:modelValue":o[24]||(o[24]=function(o){return e.adjuntosBloque=o}),onInput:e.aceptar,allow:["jpg","png","jpeg","pdf"],"only-local":""},null,8,["modelValue","onInput"])])])]}),_:1},8,["modelValue","onSubmit"]),(0,n.bF)(g,{class:"q-download-file__modal",modelValue:e.modalViewDocumento,"onUpdate:modelValue":o[26]||(o[26]=function(o){return e.modalViewDocumento=o}),title:e.visor.name,footer:!1,ok:!1},{default:(0,n.k6)(function(){return[(0,n.bF)(h,{class:"full-height",src:e.visor.src},null,8,["src"])]}),_:1},8,["modelValue","title"])]}),_:1})}t(52133),t(10239),t(50310),t(6724),t(83190),t(20361);var $=t(18105),H=t(95718),Y=t(4437),W=t(95477),X=t(16648),z=t(9736),K={data:function(){return{configUsuario:{},config:{FH_REGISTRO:{component:"datetime",edit:!1},ACCION:{component:"button",icon:["remove_red_eye as ver","edit as editar","delete as delete"],ver:function(e){var o=this;return m()(c()().m(function t(){return c()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,o.verDocumento(e);case 1:return t.a(2)}},t)}))()},editar:function(e){var o=this;return m()(c()().m(function t(){return c()().w(function(t){while(1)switch(t.n){case 0:return o.bloque.tipo=e.TIPODOC,o.bloque.alucod=e.ALUCOD,o.modalRegistro=!1,t.n=1,o.loadAdjuntosById(e);case 1:o.modalRegistro=!0;case 2:return t.a(2)}},t)}))()},delete:function(e){var o=this;this.$confirm("¿Realmente desea eliminar este registro?","delete").onOk(m()(c()().m(function t(){return c()().w(function(t){while(1)switch(t.p=t.n){case 0:return t.p=0,t.n=1,o.$http.delete("api/DocumentosInstitucion/deleteRegistroDocumento",{params:{id_documento:e.ID_DOCUMENTO}});case 1:return o.$notify("Se ha eliminado satisfactoriamente.","success"),t.n=2,o.loadRegistroDocumento();case 2:t.n=4;break;case 3:t.p=3,t.v,o.$notify("Ocurrió un problema de conexión.","warning");case 4:return t.a(2)}},t,null,[[0,3]])})))},tooltip:{ver:"Ver",edit:"Editar",delete:"Eliminar"},flat:!0,color:"primary",dense:!1}},fields:[{name:"ALUCOD",label:"Código",field:"ALUCOD",align:"center",sortable:!0},{name:"NOMCOMP",label:"Nombre",field:"NOMCOMP",align:"left",sortable:!0},{name:"NGS",label:"Ngs",field:"NGS",align:"center",sortable:!0},{name:"TIPO",label:"Tipo",field:"TIPO",align:"center",sortable:!0},{name:"FH_REGISTRO",label:"Fecha",field:"FH_REGISTRO",align:"left",sortable:!0},{name:"ACCION",label:"Acción",field:"ACCION",align:"center",width:60}],fieldsUsuario:[{align:"left",field:"ALUCOD",name:"CODIGO",label:"Código"},{align:"left",field:"NOMCOMP",name:"NOMCOMP",label:"Nombres"}]}}},J=t(81288),Z=t(33001),ee=t(33950),oe=t(80660),te=t(982),ne=t(99637),ie=t(78786),le=t(34550),ae={mixins:[K],components:{QTable:p.A,QTabs:f.uw,QTab:f.zu,QTabPane:f.dg,sieInfo:g["default"],sieEstudiantes:h.Ay,sieVacio:v.A,sieUpload:D.A,siePdf:b.A,sieModal:O.A,SieCloud:C.A,SieView:q.A,sieSelect:S.A,QCardSection:H.A,QDate:Y.A,QPopupProxy:W.A,QSelect:X.A,QInput:z.A,QPage:f.Tu,QCard:f.C$,QIcon:f.bP},data:function(){var e=this;return{alumnos:[],sie:(0,g["default"])(),form:{fhIni:"01/01/".concat((new Date).getFullYear()),fhFin:(0,$.Ay)(new Date,"DD/MM/YYYY"),nivel:"",grado:"",seccion:"",tipo:""},bloque:{alucod:"",tipo:"",nivel:"",grado:"",seccion:""},visor:{src:"",name:""},niveles:[],grados:[],secciones:[],tipos:[],tmpTipos:[],ngs:{},modalRegistro:!1,modalRegistroBloque:!1,modalViewDocumento:!1,buttons:[{icon:"plus",label:"Agregar",tooltip:"Agregar",click:function(){e.openModalRegistro()}}],rows:[],documentos:[],viewDocumento:null,original:[],adjuntos:[],adjuntosBloque:[],nuevos:[],eliminados:[]}},methods:{loadRegistroDocumento:function(){var e=this;return m()(c()().m(function o(){var t;return c()().w(function(o){while(1)switch(o.n){case 0:return t={fhIni:e.form.fhIni,fhFin:e.form.fhFin,instrucod:e.form.nivel||"",gradocod:e.form.grado||"",seccioncod:e.form.seccion||"",tipo:e.form.tipo||""},o.n=1,e.$http.get("api/DocumentosInstitucion/loadRegistroDocumento",{params:t});case 1:e.rows=o.v;case 2:return o.a(2)}},o)}))()},openModalRegistro:function(){var e=this;return m()(c()().m(function o(){return c()().w(function(o){while(1)switch(o.n){case 0:e.adjuntos=[],e.eliminados=[],e.original=[],e.modalRegistro=!0,e.bloque.tipo=e.tmpTipos[0].SECUCOD,e.bloque.alucod="";case 1:return o.a(2)}},o)}))()},openModalRegistroBloque:function(){var e=this;return m()(c()().m(function o(){return c()().w(function(o){while(1)switch(o.n){case 0:e.getGrados(),e.getSeccion(),e.adjuntos=[],e.adjuntosBloque=[],e.modalRegistroBloque=!0,e.bloque.tipo=e.tmpTipos[0].SECUCOD,e.bloque.nivel="",e.bloque.grado="",e.bloque.seccion="";case 1:return o.a(2)}},o)}))()},getNivelesGrados:function(){var e=this;return m()(c()().m(function o(){var t;return c()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,e.$http.get("api/NivelGrado/getNivelGrado");case 1:return t=o.v,o.a(2,t)}},o)}))()},getTipoDocumentos:function(){var e=this;return m()(c()().m(function o(){var t,n;return c()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,e.$http.get("api/HyoCamposmatricula/getListaDatos",{params:{princod:"322"}});case 1:return t=o.v,n=t.data,n.unshift({SECUCOD:"",SECUDES:"Todos"}),o.a(2,n)}},o)}))()},createNG:function(e,o,t,n){if(!e)return[];var i=[];if(!0===n){var l={};l[o]="",l[t]="Todos",i.push(l)}for(var a in e){var s=e[a],u={};u[o]=s[o],u[t]=s[t],i.push(u)}return i},getNiveles:function(){return this.createNG(this.ngs,"INSTRUCOD","INSTRUDES",!0)},getGrados:function(){this.form.grado="",this.form.seccion="",this.bloque.grado="",this.bloque.seccion="",this.modalRegistroBloque?this.bloque.nivel?this.grados=this.createNG(this.ngs[this.bloque.nivel].GRADOS,"GRADOCOD","GRADODES"):this.grados=[{GRADOCOD:"",GRADODES:"Todos"}]:this.form.nivel?this.grados=this.createNG(this.ngs[this.form.nivel].GRADOS,"GRADOCOD","GRADODES"):this.grados=[{GRADOCOD:"",GRADODES:"Todos"}],this.getSeccion()},getSeccion:function(){if(this.form.seccion="",this.bloque.seccion="",this.modalRegistroBloque)if(this.bloque.grado){var e=this.ngs[this.bloque.nivel].GRADOS[this.bloque.grado];this.secciones=e.SECCIONES}else this.secciones=[{SECCIONCOD:"",SECCIONDES:"Todos"}];else if(this.form.grado){var o=this.ngs[this.form.nivel].GRADOS[this.form.grado];this.secciones=o.SECCIONES}else this.secciones=[{SECCIONCOD:"",SECCIONDES:"Todos"}]},verDocumento:function(e){this.visor.src="";var o=e.ALUCOD,t=e.ID_DOCUMENTO,n=(0,le.cleanNameFile)(e.NOMBRE);this.visor.src="".concat(this.sie.api,"/HyoDocumentosInstitucion/archivo/").concat(t,"/").concat(o,"/").concat(n,"}?access_token=").concat(this.sie.token),this.visor.name=e.NOMBRE,this.modalViewDocumento=!0},upload:function(e){var o=this;return m()(c()().m(function t(){var n,i;return c()().w(function(t){while(1)switch(t.n){case 0:return n=e[0],t.n=1,(0,ee.Upload)({url:"api/HyoArchivo/tmp/upload",file:n});case 1:i=t.v,o.adjuntos=i;case 2:return t.a(2)}},t)}))()},clear:function(){this.bloque.alucod=""},aceptar:function(){var e=this;this.nuevos=[],(0,ne["default"])(this.adjuntos,function(o){return o.link="",o.icon=o.ICONO.icon,o.color=o.ICONO.color,Object.prototype.hasOwnProperty.call(o,"esAgregado")||e.nuevos.push(o),o}),(0,ne["default"])(this.original,function(o){if("number"===typeof o.id){var t=(0,ie["default"])(e.adjuntos,o.id,{key:"id"});-1===t&&e.eliminados.push(o)}})},saveDocumento:function(){var e=this,o={tipo:this.bloque.tipo,alucod:this.bloque.alucod,adjuntos:this.nuevos,adjEliminados:this.eliminados};oe.$http.post("api/HyoDocumentosInstitucion/saveDocumento",o).then(function(o){"m0008"===o.json?(e.adjuntos=[],e.original=[],e.eliminados=[],e.nuevos=[],(0,te["default"])(e.$t("mensajes."+o.json),"success"),e.clear(),e.loadRegistroDocumento(),e.modalRegistro=!1):(0,te["default"])(e.$t("mensajes."+o.json))}).catch(function(e){e.error&&(0,te["default"])(e.error.message,"warning")})},saveDocumentoBloque:function(){var e=this,o={tipo:this.bloque.tipo,alucods:this.$refs.tablaUsuario.rowsSelected(["ALUCOD"]),adjuntos:this.adjuntosBloque};oe.$http.post("api/HyoDocumentosInstitucion/saveDocumentoBloque",o).then(function(o){"m0008"===o.json?(e.adjuntosBloque=[],(0,te["default"])(e.$t("mensajes."+o.json),"success"),e.loadRegistroDocumento(),e.modalRegistroBloque=!1):(0,te["default"])(e.$t("mensajes."+o.json))}).catch(function(e){e.error&&(0,te["default"])(e.error.message,"warning")})},loadAdjuntosById:function(e){var o=this;return m()(c()().m(function t(){var n,i;return c()().w(function(t){while(1)switch(t.n){case 0:return o.adjuntos=[],o.original=[],o.eliminados=[],t.n=1,o.$http.get("api/DocumentosInstitucion/getEnlacesAdjuntosById",{params:{id_documento:e.ID_DOCUMENTO}});case 1:n=t.v,i=[],i=n.map(function(e){var t=(0,le.cleanNameFile)(e.name);return e.link="".concat(o.sie.api,"/HyoDocumentosInstitucion/archivo/").concat(e.alucod,"/").concat(t),e.esAgregado=!0,e}),o.adjuntos=i,o.original=i;case 2:return t.a(2)}},t)}))()},getAlumnosReporte:function(){return m()(c()().m(function e(){var o;return c()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,oe.$http.get("api/HyoAlumnos/listarAlumnosHijos",{params:{parametros:{}}});case 1:return o=e.v,e.a(2,o.json)}},e)}))()}},computed:{isGreater:function(){return(0,J.isGreater)()},loadDataAlumno:function(){var e=this.alumnos;return this.bloque.nivel&&""!==this.bloque.nivel&&(e=(0,Z.filterArray)(this.bloque.nivel,{field:"INSTRUCOD",list:e})),this.bloque.grado&&""!==this.bloque.grado&&(e=(0,Z.filterArray)(this.bloque.grado,{field:"GRADOCOD",list:e})),this.bloque.seccion&&""!==this.bloque.seccion&&(e=(0,Z.filterArray)(this.bloque.seccion,{field:"SECCIONCOD",list:e})),e}},created:function(){var e=this;return m()(c()().m(function o(){return c()().w(function(o){while(1)switch(o.n){case 0:return["SIE","SIEWEB"].indexOf((0,g["default"])().usucod)>=0&&e.buttons.push({icon:"upload",label:"Bloque",tooltip:"Bloque",click:function(){e.openModalRegistroBloque()}}),o.n=1,e.getNivelesGrados();case 1:return e.ngs=o.v,o.n=2,e.getTipoDocumentos();case 2:return e.tipos=o.v,e.tmpTipos=e.tipos.slice(1,e.tipos.length),e.niveles=e.getNiveles(),e.getGrados(),e.getSeccion(),o.n=3,e.loadRegistroDocumento();case 3:return o.n=4,e.getAlumnosReporte();case 4:e.alumnos=o.v;case 5:return o.a(2)}},o)}))()}},se=t(12807);const ue=(0,se.A)(ae,[["render",P]]);var re=ue,ce={components:{QTable:p.A,QTabs:f.uw,QTab:f.zu,QTabPane:f.dg,sieInfo:g["default"],sieEstudiantes:h.Ay,sieVacio:v.A,sieUpload:D.A,siePdf:b.A,sieModal:O.A,SieCloud:C.A,SieView:q.A,registroDocumento:re,sieSelect:S.A,QCardSection:H.A,QDate:Y.A,QPopupProxy:W.A,QSelect:X.A,QInput:z.A,QPage:f.Tu,QList:f.Mb,QItem:f.H0,QItemSide:f.n1,QIcon:f.bP,QItemMain:f.mF,QItemTile:f.lp},data:function(){var e=this;return{ocultaTabs:(0,g["default"])().esOtros,tabSelected:"documento",alucod:"",alumnos:[],sie:(0,g["default"])(),visor:{src:""},message:"",tipos:[],tmpTipos:[],ngs:{},modalRegistro:!1,modalViewDocumento:!1,buttons:[{icon:"plus",label:"Agregar",tooltip:"Agregar",click:function(){e.openModalRegistro()}}],documentos:[],viewDocumento:null}},methods:{loadEstudiante:function(e){var o=this;return m()(c()().m(function t(){var n,i,l,a;return c()().w(function(t){while(1)switch(t.p=t.n){case 0:return n={},o.viewDocumento=!1,e.ALUCOD&&(n.alucod=e.ALUCOD),t.p=1,t.n=2,o.$http.get("api/DocumentosInstitucion/loadRegistroDocumento",{params:n});case 2:i=t.v,(0,ne["default"])(i,function(e){var t=(0,le.cleanNameFile)(e.NOMBRE);e.src="".concat(o.sie.api,"/HyoDocumentosInstitucion/archivo/").concat(e.ID_DOCUMENTO,"/").concat(e.ALUCOD,"/").concat(t,"}?access_token=").concat(o.sie.token)}),o.documentos=i,t.n=4;break;case 3:t.p=3,a=t.v,l=a.error,o.documentos=[],o.message=l.message;case 4:return t.a(2)}},t,null,[[1,3]])}))()},ver:function(e){this.viewDocumento=!0,this.visor.src=e.src},getTipoDocumentos:function(){var e=this;return m()(c()().m(function o(){var t,n;return c()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,e.$http.get("api/HyoCamposmatricula/getListaDatos",{params:{princod:"322"}});case 1:return t=o.v,n=t.data,n.unshift({SECUCOD:"",SECUDES:"Todos"}),o.a(2,n)}},o)}))()}},computed:{isGreater:function(){return(0,J.isGreater)()}},created:function(){var e=this;return m()(c()().m(function o(){return c()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,e.getTipoDocumentos();case 1:e.tipos=o.v,e.tmpTipos=e.tipos.slice(1,e.tipos.length);case 2:return o.a(2)}},o)}))()}};const de=(0,se.A)(ce,[["render",u]]);var me=de}}]);