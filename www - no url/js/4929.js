"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[4929],{4929:function(e,o,n){n.r(o),n.d(o,{default:function(){return mo}});var l=n(61758),t=n(58790),a={class:"row col"},i={class:"col"};function u(e,o){var n=(0,l.g2)("header-btn"),u=(0,l.g2)("sie-select"),d=(0,l.g2)("q-td"),r=(0,l.g2)("q-tr"),s=(0,l.g2)("q-table"),c=(0,l.g2)("q-page");return(0,l.uX)(),(0,l.Wv)(c,{class:"sie-flat"},{default:(0,l.k6)(function(){return[(0,l.bF)(n,{name:e.nombre,buttons:e.buttons},null,8,["name","buttons"]),e.isGreater?(0,l.Q3)("v-if",!0):((0,l.uX)(),(0,l.Wv)(u,{key:0,class:"q-mx-xs",options:e.tipos,modelValue:e.itemSelect,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.itemSelect=o}),label:"label",val:"val",type:"outlined",noBottom:"",placeholder:"Tablas"},null,8,["options","modelValue"])),(0,l.Lk)("div",a,[e.isGreater?((0,l.uX)(),(0,l.Wv)(s,{key:0,class:"q-card q-ma-sm",data:e.tipos,columns:e.columns,"row-key":"val",style:(0,t.Tr)({"max-height":e.alto}),"hide-bottom":""},{body:(0,l.k6)(function(o){return[(0,l.bF)(r,{props:o},{default:(0,l.k6)(function(){return[(0,l.bF)(d,{key:"label",props:o,class:(0,t.C4)({"custom-selected":o.row.val===e.itemSelect,"text-italic":o.row.val===e.itemSelect}),onClick:function(n){return e.itemSelect=o.row.val}},{default:(0,l.k6)(function(){return[(0,l.Lk)("span",null,(0,t.v_)(o.row.label),1)]}),_:2},1032,["props","class","onClick"])]}),_:2},1032,["props"])]}),_:1},8,["data","columns","style"])):(0,l.Q3)("v-if",!0),(0,l.Lk)("div",i,[((0,l.uX)(),(0,l.Wv)((0,l.$y)(e.tipos[e.itemSelect].component),{class:"col",style:(0,t.Tr)({"max-height":e.alto}),ins:e.instrus,grad:e.grados,modalState:e.modalState,modalState2:e.modalState2,onCerrar:e.closeModal,onCerrar2:e.closeModal2},null,40,["style","ins","grad","modalState","modalState2","onCerrar","onCerrar2"]))])])]}),_:1})}n(10239);var d=n(6123),r=n(30545),s=n(8445),c=n.n(s),f={class:"column sie-flat"},m={class:"q-ma-xs"},p={class:"row-md"},E={class:"row-md"},I={class:"row-md"},O={class:"row justify-end"};function h(e,o){var n=(0,l.g2)("sie-select"),a=(0,l.g2)("q-input"),i=(0,l.g2)("q-toggle"),u=(0,l.g2)("sie-modal"),d=(0,l.g2)("q-popup-edit"),r=(0,l.g2)("q-td"),s=(0,l.g2)("q-btn"),h=(0,l.g2)("q-table");return(0,l.uX)(),(0,l.CE)("div",f,[(0,l.bF)(u,{modelValue:e.modalEstado,"onUpdate:modelValue":o[6]||(o[6]=function(o){return e.modalEstado=o}),title:"Nuevo Proceso",onSubmit:e.grabarModal},{default:(0,l.k6)(function(){return[(0,l.Lk)("div",m,[(0,l.Lk)("div",p,[(0,l.bF)(n,{class:"col",type:"outlined",modelValue:e.infoModal.GRADO,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.infoModal.GRADO=o}),label:"GRADODES",val:"GRADOCOD",options:e.grados,placeholder:"ngs.grado",onSelected:e.cambiarSalon},null,8,["modelValue","options","onSelected"])]),(0,l.Lk)("div",E,[(0,l.bF)(a,{class:"q-if-outlined",modelValue:e.infoModal.SECCION_ALU,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.infoModal.SECCION_ALU=o}),"float-label":"Alumnos",type:"number",min:"0"},null,8,["modelValue"]),(0,l.bF)(a,{class:"q-if-outlined",modelValue:e.infoModal.SECCION_NRO,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.infoModal.SECCION_NRO=o}),"float-label":"Secciones",type:"number",min:"0"},null,8,["modelValue"])]),(0,l.Lk)("div",I,[(0,l.bF)(a,{class:"q-if-outlined",modelValue:e.infoModal.LIMITE,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.infoModal.LIMITE=o}),"float-label":"Limite Inscrito",type:"number",min:"0"},null,8,["modelValue"]),(0,l.bF)(i,{color:"secondary","true-value":1,"false-value":0,modelValue:e.infoModal.EDAD_REQUERIDA,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.infoModal.EDAD_REQUERIDA=o})},{default:(0,l.k6)(function(){return c()(o[7]||(o[7]=[(0,l.eW)(" Edad Requerida",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",O,[(0,l.bF)(i,{color:"secondary",modelValue:e.infoModal.insContinua,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.infoModal.insContinua=o})},{default:(0,l.k6)(function(){return c()(o[8]||(o[8]=[(0,l.eW)(" Inserción continua",-1)]))}),_:1},8,["modelValue"])])])]}),_:1},8,["modelValue","onSubmit"]),(0,l.bF)(h,{class:"q-card q-ma-sm col-3",data:e.tipos,columns:e.columns,"row-key":"key",style:(0,t.Tr)({"max-height":e.alto}),"hide-bottom":""},{"body-cell-LIMITE":(0,l.k6)(function(o){return[(0,l.bF)(r,{props:o},{default:(0,l.k6)(function(){return[(0,l.Lk)("span",null,(0,t.v_)(o.row.LIMITE),1),(0,l.bF)(d,{modelValue:o.row.LIMITE,"onUpdate:modelValue":function(e){return o.row.LIMITE=e},onSave:function(n){return e.updateCupo({fila:o.row,campo:"LIMITE"})}},{default:(0,l.k6)(function(){return[(0,l.bF)(a,{class:"q-if-outlined",modelValue:o.row.LIMITE,"onUpdate:modelValue":function(e){return o.row.LIMITE=e}},null,8,["modelValue","onUpdate:modelValue"])]}),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])]}),_:2},1032,["props"])]}),"body-cell-SECCION_ALU":(0,l.k6)(function(o){return[(0,l.bF)(r,{props:o},{default:(0,l.k6)(function(){return[(0,l.Lk)("span",null,(0,t.v_)(o.row.SECCION_ALU),1),(0,l.bF)(d,{modelValue:o.row.SECCION_ALU,"onUpdate:modelValue":function(e){return o.row.SECCION_ALU=e},onSave:function(n){return e.updateCupo({fila:o.row,campo:"SECCION_ALU"})}},{default:(0,l.k6)(function(){return[(0,l.bF)(a,{class:"q-if-outlined",modelValue:o.row.SECCION_ALU,"onUpdate:modelValue":function(e){return o.row.SECCION_ALU=e}},null,8,["modelValue","onUpdate:modelValue"])]}),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])]}),_:2},1032,["props"])]}),"body-cell-SECCION_NRO":(0,l.k6)(function(o){return[(0,l.bF)(r,{props:o},{default:(0,l.k6)(function(){return[(0,l.Lk)("span",null,(0,t.v_)(o.row.SECCION_NRO),1),(0,l.bF)(d,{modelValue:o.row.SECCION_NRO,"onUpdate:modelValue":function(e){return o.row.SECCION_NRO=e},onSave:function(n){return e.updateCupo({fila:o.row,campo:"SECCION_NRO"})}},{default:(0,l.k6)(function(){return[(0,l.bF)(a,{class:"q-if-outlined",modelValue:o.row.SECCION_NRO,"onUpdate:modelValue":function(e){return o.row.SECCION_NRO=e}},null,8,["modelValue","onUpdate:modelValue"])]}),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])]}),_:2},1032,["props"])]}),"body-cell-EDAD_REQUERIDA":(0,l.k6)(function(o){return[(0,l.bF)(r,{props:o},{default:(0,l.k6)(function(){return[(0,l.bF)(i,{color:"secondary","true-value":1,"false-value":0,modelValue:o.row.EDAD_REQUERIDA,"onUpdate:modelValue":function(e){return o.row.EDAD_REQUERIDA=e},onInput:function(n){return e.updateCupo({fila:o.row,campo:"EDAD_REQUERIDA"})}},null,8,["modelValue","onUpdate:modelValue","onInput"])]}),_:2},1032,["props"])]}),"body-cell-ACCIONES":(0,l.k6)(function(o){return[(0,l.bF)(r,{props:o},{default:(0,l.k6)(function(){return[(0,l.bF)(s,{flat:"",dense:"",round:"",icon:"delete",size:"sm",onClick:function(n){return e.eliminar(o.row)}},null,8,["onClick"])]}),_:2},1032,["props"])]}),_:1},8,["data","columns","style"])])}var V=n(76080),D=n.n(V),v=n(45254),b=n.n(v),A=(n(50310),n(90095),n(515),n(83190),n(13715),n(96122)),C=n(80660),N=n(982),R=n(30640),g=n(93616),S=n(69027),U={emits:["cerrar"],components:{QTable:r.A,QTd:d.Ef,QTr:d.qh,QSelect:d.Si,QScrollArea:A.A,sieModal:R.A,QToggle:d.c5,sieSelect:g.A,QPopupEdit:d.GT,QInput:d.ie,QBtn:d.Il},props:["ins","grad","modalState"],data:function(){return{alto:null,itemSelect:0,grados:[],niveles:[],infoModal:{NIVEL:"",GRADO:"",LIMITE:"",SECCION_ALU:"",SECCION_NRO:"",EDAD_REQUERIDA:"S",insContinua:!0},tipos:[],modalEstado:!1,sino:[{label:"Sí",value:"S"},{label:"No",value:"N"}],columns:[{name:"ANIO",label:this.$t("ano"),field:"ANIO",align:"center"},{name:"GRADODES",label:this.$t("ngs.grado"),field:"GRADODES",align:"left"},{name:"SECCION_ALU",label:this.$t("Alumnos"),field:"SECCION_ALU",align:"center"},{name:"SECCION_NRO",label:this.$t("Secciones"),field:"SECCION_NRO",align:"center"},{name:"NUMCUP",label:this.$t("Aforo"),field:"NUMCUP",align:"center"},{name:"LIMITE",label:this.$t("Limite"),field:"LIMITE",align:"center"},{name:"EDAD_REQUERIDA",label:this.$t("Edad requerida"),field:"EDAD_REQUERIDA",align:"center"},{name:"ACCIONES",field:"ACCIONES",align:"right"}]}},unmounted:function(){window.removeEventListener("resize",this.handleResize)},watch:{modalState:function(e){this.generarGrados(),e&&(this.modalEstado=!0,this.infoModal={NIVEL:"",GRADO:"",LIMITE:0,SECCION_ALU:0,SECCION_NRO:0,EDAD_REQUERIDA:1,insContinua:!0})},modalEstado:function(e){e||this.$emit("cerrar")}},methods:{handleResize:function(){var e=150;this.alto=window.innerHeight-e+"px"},init:function(){var e=this;return b()(D()().m(function o(){return D()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,C.$http.get("api/HyoAdmgrados/getGrados");case 1:e.tipos=o.v;case 2:return o.a(2)}},o)}))()},grabarModal:function(){var e=this;this.infoModal.GRADO?!this.infoModal.SECCION_ALU>0?(0,N["default"])("Debe insertar una cantidad de alumnos","error"):!this.infoModal.SECCION_NRO>0?(0,N["default"])("Debe insertar una cantidad de Secciones","error"):[0,1].indexOf(this.infoModal.LIMITE)<0?(0,N["default"])("Debe ingresar un Limite de Inscritos","error"):C.$http.post("api/HyoAdmgrados/addCupos",{info:this.infoModal}).then(function(o){"m0001"===o&&(e.infoModal.insContinua||(e.modalEstado=!1)),e.init()}):(0,N["default"])("Debe seleccionar un salón","error")},cambiarSalon:function(e){this.infoModal.NIVEL=e.INSTRUCOD},eliminar:function(e){var o=this;e.CUENTA>0?(0,N["default"])("No se puede eliminar un proceso con inscritos","error"):(0,S.dialogDelete)().then(function(n){n&&C.$http.post("api/HyoAdmgrados/deleteCupo",{info:[e]}).then(function(e){o.init(),(0,N["default"])(o.$t("mensajes."+e))})}),console.log(e)},generarGrados:function(){var e=this;this.grados=[],this.niveles=[],Object.keys(this.grad).forEach(function(o){e.grad[o].forEach(function(o){var n=o.INSTRUCOD,l=o.GRADOCOD,t=o.GRADODES,a=0;e.tipos.forEach(function(e){var o=e.NIVEL,t=e.GRADO;o===n&&t===l&&(a=1)}),0===a&&e.ins.forEach(function(o){o.INSTRUCOD===n&&e.grados.push({INSTRUCOD:n,GRADOCOD:l,GRADODES:o.INSTRUDES+" "+t})})})})},updateCupo:function(e){var o=this,n=e.fila,l=e.campo;C.$http.post("api/HyoAdmgrados/editCupos",{info:{fila:n,campo:l}}).then(function(e){(0,N["default"])(o.$t("mensajes."+e)),o.init()})}},mounted:function(){this.init(),console.log(this.ins,this.grad),this.handleResize()}},M=n(12807);const T=(0,M.A)(U,[["render",h]]);var _=T,w={class:"column sie-flat"},F={class:"col q-px-xs q-mx-xs q-mb-sm border-field"},k={key:0,class:"row q-ma-xs"},L={key:0,class:"column justify-center"},y={class:"row justify-center"},q={key:0,class:"row q-ma-xs"},$={class:"column justify-center"},G={class:"q-ma-xs"},Q={class:"row-md"},P={class:"row-md"},B={class:"row-md"},H={class:"row-md"},x={class:"row-md"},j={class:"row-md"},z={class:"row justify-end"},X={class:"q-table q-table-horizontal-separator q-card"},Y={colspan:"9"},W={class:"row col justify-between"},J={class:"col column justify-center"},K={class:"row justify-end"},Z={style:{"text-align":"center"}},ee={class:"row justify-center"},oe={class:"row justify-center"},ne={class:"row justify-center"},le={class:"col"},te={class:"row"};function ae(e,o){var n=(0,l.g2)("sie-select"),a=(0,l.g2)("q-btn"),i=(0,l.g2)("q-chip"),u=(0,l.g2)("sie-upload"),d=(0,l.g2)("q-input"),r=(0,l.g2)("sie-modal"),s=(0,l.g2)("q-select"),f=(0,l.g2)("q-toggle"),m=(0,l.g2)("q-icon"),p=(0,l.g2)("q-popup-edit"),E=(0,l.g2)("draggable"),I=(0,l.g2)("q-scroll-area");return(0,l.uX)(),(0,l.CE)("div",w,[(0,l.bF)(r,{class:"modal-requisitos",modelValue:e.modalSalones,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.modalSalones=o}),title:"Operaciones sobre el Documento",onSubmit:e.updateFile},{default:(0,l.k6)(function(){return[(0,l.Lk)("fieldset",F,[o[14]||(o[14]=(0,l.Lk)("legend",{class:"leyenda"},"Grados",-1)),e.listSalonesModal.length>0?((0,l.uX)(),(0,l.CE)("div",k,[(0,l.bF)(n,{class:"col",options:e.listSalonesModal,modelValue:e.infoModalSalones.GRADO,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.infoModalSalones.GRADO=o}),label:"NIVEL_GRADO_DESC",val:"GRADOCOD",type:"outlined",placeholder:"Salón",onSelected:e.selectSalon},null,8,["options","modelValue","onSelected"]),e.infoModalSalones.GRADO?((0,l.uX)(),(0,l.CE)("div",L,[(0,l.bF)(a,{flat:"",dense:"",round:"",icon:"add_circle",onClick:e.addSalon},null,8,["onClick"])])):(0,l.Q3)("v-if",!0)])):(0,l.Q3)("v-if",!0),(0,l.Lk)("div",y,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.modalSalonesData,function(o,n){return(0,l.uX)(),(0,l.Wv)(i,{color:"secondary",closable:"",onHide:function(l){return e.deleteSalon(o,n)}},{default:(0,l.k6)(function(){return[(0,l.eW)((0,t.v_)(o.DESC),1)]}),_:2},1032,["onHide"])}),256))])]),["2","4"].indexOf(e.dataModalBaseSalones.ACCION)>=0?((0,l.uX)(),(0,l.CE)("div",q,[e.dataModalBaseSalones.ID_ADJUNTO?((0,l.uX)(),(0,l.CE)(l.FK,{key:1},[(0,l.bF)(d,{class:"q-if-outlined col",readonly:"",modelValue:e.dataAdjunto.NOMBRE,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.dataAdjunto.NOMBRE=o}),"float-label":"Adjunto"},null,8,["modelValue"]),(0,l.Lk)("div",$,[(0,l.bF)(a,{flat:"",dense:"",round:"",icon:"delete",onClick:e.deleteURL},null,8,["onClick"])])],64)):((0,l.uX)(),(0,l.Wv)(u,{key:0,class:"col",multiple:!1,onUpload:e.added,onlyButton:!0},null,8,["onUpload"]))])):(0,l.Q3)("v-if",!0)]}),_:1},8,["modelValue","onSubmit"]),(0,l.bF)(r,{modelValue:e.modalEstado,"onUpdate:modelValue":o[12]||(o[12]=function(o){return e.modalEstado=o}),title:"Nuevo Documento",onSubmit:e.grabarModal},{default:(0,l.k6)(function(){return[(0,l.Lk)("div",G,[(0,l.Lk)("div",Q,[(0,l.bF)(d,{class:"col q-if-outlined",modelValue:e.infoModal.NOMBRE,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.infoModal.NOMBRE=o}),"float-label":"Titulo"},null,8,["modelValue"])]),(0,l.Lk)("div",P,[(0,l.bF)(n,{class:"col",options:e.documentos,type:"outlined",modelValue:e.infoModal.ID_MATRICULA,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.infoModal.ID_MATRICULA=o}),label:"SECUDES",val:"SECUCOD",placeholder:"Documento de matricula"},null,8,["options","modelValue"])]),(0,l.Lk)("div",B,[(0,l.bF)(s,{class:"col q-if-outlined",options:e.dirigidoList,modelValue:e.infoModal.DIRIGIDO,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.infoModal.DIRIGIDO=o}),"float-label":"Dirigido"},null,8,["options","modelValue"]),(0,l.bF)(s,{class:"col q-if-outlined",options:e.descargas,modelValue:e.infoModal.ACCION,"onUpdate:modelValue":o[6]||(o[6]=function(o){return e.infoModal.ACCION=o}),"float-label":"Adjunto"},null,8,["options","modelValue"])]),(0,l.Lk)("div",H,[(0,l.bF)(n,{class:"col",options:e.expedientesList,modelValue:e.infoModal.ID_ETAPA,"onUpdate:modelValue":o[7]||(o[7]=function(o){return e.infoModal.ID_ETAPA=o}),type:"outlined",label:"ETAPA",val:"ID_ETAPA",placeholder:"Expediente"},null,8,["options","modelValue"]),(0,l.bF)(f,{class:"col q--mx-xs",color:"secondary","true-value":1,"false-value":0,modelValue:e.infoModal.REQUERIDO,"onUpdate:modelValue":o[8]||(o[8]=function(o){return e.infoModal.REQUERIDO=o})},{default:(0,l.k6)(function(){return c()(o[15]||(o[15]=[(0,l.eW)("Requerido",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",x,[(0,l.bF)(d,{class:"col q-if-outlined",modelValue:e.infoModal.INFODOC,"onUpdate:modelValue":o[9]||(o[9]=function(o){return e.infoModal.INFODOC=o}),"float-label":"Descripción del documento"},null,8,["modelValue"])]),(0,l.Lk)("div",j,[(0,l.bF)(n,{class:"col",options:e.tipos,modelValue:e.infoModal.ID_DOCUMENTO_REF,"onUpdate:modelValue":o[10]||(o[10]=function(o){return e.infoModal.ID_DOCUMENTO_REF=o}),type:"outlined",label:"NOMBRE",val:"ID_DOCUMENTO",placeholder:"Documento previo"},null,8,["options","modelValue"])]),(0,l.Lk)("div",z,[(0,l.bF)(f,{color:"secondary",modelValue:e.infoModal.insContinua,"onUpdate:modelValue":o[11]||(o[11]=function(o){return e.infoModal.insContinua=o})},{default:(0,l.k6)(function(){return c()(o[16]||(o[16]=[(0,l.eW)(" Inserción continua",-1)]))}),_:1},8,["modelValue"])])])]}),_:1},8,["modelValue","onSubmit"]),(0,l.bF)(I,{class:"q-table-middle q-card q-ma-sm",style:{height:"82vh"}},{default:(0,l.k6)(function(){return[(0,l.Lk)("table",X,[(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,[(0,l.bF)(m,{name:"import_export",size:"20px"})]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.columns,function(e){return(0,l.uX)(),(0,l.CE)("th",null,(0,t.v_)(e.label),1)}),256))])]),(0,l.Lk)("tfoot",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("td",Y,[(0,l.Lk)("div",W,[o[18]||(o[18]=(0,l.Lk)("div",{class:"col"},null,-1)),(0,l.bF)(a,{icon:"refresh",flat:"",dense:"",round:"",onClick:e.init},null,8,["onClick"]),(0,l.Lk)("div",J,[(0,l.Lk)("div",K,[o[17]||(o[17]=(0,l.Lk)("span",{class:"text-bold"},"Total: ",-1)),(0,l.Lk)("span",null,(0,t.v_)(e.tipos.length),1)])])])])])]),(0,l.bF)(E,{modelValue:e.tipos,"onUpdate:modelValue":o[13]||(o[13]=function(o){return e.tipos=o}),tag:"tbody",move:e.ordenarRequisitos},{default:(0,l.k6)(function(){return[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.tipos,function(o){return(0,l.uX)(),(0,l.CE)("tr",null,[(0,l.Lk)("td",Z,[(0,l.bF)(m,{name:"blur_on",size:"20px"})]),(0,l.Lk)("td",null,[(0,l.Lk)("div",ee,[(0,l.Lk)("span",null,(0,t.v_)(o.DIRIGIDODET),1)]),(0,l.bF)(p,{modelValue:o.DIRIGIDO,"onUpdate:modelValue":function(e){return o.DIRIGIDO=e}},{default:(0,l.k6)(function(){return[(0,l.bF)(s,{options:e.dirigidoList,modelValue:o.DIRIGIDO,"onUpdate:modelValue":function(e){return o.DIRIGIDO=e},onInput:function(n){return e.updateDocumento({fila:o,campo:"DIRIGIDO"})}},null,8,["options","modelValue","onUpdate:modelValue","onInput"])]}),_:2},1032,["modelValue","onUpdate:modelValue"])]),(0,l.Lk)("td",null,[(0,l.Lk)("span",null,(0,t.v_)(o.NOMBRE),1),(0,l.bF)(p,{modelValue:o.NOMBRE,"onUpdate:modelValue":function(e){return o.NOMBRE=e},onSave:function(n){return e.updateDocumento({fila:o,campo:"NOMBRE"})}},{default:(0,l.k6)(function(){return[(0,l.bF)(d,{class:"q-if-outlined",modelValue:o.NOMBRE,"onUpdate:modelValue":function(e){return o.NOMBRE=e}},null,8,["modelValue","onUpdate:modelValue"])]}),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])]),(0,l.Lk)("td",null,[(0,l.Lk)("span",null,(0,t.v_)(o.INFODOC),1),(0,l.bF)(p,{modelValue:o.INFODOC,"onUpdate:modelValue":function(e){return o.INFODOC=e},onSave:function(n){return e.updateDocumento({fila:o,campo:"INFODOC"})}},{default:(0,l.k6)(function(){return[(0,l.bF)(d,{class:"q-if-outlined",modelValue:o.INFODOC,"onUpdate:modelValue":function(e){return o.INFODOC=e}},null,8,["modelValue","onUpdate:modelValue"])]}),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])]),(0,l.Lk)("td",null,[(0,l.Lk)("span",null,(0,t.v_)(o.SECUDES),1),(0,l.bF)(p,{modelValue:o.SECUDES,"onUpdate:modelValue":function(e){return o.SECUDES=e}},{default:(0,l.k6)(function(){return[(0,l.bF)(n,{options:e.documentos,modelValue:o.MATRICULA_ID,"onUpdate:modelValue":function(e){return o.MATRICULA_ID=e},label:"SECUDES",val:"SECUCOD",onSelected:function(n){return e.updateDocumento({fila:o,campo:"MATRICULA_ID"})}},null,8,["options","modelValue","onUpdate:modelValue","onSelected"])]}),_:2},1032,["modelValue","onUpdate:modelValue"])]),(0,l.Lk)("td",null,[(0,l.Lk)("span",null,(0,t.v_)(o.ACCIONDES),1),(0,l.bF)(p,{modelValue:o.ACCIONDES,"onUpdate:modelValue":function(e){return o.ACCIONDES=e}},{default:(0,l.k6)(function(){return[(0,l.bF)(s,{options:e.descargas,modelValue:o.ACCION,"onUpdate:modelValue":function(e){return o.ACCION=e},onInput:function(n){return e.updateDocumento({fila:o,campo:"ACCION"})}},null,8,["options","modelValue","onUpdate:modelValue","onInput"])]}),_:2},1032,["modelValue","onUpdate:modelValue"])]),(0,l.Lk)("td",null,[(0,l.Lk)("div",oe,[(0,l.Lk)("span",null,(0,t.v_)(o.ETAPA),1)]),(0,l.bF)(p,{modelValue:o.ETAPA,"onUpdate:modelValue":function(e){return o.ETAPA=e}},{default:(0,l.k6)(function(){return[(0,l.bF)(n,{options:e.expedientesList,modelValue:o.ID_ETAPA,"onUpdate:modelValue":function(e){return o.ID_ETAPA=e},label:"ETAPA",val:"ID_ETAPA",onInput:function(n){return e.updateDocumento({fila:o,campo:"ID_ETAPA"})}},null,8,["options","modelValue","onUpdate:modelValue","onInput"])]}),_:2},1032,["modelValue","onUpdate:modelValue"])]),(0,l.Lk)("td",null,[(0,l.Lk)("div",ne,[(0,l.bF)(f,{color:"secondary","true-value":1,"false-value":0,modelValue:o.REQUERIDO,"onUpdate:modelValue":function(e){return o.REQUERIDO=e},onInput:function(n){return e.updateDocumento({fila:o,campo:"REQUERIDO"})}},null,8,["modelValue","onUpdate:modelValue","onInput"])])]),(0,l.Lk)("td",null,[(0,l.Lk)("div",le,[(0,l.Lk)("div",te,[(0,l.bF)(a,{flat:"",dense:"",round:"",icon:"format_list_bulleted",size:"sm",onClick:function(n){return e.openModalSalones(o)}},null,8,["onClick"]),(0,l.bF)(a,{flat:"",dense:"",round:"",icon:"delete",size:"sm",onClick:function(n){return e.eliminar(o)}},null,8,["onClick"])])])])])}),256))]}),_:1},8,["modelValue","move"])])]}),_:1})])}var ie=n(57008),ue=n.n(ie),de=(n(30683),n(23825),n(27153),n(66307),n(24066),n(36493)),re=n(59089),se=n(33950),ce=n(39231),fe=ce.Hi,me={emits:["cerrar"],components:{QTable:r.A,QTd:d.Ef,QTr:d.qh,QSelect:d.Si,QScrollArea:A.A,sieModal:R.A,QToggle:d.c5,sieSelect:g.A,QPopupEdit:d.GT,QChip:d.wQ,sieUpload:re.A,draggable:fe,QBtn:d.Il,QInput:d.ie,QIcon:d.bP},props:["ins","grad","modalState"],data:function(){return{alto:null,itemSelect:{},grados:[],niveles:[],documentos:[],salonesBase:{},dataModalBaseSalones:{},dataModalSalones:{},salonSelect:{},fileUploaded:{},infoModal:{NOMBRE:"",ID_MATRICULA:"",DIRIGIDO:"",ACCION:"1",ID_ETAPA:"",ID_DOCUMENTO_REF:null,REQUERIDO:0,insContinua:!0},dirigidoList:[{label:"Postulante",value:"P"},{label:"Familiar",value:"F"}],expedientesList:[],descargas:[{label:"Ninguno",value:"1"},{label:"Descarga",value:"2"},{label:"Subida",value:"3"},{label:"Descarga y Subida",value:"4"}],dataAdjunto:{},tipos:[],modalSalones:!1,modalEstado:!1,infoModalSalones:{NIVEL:"",GRADO:""},modalSalonesData:{},sino:[{label:"Sí",value:"S"},{label:"No",value:"N"}],columns:[{name:"DIRIGIDODET",label:this.$t("Dirigido"),field:"DIRIGIDODET",align:"left"},{name:"NOMBRE",label:this.$t("Titulo"),field:"NOMBRE",align:"left",sortable:!0},{name:"INFODOC",label:this.$t("Texto previo"),field:"INFODOC",align:"left"},{name:"SECUDES",label:this.$t("Doc. Matricula"),field:"SECUDES",align:"left",sortable:!0},{name:"ACCIONDES",label:this.$t("Adjunto"),field:"ACCIONDES",align:"left"},{name:"ETAPA",label:this.$t("Expediente"),field:"ETAPA",align:"left",sortable:!0},{name:"REQUERIDO",label:this.$t("Requerido"),field:"REQUERIDO",align:"left"},{name:"ACCIONES",field:"ACCIONES",align:"right"}]}},unmounted:function(){window.removeEventListener("resize",this.handleResize)},computed:{nombre:function(){return"Mantenimiento - "+this.tipos[this.itemSelect].label},listSalonesModal:function(){var e=this,o=[],n=(0,de["default"])(this.modalSalonesData,"NIVEL");return(Object.keys(n).length>0&&!n["T"]||0===Object.keys(n).length)&&(Object.keys(this.salonesBase).forEach(function(l){n[l]?"T"!==n[l][0].GRADO&&e.salonesBase[l].forEach(function(e){var t=1;n[l].forEach(function(o){o.GRADO===e.GRADOCOD&&(t=0)}),1===t&&o.push(e)}):(o.push({GRADOCOD:"T",GRADODES:"Todos",INSTRUCOD:e.salonesBase[l][0].INSTRUCOD,INSTRUDES:e.salonesBase[l][0].INSTRUDES,NIVEL_GRADO:e.salonesBase[l][0].INSTRUCOD+"T",NIVEL_GRADO_DESC:e.salonesBase[l][0].INSTRUDES+" - Todos"}),o=[].concat(c()(o),c()(e.salonesBase[l])))}),0===Object.keys(n).length&&o.unshift({GRADOCOD:"T",GRADODES:"Todos",INSTRUCOD:"T",INSTRUDES:"Todos",NIVEL_GRADO:"TT",NIVEL_GRADO_DESC:"Todos"})),o}},watch:{modalState:function(e){e&&(this.modalEstado=!0,this.infoModal={NOMBRE:"",ID_MATRICULA:"",DIRIGIDO:"",ACCION:"1",ID_ETAPA:1,ID_DOCUMENTO_REF:null,REQUERIDO:0,insContinua:!0})},modalEstado:function(e){e||this.$emit("cerrar")}},methods:{added:function(e){var o=this;(0,se.Upload)({url:"api/HyoArchivo/tmp/upload",file:e[0]}).then(function(e){o.fileUploaded=e}).catch(function(){})},deleteURL:function(){this.dataModalBaseSalones.ID_ADJUNTO=null},updateFile:function(){var e=this,o=ue()({},this.dataModalBaseSalones);o.tmp=this.fileUploaded,(Object.keys(this.fileUploaded).length>0||this.dataModalBaseSalones.ID_ADJUNTO!==this.dataModalSalones.ID_ADJUNTO)&&C.$http.post("api/HyoAdmdocumentosnew/updateFile",{info:o}).then(function(o){"m0001"===o&&((0,N["default"])(e.$t("mensajes."+o)),e.modalSalones=!1,e.init())})},deleteSalon:function(e){var o=this;(0,S.dialogDelete)().then(function(n){n&&C.$http.post("api/HyoAdmdocumentonewng/deleteDocmento",{info:e}).then(function(e){"m0006.ok"===e&&o.cargaSalonesModal()})})},selectSalon:function(e){this.salonSelect=e},addSalon:function(){var e=this,o=ue()(ue()({},this.salonSelect),this.dataModalBaseSalones);(0,S.dialogConfirm)({message:"¿Está seguro de agregar este Grado?"}).then(function(n){n&&C.$http.post("api/HyoAdmdocumentonewng/addGrado",{info:o}).then(function(o){e.cargaSalonesModal()})})},handleResize:function(){var e=150;this.alto=window.innerHeight-e+"px"},init:function(){var e=this;return b()(D()().m(function o(){return D()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,C.$http.get("api/HyoAdmdocumentosnew/getDocumentos");case 1:e.tipos=o.v,e.tipos.forEach(function(o){o.DIRIGIDODET="P"===o.DIRIGIDO?"Postulante":"Familiar",e.descargas.forEach(function(e){e.value===o.ACCION&&(o.ACCIONDES=e.label)})});case 2:return o.a(2)}},o)}))()},grabarModal:function(){var e=this;this.infoModal.NOMBRE?this.infoModal.ID_MATRICULA?this.infoModal.ACCION?this.infoModal.ID_ETAPA?this.infoModal.DIRIGIDO?(console.log(this.infoModal),C.$http.post("api/HyoAdmdocumentosnew/saveDocumento",{info:this.infoModal}).then(function(o){(0,N["default"])(e.$t("mensajes."+o)),"m0001"===o&&(e.infoModal.insContinua||(e.modalEstado=!1)),e.init()})):(0,N["default"])("Debe seleccionar un Dirigido","error"):(0,N["default"])("Debe seleccionar un Expediente","error"):(0,N["default"])("Debe seleccionar un Adjunto","error"):(0,N["default"])("Debe seleccionar un Documento de matricula","error"):(0,N["default"])("Debe ingresar un titulo","error")},cargaSalonesModal:function(){var e=this;C.$http.get("api/HyoAdmdocumentonewng/getSalones",{params:{info:this.dataModalBaseSalones}}).then(function(o){e.modalSalonesData=o.info,e.salonSelect={},e.infoModalSalones.GRADO=null})},openModalSalones:function(e){var o=this;this.dataModalBaseSalones=ue()({},e),this.dataModalSalones=ue()({},e),this.fileUploaded={},this.cargaSalonesModal(),this.modalSalones=!0,["2","4"].indexOf(this.dataModalBaseSalones.ACCION)>=0&&C.$http.get("api/HyoAdmadjunto/getInfoAdjunto",{params:{info:e}}).then(function(e){o.dataAdjunto=e})},eliminar:function(e){var o=this;e.CUENTA>0?(0,N["default"])("No se puede eliminar un proceso con inscritos","error"):(0,S.dialogDelete)().then(function(n){n&&C.$http.post("api/HyoAdmdocumentosnew/deleteCupo",{info:[e]}).then(function(e){o.init(),(0,N["default"])(o.$t("mensajes."+e))})})},updateDocumento:function(e){var o=this,n=e.fila,l=e.campo;C.$http.post("api/HyoAdmdocumentosnew/updateDocumentos",{info:{fila:n,campo:l}}).then(function(e){(0,N["default"])(o.$t("mensajes."+e)),o.init()})},ordenarRequisitos:function(){var e=this;return b()(D()().m(function o(){var n;return D()().w(function(o){while(1)switch(o.n){case 0:return n=[],e.tipos.forEach(function(e,o){var l=o+1;l!==e.ORDEN&&(e.ORDEN=l,n.push(C.$http.post("api/HyoAdmdocumentosnew/updateDocumentos",{info:{fila:e,campo:"ORDEN"}})))}),o.n=1,Promise.all(n);case 1:return o.a(2)}},o)}))()}},mounted:function(){var e=this;return b()(D()().m(function o(){return D()().w(function(o){while(1)switch(o.n){case 0:C.$http.get("api/HyoGradonivs/getAllDatos").then(function(o){e.salonesBase=(0,de["default"])(o.json,"INSTRUCOD")}),Promise.all([C.$http.get("api/HyoTablaSe/obtDatosPrincod",{params:{princod:"docusMatricula",objOrden:{campos:"SECUDES"}}}),C.$http.get("api/HyoAdmetapas/getEtapas")]).then(function(o){e.documentos=o[0].json,e.expedientesList=o[1],e.init()}),e.handleResize();case 1:return o.a(2)}},o)}))()}};const pe=(0,M.A)(me,[["render",ae]]);var Ee=pe,Ie={class:"q-card column q-ma-sm"},Oe={class:"q-ma-xs"},he={class:"row-md jusfity-around"},Ve={class:"row justify-end"},De={class:"q-ma-xs"},ve={class:"row justify-center"},be={class:"row justify-center"};function Ae(e,o){var n=(0,l.g2)("sie-select"),a=(0,l.g2)("q-toggle"),i=(0,l.g2)("sie-modal"),u=(0,l.g2)("q-table"),d=(0,l.g2)("q-popup-edit"),r=(0,l.g2)("q-td"),s=(0,l.g2)("q-btn");return(0,l.uX)(),(0,l.CE)("div",Ie,[(0,l.bF)(i,{modelValue:e.modalEstado,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.modalEstado=o}),title:"Nueva Evaluación",onSubmit:e.grabarModal},{default:(0,l.k6)(function(){return[(0,l.Lk)("div",Oe,[(0,l.bF)(n,{class:"col",type:"outlined",modelValue:e.infoModal.GRADO,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.infoModal.GRADO=o}),label:"GRADODES",val:"GRADOCOD",options:e.grados,placeholder:"ngs.grado",onSelected:e.cambiarSalon},null,8,["modelValue","options","onSelected"]),(0,l.bF)(n,{class:"col",type:"outlined",modelValue:e.infoModal.ID_EVALUACION,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.infoModal.ID_EVALUACION=o}),label:"NOMBRE",val:"ID_EVALUACION",options:e.listEvaluaciones,placeholder:"Evaluación"},null,8,["modelValue","options"]),(0,l.Lk)("div",he,[(0,l.bF)(a,{color:"secondary","true-value":1,"false-value":0,modelValue:e.infoModal.VIRTUAL,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.infoModal.VIRTUAL=o})},{default:(0,l.k6)(function(){return c()(o[9]||(o[9]=[(0,l.eW)(" Virtual",-1)]))}),_:1},8,["modelValue"]),(0,l.bF)(a,{class:"q-mx-sm",color:"secondary","true-value":1,"false-value":0,modelValue:e.infoModal.INTERNO,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.infoModal.INTERNO=o})},{default:(0,l.k6)(function(){return c()(o[10]||(o[10]=[(0,l.eW)(" Interno",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",Ve,[(0,l.bF)(a,{color:"secondary",modelValue:e.infoModal.insContinua,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.infoModal.insContinua=o})},{default:(0,l.k6)(function(){return c()(o[11]||(o[11]=[(0,l.eW)(" Inserción continua",-1)]))}),_:1},8,["modelValue"])])])]}),_:1},8,["modelValue","onSubmit"]),(0,l.bF)(i,{class:"modal-requisitos",modelValue:e.modalEstado2,"onUpdate:modelValue":o[8]||(o[8]=function(o){return e.modalEstado2=o}),title:"Asignar Personal",onSubmit:e.saveModalAdicional},{default:(0,l.k6)(function(){return[(0,l.Lk)("div",De,[(0,l.bF)(n,{class:"col",type:"outlined",modelValue:e.infoModal2.ID_EVALUACION,"onUpdate:modelValue":o[6]||(o[6]=function(o){return e.infoModal2.ID_EVALUACION=o}),label:"NOMBRE",val:"ID_EVALUACION",options:e.listEvaluaciones,placeholder:"Evaluación",onSelected:e.seleccionarEvaluacion},null,8,["modelValue","options","onSelected"]),(0,l.bF)(u,{data:e.profesEvaluacion,columns:e.columnsPersonal,"row-key":"NOMCOMP",style:(0,t.Tr)({"max-height":e.altoModal}),"hide-bottom":"",selection:"multiple",selected:e.profesSelectBase,"onUpdate:selected":o[7]||(o[7]=function(o){return e.profesSelectBase=o})},null,8,["data","columns","style","selected"])])]}),_:1},8,["modelValue","onSubmit"]),(0,l.bF)(u,{data:e.info,columns:e.columns,"row-key":"key",style:(0,t.Tr)({"max-height":e.alto}),"hide-bottom":""},{"body-cell-NOMBRE":(0,l.k6)(function(o){return[(0,l.bF)(r,{props:o},{default:(0,l.k6)(function(){return[(0,l.Lk)("span",null,(0,t.v_)(o.row.NOMBRE),1),(0,l.bF)(d,{modelValue:o.row.NOMBRE,"onUpdate:modelValue":function(e){return o.row.NOMBRE=e}},{default:(0,l.k6)(function(){return[(0,l.bF)(n,{options:e.listEvaluaciones,modelValue:o.row.ID_EVALUACION,"onUpdate:modelValue":function(e){return o.row.ID_EVALUACION=e},label:"NOMBRE",val:"ID_EVALUACION",onInput:function(n){return e.updateConfig({fila:o.row,campo:"ID_EVALUACION"})}},null,8,["options","modelValue","onUpdate:modelValue","onInput"])]}),_:2},1032,["modelValue","onUpdate:modelValue"])]}),_:2},1032,["props"])]}),"body-cell-INTERNO":(0,l.k6)(function(o){return[(0,l.bF)(r,{props:o},{default:(0,l.k6)(function(){return[(0,l.Lk)("div",ve,[(0,l.bF)(a,{color:"secondary","true-value":1,"false-value":0,modelValue:o.row.INTERNO,"onUpdate:modelValue":function(e){return o.row.INTERNO=e},onInput:function(n){return e.updateConfig({fila:o.row,campo:"INTERNO"})}},null,8,["modelValue","onUpdate:modelValue","onInput"])])]}),_:2},1032,["props"])]}),"body-cell-VIRTUAL":(0,l.k6)(function(o){return[(0,l.bF)(r,{props:o},{default:(0,l.k6)(function(){return[(0,l.Lk)("div",be,[(0,l.bF)(a,{color:"secondary","true-value":1,"false-value":0,modelValue:o.row.VIRTUAL,"onUpdate:modelValue":function(e){return o.row.VIRTUAL=e},onInput:function(n){return e.updateConfig({fila:o.row,campo:"VIRTUAL"})}},null,8,["modelValue","onUpdate:modelValue","onInput"])])]}),_:2},1032,["props"])]}),"body-cell-ACCIONES":(0,l.k6)(function(o){return[(0,l.bF)(r,{props:o},{default:(0,l.k6)(function(){return[(0,l.bF)(s,{flat:"",dense:"",round:"",icon:"delete",size:"sm",onClick:function(n){return e.borrarConfig(o.row)}},null,8,["onClick"])]}),_:2},1032,["props"])]}),_:1},8,["data","columns","style"])])}var Ce={emits:["cerrar","cerrar2"],components:{QTable:r.A,QTd:d.Ef,QTr:d.qh,QSelect:d.Si,QScrollArea:A.A,QToggle:d.c5,QPopupEdit:d.GT,QChip:d.wQ,sieSelect:g.A,sieModal:R.A,QBtn:d.Il},props:["ins","grad","modalState","modalState2"],data:function(){return{alto:null,altoModal:null,info:[],listEvaluaciones:[],modalEstado:!1,infoModal:{},infoModal2:{},grados:[],profesEvaluacion:[],profesSelect:[],profesSelectBase:[],modalEstado2:!1,columnsPersonal:[{name:"NOMCOMP",label:this.$t("personal"),field:"NOMCOMP",align:"left"}],columns:[{name:"SALON",label:this.$t("ngs.grado"),field:"SALON",align:"left"},{name:"NOMBRE",label:this.$t("Evaluación"),field:"NOMBRE",align:"left"},{name:"VIRTUAL",label:this.$t("Virtual"),field:"VIRTUAL",align:"center"},{name:"INTERNO",label:this.$t("Interno"),field:"INTERNO",align:"center"},{name:"ACCIONES",field:"ACCIONES",align:"right"}]}},methods:{generarGrados:function(){var e=this;this.grados=[{INSTRUCOD:"T",GRADOCOD:"T",GRADODES:"Todos"}],this.niveles=[],Object.keys(this.grad).forEach(function(o){e.grad[o].forEach(function(o,n){var l=o.INSTRUCOD,t=o.GRADOCOD,a=o.GRADODES;e.ins.forEach(function(o,i){o.INSTRUCOD===l&&(0===n&&e.grados.push({INSTRUCOD:l,GRADOCOD:"T",GRADODES:o.INSTRUDES+" - Todos"}),e.grados.push({INSTRUCOD:l,GRADOCOD:t,GRADODES:o.INSTRUDES+" "+a}))})})})},cambiarSalon:function(e){this.infoModal.NIVEL=e.INSTRUCOD},handleResize:function(){var e=150;this.alto=window.innerHeight-e+"px",this.altoModal=window.innerHeight-80-e+"px"},init:function(){var e=this;return b()(D()().m(function o(){return D()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,C.$http.get("api/HyoAdmevaluacionesconfig/getConfiguracion");case 1:e.info=o.v;case 2:return o.a(2)}},o)}))()},updateConfig:function(e){var o=this,n=e.fila,l=e.campo;C.$http.post("api/HyoAdmevaluacionesconfig/editConfig",{info:{fila:n,campo:l}}).then(function(e){o.init()})},borrarConfig:function(e){var o=this;(0,S.dialogDelete)().then(function(n){console.log({res:n,info:e}),n&&C.$http.post("api/HyoAdmevaluacionesconfig/deleteConfig",{info:e}).then(function(e){o.init()})})},grabarModal:function(){var e=this;return b()(D()().m(function o(){var n;return D()().w(function(o){while(1)switch(o.n){case 0:if(e.infoModal.GRADO){o.n=1;break}(0,N["default"])("Debe seleccionar un salón","error"),o.n=4;break;case 1:if(e.infoModal.ID_EVALUACION){o.n=2;break}(0,N["default"])("Debe seleccionar una evaluación","error"),o.n=4;break;case 2:return o.n=3,C.$http.post("api/HyoAdmevaluacionesconfig/saveConfiguracion",{info:e.infoModal});case 3:n=o.v,"m0001"===n&&(e.init(),e.modalEstado=!1);case 4:return o.a(2)}},o)}))()},seleccionarEvaluacion:function(e){var o=this;return b()(D()().m(function n(){return D()().w(function(n){while(1)switch(n.n){case 0:C.$http.get("api/HyoAdmevaluacionpersonal/getPersonal",{params:{info:e}}).then(function(e){o.profesEvaluacion=e.info,o.profesSelect=e.profSelect,o.profesSelectBase=c()(e.profSelect)});case 1:return n.a(2)}},n)}))()},saveModalAdicional:function(){var e=this,o=[],n=[],l=[],t=[];if(this.profesSelect.forEach(function(e){var o=e.PROFCOD;l.push(o)}),this.profesSelectBase.forEach(function(e){var n=e.PROFCOD;l.indexOf(n)<0&&o.push(n),t.push(n)}),l.forEach(function(e){t.indexOf(e)<0&&n.push(e)}),o.length>0||n.length>0){var a={add:o,del:n,ID_EVALUACION:this.infoModal2.ID_EVALUACION};(0,S.dialogConfirm)({message:"¿Está seguiro de guardar esta informacióm? "}).then(function(o){C.$http.post("api/HyoAdmevaluacionpersonal/editPersonal",{info:a}).then(function(o){(0,N["default"])(e.$t("mensajes."+o))})})}else(0,N["default"])("No hay cambios","error")}},watch:{modalState:function(e){this.generarGrados(),e&&(this.modalEstado=!0,this.infoModal={NIVEL:"",GRADO:"",ID_EVALUACION:"",VIRTUAL:0,INTERNO:0,insContinua:!0})},modalState2:function(e){e&&(this.modalEstado2=!0,this.infoModal2={},this.profesEvaluacion=[],this.profesSelectBase=[])},modalEstado:function(e){e||this.$emit("cerrar")},modalEstado2:function(e){e||(this.$emit("cerrar2"),this.infoModal2={})}},mounted:function(){var e=this;return b()(D()().m(function o(){return D()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,C.$http.get("api/HyoAdmevaluacion/getEvaluacion");case 1:e.listEvaluaciones=o.v,e.init(),e.handleResize();case 2:return o.a(2)}},o)}))()}};const Ne=(0,M.A)(Ce,[["render",Ae]]);var Re=Ne,ge={class:"column sie-flat"},Se={class:"q-ma-sm"},Ue={class:"row"},Me={class:"row"},Te={class:"row"},_e={class:"row"},we={class:"row"},Fe={class:"row"},ke={class:"row justify-end"},Le={class:"column"},ye={class:"row"},qe={class:"row"},$e={class:"column"},Ge={class:"column"};function Qe(e,o){var n=(0,l.g2)("sie-select"),a=(0,l.g2)("q-toggle"),i=(0,l.g2)("q-datetime"),u=(0,l.g2)("q-input"),d=(0,l.g2)("sie-modal"),r=(0,l.g2)("q-popup-edit"),s=(0,l.g2)("q-td"),f=(0,l.g2)("q-tooltip"),m=(0,l.g2)("q-btn"),p=(0,l.g2)("q-table");return(0,l.uX)(),(0,l.CE)("div",ge,[(0,l.bF)(d,{modelValue:e.modalEstado,"onUpdate:modelValue":o[10]||(o[10]=function(o){return e.modalEstado=o}),title:"Nuevo Evento",onSubmit:e.saveModal},{default:(0,l.k6)(function(){return[(0,l.Lk)("div",Se,[(0,l.Lk)("div",Ue,[(0,l.bF)(n,{class:"col",type:"outlined",modelValue:e.infoModal.ID_EVENTO_TIPO,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.infoModal.ID_EVENTO_TIPO=o}),label:"NOMBRE",val:"ID_EVENTO_TIPO",options:e.listaTiposEventos,placeholder:"Tipo de evento",onSelected:e.cambiarTipo},null,8,["modelValue","options","onSelected"]),(0,l.bF)(a,{class:"col",color:"secondary","true-value":1,"false-value":0,modelValue:e.infoModal.VIRTUAL,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.infoModal.VIRTUAL=o})},{default:(0,l.k6)(function(){return c()(o[11]||(o[11]=[(0,l.eW)(" Virtual",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",Me,[(0,l.bF)(i,{class:"col q-if-outlined",modelValue:e.infoModal.FH_EVENTO,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.infoModal.FH_EVENTO=o}),type:"date",format:"DD/MM/YYYY","float-label":e.$t("fecha")},null,8,["modelValue","float-label"]),(0,l.bF)(i,{class:"col q-if-outlined",modelValue:e.infoModal.FH_EVENTO,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.infoModal.FH_EVENTO=o}),type:"time",format:"hh:mm A","float-label":e.$t("hora")},null,8,["modelValue","float-label"])]),(0,l.Lk)("div",Te,[(0,l.bF)(u,{class:"col q-if-outlined",modelValue:e.infoModal.CANTIDAD,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.infoModal.CANTIDAD=o}),type:"number","float-label":"Aforo"},null,8,["modelValue"]),(0,l.bF)(u,{class:"col q-if-outlined",modelValue:e.infoModal.DURACION_MIN,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.infoModal.DURACION_MIN=o}),type:"number","float-label":"Duración (min)"},null,8,["modelValue"])]),(0,l.Lk)("div",_e,[(0,l.bF)(n,{class:"col",type:"outlined",modelValue:e.infoModal.PROFCOD,"onUpdate:modelValue":o[6]||(o[6]=function(o){return e.infoModal.PROFCOD=o}),label:"USUNOM",val:"PROFCOD",options:e.listaProfes,placeholder:"Encargado"},null,8,["modelValue","options"])]),(0,l.Lk)("div",we,[(0,l.bF)(u,{class:"col q-if-outlined",modelValue:e.infoModal.ENLACE,"onUpdate:modelValue":o[7]||(o[7]=function(o){return e.infoModal.ENLACE=o}),before:[{icon:"language",handler:function(){}}],type:"url","float-label":"Enlace"},null,8,["modelValue"])]),(0,l.Lk)("div",Fe,[(0,l.bF)(u,{class:"col q-if-outlined",modelValue:e.infoModal.TEXTO_INFORMATIVO,"onUpdate:modelValue":o[8]||(o[8]=function(o){return e.infoModal.TEXTO_INFORMATIVO=o}),"float-label":"Texto informativo"},null,8,["modelValue"])]),(0,l.Lk)("div",ke,[(0,l.bF)(a,{color:"secondary",modelValue:e.infoModal.insContinua,"onUpdate:modelValue":o[9]||(o[9]=function(o){return e.infoModal.insContinua=o})},{default:(0,l.k6)(function(){return c()(o[12]||(o[12]=[(0,l.eW)(" Inserción continua",-1)]))}),_:1},8,["modelValue"])])])]}),_:1},8,["modelValue","onSubmit"]),(0,l.bF)(p,{data:e.listaEventos,columns:e.columns,"row-key":"ID_EVENTO",style:(0,t.Tr)({"max-height":e.alto}),"hide-bottom":""},{"body-cell-DURACION_MIN":(0,l.k6)(function(n){return[(0,l.bF)(s,{props:n},{default:(0,l.k6)(function(){return[(0,l.Lk)("span",null,(0,t.v_)(n.row.DURACION_MIN),1),(0,l.bF)(r,{modelValue:n.row.DURACION_MIN,"onUpdate:modelValue":function(e){return n.row.DURACION_MIN=e}},{default:(0,l.k6)(function(){return[o[13]||(o[13]=(0,l.Lk)("div",{class:"text-bold text-primary"},"Duración (min)",-1)),(0,l.bF)(u,{class:"col q-if-outlined",modelValue:n.row.DURACION_MIN,"onUpdate:modelValue":function(e){return n.row.DURACION_MIN=e},type:"number",onInput:function(o){return e.updateEvento({fila:n.row,campo:"DURACION_MIN"})}},null,8,["modelValue","onUpdate:modelValue","onInput"])]}),_:2},1032,["modelValue","onUpdate:modelValue"])]}),_:2},1032,["props"])]}),"body-cell-CANTIDAD":(0,l.k6)(function(n){return[(0,l.bF)(s,{props:n},{default:(0,l.k6)(function(){return[(0,l.Lk)("span",null,(0,t.v_)(n.row.CANTIDAD),1),(0,l.bF)(r,{modelValue:n.row.CANTIDAD,"onUpdate:modelValue":function(e){return n.row.CANTIDAD=e}},{default:(0,l.k6)(function(){return[o[14]||(o[14]=(0,l.Lk)("div",{class:"text-bold text-primary"},"Aforo",-1)),(0,l.bF)(u,{class:"col q-if-outlined",modelValue:n.row.CANTIDAD,"onUpdate:modelValue":function(e){return n.row.CANTIDAD=e},type:"number",onInput:function(o){return e.updateEvento({fila:n.row,campo:"CANTIDAD"})}},null,8,["modelValue","onUpdate:modelValue","onInput"])]}),_:2},1032,["modelValue","onUpdate:modelValue"])]}),_:2},1032,["props"])]}),"body-cell-NOMCOMP":(0,l.k6)(function(o){return[(0,l.bF)(s,{props:o},{default:(0,l.k6)(function(){return[(0,l.Lk)("span",null,(0,t.v_)(o.row.NOMCOMP),1),(0,l.bF)(r,{modelValue:o.row.PROFCOD,"onUpdate:modelValue":function(e){return o.row.PROFCOD=e}},{default:(0,l.k6)(function(){return[(0,l.bF)(n,{class:"col",type:"outlined",modelValue:o.row.PROFCOD,"onUpdate:modelValue":function(e){return o.row.PROFCOD=e},label:"USUNOM",val:"PROFCOD",options:e.listaProfes,onInput:function(n){return e.updateEvento({fila:o.row,campo:"PROFCOD"})}},null,8,["modelValue","onUpdate:modelValue","options","onInput"])]}),_:2},1032,["modelValue","onUpdate:modelValue"])]}),_:2},1032,["props"])]}),"body-cell-NOMBRE":(0,l.k6)(function(o){return[(0,l.bF)(s,{props:o},{default:(0,l.k6)(function(){return[(0,l.Lk)("span",null,(0,t.v_)(o.row.NOMBRE),1),(0,l.bF)(r,{modelValue:o.row.ID_EVENTO_TIPO,"onUpdate:modelValue":function(e){return o.row.ID_EVENTO_TIPO=e}},{default:(0,l.k6)(function(){return[(0,l.bF)(n,{class:"col",type:"outlined",modelValue:o.row.ID_EVENTO_TIPO,"onUpdate:modelValue":function(e){return o.row.ID_EVENTO_TIPO=e},label:"NOMBRE",val:"ID_EVENTO_TIPO",options:e.listaTiposEventos,onInput:function(n){return e.updateEvento({fila:o.row,campo:"ID_EVENTO_TIPO"})}},null,8,["modelValue","onUpdate:modelValue","options","onInput"])]}),_:2},1032,["modelValue","onUpdate:modelValue"])]}),_:2},1032,["props"])]}),"body-cell-FH_EVENTO":(0,l.k6)(function(o){return[(0,l.bF)(s,{props:o},{default:(0,l.k6)(function(){return[(0,l.Lk)("span",null,[(0,l.eW)((0,t.v_)(e.date(o.row.FH_EVENTO,"DD-MM-YYYY hh:mm A")),1),(0,l.bF)(r,{modelValue:o.row.FH_EVENTO,"onUpdate:modelValue":function(e){return o.row.FH_EVENTO=e}},{default:(0,l.k6)(function(){return[(0,l.Lk)("div",Le,[(0,l.Lk)("div",ye,[(0,l.bF)(i,{class:"col q-if-outlined",modelValue:o.row.FH_EVENTO,"onUpdate:modelValue":function(e){return o.row.FH_EVENTO=e},type:"date",format:"DD/MM/YYYY","float-label":e.$t("fecha"),onInput:function(n){return e.updateEvento({fila:o.row,campo:"FH_EVENTO"})}},null,8,["modelValue","onUpdate:modelValue","float-label","onInput"])]),(0,l.Lk)("div",qe,[(0,l.bF)(i,{class:"col q-if-outlined",modelValue:o.row.FH_EVENTO,"onUpdate:modelValue":function(e){return o.row.FH_EVENTO=e},type:"time",format:"hh:mm A","float-label":e.$t("hora"),onInput:function(n){return e.updateEvento({fila:o.row,campo:"FH_EVENTO"})}},null,8,["modelValue","onUpdate:modelValue","float-label","onInput"])])])]}),_:2},1032,["modelValue","onUpdate:modelValue"])])]}),_:2},1032,["props"])]}),"body-cell-VIRTUAL":(0,l.k6)(function(o){return[(0,l.bF)(s,{props:o},{default:(0,l.k6)(function(){return[(0,l.bF)(a,{color:"secondary","true-value":1,"false-value":0,modelValue:o.row.VIRTUAL,"onUpdate:modelValue":function(e){return o.row.VIRTUAL=e},onInput:function(n){return e.updateEvento({fila:o.row,campo:"VIRTUAL"})}},null,8,["modelValue","onUpdate:modelValue","onInput"])]}),_:2},1032,["props"])]}),"body-cell-ACCIONES":(0,l.k6)(function(n){return[(0,l.bF)(s,{props:n},{default:(0,l.k6)(function(){return[(0,l.bF)(m,{flat:"",dense:"",round:"",icon:"language",size:"sm"},{default:(0,l.k6)(function(){return[n.row.ENLACE?((0,l.uX)(),(0,l.Wv)(f,{key:0},{default:(0,l.k6)(function(){return[(0,l.Lk)("div",$e,[o[15]||(o[15]=(0,l.Lk)("span",null,"Enlace",-1)),(0,l.Lk)("span",null,(0,t.v_)(n.row.ENLACE),1)])]}),_:2},1024)):(0,l.Q3)("v-if",!0),(0,l.bF)(r,{modelValue:n.row.ENLACE,"onUpdate:modelValue":function(e){return n.row.ENLACE=e},onSave:function(o){return e.updateEvento({fila:n.row,campo:"ENLACE"})}},{default:(0,l.k6)(function(){return[o[16]||(o[16]=(0,l.Lk)("div",{class:"text-bold text-primary"},"Enlace",-1)),(0,l.bF)(u,{class:"q-if-outlined",modelValue:n.row.ENLACE,"onUpdate:modelValue":function(e){return n.row.ENLACE=e},before:[{icon:"language",handler:function(){}}]},null,8,["modelValue","onUpdate:modelValue"])]}),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])]}),_:2},1024),(0,l.bF)(m,{flat:"",dense:"",round:"",icon:"short_text",size:"sm"},{default:(0,l.k6)(function(){return[n.row.TEXTO_INFORMATIVO?((0,l.uX)(),(0,l.Wv)(f,{key:0},{default:(0,l.k6)(function(){return[(0,l.Lk)("div",Ge,[o[17]||(o[17]=(0,l.Lk)("span",null,"Texto Informativo",-1)),(0,l.Lk)("span",null,(0,t.v_)(n.row.TEXTO_INFORMATIVO),1)])]}),_:2},1024)):(0,l.Q3)("v-if",!0),(0,l.bF)(r,{modelValue:n.row.TEXTO_INFORMATIVO,"onUpdate:modelValue":function(e){return n.row.TEXTO_INFORMATIVO=e},onSave:function(o){return e.updateEvento({fila:n.row,campo:"TEXTO_INFORMATIVO"})}},{default:(0,l.k6)(function(){return[o[18]||(o[18]=(0,l.Lk)("div",{class:"text-bold text-primary"},"Texto Informativo",-1)),(0,l.bF)(u,{class:"q-if-outlined",modelValue:n.row.TEXTO_INFORMATIVO,"onUpdate:modelValue":function(e){return n.row.TEXTO_INFORMATIVO=e},before:[{icon:"short_text",handler:function(){}}]},null,8,["modelValue","onUpdate:modelValue"])]}),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])]}),_:2},1024),(0,l.bF)(m,{flat:"",dense:"",round:"",icon:"delete",size:"sm",onClick:function(o){return e.eliminarEvento(n.row)}},null,8,["onClick"])]}),_:2},1032,["props"])]}),_:1},8,["data","columns","style"])])}var Pe=n(18105),Be={emits:["cerrar"],components:{QTable:r.A,QSelect:d.Si,QToggle:d.c5,QCheckbox:d.vZ,QTd:d.Ef,QTr:d.qh,QPopupEdit:d.GT,QScrollArea:A.A,QTooltip:d.nC,sieModal:R.A,sieSelect:g.A,QDatetime:d.T5,QInput:d.ie,QBtn:d.Il},props:["modalState"],data:function(){return{alto:null,listaEventos:[],listaTiposEventos:[],listaProfes:[],modalEstado:!1,infoModal:{FH_EVENTO:new Date,ID_EVENTO_TIPO:null,DURACION_MIN:null,CANTIDAD:null,PROFCOD:null,ENLACE:null,TEXTO_INFORMATIVO:null,VIRTUAL:0,insContinua:!0},columns:[{name:"NOMBRE",label:this.$t("Tipo evento"),field:"NOMBRE",align:"left"},{name:"VIRTUAL",label:this.$t("Virtual"),field:"VIRTUAL",align:"center"},{name:"FH_EVENTO",label:this.$t("Fecha de Evento"),field:"FH_EVENTO",align:"left"},{name:"DURACION_MIN",label:this.$t("Duración (min)"),field:"DURACION_MIN",align:"center"},{name:"CANTIDAD",label:this.$t("Aforo"),field:"CANTIDAD",align:"center"},{name:"NOMCOMP",label:this.$t("responsable"),field:"NOMCOMP",align:"left"},{name:"ACCIONES",field:"ACCIONES",align:"right"}]}},mounted:function(){var e=this;return b()(D()().m(function o(){return D()().w(function(o){while(1)switch(o.n){case 0:return e.init(),o.n=1,C.$http.get("api/HyoAdmeventostipo/getEventos");case 1:e.listaTiposEventos=o.v,C.$http.get("api/HyoProfes/obtListadoProfecActivos").then(function(o){e.listaProfes=o.json});case 2:return o.a(2)}},o)}))()},unmounted:function(){window.removeEventListener("resize",this.handleResize)},watch:{modalState:function(e){e&&(this.modalEstado=!0,this.infoModal={FH_EVENTO:new Date,ID_EVENTO_TIPO:null,DURACION_MIN:null,CANTIDAD:null,PROFCOD:null,ENLACE:null,TEXTO_INFORMATIVO:null,VIRTUAL:0,insContinua:!0})},modalEstado:function(e){e||this.$emit("cerrar")}},methods:{date:Pe.Ay,saveModal:function(){var e=this;if(this.infoModal.ID_EVENTO_TIPO)if(this.infoModal.CANTIDAD)if(this.infoModal.DURACION_MIN)if(this.infoModal.PROFCOD){var o=this.infoModal;(0,S.dialogConfirm)({message:"¿Está seguiro de guardar esta informacióm? "}).then(function(n){C.$http.post("api/HyoAdmeventos/saveEvento",{info:o}).then(function(o){(0,N["default"])(e.$t("mensajes."+o)),e.init(),e.infoModal.insContinua||(e.modalEstado=!1)})})}else(0,N["default"])("Debe seleccionar un encargado","error");else(0,N["default"])("Debe insertar una duración","error");else(0,N["default"])("Debe insertar una cantidad","error");else(0,N["default"])("Debe seleccionar un tipo de evento","error")},cambiarTipo:function(e){this.infoModal.VIRTUAL=e.VIRTUAL},handleResize:function(){var e=150;this.alto=window.innerHeight-e+"px"},init:function(){var e=this;return b()(D()().m(function o(){return D()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,C.$http.get("api/HyoAdmeventos/getEventos");case 1:e.listaEventos=o.v;case 2:return o.a(2)}},o)}))()},updateEvento:function(e){var o=this;return b()(D()().m(function n(){var l,t,a;return D()().w(function(n){while(1)switch(n.n){case 0:return l=e.fila,t=e.campo,n.n=1,C.$http.post("api/HyoAdmeventos/editEvento",{info:{fila:l,campo:t}});case 1:a=n.v,(0,N["default"])(o.$t("mensajes."+a)),o.init();case 2:return n.a(2)}},n)}))()},eliminarEvento:function(e){var o=this;return b()(D()().m(function n(){return D()().w(function(n){while(1)switch(n.n){case 0:(0,S.dialogDelete)().then(function(){var n=b()(D()().m(function n(l){var t,a,i;return D()().w(function(n){while(1)switch(n.n){case 0:if(console.log({res:l,info:e}),!l){n.n=2;break}return n.n=1,C.$http.post("api/HyoAdmeventos/deleteEvento",{info:e});case 1:t=n.v,a=t.msg,i=t.type,(0,N["default"])(o.$t("mensajes."+a),i),o.init();case 2:return n.a(2)}},n)}));return function(e){return n.apply(this,arguments)}}());case 1:return n.a(2)}},n)}))()}}};const He=(0,M.A)(Be,[["render",Qe]]);var xe=He,je={class:"column sie-flat"},ze={class:"q-ma-sm"},Xe={class:"row"},Ye={class:"row"},We={class:"row justify-end"},Je={class:"row"},Ke={class:"row"};function Ze(e,o){var n=(0,l.g2)("q-datetime"),a=(0,l.g2)("q-input"),i=(0,l.g2)("q-toggle"),u=(0,l.g2)("sie-modal"),d=(0,l.g2)("q-popup-edit"),r=(0,l.g2)("q-td"),s=(0,l.g2)("q-btn"),f=(0,l.g2)("q-table");return(0,l.uX)(),(0,l.CE)("div",je,[(0,l.bF)(u,{modelValue:e.modalEstado,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.modalEstado=o}),title:"Agregar feriado",onSubmit:e.saveFeriado},{default:(0,l.k6)(function(){return[(0,l.Lk)("div",ze,[(0,l.Lk)("div",Xe,[(0,l.bF)(n,{class:"col q-if-outlined",modelValue:e.infoModal.FECFER,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.infoModal.FECFER=o}),type:"date",format:"DD/MM/YYYY","float-label":e.$t("fecha")},null,8,["modelValue","float-label"])]),(0,l.Lk)("div",Ye,[(0,l.bF)(a,{class:"q-if-outlined col",modelValue:e.infoModal.OBSER,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.infoModal.OBSER=o}),"float-label":"Observación"},null,8,["modelValue"])]),(0,l.Lk)("div",We,[(0,l.bF)(i,{color:"secondary",modelValue:e.infoModal.insContinua,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.infoModal.insContinua=o})},{default:(0,l.k6)(function(){return c()(o[4]||(o[4]=[(0,l.eW)(" Inserción continua",-1)]))}),_:1},8,["modelValue"])])])]}),_:1},8,["modelValue","onSubmit"]),(0,l.bF)(f,{class:"q-card q-ma-sm col-3",data:e.dataFeriados,columns:e.columns,"row-key":"ID_FERIADO",style:(0,t.Tr)({"max-height":e.alto}),"hide-bottom":""},{"body-cell-OBSER":(0,l.k6)(function(o){return[(0,l.bF)(r,{props:o},{default:(0,l.k6)(function(){return[(0,l.Lk)("span",null,(0,t.v_)(o.row.OBSER),1),(0,l.bF)(d,{modelValue:o.row.OBSER,"onUpdate:modelValue":function(e){return o.row.OBSER=e},onSave:function(n){return e.editarFeriado({fila:o.row,campo:"OBSER"})}},{default:(0,l.k6)(function(){return[(0,l.Lk)("div",Je,[(0,l.bF)(a,{class:"q-if-outlined col",modelValue:o.row.OBSER,"onUpdate:modelValue":function(e){return o.row.OBSER=e}},null,8,["modelValue","onUpdate:modelValue"])])]}),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])]}),_:2},1032,["props"])]}),"body-cell-FECFER":(0,l.k6)(function(o){return[(0,l.bF)(r,{props:o},{default:(0,l.k6)(function(){return[(0,l.Lk)("span",null,(0,t.v_)(e.date(o.row.FECFER,"DD-MM-YYYY")),1),(0,l.bF)(d,{modelValue:o.row.FECFER,"onUpdate:modelValue":function(e){return o.row.FECFER=e}},{default:(0,l.k6)(function(){return[(0,l.Lk)("div",Ke,[(0,l.bF)(n,{class:"col q-if-outlined",modelValue:o.row.FECFER,"onUpdate:modelValue":function(e){return o.row.FECFER=e},onInput:function(n){return e.editarFeriado({fila:o.row,campo:"FECFER"})},type:"date",format:"DD/MM/YYYY"},null,8,["modelValue","onUpdate:modelValue","onInput"])])]}),_:2},1032,["modelValue","onUpdate:modelValue"])]}),_:2},1032,["props"])]}),"body-cell-ACCION":(0,l.k6)(function(o){return[(0,l.bF)(r,{props:o},{default:(0,l.k6)(function(){return[(0,l.bF)(s,{flat:"",dense:"",round:"",icon:"delete",size:"sm",onClick:function(n){return e.eliminarFeriado(o.row)}},null,8,["onClick"])]}),_:2},1032,["props"])]}),_:1},8,["data","columns","style"])])}var eo=n(47035),oo={emits:["cerrar"],components:{QTable:r.A,QTd:d.Ef,QTr:d.qh,QPopupEdit:d.GT,sieModal:R.A,QDatetime:d.T5,QInput:d.ie,QToggle:d.c5,QBtn:d.Il},props:["ins","grad","modalState"],data:function(){return{alto:"",modalEstado:!1,infoModal:{},dataFeriados:[],columns:[{name:"FECFER",label:this.$t("fecha"),field:"FECFER",align:"left"},{name:"OBSER",label:this.$t("Descripción"),field:"OBSER",align:"left"},{name:"ACCION",field:"ACCION",align:"right"}]}},unmounted:function(){window.removeEventListener("resize",this.handleResize)},watch:{modalState:function(e){e&&(this.modalEstado=!0,this.infoModal={FECFER:null,OBSER:null,insContinua:!0})},modalEstado:function(e){e||this.$emit("cerrar")}},methods:{date:Pe.Ay,handleResize:function(){var e=150;this.alto=window.innerHeight-e+"px"},init:function(){var e=this;return b()(D()().m(function o(){return D()().w(function(o){while(1)switch(o.n){case 0:C.$http.get("api/HyoFeriados/obtFeriados").then(function(o){var n=o.json;n.forEach(function(e){e.FECBASE=e.FECFER}),n=(0,eo["default"])(n,"asc","FECFER"),e.dataFeriados=n});case 1:return o.a(2)}},o)}))()},saveFeriado:function(){var e=this;this.infoModal.FECFER?(0,S.dialogConfirm)({message:"¿Está seguro de guardar esta informacion?"}).then(function(){var o=b()(D()().m(function o(n){var l,t,a;return D()().w(function(o){while(1)switch(o.n){case 0:if(!n){o.n=2;break}return o.n=1,C.$http.post("api/HyoFeriados/saveFeriados",{info:e.infoModal});case 1:l=o.v,t=l.msg,a=l.type,console.log(t,a),(0,N["default"])(e.$t("mensajes."+t),a),e.infoModal.insContinua||a||(e.modalEstado=!1,e.init());case 2:return o.a(2)}},o)}));return function(e){return o.apply(this,arguments)}}()):(0,N["default"])("Debe agregar una fecha","error")},editarFeriado:function(e){var o=this;return b()(D()().m(function n(){var l,t,a;return D()().w(function(n){while(1)switch(n.n){case 0:return l=e.fila,t=e.campo,console.log({fila:l,campo:t}),n.n=1,C.$http.post("api/HyoFeriados/updateFeriados",{info:{fila:l,campo:t}});case 1:a=n.v,console.log(a),(0,N["default"])(o.$t("mensajes."+a)),o.init();case 2:return n.a(2)}},n)}))()},eliminarFeriado:function(e){var o=this;(0,S.dialogDelete)().then(function(){var n=b()(D()().m(function n(l){var t;return D()().w(function(n){while(1)switch(n.n){case 0:if(!l){n.n=2;break}return n.n=1,C.$http.post("api/HyoFeriados/deleteFeriado",{info:e});case 1:t=n.v,(0,N["default"])(o.$t("mensajes."+t)),o.init();case 2:return n.a(2)}},n)}));return function(e){return n.apply(this,arguments)}}())}},mounted:function(){this.init(),this.handleResize()}};const no=(0,M.A)(oo,[["render",Ze]]);var lo=no;function to(e,o){var n=(0,l.g2)("familia");return(0,l.uX)(),(0,l.Wv)(n)}var ao=n(74375),io={mixins:[],components:{familia:ao.A},data:function(){return{}},methods:{},created:function(){return b()(D()().m(function e(){return D()().w(function(e){while(1)switch(e.n){case 0:return e.a(2)}},e)}))()}};const uo=(0,M.A)(io,[["render",to]]);var ro=uo,so=n(81288),co={components:{QTable:r.A,QTd:d.Ef,QTr:d.qh,grados:_,requisitos:Ee,sieSelect:g.A,evaluacion:Re,eventos:xe,feriados:lo,familias:ro,QPage:d.Tu},data:function(){return{alto:null,itemSelect:0,instrus:[],grados:{},modalState:!1,modalState2:!1,tipos:[{val:0,label:"Procesos (Grados)",component:"grados"},{val:1,label:"Documentos (Requisitos)",component:"requisitos"},{val:2,label:"Evaluaciones (Entrevista o Conocimientos)",component:"evaluacion"},{val:3,label:"Eventos (Charlas o Visitas)",component:"eventos"},{val:4,label:"Feriados",component:"feriados"},{val:5,label:"familias",component:"familias"}],columns:[{name:"label",label:this.$t("Tablas"),field:"label",align:"left"}]}},unmounted:function(){window.removeEventListener("resize",this.handleResize)},computed:{isGreater:function(){return(0,so.isGreater)()},nombre:function(){return"Mantenimiento - "+this.tipos[this.itemSelect].label},buttons:function(){var e=[{label:"Nuevo",icon:"add",click:this.openNew}];return 2===this.itemSelect&&e.push({label:"Personal",icon:"group",click:this.openNew2}),e}},methods:{handleResize:function(){var e=150;this.alto=window.innerHeight-e+"px"},openNew:function(){this.modalState=!0},openNew2:function(){this.modalState2=!0},closeModal:function(){this.modalState=!1},closeModal2:function(){this.modalState2=!1}},created:function(){var e=this;C.$http.get("api/HyoInstrus/obtInstru").then(function(o){var n=o.json;e.instrus=n}),window.addEventListener("resize",this.handleResize),this.handleResize(),C.$http.get("api/HyoGradoNivs/obtGrados",{params:{agrupado:!0}}).then(function(o){var n=o.json;e.grados=n})}};const fo=(0,M.A)(co,[["render",u]]);var mo=fo}}]);