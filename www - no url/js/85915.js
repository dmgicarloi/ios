"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[85915],{85915:function(e,r,a){a.r(r),a.d(r,{default:function(){return El}});var n=a(8445),t=a.n(n),o=(a(30683),a(39866),a(15547),a(61758)),i=a(58790),l=a(29104),s=a(33498),c=a.n(s),u=a(15292),d=a.n(u),f={class:"row"},C={class:"col-xs-12 col-xs-4 col-md-2"},p={class:"col-xs-6 col-sm-2"},O={class:"col-xs-12 sie-flat"},m={class:"row q-pa-sm"},I={class:"col-xs-12 sie-flat"},A={class:"row q-pa-sm q-col-gutter-sm"},E={class:"col-xs-12"},h={class:"row border q-pa-sm q-mb-xs"},D={class:"col-xs-12"},g={class:"col-xs-12"},S={class:"col-xs-12"},b={class:"col-xs-12"},v={class:"col-xs-12"},R={class:"text-primary"},N={class:"col-xs-12"},_={class:"col-xs-12 col-sm-6"},T={class:"col-xs-12 col-sm-6"},k={class:"col-xs-12 col-sm-6 sie-flat"},P={class:"row q-col-gutter-sm"},F={class:"col-xs-12"},w={class:"col-xs-12 col-sm-6 sie-flat"},U={class:"row q-col-gutter-sm"},L={class:"col-xs-12"},M={class:"row q-pa-md q-col-gutter-sm"},y={class:"col-xs-12"},H={class:"row"},G={class:"col-xs-12 col-sm-6 q-pt-sm"},q={class:"col-xs-12"},V={key:0,class:"row"},x={key:1,class:"row"},Q={key:2,class:"row"},X={class:"row q-pa-md"},B={key:0,class:"text-subtitle2 row col-sm-12 text-weight-bold"},j={class:"q-ml-sm"},$={class:"q-ml-sm"},Y={key:1,class:"text-subtitle2 row col-sm-12 q-mt-md text-weight-bold"},W={class:"q-ml-sm"},z={class:"q-ml-sm"},J={key:0,class:"row"},K={key:1,class:"row"},Z={style:{padding:"8px 8px 0px"}},ee={class:"row q-ma-xs q-col-gutter-sm"},re={class:"col-xs-12 col-md-6 col-lg-2"},ae={class:"col-xs-12 col-md-6 col-lg-2"},ne={class:"col-xs-12 col-md-2 center"},te={key:0,class:"col-xs-12 col-md-2 center-v",style:{"padding-top":"0px"}},oe={key:0,class:"text-weight-bold q-title bg-red-6 q-pa-sm"},ie={key:1,class:"row"},le={key:0,class:"row"},se={key:1,class:"row"},ce={class:"row q-pa-md"},ue={key:0,class:"text-subtitle2 row col-sm-12 text-weight-bold"},de={class:"text-subtitle2 col-sm-12 q-pt-xs"},fe={class:"q-ml-sm"},Ce={class:"q-ml-sm"},pe={key:1,class:"text-subtitle2 row col-sm-12 q-mt-md text-weight-bold"},Oe={class:"text-subtitle2 col-sm-12 q-pt-xs"},me={class:"q-ml-sm"},Ie={class:"q-ml-sm"},Ae={class:"q-pa-md"},Ee={class:"row justify-left q-gutter-sm"},he={key:0,class:"cantidad-carrito circle center"},De={key:0,class:"cantidad-carrito circle center"},ge={key:0,class:"row"},Se={style:{"font-weight":"bold",color:"#000"}},be={key:0},ve={class:"text-black q-title q-pa-md"},Re={key:0,class:"col-12 bg-green-12",style:{"border-radius":"10px",margin:"7px"}},Ne={key:1,class:"col-12 bg-green-12",style:{"border-radius":"10px",margin:"7px"}},_e={key:2,class:"col-12 bg-green-12",style:{"border-radius":"10px",margin:"7px"}},Te={key:0,class:"text-black q-pa-md"},ke={key:0,class:"row q-col-gutter-sm q-pa-md"},Pe={class:"col-xs-12"},Fe={class:"row col-xs-12 q-pt-lg"},we={class:"row bg-white q-pa-xs col-xs-12"},Ue={class:"row q-pb-sm"},Le={style:{position:"absolute"}},Me={class:"row col-xs-12"},ye={key:0,class:"q-pa-md text-subtitle2"},He={class:"row justify-center items-center q-col-gutter-md q-pa-md"},Ge={key:0,class:"column items-center"},qe={key:1,class:"column items-center"},Ve={key:2,class:"column items-center"},xe={style:{width:"310px",display:"flex","align-items":"center","justify-content":"space-evenly",background:"#f5f5f5"}},Qe={class:"row q-col-gutter-sm q-pa-md"},Xe={class:"col-xs-12"},Be={class:"col-xs-6 col-sm-4 q-pa-sm"},je={class:"col-xs-6 col-sm-4 q-pa-sm"},$e={key:0,class:"row q-pa-md q-col-gutter-sm"},Ye={class:"col-xs-12"},We={key:1},ze={key:0,class:"row q-pa-md q-col-gutter-sm"},Je={class:"col-xs-12"},Ke={class:"row q-pa-md q-col-gutter-sm"},Ze={class:"col-xs-12 cursor-pointer"},er=["href"],rr={class:"col-xs-12"},ar={class:"row q-pa-md q-col-gutter-sm"},nr={class:"col-xs-12"},tr=["onClick"],or={class:"row"},ir={class:"col"};function lr(e,r){var a=this,n=(0,o.g2)("q-tab"),s=(0,o.g2)("sie-select"),u=(0,o.g2)("sie-table"),lr=(0,o.g2)("sie-modal"),sr=(0,o.g2)("q-input"),cr=(0,o.g2)("q-field"),ur=(0,o.g2)("q-card-section"),dr=(0,o.g2)("q-card"),fr=(0,o.g2)("q-tab-pane"),Cr=(0,o.g2)("header-btn"),pr=(0,o.g2)("q-datetime"),Or=(0,o.g2)("q-card-main"),mr=(0,o.g2)("q-btn"),Ir=(0,o.g2)("card-grupo-taller"),Ar=(0,o.g2)("q-page-sticky"),Er=(0,o.g2)("elegir-talleres"),hr=(0,o.g2)("q-item-tile"),Dr=(0,o.g2)("q-item-side"),gr=(0,o.g2)("q-item-main"),Sr=(0,o.g2)("q-item"),br=(0,o.g2)("q-list"),vr=(0,o.g2)("q-item-separator"),Rr=(0,o.g2)("q-checkbox"),Nr=(0,o.g2)("q-collapsible"),_r=(0,o.g2)("q-tabs"),Tr=(0,o.g2)("q-iframe"),kr=(0,o.g2)("registro-pago"),Pr=(0,o.g2)("q-icon"),Fr=(0,o.g2)("q-dialog"),wr=(0,o.g2)("q-radio"),Ur=(0,o.g2)("formPersona"),Lr=(0,o.g2)("QDialog2"),Mr=(0,o.g2)("elegir-paquete-semanas"),yr=(0,o.g2)("sie-html"),Hr=(0,o.g2)("q-page");return(0,o.uX)(),(0,o.Wv)(Hr,{class:"talleres--inscripcion sie-flat pasebrae bg-white q-pa-sm"},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",{class:(0,i.C4)(["oscurecido",{fullscreen:e.noacepta,"flex-center":e.noacepta}])},null,2),(0,o.bF)(_r,{class:"col q-tabs-flex",inverted:"",animated:"",modelValue:e.tab,"onUpdate:modelValue":r[20]||(r[20]=function(r){return e.tab=r})},{title:(0,o.k6)(function(){return[(0,o.bF)(n,{name:"inscripcion",label:"Inscripcion",default:""}),(0,o.bF)(n,{name:"miscursos",label:"Mis Cursos"}),e.isAdmin?((0,o.uX)(),(0,o.Wv)(n,{key:0,name:"vencidas",label:"Inscripciones Vencidas"})):(0,o.Q3)("v-if",!0)]}),default:(0,o.k6)(function(){return[(0,o.bF)(fr,{name:"miscursos"},{default:(0,o.k6)(function(){return[(0,o.bF)(dr,{flat:""},{default:(0,o.k6)(function(){return[(0,o.bF)(ur,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("div",f,[(0,o.Lk)("div",C,[(0,o.bF)(s,{type:"outlined",modelValue:e.duracod,"onUpdate:modelValue":r[0]||(r[0]=function(r){return e.duracod=r}),val:"DURACOD",label:"DURADES",options:e.optPeriodo,readonly:!1,placeholder:"Periodo",onInput:r[1]||(r[1]=function(r){return e.cambiarPeriodo(1)})},null,8,["modelValue","options"])]),(0,o.Lk)("div",{class:(0,i.C4)(["col",e.isSmall?"col-xs-12":"col"])},[(0,o.bF)(s,{type:"outlined",modelValue:e.idPersona,"onUpdate:modelValue":r[2]||(r[2]=function(r){return e.idPersona=r}),val:"ID_PERSONA",label:"NOMCOMP",options:e.alumnos,readonly:!1,placeholder:"Participante",onSelected:e.cambiarAlumno},null,8,["modelValue","options","onSelected"])],2),(0,o.Lk)("div",p,[(0,o.bF)(s,{type:"outlined",modelValue:e.estadoInscripcion,"onUpdate:modelValue":r[3]||(r[3]=function(r){return e.estadoInscripcion=r}),val:"value",label:"label",options:e.estadosOption,readonly:!1,placeholder:"Estado"},null,8,["modelValue","options"])])]),(0,o.Lk)("div",O,[(0,o.bF)(u,{"show-search":!1,ref:"tabla",columns:e.fields,data:e.rows,context:a,config:e.config,"show-footer":!1,css:{height:"calc(100vh - 210px)"}},null,8,["columns","data","config"]),(0,o.bF)(lr,{modelValue:e.openModalCambiarHorario,"onUpdate:modelValue":r[4]||(r[4]=function(r){return e.openModalCambiarHorario=r}),css:{width:"550px"},esc:"","esc-click":"",title:"Cambiar Horario",ok:!1},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",m,[(0,o.Lk)("div",I,[(0,o.bF)(u,{ref:"tablaCambioHorarios",columns:e.fieldsCambioHorarios,data:e.rowsCambioHorarios,config:e.configCambioHorarios,context:a,"show-footer":!1,"load-disabled":e.loadDisabled,css:{height:"400px"}},null,8,["columns","data","config","load-disabled"])])])]}),_:1},8,["modelValue"]),(0,o.bF)(lr,{modelValue:e.openModalCambiarHorarioFrec,"onUpdate:modelValue":r[8]||(r[8]=function(r){return e.openModalCambiarHorarioFrec=r}),css:{width:"1200px"},esc:"","esc-click":"",title:"Cambiar Horario (Frec.)",ok:"Aceptar",onSubmit:e.guardarCambioHorarioFrec,icon_ok:"save"},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",A,[r[60]||(r[60]=(0,o.Lk)("div",{class:"col-xs-12"},[(0,o.Lk)("span",{class:"text-bold"},"Datos del taller actual")],-1)),(0,o.Lk)("div",E,[(0,o.Lk)("div",h,[(0,o.Lk)("div",D,[(0,o.Lk)("span",null,"Taller: "+(0,i.v_)(e.currentCursoFrec.CURSODES),1)]),(0,o.Lk)("div",g,[(0,o.Lk)("span",null,"Frecuencia: "+(0,i.v_)(e.currentCursoFrec.DESCRIPCION),1)]),(0,o.Lk)("div",S,[(0,o.Lk)("span",null,"Fec. Inicio: "+(0,i.v_)(e.currentCursoFrec.FECINI_INSCRIPCION_FORMAT),1)]),(0,o.Lk)("div",b,[(0,o.Lk)("span",null,"Fec. Fin: "+(0,i.v_)(e.currentCursoFrec.FECFIN_INSCRIPCION_FORMAT),1)]),(0,o.Lk)("div",v,[r[57]||(r[57]=(0,o.Lk)("span",null,"Horario:",-1)),(0,o.Lk)("span",R,(0,i.v_)(e.currentCursoFrec.HORARIOS),1)])])]),r[61]||(r[61]=(0,o.Lk)("div",{class:"col-xs-12"},[(0,o.Lk)("span",{class:"text-bold"},"Datos del taller a modificar")],-1)),(0,o.Lk)("div",N,[(0,o.bF)(s,{type:"outlined",modelValue:e.idCursoPeriodoFrec,"onUpdate:modelValue":r[5]||(r[5]=function(r){return e.idCursoPeriodoFrec=r}),val:"ID_CURSO_PERIODO",label:"CURSODES",options:e.optTalleresFrec,readonly:!1,placeholder:"Taller",onInput:e.cambiarTallerFrec},null,8,["modelValue","options","onInput"])]),(0,o.Lk)("div",_,[(0,o.bF)(cr,{style:{width:"100%"}},{default:(0,o.k6)(function(){return[(0,o.bF)(sr,{class:"q-if-outlined q-pa-none",type:"date",modelValue:e.fechaInicioFrec,"onUpdate:modelValue":r[6]||(r[6]=function(r){return e.fechaInicioFrec=r}),format:"DD/MM/YYYY",label:"Fecha Inicio"},null,8,["modelValue"])]}),_:1})]),(0,o.Lk)("div",T,[(0,o.bF)(cr,{style:{width:"100%"}},{default:(0,o.k6)(function(){return[(0,o.bF)(sr,{class:"q-if-outlined q-pa-none",type:"date",modelValue:e.fechaFinFrec,"onUpdate:modelValue":r[7]||(r[7]=function(r){return e.fechaFinFrec=r}),format:"DD/MM/YYYY",label:"Fecha Fin"},null,8,["modelValue"])]}),_:1})]),(0,o.Lk)("div",k,[(0,o.Lk)("div",P,[r[58]||(r[58]=(0,o.Lk)("div",{class:"col-xs-12"},[(0,o.Lk)("span",{class:"text-bold"},"Lista de horarios disponibles")],-1)),(0,o.Lk)("div",F,[(0,o.bF)(u,{ref:"tablaCambioHorariosFrec",columns:e.fieldsCambioHorariosFrec,data:e.rowsCambioHorariosFrec,config:e.configCambioHorariosFrec,context:a,"show-footer":!1,"load-disabled":e.loadDisabled,css:{height:"400px"}},null,8,["columns","data","config","load-disabled"])])])]),(0,o.Lk)("div",w,[(0,o.Lk)("div",U,[r[59]||(r[59]=(0,o.Lk)("div",{class:"col-xs-12"},[(0,o.Lk)("span",{class:"text-bold"},"Lista de nuevos horarios")],-1)),(0,o.Lk)("div",L,[(0,o.bF)(u,{ref:"tablaHorariosFrec",columns:e.fieldsNewHorariosFrec,data:e.rowsNewHorariosFrec,config:e.configCambioHorariosFrec,context:a,"show-footer":!1,"load-disabled":e.loadDisabled,css:{height:"400px"}},null,8,["columns","data","config","load-disabled"])])])])])]}),_:1},8,["modelValue","onSubmit"]),(0,o.bF)(lr,{modelValue:e.openModalFinalizar,"onUpdate:modelValue":r[10]||(r[10]=function(r){return e.openModalFinalizar=r}),css:{"min-width":"500px"},esc:"","esc-click":"",title:"Finalizar taller",ok:"Aceptar",onSubmit:r[11]||(r[11]=function(r){return e.finalizarCurso(e.rowTaller)}),icon_ok:"save"},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",M,[(0,o.Lk)("div",y,[(0,o.bF)(cr,{style:{width:"100%"}},{default:(0,o.k6)(function(){return[(0,o.bF)(sr,{class:"q-if-outlined q-pa-none",type:"date",modelValue:e.fechaFinalizarTaller,"onUpdate:modelValue":r[9]||(r[9]=function(r){return e.fechaFinalizarTaller=r}),format:"DD/MM/YYYY",label:"Fecha fin"},null,8,["modelValue"])]}),_:1})])])]}),_:1},8,["modelValue"])])]}),_:1})]}),_:1})]}),_:1}),e.isAdmin?((0,o.uX)(),(0,o.Wv)(fr,{key:0,name:"vencidas"},{default:(0,o.k6)(function(){return[(0,o.bF)(Or,null,{default:(0,o.k6)(function(){return[(0,o.bF)(Cr,{buttons:e.isAdmin&&e.sie.ruta.nivel>2?e.buttons:[]},null,8,["buttons"]),(0,o.Lk)("div",H,[(0,o.Lk)("div",G,[(0,o.bF)(cr,{class:"col",icon:"calendar"},{default:(0,o.k6)(function(){return[(0,o.bF)(pr,{class:"col q-if-outlined",modelValue:e.fecInsMenorIgual,"onUpdate:modelValue":r[12]||(r[12]=function(r){return e.fecInsMenorIgual=r}),format:"DD/MM/YYYY","float-label":"Anular fecha inscripción menor o igual:",onInput:e.getInscripcionesVencidas},null,8,["modelValue","onInput"])]}),_:1})]),(0,o.Lk)("div",q,[(0,o.bF)(u,{ref:"tablaInscripcionesVencidas",selection:"multiple",context:a,config:e.configInscripcionesVencidas,columns:e.fieldsInscripcionesVencidas,data:e.cursosVencidos,css:{height:"calc(100vh - 280px)"}},null,8,["config","columns","data"])])])]}),_:1})]}),_:1})):(0,o.Q3)("v-if",!0),(0,o.bF)(fr,{class:"q-pa-none",name:"inscripcion"},{default:(0,o.k6)(function(){return[e.sinTurnoInscripcion||e.turnoAunNoEmpieza?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[e.vistaalumno?((0,o.uX)(),(0,o.CE)("div",V,t()(r[62]||(r[62]=[(0,o.Lk)("div",{class:"row text-weight-bold q-subheading q-pa-md bg-blue-4 col-sm-12",style:{"border-radius":"5px"}},'ESTA EN VISTA "VER COMO ALUMNO O FAMILIA"',-1)])))):(0,o.Q3)("v-if",!0),e.sinTurnoInscripcion?((0,o.uX)(),(0,o.CE)("div",x,t()(r[63]||(r[63]=[(0,o.Lk)("div",{class:"row text-weight-bold q-subheading q-pa-md col-sm-12",style:{"border-radius":"5px"}},"NO TIENE TURNO DE INSCRIPCIÓN ASIGNADO",-1)])))):(0,o.Q3)("v-if",!0),e.turnoAunNoEmpieza?((0,o.uX)(),(0,o.CE)("div",Q,[r[66]||(r[66]=(0,o.Lk)("div",{class:"row text-weight-bold q-subheading q-pa-sm col-sm-12",style:{"border-radius":"5px"}},"SU HORARIO DE INSCRIPCIÓN AÚN NO EMPIEZA",-1)),(0,o.Lk)("div",X,[e.turnoPorSalon.length?((0,o.uX)(),(0,o.CE)("p",B,"Su turno de Matricula por nivel y grado es:")):(0,o.Q3)("v-if",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.turnoPorSalon,function(a,n){return(0,o.uX)(),(0,o.CE)("p",{key:n,class:"text-subtitle2 col-sm-12 q-pt-xs"},[(0,o.Lk)("span",null,"NIVEL Y GRADO "+(0,i.v_)(a.VALOR)+" :",1),(0,o.Lk)("span",j,"del "+(0,i.v_)(e.getFechaHora(a.FECINI)),1),r[64]||(r[64]=(0,o.Lk)("span",{class:"q-ml-sm"},"al",-1)),(0,o.Lk)("span",$,(0,i.v_)(e.getFechaHora(a.FECFIN)),1)])}),128)),e.turnoPorCurso.length?((0,o.uX)(),(0,o.CE)("p",Y,"Los turnos de los talleres disponibles son:")):(0,o.Q3)("v-if",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.turnoPorCurso,function(a,n){return(0,o.uX)(),(0,o.CE)("p",{key:n,class:"text-subtitle2 col-sm-12 q-pt-xs"},[(0,o.Lk)("span",null,"taller "+(0,i.v_)(a.VALOR)+" - "+(0,i.v_)(a.CURSODES)+" :",1),(0,o.Lk)("span",W,"del "+(0,i.v_)(e.getFechaHora(a.FECINI)),1),r[65]||(r[65]=(0,o.Lk)("span",{class:"q-ml-sm"},"al",-1)),(0,o.Lk)("span",z,(0,i.v_)(e.getFechaHora(a.FECFIN)),1)])}),128))])])):(0,o.Q3)("v-if",!0)],64)):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[e.vistaalumno?((0,o.uX)(),(0,o.CE)("div",J,t()(r[67]||(r[67]=[(0,o.Lk)("div",{class:"row text-weight-bold q-subheading q-pa-md bg-blue-4 col-sm-12",style:{"border-radius":"5px"}},'ESTA EN VISTA "VER COMO ALUMNO O FAMILIA"',-1)])))):(0,o.Q3)("v-if",!0),e.inscripcionBloqueada&&(e.isFamAlu||e.isBpastor&&!e.isAdmin)?((0,o.uX)(),(0,o.CE)("div",K,t()(r[68]||(r[68]=[(0,o.Lk)("div",{class:"row text-weight-bold q-display-2 q-pa-md"},"El proceso de Inscripción de Talleres está cerrado",-1),(0,o.Lk)("div",{class:"row q-display-1"},"El proceso de inscripción de matrícula está cerrado temporalmente, comuníquese con el encargado de talleres",-1)])))):((0,o.uX)(),(0,o.Wv)(dr,{key:2},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",Z,[(0,o.Lk)("div",ee,[(0,o.Lk)("div",re,[(0,o.bF)(s,{type:"outlined",modelValue:e.duracod,"onUpdate:modelValue":r[13]||(r[13]=function(r){return e.duracod=r}),val:"DURACOD",label:"DURADES",options:e.optPeriodoInscripcion,readonly:!1,placeholder:"Periodo",onInput:r[14]||(r[14]=function(r){return e.cambiarPeriodoInscripcion(1)})},null,8,["modelValue","options"])]),(0,o.Lk)("div",ae,[(0,o.bF)(s,{type:"outlined",modelValue:e.idPrograma,"onUpdate:modelValue":r[15]||(r[15]=function(r){return e.idPrograma=r}),val:"TIPOCOD",label:"TIPODES",options:e.optPrograma,readonly:!1,placeholder:"Programa",onSelected:e.loadGrupo},null,8,["modelValue","options","onSelected"])]),(0,o.Lk)("div",{class:(0,i.C4)(["col-xs-12","0090"===e.colcod&&e.sie.famcod&&!e.esUsuarioAlumno?"col-md-4":"col-md-6"])},[(0,o.bF)(s,{type:"outlined",modelValue:e.idPersona,"onUpdate:modelValue":r[16]||(r[16]=function(r){return e.idPersona=r}),val:"ID_PERSONA",label:"NOMCOMP",options:e.alumnos,readonly:!1,placeholder:"Participante",onSelected:e.cambiarAlumno},null,8,["modelValue","options","onSelected"])],2),(0,o.Lk)("div",ne,[(0,o.bF)(cr,{style:{width:"100%"}},{default:(0,o.k6)(function(){return[(0,o.bF)(sr,{class:"q-if-outlined q-pa-none",type:"date",modelValue:e.fechaInscripcion,"onUpdate:modelValue":r[17]||(r[17]=function(r){return e.fechaInscripcion=r}),format:"DD/MM/YYYY",label:"Fecha de Inscripción",disable:e.bloquearFechaInscripcion},null,8,["modelValue","disable"])]}),_:1})]),"0090"===e.colcod&&e.sie.famcod&&!e.esUsuarioAlumno?((0,o.uX)(),(0,o.CE)("div",te,[(0,o.bF)(mr,{icon:"add",color:"primary",label:"Familiar",size:"sm",onClick:e.agregarPersona},null,8,["onClick"])])):(0,o.Q3)("v-if",!0)])]),(0,o.bF)(Or,null,{default:(0,o.k6)(function(){return[e.inscripcionBloqueada?((0,o.uX)(),(0,o.CE)("p",oe,"LA INSCRIPCION A FAMILIAS ESTA BLOQUEDA.")):(0,o.Q3)("v-if",!0),e.sinTurnoInscripcionAlumno||e.turnoAunNoEmpiezaAlumno?((0,o.uX)(),(0,o.CE)("div",ie,[e.sinTurnoInscripcionAlumno?((0,o.uX)(),(0,o.CE)("div",le,t()(r[69]||(r[69]=[(0,o.Lk)("div",{class:"row text-weight-bold q-subheading q-pa-md col-sm-12",style:{"border-radius":"5px"}},"NO TIENE TURNO DE INSCRIPCIÓN ASIGNADO",-1)])))):(0,o.Q3)("v-if",!0),e.turnoAunNoEmpiezaAlumno?((0,o.uX)(),(0,o.CE)("div",se,[r[72]||(r[72]=(0,o.Lk)("div",{class:"row text-weight-bold q-subheading q-pa-sm col-sm-12",style:{"border-radius":"5px"}},"SU HORARIO DE INSCRIPCIÓN AÚN NO EMPIEZA",-1)),(0,o.Lk)("div",ce,[e.turnoPorSalon.length?((0,o.uX)(),(0,o.CE)("p",ue,"Su turno de Matricula por nivel y grado es:")):(0,o.Q3)("v-if",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.turnoPorSalon,function(a){return(0,o.uX)(),(0,o.CE)("p",de,[(0,o.Lk)("span",null,"NIVEL Y GRADO "+(0,i.v_)(a.VALOR)+" :",1),(0,o.Lk)("span",fe,"del "+(0,i.v_)(e.getFechaHora(a.FECINI)),1),r[70]||(r[70]=(0,o.Lk)("span",{class:"q-ml-sm"},"al",-1)),(0,o.Lk)("span",Ce,(0,i.v_)(e.getFechaHora(a.FECFIN)),1)])}),256)),e.turnoPorCurso.length?((0,o.uX)(),(0,o.CE)("p",pe,"Los turnos de los Curso disponibles son:")):(0,o.Q3)("v-if",!0),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.turnoPorCurso,function(a){return(0,o.uX)(),(0,o.CE)("p",Oe,[(0,o.Lk)("span",null,"curso "+(0,i.v_)(a.VALOR)+" - "+(0,i.v_)(a.CURSODES)+" :",1),(0,o.Lk)("span",me,"del "+(0,i.v_)(e.getFechaHora(a.FECINI)),1),r[71]||(r[71]=(0,o.Lk)("span",{class:"q-ml-sm"},"al",-1)),(0,o.Lk)("span",Ie,(0,i.v_)(e.getFechaHora(a.FECFIN)),1)])}),256))])])):(0,o.Q3)("v-if",!0)])):((0,o.uX)(),(0,o.CE)(o.FK,{key:2},[e.nuevaVistaTalleres&&e.optGrupo.length>0?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[e.escogiendoTaller?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.Lk)("div",Ae,[(0,o.Lk)("div",Ee,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.optGrupo,function(r){return(0,o.uX)(),(0,o.Wv)(Ir,{grupoTaller:r,onClick:e.onClickGrupoTaller},null,8,["grupoTaller","onClick"])}),256))])]),e.optGrupo.length>0?((0,o.uX)(),(0,o.Wv)(Ar,{key:0,position:"bottom-right",offset:[18,18]},{default:(0,o.k6)(function(){return[(0,o.bF)(mr,{class:"web-inscripcion",round:"",color:"primary",icon:"shopping_cart",size:"lg",onClick:r[18]||(r[18]=function(r){return e.onClickGrupoTaller(e.optGrupo[0])})},{default:(0,o.k6)(function(){return[e.porCobrarAgrupado.length>0?((0,o.uX)(),(0,o.CE)("div",he,(0,i.v_)(e.porCobrarAgrupado.length),1)):(0,o.Q3)("v-if",!0)]}),_:1}),(0,o.bF)(mr,{class:"mobile-inscripcion",round:"",color:"primary",icon:"shopping_cart",size:"lg",onClick:e.goToCarrito},{default:(0,o.k6)(function(){return[e.porCobrarAgrupado.length>0?((0,o.uX)(),(0,o.CE)("div",De,(0,i.v_)(e.porCobrarAgrupado.length),1)):(0,o.Q3)("v-if",!0)]}),_:1},8,["onClick"])]}),_:1})):(0,o.Q3)("v-if",!0)],64)),e.escogiendoTaller?((0,o.uX)(),(0,o.Wv)(Er,{key:1,ref:"refElegirTalleres",onClickHeader:e.onClickHeader,onAgregarACarrito:e.agregarACarrito,onAgregarGrupoACarrito:e.agregarGrupoACarrito,onQuitarDeCarrito:e.quitarDeCarrito,onFinalizarCompra:e.finalizarCompra,onVaciarCarrito:e.vaciarCarrito,persona:e.alumnoSeleccionado,grupoTaller:e.grupoTaller,talleres:e.talleres,inscritos:e.cursosInscritos,cursosPendientes:e.objEnviar,cantidadCarrito:e.porCobrarAgrupado.length},null,8,["onClickHeader","onAgregarACarrito","onAgregarGrupoACarrito","onQuitarDeCarrito","onFinalizarCompra","onVaciarCarrito","persona","grupoTaller","talleres","inscritos","cursosPendientes","cantidadCarrito"])):(0,o.Q3)("v-if",!0)],64)):(0,o.Q3)("v-if",!0),e.nuevaVistaTalleres?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.Wv)(br,{key:1,class:"col-xs-12 bg-white"},{default:(0,o.k6)(function(){return[(0,o.bF)(Sr,null,{default:(0,o.k6)(function(){return[(0,o.bF)(Dr,null,{default:(0,o.k6)(function(){return[(0,o.bF)(hr)]}),_:1}),(0,o.bF)(Dr,null,{default:(0,o.k6)(function(){return[(0,o.bF)(hr,null,{default:(0,o.k6)(function(){return t()(r[73]||(r[73]=[(0,o.eW)("Listado de Curso",-1)]))}),_:1})]}),_:1}),e.objEnviar.length>0?((0,o.uX)(),(0,o.Wv)(gr,{key:0},{default:(0,o.k6)(function(){return[(0,o.bF)(hr,{class:"float-right hidden","text-color":"faded"},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(e.objEnviar.length)+" "+(0,i.v_)(e.$t(e.objEnviar.length>1?"Curso Seleccionado":"Cursos Seleccionados")),1)]}),_:1})]}),_:1})):((0,o.uX)(),(0,o.Wv)(gr,{key:1},{default:(0,o.k6)(function(){return[(0,o.bF)(hr,{class:"float-right hidden","text-color":"faded"},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(e.talleres.length)+" Cursos",1)]}),_:1})]}),_:1})),(0,o.bF)(Dr,{right:""}),(0,o.bF)(Dr,{right:""},{default:(0,o.k6)(function(){return[!e.todosTienenCip&&e.objEnviar.length>0?((0,o.uX)(),(0,o.Wv)(hr,{key:0},{default:(0,o.k6)(function(){return[(0,o.bF)(mr,{icon:"shopping_cart",color:"primary",size:"lg",label:"".concat(e.textoCarrito," (").concat(e.countCarrito,")"),onClick:r[19]||(r[19]=function(r){return e.verCarrito(e.objEnviar)})},null,8,["label"])]}),_:1})):(0,o.Q3)("v-if",!0)]}),_:1})]}),_:1})]}),_:1})),e.nuevaVistaTalleres?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.Wv)(br,{key:2,class:"bg-white"},{default:(0,o.k6)(function(){return[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.optGrupo,function(a,n){return(0,o.uX)(),(0,o.Wv)(Nr,{key:a.GRUVACOD,group:"somegroup",label:a.GRUVADES,onClick:function(r){return e.cambiaGrupo(a)},opened:""},{default:(0,o.k6)(function(){return[(0,o.bF)(vr),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.talleres,function(r,a){return(0,o.uX)(),(0,o.Wv)(Sr,{key:r.VACCOD,style:{"border-bottom":"solid 1px #bababa"},class:(0,i.C4)(0===r.DISPONIBLES?"bg-grey-3":"")},{default:(0,o.k6)(function(){return[(0,o.bF)(Dr,null,{default:(0,o.k6)(function(){return[(0,o.bF)(hr,null,{default:(0,o.k6)(function(){return[(0,o.bF)(Rr,{modelValue:r.CHECK,"onUpdate:modelValue":function(e){return r.CHECK=e},val:r,color:r.INSCRITO?"grey-13":"secondary",onInput:function(a){return e.marcar(r)},disable:r.INSCRITO},null,8,["modelValue","onUpdate:modelValue","val","color","onInput","disable"])]}),_:2},1024)]}),_:2},1024),(0,o.bF)(Dr,null,{default:(0,o.k6)(function(){return[(0,o.bF)(hr,{label:""},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(r.VACCOD),1)]}),_:2},1024)]}),_:2},1024),(0,o.bF)(gr,null,{default:(0,o.k6)(function(){return[(0,o.bF)(hr,{label:"",color:0===r.DISPONIBLES?"grey-14":""},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(r.CURSODES),1)]}),_:2},1032,["color"]),(0,o.bF)(hr,{sublabel:""},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(r.NOMCOMP_PROFESOR),1)]}),_:2},1024),(0,o.bF)(hr,{sublabel:""},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(r.HORARIO),1)]}),_:2},1024)]}),_:2},1024),(0,o.bF)(Dr,{style:{width:"160px"},left:""},{default:(0,o.k6)(function(){return[(0,o.bF)(hr,{sublabel:""},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(r.REQUISITOS),1)]}),_:2},1024)]}),_:2},1024),(0,o.bF)(Dr,{class:"row",style:{width:"200px"}},{default:(0,o.k6)(function(){return[r.UTILES?((0,o.uX)(),(0,o.Wv)(mr,{key:0,class:"q-mb-xs full-width",size:"xs",color:"primary",onClick:function(a){return e.imprimirListaUtiles(r.UTILES)},label:"Lista de Utiles",icon:"document_list"},null,8,["onClick"])):(0,o.Q3)("v-if",!0),r.REGLAMENTO?((0,o.uX)(),(0,o.Wv)(mr,{key:1,class:"full-width",size:"xs",color:"primary",onClick:function(a){return e.imprimirListaUtiles(r.REGLAMENTO)},label:"Reglameto",icon:"documents"},null,8,["onClick"])):(0,o.Q3)("v-if",!0)]}),_:2},1024),(0,o.bF)(Dr,null,{default:(0,o.k6)(function(){return[(0,o.bF)(hr,{sublabel:""},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)("Inicio:".concat(e.formatearFecha(r.FECINI,"DD/MM/YYYY")," - Fin: ").concat(e.formatearFecha(r.FECFIN,"DD/MM/YYYY"))),1)]}),_:2},1024),e.noMostrarVacantes?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.Wv)(hr,{key:0,sublabel:""},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)("Vacantes Disponibles:".concat(r.DISPONIBLES)),1)]}),_:2},1024))]}),_:2},1024),(0,o.bF)(Dr,{style:{width:"70px"},right:""},{default:(0,o.k6)(function(){return[(0,o.bF)(hr,null,{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(r.MONSIG+" "+r.MONTO),1)]}),_:2},1024)]}),_:2},1024)]}),_:2},1032,["class"])}),128)),e.isFamAlu||e.isBpastor&&!e.isAdmin?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:0},(0,o.pI)(e.turnoPorCursoGrupo,function(a,n){return(0,o.uX)(),(0,o.CE)(o.FK,{key:"C"+a.VACCOD},[a.SINCRONOGRAMA?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.CE)("div",ge,[(0,o.bF)(Sr,null,{default:(0,o.k6)(function(){return[(0,o.bF)(Dr,null,{default:(0,o.k6)(function(){return[(0,o.bF)(hr,{label:""},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(a.VACCOD),1)]}),_:2},1024)]}),_:2},1024),(0,o.bF)(gr,null,{default:(0,o.k6)(function(){return[(0,o.bF)(hr,{label:""},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(a.CURSODES),1)]}),_:2},1024),(0,o.bF)(hr,{sublabel:""},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(a.NOMCOMP_PROFESOR),1)]}),_:2},1024),(0,o.bF)(hr,{sublabel:""},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(a.HORARIO),1)]}),_:2},1024)]}),_:2},1024),a.SINCRONOGRAMA?((0,o.uX)(),(0,o.Wv)(Dr,{key:0},{default:(0,o.k6)(function(){return[(0,o.bF)(hr,{sublabel:""},{default:(0,o.k6)(function(){return t()(r[74]||(r[74]=[(0,o.eW)("El turno de inscripcion de este curso",-1),(0,o.Lk)("span",{style:{"font-weight":"bold",color:"#000"}},"Aun no ha sido programado",-1)]))}),_:1})]}),_:1})):((0,o.uX)(),(0,o.Wv)(Dr,{key:1},{default:(0,o.k6)(function(){return[(0,o.bF)(hr,{sublabel:""},{default:(0,o.k6)(function(){return[r[75]||(r[75]=(0,o.eW)("El turno de inscripcion de este curso",-1)),(0,o.Lk)("span",Se,(0,i.v_)(new Date>new Date(a.FECFIN)?"ya terminó":"aun no empieza"),1)]}),_:2},1024),(0,o.bF)(hr,{sublabel:""},{default:(0,o.k6)(function(){return[(0,o.eW)("inicio inscripcion: "+(0,i.v_)(e.getFechaHora(a.FECINI)),1)]}),_:2},1024),(0,o.bF)(hr,{sublabel:""},{default:(0,o.k6)(function(){return[(0,o.eW)("fin inscripcion: "+(0,i.v_)(e.getFechaHora(a.FECFIN)),1)]}),_:2},1024)]}),_:2},1024))]}),_:2},1024)]))],64)}),128)):(0,o.Q3)("v-if",!0)]}),_:2},1032,["label","onClick"])}),128))]}),_:1}))],64))]}),_:1})]}),_:1}))],64))]}),_:1})]}),_:1},8,["modelValue"]),(0,o.bF)(lr,{btnDisable:e.inProgress,escClick:!0,esc:!0,modelValue:e.confirmaPago,"onUpdate:modelValue":r[21]||(r[21]=function(r){return e.confirmaPago=r}),css:{"min-width":"600px","min-height":"250px"},title:"Pagar Cursos",ok:e.btnPagar,onSubmit:e.pagarCursos,icon_ok:"monetization_on"},{default:(0,o.k6)(function(){return[(0,o.bF)(br,{"inset-separator":""},{default:(0,o.k6)(function(){return[(0,o.bF)(Sr,null,{default:(0,o.k6)(function(){return[(0,o.bF)(Dr,null,{default:(0,o.k6)(function(){return[(0,o.bF)(hr)]}),_:1}),(0,o.bF)(Dr,{style:{width:"30px"}},{default:(0,o.k6)(function(){return[(0,o.bF)(hr,null,{default:(0,o.k6)(function(){return t()(r[76]||(r[76]=[(0,o.eW)("Cód",-1)]))}),_:1})]}),_:1}),(0,o.bF)(Dr,{style:{width:"300px"}},{default:(0,o.k6)(function(){return[(0,o.bF)(hr,null,{default:(0,o.k6)(function(){return t()(r[77]||(r[77]=[(0,o.eW)("Curso",-1)]))}),_:1})]}),_:1}),(0,o.bF)(Dr,{style:{width:"50px"}},{default:(0,o.k6)(function(){return[(0,o.bF)(hr,null,{default:(0,o.k6)(function(){return t()(r[78]||(r[78]=[(0,o.eW)("Mes",-1)]))}),_:1})]}),_:1}),e.isFamAlu?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.Wv)(Dr,{key:0,center:"",style:{width:"80px"}},{default:(0,o.k6)(function(){return[(0,o.bF)(hr,null,{default:(0,o.k6)(function(){return t()(r[79]||(r[79]=[(0,o.eW)("Desc",-1)]))}),_:1})]}),_:1})),(0,o.bF)(Dr,{center:"",style:{width:"110px"}},{default:(0,o.k6)(function(){return[(0,o.bF)(hr,null,{default:(0,o.k6)(function(){return t()(r[80]||(r[80]=[(0,o.eW)("Estado",-1)]))}),_:1})]}),_:1}),(0,o.bF)(Dr,{right:"",style:{width:"80px"}},{default:(0,o.k6)(function(){return[(0,o.bF)(hr,null,{default:(0,o.k6)(function(){return t()(r[81]||(r[81]=[(0,o.eW)("Monto",-1)]))}),_:1})]}),_:1}),e.tieneDescuento&&e.isFamAlu?((0,o.uX)(),(0,o.Wv)(Dr,{key:1,right:"",style:{width:"80px"}},{default:(0,o.k6)(function(){return[(0,o.bF)(hr,null,{default:(0,o.k6)(function(){return t()(r[82]||(r[82]=[(0,o.eW)("Desc",-1)]))}),_:1})]}),_:1})):(0,o.Q3)("v-if",!0)]}),_:1}),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.porCobrarAgrupado,function(a,n){return(0,o.uX)(),(0,o.Wv)(Sr,{key:a.VACCOD+""+a.MESCOB+a.ESTADO_DESCRIPCION,style:(0,i.Tr)(a.INSCRIPCION?"":"background: #eeeeee;")},{default:(0,o.k6)(function(){return[(0,o.bF)(Dr,null,{default:(0,o.k6)(function(){return[a.URL_PAGO||[6,3].includes(a.ESTADO)?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.Wv)(hr,{key:0},{default:(0,o.k6)(function(){return[(0,o.bF)(Rr,{modelValue:a.SELECTED,"onUpdate:modelValue":function(e){return a.SELECTED=e},val:a,color:"secondary",onInput:function(r){return e.calcularTotal(a)},disable:Boolean(a.FLAG_PAQUETE_FREC)||a.DISABLED},null,8,["modelValue","onUpdate:modelValue","val","onInput","disable"])]}),_:2},1024))]}),_:2},1024),(0,o.bF)(Dr,null,{default:(0,o.k6)(function(){return[(0,o.bF)(hr,{label:""},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(a.VACCOD),1)]}),_:2},1024)]}),_:2},1024),(0,o.bF)(gr,{style:{width:"300px"}},{default:(0,o.k6)(function(){return[(0,o.bF)(hr,{label:""},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(a.CURSODES),1)]}),_:2},1024),(0,o.bF)(hr,{label:""},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(a.GRUVADES),1)]}),_:2},1024),(0,o.bF)(hr,{sublabel:""},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(a.NOMCOMP),1)]}),_:2},1024),(0,o.bF)(hr,{sublabel:""},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(a.HORARIO),1)]}),_:2},1024),a.URL_PAGO?((0,o.uX)(),(0,o.Wv)(hr,{key:0,class:"item-cip",onClick:function(r){return e.openPagePago(a.URL_PAGO)}},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(a.HASH_PAGO?"":"CIP:")+" "+(0,i.v_)(a.CODIGO_PAGO),1)]}),_:2},1032,["onClick"])):(0,o.Q3)("v-if",!0)]}),_:2},1024),(0,o.bF)(Dr,{center:"",style:{width:"50px"}},{default:(0,o.k6)(function(){return[(0,o.bF)(hr,null,{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(e.getMesnom(a.MESCOB)),1)]}),_:2},1024)]}),_:2},1024),a.DISABLED||(e.isFamAlu||e.isBpastor)&&!e.isAdmin?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.Wv)(Dr,{key:0,style:{width:"80px"}},{default:(0,o.k6)(function(){return[a.URL_PAGO||"G"==a.TIPOCOB||a.FLAG_PAQUETE_FREC?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.Wv)(sr,{key:0,modelValue:a.MONTODES,"onUpdate:modelValue":function(e){return a.MONTODES=e},type:"number",label:"Descuento",onBlur:function(r){return e.validaDescuento(n)},disable:e.disableDescuento,onInput:e.calcularTotal},null,8,["modelValue","onUpdate:modelValue","onBlur","disable","onInput"]))]}),_:2},1024)),a.ID_INSCRIPCION_DETALLE?((0,o.uX)(),(0,o.Wv)(Dr,{key:1,center:"",style:{width:"110px"}},{default:(0,o.k6)(function(){return[(0,o.bF)(hr,{sublabel:"",style:{color:"#1982d5"}},{default:(0,o.k6)(function(){return t()(r[83]||(r[83]=[(0,o.eW)("Inscrito",-1)]))}),_:1}),(0,o.bF)(hr,{class:(0,i.C4)(a.ESTADO_DESCRIPCION)},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)("PENDIENTE"===a.ESTADO_DESCRIPCION?"POR PAGAR":a.ESTADO_DESCRIPCION),1)]}),_:2},1032,["class"])]}),_:2},1024)):(0,o.Q3)("v-if",!0),a.FLAG_PAQUETE_FREC?((0,o.uX)(),(0,o.Wv)(Dr,{key:2,style:{width:"80px"}},{default:(0,o.k6)(function(){return[(0,o.bF)(hr,null,{default:(0,o.k6)(function(){return t()(r[84]||(r[84]=[(0,o.eW)("En paquete",-1)]))}),_:1})]}),_:1})):((0,o.uX)(),(0,o.Wv)(Dr,{key:3,right:"",style:{width:"80px"}},{default:(0,o.k6)(function(){return[(0,o.bF)(hr,null,{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(a.MONSIG+" "+(a.MONTO||0)),1)]}),_:2},1024)]}),_:2},1024)),e.tieneDescuento?((0,o.uX)(),(0,o.Wv)(Dr,{key:4,right:"",style:{width:"80px"}},{default:(0,o.k6)(function(){return[e.isFamAlu&&a.MONTODES?((0,o.uX)(),(0,o.CE)("span",be,(0,i.v_)(a.MONSIG+" "+a.MONTODES),1)):(0,o.Q3)("v-if",!0)]}),_:2},1024)):(0,o.Q3)("v-if",!0)]}),_:2},1032,["style"])}),128))]}),_:1}),(0,o.Lk)("div",ve,"TOTAL: "+(0,i.v_)(e.porCobrar[0]?e.porCobrar[0].MONSIG+". ":"S/")+" "+(0,i.v_)("number"==typeof e.totalPorCobrar?e.totalPorCobrar.toFixed(2):e.totalPorCobrar),1),"0258"==e.colcod?((0,o.uX)(),(0,o.CE)("div",Re,t()(r[85]||(r[85]=[(0,o.Lk)("div",{class:"text-black q-title q-pa-md"},"TERMINOS Y CONDICIONES:",-1),(0,o.Lk)("div",{class:"text-black q-pa-md"},[(0,o.eW)("Realizando el pago dejo constancia de haber leído y aceptado lo mencionado en el documento de"),(0,o.Lk)("a",{href:"https://drive.google.com/file/d/1l7JHpdGDcY62kYw4RdmQO4PDZ2Ky7-vK/view",target:"_blank"},"CONDICIONES PARA EL PROGRAMA DE ACADEMIAS DEPORTIVAS")],-1)])))):(0,o.Q3)("v-if",!0),"0304"==e.colcod?((0,o.uX)(),(0,o.CE)("div",Ne,t()(r[86]||(r[86]=[(0,o.Lk)("div",{class:"text-black q-title q-pa-md"},"TERMINOS Y CONDICIONES:",-1),(0,o.Lk)("div",{class:"text-black q-pa-md"},[(0,o.eW)("He leído y acepto el reglamento general, los datos y condiciones de talleres de verano 2025 ."),(0,o.Lk)("a",{href:" https://drive.google.com/drive/folders/1us62dd2C3aPLR06-MIr6Bn1G6nEeqKqY?usp=sharing",target:"_blank"},"CONDICIONES PARA EL PROGRAMA DE ACADEMIAS DEPORTIVAS")],-1)])))):(0,o.Q3)("v-if",!0),e.isFamAlu&&e.tieneDescuento&&!e.V_OPENPAY&&!e.V_PAGO_EFECTIVO?((0,o.uX)(),(0,o.CE)("div",_e,[e.mostrarTextoAcercarseACaja?((0,o.uX)(),(0,o.CE)("div",Te,"Para finalizar el proceso le solicitamos que se acerque a caja para para proceder con el pago correspondiente.")):(0,o.Q3)("v-if",!0)])):(0,o.Q3)("v-if",!0)]}),_:1},8,["btnDisable","modelValue","ok","onSubmit"]),(0,o.bF)(lr,{modelValue:e.modalMisCursos,"onUpdate:modelValue":r[23]||(r[23]=function(r){return e.modalMisCursos=r}),escClick:!0,esc:!0,css:{"min-width":"600px","min-height":"250px"},title:"Mis Cursos",ok:"Anular",onSubmit:e.anular,icon_ok:"block"},{default:(0,o.k6)(function(){return[(0,o.bF)(br,{"inset-separator":""},{default:(0,o.k6)(function(){return[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.cursosInscritos,function(a,n){return(0,o.uX)(),(0,o.Wv)(Sr,{key:a.VACCOD},{default:(0,o.k6)(function(){return[(0,o.bF)(Dr,null,{default:(0,o.k6)(function(){return[!a.URL_PAGO||[2].includes(a.ESTADO)?((0,o.uX)(),(0,o.Wv)(hr,{key:0},{default:(0,o.k6)(function(){return[(0,o.bF)(Rr,{modelValue:a.SELECTED,"onUpdate:modelValue":function(e){return a.SELECTED=e},val:a,color:"secondary",onInput:r[22]||(r[22]=function(r){return e.marcar(e.porCobrar)})},null,8,["modelValue","onUpdate:modelValue","val"])]}),_:2},1024)):(0,o.Q3)("v-if",!0)]}),_:2},1024),(0,o.bF)(Dr,null,{default:(0,o.k6)(function(){return[(0,o.bF)(hr,{label:""},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(a.VACCOD),1)]}),_:2},1024)]}),_:2},1024),(0,o.bF)(gr,null,{default:(0,o.k6)(function(){return[(0,o.bF)(hr,{label:""},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(a.CURSODES),1)]}),_:2},1024),(0,o.bF)(hr,{sublabel:""},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(a.NOMCOMP),1)]}),_:2},1024),(0,o.bF)(hr,{sublabel:""},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(a.HORARIO),1)]}),_:2},1024),a.URL_PAGO?((0,o.uX)(),(0,o.Wv)(hr,{key:0,class:"item-cip",onClick:function(r){return e.openPagePago(a.URL_PAGO)}},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(a.HASH_PAGO?"":"CIP:")+" "+(0,i.v_)(a.CODIGO_PAGO),1)]}),_:2},1032,["onClick"])):(0,o.Q3)("v-if",!0)]}),_:2},1024),(0,o.bF)(Dr,null,{default:(0,o.k6)(function(){return[(0,o.bF)(hr,{class:(0,i.C4)(a.ESTADO_DESCRIPCION)},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(a.ESTADO_DESCRIPCION),1)]}),_:2},1032,["class"])]}),_:2},1024),(0,o.bF)(Dr,{style:{width:"40px"}},{default:(0,o.k6)(function(){return[(0,o.bF)(hr,null,{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(a.MONSIG+" "+a.MONTO),1)]}),_:2},1024)]}),_:2},1024)]}),_:2},1024)}),128))]}),_:1})]}),_:1},8,["modelValue","onSubmit"]),(0,o.bF)(lr,{class:"cip-modal",modelValue:e.modalCip,"onUpdate:modelValue":r[25]||(r[25]=function(r){return e.modalCip=r}),escClick:!0,esc:!0,css:{"min-width":"700px","min-height":"700px"},header:!1,column:"",footer:!1,ok:!1},{default:(0,o.k6)(function(){return[(0,o.bF)(Tr,{class:"col",src:e.frameUrl},null,8,["src"]),(0,o.bF)(mr,{class:"absolute-top-right bg-white text-black",icon:"close",round:"",style:{"margin-right":"10px","margin-top":"10px"},size:"sm",onClick:r[24]||(r[24]=function(r){return e.modalCip=!1})})]}),_:1},8,["modelValue"]),(0,o.bF)(lr,{modelValue:e.modalAdicional,"onUpdate:modelValue":r[28]||(r[28]=function(r){return e.modalAdicional=r}),escClick:!0,esc:!0,css:{"min-width":"600px","min-height":"250px"},title:"Datos Adicionales",ok:"aceptar",onSubmit:e.grabarCursos},{default:(0,o.k6)(function(){return[["0090","0437"].includes(e.sie.colcod)?((0,o.uX)(),(0,o.CE)("div",ke,[(0,o.Lk)("div",Pe,[(0,o.bF)(s,{type:"outlined",modelValue:e.colegioProcedencia,"onUpdate:modelValue":r[26]||(r[26]=function(r){return e.colegioProcedencia=r}),val:"SECUCOD",label:"SECUDES",options:e.colegiosDeProcendecia,placeholder:"Institución de procedencia"},null,8,["modelValue","options"])])])):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.Lk)("div",Fe,[(0,o.Lk)("div",we,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.objEnviar,function(r,a){return(0,o.uX)(),(0,o.Wv)(Sr,{key:r.VACCOD,class:"col-xs-12",style:{"border-bottom":"solid 1px #bababa"}},{default:(0,o.k6)(function(){return[(0,o.bF)(gr,null,{default:(0,o.k6)(function(){return[(0,o.bF)(hr,{label:""},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(r.CURSODES),1)]}),_:2},1024)]}),_:2},1024),(0,o.bF)(Dr,{class:"row",style:{width:"200px"}},{default:(0,o.k6)(function(){return[r.REGLAMENTO?((0,o.uX)(),(0,o.Wv)(mr,{key:0,class:"full-width",size:"xs",color:"primary",onClick:function(a){return e.imprimirListaUtiles(r.REGLAMENTO)},label:"Reglamento",icon:"documents"},null,8,["onClick"])):(0,o.Q3)("v-if",!0)]}),_:2},1024)]}),_:2},1024)}),128))])]),(0,o.Lk)("div",Ue,[(0,o.bo)((0,o.Lk)("div",Le,[(0,o.Lk)("div",{class:(0,i.C4)(["flecha q-pl-md",{caida:e.noacepta}])},t()(r[87]||(r[87]=[(0,o.Lk)("div",{class:"cola"},null,-1),(0,o.Lk)("div",{class:"cabeza"},null,-1)])),2)],512),[[l.aG,e.noacepta]])]),(0,o.Lk)("div",Me,[(0,o.bF)(Rr,{class:"zi-3 q-pa-md bg-white",modelValue:e.aceptaTerminos,"onUpdate:modelValue":r[27]||(r[27]=function(r){return e.aceptaTerminos=r}),onInput:e.checkAceptaTerminos},{default:(0,o.k6)(function(){return t()(r[88]||(r[88]=[(0,o.Lk)("span",{class:"q-pa-xs"},"Al inscribirse, acepta haber leído los términos y condiciones que se encuentran en el reglamento.",-1)]))}),_:1},8,["modelValue","onInput"])])],64))]}),_:1},8,["modelValue","onSubmit"]),(0,o.bF)(lr,{modelValue:e.modalCarrito,"onUpdate:modelValue":r[29]||(r[29]=function(r){return e.modalCarrito=r}),escClick:!0,esc:!0,css:{"min-width":"600px","min-height":"250px"},title:"Grabar Cursos",ok:"grabar",onSubmit:e.grabarCursos},{default:(0,o.k6)(function(){return[(0,o.bF)(br,{"inset-separator":""},{default:(0,o.k6)(function(){return[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.objEnviar,function(a,n){return(0,o.uX)(),(0,o.Wv)(Sr,{key:n},{default:(0,o.k6)(function(){return[(0,o.bF)(Dr,null,{default:(0,o.k6)(function(){return[(0,o.bF)(hr,{label:""},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(a.VACCOD),1)]}),_:2},1024)]}),_:2},1024),(0,o.bF)(gr,null,{default:(0,o.k6)(function(){return[(0,o.bF)(hr,{label:""},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(a.CURSODES),1)]}),_:2},1024),(0,o.bF)(hr,{sublabel:""},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(a.NOMCOMP),1)]}),_:2},1024),(0,o.bF)(hr,{sublabel:""},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(a.HORARIO),1)]}),_:2},1024),a.URL_PAGO?((0,o.uX)(),(0,o.Wv)(hr,{key:0,class:"item-cip",onClick:function(r){return e.openPagePago(a.URL_PAGO)}},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(a.HASH_PAGO?"":"CIP:")+" "+(0,i.v_)(a.CODIGO_PAGO),1)]}),_:2},1032,["onClick"])):(0,o.Q3)("v-if",!0)]}),_:2},1024),a.ID_INSCRIPCION_DETALLE?((0,o.uX)(),(0,o.Wv)(Dr,{key:0,right:""},{default:(0,o.k6)(function(){return[(0,o.bF)(hr,null,{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(a.MONSIG+" "+a.MONTO),1)]}),_:2},1024),(0,o.bF)(hr,{sublabel:"",style:{color:"#1982d5"}},{default:(0,o.k6)(function(){return t()(r[89]||(r[89]=[(0,o.eW)("Inscrito",-1)]))}),_:1})]}),_:2},1024)):((0,o.uX)(),(0,o.Wv)(Dr,{key:1,right:""},{default:(0,o.k6)(function(){return[(0,o.bF)(hr,null,{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(a.MONSIG+" "+a.MONTO),1)]}),_:2},1024)]}),_:2},1024)),(0,o.bF)(Dr,{style:{width:"28px"}},{default:(0,o.k6)(function(){return[a.URL_PAGO?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.Wv)(hr,{key:0,class:"cursor-pointer",right:"",icon:"delete",color:"primary",onClick:function(r){return e.quitarCurso(n)}},null,8,["onClick"]))]}),_:2},1024)]}),_:2},1024)}),128))]}),_:1})]}),_:1},8,["modelValue","onSubmit"]),(0,o.bF)(lr,{modelValue:e.modalPagoTalleres,"onUpdate:modelValue":r[31]||(r[31]=function(r){return e.modalPagoTalleres=r}),title:"Pago por Caja",css:{"max-width":"800px"},footer:!1},{default:(0,o.k6)(function(){return[e.isFamAlu?((0,o.uX)(),(0,o.CE)("p",ye,"Debe acercarse a caja para pagar sus cursos")):((0,o.uX)(),(0,o.Wv)(kr,{key:1,idPerfil:e.alumnoSeleccionado.ID_PERFIL,periodoProp:e.duracod,idPersona:e.alumnoSeleccionado.ID_PERSONA,anoIngreso:a.alumnoSeleccionado.ANOING,onSubmit:r[30]||(r[30]=function(r){return e.modalPagoTalleres=!1}),enModal:!0,onFinalizaPago:e.finalizaPago},null,8,["idPerfil","periodoProp","idPersona","anoIngreso","onFinalizaPago"]))]}),_:1},8,["modelValue"]),(0,o.bF)(Fr,{modelValue:e.modalPagar,"onUpdate:modelValue":r[35]||(r[35]=function(r){return e.modalPagar=r}),ok:"Cerrar"},{title:(0,o.k6)(function(){return t()(r[90]||(r[90]=[(0,o.Lk)("span",null,"Elija Método de pago",-1)]))}),body:(0,o.k6)(function(){return[(0,o.Lk)("div",He,[!e.V_PAGO_EFECTIVO||"0017"!==e.pas_pag&&""!==e.pas_pag?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.CE)("div",Ge,[(0,o.Lk)("div",{class:"cursor-pointer rounded-borders shadow-2 flex flex-center",onClick:r[32]||(r[32]=function(){return e.selectApiPagoEfectivo&&e.selectApiPagoEfectivo.apply(e,arguments)}),style:{width:"350px",height:"120px",padding:"16px"}},t()(r[91]||(r[91]=[(0,o.Lk)("img",{src:c(),alt:"Logo PagoEfectivo",style:{"max-width":"100%","max-height":"120px","object-fit":"contain"}},null,-1)]))),r[92]||(r[92]=(0,o.Lk)("p",{class:"q-mt-sm text-center text-weight-medium"},"Código de Pago (CIP)",-1))])),!e.V_OPENPAY||"0019"!==e.pas_pag&&""!==e.pas_pag?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.CE)("div",qe,[(0,o.Lk)("div",{class:"cursor-pointer rounded-borders shadow-2 flex flex-center",onClick:r[33]||(r[33]=function(){return e.selectApiOpenpay&&e.selectApiOpenpay.apply(e,arguments)}),style:{width:"350px",height:"120px",padding:"16px"}},t()(r[93]||(r[93]=[(0,o.Lk)("img",{src:d(),alt:"Logo OpenPay",style:{"max-width":"100%","max-height":"120px","object-fit":"contain"}},null,-1)]))),r[94]||(r[94]=(0,o.Lk)("p",{class:"q-mt-sm text-center text-weight-medium"},"Pago con Tarjeta",-1))])),e.showPagoPorCaja?((0,o.uX)(),(0,o.CE)("div",Ve,[(0,o.Lk)("div",{class:"cursor-pointer rounded-borders shadow-2 column items-center justify-center",onClick:r[34]||(r[34]=function(){return e.selectPagoPorCaja&&e.selectPagoPorCaja.apply(e,arguments)}),style:{width:"350px",height:"120px",padding:"16px"}},[(0,o.Lk)("div",xe,[r[95]||(r[95]=(0,o.Lk)("span",{class:"q-mt-sm text-center text-weight-bold text-positive text-h3"},"CAJA",-1)),(0,o.bF)(Pr,{name:"pay",size:"90px",color:"positive"})])]),r[96]||(r[96]=(0,o.Lk)("p",{class:"q-mt-sm text-center text-weight-medium"},"Pago Por Caja",-1))])):(0,o.Q3)("v-if",!0)])]}),_:1},8,["modelValue"]),(0,o.bF)(lr,{modelValue:e.modalTipoAnulacion,"onUpdate:modelValue":r[38]||(r[38]=function(r){return e.modalTipoAnulacion=r}),title:"Tipo anulación de inscripción",css:{"max-width":"800px"},ok:"Aceptar",onSubmit:e.generarTipoAnulacion},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",Qe,[(0,o.Lk)("div",Xe,[(0,o.bF)(wr,{modelValue:e.tipoAnulacion,"onUpdate:modelValue":r[36]||(r[36]=function(r){return e.tipoAnulacion=r}),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"NC",label:"Nota de Crédito"},null,8,["modelValue"]),(0,o.bF)(wr,{modelValue:e.tipoAnulacion,"onUpdate:modelValue":r[37]||(r[37]=function(r){return e.tipoAnulacion=r}),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"AC",label:"Anular Comprobante"},null,8,["modelValue"])])])]}),_:1},8,["modelValue","onSubmit"]),(0,o.bF)(lr,{modelValue:e.modalNotaCredito,"onUpdate:modelValue":r[42]||(r[42]=function(r){return e.modalNotaCredito=r}),title:"Nota de Credito",css:{"max-width":"800px"},ok:"Anular",onSubmit:e.anularCursoPagado},{default:(0,o.k6)(function(){return[(0,o.bF)(sr,{class:"q-pa-sm q-if-outlined col-xs-6 col-sm-4",modelValue:e.formNC.NUMPAG,"onUpdate:modelValue":r[39]||(r[39]=function(r){return e.formNC.NUMPAG=r}),type:"text",label:"Num Pago",disable:!0},null,8,["modelValue"]),(0,o.Lk)("div",Be,[(0,o.bF)(cr,{class:"col",icon:"calendar"},{default:(0,o.k6)(function(){return[(0,o.bF)(pr,{class:"col q-if-outlined",modelValue:e.formNC.FECEMI,"onUpdate:modelValue":r[40]||(r[40]=function(r){return e.formNC.FECEMI=r}),format:"DD/MM/YYYY","float-label":"Fecha:"},null,8,["modelValue"])]}),_:1})]),(0,o.bF)(sr,{class:"q-if-outlined col-xs-6 col-sm-4",modelValue:e.formNC.MONTO,"onUpdate:modelValue":r[41]||(r[41]=function(r){return e.formNC.MONTO=r}),type:"number",label:"Monto",onInput:e.validaMonto},null,8,["modelValue","onInput"])]}),_:1},8,["modelValue","onSubmit"]),(0,o.bF)(lr,{modelValue:e.modalCambiarTaller,"onUpdate:modelValue":r[49]||(r[49]=function(r){return e.modalCambiarTaller=r}),title:"Cambiar Curso",css:{"max-width":"800px"},ok:"Cambiar",onSubmit:e.cambiarCursoTaller},{default:(0,o.k6)(function(){return[(0,o.bF)(s,{type:"outlined",modelValue:e.duracod,"onUpdate:modelValue":r[43]||(r[43]=function(r){return e.duracod=r}),val:"CURSOCOD",label:"CURSODES",options:e.cursosCambio,readonly:!1,placeholder:"Elegir Curso",onInput:e.cambiarTaller},null,8,["modelValue","options","onInput"]),(0,o.bF)(sr,{class:"q-pa-sm q-if-outlined col-xs-6 col-sm-4",modelValue:e.formCamb.COBRO,"onUpdate:modelValue":r[44]||(r[44]=function(r){return e.formCamb.COBRO=r}),type:"text",label:"Tipo de cobro",disable:!0},null,8,["modelValue"]),(0,o.Lk)("div",je,[(0,o.bF)(cr,{class:"col"},{default:(0,o.k6)(function(){return[(0,o.bF)(pr,{class:"col q-if-outlined",modelValue:e.formCamb.FECINI,"onUpdate:modelValue":r[45]||(r[45]=function(r){return e.formCamb.FECINI=r}),format:"DD/MM/YYYY","float-label":"Fecha de Inicio",disable:!0},null,8,["modelValue"]),(0,o.bF)(pr,{class:"col q-if-outlined",modelValue:e.formCamb.FECFIN,"onUpdate:modelValue":r[46]||(r[46]=function(r){return e.formCamb.FECFIN=r}),format:"DD/MM/YYYY","float-label":"Fecha de Fin",disable:!0},null,8,["modelValue"])]}),_:1})]),(0,o.bF)(sr,{class:"q-if-outlined col-xs-6 col-sm-4",modelValue:e.formCamb.DISPONIBLES,"onUpdate:modelValue":r[47]||(r[47]=function(r){return e.formCamb.DISPONIBLES=r}),type:"number",label:"Vacantes",disable:!0},null,8,["modelValue"]),(0,o.bF)(sr,{class:"q-if-outlined col-xs-6 col-sm-4",modelValue:e.formCamb.MONTOCUR,"onUpdate:modelValue":r[48]||(r[48]=function(r){return e.formCamb.MONTOCUR=r}),type:"number",label:"Monto",disable:!0},null,8,["modelValue"])]}),_:1},8,["modelValue","onSubmit"]),(0,o.bF)(Lr,{modelValue:e.modalPersona,"onUpdate:modelValue":r[50]||(r[50]=function(r){return e.modalPersona=r}),persistent:""},{default:(0,o.k6)(function(){return[(0,o.bF)(Ur,{onCloseModal:e.closeModalFormPersona,submitButtonName:"Agregar Familiar",registroInterno:!0,idPersona:e.idPersona,headerText:"Registrar datos del familiar"},null,8,["onCloseModal","idPersona"])]}),_:1},8,["modelValue"]),(0,o.bF)(lr,{btnDisable:e.inProgress,escClick:!0,esc:!0,modelValue:e.openModalPaqueteSemanas,"onUpdate:modelValue":r[51]||(r[51]=function(r){return e.openModalPaqueteSemanas=r}),css:{"min-width":"600px","min-height":"250px"},title:"Seleccione el tiempo que desea llevar los paquetes seleccionados",ok:"Continuar",onSubmit:e.inscribirPaqueteSemanas},{default:(0,o.k6)(function(){return[(0,o.bF)(Mr,{ref:"refElegirPaqueteSemanas",talleres:e.objEnviar,"nivel-paquete":e.nivelPaquete,inscritos:e.inscritos,isFamAlu:e.isFamAlu,onPaqueteSemanasFueSeleccionado:e.paqueteSemanasFueSeleccionado},null,8,["talleres","nivel-paquete","inscritos","isFamAlu","onPaqueteSemanasFueSeleccionado"])]}),_:1},8,["btnDisable","modelValue","onSubmit"]),(0,o.bF)(lr,{modelValue:e.modalComprobantes,"onUpdate:modelValue":r[52]||(r[52]=function(r){return e.modalComprobantes=r}),esc:"","esc-click":"",title:"Pago(s) Inscripción",ok:!1,footer:!1},{default:(0,o.k6)(function(){return[e.dataComprobantes.length?((0,o.uX)(),(0,o.CE)("div",$e,[(0,o.Lk)("div",Ye,[(0,o.bF)(u,{"show-search":!1,ref:"tablaComprobante",columns:e.fieldsComprobantes,data:e.dataComprobantes,context:a,config:e.config,"show-footer":!1,css:{height:"calc(100vh - 210px)"}},null,8,["columns","data","config"])])])):((0,o.uX)(),(0,o.CE)("span",We,"No hay pago realizado"))]}),_:1},8,["modelValue"]),(0,o.bF)(lr,{modelValue:e.modalComprobantesAnular,"onUpdate:modelValue":r[53]||(r[53]=function(r){return e.modalComprobantesAnular=r}),esc:"","esc-click":"",title:"NC"===e.tipoAnulacion?"Nota de crédito":"Anular comprobante",ok:"Aceptar",onSubmit:e.generarTipoAnulacionConDeuda},{default:(0,o.k6)(function(){return[e.dataComprobantesAnular.length?((0,o.uX)(),(0,o.CE)("div",ze,[(0,o.Lk)("div",Je,[(0,o.bF)(u,{"show-search":!1,ref:"tablaComprobanteAnular",columns:e.fieldsComprobantesAnular,data:e.dataComprobantesAnular,context:a,config:e.configComprobanteAnular,"show-footer":!1,css:{height:"calc(100vh - 210px)"},"load-selection":e.loadSelectComprobanteAnular,onRowSelected:e.selectedComprobanteAnular},null,8,["columns","data","config","load-selection","onRowSelected"])])])):(0,o.Q3)("v-if",!0)]}),_:1},8,["modelValue","title","onSubmit"]),(0,o.bF)(lr,{modelValue:e.modalTerminoCondiciones,"onUpdate:modelValue":r[55]||(r[55]=function(r){return e.modalTerminoCondiciones=r}),"no-close":"","esc-click":"",esc:"",title:"Términos y condiciones",css:{"max-width":"800px"},ok:"Aceptar",onSubmit:e.aceptarDatosPrograma},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",Ke,[(0,o.Lk)("div",Ze,[r[97]||(r[97]=(0,o.Lk)("p",null,"Declaro haber leído y aceptado los términos y condiciones.",-1)),r[98]||(r[98]=(0,o.Lk)("p",null,"Para mayor información, puede consultar el siguiente enlace:",-1)),(0,o.Lk)("p",null,[(0,o.Lk)("a",{href:e.terminosCondiciones,target:"_blank"},(0,i.v_)(e.terminosCondiciones),9,er)])]),(0,o.Lk)("div",rr,[(0,o.bF)(Rr,{modelValue:e.checkTerminosCondiciones,"onUpdate:modelValue":r[54]||(r[54]=function(r){return e.checkTerminosCondiciones=r}),label:"Acepto los términos y condiciones",color:e.checkTerminosCondiciones?"grey-13":"secondary","true-value":!0,"false-value":!1},null,8,["modelValue","color"])])])]}),_:1},8,["modelValue","onSubmit"]),(0,o.bF)(lr,{modelValue:e.modalDeclaracionJurada,"onUpdate:modelValue":r[56]||(r[56]=function(r){return e.modalDeclaracionJurada=r}),"no-close":"","esc-click":"",esc:"",title:"0057"===e.sie.colcod?"Recomendaciones":"Declaración Jurada",css:{"max-width":"800px"},ok:"Aceptar",onSubmit:e.aceptarDatosPrograma},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",ar,[(0,o.Lk)("div",nr,[(0,o.bF)(yr,{src:e.msgDeclaracionJurada},null,8,["src"])]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.talleresConDeclaracionJurada,function(r){return(0,o.uX)(),(0,o.CE)("div",{class:"col-xs-12 cursor-pointer text-primary",onClick:function(a){return e.imprimirDeclaracionJurada(r)}},[(0,o.Lk)("div",or,[(0,o.Lk)("div",ir,[(0,o.Lk)("span",null,(0,i.v_)(r.CURSODES),1)]),(0,o.bF)(Rr,{modelValue:r.checkDeclaracionJurada,"onUpdate:modelValue":function(e){return r.checkDeclaracionJurada=e},color:e.checkTerminosCondiciones?"grey-13":"secondary","true-value":!0,"false-value":!1,disable:""},null,8,["modelValue","onUpdate:modelValue","color"])])],8,tr)}),256))])]}),_:1},8,["modelValue","title","onSubmit"])]}),_:1})}var sr=a(14794),cr=a.n(sr),ur=a(41562),dr=a.n(ur),fr=a(76080),Cr=a.n(fr),pr=a(57008),Or=a.n(pr),mr=a(45254),Ir=a.n(mr),Ar=(a(12563),a(71225),a(74260),a(46723),a(23825),a(77507),a(52133),a(10239),a(23513),a(89571),a(10560),a(50310),a(5962),a(32203),a(71308),a(90095),a(6724),a(9240),a(70199),a(11777),a(515),a(83190),a(52776),a(84433),a(62692),a(66307),a(2369),a(81813),a(43851),a(7346),a(13715),a(24066),a(6123)),Er=a(21103),hr=a(53811),Dr=a(43346),gr=a(11654),Sr=a(9736),br=a(16648),vr=a(88567),Rr=a(95718),Nr=a(80340),_r=a(57668),Tr=a(65229),kr=a(982),Pr=a(92173),Fr=a(2819),wr=a(30640),Ur=a(93616),Lr=a(88865),Mr=a(24974),yr=a(56089),Hr=a(14667),Gr=a(65639),qr=a(41615),Vr=a(99550),xr=a.n(Vr),Qr=a(63053),Xr=a.n(Qr),Br=(a(25751),a(56567),a(68017),a(20361),a(18105)),jr={data:function(){return{config:{ACTION:{component:"button",icon:["daily_calendar as horario","daily_calendar as horarioFrec","timer_off as finalizar","block","contact_card as print1","print as print2","documents as utiles","documents as reglamento","apps_line as sticker","pay as pagoAlProfesor"],finalizar:function(e){this.openModalFinalizar=!0,this.rowTaller=e},block:function(e){6!==e.ESTADO?(this.tipoAnulacion="NC",["0032"].includes((0,_r["default"])().colcod)?(delete e.NUMPAG,this.anularCurso(null,e)):e.NUMPAG&&e.NUMTAL||e.COMPROBANTES&&e.COMPROBANTES.length?(this.rowTaller=e,this.modalTipoAnulacion=!0):this.anularCurso(null,e)):this.$notify("Por favor revertir la exoneración para poder anular la inscripción","info")},utiles:function(e){this.imprimirListaUtiles(e.UTILES)},reglamento:function(e){this.imprimirListaUtiles(e.REGLAMENTO)},print1:function(e){this.imprimirCarnet(e)},print2:function(e){this.imprimir(e)},sticker:function(e){this.imprimirSticker(e)},horario:function(e,r){var a=this;return Ir()(Cr()().m(function n(){var t,o,i,l,s,c,u,d,f,C,p;return Cr()().w(function(n){while(1)switch(n.n){case 0:return a.currentCurso=r,t=e.DURACOD,o=e.GRUVACOD,i=e.ANO,l=a.alumnoElegido,s=l.FECHA_NACIMIENTO,c=l.ID_PERFIL,u=l.NGS,d=(u||"").slice(0,2),f={duracod:t,gruvacod:o,ano:i,ng:d,fecnac:s,idPerfil:c,vistaalumno:!1},a.openModalCambiarHorario=!0,n.n=1,a.$http.get("api/CtCursoPeriodoController/getCursoPeriodoporAlumno",{params:{params:f}});case 1:C=n.v,p=[],C.map(function(r){r.VACCOD===e.VACCOD&&p.push(r.VACCOD)}),a.loadDisabled.values=p,a.rowsCambioHorarios=C.filter(function(r){return e.MONTOCUR===r.MONTOCUR&&r.DISPONIBLES>0}),a.rowsCambioHorarios=a.rowsCambioHorarios.sort(function(e,r){return e.ID_CURSO_PERIODO-r.ID_CURSO_PERIODO||e.TURNO-r.TURNO});case 2:return n.a(2)}},n)}))()},horarioFrec:function(e,r){var a=this;return Ir()(Cr()().m(function n(){return Cr()().w(function(n){while(1)switch(n.n){case 0:a.initCambioHorarioFrec(e,r);case 1:return n.a(2)}},n)}))()},pagoAlProfesor:function(e){var r=this;return Ir()(Cr()().m(function a(){return Cr()().w(function(a){while(1)switch(a.n){case 0:r.$confirm("¿Realmente desea confirmar el pago del taller ".concat(e.CURSODES,"?"),"info").onOk(Ir()(Cr()().m(function a(){var n,t;return Cr()().w(function(a){while(1)switch(a.n){case 0:return n={datos:{ESTADO:2},where:{ID_INSCRIPCION_DETALLE:e.ID_INSCRIPCION_DETALLE}},a.n=1,r.$http.put("api/InscripcionController/putCtInscripcionDetalle",{params:n});case 1:return t={id_persona:r.alumnoSeleccionado.ID_PERSONA,alucod:r.alumnoSeleccionado.ALUCOD||r.alumnoSeleccionado.CODIGO,duracod:r.duracod,ano:r.sie.ano},a.n=2,r.getCursosPorCobrar(t);case 2:r.objEnviar=a.v,r.$notify("Pago realizado satisfactoriamente","success");case 3:return a.a(2)}},a)})));case 1:return a.a(2)}},a)}))()},tooltip:{block:"Anular Inscripción",sticker:"Imprimir Sticker",print1:"Imprimir Carnet",print2:"Imprimir Constancia",horario:"Cambiar de Horario",horarioFrec:"Cambiar de Horario (Frec.)",finalizar:"Finalizar Taller",reglamento:"Reglamento",utiles:"Lista de Útiles",pagoAlProfesor:"Pago al profesor"},permisos:{block:"> 1",horario:"> 2",horarioFrec:"> 2"},validate:{finalizar:function(e){return![5,7].includes(e.ESTADO)&&!this.isFamAlu},block:function(e){var r=this.isFamAlu&&this.ANULACIONRESTRINGIDA&&(this.sinTurnoInscripcion||this.turnoAunNoEmpieza),a=!["0057","0110"].includes(this.sie.colcod)&&this.isFamAlu,n=!r&&this.isFamAlu&&2!==e.ESTADO&&!e.URL_PAGO&&a;return![5,7].includes(e.ESTADO)&&(n||!this.isFamAlu)},print1:function(e){var r=this.sie.origin,a=["https://santisimo-talleres.sieweb.com.pe"],n=![5,7].includes(e.ESTADO)&&(this.isFamAlu&&[2,3].includes(e.ESTADO)||!this.isFamAlu);return!a.includes(r)&&n},sticker:function(e){var r=this.sie.origin,a=["https://santisimo-talleres.sieweb.com.pe"],n=![5,7].includes(e.ESTADO)&&(this.isFamAlu&&2===e.ESTADO||!this.isFamAlu);return!a.includes(r)&&n},print2:function(e){var r=this.sie.origin,a=["https://santisimo-talleres.sieweb.com.pe"],n=this.mostrarConstancia&&![5,7].includes(e.ESTADO);return!a.includes(r)&&n},reglamento:function(e){return!!e.REGLAMENTO},utiles:function(e){return!!e.UTILES},horario:function(e){var r=!e.URL_PAGO,a=e.URL_PAGO&&2===e.ESTADO;return!this.ocultarCambioHorario()&&[1,2,3].includes(e.ESTADO)&&!e.FLAG_FREC_DIAS&&!e.FLAG_PAQUETE_FREC&&(r||a||!this.nuevaVistaTalleres)},horarioFrec:function(e){var r=!e.URL_PAGO,a=e.URL_PAGO&&2===e.ESTADO,n=e.ID_TIPO_SERVICIO===this.tipoServicio.taller;return!this.ocultarCambioHorario()&&n&&[1,2,3].includes(e.ESTADO)&&e.FLAG_FREC_DIAS&&(r||a||this.nuevaVistaTalleres)},pagoAlProfesor:function(e){var r=e.NOMCOMP===this.sie.nombre;return["0098"].includes(this.sie.colcod)&&1===e.ESTADO&&r}},flat:!0,size:"12px"},CURSODES:{renderHtml:function(e,r,a){var n=[],t="",o="";if(e.FLAG_PAQUETE_FREC){var i,l=dr()(e.GROUP);try{for(l.s();!(i=l.n()).done;){var s=i.value;n.push(r("div",{class:"col-12 bold"},s.CURSODES)),t+=s.CURSODES+"\n";var c,u=dr()(s.PAQUETE);try{for(u.s();!(c=u.n()).done;){var d=c.value;n.push(r("div",{class:"col-12"},d.CURSODES+" : "+d.HORARIO)),o+=d.CURSODES+" : "+d.HORARIO+"\n"}}catch(e){u.e(e)}finally{u.f()}}}catch(e){l.e(e)}finally{l.f()}}else n=[r("div",{class:"col-12"},e.CURSODES)];var f=[e.FLAG_PAQUETE_FREC?r("div",{class:"col-12"}):r("div",{class:"col-12"},e.NOMCOMP_PROFESOR||e.NOMCOMP),r("div",{class:"col-12"},this.getHorarioDes(e)),e.URL_PAGO&&7!==e.ESTADO?r("div",{class:"col-12 text-left text-bold"},[a.link({text:"".concat(e.HASH_PAGO?"":"CIP"," ").concat(e.CODIGO_PAGO).trim(),href:e.URL_PAGO})]):r("span",{},"")];return n=n.concat(f),this.textCursoPaquete=t,this.textHorarioPaquete=o,r("div",{class:"row"},n)}},REQUISITOS:{renderHtml:function(e,r){return r("span",{},this.getMesnom(e.REQUISITOS))}},MESCOB:{renderHtml:function(e,r){return r("span",{},this.getMesnom(e.MESCOB))}},FECINS:{component:"date",edit:!1},FECINI_INSCRIPCION:{component:"date",edit:!1},FECFIN_INSCRIPCION:{component:"date",edit:!1},CARNET:{renderHtml:function(e,r,a){return this.botonImprimirCarnet&&5!==e.ESTADO&&(this.isFamAlu&&2===e.ESTADO||!this.isFamAlu)?a.background({color:"primary",text:"Imprimir Carnet",beforeIcon:"contact_card",borderRadius:!0}):""},renderAction:function(e){this.imprimirCarnet(e)},validate:function(e){return!0}},PAGOINSCRIPCION:{renderHtml:function(e,r){return e.ID_DEUDA&&e.COMPROBANTES&&e.COMPROBANTES.length>0?r("div",{},[r("i",{class:"row justify-center material-icons ".concat(e.ESTADO_DESCRIPCION),style:{fontSize:"32px"}},"documents")]):r("div",{class:"row text-bold text-primary"},[r("div",{class:"col-12"},"".concat(e.NUMTAL," - ").concat(e.NUMPAG)),r("div",{class:"col-12"},(0,Br.Ay)(e.FECPAG,"DD/MM/YYYY"))])},renderAction:function(e){if(e.ID_DEUDA)if(e.COMPROBANTES&&e.COMPROBANTES.length>0)this.modalComprobantes=!0,this.dataComprobantes=e.COMPROBANTES.map(function(e){return Or()(Or()({},e),{},{COMPROBANTE:e.NUMTAL+"-"+e.NUMPAG})});else{var r=(0,_r["default"])().origin,a=e.NUMPAG,n=e.NUMTAL;a&&n&&qr["default"].IMPRIMIR_COMPROBANTE(r,n,a)}else{var t=(0,_r["default"])().origin,o=e.NUMPAG,i=e.NUMTAL;o&&i&&qr["default"].IMPRIMIR_COMPROBANTE(t,i,o)}},validate:function(e){return 7!==e.ESTADO}},MONTO:{renderHtml:function(e,r){e.MONTO=Number(e.MONTO||0),e.MONTODES=Number(e.MONTODES||0),e.MONTO=isNaN(e.MONTO)?0:e.MONTO,e.MONTODES=isNaN(e.MONTODES)?0:e.MONTODES;var a=e.MONTO-e.MONTODES;return r("span","".concat(e.MONSIG," ").concat(e.MONTOPAG||a))},tooltip:function(e){return e.MONTODES?"Descuento: "+e.MONSIG+" "+e.MONTODES:""}},ESTADO:{renderHtml:function(e,r){return r("div",{class:"row ".concat(e.ESTADO_DESCRIPCION," text-bold q-caption")},[r("div",{class:"col-12"},e.ESTADO_DESCRIPCION),[5,7].includes(e.ESTADO)?r("div",{class:"col-12"},(0,Br.Ay)(e.FECANU,"DD/MM/YYYY HH:mm A")):r("span",{},"")])}},COMPROBANTE:{renderAction:function(e){if(e.ID_DEUDA){var r=e.NUMTAL,a=e.NUMPAG;qr["default"].IMPRIMIR_COMPROBANTE(origin,r,a)}}},ACTION_COMPROBANTE:{component:"button",icon:["file_document_box as verComprobante","file_document as verReferencia"],verComprobante:function(e){this.imprimirComprobante(e)},verReferencia:function(e){var r=this;return Ir()(Cr()().m(function a(){return Cr()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,r.imprimirReferencia(e);case 1:return a.a(2)}},a)}))()},tooltip:{verComprobante:"Ver Comprobante",verReferencia:"Ver Referencia"},flat:!0,size:"12px"}},fields:[{name:"ID",label:"ID",field:"ID",align:"center",vIf:!1},{name:"VACCOD",label:"Código",field:"VACCOD",align:"center",sortable:!0},{name:"ID_INSCRIPCION",label:"ID Inscripción",field:"ID_INSCRIPCION",align:"left",sortable:!0,wrap:!0},{name:"CURSODES",label:"Curso",field:"CURSODES",align:"left",sortable:!0,wrap:!0},{name:"TIPODES",label:"Programa",field:"TIPODES",align:"left",sortable:!0,wrap:!0},{name:"GRUVADES",label:"Grupo",field:"GRUVADES",align:"left",sortable:!0,wrap:!0},{name:"FECINS",label:"Fec.Reg. Insc",field:"FECINS",align:"center",sortable:!0},{name:"FECINI_INSCRIPCION",label:"Fec. Ini. Insc",field:"FECINI_INSCRIPCION",align:"center",sortable:!0},{name:"FECFIN_INSCRIPCION",label:"Fec. Fin. Insc",field:"FECFIN_INSCRIPCION",align:"center",sortable:!0},{name:"MESCOB",label:"Mes Inscripción",field:"MESCOB",align:"center",sortable:!0},{name:"PAGOINSCRIPCION",label:"Pago Inscripción",field:"PAGOINSCRIPCION",align:"left",sortable:!0,wrap:!0},{name:"MONTO",label:"Monto",field:"MONTO",align:"right",sortable:!0},{name:"ESTADO",label:"Estado",field:"ESTADO",align:"center",sortable:!0,wrap:!0},{name:"ACTION",label:"Acción",field:"ACTION",align:"center",width:220}],openModalCambiarHorario:!1,openModalCambiarHorarioFrec:!1,cursoCambioHorario:null,cursosCambioHorario:[],DIAS_SEMANA:qr["default"].DIAS_SEMANA,modalComprobantes:!1,dataComprobantes:[],fieldsComprobantes:[{name:"COMPROBANTE",label:"Comprobante",field:"COMPROBANTE",align:"center"},{name:"MONTODES",label:"Monto Dscto",field:"MONTODES",align:"center",sortable:!0},{name:"MONTOPAG",label:"Monto Pagado",field:"MONTOPAG",align:"center",sortable:!0},{name:"ACTION_COMPROBANTE",label:"Acción",field:"ACTION_COMPROBANTE",align:"center",sortable:!0}]}},computed:{rows:function(){var e=this,r="",a=12,n=this.cursosInscritos.map(function(e){return e.ID="".concat(e.VACCOD).concat(e.ID_INSCRIPCION_DETALLE),e}).filter(function(n){return e.estadoInscripcion===r?[1,2,3,5,6,9].includes(n.ESTADO):e.estadoInscripcion===a?[1,2,3].includes(n.ESTADO):e.estadoInscripcion===n.ESTADO}),t=[],o=[],i=JSON.parse(JSON.stringify(n));i.forEach(function(e){if(e.FLAG_FREC_DIAS){var r=o.find(function(r){return r.ID_CURSO_PERIODO===e.ID_CURSO_PERIODO&&r.ID_FRECUENCIA===e.ID_FRECUENCIA&&r.URL_PAGO===e.URL_PAGO&&r.ESTADO===e.ESTADO&&r.FECINI_INSCRIPCION===e.FECINI_INSCRIPCION});r?r.GRUPO_TURNOS.push(Or()({},e)):(e.GRUPO_TURNOS=[Or()({},e)],e.MONTO=e.MONTO_FRECUENCIA,e.VACCOD=e.ID_CURSO_PERIODO,e.CURSODES=e.ID_CURSO_PERIODO+" - "+e.CURSODES,o.push(e))}else t.push(e)}),t=t.concat(o);var l=[],s=[];t.forEach(function(r){if(r.FLAG_PAQUETE_FREC){var a=l.find(function(e){return e.FLAG_PAQUETE_FREC===r.FLAG_PAQUETE_FREC&&e.COD_PAQUETE_CURSO===r.COD_PAQUETE_CURSO&&e.ID_INSCRIPCION===r.ID_INSCRIPCION});a?(r.TURNODES="object"===Xr()(r.HORARIOJSON)?e.getTurno(r.HORARIOJSON):e.getTurno(JSON.parse(r.HORARIOJSON)),a.PAQUETE.push(Or()({},r))):(r.TURNODES="object"===Xr()(r.HORARIOJSON)?e.getTurno(r.HORARIOJSON):e.getTurno(JSON.parse(r.HORARIOJSON)),r.PAQUETE=[Or()({},r)],r.VACCOD=r.COD_PAQUETE_CURSO,r.CURSODES="Paquete: ".concat(e.DIAS_SEMANA[r.DIAS]),l.push(r))}else s.push(r)});var c=[];return l.forEach(function(r){var a=c.find(function(e){return e.ID_INSCRIPCION===r.ID_INSCRIPCION&&e.URL_PAGO===r.URL_PAGO});a?a.GROUP.push(Or()({},r)):(r.GROUP=[Or()({},r)],r.VACCOD=r.COD_PAQUETE_CURSO,r.CURSODES="Paquete: ".concat(e.DIAS_SEMANA[r.DIAS]),c.push(r))}),c.forEach(function(r){r.GROUP.sort(function(e,r){return Number(e.DIAS)-Number(r.DIAS)}),r.GROUP.forEach(function(r){r.PAQUETE.sort(function(r,a){return e.timeToNumber(r.TURNODES.HORAINI)-e.timeToNumber(a.TURNODES.HORAINI)})})}),s=s.concat(c),s}},methods:{agruparConceptosAnulacion:function(e){var r={};return e.map(function(e){r[e.CONCOB]||(r[e.CONCOB]=[]),r[e.CONCOB].push(e)}),r},getHorarioDes:function(e){if(e.FLAG_FREC_DIAS){var r="";return e.GRUPO_TURNOS.forEach(function(e){r+=e.HORARIO+", "}),r=r.substring(0,r.length-2),r}return e.FLAG_PAQUETE_FREC?"":e.HORARIO},timeToNumber:function(e){var r=e.split(":").map(Number),a=xr()(r,2),n=a[0],t=a[1];return 60*n+t},getTurno:function(e){var r=Object.entries(e).map(function(e){var r=xr()(e,2),a=r[0],n=r[1];return{DIA:a,HORAINI:n.HORAINI?n.HORAINI.slice(0,5):"",HORAFIN:n.HORAFIN?n.HORAFIN.slice(0,5):""}});return r[0]},imprimirComprobante:function(e){var r=(0,_r["default"])().origin,a=e.NUMPAG,n=e.NUMTAL;a&&n&&qr["default"].IMPRIMIR_COMPROBANTE(r,n,a)},imprimirReferencia:function(e){var r=this;return Ir()(Cr()().m(function a(){var n,t,o,i;return Cr()().w(function(a){while(1)switch(a.n){case 0:if(!e.NUMTAL||!e.NUMPAG){a.n=2;break}return n={numtal:e.NUMTAL,numpag:e.NUMPAG},t=[],a.n=1,r.$http.get("api/PagoController/getReferenciasDeComprobante",{params:{parametros:n}});case 1:return t=a.v,t.length?(o=t[0].NUMPAG,i=t[0].NUMTAL,qr["default"].IMPRIMIR_COMPROBANTE(origin,i,o)):r.$notify("No hay documento de referencia para el comprobante ".concat(e.NUMTAL,"-").concat(e.NUMPAG),"warning"),a.a(2,t);case 2:return a.a(2)}},a)}))()}}},$r={data:function(){return{configCambioHorarios:{ACTION:{component:"button",icon:["swap_horiz as cambiar"],cambiar:function(e){var r=this;return Ir()(Cr()().m(function a(){var n,t,o;return Cr()().w(function(a){while(1)switch(a.p=a.n){case 0:return a.n=1,r.$confirmar("¿Desea cambiar de horario a <br><b>".concat(e.HORARIO," ").concat(e.CURSODES,"</b>?"),{icon:"swap_horiz",color:"primary"},!0);case 1:if(n=a.v,!n){a.n=6;break}return a.p=2,a.n=3,r.$http.post("api/InscripcionController/cambiarHorario",{id_inscripcion_detalle:r.currentCurso.ID_INSCRIPCION_DETALLE,id_curso_periodo:e.ID_CURSO_PERIODO,turno:e.TURNO});case 3:return t=a.v,o=t.message,a.n=4,r.cambiarAlumno(r.alumnoElegido);case 4:r.openModalCambiarHorario=!1,r.$notify(o,"success"),a.n=6;break;case 5:a.p=5,a.v,r.$notify("No ha sido posible cambiar de curso","warning");case 6:return a.a(2)}},a,null,[[2,5]])}))()},validate:{cambiar:function(e){return!this.loadDisabled.values.includes(e.VACCOD)}},tooltip:{cambiar:"Cambiar Horario"},flat:!0},VACCOD:{renderHtml:function(e,r,a,n){return this.loadDisabled.values.includes(e.VACCOD)&&(n["$$background"]="primary"),r("span",{},e.VACCOD)},cellStyle:function(){return{padding:"5px"}}}},rowsCambioHorarios:[],currentCurso:{},loadDisabled:{key:"VACCOD",values:[]},fieldsCambioHorarios:[{name:"VACCOD",label:"VC",field:"VACCOD",align:"center"},{name:"CURSODES",label:"Curso",field:"CURSODES",align:"left",wrap:!0},{name:"HORARIO",label:"Horario",field:"HORARIO",align:"left",wrap:!0},{name:"ACTION",label:"Cambiar Horario",field:"ACTION",align:"center"}]}}},Yr=a(26319),Wr=a(33001),zr={data:function(){return{configCambioHorariosFrec:{ACTION:{component:"button",icon:["swap_horiz as cambiar"],color:"secondary",cambiar:function(e,r){var a=this;return Ir()(Cr()().m(function n(){var t;return Cr()().w(function(n){while(1)switch(n.p=n.n){case 0:return n.p=0,n.n=1,a.validarCambioFrec();case 1:if(!n.v){n.n=2;break}a.rowsNewHorariosFrec.push(e),a.rowsNewHorariosFrec=a.rowsNewHorariosFrec.sort(function(e,r){return e.ID_CURSO_PERIODO-r.ID_CURSO_PERIODO||e.TURNO-r.TURNO}),a.rowsCambioHorariosFrec.splice(a.rowsCambioHorariosFrec.indexOf(r),1);case 2:n.n=4;break;case 3:n.p=3,t=n.v,a.$notify(t.message,"warning");case 4:return n.a(2)}},n,null,[[0,3]])}))()},validate:{cambiar:function(e){return!this.loadDisabled.values.includes(e.VACCOD)}},tooltip:{cambiar:"Cambiar Horario"},flat:!0},ACTION2:{component:"button",icon:["swap_horiz as cambiar"],color:"secondary",cambiar:function(e,r){var a=this;return Ir()(Cr()().m(function n(){return Cr()().w(function(n){while(1)switch(n.n){case 0:a.rowsCambioHorariosFrec.push(e),a.rowsCambioHorariosFrec=a.rowsCambioHorariosFrec.sort(function(e,r){return e.ID_CURSO_PERIODO-r.ID_CURSO_PERIODO||e.TURNO-r.TURNO}),a.rowsNewHorariosFrec.splice(a.rowsNewHorariosFrec.indexOf(r),1);case 1:return n.a(2)}},n)}))()},validate:{cambiar:function(e){return!this.loadDisabled.values.includes(e.VACCOD)}},tooltip:{cambiar:"Cambiar Horario"},flat:!0},VACCOD:{renderHtml:function(e,r,a,n){var t=this.currentCursoFrec.GRUPO_TURNOS.map(function(e){return e.VACCOD});return t.includes(e.VACCOD)?n["$$background"]="primary":n["$$background"]="white",r("span",{},e.VACCOD)}}},rowsCambioHorariosFrec:[],rowsCambioHorariosFrecInitial:[],rowsNewHorariosFrec:[],optTalleresFrec:[],idCursoPeriodoFrec:null,currentCursoFrec:{},fechaInicioFrec:null,fechaFinFrec:null,loadDisabled:{key:"VACCOD",values:[]},fieldsCambioHorariosFrec:[{name:"VACCOD",label:"VC",field:"VACCOD",align:"center"},{name:"CURSODES",label:"Taller",field:"CURSODES",align:"left",wrap:!0},{name:"HORARIO",label:"Horario",field:"HORARIO",align:"left",wrap:!0},{name:"ACTION",label:"Cambiar Horario",field:"ACTION",align:"center"}],fieldsNewHorariosFrec:[{name:"VACCOD",label:"VC",field:"VACCOD",align:"center"},{name:"CURSODES",label:"Taller",field:"CURSODES",align:"left",wrap:!0},{name:"HORARIO",label:"Horario",field:"HORARIO",align:"left",wrap:!0},{name:"ACTION2",label:"Cambiar Horario",field:"ACTION2",align:"center"}]}},methods:{initCambioHorarioFrec:function(e,r){var a=this;return Ir()(Cr()().m(function n(){var t,o,i,l,s,c,u,d,f,C,p,O,m,I;return Cr()().w(function(n){while(1)switch(n.n){case 0:return a.currentCursoFrec=r,a.currentCursoFrec.HORARIOS=e.GRUPO_TURNOS.map(function(e){return e.HORARIO}).join().replaceAll(" ,",", "),a.currentCursoFrec.IDS_INSCRIPCION_DETALLE=e.GRUPO_TURNOS.map(function(e){return e.ID_INSCRIPCION_DETALLE}),a.currentCursoFrec.FECINI_INSCRIPCION_FORMAT=(0,Yr.formatDate)(new Date(a.currentCursoFrec.FECINI_INSCRIPCION),"DD/MM/YYYY"),a.currentCursoFrec.FECFIN_INSCRIPCION_FORMAT=(0,Yr.formatDate)(new Date(a.currentCursoFrec.FECFIN_INSCRIPCION),"DD/MM/YYYY"),a.fechaInicioFrec=(0,Yr.formatDate)(new Date(a.currentCursoFrec.FECINI_INSCRIPCION),"YYYY-MM-DD"),a.fechaFinFrec=(0,Yr.formatDate)(new Date(a.currentCursoFrec.FECFIN_INSCRIPCION),"YYYY-MM-DD"),t=e.DURACOD,o=e.CONCOB,i=e.ANO,l=e.ID_FRECUENCIA,s=e.ESTADO,c=e.MONTO,u=a.alumnoSeleccionado,d=u.FECHA_NACIMIENTO,f=u.ID_PERFIL,C=u.NGS,f=[2025,2026].includes((new Date).getFullYear())&&["2027","2028"].includes(String(a.alumnoSeleccionado.ANOING))?3:a.alumnoSeleccionado.ID_PERFIL,p=(C||"").slice(0,2),O={duracod:t,concob:o,ano:i,ng:p,fecnac:d,idPerfil:f,flag_frec_dias:1,cambio_horario_frec:1,id_frecuencia:l,estado:s,monto:c,vistaalumno:!1},a.openModalCambiarHorarioFrec=!0,a.rowsNewHorariosFrec=[],a.optTalleresFrec=[],a.idCursoPeriodoFrec=null,n.n=1,a.$http.get("api/CtCursoPeriodoController/getFrecuenciaDias");case 1:return m=n.v,m.map(function(e){e.DESCRIPCION=e.NRO_CLASES?"".concat(e.DESCRIPCION," - ").concat(e.NRO_CLASES," clases"):"".concat(e.DESCRIPCION)}),m=m.find(function(e){return e.ID_FRECUENCIA===r.ID_FRECUENCIA}),a.currentCursoFrec=Or()(Or()({},a.currentCursoFrec),m),n.n=2,a.$http.get("api/CtCursoPeriodoController/getCursoPeriodoporAlumnoNuevo",{params:{params:O}});case 2:I=n.v,a.rowsCambioHorariosFrec=I.filter(function(e){return e.DISPONIBLES>0}),a.rowsCambioHorariosFrec=a.rowsCambioHorariosFrec.sort(function(e,r){return e.ID_CURSO_PERIODO-r.ID_CURSO_PERIODO||e.TURNO-r.TURNO}),a.rowsCambioHorariosFrecInitial=a.rowsCambioHorariosFrec,a.rowsCambioHorariosFrec.map(function(e){a.optTalleresFrec.map(function(e){return e.ID_CURSO_PERIODO}).includes(e.ID_CURSO_PERIODO)||a.optTalleresFrec.push({ID_CURSO_PERIODO:e.ID_CURSO_PERIODO,CURSODES:"".concat(e.ID_CURSO_PERIODO," - ").concat(e.CURSODES)})}),a.idCursoPeriodoFrec=a.currentCursoFrec.ID_CURSO_PERIODO,a.rowsCambioHorariosFrec=a.rowsCambioHorariosFrec.filter(function(e){return e.ID_CURSO_PERIODO===a.idCursoPeriodoFrec});case 3:return n.a(2)}},n)}))()},cambiarTallerFrec:function(){this.rowsNewHorariosFrec=[];var e=this.rowsCambioHorariosFrecInitial;this.idCursoPeriodoFrec&&(e=(0,Wr.filterArray)(this.idCursoPeriodoFrec,{field:"ID_CURSO_PERIODO",list:e})),this.rowsCambioHorariosFrec=e},validarCambioFrec:function(){var e=arguments,r=this;return Ir()(Cr()().m(function a(){var n,t,o,i,l;return Cr()().w(function(a){while(1)switch(a.p=a.n){case 0:if(n=e.length>0&&void 0!==e[0]&&e[0],a.p=1,t=r.currentCursoFrec.GRUPO_TURNOS.map(function(e){return e.VACCOD}),o=r.rowsNewHorariosFrec.map(function(e){return e.VACCOD}),i=t.filter(function(e){return o.includes(e)}).length,!(r.rowsNewHorariosFrec.length>=r.currentCursoFrec.VECES)||n){a.n=3;break}if(1!==r.currentCursoFrec.VECES){a.n=2;break}throw new Error("La frecuencia actual del taller es de ".concat(r.currentCursoFrec.VECES," vez, no se puede agregar más frecuencias"));case 2:throw new Error("La frecuencia actual del taller es de ".concat(r.currentCursoFrec.VECES," veces, no se puede agregar más frecuencias"));case 3:if(!(r.rowsNewHorariosFrec.length<r.currentCursoFrec.VECES&&n)){a.n=5;break}if(r.currentCursoFrec.VECES-r.rowsNewHorariosFrec.length!==1){a.n=4;break}throw new Error("Falta agregar ".concat(r.currentCursoFrec.VECES-r.rowsNewHorariosFrec.length," frecuencia, para realizar el proceso cambio de horario"));case 4:throw new Error("Falta agregar ".concat(r.currentCursoFrec.VECES-r.rowsNewHorariosFrec.length," frecuencias, para realizar el proceso cambio de horario"));case 5:if(i!==r.currentCursoFrec.VECES){a.n=6;break}throw new Error("Por favor selecciona una frecuencia con horarios diferentes");case 6:return a.a(2,!0);case 7:throw a.p=7,l=a.v,new Error(l.message);case 8:return a.a(2)}},a,null,[[1,7]])}))()},guardarCambioHorarioFrec:function(){var e=this;return Ir()(Cr()().m(function r(){var a,n,t,o;return Cr()().w(function(r){while(1)switch(r.p=r.n){case 0:return r.p=0,a="",a=e.currentCursoFrec.ID_CURSO_PERIODO===e.rowsNewHorariosFrec[0].ID_CURSO_PERIODO?"¿Desea cambiar la frecuencia de horarios para el taller ".concat(e.currentCursoFrec.CURSODES):"¿Desea cambiar de taller (".concat(e.currentCursoFrec.CURSODES,") a (").concat(e.rowsNewHorariosFrec[0].CURSODES,") y la frecuencia de horarios"),r.n=1,e.validarCambioFrec(!0);case 1:return r.n=2,e.$confirmar(a,{icon:"swap_horiz",color:"primary"},!0);case 2:if(n=r.v,!n){r.n=7;break}return r.p=3,e.rowsNewHorariosFrec.map(function(r){r.FECINI_FREC=new Date(e.fechaInicioFrec.replaceAll("-","/")),r.FECFIN_FREC=new Date(e.fechaFinFrec.replaceAll("-","/"))}),r.n=4,e.$http.post("api/InscripcionController/cambiarHorarioFrec",{ids_inscripcion_detalle:e.currentCursoFrec.IDS_INSCRIPCION_DETALLE,id_curso_periodo:e.idCursoPeriodoFrec,data_nuevo_horario:e.rowsNewHorariosFrec});case 4:return r.n=5,e.cambiarAlumno(e.alumnoElegido);case 5:e.openModalCambiarHorarioFrec=!1,e.$notify("Se realizó el proceso de cambio de horario satisfactoriamente","success"),r.n=7;break;case 6:r.p=6,t=r.v,e.$notify(t.message,"warning");case 7:r.n=9;break;case 8:r.p=8,o=r.v,e.$notify(o.message,"warning");case 9:return r.a(2)}},r,null,[[3,6],[0,8]])}))()}}},Jr={data:function(){return{modalComprobantesAnular:!1,dataComprobantesAnular:[],configComprobanteAnular:{MONTOANU:{component:"input",type:"number",prevent:!0,autoSelect:!0,edit:this.tipoAnulacion,input:function(e,r){e.MONTOANU>e.MONTOPAG&&(r.MONTOANU=0,this.$notify("El monto no puede ser mayor al costo del taller.","warning")),console.log(e),console.log(r)}}},fieldsComprobantesAnular:[{name:"COMPROBANTE",label:"Comprobante",field:"COMPROBANTE",align:"center"},{name:"MONTODES",label:"Monto Dscto",field:"MONTODES",align:"center",sortable:!0},{name:"MONTOPAG",label:"Monto Pagado",field:"MONTOPAG",align:"center",sortable:!0},{name:"MONTOANU",label:"Monto",field:"MONTOANU",align:"center",sortable:!0}]}},watch:{modalComprobantesAnular:function(e){return this.configComprobanteAnular.MONTOANU.edit="NC"===this.tipoAnulacion,e}}},Kr={data:function(){return{configInscripcionesVencidas:{},fieldsInscripcionesVencidas:[{name:"ALUCOD",label:"Código",field:"ALUCOD",align:"center",wrap:!0},{name:"NOMCOMP_ALUMNO",label:"Nombres",field:"NOMCOMP_ALUMNO",align:"center",sortable:!0,wrap:!0},{name:"CURSODES",label:"Curso",field:"CURSODES",align:"center",sortable:!0,wrap:!0},{name:"PROALU",label:"Procedencia",field:"PROALU",align:"center",sortable:!0,wrap:!0},{name:"HORARIO",label:"Horario",field:"HORARIO",align:"center",sortable:!0,wrap:!0},{name:"FINSCRIPCION",label:"Fec.ins",field:"FINSCRIPCION",align:"center",sortable:!0,wrap:!0},{name:"MONTO",label:"Monto",field:"MONTO",align:"center",sortable:!0,wrap:!0}]}}},Zr=a(78131),ea=a(49646),ra=a(42205),aa={class:"row-body-card"},na={class:"row",style:{width:"100%",height:"100%"}},ta={key:0},oa={class:"q-mt-xs q-mb-xs titulo-taller"},ia={class:"row q-gutter-sm",style:{display:"flex","justify-content":"space-between","align-items":"center",padding:"4px 0px"}},la={class:"center dates"},sa={key:0,class:"row justify-center q-gutter-sm",style:{display:"flex","justify-content":"right"}},ca={class:"row justify-left q-gutter-sm",style:{display:"flex","justify-content":"space-between"}},ua={class:"center"},da={class:"center"},fa={key:2},Ca={key:3,class:"titulo-taller",style:{"font-weight":"bold"}},pa={class:"q-card-section q-pa-sm",style:{height:"20%"}},Oa={key:0,class:"center-right",style:{gap:"10px"}},ma={style:{"font-size":"24px"}},Ia={key:1,class:"center-right"},Aa={key:0,style:{"font-size":"24px"}},Ea={key:1,style:{"font-size":"18px"}},ha={style:{height:"1%"}},Da={class:"row-bottom-card"},ga={key:1,class:"bottom-zone"};function Sa(e,r){var a=this,n=(0,o.g2)("q-tooltip"),l=(0,o.g2)("q-icon"),s=(0,o.g2)("q-card-section"),c=(0,o.g2)("q-separator"),u=(0,o.g2)("q-card");return(0,o.uX)(),(0,o.Wv)(u,{class:"taller",bordered:""},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",aa,[(0,o.Lk)("div",na,[e.showImagen?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"bg-img col-sm-5",style:(0,i.Tr)({backgroundImage:"url(".concat(e.currentUrlImg,")")})},null,4)):(0,o.Q3)("v-if",!0),(0,o.Lk)("div",{class:(0,i.C4)(e.showImagen?"col-xs-12 col-sm-7":"col-xs-12")},[(0,o.bF)(s,{style:{height:"80%"}},{default:(0,o.k6)(function(){return[e.showVacantes?((0,o.uX)(),(0,o.CE)("div",ta,"Vacantes disponibles: "+(0,i.v_)(e.vacantesDisponibles),1)):(0,o.Q3)("v-if",!0),(0,o.Lk)("div",oa,[(0,o.eW)((0,i.v_)(e.taller.ID_CURSO_PERIODO)+" - "+(0,i.v_)(e.nombreTaller),1),e.nombreTaller.length>e.minCaracteresTooltip?((0,o.uX)(),(0,o.Wv)(n,{key:0},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(e.nombreTaller),1)]}),_:1})):(0,o.Q3)("v-if",!0)]),(0,o.Lk)("div",ia,[(0,o.bF)(l,{name:"calendar_today",size:"sm"}),(0,o.Lk)("div",la,(0,i.v_)(e.fechaInicio)+" - "+(0,i.v_)(e.fechaFin),1)]),1===e.listaTurnos.length?((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[e.listaHorariosDes.length>2?((0,o.uX)(),(0,o.CE)("div",sa,[(0,o.Lk)("div",{class:"center cursor-pointer",style:{color:"#1976d2"},onClick:r[0]||(r[0]=function(){return e.agregarTaller&&e.agregarTaller.apply(e,arguments)})},"VER HORARIO")])):((0,o.uX)(!0),(0,o.CE)(o.FK,{key:1},(0,o.pI)(e.listaHorariosDes,function(e){return(0,o.uX)(),(0,o.CE)("div",ca,[(0,o.Lk)("div",ua,(0,i.v_)(e.DIAS),1),(0,o.Lk)("div",da,(0,i.v_)(e.HORAINI)+" - "+(0,i.v_)(e.HORAFIN),1)])}),256))],64)):(0,o.Q3)("v-if",!0),e.listaTurnos.length>1?((0,o.uX)(),(0,o.CE)("div",fa,"Múltiples horarios")):(0,o.Q3)("v-if",!0),e.taller.REQUISITOS?((0,o.uX)(),(0,o.CE)("div",Ca,(0,i.v_)(e.taller.REQUISITOS),1)):(0,o.Q3)("v-if",!0)]}),_:1}),(0,o.Lk)("div",pa,[a.taller.FLAG_FREC_DIAS?((0,o.uX)(),(0,o.CE)("div",Oa,[r[2]||(r[2]=(0,o.Lk)("div",null,"Desde",-1)),(0,o.Lk)("span",ma,[(0,o.Lk)("b",null,(0,i.v_)(e.moneda)+" "+(0,i.v_)(e.monto),1)])])):((0,o.uX)(),(0,o.CE)("div",Ia,[e.monto>0?((0,o.uX)(),(0,o.CE)("span",Aa,[(0,o.Lk)("b",null,(0,i.v_)(e.moneda)+" "+(0,i.v_)(e.monto),1)])):((0,o.uX)(),(0,o.CE)("span",Ea,t()(r[3]||(r[3]=[(0,o.Lk)("b",null," Gratuito ",-1)]))))]))])],2)])]),(0,o.Lk)("div",ha,[(0,o.bF)(c)]),(0,o.Lk)("div",Da,[e.vacantesDisponibles>0?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"bottom-zone",onClick:r[1]||(r[1]=function(){return e.agregarTaller&&e.agregarTaller.apply(e,arguments)})},[(0,o.bF)(s,null,{default:(0,o.k6)(function(){return[(0,o.bF)(s,{class:"center",style:{color:"#1976d2",gap:"5px"}},{default:(0,o.k6)(function(){return[r[4]||(r[4]=(0,o.Lk)("span",{class:"center"},"AGREGAR",-1)),(0,o.bF)(l,{name:"add_shopping_cart",size:"sm"})]}),_:1})]}),_:1})])):(0,o.Q3)("v-if",!0),0===e.vacantesDisponibles?((0,o.uX)(),(0,o.CE)("div",ga,[(0,o.bF)(s,null,{default:(0,o.k6)(function(){return[(0,o.bF)(s,{class:"center",style:{color:"#1976d2"}},{default:(0,o.k6)(function(){return t()(r[5]||(r[5]=[(0,o.Lk)("span",{class:"center"},"AGOTADO",-1)]))}),_:1})]}),_:1})])):(0,o.Q3)("v-if",!0)])]}),_:1})}var ba=a(20456),va=a(53399),Ra=a(34262),Na=a(53380),_a={emits:["agregarTaller"],props:{taller:{type:Object,default:function(){}},grupoTaller:{type:Object,default:function(){}}},components:{QBtn:gr.A,QImg:va.A,QIcon:Ra.A,QCard:vr.A,QCardSection:Rr.A,QCardActions:ba.A,QSeparator:Na.A,QTooltip:Ar.nC,constantesTesoreria:qr["default"]},computed:{currentUrlImg:function(){var e="api/GrupovacController/getImagen?idGrupo="+this.grupoTaller.GRUVACOD+"&sie-token="+(0,_r["default"])().token,r=(0,_r["default"])().host+"/"+e;return r},showVacantes:function(){return 1===this.listaTurnos.length&&!this.taller.ES_PAQUETE_TALLER}},data:function(){return{showImagen:!["0090","0032"].includes((0,_r["default"])().colcod),isBpastor:"0090"===(0,_r["default"])().colcod,vacantesDisponibles:0,nombreTaller:this.taller.CURSODES,nombreGrupoTaller:this.taller.GRUVADES,fechaInicio:"",fechaFin:"",listaTurnos:[],listaHorariosDes:[],moneda:this.taller.MONSIG,monto:this.taller.FLAG_FREC_DIAS?this.taller.MONTO_FREC_MIN:this.taller.MONTO,minCaracteresTooltip:17,imagenTaller:"",DIAS_SEMANA:qr["default"].DIAS_SEMANA}},methods:{agregarTaller:function(e){this.$emit("agregarTaller",this.taller)},dayConverter:function(e){var r=e.replace("T"," ").split(" ")[0].split("-");return r="".concat(r[2],"/").concat(r[1],"/").concat(r[0]),r},getTurno:function(e){var r={dias:Object.entries(e).map(function(e){var r=xr()(e,2),a=r[0],n=r[1];return{DIA:a,HORAINI:n.HORAINI?n.HORAINI.slice(0,5):"",HORAFIN:n.HORAFIN?n.HORAFIN.slice(0,5):""}})};return r},agruparHorarios:function(){var e=this;1===this.listaTurnos.length&&this.listaTurnos[0].dias.map(function(r){var a=e.listaHorariosDes.find(function(e){return e.HORAINI===r.HORAINI&&e.HORAFIN===r.HORAFIN});a?a.DIAS=a.DIAS+", "+e.DIAS_SEMANA[r.DIA]:e.listaHorariosDes.push({HORAINI:r.HORAINI,HORAFIN:r.HORAFIN,DIAS:""+e.DIAS_SEMANA[r.DIA]})})}},beforeMount:function(){var e=this;return Ir()(Cr()().m(function r(){return Cr()().w(function(r){while(1)switch(r.n){case 0:e.fechaInicio=e.dayConverter(e.taller.FECINI),e.fechaFin=e.dayConverter(e.taller.FECFIN),e.taller.TURNOS.map(function(r){var a=JSON.parse(r.TURNOJSON),n=e.getTurno(a);e.listaTurnos.push(Or()({idHorario:e.taller.VACCOD},n)),e.vacantesDisponibles+=r.DISPONIBLES}),e.agruparHorarios();case 1:return r.a(2)}},r)}))()}},Ta=a(12807);const ka=(0,Ta.A)(_a,[["render",Sa]]);var Pa=ka,Fa={class:"title absolute-bottom text-right"};function wa(e,r){var a=(0,o.g2)("q-img"),n=(0,o.g2)("q-card");return(0,o.uX)(),(0,o.Wv)(n,{class:"grupo-taller",onClick:e.onClick},{default:(0,o.k6)(function(){return[(0,o.bF)(a,{class:"img-grupo-taller",src:e.currentUrlImg},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",Fa,(0,i.v_)(e.grupoTaller.GRUVADES),1)]}),_:1},8,["src"])]}),_:1},8,["onClick"])}var Ua={emits:["click"],props:{grupoTaller:{type:Object,default:function(){}}},components:{QImg:va.A,QCard:vr.A,QCardSection:Rr.A},data:function(){return{}},computed:{currentUrlImg:function(){var e="api/GrupovacController/getImagen?idGrupo="+this.grupoTaller.GRUVACOD+"&sie-token="+(0,_r["default"])().token,r=(0,_r["default"])().host+"/"+e;return r}},methods:{onClick:function(e){this.$emit("click",this.grupoTaller)}}};const La=(0,Ta.A)(Ua,[["render",wa]]);var Ma=La,ya={class:"row q-ma-xs q-col-gutter-sm",style:{display:"flex","align-items":"center",gap:"5px"}},Ha={style:{display:"flex","justify-content":"space-between"}},Ga={class:"lista-talleres col"},qa={key:0,class:"carrito-compras"},Va={key:0,class:"cantidad-carrito circle center"};function xa(e,r){var a=(0,o.g2)("q-icon"),n=(0,o.g2)("q-separator"),t=(0,o.g2)("listaTalleres"),l=(0,o.g2)("carritoCompras"),s=(0,o.g2)("elegirVerPaqueteTaller"),c=(0,o.g2)("elegirDiaHorarioTaller"),u=(0,o.g2)("elegirHorarioTaller"),d=(0,o.g2)("q-dialog"),f=(0,o.g2)("q-btn"),C=(0,o.g2)("q-page-sticky"),p=(0,o.g2)("mostrarDetalle");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.Q3)("Header"),(0,o.Lk)("div",ya,[(0,o.bF)(a,{class:"cursor-pointer",name:"arrow_back",size:"md",onClick:e.onClickHeader},null,8,["onClick"]),(0,o.Lk)("div",{class:"text-h4 font-20 cursor-pointer",onClick:r[0]||(r[0]=function(){return e.onClickHeader&&e.onClickHeader.apply(e,arguments)})},(0,i.v_)(e.nombreGrupoTaller),1)]),(0,o.Q3)("Body"),(0,o.Lk)("div",Ha,[(0,o.Lk)("div",Ga,[(0,o.bF)(n),(0,o.bF)(t,{onAgregarTaller:e.agregarTaller,onAgregarTallerBpastor:e.agregarTallerBpastor,grupoTaller:e.grupoTaller,paqueteBuenPastor:e.paqueteBuenPastor,talleres:e.talleres},null,8,["onAgregarTaller","onAgregarTallerBpastor","grupoTaller","paqueteBuenPastor","talleres"])]),e.refreshCarrito?((0,o.uX)(),(0,o.CE)("div",qa,[(0,o.bF)(l,{noEliminarItem:e.paqueteBuenPastor,onQuitarDeCarrito:e.quitarDeCarrito,onFinalizarCompra:e.finalizarCompra,onVaciarCarrito:e.vaciarCarrito,onMostrarDetalle:e.mostrarDetalle,listaCompras:e.listaTalleresCarrito,vaciarCarritoButton:!!e.listaTalleresCarrito.filter(function(e){return e&&!e.ID_INSCRIPCION_DETALLE}).length},null,8,["noEliminarItem","onQuitarDeCarrito","onFinalizarCompra","onVaciarCarrito","onMostrarDetalle","listaCompras","vaciarCarritoButton"])])):(0,o.Q3)("v-if",!0)]),(0,o.bF)(d,{modelValue:e.modalElegirHorario,"onUpdate:modelValue":r[1]||(r[1]=function(r){return e.modalElegirHorario=r}),position:"right"},{default:(0,o.k6)(function(){return[e.taller.FLAG_PAQUETE_FREC?((0,o.uX)(),(0,o.Wv)(s,{key:0,onAgregarACarrito:e.agregarACarrito,onOnClickClose:e.onClickClose,grupoTaller:e.grupoTaller,taller:e.taller,persona:e.persona},null,8,["onAgregarACarrito","onOnClickClose","grupoTaller","taller","persona"])):(0,o.Q3)("v-if",!0),e.taller.FLAG_FREC_DIAS?((0,o.uX)(),(0,o.Wv)(c,{key:1,onAgregarACarrito:e.agregarACarrito,onOnClickClose:e.onClickClose,grupoTaller:e.grupoTaller,taller:e.taller,inscritos:e.inscritos,persona:e.persona},null,8,["onAgregarACarrito","onOnClickClose","grupoTaller","taller","inscritos","persona"])):(0,o.Q3)("v-if",!0),e.taller.FLAG_PAQUETE_FREC||e.taller.FLAG_FREC_DIAS?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.Wv)(u,{key:2,onAgregarACarrito:e.agregarACarrito,onOnClickClose:e.onClickClose,grupoTaller:e.grupoTaller,taller:e.taller},null,8,["onAgregarACarrito","onOnClickClose","grupoTaller","taller"]))]}),_:1},8,["modelValue"]),(0,o.bF)(C,{class:"carrito-button",position:"bottom-right",offset:[18,18]},{default:(0,o.k6)(function(){return[(0,o.bF)(f,{round:"",color:"primary",icon:"shopping_cart",size:"lg",onClick:e.openModalCarrito},{default:(0,o.k6)(function(){return[e.cantidadCarrito>0?((0,o.uX)(),(0,o.CE)("div",Va,(0,i.v_)(e.cantidadCarrito),1)):(0,o.Q3)("v-if",!0)]}),_:1},8,["onClick"])]}),_:1}),(0,o.bF)(d,{modelValue:e.modalCarrito,"onUpdate:modelValue":r[2]||(r[2]=function(r){return e.modalCarrito=r})},{default:(0,o.k6)(function(){return[e.refreshCarrito?((0,o.uX)(),(0,o.Wv)(l,{key:0,class:"carrito-dialog",noEliminarItem:e.paqueteBuenPastor,onQuitarDeCarrito:e.quitarDeCarrito,onFinalizarCompra:e.finalizarCompra,onVaciarCarrito:e.vaciarCarrito,onMostrarDetalle:e.mostrarDetalle,listaCompras:e.listaTalleresCarrito,vaciarCarritoButton:!!e.listaTalleresCarrito.filter(function(e){return e&&!e.ID_INSCRIPCION_DETALLE}).length},null,8,["noEliminarItem","onQuitarDeCarrito","onFinalizarCompra","onVaciarCarrito","onMostrarDetalle","listaCompras","vaciarCarritoButton"])):(0,o.Q3)("v-if",!0)]}),_:1},8,["modelValue"]),(0,o.bF)(d,{modelValue:e.modalDetalle,"onUpdate:modelValue":r[3]||(r[3]=function(r){return e.modalDetalle=r}),position:"right"},{default:(0,o.k6)(function(){return[(0,o.bF)(p,{taller:e.tallerDetalle,listaTalleres:e.listaTalleresCarrito,onOnClickClose:e.closeDetalle},null,8,["taller","listaTalleres","onOnClickClose"])]}),_:1},8,["modelValue"])])}var Qa={style:{height:"calc(100vh - 220px)"}},Xa={class:"q-py-md",style:{"padding-left":"48px","padding-right":"5px"}},Ba={class:"row col-sm-12"},ja={class:"row-body-card-bpastor row col-sm-12"},$a={style:{height:"1%"}},Ya={class:"row-bottom-card"};function Wa(e,r){var a=(0,o.g2)("q-separator"),n=(0,o.g2)("card-taller-bpastor"),t=(0,o.g2)("q-icon"),i=(0,o.g2)("q-card-section"),l=(0,o.g2)("q-card"),s=(0,o.g2)("card-paquete-taller"),c=(0,o.g2)("card-taller");return(0,o.uX)(),(0,o.CE)("div",Qa,[(0,o.Lk)("div",Xa,[(0,o.Lk)("div",Ba,[e.paqueteBuenPastor?((0,o.uX)(),(0,o.Wv)(l,{key:0,class:"col-sm-12",bordered:""},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",ja,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.listaTalleres,function(r){return(0,o.uX)(),(0,o.CE)("div",{key:r.ID_CURSO_PERIODO,class:"row taller-item-bpastor col-md-12 col-lg-6"},[(0,o.bF)(a),(0,o.bF)(n,{onAgregarTaller:e.agregarTaller,taller:r,grupoTaller:e.grupoTaller,noButtonAgregar:!0},null,8,["onAgregarTaller","taller","grupoTaller"])])}),128))]),(0,o.Lk)("div",$a,[(0,o.bF)(a)]),(0,o.Lk)("div",Ya,[(0,o.Lk)("div",{class:"bottom-zone",onClick:r[0]||(r[0]=function(){return e.agregarTallerBpastor&&e.agregarTallerBpastor.apply(e,arguments)})},[(0,o.bF)(i,{style:{"font-weight":"600"}},{default:(0,o.k6)(function(){return[(0,o.bF)(i,{class:"center",style:{color:"#1976d2",gap:"5px"}},{default:(0,o.k6)(function(){return[r[1]||(r[1]=(0,o.Lk)("span",{class:"center"},"AGREGAR",-1)),(0,o.bF)(t,{name:"add_shopping_cart",size:"sm"})]}),_:1})]}),_:1})])])]}),_:1})):((0,o.uX)(!0),(0,o.CE)(o.FK,{key:1},(0,o.pI)(e.listaTalleres,function(r){return(0,o.uX)(),(0,o.CE)("div",{key:r.ID_CURSO_PERIODO,class:"row taller-item col-xs-12 col-sm-6 q-pr-sm q-pb-sm"},[r.FLAG_PAQUETE_FREC?((0,o.uX)(),(0,o.Wv)(s,{key:0,onAgregarTaller:e.agregarTaller,taller:r,grupoTaller:e.grupoTaller},null,8,["onAgregarTaller","taller","grupoTaller"])):((0,o.uX)(),(0,o.Wv)(c,{key:1,onAgregarTaller:e.agregarTaller,taller:r,grupoTaller:e.grupoTaller},null,8,["onAgregarTaller","taller","grupoTaller"]))])}),128))])])])}var za={class:"row-body-card"},Ja={class:"row",style:{width:"100%",height:"100%"}},Ka={class:"col-xs-12"},Za={key:0},en={class:"q-mt-xs q-mb-xs titulo-taller"},rn={class:"row q-gutter-sm",style:{display:"flex","justify-content":"space-between","align-items":"center",padding:"4px 0px"}},an={class:"center dates"},nn={key:0,class:"row justify-center q-gutter-sm",style:{display:"flex","justify-content":"right"}},tn={class:"row justify-left q-gutter-sm",style:{display:"flex","justify-content":"space-between"}},on={class:"center"},ln={class:"center"},sn={key:2},cn={class:"sub-card-section",style:{height:"20%"}},un={key:0,class:"center-right",style:{gap:"10px"}},dn={style:{"font-size":"24px"}},fn={key:1,class:"center-right"},Cn={key:0,style:{"font-size":"24px"}},pn={key:1,style:{"font-size":"18px"}},On={key:0,class:"row-bottom-card"},mn={key:1,class:"bottom-zone"};function In(e,r){var a=this,n=(0,o.g2)("q-tooltip"),l=(0,o.g2)("q-icon"),s=(0,o.g2)("q-card-section"),c=(0,o.g2)("q-card");return(0,o.uX)(),(0,o.Wv)(c,{class:"tallerBpastor"},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",za,[(0,o.Lk)("div",Ja,[(0,o.Lk)("div",Ka,[(0,o.bF)(s,{style:{height:"80%"}},{default:(0,o.k6)(function(){return[1===e.listaTurnos.length?((0,o.uX)(),(0,o.CE)("div",Za,"Vacantes disponibles: "+(0,i.v_)(e.vacantesDisponibles),1)):(0,o.Q3)("v-if",!0),(0,o.Lk)("div",en,[(0,o.eW)((0,i.v_)(e.taller.ID_CURSO_PERIODO)+" - "+(0,i.v_)(e.nombreTaller),1),e.nombreTaller.length>e.minCaracteresTooltip?((0,o.uX)(),(0,o.Wv)(n,{key:0},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(e.nombreTaller),1)]}),_:1})):(0,o.Q3)("v-if",!0)]),(0,o.Lk)("div",rn,[(0,o.bF)(l,{name:"calendar_today",size:"sm"}),(0,o.Lk)("div",an,(0,i.v_)(e.fechaInicio)+" - "+(0,i.v_)(e.fechaFin),1)]),1===e.listaTurnos.length?((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[e.listaHorariosDes.length>2||e.listaTurnos[0].dias.length>3?((0,o.uX)(),(0,o.CE)("div",nn,[(0,o.Lk)("div",{class:"center cursor-pointer",style:{color:"#1976d2"},onClick:r[0]||(r[0]=function(){return e.agregarTaller&&e.agregarTaller.apply(e,arguments)})},"VER HORARIO")])):((0,o.uX)(!0),(0,o.CE)(o.FK,{key:1},(0,o.pI)(e.listaHorariosDes,function(e){return(0,o.uX)(),(0,o.CE)("div",tn,[(0,o.Lk)("div",on,(0,i.v_)(e.DIAS),1),(0,o.Lk)("div",ln,(0,i.v_)(e.HORAINI)+" - "+(0,i.v_)(e.HORAFIN),1)])}),256))],64)):(0,o.Q3)("v-if",!0),e.listaTurnos.length>1?((0,o.uX)(),(0,o.CE)("div",sn,"Múltiples horarios")):(0,o.Q3)("v-if",!0)]}),_:1}),(0,o.Lk)("div",cn,[a.taller.FLAG_FREC_DIAS?((0,o.uX)(),(0,o.CE)("div",un,[r[2]||(r[2]=(0,o.Lk)("div",null,"Desde",-1)),(0,o.Lk)("span",dn,[(0,o.Lk)("b",null,(0,i.v_)(e.moneda)+" "+(0,i.v_)(e.monto),1)])])):((0,o.uX)(),(0,o.CE)("div",fn,[e.monto>0?((0,o.uX)(),(0,o.CE)("span",Cn,[(0,o.Lk)("b",null,(0,i.v_)(e.moneda)+" "+(0,i.v_)(e.monto),1)])):((0,o.uX)(),(0,o.CE)("span",pn,t()(r[3]||(r[3]=[(0,o.Lk)("b",null," Gratuito ",-1)]))))]))])])])]),e.noButtonAgregar?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.CE)("div",On,[e.vacantesDisponibles>0?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"bottom-zone",onClick:r[1]||(r[1]=function(){return e.agregarTaller&&e.agregarTaller.apply(e,arguments)})},[(0,o.bF)(s,null,{default:(0,o.k6)(function(){return[(0,o.bF)(s,{class:"center",style:{color:"#1976d2",gap:"5px"}},{default:(0,o.k6)(function(){return[r[4]||(r[4]=(0,o.Lk)("span",{class:"center"},"AGREGAR",-1)),(0,o.bF)(l,{name:"add_shopping_cart",size:"sm"})]}),_:1})]}),_:1})])):(0,o.Q3)("v-if",!0),0===e.vacantesDisponibles?((0,o.uX)(),(0,o.CE)("div",mn,[(0,o.bF)(s,null,{default:(0,o.k6)(function(){return[(0,o.bF)(s,{class:"center",style:{color:"#1976d2"}},{default:(0,o.k6)(function(){return t()(r[5]||(r[5]=[(0,o.Lk)("span",{class:"center"},"AGOTADO",-1)]))}),_:1})]}),_:1})])):(0,o.Q3)("v-if",!0)]))]}),_:1})}var An={emits:["agregarTaller"],props:{taller:{type:Object,default:function(){}},noButtonAgregar:{type:Boolean,default:!1},grupoTaller:{type:Object,default:function(){}}},components:{QBtn:gr.A,QImg:va.A,QIcon:Ra.A,QCard:vr.A,QCardSection:Rr.A,QCardActions:ba.A,QSeparator:Na.A,QTooltip:Ar.nC,constantesTesoreria:qr["default"]},computed:{currentUrlImg:function(){var e="api/GrupovacController/getImagen?idGrupo="+this.grupoTaller.GRUVACOD+"&sie-token="+(0,_r["default"])().token,r=(0,_r["default"])().host+"/"+e;return r}},data:function(){return{vacantesDisponibles:0,nombreTaller:this.taller.CURSODES,nombreGrupoTaller:this.taller.GRUVADES,fechaInicio:"",fechaFin:"",listaTurnos:[],listaHorariosDes:[],moneda:this.taller.MONSIG,monto:this.taller.FLAG_FREC_DIAS?this.taller.MONTO_FREC_MIN:this.taller.MONTO,minCaracteresTooltip:17,imagenTaller:"",DIAS_SEMANA:qr["default"].DIAS_SEMANA}},methods:{agregarTaller:function(e){this.$emit("agregarTaller",this.taller)},dayConverter:function(e){var r=e.replace("T"," ").split(" ")[0].split("-");return r="".concat(r[2],"/").concat(r[1],"/").concat(r[0]),r},getTurno:function(e){var r={dias:Object.entries(e).map(function(e){var r=xr()(e,2),a=r[0],n=r[1];return{DIA:a,HORAINI:n.HORAINI?n.HORAINI.slice(0,5):"",HORAFIN:n.HORAFIN?n.HORAFIN.slice(0,5):""}})};return r},agruparHorarios:function(){var e=this;1===this.listaTurnos.length&&this.listaTurnos[0].dias.map(function(r){var a=e.listaHorariosDes.find(function(e){return e.HORAINI===r.HORAINI&&e.HORAFIN===r.HORAFIN});a?a.DIAS=a.DIAS+", "+e.DIAS_SEMANA[r.DIA]:e.listaHorariosDes.push({HORAINI:r.HORAINI,HORAFIN:r.HORAFIN,DIAS:""+e.DIAS_SEMANA[r.DIA]})})}},beforeMount:function(){var e=this;return Ir()(Cr()().m(function r(){return Cr()().w(function(r){while(1)switch(r.n){case 0:e.fechaInicio=e.dayConverter(e.taller.FECINI),e.fechaFin=e.dayConverter(e.taller.FECFIN),e.taller.TURNOS.map(function(r){var a=JSON.parse(r.TURNOJSON),n=e.getTurno(a);e.listaTurnos.push(Or()({idHorario:e.taller.VACCOD},n)),e.vacantesDisponibles+=r.DISPONIBLES}),e.agruparHorarios();case 1:return r.a(2)}},r)}))()}};const En=(0,Ta.A)(An,[["render",In]]);var hn=En,Dn={class:"row-body-card"},gn={class:"row",style:{width:"100%",height:"100%"}},Sn={class:"new-img col-xs-12"},bn={class:"col-xs-12 col-sm-7"},vn={class:"q-mt-xs q-mb-xs titulo-taller"},Rn={class:"row justify-left q-gutter-sm"},Nn={class:"titulo-taller"},_n={class:"row justify-left q-gutter-sm",style:{display:"flex","justify-content":"space-between"}},Tn={class:"center"},kn={class:"center"},Pn={key:1,class:"row justify-left q-gutter-sm"},Fn={style:{height:"1%"}},wn={class:"row-bottom-card"},Un={key:1,class:"bottom-zone"};function Ln(e,r){var a=(0,o.g2)("q-img"),n=(0,o.g2)("q-tooltip"),l=(0,o.g2)("q-card-section"),s=(0,o.g2)("q-separator"),c=(0,o.g2)("q-icon"),u=(0,o.g2)("q-card");return(0,o.uX)(),(0,o.Wv)(u,{class:"taller",bordered:""},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",Dn,[(0,o.Lk)("div",gn,[(0,o.Lk)("div",Sn,[(0,o.Q3)("Se mostrará para pantalla mobile"),(0,o.bF)(a,{src:e.currentUrlImg},null,8,["src"])]),(0,o.Lk)("div",{class:"bg-img col-sm-5",style:(0,i.Tr)({backgroundImage:"url(".concat(e.currentUrlImg,")")})},null,4),(0,o.Lk)("div",bn,[(0,o.bF)(l,{style:{height:"80%"}},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",null,"Vacantes disponibles: "+(0,i.v_)(e.vacantesDisponibles),1),(0,o.Lk)("div",vn,[(0,o.eW)((0,i.v_)(e.nombreTaller),1),e.nombreTaller.length>e.minCaracteresTooltip?((0,o.uX)(),(0,o.Wv)(n,{key:0},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(e.nombreTaller),1)]}),_:1})):(0,o.Q3)("v-if",!0)]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.listaTurnos,function(r){return(0,o.uX)(),(0,o.CE)("div",Rn,[(0,o.Lk)("span",Nn,[(0,o.eW)((0,i.v_)(r.nombreTaller),1),e.nombreTaller.length>e.minCaracteresTooltip?((0,o.uX)(),(0,o.Wv)(n,{key:0},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(r.nombreTaller),1)]}),_:2},1024)):(0,o.Q3)("v-if",!0)])])}),256)),r[2]||(r[2]=(0,o.Lk)("div",{style:{"padding-top":"8px"}},null,-1)),e.listaTurnos.length<=2?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:0},(0,o.pI)(e.listaTurnos,function(r){return(0,o.uX)(),(0,o.CE)("div",_n,[(0,o.Lk)("div",Tn,(0,i.v_)(e.DIAS_SEMANA[r.dias[0].DIA]),1),(0,o.Lk)("div",kn,(0,i.v_)(r.dias[0].HORAINI)+" - "+(0,i.v_)(r.dias[0].HORAFIN),1)])}),256)):(0,o.Q3)("v-if",!0),e.listaTurnos.length>2?((0,o.uX)(),(0,o.CE)("div",Pn,t()(r[1]||(r[1]=[(0,o.Lk)("div",{class:"center"},"Múltiples horarios",-1)])))):(0,o.Q3)("v-if",!0)]}),_:1}),r[3]||(r[3]=(0,o.Lk)("div",{class:"center-left",style:{height:"20%",padding:"0 8px 8px"}},[(0,o.Lk)("span",null,[(0,o.Lk)("b",null," Precio por semanas efectivas ")])],-1))])])]),(0,o.Lk)("div",Fn,[(0,o.bF)(s)]),(0,o.Lk)("div",wn,[e.vacantesDisponibles>0?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"bottom-zone",onClick:r[0]||(r[0]=function(){return e.agregarTaller&&e.agregarTaller.apply(e,arguments)})},[(0,o.bF)(l,null,{default:(0,o.k6)(function(){return[(0,o.bF)(l,{class:"center",style:{color:"#1976d2",gap:"5px"}},{default:(0,o.k6)(function(){return[r[4]||(r[4]=(0,o.Lk)("span",{class:"center"},"AGREGAR",-1)),(0,o.bF)(c,{name:"add_shopping_cart",size:"sm"})]}),_:1})]}),_:1})])):(0,o.Q3)("v-if",!0),0===e.vacantesDisponibles?((0,o.uX)(),(0,o.CE)("div",Un,[(0,o.bF)(l,null,{default:(0,o.k6)(function(){return[(0,o.bF)(l,{class:"center",style:{color:"#1976d2"}},{default:(0,o.k6)(function(){return t()(r[5]||(r[5]=[(0,o.Lk)("span",{class:"center"},"AGOTADO",-1)]))}),_:1})]}),_:1})])):(0,o.Q3)("v-if",!0)])]}),_:1})}var Mn={emits:["agregarTaller"],props:{taller:{type:Object,default:function(){}},grupoTaller:{type:Object,default:function(){}}},components:{QBtn:gr.A,QImg:va.A,QIcon:Ra.A,QCard:vr.A,QCardSection:Rr.A,QCardActions:ba.A,QSeparator:Na.A,QTooltip:Ar.nC,constantesTesoreria:qr["default"]},computed:{currentUrlImg:function(){var e="api/GrupovacController/getImagen?idGrupo="+this.grupoTaller.GRUVACOD+"&sie-token="+(0,_r["default"])().token,r=(0,_r["default"])().host+"/"+e;return r}},data:function(){return{vacantesDisponibles:0,nombreTaller:this.taller.CURSODES,listaTurnos:[],minCaracteresTooltip:17,imagenTaller:"",DIAS_SEMANA:qr["default"].DIAS_SEMANA}},methods:{agregarTaller:function(e){this.$emit("agregarTaller",this.taller)},dayConverter:function(e){var r=e.replace("T"," ").split(" ")[0].split("-");return r="".concat(r[2],"/").concat(r[1],"/").concat(r[0]),r},getTurno:function(e){var r={dias:Object.entries(e).map(function(e){var r=xr()(e,2),a=r[0],n=r[1];return{DIA:a,HORAINI:n.HORAINI?n.HORAINI.slice(0,5):"",HORAFIN:n.HORAFIN?n.HORAFIN.slice(0,5):""}})};return r},timeToNumber:function(e){var r=e.split(":").map(Number),a=xr()(r,2),n=a[0],t=a[1];return 60*n+t}},beforeMount:function(){var e=this;return Ir()(Cr()().m(function r(){return Cr()().w(function(r){while(1)switch(r.n){case 0:e.vacantesDisponibles=e.taller.PAQUETE[0].TURNOS[0].DISPONIBLES,e.taller.PAQUETE.map(function(r){var a=JSON.parse(r.TURNOS[0].TURNOJSON),n=e.getTurno(a);n.nombreTaller=r.CURSODES,e.listaTurnos.push(n),r.TURNOS[0].DISPONIBLES<e.vacantesDisponibles&&(e.vacantesDisponibles=r.TURNOS[0].DISPONIBLES)}),e.listaTurnos.sort(function(r,a){return e.timeToNumber(r.dias[0].HORAINI)-e.timeToNumber(a.dias[0].HORAINI)});case 1:return r.a(2)}},r)}))()}};const yn=(0,Ta.A)(Mn,[["render",Ln]]);var Hn=yn,Gn=a(23540),qn={emits:["agregarTaller","agregarTallerBpastor"],props:{grupoTaller:{type:Object,default:function(){}},talleres:{type:Array,default:function(){return[]}},paqueteBuenPastor:{type:Boolean,default:!1}},components:{QImg:va.A,QCard:vr.A,QCardSection:Rr.A,cardTaller:Pa,cardTallerBpastor:hn,QSeparator:Na.A,QIntersection:Gn.A,cardPaqueteTaller:Hn,QIcon:Ar.bP},data:function(){return{sie:(0,_r["default"])(),listaTalleres:[],DIAS_SEMANA:qr["default"].DIAS_SEMANA}},methods:{agregarTaller:function(e){this.$emit("agregarTaller",e)},agregarTallerBpastor:function(){var e=this;this.talleres.forEach(function(r){e.$emit("agregarTallerBpastor",r)})},getTurno:function(e){var r={dias:Object.entries(e).map(function(e){var r=xr()(e,2),a=r[0],n=r[1];return{DIA:a,HORAINI:n.HORAINI?n.HORAINI.slice(0,5):"",HORAFIN:n.HORAFIN?n.HORAFIN.slice(0,5):""}})};return r},validarCruceHorarios:function(e,r){var a=this.getTurno(JSON.parse(e.TURNOS[0].TURNOJSON)),n=this.getTurno(JSON.parse(r.TURNOS[0].TURNOJSON)),t=new Date("1970-01-01T"+a.dias[0].HORAINI).getTime(),o=new Date("1970-01-01T"+a.dias[0].HORAFIN).getTime(),i=new Date("1970-01-01T"+n.dias[0].HORAINI).getTime(),l=new Date("1970-01-01T"+n.dias[0].HORAFIN).getTime(),s=t>i&&t<l,c=o>i&&o<l,u=i>t&&i<o,d=l>t&&l<o,f=t===i,C=o===l;return s||c||u||d||f||C},dividirEnPares:function(e){for(var r=[],a=0;a<e.length;a++)for(var n=e[a],t=a+1;t<e.length;t++){var o=e[t];this.validarCruceHorarios(n,o)||r.push([n,o])}return r},agruparTalleresPaquetes:function(){var e=this,r=JSON.parse(JSON.stringify(this.talleres)),a=[],n=[];r.forEach(function(r){if(r.FLAG_PAQUETE_FREC){var t=a.find(function(e){return e.DIAS_HORARIOS===r.DIAS_HORARIOS});t?t.PAQUETE.push(Or()({},r)):(r.PAQUETE=[Or()({},r)],r.CURSODES="Paquete: ".concat(e.DIAS_SEMANA[r.DIAS_HORARIOS]),a.push(r))}else n.push(r)}),a.forEach(function(r){var a=e.dividirEnPares(r.PAQUETE);a.forEach(function(e){var a=JSON.parse(JSON.stringify(r));a.PAQUETE=e,a.ID_CURSO_PERIODO=""+e[0].TURNOS[0].ID_CURSO_PERIODO+e[1].TURNOS[0].ID_CURSO_PERIODO+e[0].DIAS_HORARIOS,a.COD_PAQUETE_CURSO=""+e[0].TURNOS[0].ID_CURSO_PERIODO+e[1].TURNOS[0].ID_CURSO_PERIODO+e[0].DIAS_HORARIOS,n.push(a)})}),this.listaTalleres=n}},beforeMount:function(){var e=this;return Ir()(Cr()().m(function r(){return Cr()().w(function(r){while(1)switch(r.n){case 0:e.agruparTalleresPaquetes();case 1:return r.a(2)}},r)}))()}};const Vn=(0,Ta.A)(qn,[["render",Wa]]);var xn=Vn,Qn={style:{width:"100%",height:"calc(100vh - 220px)"}},Xn={class:"center gap-5",style:{padding:"8px"}},Bn={class:"button-pagar"},jn={key:0,class:"text-carrito"},$n={key:1,class:"text-carrito"},Yn={key:1,class:"text-carrito"};function Wn(e,r){var a=(0,o.g2)("q-icon"),n=(0,o.g2)("q-card"),t=(0,o.g2)("q-card-section"),l=(0,o.g2)("cardCarritoPaquete"),s=(0,o.g2)("cardCarritoTaller");return(0,o.uX)(),(0,o.CE)("div",Qn,[(0,o.bF)(n,{class:"center bg-primary header-carrito",bordered:""},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",Xn,[r[1]||(r[1]=(0,o.Lk)("div",{class:"text-carrito"},"Carrito",-1)),(0,o.bF)(a,{name:"shopping_cart",size:"sm"})]),e.vaciarCarritoButton?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"vaciar-carrito-btn",onClick:r[0]||(r[0]=function(){return e.vaciarCarrito&&e.vaciarCarrito.apply(e,arguments)})},[(0,o.bF)(a,{class:"cursor-pointer",name:"delete",size:"sm"})])):(0,o.Q3)("v-if",!0)]}),_:1}),(0,o.bF)(n,{class:(0,i.C4)(["body-carrito",0===e.listaComprasTemporal.length?"center":"carrito-lleno"]),bordered:""},{default:(0,o.k6)(function(){return[0===e.listaComprasTemporal.length?((0,o.uX)(),(0,o.Wv)(t,{key:0,class:"center"},{default:(0,o.k6)(function(){return[(0,o.bF)(t,{style:{display:"grid"}},{default:(0,o.k6)(function(){return[(0,o.bF)(a,{name:"shopping_cart",size:"md"}),r[2]||(r[2]=(0,o.Lk)("div",{class:"text-carrito"},"Agrega un curso al carrito",-1))]}),_:1})]}),_:1})):((0,o.uX)(),(0,o.Wv)(t,{key:1},{default:(0,o.k6)(function(){return[(0,o.bF)(t,{class:"grid-gap"},{default:(0,o.k6)(function(){return[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.listaComprasTemporal,function(r){return(0,o.uX)(),(0,o.CE)(o.FK,null,[r.FLAG_PAQUETE_FREC?((0,o.uX)(),(0,o.Wv)(l,{key:0,taller:r,onQuitarDeCarrito:e.quitarDeCarrito,onMostrarDetalle:e.mostrarDetalle},null,8,["taller","onQuitarDeCarrito","onMostrarDetalle"])):((0,o.uX)(),(0,o.Wv)(s,{key:1,taller:r,onQuitarDeCarrito:e.quitarDeCarrito,onMostrarDetalle:e.mostrarDetalle,noEliminarItem:e.noEliminarItem},null,8,["taller","onQuitarDeCarrito","onMostrarDetalle","noEliminarItem"]))],64)}),256))]}),_:1})]}),_:1}))]}),_:1},8,["class"]),(0,o.bF)(n,{class:(0,i.C4)(["center footer-carrito",e.listaComprasTemporal.length>0?"bg-primary cursor-pointer":"bg-disabled"]),flat:"",bordered:"",onClick:e.finalizarCompra},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",Bn,[r[3]||(r[3]=(0,o.Lk)("div",{class:"text-carrito"},"Finalizar compra",-1)),e.listaAgrupada.length>0?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[e.montoTotal?((0,o.uX)(),(0,o.CE)("div",jn,(0,i.v_)(e.montoTotalMasListaAgrupada),1)):((0,o.uX)(),(0,o.CE)("div",$n,(0,i.v_)(e.listaAgrupada.length)+" paquete(s)",1))],64)):((0,o.uX)(),(0,o.CE)("div",Yn,(0,i.v_)(e.monsig)+" "+(0,i.v_)(e.montoTotal),1))])]}),_:1},8,["onClick","class"])])}var zn={class:"row col-img-carrito mobile"},Jn={class:"row row-card"},Kn={class:"col-close-icon center cursor-pointer web"},Zn={key:0,class:"col-img-carrito center web"},et={class:"text-h6 q-mt-xs titulo-taller"},rt={class:"row q-gutter-sm",style:{display:"flex","justify-content":"space-between","align-items":"center",padding:"4px 0px"}},at={class:"center fechas"},nt={class:"row justify-left q-gutter-sm",style:{display:"flex","justify-content":"space-between"}},tt={class:"center"},ot={class:"center"},it={class:"row justify-left q-gutter-sm",style:{display:"flex","justify-content":"space-between"}},lt={class:"center"},st={class:"center"},ct={class:"col-monto-carrito center web"},ut={class:"monto"},dt={class:"row col-monto-carrito center-right mobile"},ft={class:"monto"},Ct={key:0,class:"row col-close-icon center mobile"};function pt(e,r){var a=(0,o.g2)("q-img"),n=(0,o.g2)("q-tooltip"),l=(0,o.g2)("q-icon"),s=(0,o.g2)("q-separator"),c=(0,o.g2)("q-card");return(0,o.uX)(),(0,o.Wv)(c,{class:"taller-carrito",bordered:""},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",zn,[(0,o.Q3)("Imagen que solo se verá en mobile"),(0,o.bF)(a,{class:"img-carrito center",src:e.currentUrlImg},null,8,["src"])]),(0,o.Lk)("div",Jn,[(0,o.Lk)("div",Kn,[e.noEliminarItem?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[e.taller.ID_INSCRIPCION_DETALLE?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[3!==e.taller.ESTADO?((0,o.uX)(),(0,o.Wv)(l,{key:0,name:"clock_o",size:"md"},{default:(0,o.k6)(function(){return[(0,o.bF)(n,null,{default:(0,o.k6)(function(){return t()(r[2]||(r[2]=[(0,o.eW)("Pendiente de pago",-1)]))}),_:1})]}),_:1})):((0,o.uX)(),(0,o.Wv)(l,{key:1,name:"google",size:"md"},{default:(0,o.k6)(function(){return[(0,o.bF)(n,null,{default:(0,o.k6)(function(){return t()(r[3]||(r[3]=[(0,o.eW)("Gratuito",-1)]))}),_:1})]}),_:1}))],64)):((0,o.uX)(),(0,o.Wv)(l,{key:1,name:"close",size:"md",onClick:e.onClickQuitarDeCarrito},null,8,["onClick"]))],64))]),e.isBpastor?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.CE)("div",Zn,[(0,o.bF)(a,{class:"img-carrito center",src:e.currentUrlImg},null,8,["src"])])),(0,o.Lk)("div",{class:"col-text-carrito cursor-pointer",onClick:r[0]||(r[0]=function(){return e.onClickMostrarDetalle&&e.onClickMostrarDetalle.apply(e,arguments)})},[(0,o.Lk)("div",et,[(0,o.eW)((0,i.v_)(e.taller.ID_CURSO_PERIODO)+" - "+(0,i.v_)(e.nombreTaller),1),e.nombreTaller.length>e.minCaracteresTooltip?((0,o.uX)(),(0,o.Wv)(n,{key:0},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(e.nombreTaller),1)]}),_:1})):(0,o.Q3)("v-if",!0)]),(0,o.Lk)("div",rt,[(0,o.bF)(l,{class:"calendar-icon",name:"calendar_today",size:"sm"}),(0,o.Lk)("div",at,(0,i.v_)(e.fechaInicio)+" - "+(0,i.v_)(e.fechaFin),1)]),e.taller.FLAG_FREC_DIAS&&!e.taller.ID_INSCRIPCION_DETALLE?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:0},(0,o.pI)(e.taller.GRUPO_TURNOS,function(r){return(0,o.uX)(),(0,o.CE)("div",nt,[(0,o.Lk)("div",tt,(0,i.v_)(e.DIAS_SEMANA[r.HORARIOS[0].DIA]),1),(0,o.Lk)("div",ot,(0,i.v_)(r.HORARIOS[0].HORAINI.substring(0,5))+" - "+(0,i.v_)(r.HORARIOS[0].HORAFIN.substring(0,5)),1)])}),256)):((0,o.uX)(!0),(0,o.CE)(o.FK,{key:1},(0,o.pI)(e.taller.HORARIOS,function(r){return(0,o.uX)(),(0,o.CE)("div",it,[(0,o.Lk)("div",lt,(0,i.v_)(e.DIAS_SEMANA[r.DIA]),1),(0,o.Lk)("div",st,(0,i.v_)(r.HORAINI.substring(0,5))+" - "+(0,i.v_)(r.HORAFIN.substring(0,5)),1)])}),256))]),(0,o.Lk)("div",ct,[(0,o.Lk)("span",ut,[(0,o.Lk)("b",null,(0,i.v_)(e.moneda)+" "+(0,i.v_)(e.monto),1)])])]),(0,o.Lk)("div",dt,[(0,o.Q3)("Monto que solo se verá en mobile"),(0,o.Lk)("span",ft,[(0,o.Lk)("b",null,(0,i.v_)(e.moneda)+" "+(0,i.v_)(e.monto),1)])]),(0,o.bF)(s,{class:"mobile"}),e.taller.ID_INSCRIPCION_DETALLE?((0,o.uX)(),(0,o.CE)("div",Ct,[(0,o.bF)(l,{name:"clock_o",size:"md"},{default:(0,o.k6)(function(){return[(0,o.bF)(n,null,{default:(0,o.k6)(function(){return t()(r[4]||(r[4]=[(0,o.eW)("Pendiente de pago",-1)]))}),_:1})]}),_:1})])):((0,o.uX)(),(0,o.CE)("div",{key:1,class:"row col-close-icon center mobile",onClick:r[1]||(r[1]=function(){return e.onClickQuitarDeCarrito&&e.onClickQuitarDeCarrito.apply(e,arguments)})},[(0,o.Q3)("Icono que solo se verá en mobile"),(0,o.bF)(l,{name:"close",size:"md"})]))]}),_:1})}var Ot={emits:["quitarDeCarrito","mostrarDetalle"],props:{taller:{type:Object,default:function(){}},noEliminarItem:{type:Boolean,default:!1}},components:{QBtn:gr.A,QImg:va.A,QIcon:Ra.A,QCard:vr.A,QCardSection:Rr.A,QCardActions:ba.A,QSeparator:Na.A,QTooltip:Ar.nC,constantesTesoreria:qr["default"]},data:function(){return{isBpastor:"0090"===(0,_r["default"])().colcod,vacantesDisponibles:this.taller.DISPONIBLES,nombreTaller:this.taller.CURSODES,nombreGrupoTaller:this.taller.GRUVADES,fechaInicio:"",fechaFin:"",moneda:this.taller.MONSIG,monto:this.taller.MONTO,minCaracteresTooltip:12,DIAS_SEMANA:qr["default"].DIAS_SEMANA}},computed:{currentUrlImg:function(){var e="api/GrupovacController/getImagen?idGrupo="+this.taller.GRUVACOD+"&sie-token="+(0,_r["default"])().token,r=(0,_r["default"])().host+"/"+e;return r}},methods:{dayConverter:function(e){var r=e.replace("T"," ").split(" ")[0].split("-");return r="".concat(r[2],"/").concat(r[1],"/").concat(r[0]),r},onClickQuitarDeCarrito:function(){this.$emit("quitarDeCarrito",this.taller)},onClickMostrarDetalle:function(){this.$emit("mostrarDetalle",this.taller)}},beforeMount:function(){var e=this;return Ir()(Cr()().m(function r(){return Cr()().w(function(r){while(1)switch(r.n){case 0:e.fechaInicio=e.dayConverter(e.taller.FECINI),e.fechaFin=e.dayConverter(e.taller.FECFIN);case 1:return r.a(2)}},r)}))()},created:function(){console.log("cardCarrtitoTAllerthis.noEliminarItem",this.noEliminarItem)}};const mt=(0,Ta.A)(Ot,[["render",pt]]);var It=mt,At={class:"row col-img-carrito mobile"},Et={class:"row row-card"},ht={class:"col-close-icon center cursor-pointer web"},Dt={class:"col-img-carrito center web"},gt={class:"col-text-paquete"},St={class:"row justify-left q-gutter-sm"},bt={class:"titulo-taller"},vt={class:"text-h6 q-mt-xs titulo-taller"},Rt={class:"row justify-left q-gutter-sm"},Nt={class:"titulo-taller"},_t={class:"row justify-left q-gutter-sm",style:{display:"flex","justify-content":"space-between"}},Tt={class:"center"},kt={class:"center"},Pt={key:0,class:"row col-close-icon center mobile"};function Ft(e,r){var a=(0,o.g2)("q-img"),n=(0,o.g2)("q-tooltip"),l=(0,o.g2)("q-icon"),s=(0,o.g2)("q-separator"),c=(0,o.g2)("q-card");return(0,o.uX)(),(0,o.Wv)(c,{class:"taller-carrito",bordered:""},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",At,[(0,o.Q3)("Imagen que solo se verá en mobile"),(0,o.bF)(a,{class:"img-carrito center",src:e.currentUrlImg},null,8,["src"])]),(0,o.Lk)("div",Et,[(0,o.Lk)("div",ht,[e.taller.ID_INSCRIPCION_DETALLE?((0,o.uX)(),(0,o.Wv)(l,{key:0,name:"clock_o",size:"md"},{default:(0,o.k6)(function(){return[(0,o.bF)(n,null,{default:(0,o.k6)(function(){return t()(r[1]||(r[1]=[(0,o.eW)("Pendiente de pago",-1)]))}),_:1})]}),_:1})):((0,o.uX)(),(0,o.Wv)(l,{key:1,name:"close",size:"md",onClick:e.onClickQuitarDeCarrito},null,8,["onClick"]))]),(0,o.Lk)("div",Dt,[(0,o.bF)(a,{class:"img-carrito center",src:e.currentUrlImg},null,8,["src"])]),(0,o.Lk)("div",gt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.listaTurnos,function(r){return(0,o.uX)(),(0,o.CE)("div",St,[(0,o.Lk)("span",bt,[(0,o.eW)((0,i.v_)(r.nombreTaller),1),e.nombreTaller.length>e.minCaracteresTooltip?((0,o.uX)(),(0,o.Wv)(n,{key:0},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(r.nombreTaller),1)]}),_:2},1024)):(0,o.Q3)("v-if",!0)])])}),256)),(0,o.Lk)("div",vt,[(0,o.eW)((0,i.v_)(e.nombreTaller),1),e.nombreTaller.length>e.minCaracteresTooltip?((0,o.uX)(),(0,o.Wv)(n,{key:0},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(e.nombreTaller),1)]}),_:1})):(0,o.Q3)("v-if",!0)]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.taller.PAQUETE,function(r){return(0,o.uX)(),(0,o.CE)("div",Rt,[(0,o.Lk)("span",Nt,[(0,o.eW)((0,i.v_)(r.CURSODES),1),r.CURSODES.length>e.minCaracteresTooltip?((0,o.uX)(),(0,o.Wv)(n,{key:0},{default:(0,o.k6)(function(){return[(0,o.eW)((0,i.v_)(r.CURSODES),1)]}),_:2},1024)):(0,o.Q3)("v-if",!0)])])}),256)),r[2]||(r[2]=(0,o.Lk)("div",{style:{"padding-top":"8px"}},null,-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.taller.PAQUETE,function(r){return(0,o.uX)(),(0,o.CE)("div",_t,[(0,o.Lk)("div",Tt,(0,i.v_)(e.DIAS_SEMANA[r.HORARIOS[0].DIA]),1),(0,o.Lk)("div",kt,(0,i.v_)(r.HORARIOS[0].HORAINI)+" - "+(0,i.v_)(r.HORARIOS[0].HORAFIN),1)])}),256))])]),(0,o.bF)(s,{class:"mobile"}),e.taller.ID_INSCRIPCION_DETALLE?((0,o.uX)(),(0,o.CE)("div",Pt,[(0,o.bF)(l,{name:"clock_o",size:"md"},{default:(0,o.k6)(function(){return[(0,o.bF)(n,null,{default:(0,o.k6)(function(){return t()(r[3]||(r[3]=[(0,o.eW)("Pendiente de pago",-1)]))}),_:1})]}),_:1})])):((0,o.uX)(),(0,o.CE)("div",{key:1,class:"row col-close-icon center mobile",onClick:r[0]||(r[0]=function(){return e.onClickQuitarDeCarrito&&e.onClickQuitarDeCarrito.apply(e,arguments)})},[(0,o.Q3)("Icono que solo se verá en mobile"),(0,o.bF)(l,{name:"close",size:"md"})]))]}),_:1})}var wt={emits:["quitarDeCarrito","mostrarDetalle"],props:{taller:{type:Object,default:function(){}}},components:{QBtn:gr.A,QImg:va.A,QIcon:Ra.A,QCard:vr.A,QCardSection:Rr.A,QCardActions:ba.A,QSeparator:Na.A,QTooltip:Ar.nC,constantesTesoreria:qr["default"]},data:function(){return{nombreTaller:this.taller.CURSODES,nombreGrupoTaller:this.taller.GRUVADES,listaTurnos:[],minCaracteresTooltip:12,DIAS_SEMANA:qr["default"].DIAS_SEMANA}},computed:{currentUrlImg:function(){var e="api/GrupovacController/getImagen?idGrupo="+this.taller.GRUVACOD+"&sie-token="+(0,_r["default"])().token,r=(0,_r["default"])().host+"/"+e;return r}},methods:{dayConverter:function(e){var r=e.replace("T"," ").split(" ")[0].split("-");return r="".concat(r[2],"/").concat(r[1],"/").concat(r[0]),r},onClickQuitarDeCarrito:function(){this.$emit("quitarDeCarrito",this.taller)},onClickMostrarDetalle:function(){this.$emit("mostrarDetalle",this.taller)},getTurno:function(e){var r={dias:Object.entries(e).map(function(e){var r=xr()(e,2),a=r[0],n=r[1];return{DIA:a,HORAINI:n.HORAINI?n.HORAINI.slice(0,5):"",HORAFIN:n.HORAFIN?n.HORAFIN.slice(0,5):""}})};return r},timeToNumber:function(e){var r=e.split(":").map(Number),a=xr()(r,2),n=a[0],t=a[1];return 60*n+t}},beforeMount:function(){var e=this;return Ir()(Cr()().m(function r(){return Cr()().w(function(r){while(1)switch(r.n){case 0:e.taller.PAQUETE.sort(function(r,a){return e.timeToNumber(r.HORARIOS[0].HORAINI)-e.timeToNumber(a.HORARIOS[0].HORAINI)});case 1:return r.a(2)}},r)}))()}};const Ut=(0,Ta.A)(wt,[["render",Ft]]);var Lt=Ut,Mt={emits:["vaciarCarrito","quitarDeCarrito","mostrarDetalle","finalizarCompra"],props:{listaCompras:{type:Array,default:function(){return[]}},noEliminarItem:{type:Boolean,default:!1},vaciarCarritoButton:{type:Boolean,default:!1}},components:{QImg:va.A,QCard:vr.A,QCardSection:Rr.A,cardTaller:Pa,QIcon:Ra.A,cardCarritoTaller:It,cardCarritoPaquete:Lt},data:function(){return{listaComprasTemporal:null,DIAS_SEMANA:qr["default"].DIAS_SEMANA,listaAgrupada:[]}},computed:{montoTotalMasListaAgrupada:function(){var e=this.listaAgrupada.filter(function(e){return!e.ID_INSCRIPCION_DETALLE}).length;return this.montoTotal&&!e?"".concat(this.monsig," ").concat(this.montoTotal):"".concat(this.monsig," ").concat(this.montoTotal," + ").concat(e," paquete(s)")},montoTotal:function(){var e,r=0,a=dr()(this.listaComprasTemporal);try{for(a.s();!(e=a.n()).done;){var n=e.value;n.FLAG_PAQUETE_FREC&&n.ID_FRECUENCIA?r+=n.MONTO_PAQUETE/this.listaComprasTemporal.filter(function(e){return e.FLAG_PAQUETE_FREC&&e.ID_FRECUENCIA&&1===e.ESTADO}).length:!n.FLAG_PAQUETE_FREC&&n.ID_FRECUENCIA?r+=Number(n.MONTO_FRECUENCIA)||n.MONTO:r+=n.MONTO}}catch(e){a.e(e)}finally{a.f()}return r},monsig:function(){var e="S/";return 0===this.listaCompras.length||(e=this.listaCompras[0].MONSIG),e}},methods:{vaciarCarrito:function(){var e=this;this.$confirm("¿Está seguro de que desea vaciar el carrito? (No se eliminarán cursos pendientes de pago)").onOk(function(){e.$emit("vaciarCarrito",e.listaCompras)})},quitarDeCarrito:function(e){var r=this;this.$confirm("¿Desea eliminar este taller del carrito?").onOk(function(){r.$emit("quitarDeCarrito",e)})},mostrarDetalle:function(e){this.$emit("mostrarDetalle",e)},finalizarCompra:function(){if(0!==this.listaComprasTemporal.length){var e=t()(this.listaCompras);this.$emit("finalizarCompra",e)}},getListaComprasTemporal:function(){var e=this,r=[],a=[],n=[];return this.listaComprasTemporal.forEach(function(e){if(a.includes(e.ID_CURSO_PERIODO)){var n=r.find(function(r){return r.ID_CURSO_PERIODO===e.ID_CURSO_PERIODO});n.HORARIOS.push(e.HORARIOS[0]),n.GRUPO_TALLERES.push(e)}else e.GRUPO_TALLERES=[e],r.push(e),a.push(e.ID_CURSO_PERIODO)}),r.forEach(function(r){if(r.FLAG_PAQUETE_FREC){var a=e.listaAgrupada.find(function(e){return e.DIAS_HORARIOS===r.DIAS_HORARIOS&&e.COD_PAQUETE_CURSO===r.COD_PAQUETE_CURSO});if(a)a.PAQUETE.push(Or()({},r));else{r.PAQUETE=[Or()({},r)];var t=e.DIAS_SEMANA[r.DIAS_HORARIOS]||e.DIAS_SEMANA[r.DIAS]||e.DIAS_SEMANA[r.DIAS.split(",")[0]];r.CURSODES="Paquete: ".concat(t),e.listaAgrupada.push(r)}}else n.push(r)}),n=n.concat(this.listaAgrupada),n}},beforeMount:function(){var e=this;return Ir()(Cr()().m(function r(){return Cr()().w(function(r){while(1)switch(r.n){case 0:e.listaComprasTemporal=JSON.parse(JSON.stringify(e.listaCompras)),e.listaComprasTemporal=e.getListaComprasTemporal();case 1:return r.a(2)}},r)}))()},created:function(){}};const yt=(0,Ta.A)(Mt,[["render",Wn]]);var Ht=yt,Gt={class:"titulo-modal font-20 center"},qt={class:"titulo-taller font-20"},Vt={class:"center-between"},xt={class:"bold"},Qt={class:"center-between"},Xt={class:"bold"},Bt={class:"bold break-word"},jt={class:"center-between"},$t={class:"bold"},Yt={class:"center-between"},Wt={class:"bold"},zt=["href"],Jt=["href"],Kt={class:"sub-card-section"},Zt={class:"sub-card-section"},eo={class:"row justify-left q-gutter-sm",style:{display:"flex","justify-content":"space-between"}},ro={class:"center"},ao={class:"center"},no={key:7,class:"sub-card-section"},to={key:8,class:"sub-card-section"},oo={class:"row q-col-gutter-sm"},io={class:"col-xs-12"},lo={class:"center gap-10"},so={class:"font-20"};function co(e,r){var a=this,n=(0,o.g2)("q-icon"),l=(0,o.g2)("q-card-section"),s=(0,o.g2)("q-separator"),c=(0,o.g2)("q-img"),u=(0,o.g2)("q-select"),d=(0,o.g2)("sie-table"),f=(0,o.g2)("q-card");return(0,o.uX)(),(0,o.Wv)(f,{class:"components--elegir-horario-taller",style:(0,i.Tr)({overflow:e.isSmall?"auto":"hidden"})},{default:(0,o.k6)(function(){return[(0,o.bF)(l,null,{default:(0,o.k6)(function(){return[(0,o.bF)(n,{class:"cursor-pointer",name:"close",size:"sm",style:{position:"absolute"},onClick:e.onClickClose},null,8,["onClick"]),(0,o.Lk)("span",Gt,(0,i.v_)(e.grupoTaller.GRUVADES),1)]}),_:1}),(0,o.bF)(s,{style:{height:"0px"}}),(0,o.bF)(l,{class:"scroll-auto",style:{height:"calc(100vh - 183px)"}},{default:(0,o.k6)(function(){return[(0,o.bF)(l,{style:{"padding-top":"0px"}},{default:(0,o.k6)(function(){return[(0,o.bF)(c,{class:"img-modal",src:e.currentUrlImg},null,8,["src"])]}),_:1}),(0,o.bF)(l,{style:{"padding-top":"0px"}},{default:(0,o.k6)(function(){return[(0,o.Lk)("span",qt,(0,i.v_)(e.taller.ID_CURSO_PERIODO)+" - "+(0,i.v_)(e.taller.CURSODES.toUpperCase()),1)]}),_:1}),(0,o.bF)(l,{style:{"padding-top":"0px"}},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",Vt,[r[1]||(r[1]=(0,o.Lk)("span",null,"Fecha de Inicio:",-1)),(0,o.Lk)("span",xt,(0,i.v_)(e.fechaInicio),1)])]}),_:1}),(0,o.bF)(l,{style:{"padding-top":"0px"}},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",Qt,[r[2]||(r[2]=(0,o.Lk)("span",null,"Fecha de Fin:",-1)),(0,o.Lk)("span",Xt,(0,i.v_)(e.fechaFin),1)])]}),_:1}),e.taller.NOMCOMP_PROFESOR?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.bF)(l,null,{default:(0,o.k6)(function(){return t()(r[3]||(r[3]=[(0,o.Lk)("span",null,"Profesor(a):",-1)]))}),_:1}),(0,o.bF)(l,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("span",Bt,(0,i.v_)(e.taller.NOMCOMP_PROFESOR),1)]}),_:1})],64)):(0,o.Q3)("v-if",!0),e.taller.AULA?((0,o.uX)(),(0,o.Wv)(l,{key:1},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",jt,[r[4]||(r[4]=(0,o.Lk)("span",null,"Aula:",-1)),(0,o.Lk)("span",$t,(0,i.v_)(e.taller.AULA),1)])]}),_:1})):(0,o.Q3)("v-if",!0),e.taller.REQUISITOS?((0,o.uX)(),(0,o.Wv)(l,{key:2},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",Yt,[r[5]||(r[5]=(0,o.Lk)("span",null,"Requisitos:",-1)),(0,o.Lk)("span",Wt,(0,i.v_)(e.taller.REQUISITOS),1)])]}),_:1})):(0,o.Q3)("v-if",!0),e.taller.REGLAMENTO?((0,o.uX)(),(0,o.CE)(o.FK,{key:3},[(0,o.bF)(l,null,{default:(0,o.k6)(function(){return t()(r[6]||(r[6]=[(0,o.Lk)("span",null,"Reglamento:",-1)]))}),_:1}),(0,o.bF)(l,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("a",{class:"break-word",href:e.taller.REGLAMENTO,target:"_blank"},(0,i.v_)(e.taller.REGLAMENTO),9,zt)]}),_:1})],64)):(0,o.Q3)("v-if",!0),e.taller.UTILES?((0,o.uX)(),(0,o.CE)(o.FK,{key:4},[(0,o.bF)(l,null,{default:(0,o.k6)(function(){return t()(r[7]||(r[7]=[(0,o.Lk)("span",null,"Lista de útiles:",-1)]))}),_:1}),(0,o.bF)(l,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("a",{class:"break-word",href:e.taller.UTILES,target:"_blank"},(0,i.v_)(e.taller.UTILES),9,Jt)]}),_:1})],64)):(0,o.Q3)("v-if",!0),e.comboTurnos.length>1?((0,o.uX)(),(0,o.CE)(o.FK,{key:5},[r[8]||(r[8]=(0,o.Lk)("div",{class:"sub-card-section"},[(0,o.Lk)("span",null,"Turnos:")],-1)),(0,o.Lk)("div",Kt,[(0,o.bF)(u,{modelValue:e.turnoSeleccionado,"onUpdate:modelValue":r[0]||(r[0]=function(r){return e.turnoSeleccionado=r}),options:e.comboTurnos},null,8,["modelValue","options"])])],64)):(0,o.Q3)("v-if",!0),1===e.comboTurnos.length?((0,o.uX)(),(0,o.CE)(o.FK,{key:6},[r[9]||(r[9]=(0,o.Lk)("div",{class:"sub-card-section"},[(0,o.Lk)("span",null,"Turno:")],-1)),(0,o.Lk)("div",Zt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.comboTurnos[0].DATA_AGRUPADA,function(e){return(0,o.uX)(),(0,o.CE)("div",eo,[(0,o.Lk)("div",ro,[(0,o.Lk)("b",null,(0,i.v_)(e.DIAS),1)]),(0,o.Lk)("div",ao,[(0,o.Lk)("b",null,(0,i.v_)(e.HORAINI)+" - "+(0,i.v_)(e.HORAFIN),1)])])}),256))])],64)):(0,o.Q3)("v-if",!0),e.showVacantes?((0,o.uX)(),(0,o.CE)("div",no,[(0,o.Lk)("span",null,"Vacantes disponibles: "+(0,i.v_)(e.vacantesSelected),1)])):(0,o.Q3)("v-if",!0),e.paquetesDet.length>1?((0,o.uX)(),(0,o.CE)("div",to,[(0,o.Lk)("div",oo,[r[10]||(r[10]=(0,o.Lk)("div",{class:"col-xs-12"},[(0,o.Lk)("span",{class:"text-bold text-primary"},"Lista de talleres que incluye el paquete:")],-1)),r[11]||(r[11]=(0,o.Lk)("div",{class:"col-xs-12"},[(0,o.Lk)("span",{class:"text-grey"},"Nota: Debe escoger 1 taller por color ya que se repite los turnos")],-1)),(0,o.Lk)("div",io,[(0,o.bF)(d,{data:e.paquetesDet,columns:e.fieldsPaqueteDet,config:e.configPaqueteDet,context:a,showSearch:!1,css:{height:"calc(100vh - 195px)"}},null,8,["data","columns","config"])])])])):(0,o.Q3)("v-if",!0),e.grupoTaller.DESCRIPCION?((0,o.uX)(),(0,o.CE)(o.FK,{key:9},[(0,o.bF)(l,null,{default:(0,o.k6)(function(){return t()(r[12]||(r[12]=[(0,o.Lk)("span",{class:"titulo-modal font-20"},"Información importante",-1)]))}),_:1}),(0,o.bF)(l,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("span",null,(0,i.v_)(e.grupoTaller.DESCRIPCION),1)]}),_:1})],64)):(0,o.Q3)("v-if",!0)]}),_:1}),(0,o.bF)(s,{style:{height:"0px"}}),(0,o.bF)(l,{class:"center",flat:"",bordered:""},{default:(0,o.k6)(function(){return[(0,o.bF)(l,{class:(0,i.C4)(["button-agregar-carrito",e.turnoSeleccionado?"bg-primary cursor-pointer":"bg-disabled"]),onClick:e.onClickAgregarACarrito},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",lo,[(0,o.bF)(n,{name:"shopping_cart",size:"md"}),r[13]||(r[13]=(0,o.Lk)("span",{class:"font-20"},"Agregar a carrito",-1))]),(0,o.Lk)("span",so,(0,i.v_)(e.taller.MONSIG)+" "+(0,i.v_)(e.taller.MONTO),1)]}),_:1},8,["class","onClick"])]}),_:1})]}),_:1},8,["style"])}a(33092),a(1201);var uo={mixins:[Hr.A],data:function(){return{paquetesDet:[],configPaqueteDet:{FECINI:{component:"date",format:"DD/MM",edit:!1},FECFIN:{component:"date",format:"DD/MM",edit:!1},CURSODES:{renderHtml:function(e,r,a,n){return n["$$background"]=e.COLOR,r("span",{},e.CURSODES)}},HORARIODES:{renderHtml:function(e,r,a,n){var t=this.agruparDiasPorHoras(e.HORARIODES.trimEnd());return r("div",{class:"row"},[r("div",{class:"col-12"},t.split(" (")[0]),r("div",{class:"col-12"},"("+t.split(" (")[1])])}},ACCIONES:{renderHtml:function(e,r,a,n){return e.REPETIDO?a.icon({name:"shopping_cart",color:"black"}):r("span",{},"")},renderAction:function(e,r){r.SELECTED=!0;var a=this.paquetesDet.some(function(r){return r.ID_CURSO_PERIODO!==e.ID_CURSO_PERIODO&&(r.HORARIODES===e.HORARIODES&&(new Date(e.FECINI)<=new Date(r.FECFIN)&&new Date(e.FECFIN)>=new Date(r.FECINI)))});a&&(this.paquetesDet=this.paquetesDet.filter(function(r){if(r.ID_CURSO_PERIODO===e.ID_CURSO_PERIODO)return!0;if(r.HORARIODES!==e.HORARIODES)return!0;var a=new Date(e.FECINI)<=new Date(r.FECFIN)&&new Date(e.FECFIN)>=new Date(r.FECINI);return!a}))},tooltip:"Agregar Taller"}},fieldsPaqueteDet:[{name:"CURSODES",label:"Taller",field:"CURSODES",align:"center",width:50,wrap:!0},{name:"FECINI",label:"Fec. Ini",field:"FECINI",align:"center",sortable:!0},{name:"FECFIN",label:"Fec. Fin",field:"FECFIN",align:"left",sortable:!0},{name:"HORARIODES",label:"Horario",field:"HORARIODES",align:"left"},{name:"ACCIONES",label:"Acciones",field:"ACCIONES",align:"center"}]}},methods:{getListaPaquetesDet:function(){var e=this;return Ir()(Cr()().m(function r(){var a,n,t,o,i,l;return Cr()().w(function(r){while(1)switch(r.n){case 0:return a={idCursoPeriodoPaquete:e.taller.ID_CURSO_PERIODO},r.n=1,e.$http.get("api/CtCursoPeriodoController/getListaPaquetesDet",{params:{params:a}});case 1:n=r.v,t=["#fd8383ff","#4ECDC4","#556270","#C7F464","#fcd6a0ff","#ffe989ff","#FF9AA2","#FFB7B2","#FFDAC1","#E2F0CB","#B5EAD7","#C7CEEA"],o=n.map(function(e){return Or()(Or()({},e),{},{FECINI:new Date(e.FECINI),FECFIN:new Date(e.FECFIN)})}),i={},l=0,o.forEach(function(e,r){for(var a=0;a<o.length;a++)if(r!==a){var n=o[a],t=e.HORARIODES===n.HORARIODES,s=e.FECINI<=n.FECFIN&&e.FECFIN>=n.FECINI;if(t&&s){var c=e.HORARIODES;i[c]||(l++,i[c]=l),e.GRUPO=i[c],n.GRUPO=i[c]}}}),e.paquetesDet=o.map(function(e){return Or()(Or()({},e),{},{REPETIDO:!!e.GRUPO,INDEX_REPETIDO:e.GRUPO||0,COLOR:e.GRUPO?t[(e.GRUPO-1)%t.length]:"white"})}),e.orderTalleres();case 2:return r.a(2)}},r)}))()},orderTalleres:function(){var e=this;this.paquetesDet=this.paquetesDet.sort(function(r,a){var n=new Date(r.FECINI),t=new Date(a.FECINI);if(n.getTime()!==t.getTime())return n-t;var o=e.timeToMinutes(e.getFirstStartTime(r.HORARIODES)),i=e.timeToMinutes(e.getFirstStartTime(a.HORARIODES));return o!==i?o-i:r.REPETIDO!==a.REPETIDO?r.REPETIDO?-1:1:r.REPETIDO&&a.REPETIDO?r.INDEX_REPETIDO-a.INDEX_REPETIDO:r.ID_CURSO_PERIODO-a.ID_CURSO_PERIODO})},getFirstStartTime:function(e){var r=e.match(/\(\s*([0-9]{2}:[0-9]{2})/);return r?r[1]:"00:00"},timeToMinutes:function(e){var r=e.split(":").map(Number),a=xr()(r,2),n=a[0],t=a[1];return 60*n+t},agregarDetallePaquete:function(){this.paquetesDet.length>1&&(this.validarSeleccionTurnos(),this.taller.PAQUETE_DET=this.paquetesDet)},validarSeleccionTurnos:function(){var e={};this.paquetesDet.map(function(r){r.REPETIDO&&(e[r.HORARIODES]||(e[r.HORARIODES]=[]),e[r.HORARIODES].push(r))});var r=!1;if(Object.keys(e).map(function(a){var n=e[a];console.log("grupo",n);var t=n.some(function(e){return!0===e.SELECTED});console.log("algunoSeleccionado",t),t||(r=!0)}),r)throw new Error("Debe seleccionar un taller por cada horario repetido.");return!0}}},fo={emits:["agregarACarrito","onClickClose"],mixins:[uo],props:{grupoTaller:{type:Object,default:function(){}},taller:{type:Object,default:function(){}}},components:{date:Ar.p6,QBtn:gr.A,QImg:va.A,QIcon:Ra.A,QCard:vr.A,QCardSection:Rr.A,QCardActions:ba.A,QSeparator:Na.A,QTooltip:Ar.nC,QSelect:br.A,constantesTesoreria:qr["default"]},data:function(){return{imagenDefault:"https://www.eclosio.ong/wp-content/uploads/2018/08/default.png",comboTurnos:[],turnoSeleccionado:null,fechaInicio:"",fechaFin:"",DIAS_SEMANA:qr["default"].DIAS_SEMANA}},computed:{vacantesSelected:function(){var e=this,r=this.taller.TURNOS.find(function(r){return r.VACCOD===e.turnoSeleccionado});return r.DISPONIBLES},currentUrlImg:function(){var e="api/GrupovacController/getImagen?idGrupo="+this.grupoTaller.GRUVACOD+"&sie-token="+(0,_r["default"])().token,r=(0,_r["default"])().host+"/"+e;return r},isSmall:function(){return Er.A.sm||Er.A.xs},showVacantes:function(){return this.turnoSeleccionado&&!this.taller.ES_PAQUETE_TALLER}},methods:{dayConverter:function(e){var r=e.replace("T"," ").split(" ")[0].split("-");return r="".concat(r[2],"/").concat(r[1],"/").concat(r[0]),r},onClickAgregarACarrito:function(e){var r=this;try{if(!this.turnoSeleccionado)return;this.agregarDetallePaquete();var a=this.taller.TURNOS.find(function(e){return e.VACCOD===r.turnoSeleccionado});this.$emit("agregarACarrito",this.grupoTaller,this.taller,a)}catch(e){this.$notify(e.message,"warning")}},onClickClose:function(){this.$emit("onClickClose")},agruparHorarios:function(e){var r=this,a=[];return e.HORARIOS.map(function(e){e.HORAINI=Ar.p6.formatDate(e.HORAINI,"HH:mm"),e.HORAFIN=Ar.p6.formatDate(e.HORAFIN,"HH:mm");var n=a.find(function(r){return r.HORAINI===e.HORAINI&&r.HORAFIN===e.HORAFIN});n?n.DIAS=n.DIAS+", "+r.DIAS_SEMANA[e.DIA]:a.push({HORAINI:e.HORAINI,HORAFIN:e.HORAFIN,DIAS:""+r.DIAS_SEMANA[e.DIA]})}),a},getComboTurnos:function(){var e=this;this.taller.TURNOS.map(function(r){var a={value:r.VACCOD,label:"",turno:Number(r.VACCOD.split("A")[1])};a.HORARIOS=r.HORARIOS,a.DATA_AGRUPADA=e.agruparHorarios(r),a.DATA_AGRUPADA.map(function(e){a.label+="".concat(e.DIAS," (").concat(e.HORAINI," - ").concat(e.HORAFIN,"), ")}),a.label=a.label.substring(0,a.label.length-2),e.comboTurnos.push(a)}),this.comboTurnos=this.comboTurnos.sort(function(e,r){return e.turno-r.turno})},getHorarios:function(){var e=this;return Ir()(Cr()().m(function r(){var a;return Cr()().w(function(r){while(1)switch(r.p=r.n){case 0:return r.p=0,r.n=1,e.$http.get("api/CtCursoPeriodoController/getHorario",{params:{idCursoPeriodo:e.taller.ID_CURSO_PERIODO}});case 1:a=r.v,e.taller.TURNOS.map(function(e){e.HORARIOS=a.filter(function(r){return r.TURNO===e.TURNO})}),r.n=3;break;case 2:r.p=2,r.v,e.$alert("Hubo un problema al obtener los turnos del curso","warning");case 3:return r.a(2)}},r,null,[[0,2]])}))()}},beforeMount:function(){var e=this;return Ir()(Cr()().m(function r(){return Cr()().w(function(r){while(1)switch(r.n){case 0:return e.taller.DESCRIPCION=e.grupoTaller.DESCRIPCION,e.fechaInicio=e.dayConverter(e.taller.FECINI),e.fechaFin=e.dayConverter(e.taller.FECFIN),r.n=1,e.getHorarios();case 1:return r.n=2,e.getComboTurnos();case 2:if(!e.taller.ES_PAQUETE_TALLER){r.n=3;break}return r.n=3,e.getListaPaquetesDet();case 3:e.turnoSeleccionado=e.comboTurnos[0].value;case 4:return r.a(2)}},r)}))()}};const Co=(0,Ta.A)(fo,[["render",co]]);var po=Co,Oo={class:"titulo-modal font-20 center"},mo={class:"titulo-taller font-20"},Io={class:"bold break-word font-20"},Ao={class:"sub-card-section"},Eo={class:"row justify-left q-gutter-sm",style:{display:"flex","justify-content":"space-between"}},ho={class:"center"},Do={class:"center"},go={class:"bold break-word"},So={class:"center-between"},bo={class:"bold"},vo={class:"center-between"},Ro={class:"bold"},No=["href"],_o=["href"],To={class:"bold break-word font-20"},ko={class:"sub-card-section"},Po={class:"row justify-left q-gutter-sm",style:{display:"flex","justify-content":"space-between"}},Fo={class:"center"},wo={class:"center"},Uo={class:"bold break-word"},Lo={class:"center-between"},Mo={class:"bold"},yo={class:"center-between"},Ho={class:"bold"},Go=["href"],qo=["href"],Vo={class:"center gap-10"};function xo(e,r){var a=(0,o.g2)("q-icon"),n=(0,o.g2)("q-card-section"),l=(0,o.g2)("q-separator"),s=(0,o.g2)("q-img"),c=(0,o.g2)("q-card");return(0,o.uX)(),(0,o.Wv)(c,{class:"components--elegir-ver-paquete-taller",style:(0,i.Tr)({overflow:e.isSmall?"auto":"hidden"})},{default:(0,o.k6)(function(){return[(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.bF)(a,{class:"cursor-pointer",name:"close",size:"sm",style:{position:"absolute"},onClick:e.onClickClose},null,8,["onClick"]),(0,o.Lk)("span",Oo,(0,i.v_)(e.grupoTaller.GRUVADES),1)]}),_:1}),(0,o.bF)(l,{style:{height:"0px"}}),(0,o.bF)(n,{class:"scroll-auto",style:{height:"calc(100vh - 183px)"}},{default:(0,o.k6)(function(){return[(0,o.bF)(n,{style:{"padding-top":"0px"}},{default:(0,o.k6)(function(){return[(0,o.bF)(s,{class:"img-paquete",src:e.currentUrlImg},null,8,["src"])]}),_:1}),(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("span",mo,(0,i.v_)(e.taller.CURSODES.toUpperCase()),1)]}),_:1}),(0,o.bF)(l),(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("span",Io,(0,i.v_)(e.primerCurso.CURSODES),1)]}),_:1}),r[11]||(r[11]=(0,o.Lk)("div",{class:"sub-card-section"},[(0,o.Lk)("span",null,"Turno:")],-1)),(0,o.Lk)("div",Ao,[(0,o.Lk)("div",Eo,[(0,o.Lk)("div",ho,[(0,o.Lk)("b",null,(0,i.v_)(e.DIAS_SEMANA[e.primerCurso.TURNOS[0].TURNODES.DIA]),1)]),(0,o.Lk)("div",Do,[(0,o.Lk)("b",null,(0,i.v_)(e.primerCurso.TURNOS[0].TURNODES.HORAINI)+" - "+(0,i.v_)(e.primerCurso.TURNOS[0].TURNODES.HORAFIN),1)])])]),e.primerCurso.NOMCOMP_PROFESOR?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.bF)(n,null,{default:(0,o.k6)(function(){return t()(r[0]||(r[0]=[(0,o.Lk)("span",null,"Profesor(a):",-1)]))}),_:1}),(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("span",go,(0,i.v_)(e.primerCurso.NOMCOMP_PROFESOR),1)]}),_:1})],64)):(0,o.Q3)("v-if",!0),e.primerCurso.AULA?((0,o.uX)(),(0,o.Wv)(n,{key:1},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",So,[r[1]||(r[1]=(0,o.Lk)("span",null,"Aula:",-1)),(0,o.Lk)("span",bo,(0,i.v_)(e.primerCurso.AULA),1)])]}),_:1})):(0,o.Q3)("v-if",!0),e.primerCurso.REQUISITOS?((0,o.uX)(),(0,o.Wv)(n,{key:2},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",vo,[r[2]||(r[2]=(0,o.Lk)("span",null,"Requisitos:",-1)),(0,o.Lk)("span",Ro,(0,i.v_)(e.primerCurso.REQUISITOS),1)])]}),_:1})):(0,o.Q3)("v-if",!0),e.primerCurso.REGLAMENTO?((0,o.uX)(),(0,o.CE)(o.FK,{key:3},[(0,o.bF)(n,null,{default:(0,o.k6)(function(){return t()(r[3]||(r[3]=[(0,o.Lk)("span",null,"Reglamento:",-1)]))}),_:1}),(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("a",{class:"break-word",href:e.primerCurso.REGLAMENTO,target:"_blank"},(0,i.v_)(e.primerCurso.REGLAMENTO),9,No)]}),_:1})],64)):(0,o.Q3)("v-if",!0),e.primerCurso.UTILES?((0,o.uX)(),(0,o.CE)(o.FK,{key:4},[(0,o.bF)(n,null,{default:(0,o.k6)(function(){return t()(r[4]||(r[4]=[(0,o.Lk)("span",null,"Lista de útiles:",-1)]))}),_:1}),(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("a",{class:"break-word",href:e.primerCurso.UTILES,target:"_blank"},(0,i.v_)(e.primerCurso.UTILES),9,_o)]}),_:1})],64)):(0,o.Q3)("v-if",!0),(0,o.bF)(l),(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("span",To,(0,i.v_)(e.segundoCurso.CURSODES),1)]}),_:1}),r[12]||(r[12]=(0,o.Lk)("div",{class:"sub-card-section"},[(0,o.Lk)("span",null,"Turno:")],-1)),(0,o.Lk)("div",ko,[(0,o.Lk)("div",Po,[(0,o.Lk)("div",Fo,[(0,o.Lk)("b",null,(0,i.v_)(e.DIAS_SEMANA[e.segundoCurso.TURNOS[0].TURNODES.DIA]),1)]),(0,o.Lk)("div",wo,[(0,o.Lk)("b",null,(0,i.v_)(e.segundoCurso.TURNOS[0].TURNODES.HORAINI)+" - "+(0,i.v_)(e.segundoCurso.TURNOS[0].TURNODES.HORAFIN),1)])])]),e.segundoCurso.NOMCOMP_PROFESOR?((0,o.uX)(),(0,o.CE)(o.FK,{key:5},[(0,o.bF)(n,null,{default:(0,o.k6)(function(){return t()(r[5]||(r[5]=[(0,o.Lk)("span",null,"Profesor(a):",-1)]))}),_:1}),(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("span",Uo,(0,i.v_)(e.segundoCurso.NOMCOMP_PROFESOR),1)]}),_:1})],64)):(0,o.Q3)("v-if",!0),e.segundoCurso.AULA?((0,o.uX)(),(0,o.Wv)(n,{key:6},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",Lo,[r[6]||(r[6]=(0,o.Lk)("span",null,"Aula:",-1)),(0,o.Lk)("span",Mo,(0,i.v_)(e.segundoCurso.AULA),1)])]}),_:1})):(0,o.Q3)("v-if",!0),e.segundoCurso.REQUISITOS?((0,o.uX)(),(0,o.Wv)(n,{key:7},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",yo,[r[7]||(r[7]=(0,o.Lk)("span",null,"Requisitos:",-1)),(0,o.Lk)("span",Ho,(0,i.v_)(e.segundoCurso.REQUISITOS),1)])]}),_:1})):(0,o.Q3)("v-if",!0),e.segundoCurso.REGLAMENTO?((0,o.uX)(),(0,o.CE)(o.FK,{key:8},[(0,o.bF)(n,null,{default:(0,o.k6)(function(){return t()(r[8]||(r[8]=[(0,o.Lk)("span",null,"Reglamento:",-1)]))}),_:1}),(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("a",{class:"break-word",href:e.segundoCurso.REGLAMENTO,target:"_blank"},(0,i.v_)(e.segundoCurso.REGLAMENTO),9,Go)]}),_:1})],64)):(0,o.Q3)("v-if",!0),e.segundoCurso.UTILES?((0,o.uX)(),(0,o.CE)(o.FK,{key:9},[(0,o.bF)(n,null,{default:(0,o.k6)(function(){return t()(r[9]||(r[9]=[(0,o.Lk)("span",null,"Lista de útiles:",-1)]))}),_:1}),(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("a",{class:"break-word",href:e.segundoCurso.UTILES,target:"_blank"},(0,i.v_)(e.segundoCurso.UTILES),9,qo)]}),_:1})],64)):(0,o.Q3)("v-if",!0),(0,o.bF)(l),e.grupoTaller.DESCRIPCION?((0,o.uX)(),(0,o.CE)(o.FK,{key:10},[(0,o.bF)(n,null,{default:(0,o.k6)(function(){return t()(r[10]||(r[10]=[(0,o.Lk)("span",{class:"titulo-modal font-20"},"Información importante",-1)]))}),_:1}),(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("span",null,(0,i.v_)(e.grupoTaller.DESCRIPCION),1)]}),_:1})],64)):(0,o.Q3)("v-if",!0)]}),_:1}),(0,o.bF)(l,{style:{height:"0px"}}),(0,o.bF)(n,{class:"center",flat:"",bordered:""},{default:(0,o.k6)(function(){return[(0,o.bF)(n,{class:(0,i.C4)(["button-agregar-carrito","bg-primary cursor-pointer"]),onClick:e.onClickAgregarACarrito},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",Vo,[(0,o.bF)(a,{name:"shopping_cart",size:"md"}),r[13]||(r[13]=(0,o.Lk)("span",{class:"font-20"},"Agregar a carrito",-1))]),(0,o.Lk)("span",null,"Vacantes disponibles: "+(0,i.v_)(e.vacantesSelected),1)]}),_:1},8,["onClick"])]}),_:1})]}),_:1},8,["style"])}var Qo={emits:["agregarACarrito","onClickClose"],props:{grupoTaller:{type:Object,default:function(){}},taller:{type:Object,default:function(){}}},components:{date:Ar.p6,QBtn:gr.A,QImg:va.A,QIcon:Ra.A,QCard:vr.A,QCardSection:Rr.A,QCardActions:ba.A,QSeparator:Na.A,QTooltip:Ar.nC,QSelect:br.A,constantesTesoreria:qr["default"]},data:function(){return{comboTurnos:[],turnoSeleccionado:null,DIAS_SEMANA:qr["default"].DIAS_SEMANA,primerCurso:this.taller.PAQUETE[0],segundoCurso:this.taller.PAQUETE[1]}},computed:{currentUrlImg:function(){var e="api/GrupovacController/getImagen?idGrupo="+this.grupoTaller.GRUVACOD+"&sie-token="+(0,_r["default"])().token,r=(0,_r["default"])().host+"/"+e;return r},vacantesSelected:function(){return Math.min(this.primerCurso.TURNOS[0].DISPONIBLES,this.segundoCurso.TURNOS[0].DISPONIBLES)},isSmall:function(){return Er.A.sm||Er.A.xs}},methods:{dayConverter:function(e){var r=e.replace("T"," ").split(" ")[0].split("-");return r="".concat(r[2],"/").concat(r[1],"/").concat(r[0]),r},onClickAgregarACarrito:function(){this.$emit("agregarACarrito",this.grupoTaller,this.taller,{})},onClickClose:function(){this.$emit("onClickClose")},getTurno:function(e){var r=Object.entries(e).map(function(e){var r=xr()(e,2),a=r[0],n=r[1];return{DIA:a,HORAINI:n.HORAINI?n.HORAINI.slice(0,5):"",HORAFIN:n.HORAFIN?n.HORAFIN.slice(0,5):""}});return r[0]}},beforeMount:function(){var e=this;return Ir()(Cr()().m(function r(){return Cr()().w(function(r){while(1)switch(r.n){case 0:e.taller.DESCRIPCION=e.grupoTaller.DESCRIPCION,e.primerCurso.TURNOS[0].TURNODES=e.getTurno(JSON.parse(e.primerCurso.TURNOS[0].TURNOJSON)),e.segundoCurso.TURNOS[0].TURNODES=e.getTurno(JSON.parse(e.segundoCurso.TURNOS[0].TURNOJSON));case 1:return r.a(2)}},r)}))()}};const Xo=(0,Ta.A)(Qo,[["render",xo]]);var Bo=Xo,jo={class:"titulo-modal font-20 center"},$o={class:"titulo-taller font-20"},Yo={class:"bold break-word"},Wo={class:"center-between"},zo={class:"bold"},Jo={class:"center-between"},Ko={class:"bold"},Zo=["href"],ei=["href"],ri={class:"row q-col-gutter-sm"},ai={class:"col-xs-12"},ni={class:"row"},ti={class:"col-xs-12 col-sm-1"},oi={style:{padding:"0px 16px 16px"}},ii={class:"sub-card-section"},li={class:"center-left gap-10 flex-wrap",style:{padding:"0px 16px 16px"}},si={class:"letra-card"},ci={class:"sub-card-section"},ui={class:"center-left gap-10 flex-wrap",style:{padding:"0px 16px 16px"}},di={class:"center"},fi={style:{padding:"0px 16px 8px"}},Ci={style:{display:"flex","justify-content":"space-between"}},pi={class:"center"},Oi={key:0},mi={style:{padding:"16px 16px 8px"}},Ii={class:"sub-card-section center-left gap-10 flex-wrap"},Ai={style:{padding:"8px"}},Ei={class:"center-left",style:{padding:"8px 12px"}},hi={class:"center-between"},Di={key:1,class:"bold"},gi={class:"center-between"},Si={class:"bold"},bi={class:"row"},vi={class:"col-xs-12"},Ri={class:"center-between"},Ni={class:"text-negative"},_i={class:"center"},Ti={class:"font-20"};function ki(e,r){var a=(0,o.g2)("q-icon"),n=(0,o.g2)("q-card-section"),s=(0,o.g2)("q-separator"),c=(0,o.g2)("q-img"),u=(0,o.g2)("q-checkbox"),d=(0,o.g2)("q-select"),f=(0,o.g2)("q-tooltip"),C=(0,o.g2)("q-card"),p=(0,o.g2)("q-btn"),O=(0,o.g2)("sie-html");return(0,o.uX)(),(0,o.Wv)(C,{class:"components--elegir-dia-horario-taller",style:(0,i.Tr)({overflow:e.isSmall?"auto":"hidden"})},{default:(0,o.k6)(function(){return[(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.bF)(a,{class:"cursor-pointer",name:"close",size:"sm",style:{position:"absolute"},onClick:e.onClickClose},null,8,["onClick"]),(0,o.Lk)("span",jo,(0,i.v_)(e.grupoTaller.GRUVADES),1)]}),_:1}),(0,o.bF)(s,{style:{height:"0px"}}),(0,o.bF)(n,{class:"scroll-auto",style:{height:"calc(100vh - 183px)"}},{default:(0,o.k6)(function(){return[(0,o.bF)(n,{style:{"padding-top":"0px"}},{default:(0,o.k6)(function(){return[(0,o.bF)(c,{class:"img-taller-modal",src:e.currentUrlImg},null,8,["src"])]}),_:1}),(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("span",$o,(0,i.v_)(e.taller.ID_CURSO_PERIODO)+" - "+(0,i.v_)(e.taller.CURSODES.toUpperCase()),1)]}),_:1}),e.taller.NOMCOMP_PROFESOR?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.bF)(n,null,{default:(0,o.k6)(function(){return t()(r[3]||(r[3]=[(0,o.Lk)("span",null,"Profesor(a):",-1)]))}),_:1}),(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("span",Yo,(0,i.v_)(e.taller.NOMCOMP_PROFESOR),1)]}),_:1})],64)):(0,o.Q3)("v-if",!0),e.taller.AULA?((0,o.uX)(),(0,o.Wv)(n,{key:1},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",Wo,[r[4]||(r[4]=(0,o.Lk)("span",null,"Aula:",-1)),(0,o.Lk)("span",zo,(0,i.v_)(e.taller.AULA),1)])]}),_:1})):(0,o.Q3)("v-if",!0),e.taller.REQUISITOS?((0,o.uX)(),(0,o.Wv)(n,{key:2},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",Jo,[r[5]||(r[5]=(0,o.Lk)("span",null,"Requisitos:",-1)),(0,o.Lk)("span",Ko,(0,i.v_)(e.taller.REQUISITOS),1)])]}),_:1})):(0,o.Q3)("v-if",!0),e.taller.REGLAMENTO?((0,o.uX)(),(0,o.CE)(o.FK,{key:3},[(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("span",null,(0,i.v_)(e.taller.ID_TIPO_SERVICIO===e.tipoServicio.taller?"Reglamento:":"Términos y condiciones:"),1)]}),_:1}),(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("a",{class:"break-word",href:e.taller.REGLAMENTO,target:"_blank"},(0,i.v_)(e.taller.REGLAMENTO),9,Zo)]}),_:1})],64)):(0,o.Q3)("v-if",!0),e.taller.UTILES?((0,o.uX)(),(0,o.CE)(o.FK,{key:4},[(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("span",null,(0,i.v_)(e.taller.ID_TIPO_SERVICIO===e.tipoServicio.taller?"Lista de útiles:":"Registro de participantes")+":",1)]}),_:1}),(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("a",{class:"break-word",href:e.taller.UTILES,target:"_blank"},(0,i.v_)(e.taller.UTILES),9,ei)]}),_:1})],64)):(0,o.Q3)("v-if",!0),e.taller.REGLAMENTO&&e.taller.UTILES&&e.taller.ID_TIPO_SERVICIO===e.tipoServicio.alquiler?((0,o.uX)(),(0,o.Wv)(n,{key:5},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",ri,[(0,o.Lk)("div",ai,[(0,o.Lk)("div",ni,[(0,o.Lk)("div",ti,[(0,o.bF)(u,{modelValue:e.checkReglamento,"onUpdate:modelValue":r[0]||(r[0]=function(r){return e.checkReglamento=r})},null,8,["modelValue"])]),r[6]||(r[6]=(0,o.Lk)("div",{class:"col-xs-12 col-sm-11"},[(0,o.Lk)("span",{class:"text-bold"},"He leído y acepto los términos y condiciones, y confirmo el registro de los participantes")],-1))])])])]}),_:1})):(0,o.Q3)("v-if",!0),r[12]||(r[12]=(0,o.Lk)("div",{class:"sub-card-section"},[(0,o.Lk)("span",null,"Frecuencia de clases:")],-1)),(0,o.Lk)("div",oi,[(0,o.bF)(d,{modelValue:e.frecSeleccionada,"onUpdate:modelValue":r[1]||(r[1]=function(r){return e.frecSeleccionada=r}),options:e.comboFrecuencias,onInput:e.vecesFueSeleccionado,"option-label":"label","option-value":"ID_FRECUENCIA"},null,8,["modelValue","options","onInput"])]),e.horariosSeleccionados.length<e.maxVeces?((0,o.uX)(),(0,o.CE)(o.FK,{key:6},[(0,o.Lk)("div",ii,[(0,o.Lk)("span",null,"Día: "+(0,i.v_)(e.DIAS_SEMANA[e.diaSeleccionado]),1)]),(0,o.Lk)("div",li,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.comboDiasLetras,function(a){return(0,o.uX)(),(0,o.Wv)(C,{flat:"",bordered:"",onClick:function(r){return e.diaFueSeleccionado(a.dia)},class:(0,i.C4)(e.horarios[a.dia]?a.dia===e.diaSeleccionado?"chip-selected":"cursor-pointer":"disabled-block")},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",si,[(0,o.Lk)("span",null,(0,i.v_)(a.letra),1),e.horarios[a.dia]?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.Wv)(f,{key:0},{default:(0,o.k6)(function(){return t()(r[7]||(r[7]=[(0,o.eW)("Sin horarios disponibles",-1)]))}),_:1}))])]}),_:2},1032,["onClick","class"])}),256))]),(0,o.Lk)("div",ci,[(0,o.Lk)("span",null,"Hora: "+(0,i.v_)(e.horaDes),1)]),(0,o.Lk)("div",ui,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.horarios[e.diaSeleccionado],function(n){return(0,o.uX)(),(0,o.Wv)(C,{flat:"",bordered:"",onClick:function(r){return e.horaFueSeleccionada(n)},class:(0,i.C4)(0===n.DISPONIBLES?"disabled-block":e.estaSeleccionado(n)?"added-block":n.ID===e.horaSeleccionada?"chip-selected":"cursor-pointer")},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",di,[(0,o.Lk)("div",{class:(0,i.C4)(e.estaSeleccionado(n)?"hora-card-checked":"hora-card")},[(0,o.Lk)("span",null,(0,i.v_)(n.HORAINI),1),(0,o.bo)((0,o.bF)(f,null,{default:(0,o.k6)(function(){return t()(r[8]||(r[8]=[(0,o.eW)("Sin vacantes disponibles",-1)]))}),_:1},512),[[l.aG,0===n.DISPONIBLES]])],2),(0,o.bo)((0,o.bF)(a,{name:"check_circle",color:"secondary",size:"sm"},null,512),[[l.aG,e.estaSeleccionado(n)]]),(0,o.bo)((0,o.bF)(f,null,{default:(0,o.k6)(function(){return t()(r[9]||(r[9]=[(0,o.eW)("Horario agregado",-1)]))}),_:1},512),[[l.aG,e.estaSeleccionado(n)]])])]}),_:2},1032,["onClick","class"])}),256))]),(0,o.Lk)("div",fi,[(0,o.Lk)("div",Ci,[(0,o.Lk)("div",pi,[e.turnoSeleccionado?((0,o.uX)(),(0,o.CE)("span",Oi,"Vacantes disponibles: "+(0,i.v_)(e.vacantesDelHorarioSeleccionado),1)):(0,o.Q3)("v-if",!0)]),(0,o.bF)(p,{label:"agregar",size:"sm",color:"primary",disable:!e.turnoSeleccionado,onClick:e.agregarHorario,class:(0,i.C4)(e.turnoSeleccionado?"":"bg-disabled")},null,8,["disable","onClick","class"])])])],64)):(0,o.Q3)("v-if",!0),(0,o.bF)(s),(0,o.Lk)("div",mi,[(0,o.Lk)("span",null,"Mis horarios: ("+(0,i.v_)(e.horariosSeleccionados.length)+" de "+(0,i.v_)(e.maxVeces)+")",1)]),(0,o.Lk)("div",Ii,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.horariosOrdenados,function(r){return(0,o.uX)(),(0,o.Wv)(C,{class:"center-left",flat:"",bordered:"",style:{"min-width":"210.5px"}},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",Ai,[(0,o.bF)(a,{class:"cursor-pointer",name:"close",size:"sm",color:"grey",onClick:function(a){return e.quitarDeMisHorarios(r)}},null,8,["onClick"])]),(0,o.Lk)("div",Ei,[(0,o.Lk)("span",null,(0,i.v_)(e.DIAS_SEMANA[r.dia])+" ("+(0,i.v_)(r.hora.HORAINI)+" - "+(0,i.v_)(r.hora.HORAFIN)+")",1)])]}),_:2},1024)}),256))]),(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("div",hi,[(0,o.Lk)("span",null,(0,i.v_)(e.taller.ID_TIPO_SERVICIO===e.tipoServicio.taller?"Fecha inicio":"Fecha inicio reserva")+":",1),e.fechaInscripcionModificable?((0,o.uX)(),(0,o.Wv)(d,{key:0,modelValue:e.fechaInicio,"onUpdate:modelValue":r[2]||(r[2]=function(r){return e.fechaInicio=r}),options:e.diasConclases,"option-label":"label","option-value":"fecha",onInput:e.vecesFueSeleccionado,disable:e.bloquearFechaInscripcionModificable},null,8,["modelValue","options","onInput","disable"])):((0,o.uX)(),(0,o.CE)("span",Di,(0,i.v_)(e.fechaInicioLabel),1))])]}),_:1}),(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("div",gi,[(0,o.Lk)("span",null,(0,i.v_)(e.taller.ID_TIPO_SERVICIO===e.tipoServicio.taller?"Fecha fin":"Fecha fin reserva")+":",1),(0,o.Lk)("span",Si,(0,i.v_)(e.fechaFin),1)])]}),_:1}),e.clasesBloqueadas.length?((0,o.uX)(),(0,o.Wv)(n,{key:7},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",bi,[r[10]||(r[10]=(0,o.Lk)("div",{class:"col-xs-12"},[(0,o.Lk)("span",null,"Días bloqueados:")],-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.clasesBloqueadas,function(r){return(0,o.uX)(),(0,o.CE)("div",vi,[(0,o.Lk)("div",Ri,[(0,o.Lk)("span",null,(0,i.v_)(r.DESCRIPCION),1),(0,o.Lk)("span",Ni,(0,i.v_)(e.formatDate(new Date(r.FECHA))),1)])])}),256))])]}),_:1})):(0,o.Q3)("v-if",!0),e.grupoTaller.DESCRIPCION?((0,o.uX)(),(0,o.CE)(o.FK,{key:8},[(0,o.bF)(n,null,{default:(0,o.k6)(function(){return t()(r[11]||(r[11]=[(0,o.Lk)("span",{class:"titulo-modal font-20"},"Información importante",-1)]))}),_:1}),(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("span",null,(0,i.v_)(e.grupoTaller.DESCRIPCION),1)]}),_:1})],64)):(0,o.Q3)("v-if",!0),e.taller.DECLARACION_JURADA&&e.msgDeclaracionJurada&&e.horariosSeleccionados.length===e.maxVeces?((0,o.uX)(),(0,o.Wv)(n,{key:9},{default:(0,o.k6)(function(){return[(0,o.bF)(O,{src:e.msgDeclaracionJurada},null,8,["src"])]}),_:1})):(0,o.Q3)("v-if",!0)]}),_:1}),(0,o.bF)(s,{style:{height:"0px"}}),(0,o.bF)(n,{class:"center",flat:"",bordered:""},{default:(0,o.k6)(function(){return[(0,o.bF)(n,{class:(0,i.C4)(["button-agregar-carrito",e.horariosSeleccionados.length===e.maxVeces?"bg-primary cursor-pointer":"bg-disabled"]),onClick:e.onClickAgregarACarrito},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",_i,[(0,o.bF)(a,{name:"shopping_cart",size:"md"}),r[13]||(r[13]=(0,o.Lk)("span",{class:"font-20"},"Agregar a carrito",-1))]),(0,o.Lk)("span",Ti,(0,i.v_)(e.monsig)+" "+(0,i.v_)(e.montoTotal),1)]}),_:1},8,["class","onClick"])]}),_:1})]}),_:1},8,["style"])}a(83077),a(92802),a(39300),a(17225),a(28743),a(12858),a(32071),a(55520),a(2775),a(46203);var Pi=a(3112),Fi=a(66099),wi=a(54267),Ui={emits:["onClickClose","agregarACarrito"],mixins:[Hr.A],props:{inscritos:{type:Array,default:function(){return[]}},grupoTaller:{type:Object,default:function(){}},taller:{type:Object,default:function(){}},persona:{type:Object,default:function(){}}},components:{QBtn:gr.A,QImg:va.A,QIcon:Ra.A,QCard:vr.A,QCardSection:Rr.A,QCardActions:ba.A,QSeparator:Na.A,QTooltip:Ar.nC,QCheckbox:Pi.A,SieHtml:Fi.A,QSelect:br.A,constantesTesoreria:qr["default"]},data:function(){return{sie:(0,_r["default"])(),isFamAlu:(0,_r["default"])().esFamilia||(0,_r["default"])().esEstudiante||["E01","E02"].includes((0,_r["default"])().tipcod),imagenDefault:"https://www.edugators.com/includes/images/courses/default.jpg",listaHorarios:[],fechaInicio:"",fechaFin:"",fechaFinClases:"",DIAS_SEMANA:qr["default"].DIAS_SEMANA,comboFrecuencias:[],comboDiasLetras:[{dia:1,letra:"L"},{dia:2,letra:"M"},{dia:3,letra:"X"},{dia:4,letra:"J"},{dia:5,letra:"V"},{dia:6,letra:"S"},{dia:7,letra:"D"}],horarios:{},frecSeleccionada:null,diaSeleccionado:1,horaSeleccionada:null,turnoSeleccionado:null,horariosSeleccionados:[],vacantesDelHorarioSeleccionado:0,horaDes:"",montoTotal:0,monsig:"",comboTurnos:[],frecuenciaElegida:{},diasConclases:[],diasConClaseInitial:[],diasBloqueados:[],clasesBloqueadas:[],cantidadClasesBloqueadas:0,fechaInscripcionModificable:!["0057"].includes((0,_r["default"])().colcod),checkReglamento:!1,tipoServicio:{taller:1,alquiler:2}}},computed:{bloquearFechaInscripcionModificable:function(){var e=!1;return["0313"].includes((0,_r["default"])().colcod)&&this.isFamAlu&&(e=!0),e},maxVeces:function(){var e=this;if(this.comboFrecuencias.length>0&&this.frecSeleccionada){var r=this.comboFrecuencias.find(function(r){return r.ID_FRECUENCIA===e.frecSeleccionada});return r.VECES}},currentUrlImg:function(){var e="api/GrupovacController/getImagen?idGrupo="+this.grupoTaller.GRUVACOD+"&sie-token="+(0,_r["default"])().token,r=(0,_r["default"])().host+"/"+e;return r},horariosOrdenados:function(){var e=this;return this.horariosSeleccionados.sort(function(r,a){return r.dia-a.dia||e.timeToNumber(r.hora.HORAINI)-e.timeToNumber(a.hora.HORAINI)})},fechaInicioLabel:function(){return this.dayConverter(this.taller.FECINI)},isSmall:function(){return Er.A.sm||Er.A.xs}},methods:{getDiasBloqueados:function(){var e=this;return Ir()(Cr()().m(function r(){var a;return Cr()().w(function(r){while(1)switch(r.n){case 0:return r.n=1,e.$http.get("api/CtDiaBloqueadoController/getCtDiaBloqueado",{params:{parametros:{where:{ID_TIPO_SERVICIO:e.taller.ID_TIPO_SERVICIO}}}});case 1:a=r.v,e.diasBloqueados=a;case 2:return r.a(2)}},r)}))()},onClickClose:function(){this.$emit("onClickClose")},dayConverter:function(e){var r=e.replace("T"," ").split(" ")[0].split("-");return r="".concat(r[2],"/").concat(r[1],"/").concat(r[0]),r},calcularFechafin:function(){var e=this;return Ir()(Cr()().m(function r(){var a,n,o,i,l,s,c,u,d,f,C,p,O,m,I;return Cr()().w(function(r){while(1)switch(r.n){case 0:if(a="0057"===(0,_r["default"])().colcod,!(e.horariosSeleccionados.length>0)||a){r.n=6;break}if(n=e.horariosSeleccionados.map(function(e){return e.dia}),o=e.frecuenciaElegida.NRO_CLASES,i=o,l=n.slice().sort(function(e,r){return e-r}),s=null,e.fechaInicio.includes("/")?(c=e.fechaInicio.split("/"),u=xr()(c,3),d=u[0],f=u[1],C=u[2],s=new Date(C,f-1,d)):s=new Date(e.fechaInicio),p=t()(new Set(l)),1!==o||1!==p.length){r.n=1;break}return e.fechaFin=e.formatDate(s),r.a(2);case 1:if(e.taller.ID_TIPO_SERVICIO!==e.tipoServicio.alquiler){r.n=2;break}return e.fechaFin=e.formatDate(s),r.a(2);case 2:O=e.diasBloqueados.map(function(e){return e.FECHA}),e.clasesBloqueadas=[],e.cantidadClasesBloqueadas=0,m=new Date(s),I=Cr()().m(function r(){var a,n,t,o,s;return Cr()().w(function(r){while(1)switch(r.n){case 0:if(a=m.getDay(),n=m.toISOString(),!l.includes(a)){r.n=3;break}t=l.filter(function(e){return e===a}).length,o=Cr()().m(function r(){var a;return Cr()().w(function(r){while(1)switch(r.n){case 0:O.includes(n)?(a=e.diasBloqueados.find(function(e){return e.FECHA===n}),e.clasesBloqueadas.find(function(e){return e.FECHA===a.FECHA})||(e.clasesBloqueadas.push(a),e.cantidadClasesBloqueadas++)):i--;case 1:return r.a(2)}},r)}),s=0;case 1:if(!(s<t&&i>0)){r.n=3;break}return r.d(cr()(o()),2);case 2:s++,r.n=1;break;case 3:i>0&&m.setDate(m.getDate()+1);case 4:return r.a(2)}},r)});case 3:if(!(i>0)){r.n=5;break}return r.d(cr()(I()),4);case 4:r.n=3;break;case 5:e.fechaFin=e.formatDate(m);case 6:return r.a(2)}},r)}))()},formatDate:function(e){var r=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),n=e.getFullYear();return"".concat(r,"/").concat(a,"/").concat(n)},vecesFueSeleccionado:function(){var e=this;return Ir()(Cr()().m(function r(){var a;return Cr()().w(function(r){while(1)switch(r.n){case 0:if(e.fechaFin=e.dayConverter(e.fechaFinClases),a=e.comboFrecuencias.find(function(r){return r.ID_FRECUENCIA===e.frecSeleccionada}),!a){r.n=2;break}if(!(new Date((0,wi.convertToYMD)(e.fechaFin))>new Date(e.fechaFinClases))){r.n=1;break}return e.$notify("La frecuencia de clases seleccionada supera a la fecha fin del curso","warning"),r.a(2);case 1:e.frecuenciaElegida=a,e.montoTotal=a.MONTO,e.monsig="S/",e.calcularFechafin();case 2:if(e.taller.ID_TIPO_SERVICIO!==e.tipoServicio.alquiler){r.n=4;break}return r.n=3,e.getHorarios();case 3:e.agruparTurnosPorDias(),e.maxVeces!==e.horariosSeleccionados.length&&(e.horariosSeleccionados=[]);case 4:return r.a(2)}},r)}))()},clearHorarioSeleccionado:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(this.diaSeleccionado=1),this.horaSeleccionada=null,this.horaDes="",this.vacantesDelHorarioSeleccionado=0,this.turnoSeleccionado=null},unirJsons:function(e,r){var a=e?JSON.parse(e):{},n=r?JSON.parse(r):{},t=Or()(Or()({},a),n);return JSON.stringify(t,null,2)},onClickAgregarACarrito:function(e){var r=this;return Ir()(Cr()().m(function e(){var a,n,t,o,i;return Cr()().w(function(e){while(1)switch(e.p=e.n){case 0:if(e.p=0,!(new Date((0,wi.convertToYMD)(r.fechaFin))>new Date(r.fechaFinClases))){e.n=1;break}throw new Error("La frecuencia de clases seleccionada supera a la fecha fin del taller");case 1:if(r.taller.ID_TIPO_SERVICIO!==r.tipoServicio.alquiler){e.n=6;break}if(r.horarios.hasOwnProperty(r.diaSeleccionado)){e.n=2;break}throw a=Ar.p6.formatDate(r.fechaInicio,"DD/MM/YYYY"),new Error("No hay horarios disponibles para el día ".concat(a));case 2:if(r.horariosSeleccionados.map(function(e){return e.dia}).includes(new Date(r.fechaInicio).getDay())){e.n=3;break}throw new Error("La fecha de inicio no corresponde a los horarios seleccionados. Por favor, elija otra fecha o modifique su selección de horarios");case 3:if(r.horariosSeleccionados.filter(function(e){var a=Ar.p6.formatDate(r.fechaInicio,"DD/MM/YYYY"),n=qr["default"].DIAS_SEMANA[r.diaSeleccionado],t=r.horarios[r.diaSeleccionado].find(function(r){return r.ID===e.hora.ID});if(!t)throw new Error("El horario ".concat(n+" ("+e.hora.HORAINI+" - "+e.hora.HORAFIN,") no se encuentra disponible para el día ").concat(a))}),!r.taller.REGLAMENTO||!r.taller.UTILES||r.checkReglamento){e.n=6;break}return n="Debe aceptar los términos y condiciones, y confirmar el registro de los participantes antes de continuar.",e.n=4,r.$confirmar(n,"info");case 4:if(t=e.v,!t){e.n=5;break}return r.checkReglamento=!0,e.a(2);case 5:return e.a(2);case 6:if(r.horariosSeleccionados.length===r.maxVeces){e.n=7;break}return e.a(2);case 7:o=Or()({},r.taller),o.GRUPO_TURNOS=[],r.horariosSeleccionados.map(function(e){if(r.taller.TURNOS.length){var a=r.taller.TURNOS.find(function(r){return r.VACCOD===e.hora.ID});a.HORARIOS[0].HORAINI=Ar.p6.formatDate(a.HORARIOS[0].HORAINI,"HH:mm"),a.HORARIOS[0].HORAFIN=Ar.p6.formatDate(a.HORARIOS[0].HORAFIN,"HH:mm"),a.ID_FRECUENCIA=r.frecSeleccionada,o.GRUPO_TURNOS.push(Or()(Or()({},r.taller),a))}}),o.FECINI=r.fechaInscripcionModificable?r.dayConverter(r.fechaInicio):r.dayConverter(r.taller.FECINI),o.FECFIN=r.fechaFin,o.MONTO=r.montoTotal,o.ID_FRECUENCIA=r.frecSeleccionada,r.$emit("agregarACarrito",Or()({},r.grupoTaller),o,{}),r.clearHorarioSeleccionado(),e.n=9;break;case 8:e.p=8,i=e.v,r.$notify(i.message,"warning");case 9:return e.a(2)}},e,null,[[0,8]])}))()},diaFueSeleccionado:function(e){e!==this.diaSeleccionado&&this.horarios[e]&&(this.diaSeleccionado=e,this.clearHorarioSeleccionado(!1))},horaFueSeleccionada:function(e){0===e.DISPONIBLES||this.estaSeleccionado(e)||(this.horaSeleccionada=e.ID,this.horaDes="".concat(e.HORAINI," - ").concat(e.HORAFIN),this.vacantesDelHorarioSeleccionado=e.DISPONIBLES,this.turnoSeleccionado={dia:this.diaSeleccionado,hora:e})},estaSeleccionado:function(e){var r=this.horariosSeleccionados.find(function(r){return r.hora.ID===e.ID});return!!r},seleccionarTurnosCorrelativo:function(e,r,a){var n=e.findIndex(function(e){return e.ID===r});if(-1===n)return[];for(var t=e.slice(n,n+a),o=0;o<t.length-1;o++){var i=t[o],l=t[o+1];if(i.HORAFIN!==l.HORAINI)return[]}return t},agregarTurno:function(e){if(this.taller.ID_TIPO_SERVICIO===this.tipoServicio.taller&&this.horariosSeleccionados.push(e),this.taller.ID_TIPO_SERVICIO===this.tipoServicio.alquiler){var r=this.seleccionarTurnosCorrelativo(this.horarios[this.diaSeleccionado],e.hora.ID,this.maxVeces);if(r.length!==this.maxVeces)return this.$notify("No hay turnos correlativos para la frecuencia seleccionada, Por favor selecciona otro turno","info"),void(this.horariosSeleccionados=[]);this.horariosSeleccionados=r.map(function(r){return{dia:e.dia,hora:r}})}},agregarHorario:function(){var e=Or()({},this.turnoSeleccionado),r=this.horariosSeleccionados.find(function(r){return r.hora.ID===e.hora.ID});r?this.$alert("Ya tiene este horario agregado","warning"):(this.agregarTurno(e),this.filtrarDiasConClases(),this.clearHorarioSeleccionado(!1),this.calcularFechafin())},filtrarDiasConClases:function(){var e=this;return Ir()(Cr()().m(function r(){var a,n,o,i,l;return Cr()().w(function(r){while(1)switch(r.n){case 0:if(a=e.diasConClaseInitial,n=e.horariosSeleccionados.map(function(e){return e.dia}),o=e.horariosOrdenados.map(function(e){return e.dia}),i=e.diasConClaseInitial.filter(function(e){if(n.includes(e.dia))return e}),i.length&&(a=t()(i)),!e.fechaInscripcionModificable){r.n=2;break}if(l=i.find(function(e){return o.includes(e.dia)}),!l){r.n=2;break}if(e.fechaInicio=l.fecha,e.taller.ID_TIPO_SERVICIO!==e.tipoServicio.alquiler){r.n=2;break}return r.n=1,e.getHorarios();case 1:e.agruparTurnosPorDias();case 2:e.diasConclases=a;case 3:return r.a(2)}},r)}))()},quitarDeMisHorarios:function(e){this.horariosSeleccionados=this.horariosSeleccionados.filter(function(r){return r.hora.ID!==e.hora.ID}),this.taller.ID_TIPO_SERVICIO===this.tipoServicio.alquiler&&(this.horariosSeleccionados=[]),this.filtrarDiasConClases()},getFrecuenciaClases:function(){var e=this;return Ir()(Cr()().m(function r(){var a,n;return Cr()().w(function(r){while(1)switch(r.p=r.n){case 0:return r.p=0,a=[2025,2026].includes((new Date).getFullYear())&&["2027","2028"].includes(String(e.persona.ANOING))?qr["default"].PERFIL_ALUMNO_EXTERNO:e.persona.ID_PERFIL,r.n=1,e.$http.get("api/CtCursoPeriodoController/getFrecCurso",{params:{params:{joinFrecuencia:!0,where:{ID_CURSO_PERIODO:e.taller.ID_CURSO_PERIODO,ID_PERFIL:a}}}});case 1:n=r.v,n.map(function(r){e.taller.ID_TIPO_SERVICIO===e.tipoServicio.taller&&(r.label=r.DESCRIPCION+" - "+r.NRO_CLASES+" clases "+"(S/".concat(r.MONTO,")")),e.taller.ID_TIPO_SERVICIO===e.tipoServicio.alquiler&&(r.label=r.DESCRIPCION+" - "+"(S/".concat(r.MONTO,")"))}),e.comboFrecuencias=n,r.n=3;break;case 2:r.p=2,r.v,e.$alert("Hubo un error al obtener las frecuencias de clases","warning");case 3:return r.a(2)}},r,null,[[0,2]])}))()},getHorarios:function(){var e=this;return Ir()(Cr()().m(function r(){var a,n;return Cr()().w(function(r){while(1)switch(r.p=r.n){case 0:return r.p=0,a={idCursoPeriodo:e.taller.ID_CURSO_PERIODO},e.taller.ID_TIPO_SERVICIO===e.tipoServicio.alquiler&&(a.tipoServicio={idTipoServicio:e.tipoServicio.alquiler,fechaIni:e.fechaInicio}),r.n=1,e.$http.get("api/CtCursoPeriodoController/getHorario",{params:a});case 1:n=r.v,e.taller.TURNOS.map(function(e){e.HORARIOS=n.filter(function(r){return r.TURNO===e.TURNO})}),r.n=3;break;case 2:r.p=2,r.v,e.$alert("Hubo un problema al obtener los turnos del curso","warning");case 3:return r.a(2)}},r,null,[[0,2]])}))()},timeToNumber:function(e){var r=e.split(":").map(Number),a=xr()(r,2),n=a[0],t=a[1];return 60*n+t},agruparTurnosPorDias:function(){var e=this,r={};this.taller.TURNOS.map(function(e){if(e.HORARIOS.length){var a=e.HORARIOS[0],n=a.DIA,t=Ar.p6.formatDate(a.HORAINI,"HH:mm"),o=Ar.p6.formatDate(a.HORAFIN,"HH:mm");r[n]||(r[n]=[]),r[n].push({ID:e.VACCOD,HORAINI:t,HORAFIN:o,DISPONIBLES:e.DISPONIBLES})}}),Object.keys(r).forEach(function(a){r[a].sort(function(r,a){return e.timeToNumber(r.HORAINI)-e.timeToNumber(a.HORAINI)})}),this.horarios=r},cargarDiasDeClases:function(e){var r=this;return Ir()(Cr()().m(function a(){var n,t,o,i,l,s,c,u,d,f,C,p,O,m,I,A,E,h;return Cr()().w(function(a){while(1)switch(a.n){case 0:n=[],t=new Date(e.FECINI),o=new Date(e.FECFIN),i=[],l={"01":"Enero","02":"Febrero","03":"Marzo","04":"Abril","05":"Mayo","06":"Junio","07":"Julio","08":"Agosto","09":"Setiembre",10:"Octubre",11:"Noviembre",12:"Diciembre"},s=[{value:"T",label:"Todos"}],c=e.DIAS_HORARIOS?e.DIAS_HORARIOS.split(","):[];while(t.getTime()<=o.getTime())u=t.getFullYear()+"",d=t.getMonth()+1,f=t.getDate(),C="0".concat(f).substr(-2),p="0".concat(d).substr(-2),O=t.getDay(),m=C+"/"+p+"/"+u,(new Date).getMonth()+1===d&&(r.mes=p),O=0===O?7:O,c.includes(String(O))&&(i.hasOwnProperty(p)||(i[p]={},s.push({value:p,label:l[p]})),I="A"+C+"-"+p+"-"+u,n.push({name:I,fecha:t.toISOString(),label:m,keyFecha:I,mes:p,dia:O,align:"left"})),t.setDate(t.getDate()+1);return A=r.inscritos.filter(function(r){return![5,7].includes(r.ESTADO)&&r.ID_CURSO_PERIODO===e.ID_CURSO_PERIODO}),E=A.reduce(function(e,r){var a=new Date(r.FECFIN_INSCRIPCION);return a>e?a:e},A.length?new Date(A[0].FECFIN_INSCRIPCION):new Date(e.FECINI)),h=r.isFamAlu&&E<new Date?new Date(new Date((new Date).setUTCHours(5,0,0,0)).toISOString()):E,h.setHours(0,0,0,0),r.isFamAlu&&(n=n.filter(function(e){var r=new Date(e.fecha);return r.setHours(0,0,0,0),r>=h})),n=n.filter(function(e){return!r.diasBloqueados.map(function(e){return e.FECHA}).includes(e.fecha)}),r.diasConclases=n,r.diasConClaseInitial=JSON.parse(JSON.stringify(r.diasConclases)),r.optionMeses=s,a.a(2,n)}},a)}))()}},beforeMount:function(){var e=this;return Ir()(Cr()().m(function r(){var a;return Cr()().w(function(r){while(1)switch(r.n){case 0:return r.n=1,e.getDiasBloqueados();case 1:return e.taller.DESCRIPCION=e.grupoTaller.DESCRIPCION,e.cargarDiasDeClases(e.taller),r.n=2,e.getFrecuenciaClases();case 2:return a=e.diasConclases.find(function(e){return e.fecha}),e.fechaInscripcionModificable&&a?e.fechaInicio=a.fecha:e.fechaInscripcionModificable&&!a?e.fechaInicio=Ar.p6.formatDate(new Date,"DD/MM/YYYY"):e.fechaInscripcionModificable||(e.fechaInicio=e.dayConverter(e.taller.FECINI)),e.fechaFin=e.dayConverter(e.taller.FECFIN),e.fechaFinClases=e.taller.FECFIN,e.frecSeleccionada=e.comboFrecuencias.length?e.comboFrecuencias[0].ID_FRECUENCIA:null,r.n=3,e.getHorarios();case 3:return e.agruparTurnosPorDias(),r.n=4,e.vecesFueSeleccionado();case 4:e.getMsgDeclaracionJurada();case 5:return r.a(2)}},r)}))()}};const Li=(0,Ta.A)(Ui,[["render",ki]]);var Mi=Li,yi={class:"titulo-modal font-20 center"},Hi={class:"titulo-taller font-20"},Gi={class:"center-between"},qi={class:"bold"},Vi={class:"center-between"},xi={class:"bold"},Qi={class:"bold break-word"},Xi={class:"center-between"},Bi={class:"bold"},ji={class:"center-between"},$i={class:"bold"},Yi=["href"],Wi=["href"],zi={class:"sub-card-section"},Ji={class:"row justify-left q-gutter-sm",style:{display:"flex","justify-content":"space-between"}},Ki={class:"center"},Zi={class:"center"},el={class:"center-between"},rl={class:"bold"};function al(e,r){var a=(0,o.g2)("q-icon"),n=(0,o.g2)("q-card-section"),l=(0,o.g2)("q-separator"),s=(0,o.g2)("q-img"),c=(0,o.g2)("q-card");return(0,o.uX)(),(0,o.Wv)(c,{class:"components--mostrar-detalle-taller-carrito",style:{overflow:"hidden"}},{default:(0,o.k6)(function(){return[(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.bF)(a,{class:"cursor-pointer",name:"close",size:"sm",style:{position:"absolute"},onClick:e.onClickClose},null,8,["onClick"]),(0,o.Lk)("span",yi,(0,i.v_)(e.taller.GRUVADES),1)]}),_:1}),(0,o.bF)(l,{style:{height:"0px"}}),(0,o.bF)(n,{class:"scroll-auto",style:{height:"calc(100vh - 101px)"}},{default:(0,o.k6)(function(){return[(0,o.bF)(n,{style:{"padding-top":"0px"}},{default:(0,o.k6)(function(){return[(0,o.bF)(s,{class:"img-modal",src:e.currentUrlImg},null,8,["src"])]}),_:1}),(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("span",Hi,(0,i.v_)(e.taller.CURSODES.toUpperCase()),1)]}),_:1}),(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("div",Gi,[r[0]||(r[0]=(0,o.Lk)("span",null,"Fecha de Inicio:",-1)),(0,o.Lk)("span",qi,(0,i.v_)(e.fechaInicio),1)])]}),_:1}),(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("div",Vi,[r[1]||(r[1]=(0,o.Lk)("span",null,"Fecha de Fin:",-1)),(0,o.Lk)("span",xi,(0,i.v_)(e.fechaFin),1)])]}),_:1}),e.taller.NOMCOMP?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.bF)(n,null,{default:(0,o.k6)(function(){return t()(r[2]||(r[2]=[(0,o.Lk)("span",null,"Profesor(a):",-1)]))}),_:1}),(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("span",Qi,(0,i.v_)(e.taller.NOMCOMP),1)]}),_:1})],64)):(0,o.Q3)("v-if",!0),e.taller.AULADES?((0,o.uX)(),(0,o.Wv)(n,{key:1},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",Xi,[r[3]||(r[3]=(0,o.Lk)("span",null,"Aula:",-1)),(0,o.Lk)("span",Bi,(0,i.v_)(e.taller.AULADES),1)])]}),_:1})):(0,o.Q3)("v-if",!0),e.taller.REQUISITOS?((0,o.uX)(),(0,o.Wv)(n,{key:2},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",ji,[r[4]||(r[4]=(0,o.Lk)("span",null,"Requisitos:",-1)),(0,o.Lk)("span",$i,(0,i.v_)(e.taller.REQUISITOS),1)])]}),_:1})):(0,o.Q3)("v-if",!0),e.taller.REGLAMENTO?((0,o.uX)(),(0,o.CE)(o.FK,{key:3},[(0,o.bF)(n,null,{default:(0,o.k6)(function(){return t()(r[5]||(r[5]=[(0,o.Lk)("span",null,"Reglamento:",-1)]))}),_:1}),(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("a",{class:"break-word",href:e.taller.REGLAMENTO,target:"_blank"},(0,i.v_)(e.taller.REGLAMENTO),9,Yi)]}),_:1})],64)):(0,o.Q3)("v-if",!0),e.taller.UTILES?((0,o.uX)(),(0,o.CE)(o.FK,{key:4},[(0,o.bF)(n,null,{default:(0,o.k6)(function(){return t()(r[6]||(r[6]=[(0,o.Lk)("span",null,"Lista de útiles:",-1)]))}),_:1}),(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("a",{class:"break-word",href:e.taller.UTILES,target:"_blank"},(0,i.v_)(e.taller.UTILES),9,Wi)]}),_:1})],64)):(0,o.Q3)("v-if",!0),r[9]||(r[9]=(0,o.Lk)("div",{class:"sub-card-section"},[(0,o.Lk)("span",null,"Turno:")],-1)),(0,o.Lk)("div",zi,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.comboTurnos[0].DATA_AGRUPADA,function(e){return(0,o.uX)(),(0,o.CE)("div",Ji,[(0,o.Lk)("div",Ki,[(0,o.Lk)("b",null,(0,i.v_)(e.DIAS),1)]),(0,o.Lk)("div",Zi,[(0,o.Lk)("b",null,(0,i.v_)(e.HORAINI)+" - "+(0,i.v_)(e.HORAFIN),1)])])}),256))]),(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("div",el,[r[7]||(r[7]=(0,o.Lk)("span",null,"Monto:",-1)),(0,o.Lk)("span",rl,(0,i.v_)(e.taller.MONSIG)+" "+(0,i.v_)(e.taller.MONTO),1)])]}),_:1}),e.taller.DESCRIPCION?((0,o.uX)(),(0,o.CE)(o.FK,{key:5},[(0,o.bF)(n,null,{default:(0,o.k6)(function(){return t()(r[8]||(r[8]=[(0,o.Lk)("span",{class:"titulo-modal font-20"},"Información importante",-1)]))}),_:1}),(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("span",null,(0,i.v_)(e.taller.DESCRIPCION),1)]}),_:1})],64)):(0,o.Q3)("v-if",!0)]}),_:1})]}),_:1})}var nl={emits:["onClickClose"],props:{taller:{type:Object,default:function(){}},listaTalleres:{type:Array,default:function(){return[]}}},components:{date:Ar.p6,QBtn:gr.A,QImg:va.A,QIcon:Ra.A,QCard:vr.A,QCardSection:Rr.A,QCardActions:ba.A,QSeparator:Na.A,QTooltip:Ar.nC,QSelect:br.A,constantesTesoreria:qr["default"]},data:function(){return{comboTurnos:[],fechaInicio:"",fechaFin:"",DIAS_SEMANA:qr["default"].DIAS_SEMANA}},computed:{currentUrlImg:function(){var e="api/GrupovacController/getImagen?idGrupo="+this.taller.GRUVACOD+"&sie-token="+(0,_r["default"])().token,r=(0,_r["default"])().host+"/"+e;return r}},methods:{dayConverter:function(e){var r=e.replace("T"," ").split(" ")[0].split("-");return r="".concat(r[2],"/").concat(r[1],"/").concat(r[0]),r},onClickClose:function(){this.$emit("onClickClose")},getComboTurnos:function(){var e={value:this.taller.VACCOD,label:""};e.HORARIOS=this.taller.HORARIOS,e.DATA_AGRUPADA=this.agruparHorarios(this.taller),e.DATA_AGRUPADA.map(function(r){e.label+="".concat(r.DIAS," (").concat(r.HORAINI," - ").concat(r.HORAFIN,"), ")}),e.label=e.label.substring(0,e.label.length-2),this.comboTurnos.push(e)},agruparHorarios:function(e){var r=this,a=[];return e.HORARIOS.map(function(e){var n=a.find(function(r){return r.HORAINI===e.HORAINI&&r.HORAFIN===e.HORAFIN});n?n.DIAS=n.DIAS+", "+r.DIAS_SEMANA[e.DIA]:a.push({HORAINI:e.HORAINI,HORAFIN:e.HORAFIN,DIAS:""+r.DIAS_SEMANA[e.DIA]})}),a}},beforeMount:function(){var e=this;return Ir()(Cr()().m(function r(){return Cr()().w(function(r){while(1)switch(r.n){case 0:e.fechaInicio=e.dayConverter(e.taller.FECINI),e.fechaFin=e.dayConverter(e.taller.FECFIN),e.getComboTurnos();case 1:return r.a(2)}},r)}))()}};const tl=(0,Ta.A)(nl,[["render",al]]);var ol=tl,il={emits:["clickHeader","agregarGrupoACarrito","agregarACarrito","finalizarCompra","quitarDeCarrito","vaciarCarrito"],props:{grupoTaller:{type:Object,default:function(){}},inscritos:{type:Array,default:function(){return[]}},talleres:{type:Array,default:function(){return[]}},persona:{type:Object,default:function(){}},cursosPendientes:{type:Array,default:function(){return[]}},cantidadCarrito:{type:Number,default:0}},components:{date:Ar.p6,QImg:va.A,QBtn:gr.A,QIcon:Ra.A,QCard:vr.A,QDialog:ra.A,QSeparator:Na.A,QPageSticky:Ar._U,QCardSection:Rr.A,listaTalleres:xn,mostrarDetalle:ol,carritoCompras:Ht,elegirHorarioTaller:po,elegirDiaHorarioTaller:Mi,elegirVerPaqueteTaller:Bo},data:function(){return{paqueteBuenPastor:"0090"===(0,_r["default"])().colcod&&["26","27","28","29","30","31","32","33"].includes(this.grupoTaller.GRUVACOD),nombreGrupoTaller:this.grupoTaller.GRUVADES,modalElegirHorario:!1,taller:{},tallerDetalle:{},listaTalleresCarrito:[],modalCarrito:!1,refreshCarrito:!0,modalDetalle:!1}},methods:{onClickHeader:function(e){this.$emit("clickHeader",e)},agregarTallerBpastor:function(e){this.agregarACarrito(this.grupoTaller,e,e.TURNOS[0])},agregarTaller:function(e){this.taller=e,this.modalElegirHorario=!0},buscarTallerEnCarrito:function(e){var r=this.listaTalleresCarrito.find(function(r){return r.ID_CURSO_PERIODO===e.ID_CURSO_PERIODO});return r},buscarCursosPaqueteEnCarrito:function(e){var r,a=this,n=dr()(e.PAQUETE);try{var t,o=function(){var e=r.value,n=a.listaTalleresCarrito.find(function(r){return r.ID_CURSO_PERIODO===e.ID_CURSO_PERIODO});if(n)return{v:n}};for(n.s();!(r=n.n()).done;)if(t=o(),t)return t.v}catch(e){n.e(e)}finally{n.f()}},mismaMonedaDeCarrito:function(e){if(0===this.listaTalleresCarrito.length)return!0;var r=this.listaTalleresCarrito[0].MONSIG;return e.MONSIG===r},convertirFecha:function(e){var r=e.split("/").map(Number),a=xr()(r,3),n=a[0],t=a[1],o=a[2];return"".concat(o,"-").concat(String(t).padStart(2,"0"),"-").concat(String(n).padStart(2,"0"))},agregarACarrito:function(e,r,a){var n=this;return Ir()(Cr()().m(function t(){var o,i;return Cr()().w(function(t){while(1)switch(t.n){case 0:if(!r.FLAG_PAQUETE_FREC){t.n=2;break}if(!n.buscarCursosPaqueteEnCarrito(r)){t.n=1;break}return n.$alert("Ya tiene agregado uno o más cursos de este paquete en el carrito","warning"),t.a(2);case 1:t.n=3;break;case 2:if(!n.buscarTallerEnCarrito(r)){t.n=3;break}return n.$alert("Ya tiene agregado este curso en el carrito","warning"),t.a(2);case 3:if(n.mismaMonedaDeCarrito(r)){t.n=4;break}return n.$alert("No puede agregar un taller con diferente tipo de moneda en el carrito","warning"),t.a(2);case 4:o=Or()(Or()({},r),a),i=[],o.FLAG_FREC_DIAS?(o.GRUPO_TURNOS.map(function(e){var a=Or()(Or()(Or()({},r),e),{},{FECINI:n.convertirFecha(r.FECINI),FECFIN:n.convertirFecha(r.FECFIN)});a.HORARIOJSON=a.TURNOJSON,a.TURNODES=n.getTurno(JSON.parse(a.TURNOJSON)),a.DIAS=""+a.TURNODES.DIA,a.CHECK=!0,a.MONTO_FRECUENCIA=o.MONTO,i.push(a)}),n.$emit("agregarGrupoACarrito",i)):o.FLAG_PAQUETE_FREC?(o.PAQUETE.map(function(e){var r=Or()(Or()({},e),e.TURNOS[0]);r.HORARIOJSON=r.TURNOJSON,r.TURNODES=n.getTurno(JSON.parse(r.TURNOJSON)),r.CHECK=!0,r.COD_PAQUETE_CURSO=o.COD_PAQUETE_CURSO,r.DIAS=""+r.TURNODES.DIA,i.push(r)}),n.$emit("agregarGrupoACarrito",i)):(r.IMG||(o.IMG=e.IMG),o.HORARIOJSON=o.TURNOJSON,o.TURNODES=n.getTurno(JSON.parse(o.TURNOJSON)),o.DIAS=""+o.TURNODES.DIA,o.CHECK=!0,n.$emit("agregarACarrito",o));case 5:return t.a(2)}},t)}))()},agregarCarritoValidado:function(){var e=this;return Ir()(Cr()().m(function r(){return Cr()().w(function(r){while(1)switch(r.n){case 0:return r.n=1,e.cargarCarrito();case 1:e.modalElegirHorario=!1;case 2:return r.a(2)}},r)}))()},finalizarCompra:function(e){var r=this;return Ir()(Cr()().m(function e(){return Cr()().w(function(e){while(1)switch(e.n){case 0:r.$emit("finalizarCompra");case 1:return e.a(2)}},e)}))()},openModalCarrito:function(){var e=this;return Ir()(Cr()().m(function r(){return Cr()().w(function(r){while(1)switch(r.n){case 0:return e.modalCarrito=!0,r.n=1,e.reloadCarrito();case 1:return r.a(2)}},r)}))()},quitarDeCarrito:function(e){var r=this;return Ir()(Cr()().m(function a(){return Cr()().w(function(a){while(1)switch(a.n){case 0:r.$emit("quitarDeCarrito",Or()({},e));case 1:return a.a(2)}},a)}))()},mostrarDetalle:function(e){this.tallerDetalle=e,this.modalDetalle=!0},reloadCarrito:function(){var e=this;return Ir()(Cr()().m(function r(){return Cr()().w(function(r){while(1)switch(r.n){case 0:return e.refreshCarrito=!1,r.n=1,e.$nextTick();case 1:e.refreshCarrito=!0;case 2:return r.a(2)}},r)}))()},onClickClose:function(){this.modalElegirHorario=!1},closeDetalle:function(){this.modalDetalle=!1},vaciarCarrito:function(e){var r=this;return Ir()(Cr()().m(function a(){return Cr()().w(function(a){while(1)switch(a.n){case 0:r.$emit("vaciarCarrito",e);case 1:return a.a(2)}},a)}))()},cargarCarrito:function(){var e=this;return Ir()(Cr()().m(function r(){var a,n,t,o,i;return Cr()().w(function(r){while(1)switch(r.p=r.n){case 0:a=e.cursosPendientes.filter(function(e){return!e.URL_PAGO}),n=dr()(a),r.p=1,n.s();case 2:if((t=n.n()).done){r.n=5;break}return o=t.value,r.n=3,e.getHorarios(o.ID_CURSO_PERIODO,o.TURNO);case 3:o.HORARIOS=r.v;case 4:r.n=2;break;case 5:r.n=7;break;case 6:r.p=6,i=r.v,n.e(i);case 7:return r.p=7,n.f(),r.f(7);case 8:return e.listaTalleresCarrito=a,r.n=9,e.reloadCarrito();case 9:return r.a(2)}},r,null,[[1,6,7,8]])}))()},getTurno:function(e){var r=Object.entries(e).map(function(e){var r=xr()(e,2),a=r[0],n=r[1];return{DIA:a,HORAINI:n.HORAINI?n.HORAINI.slice(0,5):"",HORAFIN:n.HORAFIN?n.HORAFIN.slice(0,5):""}});return r[0]},getHorarios:function(e,r){var a=this;return Ir()(Cr()().m(function n(){var t;return Cr()().w(function(n){while(1)switch(n.p=n.n){case 0:return n.p=0,n.n=1,a.$http.get("api/CtCursoPeriodoController/getHorario",{params:{idCursoPeriodo:e,turno:r}});case 1:return t=n.v,t.map(function(e){e.HORAINI=Ar.p6.formatDate(e.HORAINI,"HH:mm"),e.HORAFIN=Ar.p6.formatDate(e.HORAFIN,"HH:mm")}),n.a(2,t);case 2:n.p=2,n.v,a.$alert("Hubo un problema al obtener los turnos del curso","warning");case 3:return n.a(2)}},n,null,[[0,2]])}))()}},beforeMount:function(){var e=this;return Ir()(Cr()().m(function r(){return Cr()().w(function(r){while(1)switch(r.n){case 0:return r.n=1,e.cargarCarrito();case 1:return r.a(2)}},r)}))()}};const ll=(0,Ta.A)(il,[["render",xa]]);var sl=ll,cl={class:"col-descripcion text-left"},ul={class:"bold"};function dl(e,r){var a=this,n=(0,o.g2)("q-card-section"),t=(0,o.g2)("q-card"),l=(0,o.g2)("q-select");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.bF)(t,{class:"scroll",flat:"",bordered:""},{default:(0,o.k6)(function(){return[(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("tr",null,[r[2]||(r[2]=(0,o.Lk)("th",{class:"text-left col-frecuencia color-primary"},"Monto (S/)",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.listaPaquetes,function(e){return(0,o.uX)(),(0,o.CE)("th",null,[(0,o.bF)(n,{class:"center-right gap-10 col-paquete"},{default:(0,o.k6)(function(){return[(0,o.Lk)("span",null,(0,i.v_)(e.DESCRIPCION),1)]}),_:2},1024)])}),256))]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.montos,function(r){return(0,o.uX)(),(0,o.CE)("tr",null,[(0,o.Lk)("td",cl,(0,i.v_)(r.DESCRIPCION),1),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.listaPaquetes,function(e){return(0,o.uX)(),(0,o.CE)("td",null,[(0,o.bF)(n,{class:"center-right col-paquete"},{default:(0,o.k6)(function(){return[(0,o.Lk)("span",null,(0,i.v_)(r.MONTOS[e.ID_PAQUETE]),1)]}),_:2},1024)])}),256))])}),256))]}),_:1})]}),_:1})]}),_:1}),(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("span",null,"Usted se ha inscrito a "+(0,i.v_)(a.arrPaquetes.length)+" paquete(s)",1)]}),_:1}),(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.bF)(l,{modelValue:e.paqueteSeleccionado,"onUpdate:modelValue":r[0]||(r[0]=function(r){return e.paqueteSeleccionado=r}),label:"Paquete de semanas",options:e.comboPaquetes,onInput:e.paqueteSemanasFueSeleccionado},null,8,["modelValue","options","onInput"])]}),_:1}),e.paqueteSeleccionado?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("span",null,[r[3]||(r[3]=(0,o.eW)("Fecha inicio:",-1)),(0,o.bF)(l,{modelValue:e.fechaInicio,"onUpdate:modelValue":r[1]||(r[1]=function(r){return e.fechaInicio=r}),options:e.diasConclases,"option-label":"label","option-value":"fecha",onInput:e.vecesFueSeleccionado},null,8,["modelValue","options","onInput"])])]}),_:1}),(0,o.bF)(n,null,{default:(0,o.k6)(function(){return[r[4]||(r[4]=(0,o.Lk)("span",null,"Fecha fin:",-1)),(0,o.Lk)("span",ul,(0,i.v_)(e.fechaFin),1)]}),_:1})],64)):(0,o.Q3)("v-if",!0)])}a(71587);var fl={emits:["paqueteSemanasFueSeleccionado"],props:{talleres:{type:Array,default:function(){return[]}},nivelPaquete:{type:String,default:"T"},inscritos:{type:Array,default:function(){return[]}},isFamAlu:{type:Boolean}},components:{date:Ar.p6,QImg:va.A,QBtn:gr.A,QIcon:Ra.A,QCard:vr.A,QDialog:ra.A,QSelect:br.A,QSeparator:Na.A,QPageSticky:Ar._U,QCardSection:Rr.A},data:function(){return{listaFrecuencias:[],listaPaquetes:[],idFrecuenciaEnPaquetes:[],listaPrecioPaquetes:[],montos:[],arrPaquetes:[],comboPaquetes:[],paqueteSeleccionado:null,frecSeleccionada:null,fechaInicio:"",fechaFin:"",fechaFinClases:"",diasConclases:[],diasConClaseInitial:[],optionMeses:[]}},methods:{getFrecuencias:function(){var e=this;return Ir()(Cr()().m(function r(){var a,n;return Cr()().w(function(r){while(1)switch(r.p=r.n){case 0:return r.p=0,r.n=1,e.$http.get("api/CtCursoPeriodoController/getFrecuenciaClases",{params:{params:{order:{sidx:"VECES",sord:"asc"}}}});case 1:a=r.v,e.listaFrecuencias=a.filter(function(r){return e.idFrecuenciaEnPaquetes.includes(r.ID_FRECUENCIA)}),r.n=3;break;case 2:r.p=2,n=r.v,e.$alert(n.message,"warning");case 3:return r.a(2)}},r,null,[[0,2]])}))()},getPaquetes:function(){var e=this;return Ir()(Cr()().m(function r(){var a,n,t;return Cr()().w(function(r){while(1)switch(r.p=r.n){case 0:return r.p=0,a={where:{nivel:e.nivelPaquete}},r.n=1,e.$http.get("api/CtCursoPeriodoController/getCtPaquete",{params:{params:a}});case 1:n=r.v,e.listaPaquetes=n,e.listaPaquetes.sort(function(e,r){return e.ID_PAQUETE-r.ID_PAQUETE}),r.n=3;break;case 2:r.p=2,t=r.v,e.$alert(t.message,"warning");case 3:return r.a(2)}},r,null,[[0,2]])}))()},getPrecioPaquetes:function(){var e=this;return Ir()(Cr()().m(function r(){var a,n,t;return Cr()().w(function(r){while(1)switch(r.p=r.n){case 0:return r.p=0,a={where:{"t2.nivel":e.nivelPaquete}},r.n=1,e.$http.get("api/CtCursoPeriodoController/getCtPrecioPaquete",{params:{params:a}});case 1:n=r.v,e.idFrecuenciaEnPaquetes=n.map(function(e){return e.ID_FRECUENCIA}),e.listaPrecioPaquetes=n,r.n=3;break;case 2:r.p=2,t=r.v,e.$alert(t.message,"warning");case 3:return r.a(2)}},r,null,[[0,2]])}))()},cargarMontos:function(){var e=this,r=[],a=[];this.listaFrecuencias.forEach(function(r){var n=e.listaPrecioPaquetes.find(function(e){return e.ID_FRECUENCIA===r.ID_FRECUENCIA});n&&a.push(r)}),a.forEach(function(a){var n={ID_FRECUENCIA:a.ID_FRECUENCIA,DESCRIPCION:a.DESCRIPCION,VECES:a.VECES,MONTOS:{}};e.listaPaquetes.forEach(function(r){var t=e.listaPrecioPaquetes.find(function(e){return e.ID_FRECUENCIA===a.ID_FRECUENCIA&&e.ID_PAQUETE===r.ID_PAQUETE});n.MONTOS[r.ID_PAQUETE]=t.MONTO}),r.push(n)}),this.montos=r},getPaquetesEnCarrito:function(){var e=this,r=JSON.parse(JSON.stringify(this.talleres)),a=r.filter(function(e){return e.FLAG_PAQUETE_FREC&&!e.URL_PAGO});a.forEach(function(r){var a=e.arrPaquetes.find(function(e){return e.COD_PAQUETE_CURSO===r.COD_PAQUETE_CURSO});a?a.PAQUETE.push(a):(r.PAQUETE=[Or()({},r)],e.arrPaquetes.push(r))})},getComboPaquetes:function(){var e=this,r=this.montos.find(function(r){return r.VECES===e.arrPaquetes.length});r?this.listaPaquetes.forEach(function(a){var n={label:"".concat(a.DESCRIPCION," - S/ ").concat(r.MONTOS[a.ID_PAQUETE]),value:a.ID_PAQUETE};e.comboPaquetes.push(n)}):this.$alert("No hay frecuencias disponibles para la cantidad de paquetes seleccionados","warning")},paqueteSemanasFueSeleccionado:function(e){var r=this;this.frecSeleccionada=this.listaFrecuencias.find(function(e){return e.VECES===r.arrPaquetes.length});var a=this.listaPrecioPaquetes.find(function(e){return e.ID_FRECUENCIA===r.frecSeleccionada.ID_FRECUENCIA&&e.ID_PAQUETE===r.paqueteSeleccionado});this.fechaInicio="",this.fechaFin="",this.$emit("paqueteSemanasFueSeleccionado",Or()({},a))},cargarDiasDeClases:function(e){var r=this;return Ir()(Cr()().m(function a(){var n,t,o,i,l,s,c,u,d,f,C,p,O,m,I,A,E,h;return Cr()().w(function(a){while(1)switch(a.n){case 0:n=[],t=new Date(e.FECINI),o=new Date(e.FECFIN),i=[],l={"01":"Enero","02":"Febrero","03":"Marzo","04":"Abril","05":"Mayo","06":"Junio","07":"Julio","08":"Agosto","09":"Setiembre",10:"Octubre",11:"Noviembre",12:"Diciembre"},s=[{value:"T",label:"Todos"}],c=Array.from(new Set(r.talleres.map(function(e){return e.DIAS})));while(t.getTime()<=o.getTime())u=t.getFullYear()+"",d=t.getMonth()+1,f=t.getDate(),C="0".concat(f).substr(-2),p="0".concat(d).substr(-2),O=t.getDay(),m=C+"/"+p+"/"+u,(new Date).getMonth()+1===d&&(r.mes=p),O=0===O?7:O,c.includes(String(O))&&(i.hasOwnProperty(p)||(i[p]={},s.push({value:p,label:l[p]})),I="A"+C+"-"+p+"-"+u,n.push({name:I,fecha:t.toISOString(),label:m,keyFecha:I,mes:p,dia:O,align:"left"})),t.setDate(t.getDate()+1);return A=r.inscritos.filter(function(r){return![5,7].includes(r.ESTADO)&&r.ID_CURSO_PERIODO===e.ID_CURSO_PERIODO}),E=A.reduce(function(e,r){var a=new Date(r.FECFIN_INSCRIPCION);return a>e?a:e},A.length?new Date(A[0].FECFIN_INSCRIPCION):new Date(e.FECINI)),h=r.isFamAlu&&E<new Date?new Date(new Date((new Date).setUTCHours(5,0,0,0)).toISOString()):E,h.setHours(0,0,0,0),r.isFamAlu&&(n=n.filter(function(e){var r=new Date(e.fecha);return r.setHours(0,0,0,0),r>=h})),r.diasConclases=n,r.diasConClaseInitial=JSON.parse(JSON.stringify(r.diasConclases)),r.optionMeses=s,a.a(2,n)}},a)}))()},dayConverter:function(e){var r=e.replace("T"," ").split(" ")[0].split("-");return r="".concat(r[2],"/").concat(r[1],"/").concat(r[0]),r},vecesFueSeleccionado:function(){var e=this;this.fechaFinClases=this.talleres[0].FECFIN,this.fechaFin=this.dayConverter(this.fechaFinClases);var r=this.montos.find(function(r){return r.ID_FRECUENCIA===e.frecSeleccionada.ID_FRECUENCIA});if(r){if(new Date((0,wi.convertToYMD)(this.fechaFin))>new Date(this.fechaFinClases))return void this.$notify("La frecuencia de clases seleccionada supera a la fecha fin del curso","warning");this.frecuenciaElegida=r,this.calcularFechafin()}},calcularFechafin:function(){var e=this;return Ir()(Cr()().m(function r(){var a,n,o,i,l,s,c,u,d,f,C,p,O,m,I,A,E,h,D,g,S,b,v,R;return Cr()().w(function(r){while(1)switch(r.n){case 0:if(a=[],a=Array.from(new Set(e.talleres.map(function(e){return Number(e.DIAS)}))),!(a.length>0)){r.n=2;break}if(n=a,o=e.listaPaquetes.find(function(r){return r.ID_PAQUETE===e.paqueteSeleccionado}),i=n.length*o.NRO_SEMANAS,l=i,s=n.slice().sort(function(e,r){return e-r}),c=null,e.fechaInicio.includes("/")?(u=e.fechaInicio.split("/"),d=xr()(u,3),f=d[0],C=d[1],p=d[2],c=new Date(p,C-1,f)):c=new Date(e.fechaInicio),O=t()(new Set(s)),1!==i||1!==O.length){r.n=1;break}return e.fechaFin=e.formatDate(c),r.a(2);case 1:m=c.getDay(),I=Number(s[s.length-1]),A=s.filter(function(e){return e>=m}),c.setDate(c.getDate()+(I-m)),E=l%s.length,l-=E;while(l>0)c.setDate(c.getDate()+7),l-=s.length;for(h=1;h<=E;h++)A.pop();for(D=s.length-1;D>=0;D--)g=s[D],A.includes(g)&&(S=D-1<0?s.length-1:D-1,b=s[S],v=g-b,R=v<0?g+7-b:g-b,R=0===R?7:R,c.setDate(c.getDate()-R));e.fechaFin=e.formatDate(c);case 2:return r.a(2)}},r)}))()},formatDate:function(e){var r=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),n=e.getFullYear();return"".concat(r,"/").concat(a,"/").concat(n)}},beforeMount:function(){var e=this;return Ir()(Cr()().m(function r(){return Cr()().w(function(r){while(1)switch(r.n){case 0:return r.n=1,e.getPrecioPaquetes();case 1:return r.n=2,e.getFrecuencias();case 2:return r.n=3,e.getPaquetes();case 3:return r.n=4,e.cargarDiasDeClases(e.talleres[0]);case 4:e.cargarMontos(),e.getPaquetesEnCarrito(),e.getComboPaquetes();case 5:return r.a(2)}},r)}))()}};const Cl=(0,Ta.A)(fl,[["render",dl]]);var pl=Cl,Ol=a(99515),ml=a(80660),Il={directives:{sieActive:Tr.A},components:{QDatetime:Ar.T5,registroPago:Gr.A,QDialog:Ar.OQ,QTabs:Ar.uw,QTab:Ar.zu,QTabPane:Ar.dg,QItemSeparator:Ar.CL,QIframe:yr.A,QCollapsible:Ar.eS,sieUsuario:Mr.A,QCheckbox:Ar.vZ,QItemSection:Lr.A,QSearch:Ar.Ks,sieSelect:Ur.A,QToolbar:Ar.ZV,QTabPanels:hr.A,QTabPanel:Dr.A,QBtn:gr.A,QSelect:br.A,QInput:Sr.A,QPageSticky:Ar._U,QFab:Ar.l6,QCard:vr.A,QFabAction:Ar.B$,QCardSection:Rr.A,QInnerLoading:Ar.SQ,QSpinnerOval:Ar.VA,sieVacio:Nr.A,sieEstudiantes:Pr.Ay,sieModal:wr.A,formPersona:ea.A,QDialog2:ra.A,cardTaller:Pa,QIntersection:Gn.A,cardGrupoTaller:Ma,elegirTalleres:sl,elegirPaqueteSemanas:pl,SieHtml:Fi.A,QRadio:Ol.A,QPage:Ar.Tu,QField:Ar.Om,QCardMain:Ar.d1,QList:Ar.Mb,QItem:Ar.H0,QItemSide:Ar.n1,QItemTile:Ar.lp,QItemMain:Ar.mF,QIcon:Ar.bP},mixins:[Hr.A,jr,$r,zr,Jr,Kr],data:function(){return{contador:0,tieneDescuento:["0313","0445","0058"].includes((0,_r["default"])().colcod),mostrarTextoAcercarseACaja:!["0313"].includes((0,_r["default"])().colcod),ANULACIONRESTRINGIDA:["0275"].includes((0,_r["default"])().colcod),noacepta:!1,aceptaTerminos:!1,tab:null,colcod:null,montoNota:null,modalAdicional:!1,V_USA_DEUDA:!1,buttons:[{icon:"block",label:"Anular",tooltip:"Anular todas las inscripciones Vencidas",click:this.anularVencidos,disable:this.permiso>1}],fechaInscripcion:Ar.p6.formatDate(new Date,"YYYY-MM-DD"),bloquearFechaInscripcion:["0313"].includes((0,_r["default"])().colcod),modalCambiarTaller:!1,optPeriodo:[],optPeriodoInscripcion:[],noMostrarCursos:[],itemNC:{},formNC:{FECEMI:new Date,MONTO:0},modalNotaCredito:!1,inscripcionBloqueada:!1,inProgress:!1,descuento:null,descripcionDias:{1:"Lunes",2:"Martes",3:"Miercoles",4:"Jueves",5:"Viernes",6:"Sábado",7:"Domingo"},totalPorCobrar:0,dataAlumnosExternos:[],estadoInscripcion:12,estadosOption:[{value:"",label:"TODOS"},{value:12,label:"PAGADO/PENDIENTE"},{value:1,label:"PENDIENTE"},{value:2,label:"PAGADO"},{value:3,label:"GRATUITO"},{value:5,label:"ANULADO"},{value:6,label:"EXONERADO"},{value:7,label:"CAMBIADO"}],estados:{1:"PENDIENTE",2:"PAGADO",3:"GRATUITO",4:"BECADO",5:"ANULADO",6:"EXONERADO",7:"CAMBIADO"},formCamb:{},cursosCambio:[],cambioElegido:null,cursosInscritos:[],cursosVencidos:[],horario:[],modalCip:!1,modalMisCursos:!1,todosTienenCip:!1,pagar:!1,alumnoSeleccionado:{},colegioProcedencia:null,modalPagar:!1,selecionados:[],inscritos:[],horarioActual:[],porCobrar:[],duracod:null,duracodAnt:null,sie:(0,_r["default"])(),optTipoAlumno:[{label:"Interno",value:1},{label:"Externo",value:3}],cursoAnterior:{},cursosEliminados:[],objCursosEliminados:[],optPrograma:[],tipoAlumno:1,modalCarrito:null,idPrograma:null,frameUrl:null,idPersona:null,gruvacod:null,talleres:[],buscar:"",visible:!1,optGrupo:[],objEnviar:[],objActual:[],pase:{},persona:"",dataAlumnos:[],alumno:{alucod:"",nombres:"",apellidos:""},isFamAlu:(0,_r["default"])().esFamiliaExterna||(0,_r["default"])().esFamilia||(0,_r["default"])().esFamiliaAdmision||(0,_r["default"])().esEstudiante||["E01","E02"].includes((0,_r["default"])().tipcod),isAdmin:["001","050","105"].includes((0,_r["default"])().tipcod),esPerfilCaja:(0,_r["default"])().tipcod===qr["default"].PERFIL_CAJA,esPerfilAdmnistrativo:"002"===(0,_r["default"])().tipcod,esPerfilTesoreria:"020"===(0,_r["default"])().tipcod,isBpastor:["0090"].includes((0,_r["default"])().colcod),isFamExterna:"E01"===(0,_r["default"])().tipcod,rutaEscudo:(0,_r["default"])().host+"/api/HyoEscudo/imagen/logo",colegio:(0,_r["default"])().colname,vistaalumno:!1,sinTurnoInscripcion:!1,turnoAunNoEmpieza:!1,sinTurnoInscripcionAlumno:!1,turnoAunNoEmpiezaAlumno:!1,turnoPorCurso:[],cursosConCronograma:[],turnoPorCursoGrupo:[],turnoPorSalon:[],alumnoElegido:{},requisitoInscripcionAnterior:!1,modalPersona:!1,esUsuarioAlumno:["005","E02"].includes((0,_r["default"])().tipcod),openModalFinalizar:!1,fechaFinalizarTaller:Ar.p6.formatDate(new Date,"YYYY-MM-DD"),escogiendoTaller:!1,grupoTaller:{},openModalPaqueteSemanas:!1,talleresTemporales:[],objPaquete:{},textCursoPaquete:"",textHorarioPaquete:"",btnPagar:"pagar",modalTipoAnulacion:!1,tipoAnulacion:"NC",rowTaller:{},disableDescuento:!(!["0460"].includes((0,_r["default"])().colcod)||["001","058","030"].includes((0,_r["default"])().tipcod)),optPrecioPaqueteTipo:[],optPrecioPaqueteTipoDet:[],nivelPaquete:null,colegiosDeProcendecia:[],resFrecCurso:{},fechaHora:new Date,fecInsMenorIgual:new Date,rowComprobanteAnular:{},loadSelectComprobanteAnular:{key:"COMPROBANTE",values:[]},tipoServicio:{taller:1,alquiler:2},aceptaCruceHorarioPaquete:!1,modalTerminoCondiciones:!1,terminosCondiciones:"",checkTerminosCondiciones:!1,modalDeclaracionJurada:!1,checkDeclaracionJurada:!1,talleresConDeclaracionJurada:[],importe:0,pas_pag:""}},watch:{modalAdicional:function(e){e||(this.noacepta=!1,this.aceptaTerminos=!1)},tab:function(e){if(this.isFamAlu){if("miscursos"===e)this.optPeriodo.unshift({DURACOD:null,DURADES:"Todos",VIGENTE:"N"});else if(this.optPeriodoInscripcion=this.optPeriodoInscripcion.filter(function(e){return null!==e.DURACOD}),this.optPeriodo=this.optPeriodo.filter(function(e){return null!==e.DURACOD}),!this.duracod){var r=this.optPeriodoInscripcion.find(function(e){return e});this.duracod=r&&r.DURACOD?r.DURACOD:null}}else if("miscursos"===e)this.optPeriodo.unshift({DURACOD:null,DURADES:"Todos",VIGENTE:"N"});else if(this.optPeriodoInscripcion=this.optPeriodo.filter(function(e){return null!==e.DURACOD}),this.optPeriodo=this.optPeriodoInscripcion,!this.duracod){var a=this.optPeriodo.find(function(e){return"S"===e.VIGENTE});this.duracod=a&&a.DURACOD?a.DURACOD:null}}},methods:{selectedComprobanteAnular:function(e){this.rowComprobanteAnular=e,console.log("rowComprobanteAnular",this.rowComprobanteAnular),this.loadSelectComprobanteAnular.values=[e.COMPROBANTE]},anularCursoConDeuda:function(){var e=this;return Ir()(Cr()().m(function r(){var a,n,t;return Cr()().w(function(r){while(1)switch(r.n){case 0:if(Object.keys(e.rowComprobanteAnular).length){r.n=1;break}return e.$notify("Por favor selecciona un comprobante","warning"),r.a(2);case 1:if(0!==e.$refs.tablaComprobanteAnular.rowSelected().MONTOANU){r.n=2;break}return e.$notify("Por favor ingresa un monto","warning"),r.a(2);case 2:return e.rowComprobanteAnular.MONTOANU=e.$refs.tablaComprobanteAnular.rowSelected().MONTOANU,r.n=3,e.$http.get("api/PagoController/getComprobante",{params:{parametros:{numtal:e.rowComprobanteAnular.NUMTAL,numpag:e.rowComprobanteAnular.NUMPAG}}});case 3:a=r.v,n=a[0].MONTOTPAG,t={FECEMI:new Date,MONTO:e.rowComprobanteAnular.MONTOPAG,NUMPAG:e.rowComprobanteAnular.NUMTAL+"-"+e.rowComprobanteAnular.NUMPAG},e.formNC=Or()({},t),e.montoNota=n||e.rowComprobanteAnular.MONTOPAG,e.anularCursoPagado();case 4:return r.a(2)}},r)}))()},generarTipoAnulacionConDeuda:function(){"NC"===this.tipoAnulacion?this.anularCursoConDeuda(null,this.rowTaller):this.anularComprobanteConDeuda(this.rowTaller)},generarTipoAnulacion:function(){"NC"===this.tipoAnulacion?this.anularCurso(null,this.rowTaller):this.anularComprobante(this.rowTaller)},onClickGrupoTaller:function(e){var r=this;return Ir()(Cr()().m(function a(){var n,t,o,i,l,s;return Cr()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,r.cambiaGrupo(e);case 1:r.grupoTaller=e,n=dr()(r.talleres);try{for(n.s();!(t=n.n()).done;)o=t.value,i=[2025,2026].includes((new Date).getFullYear())&&["2027","2028"].includes(String(r.alumnoSeleccionado.ANOING))?3:r.alumnoSeleccionado.ID_PERFIL,o.MONTO=r.getMonto(o,i)}catch(e){n.e(e)}finally{n.f()}return r.talleresTemporales=[],l=JSON.parse(localStorage.getItem("talleresTemporales[".concat(r.alumnoSeleccionado.ID_PERSONA,"]"))),l&&(r.talleresTemporales=l),s={alucod:r.alumnoSeleccionado.ALUCOD||r.alumnoSeleccionado.CODIGO,id_persona:r.alumnoSeleccionado.ID_PERSONA,ano:r.sie.ano,duracod:r.duracod},console.log("this.getCursosPorCobrar(params)001"),a.n=2,r.getCursosPorCobrar(s);case 2:r.objEnviar=a.v,r.escogiendoTaller=!0;case 3:return a.a(2)}},a)}))()},onClickHeader:function(){this.escogiendoTaller=!1},checkAceptaTerminos:function(){this.aceptaTerminos&&(this.noacepta=!1)},agregarPersona:function(){var e=this;return Ir()(Cr()().m(function r(){return Cr()().w(function(r){while(1)switch(r.n){case 0:e.idPersona=null,e.modalPersona=!0;case 1:return r.a(2)}},r)}))()},closeModalFormPersona:function(){var e=arguments,r=this;return Ir()(Cr()().m(function a(){var n,t,o;return Cr()().w(function(a){while(1)switch(a.n){case 0:if(n=e.length>0&&void 0!==e[0]&&e[0],t=e.length>1?e[1]:void 0,r.modalPersona=!1,r.idPersona=t,!n){a.n=3;break}return a.n=1,r.getConfiguracionTalleres(r.sie.famcod,r.sie.ano);case 1:if(o=r.alumnos.find(function(e){return e.ID_PERSONA===r.idPersona}),o){a.n=2;break}return a.a(2,r.$alert("Hubo un error al obtener la información de la nueva persona","warning"));case 2:return a.n=3,r.cambiarAlumno(o);case 3:return a.a(2)}},a)}))()},anularVencidos:function(){var e=this;return Ir()(Cr()().m(function r(){return Cr()().w(function(r){while(1)switch(r.n){case 0:if(e.cursosVencidos.length){r.n=1;break}return r.a(2,(0,kr["default"])("No hay cursos vencidos","info"));case 1:if(e.$refs.tablaInscripcionesVencidas.rowsSelected().length){r.n=2;break}return r.a(2,(0,kr["default"])("Por favor selecciona mínimo una inscripción vencida para anular","info"));case 2:e.$confirm("¿Está seguro(a) de anular las inscripciones vencidas seleccionadas? (Este proceso es irreversible). ","warning").onOk(Ir()(Cr()().m(function r(){var a;return Cr()().w(function(r){while(1)switch(r.n){case 0:a=e.$refs.tablaInscripcionesVencidas.rowsSelected().map(function(e){return e.ID_INSCRIPCION_DETALLE}),e.$http.post("api/InscripcionController/anularInscripcionesVencidas",{params:{fecha:e.fecInsMenorIgual,ids:a}}).then(function(){var r=Ir()(Cr()().m(function r(a){return Cr()().w(function(r){while(1)switch(r.n){case 0:return(0,kr["default"])(a.message,"success"),r.n=1,e.getInscripcionesVencidas();case 1:return r.a(2)}},r)}));return function(e){return r.apply(this,arguments)}}()).catch(function(e){(0,kr["default"])("No se realizó la anulación","warning")});case 1:return r.a(2)}},r)})));case 3:return r.a(2)}},r)}))()},finalizaPago:function(){var e=this;return Ir()(Cr()().m(function r(){return Cr()().w(function(r){while(1)switch(r.n){case 0:return r.n=1,e.reloadElegirTalleres();case 1:return r.a(2)}},r)}))()},verComoAlumno:function(){this.vistaalumno=!this.vistaalumno,this.vistaalumno?this.isFamAlu=!0:(this.isFamAlu=!1,this.sinTurnoInscripcion=!1,this.turnoAunNoEmpieza=!1,this.sinTurnoInscripcionAlumno=!1,this.turnoAunNoEmpiezaAlumno=!1),this.cargarDatosAlumno(this.alumnoElegido)},getBloqueo:function(){var e=this;this.$http.get("api/ControlController/getControl",{params:{parametros:{campo:"BLOQUEOTF",anio:"0000"}}}).then(function(r){r&&(e.inscripcionBloqueada=r.VISIBLE)})},actualizarBloqueo:function(){var e=this,r={VISIBLE:this.inscripcionBloqueada?0:1};this.$http.put("api/ControlController/putControl",{params:{campo:"BLOQUEOTF",anio:"0000",data:r}}).then(function(r){r&&(e.inscripcionBloqueada=r.VISIBLE,e.getBloqueo())})},imprimir:function(e){if("0020"!==this.sie.colcod){var r=Ar.p6.formatDate(new Date(e.FECINI_INSCRIPCION),"DD-MM-YYYY"),a=Ar.p6.formatDate(new Date(e.FECFIN_INSCRIPCION),"DD-MM-YYYY"),n={ID_INSCRIPCION_DETALLE:e.ID_INSCRIPCION_DETALLE,repcod:"CT001",formato:"pdf",proalu:"I",duracod:this.duracod,ano:this.sie.ano,idPersona:this.alumnoSeleccionado.ID_PERSONA,alucod:this.alumnoSeleccionado.ALUCOD||this.alumnoSeleccionado.CODIGO,estado:e.ESTADO,monto:e.MONTOPAG?e.MONTOPAG:e.MONTO-e.MONTODES,flag_paquete_frec:e.FLAG_PAQUETE_FREC,feciniins:e.FECINI_INSCRIPCION?r:"",fecfinins:e.FECFIN_INSCRIPCION?a:"",cursodes:this.textCursoPaquete,horario:this.textHorarioPaquete,mostrarContrato:Number(["0385"].includes(this.sie.colcod)&&2===e.ESTADO)};(0,Fr.exportFilePhp)(n,"webservice/reportes-talleres/reporte","nombreDelReporte")}else this.imprimirDeclaracionJurada(e)},imprimirDeclaracionJurada:function(e){var r=this;return Ir()(Cr()().m(function a(){var n,t,o,i,l,s,c;return Cr()().w(function(a){while(1)switch(a.n){case 0:if(e.checkDeclaracionJurada=!0,r.alumnoSeleccionado.FECHA_NACIMIENTO){a.n=1;break}return r.$notify("Por favor agregar la fecha de nacimiento del participante","warning"),a.a(2);case 1:return n=new Date,t=new Date(r.alumnoSeleccionado.FECHA_NACIMIENTO),o=Ar.p6.getDateDiff(n,t,"years"),i=Ar.p6.adjustDate(t,{year:n.getFullYear()-t.getFullYear()}),n<i&&o--,a.n=2,r.$http.get("api/personaController/getDatosResponsablePago",{params:{params:{id_persona:r.alumnoSeleccionado.ID_PERSONA}}});case 2:return l=a.v,a.n=3,r.$http.get("api/personaController/getDatosPersona",{params:{params:{id_persona:r.alumnoSeleccionado.ID_PERSONA}}});case 3:s=a.v,c={ID_INSCRIPCION_DETALLE:e.ID_INSCRIPCION_DETALLE,repcod:"CTDJ",formato:"pdf",duracod:r.duracod,ano:r.sie.ano,idPersona:r.alumnoSeleccionado.ID_PERSONA,nomcomp:r.alumnoSeleccionado.NOMCOMP,numdoc:r.alumnoSeleccionado.DNI||r.alumnoSeleccionado.NRODOC,fecnac:Ar.p6.formatDate(t,"DD/MM/YYYY"),edad:o,correo:s&&s.CORREO?s.CORREO:"",cel:s&&s.CELULAR?s.CELULAR:"",alucod:r.alumnoSeleccionado.ALUCOD||r.alumnoSeleccionado.CODIGO,montopag:e.MONTOPAG?e.MONTOPAG:e.MONTO,fecini:Ar.p6.formatDate(new Date(e.FECINI),"DD/MM/YYYY"),fecfin:Ar.p6.formatDate(new Date(e.FECFIN),"DD/MM/YYYY"),cursodes:e.CURSODES,horario:e.HORARIO,nomcomp_res:l&&l.NOMCOMP?l.NOMCOMP:"",numdoc_res:l&&l.NUMDOC?l.NUMDOC:"",cel_res:l.hasOwnProperty("ID_PERSONA")?l.CELULAR||l.TELEFONO:null},(0,Fr.exportFilePhp)(c,"webservice/reportes-talleres/reporte","declaracion_jurada_".concat(r.sie.ano));case 4:return a.a(2)}},a)}))()},cambiar:function(e){var r=this;return Ir()(Cr()().m(function a(){var n,t,o,i;return Cr()().w(function(a){while(1)switch(a.n){case 0:return r.cursoAnterior=e,r.modalCambiarTaller=!0,n=r.alumnoSeleccionado.NGS?r.alumnoSeleccionado.NGS.substr(0,2):r.alumnoSeleccionado.INSTRUCOD+r.alumnoSeleccionado.GRADOCOD,t=r.alumnoSeleccionado.FECHA_NACIMIENTO,o=r.alumnoSeleccionado.ID_PERFIL,a.n=1,r.getCursos(r.duracod,void 0,r.sie.ano,n,t,o);case 1:i=a.v,r.cursosCambio=i.filter(function(e){if(e.DISPONIBLES>0)return e});case 2:return a.a(2)}},a)}))()},cambiarTaller:function(e){var r=this;return Ir()(Cr()().m(function a(){var n,t;return Cr()().w(function(a){while(1)switch(a.n){case 0:r.formCamb=r.cursosCambio.find(function(r){return String(r.CURSOCOD)===String(e)})||{},n=r.formCamb.TIPOCOB,t=n,a.n="M"===t?1:"A"===t?2:"G"===t?3:4;break;case 1:return r.formCamb.COBRO="Mensual",a.a(3,5);case 2:return r.formCamb.COBRO="Anual",a.a(3,5);case 3:return r.formCamb.COBRO="Gratuito",a.a(3,5);case 4:return a.a(3,5);case 5:return a.a(2)}},a)}))()},cambiarCursoTaller:function(e){var r=(0,_r["default"])(),a=r.usucod,n={};n.nuevo=Or()({},this.formCamb),n.anterior=Or()({},this.cursoAnterior),n.alumno=Or()({},this.alumnoSeleccionado),n.admin={usucod:a},this.$http.post("api/InscripcionController/cambiarTaller",{params:n})},anularCursoPagado:function(){var e=this,r=this.itemNC,a={ano:r.ANOCOB||r.ANO,duracod:r.DURACOD,datos:{pago:{SISCOD:this.sie.siscod,FECEMI:this.formNC.FECEMI,ID_PERFIL:this.alumnoSeleccionado.ID_PERFIL,ID_PERSONA:this.alumnoSeleccionado.ID_PERSONA,MOTNOTA:"07",NUMPAGO:r.NUMPAG,NUMTALO:r.NUMTAL,OBSERVACION:"Anulación de taller"},pagoDet:[{ANOCOB:r.ANOCOB||r.ANO,CONCOB:r.CONCOB,MESCOB:r.MESCOB,MONTOCOB:this.formNC.MONTO}]}};if(r.ID_DEUDA&&(a.datos.pago.NUMPAGO=this.rowComprobanteAnular.NUMPAG,a.datos.pago.NUMTALO=this.rowComprobanteAnular.NUMTAL,a.datos.pagoDet[0].MONTOCOB=this.rowComprobanteAnular.MONTOANU),this.validaMonto()){var n="",t=[];if("NC"===this.tipoAnulacion){if(r.FLAG_FREC_DIAS){var o,i=dr()(r.GRUPO_TURNOS);try{for(i.s();!(o=i.n()).done;){var l=o.value;t.push(l.ID_INSCRIPCION_DETALLE)}}catch(e){i.e(e)}finally{i.f()}}else if(r.FLAG_PAQUETE_FREC){var s,c=dr()(r.PAQUETE);try{for(c.s();!(s=c.n()).done;){var u=s.value;t.push(u.ID_INSCRIPCION_DETALLE)}}catch(e){c.e(e)}finally{c.f()}}else t=[r.ID_INSCRIPCION_DETALLE];n="La anulación del curso Pagado generará una nota de crédito, ¿está seguro de continuar?"}else if("AC"===this.tipoAnulacion)if(r.ID_DEUDA){var d=this.rowComprobanteAnular.NUMTAL,f=this.rowComprobanteAnular.NUMPAG,C="".concat(d,"-").concat(f);t=this.cursosInscritos.flatMap(function(e){return(e.COMPROBANTES||[]).map(function(r){return{idInscripcion:e.ID_INSCRIPCION,idInscripcionDetalle:e.ID_INSCRIPCION_DETALLE,estado:e.ESTADO,idDeuda:e.ID_DEUDA,curso:e.CURSODES,comprobante:"".concat(r.NUMTAL,"-").concat(r.NUMPAG),monto:r.MONTOPAG,fechaPago:r.FECREG}})}).filter(function(e){return e.comprobante===C}).map(function(e){return e.idInscripcionDetalle}),n="¿Realmente desea anular el comprobante ".concat(C,", esto aplica para todos los talleres asociado al mismo ¿está seguro de continuar?")}else t=this.cursosInscritos.filter(function(e){return e.NUMTAL===r.NUMTAL&&e.NUMPAG===r.NUMPAG}).map(function(e){return e.ID_INSCRIPCION_DETALLE}),n="¿Realmente desea anular el comprobante ".concat(r.NUMTAL+"-"+r.NUMPAG,", esto aplica para todos los talleres asociado al mismo ¿está seguro de continuar?");this.$confirm(n,"warning").onOk(Ir()(Cr()().m(function n(){return Cr()().w(function(n){while(1)switch(n.n){case 0:e.$http.post("api/InscripcionController/anularCursoPagado",{data:t,nc:a,tipoAnulacion:e.tipoAnulacion}).then(function(){var a=Ir()(Cr()().m(function a(n){var t;return Cr()().w(function(a){while(1)switch(a.n){case 0:return"NC"===e.tipoAnulacion?((0,kr["default"])("El Taller ha sido anulado.","success"),e.$confirm("¿Desea Imprimir la nota de Crédito?","warning").onOk(Ir()(Cr()().m(function r(){var a,t;return Cr()().w(function(r){while(1)switch(r.n){case 0:a=n.data&&n.data[0]&&n.data[0].numtal?n.data[0].numtal:0,t=n.data&&n.data[0]&&n.data[0].numpag?n.data[0].numpag:0,e.imrimirComprobante(a,t);case 1:return r.a(2)}},r)})))):"AC"===e.tipoAnulacion&&(r.ID_DEUDA?(0,kr["default"])("Los talleres y el comprobante (".concat(e.rowComprobanteAnular.NUMTAL+"-"+e.rowComprobanteAnular.NUMPAG,") asociados, han sido anulados satisfactoriamente."),"success"):(0,kr["default"])("Los talleres y el comprobante (".concat(r.NUMTAL+"-"+r.NUMPAG,") asociados, han sido anulados satisfactoriamente."),"success")),t={alucod:e.alumnoSeleccionado.ALUCOD||e.alumnoSeleccionado.CODIGO,id_persona:e.alumnoSeleccionado.ID_PERSONA,ano:e.sie.ano,duracod:e.duracod},console.log("this.getCursosPorCobrar(params)002"),a.n=1,e.getCursosPorCobrar(t);case 1:e.objEnviar=a.v;case 2:return a.a(2)}},a)}));return function(e){return a.apply(this,arguments)}}()).catch(function(e){(0,kr["default"])(e.error.message,"warning")});case 1:return n.a(2)}},n)})))}},imrimirComprobante:function(e,r){var a=(0,_r["default"])().origin;qr["default"].IMPRIMIR_COMPROBANTE(a,e,r)},finalizarCurso:function(e){var r=this;this.$confirm("¿Realmente desea finalizar el taller ".concat(e.CURSODES,"?"),"info").onOk(Ir()(Cr()().m(function a(){var n;return Cr()().w(function(a){while(1)switch(a.n){case 0:n=new Date(r.fechaFinalizarTaller.replaceAll("-","/")),r.$http.post("api/InscripcionController/finalizarCurso",{idInscripcionDetalle:e.ID_INSCRIPCION_DETALLE,fechaFin:n}).then(function(){var e=Ir()(Cr()().m(function e(a){return Cr()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,r.cambiarAlumno(r.alumnoElegido);case 1:r.openModalFinalizar=!1,(0,kr["default"])("Proceso completado.","success");case 2:return e.a(2)}},e)}));return function(r){return e.apply(this,arguments)}}());case 1:return a.a(2)}},a)})))},anularComprobanteConDeuda:function(e){if(Object.keys(this.rowComprobanteAnular).length){var r=this.rowComprobanteAnular.NUMTAL,a=this.rowComprobanteAnular.NUMPAG,n="".concat(r,"-").concat(a),t=this.cursosInscritos.flatMap(function(e){return(e.COMPROBANTES||[]).map(function(r){return{idInscripcion:e.ID_INSCRIPCION,idInscripcionDetalle:e.ID_INSCRIPCION_DETALLE,estado:e.ESTADO,idDeuda:e.ID_DEUDA,curso:e.CURSODES,comprobante:"".concat(r.NUMTAL,"-").concat(r.NUMPAG),monto:r.MONTOPAG,fechaPago:r.FECREG}})}).some(function(e){return e.comprobante===n&&5===e.estado});if(t.length)return this.$alert("No se puede anular el comprobante ".concat(n,", tiene talleres anulados"),"warning");this.anularCursoPagado()}else this.$notify("Por favor selecciona un comprobante","warning")},anularComprobante:function(e){if(this.itemNC=e,e.ID_DEUDA)e.COMPROBANTES&&e.COMPROBANTES.length?(this.dataComprobantesAnular=e.COMPROBANTES.map(function(e){return Or()(Or()({},e),{},{COMPROBANTE:e.NUMTAL+"-"+e.NUMPAG,MONTOANU:0})}),this.modalComprobantesAnular=!0,this.rowComprobanteAnular={},this.loadSelectComprobanteAnular.values=[]):this.$notify("No hay comprobante(s) para anular","warning");else{var r=this.cursosInscritos.filter(function(r){return r.NUMTAL===e.NUMTAL&&r.NUMPAG===e.NUMPAG&&5===r.ESTADO});if(r.length)return this.$alert("No se puede anular el comprobante ".concat(e.NUMTAL+"-"+e.NUMPAG,", tiene talleres anulados"),"warning");this.anularCursoPagado()}},preparaAnularCursoNoPagado:function(e){var r=this;return Ir()(Cr()().m(function a(){var n,t,o,i,l,s,c,u;return Cr()().w(function(a){while(1)switch(a.p=a.n){case 0:if(!e.FLAG_FREC_DIAS){a.n=8;break}n=dr()(r.objEnviar),a.p=1,n.s();case 2:if((t=n.n()).done){a.n=4;break}if(o=t.value,o.ID_CURSO_PERIODO!==e.ID_CURSO_PERIODO||o.ID_FRECUENCIA!==e.ID_FRECUENCIA||o.URL_PAGO!==e.URL_PAGO){a.n=3;break}return a.n=3,r.anularCursoNoPagado(o);case 3:a.n=2;break;case 4:a.n=6;break;case 5:a.p=5,c=a.v,n.e(c);case 6:return a.p=6,n.f(),a.f(6);case 7:a.n=17;break;case 8:if(!e.FLAG_PAQUETE_FREC){a.n=16;break}i=dr()(r.objEnviar),a.p=9,i.s();case 10:if((l=i.n()).done){a.n=12;break}if(s=l.value,s.COD_PAQUETE_CURSO!==e.COD_PAQUETE_CURSO||s.URL_PAGO!==e.URL_PAGO){a.n=11;break}return a.n=11,r.anularCursoNoPagado(s);case 11:a.n=10;break;case 12:a.n=14;break;case 13:a.p=13,u=a.v,i.e(u);case 14:return a.p=14,i.f(),a.f(14);case 15:a.n=17;break;case 16:return a.n=17,r.anularCursoNoPagado(e);case 17:return a.a(2)}},a,null,[[9,13,14,15],[1,5,6,7]])}))()},anularCurso:function(e,r){var a=this;if(this.itemNC=r,2===r.ESTADO&&(this.isFamAlu||this.isBpastor&&!this.isAdmin&&!this.esPerfilCaja))return this.$alert("Inscripción está finalizada. Si desea anular su inscripción, por motivo de cambio o retiro, es necesario comunicarse con el colegio.","info");this.$confirm("¿Realmente desea anular el curso "+r.CURSODES+"?","warning").onOk(Ir()(Cr()().m(function e(){var n,t,o,i;return Cr()().w(function(e){while(1)switch(e.p=e.n){case 0:if(e.p=0,!r.ID_DEUDA){e.n=3;break}if(!r.COMPROBANTES||!r.COMPROBANTES.length){e.n=1;break}a.dataComprobantesAnular=r.COMPROBANTES.map(function(e){return Or()(Or()({},e),{},{COMPROBANTE:e.NUMTAL+"-"+e.NUMPAG,MONTOANU:0})}),a.modalComprobantesAnular=!0,a.rowComprobanteAnular={},a.loadSelectComprobanteAnular.values=[],e.n=2;break;case 1:return e.n=2,a.preparaAnularCursoNoPagado(r);case 2:e.n=6;break;case 3:if(!r.NUMPAG){e.n=5;break}return e.n=4,a.$http.get("api/PagoController/getComprobante",{params:{parametros:{numtal:r.NUMTAL,numpag:r.NUMPAG}}});case 4:n=e.v,t=n[0].MONTOTPAG,o={FECEMI:new Date,MONTO:r.MONTOPAG,NUMPAG:r.NUMTAL+"-"+r.NUMPAG},a.formNC=Or()({},o),a.montoNota=t||r.MONTOPAG,a.modalNotaCredito=!0,e.n=6;break;case 5:return e.n=6,a.preparaAnularCursoNoPagado(r);case 6:e.n=8;break;case 7:e.p=7,e.v,i="NC"===a.tipoAnulacion?"nota de crédito":"anular comprobante",(0,kr["default"])("No se puede anular la inscripción. Hay un problema con la generación de tipo de anulación ".concat(i,"."),"warning");case 8:return e.a(2)}},e,null,[[0,7]])})))},anularCursoNoPagado:function(e){var r=this,a="0090"===(0,_r["default"])().colcod&&["26","27","28","29","30","31","32","33"].includes(this.grupoTaller.GRUVACOD),n=[e.ID_INSCRIPCION_DETALLE];return a&&(n=this.cursosInscritos.filter(function(r){return r.GRUVACOD===e.GRUVACOD&&![5,7].includes(r.ESTADO)}).map(function(e){return e.ID_INSCRIPCION_DETALLE})),this.$http.post("api/InscripcionController/anular",{data:n}).then(function(){var e=Ir()(Cr()().m(function e(a){var n;return Cr()().w(function(e){while(1)switch(e.n){case 0:return n={alucod:r.alumnoSeleccionado.ALUCOD||r.alumnoSeleccionado.CODIGO,id_persona:r.alumnoSeleccionado.ID_PERSONA,ano:r.sie.ano,duracod:r.duracod},console.log("this.getCursosPorCobrar(params)003"),e.n=1,r.getCursosPorCobrar(n);case 1:r.objEnviar=e.v,(0,kr["default"])("El curso ha sido anulado","success");case 2:return e.a(2)}},e)}));return function(r){return e.apply(this,arguments)}}()).catch(function(e){(0,kr["default"])("Ocurrió un error","warning")})},anular:function(){var e=this,r=this.cursosInscritos.filter(function(e){return e.SELECTED});if(this.isFamAlu||this.isBpastor&&!this.isAdmin)for(var a=0;a<r.length;a++){var n=r[a];if(2===n.ESTADO)return this.$alert("Inscripción está finalizada. Si desea anular su inscripción, por motivo de cambio o retiro, es necesario comunicarse con el colegio.","warning")}var t=r.map(function(e){return e.ID_INSCRIPCION_DETALLE});if(!t.length)return(0,kr["default"])("No hay cursos Seleccionados","warning");this.$confirm("¿Realmente desea anular los cursos seleccionados?","warning").onOk(Ir()(Cr()().m(function a(){return Cr()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,e.$http.post("".concat(location.origin,"/default/servicios-pensiones/proceso-anulacion-talleres/"),r).then(function(){var e=Ir()(Cr()().m(function e(r){return Cr()().w(function(e){while(1)switch(e.n){case 0:return e.a(2)}},e)}));return function(r){return e.apply(this,arguments)}}());case 1:return a.n=2,e.$http.post("api/InscripcionController/anular",{data:t}).then(function(){var r=Ir()(Cr()().m(function r(a){var n;return Cr()().w(function(r){while(1)switch(r.n){case 0:return n={alucod:e.alumnoSeleccionado.ALUCOD||e.alumnoSeleccionado.CODIGO,id_persona:e.alumnoSeleccionado.ID_PERSONA,ano:e.sie.ano,duracod:e.duracod},console.log("this.getCursosPorCobrar(params)004"),r.n=1,e.getCursosPorCobrar(n);case 1:(0,kr["default"])(a.message,"success");case 2:return r.a(2)}},r)}));return function(e){return r.apply(this,arguments)}}()).catch(function(e){(0,kr["default"])("Ocurrió un error","warning")});case 2:return a.a(2)}},a)})))},exonerarPago:function(){},validaMonto:function(e){var r=this.formNC.MONTO;return console.log("aux:",r),"NC"!==this.tipoAnulacion||(r>0&&r<=this.montoNota||(r<=0?((0,kr["default"])("El monto no puede ser menor a 0","warning"),this.formNC.MONTO=1,!1):((0,kr["default"])("El monto no puede ser mayor al costo del taller.","warning"),this.formNC.MONTO=this.montoNota,!1)))},exonerar:function(){for(var e=this,r=this.porCobrar.filter(function(e){return e.SELECTED&&![5,3,4,7].includes(e.ESTADO)}),a=r.map(function(r){return{ID_INSCRIPCION_DETALLE:r.ID_INSCRIPCION_DETALLE,MESCOB:r.MESCOB,ANOCOB:e.sie.ano,TIPOCOB:r.TIPOCOB,ID_COBRO:0}}),n=0;n<a.length;n++){var t=a[n];if([5].includes(t.ESTADO)){(0,kr["default"])("El Curso"+t.CURSODES+" "+t.HORARIO+"  está anulado, no es posible exonerarlo","warning");break}if([6].includes(t.ESTADO)){(0,kr["default"])("El Curso"+t.CURSODES+" "+t.HORARIO+" ya está exonerado","warning");break}if([3].includes(t.ESTADO)){(0,kr["default"])("No es posible exonerar un curso Gratuito","warning");break}}if(!a.length)return(0,kr["default"])("No hay cursos Seleccionados","warning");this.$confirm("¿Está seguro(a) de continuar con el proceso de exoneración en los cursos seleccionados?","warning").onOk(Ir()(Cr()().m(function r(){return Cr()().w(function(r){while(1)switch(r.n){case 0:e.$http.post("api/InscripcionController/exonerar",{data:a}).then(function(){var r=Ir()(Cr()().m(function r(a){var n;return Cr()().w(function(r){while(1)switch(r.n){case 0:return n={alucod:e.alumnoSeleccionado.ALUCOD||e.alumnoSeleccionado.CODIGO,id_persona:e.alumnoSeleccionado.ID_PERSONA,ano:e.sie.ano,duracod:e.duracod},console.log("this.getCursosPorCobrar(params)005"),r.n=1,e.getCursosPorCobrar(n);case 1:(0,kr["default"])(a.message,"success");case 2:return r.a(2)}},r)}));return function(e){return r.apply(this,arguments)}}()).catch(function(e){(0,kr["default"])("No se encontró datos","warning")});case 1:return r.a(2)}},r)})))},recalculoVacantes:function(){},openPagePago:function(e){if("string"===typeof e&&""!==e){var r=/openpay/,a=e.replace(/https?\:/,window.location.protocol);["cordova","capacitor"].includes("capacitor")?r.test(e)?window.open(e,"OpenPay","toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=1,width=800,height=800,left = 390,top = 50"):(0,Ar.KN)(a):r.test(e)?window.open(e,"OpenPay","toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=1,width=800,height=800,left = 390,top = 50"):(this.modalCip=!0,this.frameUrl=a)}else(0,kr["default"])("No se encontró datos","warning")},getGrupoTipo:function(){var e=this;return Ir()(Cr()().m(function r(){var a;return Cr()().w(function(r){while(1)switch(r.n){case 0:return r.n=1,e.$http.get("api/InscripcionController/getTipoGrupoVac",{params:{parametros:{enUso:1,famAlu:e.isFamAlu,duracod:e.duracod,ano:e.sie.ano}}});case 1:a=r.v,e.optPrograma=a,e.idPrograma=e.idPrograma?e.idPrograma:a[0]?a[0].TIPOCOD:null;case 2:return r.a(2)}},r)}))()},getPerfiles:function(e){return this.$http.get("api/InscripcionController/getPersona",{params:{params:{ESTADO:1,ID_PERSONA:e}}})},getDuracodActivo:function(){var e=this;return Ir()(Cr()().m(function r(){var a,n;return Cr()().w(function(r){while(1)switch(r.n){case 0:return r.n=1,e.$http.get("api/InscripcionController/getPeriodo",{params:{activo:0}});case 1:return a=r.v,e.optPeriodoInscripcion=e.optPeriodo=a,n=a.find(function(e){return"S"===e.VIGENTE}),e.duracod=n&&n.DURACOD?n.DURACOD:null,r.a(2,a)}},r)}))()},formatearFecha:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DD/MM/YYYY";return e?Ar.p6.formatDate(e,r):e},getFechaHora:function(e){var r=e;return e&&(r=Ar.p6.formatDate(e,"dddd DD/MM/YYYY hh:mm A")),r},cargarDatosAlumno:function(e){var r=this;return Ir()(Cr()().m(function a(){var n,t,o,i,l,s,c,u,d,f,C,p;return Cr()().w(function(a){while(1)switch(a.n){case 0:if(e.ID_PERSONA){a.n=1;break}return a.a(2,!1);case 1:if(e.NGS&&"string"===typeof e.NGS&&(e.INSTRUCOD=e.NGS[0],e.GRADOCOD=e.NGS[1],e.SECCIONCOD=e.NGS[2]),!e.ALUCOD&&e.CODIGO&&(e.ALUCOD=e.CODIGO),e.INSTRUCOD&&e.ID_PERFIL&&e.ALUCOD){a.n=3;break}return a.n=2,r.getPerfiles(e.ID_PERSONA);case 2:n=a.v,t=n.perfiles,o=n.cobroGrado,i=r.getPerfil(t),l=i.codigo,s=i.idPerfil,e.ID_PERFIL=s,!r.tipoAlumno||e.INSTRUCOD&&e.GRADOCOD||!o[0]||(c=o[0],u=c.INSTRUCOD,d=c.GRADOCOD,f=c.SECCIONCOD,e.INSTRUCOD=u,e.GRADOCOD=d,e.SECCIONCOD=f,e.NGS=u+d+f),e.ALUCOD||e.CODIGO||!l||(e.ALUCOD=l);case 3:if(r.alumnoSeleccionado=e,r.cursosEliminados=[],r.objCursosEliminados=[],r.auxcursosEliminados=[],C={id_persona:e.ID_PERSONA,alucod:e.ALUCOD||e.CODIGO,duracod:r.duracod,ano:r.sie.ano},r.optGrupo=[],r.talleres=[],r.gruvacod=null,!(r.isFamAlu||r.isBpastor&&!r.isAdmin)){a.n=5;break}if(!(r.vistaalumno||r.isBpastor&&!r.isAdmin)){a.n=4;break}return a.n=4,r.getCronogramaVigente(r.duracod,r.sie.ano,[e.NGS]);case 4:p=r.turnoPorSalon.find(function(r){return r.VALOR===e.NGS}),p||(p=r.turnoPorCurso.find(function(e){return r.fechaRangoVigente(r.fechaHora,e)})),r.sinTurnoInscripcionAlumno=!p,p&&(r.turnoAunNoEmpiezaAlumno=!r.fechaRangoVigente(r.fechaHora,p));case 5:return console.log("this.getCursosPorCobrar(params)006"),a.n=6,r.getCursosPorCobrar(C);case 6:return a.n=7,r.loadGrupo(e);case 7:return a.a(2)}},a)}))()},cambiarPeriodoInscripcion:function(e){var r=this;return Ir()(Cr()().m(function a(){return Cr()().w(function(a){while(1)switch(a.n){case 0:if(!r.duracod||!r.duracodAnt||r.duracodAnt===r.duracod){a.n=4;break}if(!r.isFamAlu){a.n=3;break}return a.n=1,r.getConfiguracionTalleres(r.sie.famcod,r.sie.ano);case 1:return a.n=2,r.cambiarPeriodo(e);case 2:a.n=4;break;case 3:if(r.cambiarPeriodo(e),!r.isBpastor||r.isAdmin){a.n=4;break}return a.n=4,r.getCronogramaVigente(r.duracod,r.sie.ano,[r.alumnoSeleccionado.NGS]);case 4:r.duracodAnt=r.duracod;case 5:return a.a(2)}},a)}))()},cambiarPeriodo:function(e){var r=this;return Ir()(Cr()().m(function e(){var a;return Cr()().w(function(e){while(1)switch(e.n){case 0:return r.idPrograma=null,e.n=1,r.getGrupoTipo();case 1:return e.n=2,r.loadGrupo();case 2:if(!r.alumnoSeleccionado||!r.alumnoSeleccionado.ID_PERSONA){e.n=4;break}return a={id_persona:r.alumnoSeleccionado.ID_PERSONA,alucod:r.alumnoSeleccionado.ALUCOD||r.alumnoSeleccionado.CODIGO,duracod:r.duracod,ano:r.sie.ano},e.n=3,r.getCursosPorCobrar(a);case 3:r.objEnviar=e.v;case 4:return e.a(2)}},e)}))()},cambiarNivelGradoAlumno:function(e){var r=this;return Ir()(Cr()().m(function a(){var n,t,o;return Cr()().w(function(a){while(1)switch(a.n){case 0:if(![qr["default"].PERFIL_ALUMNO,qr["default"].PERFIL_HIJO_PERSONAL].includes(e.ID_PERFIL)){a.n=2;break}return n={anocal:r.sie.ano,id_persona:e.ID_PERSONA,id_perfil:e.ID_PERFIL,mostrarMatricula:1},a.n=1,r.$http.get("api/PersonaController/getNivelGradoByAno",{params:{params:n}});case 1:t=a.v,t.SECCIONCOD=t.SECCIONCOD?t.SECCIONCOD:e.SECCIONCOD,o=!["0032"].includes(r.sie.colcod),o?t&&(e.INSTRUCOD=t&&t.INSTRUCOD?t.INSTRUCOD:e.INSTRUCOD,e.GRADOCOD=t&&t.GRADOCOD?t.GRADOCOD:e.GRADOCOD,e.NGS=e.INSTRUCOD+e.GRADOCOD+t.SECCIONCOD):(1===t.MATRICULA&&(e.INSTRUCOD=t.INSTRUCOD,e.GRADOCOD=t.GRADOCOD,e.NGS=t.INSTRUCOD+t.GRADOCOD+t.SECCIONCOD),0===t.MATRICULA&&(!t.ESTADOD||"P"!==t.ESTADOD&&"S"!==t.ESTADOD||(e.INSTRUCOD=t.INSTRUCOD,e.GRADOCOD=t.GRADOCOD,e.NGS=t.INSTRUCOD+t.GRADOCOD+t.SECCIONCOD)));case 2:return a.a(2)}},a)}))()},cambiarAlumno:function(e){var r=this;return Ir()(Cr()().m(function a(){var n,t,o;return Cr()().w(function(a){while(1)switch(a.n){case 0:return r.cambiarNivelGradoAlumno(e),r.contador=0,r.objEnviar=[],a.n=1,r.getGrupoTipo();case 1:return r.alumnoElegido=e,e.CODIGO_COLEGIO_PROCEDENCIA&&(r.colegioProcedencia=e.CODIGO_COLEGIO_PROCEDENCIA),r.alumnoSeleccionado=e,a.n=2,r.cargarDatosAlumno(e);case 2:if(n=r.optGrupo.find(function(e){return e}),!n){a.n=3;break}return a.n=3,r.cambiaGrupo(n);case 3:if(!r.nuevaVistaTalleres){a.n=7;break}if(t=JSON.parse(localStorage.getItem("talleresTemporales[".concat(r.alumnoSeleccionado.ID_PERSONA,"]"))),r.talleresTemporales=t||[],!r.escogiendoTaller){a.n=6;break}if(r.escogiendoTaller=!1,0!==r.talleres.length){a.n=4;break}return a.a(2);case 4:return a.n=5,r.$nextTick();case 5:r.escogiendoTaller=!0;case 6:a.n=9;break;case 7:return o={alucod:r.alumnoSeleccionado.ALUCOD||r.alumnoSeleccionado.CODIGO,id_persona:r.alumnoSeleccionado.ID_PERSONA,ano:r.sie.ano,duracod:r.duracod},a.n=8,r.getCursosPorCobrar(o);case 8:r.objEnviar=a.v;case 9:return a.a(2)}},a)}))()},extraeMes:function(e){return Ar.p6.formatDate(e,"MM")},getCursosPorCobrar:function(e){var r=this;return Ir()(Cr()().m(function a(){var n;return Cr()().w(function(a){while(1)switch(a.n){case 0:return e.gratuito=1,n=[2025,2026].includes((new Date).getFullYear())&&["2027","2028"].includes(String(r.alumnoSeleccionado.ANOING))?qr["default"].PERFIL_ALUMNO_EXTERNO:r.alumnoSeleccionado.ID_PERFIL,r.alumnoSeleccionado.ID_PERFIL===qr["default"].PERFIL_ALUMNO&&n===qr["default"].PERFIL_ALUMNO_EXTERNO&&(e.montoAlumnoExterno=!0),a.a(2,r.$http.get("api/InscripcionController/getAllCursos",{params:{params:e}}).then(function(){var e=Ir()(Cr()().m(function e(a){var o,i,l,s,c,u,d,f,C,p,O,m,I,A,E;return Cr()().w(function(e){while(1)switch(e.n){case 0:return o=a.pendienteDePago,i=a.cursosInscritos,l=a.horario,s=a.pagosExonerados,r.nuevaVistaTalleres&&(r.getDescuentoTemporales(r.talleresTemporales),o=o.concat(r.talleresTemporales)),c={},l.map(function(e){c.hasOwnProperty(e.DIA)||(c[e.DIA]={}),c[e.DIA][e.ID_CURSO_PERIODO+""+e.TURNO]=e}),r.horarioActual=c,r.horario=l,u=[],d=[],r.cursosInscritos=t()(i),e.n=1,r.cursosInscritos.map(function(){var e=Ir()(Cr()().m(function e(a){return Cr()().w(function(e){while(1)switch(e.n){case 0:return a.ESTADO_DESCRIPCION=r.estados[a.ESTADO],a.SELECTED=!!a.SELECTED,a.NUMPAG=a.NUMPAG||"",a.NUMTAL=a.NUMTAL||"",a.MONTODES=a.MONTODES||0,a.MONTO=r.getMonto(a,n),[5,7].includes(a.ESTADO)||(u.push(a.ID_CURSO_PERIODO+""+a.TURNO),d.push(a.ID_CURSO_PERIODO+""+a.TURNO)),e.a(2,a)}},e)}));return function(r){return e.apply(this,arguments)}}());case 1:r.todosTienenCip=!!o.length,f=[],C={},o.map(function(e){(new Date).toISOString().split("T")[0];"0445"===r.sie.colcod?(console.log("todos",p),1===p?(e.MONTODES=50,p=0):p=1):r.tieneDescuento&&[6,7].includes(e.TIPOCOD)&&e.FECINS&&e.FECINS.split("T")[0];var a=Ar.p6.formatDate(e.FECINI,"MM");e.MESCOB||(e.MESCOB=a),e.INSCRIPCION=e.MESCOB===a,C[e.ID_CURSO_PERIODO+""+e.TURNO+e.MESCOB]=e;var n=s.find(function(r){return r.ID_INSCRIPCION_DETALLE===e.ID_INSCRIPCION_DETALLE&&r.MESCOB===e.MESCOB});n&&(e.MONTO=0,e.MONTOPAG=0,e.MONTOCOB=0,e.CHECK=!1,e.ESTADO=n.ESTADO,e.ESTADO_DESCRIPCION=r.estados[e.ESTADO])}),O=[],m=0,I=Cr()().m(function e(){var a,t,i,l,c,u,d,p,I,E;return Cr()().w(function(e){while(1)switch(e.n){case 0:if(m+=o[A].MONTOCUR||0,a=o[A],a.SELECTED=!!a.SELECTED,a.MONTO=r.getMonto(a,n),a.URL_PAGO||3===a.ESTADO||(r.todosTienenCip=!1),"M"!==a.TIPOCOB){e.n=5;break}t=new Date(a.FECINI),i=new Date(a.FECFIN),l=new Date(a.FECINI).getMonth()+1,c=new Date(a.FECFIN).getMonth()+1,u=c,d=!1,i>t&&l>c&&(d=!0,c=12),p=Cr()().m(function e(n){var t,o,i,l,p,m;return Cr()().w(function(e){while(1)switch(e.n){case 0:if(t=("0"+n).substr(-2),o=a.ID_CURSO_PERIODO+""+a.TURNO+t,!O.includes(o)){e.n=1;break}return I=n,e.a(2,1);case 1:C.hasOwnProperty(o)?f.push(C[o]):(i=Ar.p6.formatDate(a.FECINI,"MM"),l=t===i,p=Or()(Or()({},a),{},{CODIGO_PAGO:null,URL_PAGO:null,MESCOB:t,INSCRIPCION:l}),m=s.find(function(e){return e.ID_INSCRIPCION_DETALLE===a.ID_INSCRIPCION_DETALLE&&e.MESCOB===t}),m&&(p.MONTO=0,p.MONTOPAG=0,p.MONTOCOB=0,p.CHECK=!1,p.SELECTED=!1,p.ESTADO=m.ESTADO,p.ESTADO_DESCRIPCION=r.estados[p.ESTADO]),f.push(p)),O.push(o),d&&12===n&&(c=u,n=0),I=n;case 2:return e.a(2)}},e)}),I=l;case 1:if(!(I<=c)){e.n=4;break}return e.d(cr()(p(I)),2);case 2:if(!e.v){e.n=3;break}return e.a(3,3);case 3:I++,e.n=1;break;case 4:e.n=6;break;case 5:E=Ar.p6.formatDate(a.FECINI,"MM"),a.MESCOB||(a.MESCOB=E),a.INSCRIPCION=!0,f.push(a);case 6:a.ESTADO_DESCRIPCION=r.estados[a.ESTADO];case 7:return e.a(2)}},e)}),A=0;case 2:if(!(A<o.length)){e.n=4;break}return e.d(cr()(I()),3);case 3:A++,e.n=2;break;case 4:if(r.importe=m,r.porCobrar=f,r.selecionados=d,r.inscritos=u,r.pagar=1,r.confirmaPago=!1,console.log("getCursosPorCobrar->confirmaPago"),!r.nuevaVistaTalleres){e.n=5;break}return e.a(2,o);case 5:return E=!r.isFamAlu||r.V_OPENPAY||r.V_PAGO_EFECTIVO?o:[],e.a(2,E)}},e)}));return function(r){return e.apply(this,arguments)}}()))}},a)}))()},descuentoSagradoCorazonTrujillo:function(e){var r=this;return Ir()(Cr()().m(function a(){var n,t,o,i,l,s,c,u,d,f,C,p,O,m,I,A;return Cr()().w(function(a){while(1)switch(a.p=a.n){case 0:if(n=[qr["default"].FAMILIA_REFPER.PADRE,qr["default"].FAMILIA_REFPER.MADRE].includes(r.alumnoSeleccionado.ID_REFPER),t=[6].includes(e.TIPOCOD),o=["03"].includes(e.DURACOD),!("0313"===r.sie.colcod&&r.tieneDescuento&&n&&t&&o)){a.n=10;break}i=0,l=r.alumnos.filter(function(e){return e.ID_REFPER===qr["default"].FAMILIA_REFPER.HIJO}),s=dr()(l),a.p=1,s.s();case 2:if((c=s.n()).done){a.n=5;break}if(u=c.value,!r.grupoTaller){a.n=4;break}return d={id_persona:u.ID_PERSONA,alucod:u.ALUCOD||u.CODIGO,duracod:r.duracod,ano:r.sie.ano,gratuito:1},a.n=3,r.$http.get("api/InscripcionController/getAllCursos",{params:{params:d}});case 3:f=a.v,C=f.cursosInscritos,p=C.filter(function(e){return["03"].includes(r.duracod)&&2===e.ESTADO}).length,i+=p;case 4:a.n=2;break;case 5:a.n=7;break;case 6:a.p=6,A=a.v,s.e(A);case 7:return a.p=7,s.f(),a.f(7);case 8:if(!i){a.n=10;break}return a.n=9,r.getFrecCurso(e.ID_CURSO_PERIODO,r.alumnoSeleccionado.ID_PERFIL,e.ID_FRECUENCIA);case 9:O=[24,25,26].includes(e.ID_FRECUENCIA),m=r.rows.filter(function(r){return r.ID_CURSO_PERIODO===e.ID_CURSO_PERIODO&&1===r.ESTADO}),I=!1,m.length&&(I=m[0].GRUPO_TURNOS.filter(function(e){return e.HORARIO.includes("19:00 - 20:00")}).length===r.resFrecCurso.VECES),e.MONTODES=O&&I?.25*Number(e.MONTO_FRECUENCIA):0;case 10:return a.a(2)}},a,null,[[1,6,7,8]])}))()},getFrecCurso:function(e,r,a){var n=this;return Ir()(Cr()().m(function t(){var o,i;return Cr()().w(function(t){while(1)switch(t.n){case 0:return o={joinFrecuencia:!0,where:{ID_CURSO_PERIODO:e,ID_PERFIL:r,"t1.ID_FRECUENCIA":a}},t.n=1,n.$http.get("api/CtCursoPeriodoController/getFrecCurso",{params:{params:o}});case 1:i=t.v,n.resFrecCurso=i[0];case 2:return t.a(2)}},t)}))()},loadGrupo:function(e){var r=this;return Ir()(Cr()().m(function e(){var a,n,t,o,i,l;return Cr()().w(function(e){while(1)switch(e.n){case 0:if(r.idPersona){e.n=1;break}return e.a(2,!1);case 1:if(a=!!r.alumnoSeleccionado.INSTRUCOD&&!!r.alumnoSeleccionado.GRADOCOD,n=r.alumnoSeleccionado.INSTRUCOD+""+r.alumnoSeleccionado.GRADOCOD,t={ano:r.sie.ano,duracod:r.duracod,idPersona:r.idPersona,tipocod:r.idPrograma},t.instrucod=r.alumnoSeleccionado.INSTRUCOD,t.gradocod=r.alumnoSeleccionado.GRADOCOD,t.ng=a?n:null,t.fecnac=r.alumnoSeleccionado.FECHA_NACIMIENTO,t.disponibles=!0,t.idPerfil=r.alumnoSeleccionado.ID_PERFIL,!r.nuevaVistaTalleres){e.n=4;break}return e.n=2,r.$http.get("api/InscripcionController/getGruposTalleresNuevo",{params:{params:t}});case 2:return o=e.v,r.escogiendoTaller=!1,e.n=3,r.cambiaGrupo({GRUVACOD:null});case 3:return i=r.talleres.map(function(e){return e.GRUVACOD}),r.optGrupo=o.filter(function(e){return i.includes(e.GRUVACOD)}),e.a(2,r.optGrupo);case 4:return e.n=5,r.$http.get("api/InscripcionController/getGruposTalleres",{params:{params:t}});case 5:if(o=e.v,l=o.find(function(e){return e}),!l){e.n=6;break}return e.n=6,r.cambiaGrupo(l);case 6:r.optGrupo=o;case 7:return e.a(2)}},e)}))()},verificaInscrito:function(e){var r=this;return Ir()(Cr()().m(function a(){var n;return Cr()().w(function(a){while(1)switch(a.n){case 0:return n=t()(e),n.map(function(){var e=Ir()(Cr()().m(function e(a){var n;return Cr()().w(function(e){while(1)switch(e.n){case 0:return n=[2025,2026].includes((new Date).getFullYear())&&["2027","2028"].includes(String(r.alumnoSeleccionado.ANOING))?3:r.alumnoSeleccionado.ID_PERFIL,a.MONTO=r.getMonto(a,n),a.INSCRITO=r.inscritos.includes(a.ID_CURSO_PERIODO+""+a.TURNO),a.CHECK=r.selecionados.includes(a.ID_CURSO_PERIODO+""+a.TURNO),e.a(2,a)}},e)}));return function(r){return e.apply(this,arguments)}}()),a.a(2,n)}},a)}))()},cambiaGrupo:function(e){var r=this;return Ir()(Cr()().m(function a(){var n,t,o,i,l,s,c,u,d;return Cr()().w(function(a){while(1)switch(a.n){case 0:return n=r.alumnoSeleccionado.NGS,t=n?n.substr(0,2):r.alumnoSeleccionado.INSTRUCOD+r.alumnoSeleccionado.GRADOCOD,o=r.alumnoSeleccionado.FECHA_NACIMIENTO,i=r.alumnoSeleccionado.ID_PERFIL,a.n=1,r.getCursos(r.duracod,e.GRUVACOD,r.sie.ano,t,o,i);case 1:return l=a.v,s=[],c={},u=[],a.n=2,r.verificaInscrito(l);case 2:l=a.v,d=null,n&&(d=r.turnoPorSalon.find(function(e){return e.VALOR===n&&r.fechaRangoVigente(r.fechaHora,e)})),d||(u=r.turnoPorCurso.filter(function(e){return c[e.VALOR]=e,!r.fechaRangoVigente(r.fechaHora,e)}).map(function(e){return String(e.VALOR)}),l.map(function(e){u.includes(e.ID_CURSO_PERIODO)?s.push(Or()(Or()({},e),c[e.ID_CURSO_PERIODO])):r.cursosConCronograma.includes(e.ID_CURSO_PERIODO)||s.push(Or()(Or()({},e),{},{SINCRONOGRAMA:!0}))}),r.turnoPorCursoGrupo=s,(r.isFamAlu||r.isBpastor&&!r.isAdmin)&&(l=r.nuevaVistaTalleres?l.filter(function(e){if(e.TURNOS=e.TURNOS.filter(function(e){return!u.includes(String(e.ID_CURSO_PERIODO))}).filter(function(e){return r.cursosConCronograma.includes(String(e.ID_CURSO_PERIODO))}),e.TURNOS.length)return e}):l.filter(function(e){return!u.includes(String(e.ID_CURSO_PERIODO))}).filter(function(e){return r.cursosConCronograma.includes(String(e.ID_CURSO_PERIODO))}))),r.talleres=l;case 3:return a.a(2)}},a)}))()},getCursos:function(e,r,a,n,t,o){var i=this;return Ir()(Cr()().m(function l(){var s,c,u,d;return Cr()().w(function(l){while(1)switch(l.n){case 0:if(!i.nuevaVistaTalleres){l.n=2;break}return s=[],o=[2025,2026].includes((new Date).getFullYear())&&["2027","2028"].includes(String(i.alumnoSeleccionado.ANOING))?3:i.alumnoSeleccionado.ID_PERFIL,c={duracod:e,gruvacod:r,ano:a,ng:n,fecnac:t,idPerfil:o,vistaalumno:i.vistaalumno},i.alumnoSeleccionado.ID_PERFIL===qr["default"].PERFIL_ALUMNO&&(c.alucod=i.alumnoSeleccionado.ALUCOD),l.n=1,i.$http.get("api/CtCursoPeriodoController/getCursoPeriodoPorAlumnoNuevo",{params:{params:c}});case 1:return u=l.v,u.map(function(e){var r=s.find(function(r){return r.ID_CURSO_PERIODO===e.ID_CURSO_PERIODO}),a={ID_CURSO_PERIODO:e.ID_CURSO_PERIODO,TURNO:e.TURNO,VACANTES:e.VACANTES,DISPONIBLES:e.DISPONIBLES,CUBIERTAS:e.CUBIERTAS,VACCOD:e.VACCOD,AULACOD:e.AULACOD,ID_PERSONA:e.ID_PERSONA,FLAG_HORA_POR_DIA:e.FLAG_HORA_POR_DIA,TURNOJSON:e.HORARIOJSON};r?(r.DIAS_HORARIOS+=","+e.DIAS,r.TURNOS.push(a)):(e.DIAS_HORARIOS=e.DIAS,e.TURNOS=[a],delete e.TURNO,delete e.VACANTES,delete e.DISPONIBLES,delete e.CUBIERTAS,delete e.VACCOD,delete e.FLAG_HORA_POR_DIA,delete e.HORARIOJSON,delete e.DIAS,s.push(e))}),l.a(2,s);case 2:return l.n=3,i.$http.get("api/CtCursoPeriodoController/getCursoPeriodoporAlumno",{params:{params:{duracod:e,gruvacod:r,ano:a,ng:n,fecnac:t,idPerfil:o,vistaalumno:i.vistaalumno}}});case 3:return d=l.v,l.a(2,d)}},l)}))()},pagarCursos:function(e){var r=this;return Ir()(Cr()().m(function e(){var a,n,o,i,l,s,c,u,d,f,C,p,O,m,I,A;return Cr()().w(function(e){while(1)switch(e.p=e.n){case 0:if(r.inProgress=!0,r.keyPorPerfil[r.alumnoSeleccionado.ID_PERFIL]){e.n=1;break}return e.a(2,(0,kr["default"])("No se a podido determinar el perfil del alumno","waring"));case 1:if(a=r.agruparDeudasInscripcion(t()(r.porCobrarAgrupado),r.V_USA_DEUDA),n=a.deudas,o=a.InscripcionPago,i=r.alumnoSeleccionado.ID_PERSONA,0!==n.length){e.n=2;break}return e.a(2,(0,kr["default"])("No hay cursos seleccionados para generar código CIP","info"));case 2:if(r.selectMetodoPago!==r.ID_OPENPAY){e.n=8;break}return e.p=3,l=(0,_r["default"])(),s=l.usucod,c=r.alumnoSeleccionado.CODIGO,u=r.alumnoSeleccionado.ID_PERSONA,e.n=4,r.generarCargoOpenpay(s,c,u,t()(r.porCobrar),r.nuevaVistaTalleres);case 4:return d={alucod:r.alumnoSeleccionado.ALUCOD||r.alumnoSeleccionado.CODIGO,id_persona:r.alumnoSeleccionado.ID_PERSONA,ano:r.sie.ano,duracod:r.duracod},console.log("this.getCursosPorCobrar(params)009"),e.n=5,r.getCursosPorCobrar(d);case 5:r.objEnviar=e.v,r.confirmaPago=!1,console.log("pagarCursos->confirmaPago",r.confirmaPago),r.inProgress=!1,e.n=7;break;case 6:e.p=6,I=e.v,console.log(I),r.inProgress=!1,(0,kr["default"])(I.message||"Ocurrió un error","warning");case 7:e.n=15;break;case 8:return e.p=8,e.n=9,r.$http.post("api/HyoCobros/obtCipPago",{tipper:1,codigo:r.alumnoSeleccionado.ALUCOD||r.alumnoSeleccionado.CODIGO,deudas:n,idcobranza:5});case 9:return f=e.v,C=o.map(function(e){return e.ID_COBRO=f.body.id_cobro,e.MONTODES=Number(e.MONTODES),e}),p=f.body.cipUrl,O=f.body.cip,e.n=10,r.$http.post("api/InscripcionController/grabarIntentoPago",{datos:C,idPersona:i,idCobro:f.body.id_cobro,cip:O,cipUrl:p});case 10:return r.openPagePago(f.body.cipUrl),r.confirmaPago=!1,console.log("pagarCursos->confirmaPago",r.confirmaPago),r.inProgress=!1,m={alucod:r.alumnoSeleccionado.ALUCOD||r.alumnoSeleccionado.CODIGO,id_persona:r.alumnoSeleccionado.ID_PERSONA,ano:r.sie.ano,duracod:r.duracod},console.log("this.getCursosPorCobrar(params)0010"),e.n=11,r.getCursosPorCobrar(m);case 11:if(r.objEnviar=e.v,!r.nuevaVistaTalleres){e.n=13;break}return r.escogiendoTaller=!1,e.n=12,r.$nextTick();case 12:r.escogiendoTaller=!0;case 13:e.n=15;break;case 14:e.p=14,A=e.v,console.log("error",A),r.inProgress=!1,(0,kr["default"])(A.message||"Ocurrió un error","warning");case 15:return e.a(2)}},e,null,[[8,14],[3,6]])}))()},aceptarDatosPrograma:function(){var e=this;return Ir()(Cr()().m(function r(){return Cr()().w(function(r){while(1)switch(r.n){case 0:return e.validarDatosPrograma(),r.n=1,e.finalizarCompra();case 1:return r.a(2)}},r)}))()},validarDatosPrograma:function(){try{if(this.modalTerminoCondiciones&&!this.checkTerminosCondiciones)throw new Error("Por favor acepta los terminos y condiciones");if(this.modalDeclaracionJurada&&"0057"===this.sie.colcod)return this.checkDeclaracionJurada=!0,void(this.modalDeclaracionJurada=!1);this.modalDeclaracionJurada&&this.talleresConDeclaracionJurada.length&&(this.talleresConDeclaracionJurada.find(function(e){if(!e.checkDeclaracionJurada)throw new Error("Por favor acepta la declaración jurada para el taller ".concat(e.CURSODES))}),this.checkDeclaracionJurada=!0),this.checkTerminosCondiciones&&(this.modalTerminoCondiciones=!1),this.checkDeclaracionJurada&&(this.modalDeclaracionJurada=!1)}catch(e){this.$notify(e.message,"warning")}},finalizarCompra:function(){var e=this;return Ir()(Cr()().m(function r(){var a,n,t,o,i,l,s,c;return Cr()().w(function(r){while(1)switch(r.n){case 0:if(a=e.objEnviar.filter(function(e){return e.TERMINOS_CONDICIONES}),!a.length||e.checkTerminosCondiciones){r.n=1;break}return n=e.objEnviar.find(function(e){return e.TERMINOS_CONDICIONES}),e.modalTerminoCondiciones=!0,e.terminosCondiciones=n.TERMINOS_CONDICIONES,r.a(2);case 1:if(t=e.objEnviar.filter(function(e){return e.DECLARACION_JURADA}),!t.length||e.checkDeclaracionJurada){r.n=2;break}return e.getMsgDeclaracionJurada(),e.modalDeclaracionJurada=!0,o="0057"===e.sie.colcod,o||(e.talleresConDeclaracionJurada=t,e.talleresConDeclaracionJurada.map(function(e){return e.checkDeclaracionJurada||(e.checkDeclaracionJurada=!1),e})),r.a(2);case 2:return i={alucod:e.alumnoSeleccionado.ALUCOD||e.alumnoSeleccionado.CODIGO,id_persona:e.alumnoSeleccionado.ID_PERSONA,ano:e.sie.ano,duracod:e.duracod},console.log("this.getCursosPorCobrar(params)0011"),r.n=3,e.getCursosPorCobrar(i);case 3:if(e.objEnviar=r.v,l=e.objEnviar.find(function(e){return e.FLAG_PAQUETE_FREC&&!e.URL_PAGO}),!l){r.n=5;break}return r.n=4,e.loadPrecioPaqueteSemana();case 4:e.openModalPaqueteSemanas=!0,r.n=9;break;case 5:return localStorage.setItem("talleresTemporales[".concat(e.alumnoSeleccionado.ID_PERSONA,"]"),JSON.stringify([])),r.n=6,e.verCarrito(e.objEnviar);case 6:if(s=r.v,console.log("await this.verCarrito",s),console.log("ESTA ACTUALIZADO"),!e.isFamAlu||e.V_OPENPAY||e.V_PAGO_EFECTIVO||!e.tieneDescuento){r.n=7;break}return r.a(2,0);case 7:if(c=!e.objEnviar.find(function(e){return"G"!==e.TIPOCOB}),c){r.n=8;break}return r.n=8,e.reloadElegirTalleres();case 8:e.checkTerminosCondiciones=!1,e.checkDeclaracionJurada=!1;case 9:return r.a(2)}},r)}))()},getNivelPaquete:function(){var e="T",r=this.alumnoSeleccionado.NGS.slice(0,1);this.nivelPaquete=r||e},loadPrecioPaqueteSemana:function(){this.getNivelPaquete()},inscribirPaqueteSemanas:function(){var e=this;return Ir()(Cr()().m(function r(){var a,n,t;return Cr()().w(function(r){while(1)switch(r.n){case 0:if(e.$refs.refElegirPaqueteSemanas.fechaInicio){r.n=1;break}return e.$alert("Debe seleccionar la fecha de inicio","warning"),r.a(2);case 1:if(e.$refs.refElegirPaqueteSemanas.paqueteSeleccionado){r.n=2;break}return e.$alert("Debe seleccionar el paquete que desea llevar","warning"),r.a(2);case 2:return a={alucod:e.alumnoSeleccionado.ALUCOD||e.alumnoSeleccionado.CODIGO,id_persona:e.alumnoSeleccionado.ID_PERSONA,ano:e.sie.ano,duracod:e.duracod},console.log("this.getCursosPorCobrar(params)0012"),r.n=3,e.getCursosPorCobrar(a);case 3:return e.objEnviar=r.v,localStorage.setItem("talleresTemporales[".concat(e.alumnoSeleccionado.ID_PERSONA,"]"),JSON.stringify([])),e.talleresTemporales=[],n=e.$refs.refElegirPaqueteSemanas.fechaInicio,t=e.$refs.refElegirPaqueteSemanas.fechaFin,e.objEnviar.map(function(e){e.FECINI=Ar.p6.formatDate(n),e.FECFIN=new Date(t.split("/")[2],t.split("/")[1]-1,t.split("/")[0]),e.FECINS=Ar.p6.formatDate(n)}),r.n=4,e.verCarrito(e.objEnviar);case 4:return r.n=5,e.reloadElegirTalleres();case 5:e.openModalPaqueteSemanas=!1;case 6:return r.a(2)}},r)}))()},tieneDatosAdicionales:function(){var e=!1;return["0090","0437"].includes(this.sie.colcod)?(e=this.tipogrupovac.ADICIONAL&&!this.colegioProcedencia,e&&this.getColegiosProcedencia()):"0032"===this.sie.colcod&&(e=this.tipogrupovac.ADICIONAL&&!this.aceptaTerminos),e},getDescuentoTemporales:function(e){switch(this.sie.colcod){case"0313":var r=0;e.forEach(function(e){e.MONTODES=0,e.MONTOCOB=Number(e.MONTO);var a=6===e.TIPOCOD||7===e.TIPOCOD,n=6===e.TIPOCOD&&("001"===e.GRUVACOD||"002"===e.GRUVACOD);a&&(r++,r%2!==0||n||(e.MONTODES=20,e.MONTOCOB=Number(e.MONTO)))});break}},grabarCursos:function(){var e=this;return Ir()(Cr()().m(function r(){var a,n,t,o,i,l,s,c,u,d,f,C,p,O,m,I;return Cr()().w(function(r){while(1)switch(r.p=r.n){case 0:return r.n=1,e.$http.get("api/InscripcionController/getFechaHoraServer");case 1:if(a=r.v,a=new Date(a),n=e.objEnviar,t=[],o=null,r.p=2,!e.tieneDatosAdicionales()){r.n=3;break}return e.modalAdicional&&"0032"===e.sie.colcod&&(e.noacepta=!0),e.modalAdicional=!0,e.contador>0&&(0,kr["default"])("Debe registrar los datos adicionales","warning"),e.contador++,r.a(2,0);case 3:e.modalAdicional=!1;case 4:r.n=6;break;case 5:r.p=5,I=r.v,console.error(I);case 6:for(i=0;i<n.length;i++)l=n[i],s=String(a.getHours()).padStart(2,"0"),c=String(a.getMinutes()).padStart(2,"0"),u=String(a.getSeconds()).padStart(2,"0"),l.FLAG_FREC_DIAS||(l.FECINS="".concat(e.fechaInscripcion," ").concat(s,":").concat(c,":").concat(u)),"M"===l.TIPOCOB&&(l.FECINI="".concat(e.fechaInscripcion," ").concat(s,":").concat(c),l.FECINS=Ar.p6.formatDate(a,"YYYY-MM-DD HH:mm")),l.ID_PERFIL=e.alumnoSeleccionado.ID_PERFIL,l.ALUCOD=e.alumnoSeleccionado.ALUCOD||e.alumnoSeleccionado.CODIGO,l.FLAG_PAQUETE_FREC&&(l.ID_FRECUENCIA=e.objPaquete.ID_FRECUENCIA,l.ID_PAQUETE=e.objPaquete.ID_PAQUETE),l.ID_INSCRIPCION_DETALLE?o||(o=l.ID_INSCRIPCION):(d=Or()({},l),delete d.ID_INSCRIPCION_DETALLE,t.push(d));if(console.log("grabarCursos->data:",t),!t.length&&!e.objCursosEliminados.length){r.n=9;break}return f=e.objCursosEliminados.map(function(e){return e.ID_INSCRIPCION_DETALLE}),r.n=7,e.$http.post("api/InscripcionController/sinVacantes",{data:t});case 7:if(C=r.v,C.length){for(p=[],O=C.map(function(e){return e.ID_CURSO_PERIODO+""+e.TURNO}),m=0;m<t.length;m++)O.includes(t[m].ID_CURSO_PERIODO+""+t[m].TURNO)?(0,kr["default"])("No hay vacantes disponibles para: "+t[m].VACCOD+" - "+t[m].CURSODES+" "+t[m].HORARIO,"warning"):p.push(t[m]);t=p}try{t[0].ADICIONAL={CODIGO_COLEGIO_PROCEDENCIA:e.colegioProcedencia,ID_PERSONA:e.alumnoSeleccionado.ID_PERSONA}}catch(e){console.error(e)}return r.n=8,e.$http.post("api/InscripcionController/grabarCursos",{data:t,idInscripcion:o,deleted:f,idPersona:e.alumnoSeleccionado.ID_PERSONA}).then(function(){var r=Ir()(Cr()().m(function r(a){var n,t;return Cr()().w(function(r){while(1)switch(r.n){case 0:return e.talleresTemporales=[],n={alucod:e.alumnoSeleccionado.ALUCOD||e.alumnoSeleccionado.CODIGO,id_persona:e.alumnoSeleccionado.ID_PERSONA,ano:e.sie.ano,duracod:e.duracod},console.log("this.getCursosPorCobrar(params)0013"),r.n=1,e.getCursosPorCobrar(n);case 1:return e.objEnviar=r.v,e.porCobrar.length&&(e.calcularTotal(),!e.isFamAlu||e.V_OPENPAY||e.V_PAGO_EFECTIVO?(t=e.porCobrar.filter(function(e){return"G"!==e.TIPOCOB}),t.length?e.modalPagar=!0:e.indicacionesDePago()):(console.log("this.tieneDescuento",e.tieneDescuento),e.tieneDescuento?(e.confirmaPago=!0,e.btnPagar=!1):e.indicacionesDePago())),e.modalCarrito=!1,r.n=2,e.verificaInscrito(e.talleres);case 2:e.talleres=r.v;case 3:return r.a(2)}},r)}));return function(e){return r.apply(this,arguments)}}()).catch(function(){var e=Ir()(Cr()().m(function e(r){var a,n;return Cr()().w(function(e){while(1)switch(e.n){case 0:throw a=r.error,n=a&&a.message?a.message:"Ocurrio un error",(0,kr["default"])(n,"warning"),a;case 1:return e.a(2)}},e)}));return function(r){return e.apply(this,arguments)}}());case 8:return r.a(2,1);case 9:if(!e.isFamAlu||e.V_OPENPAY||e.V_PAGO_EFECTIVO){r.n=10;break}return console.log("this.tieneDescuento y no tiene pago:",e.tieneDescuento),e.tieneDescuento?(e.confirmaPago=!0,e.btnPagar=!1):e.indicacionesDePago(),r.a(2,0);case 10:return r.a(2,1);case 11:return r.a(2)}},r,null,[[2,5]])}))()},indicacionesDePago:function(){this.modalPagoTalleres=!1,this.modalPagar=!1;var e="";switch(this.sie.colcod){case"0098":for(var r="",a=0;a<this.objEnviar.length;a++){var n=this.objEnviar[a].NOMCOMP||"Falta asignar profesor";r+="".concat(this.objEnviar[a].CURSODES,": <b>").concat(n,"</b><br>")}e="Inscripción exitosa. Para finalizar el proceso deberá hacer el pago correspondiente al profesor del taller.<br> ".concat(r),this.$alert(e,"success",!0);break;case"0490":e="Inscripción exitosa.",this.$alert(e,"success");break;case"0078":e="Estimada familia: El pago lo podrá realizar el día lunes 24 de marzo. Les enviaremos un LINK de pago.\n          </br> Gracias por su comprensión.",this.$alert(e,"success",!0);break;default:var t=this.objEnviar.filter(function(e){return e.ID_INSCRIPCION&&1===e.ESTADO}).length,o=this.objEnviar.filter(function(e){return e.ID_INSCRIPCION&&3===e.ESTADO}).length;e="Inscripción exitosa. Para finalizar el proceso le solicitamos que se acerque a caja para para proceder con el pago correspondiente.",!t&&o&&(e="Inscripción exitosa"),this.$alert(e,"success");break}},cruceRangosDeFecha:function(e,r){var a=new Date(e.FECINI).getTime(),n=new Date(e.FECFIN).getTime(),t=new Date(r.FECINI).getTime(),o=new Date(r.FECFIN).getTime(),i=a>=t&&a<=o,l=n>=t&&n<=o,s=t>=a&&t<=n,c=o>=a&&o<=n;return i||l||s||c},fechaRangoVigente:function(e,r){var a=e.getTime(),n=new Date(r.FECINI).getTime(),t=new Date(r.FECFIN).getTime();return n<=a&&a<=t},cruceRangosDeHora:function(e,r){var a={FECINI:new Date("1970-01-01T"+e.HORAINI).getTime(),FECFIN:new Date("1970-01-01T"+e.HORAFIN).getTime()},n={FECINI:new Date("1970-01-01T"+r.HORAINI).getTime(),FECFIN:new Date("1970-01-01T"+r.HORAFIN).getTime()},t=new Date(a.FECINI).getTime(),o=new Date(a.FECFIN).getTime(),i=new Date(n.FECINI).getTime(),l=new Date(n.FECFIN).getTime(),s=t>i&&t<l,c=o>i&&o<l,u=i>t&&i<o,d=l>t&&l<o,f=t===i,C=o===l;return s||c||u||d||f||C},stringToObject:function(e){var r;try{r="string"===typeof e?JSON.parse(e):e}catch(e){console.error(e),r={}}return r},validarCruceDeHorarios:function(e,r){r.HORARIOJSON=this.stringToObject(r.HORARIOJSON);for(var a={status:0},n=0;n<e.length;n++){var t=e[n];if(this.cruceRangosDeFecha(t,r)&&r.DIAS.includes(t.DIA)&&r.HORARIOJSON[t.DIA]&&this.cruceRangosDeHora(t,r.HORARIOJSON[t.DIA])){a={objCruce:t,status:1};break}}return a},extraeHorario:function(e){var r=this,a=[];return e.map(function(e){for(var n in e.HORARIOJSON=r.stringToObject(e.HORARIOJSON),e.HORARIOJSON)a.push({DIA:n,FECFIN:e.FECFIN,FECINI:e.FECINI,HORAFIN:e.HORARIOJSON[n].HORAFIN,HORAINI:e.HORARIOJSON[n].HORAINI,ID_CURSO_PERIODO:e.ID_CURSO_PERIODO,TURNO:e.TURNO,CURSODES:"".concat(e.ID_CURSO_PERIODO," - ").concat(e.CURSODES)})}),a},ocultarCambioHorario:function(){return["0078","0032","0490"].includes(this.sie.colcod)&&this.isFamAlu},validarCruceHorarioPaquete:function(e,r){var a=this;return Ir()(Cr()().m(function n(){var t,o,i,l,s;return Cr()().w(function(n){while(1)switch(n.n){case 0:if(t=!1,a.rowsTalleresPaqueteDet=[],o=e.find(function(e){return e.ES_PAQUETE&&[1,2].includes(e.ESTADO)}),!o){n.n=2;break}return i={id_inscripcion:o.ID_INSCRIPCION,estado:8},n.n=1,a.$http.get("api/InscripcionController/getInscripcionPaqueteTallerDet",{params:{params:i}});case 1:l=n.v,s=[],r.HORARIOS.forEach(function(e){var r=e.VALOR,a=e.HORAINI+" - "+e.HORAFIN;l.forEach(function(e){var n=e.HORARIO.includes(r),t=e.HORARIO.includes(a),o=s.some(function(r){return r.ID_CURSO_PERIODO===e.ID_CURSO_PERIODO&&r.TURNO===e.TURNO});t&&n&&!o&&s.push(e)})}),l.forEach(function(e){var r=s.some(function(r){return r.ID_CURSO_PERIODO===e.ID_CURSO_PERIODO&&r.TURNO===e.TURNO});e.CRUCE_HORARIO=r?1:0}),a.rowsTalleresPaqueteDet=l,s.length&&(t=!0);case 2:return n.a(2,t)}},n)}))()},validarLimite:function(e,r){var a=this;return Ir()(Cr()().m(function n(){var t,o,i,l,s,c,u,d,f,C,p,O,m,I,A,E,h,D,g,S,b,v,R,N,_;return Cr()().w(function(n){while(1)switch(n.n){case 0:t=!1,o=e.filter(function(e){return![5,7].includes(e.ESTADO)}),_=a.sie.colcod,n.n="0032"===_?1:"0200"===_||"0110"===_?4:"0076"===_?5:"0019"===_?6:"0078"===_?7:"0275"===_?8:"0212"===_?10:"0098"===_?12:"0490"===_?13:"0057"===_?14:"0056"===_?15:16;break;case 1:if(i=0,l="I"===a.alumnoSeleccionado.INSTRUCOD||"P"===a.alumnoSeleccionado.INSTRUCOD&&["1","2"].includes(a.alumnoSeleccionado.GRADOCOD),s=["SD"].includes(r.GRUVACOD),c="G"===r.TIPOCOB,u=["01","A1"].includes(r.GRUVACOD)&&l,d=1===a.idPrograma,f=["04","05","06"].includes(a.duracod),!(c&&d&&f&&(s||u))){n.n=3;break}return C=String(a.duracod).padStart(2,"00"),n.n=2,a.$http.post("api/InscripcionController/verificaInscripcionAlumno",{duracod:C,id_persona_alumno:a.alumnoSeleccionado.ID_PERSONA,gruvacod:r.GRUVACOD,cursodes:r.CURSODES});case 2:i=n.v;case 3:return a.requisitoInscripcionAnterior=1===i,p=["3150A0","3151A0","3152A0","3153A0"].includes(r.VACCOD),t=o.some(function(e){return r.GRUVACOD===e.GRUVACOD&&["01","02"].includes(e.gruvacod||e.GRUVACOD)})||!!i&&!p,n.a(3,17);case 4:return t=a.isFamAlu&&o.length,n.a(3,17);case 5:return O=o.filter(function(e){return 5===e.TIPOCOD}).length+Number(5===r.TIPOCOD),m=o.filter(function(e){return 7===e.TIPOCOD}).length+Number(7===r.TIPOCOD),t=O>1||m>1||o.filter(function(e){return"G"===e.TIPOCOB}).length>1,n.a(3,17);case 6:return I=o.some(function(e){return r.GRUVACOD===e.GRUVACOD&&["03","02"].includes(e.gruvacod||e.GRUVACOD)}),t=["03","02"].includes(a.duracod)&&I&&!a.isAdmin,n.a(3,17);case 7:return A=o.length>=2,E=o.some(function(e){return r.GRUVACOD===e.GRUVACOD}),t=A||E,n.a(3,17);case 8:if("001"!==a.sie.tipcod){n.n=9;break}return n.a(2,!1);case 9:return h=o.filter(function(e){return 6===e.TIPOCOD}).length+Number(6===r.TIPOCOD),D=o.filter(function(e){return 7===e.TIPOCOD}).length+Number(7===r.TIPOCOD),g=o.filter(function(e){return 8===e.TIPOCOD}).length+Number(8===r.TIPOCOD),t=h>1||g>1||D>2,n.a(3,17);case 10:return n.n=11,a.listadoCfgTalleres();case 11:return S=n.v,b=a.alumnoSeleccionado.NGS.slice(0,2),S.map(function(e){var r="".concat(e.INSTRUCOD+e.GRADOCOD);b===r&&(t=o.length>=e.CANTIDAD),["I","P","S"].includes(e.INSTRUCOD)&&"T"===e.GRADOCOD&&(t=o.length>=e.CANTIDAD)}),n.a(3,17);case 12:return v=[qr["default"].PERFIL_PADRE,qr["default"].PERFIL_MADRE,qr["default"].PERFIL_APODERADO_FAMILIA],t=a.isFamAlu&&v.includes(a.alumnoSeleccionado.ID_PERFIL)&&o.length,n.a(3,17);case 13:return R="I"===a.alumnoSeleccionado.NGS.slice(0,1),t=a.isFamAlu&&o.length>=1,R&&(t=a.isFamAlu&&o.length>=2),n.a(3,17);case 14:return n.a(3,17);case 15:N=o.some(function(e){return r.DURACOD===e.DURACOD}),t=N;case 16:return n.a(3,17);case 17:return n.a(2,t)}},n)}))()},listadoCfgTalleres:function(){var e=this;return Ir()(Cr()().m(function r(){var a,n,t;return Cr()().w(function(r){while(1)switch(r.p=r.n){case 0:return r.p=0,r.n=1,e.$http.get("api/HyoCfgTalleres/listadoCfgTalleres",{params:{ano:e.sie.ano}});case 1:return a=r.v,n=a.json,r.a(2,n);case 2:r.p=2,t=r.v,e.notify(t.message,"warning");case 3:return r.a(2)}},r,null,[[0,2]])}))()},agregarTallerLocalStorage:function(e){var r=this;return Ir()(Cr()().m(function a(){var n;return Cr()().w(function(a){while(1)switch(a.n){case 0:r.talleresTemporales=[],n=JSON.parse(localStorage.getItem("talleresTemporales[".concat(r.alumnoSeleccionado.ID_PERSONA,"]"))),n&&(r.talleresTemporales=n),r.talleresTemporales.push(e),localStorage.setItem("talleresTemporales[".concat(r.alumnoSeleccionado.ID_PERSONA,"]"),JSON.stringify(r.talleresTemporales));case 1:return a.a(2)}},a)}))()},agregarACarrito:function(e){var r=this;return Ir()(Cr()().m(function a(){var n;return Cr()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,r.marcar(e);case 1:if(n=a.v,!n){a.n=2;break}return r.agregarTallerLocalStorage(e),a.n=2,r.reloadElegirTalleres();case 2:return a.a(2)}},a)}))()},agregarGrupoACarrito:function(e){var r=this;return Ir()(Cr()().m(function a(){var n,t,o,i,l,s,c,u;return Cr()().w(function(a){while(1)switch(a.p=a.n){case 0:n=dr()(e),a.p=1,n.s();case 2:if((t=n.n()).done){a.n=5;break}return o=t.value,a.n=3,r.marcar(o);case 3:if(i=a.v,i){a.n=4;break}return a.a(2);case 4:a.n=2;break;case 5:a.n=7;break;case 6:a.p=6,u=a.v,n.e(u);case 7:return a.p=7,n.f(),a.f(7);case 8:l=dr()(e);try{for(l.s();!(s=l.n()).done;)c=s.value,r.agregarTallerLocalStorage(c)}catch(e){l.e(e)}finally{l.f()}return a.n=9,r.reloadElegirTalleres();case 9:return a.a(2)}},a,null,[[1,6,7,8]])}))()},vaciarCarrito:function(e){var r=this;return Ir()(Cr()().m(function a(){var n,t,o;return Cr()().w(function(a){while(1)switch(a.n){case 0:r.$q.loading.show(),n=dr()(e);try{for(n.s();!(t=n.n()).done;)o=t.value,r.quitarTallerLocalStorage(o)}catch(e){n.e(e)}finally{n.f()}return a.n=1,r.reloadElegirTalleres();case 1:r.$q.loading.hide();case 2:return a.a(2)}},a)}))()},quitarTallerLocalStorage:function(e){this.talleresTemporales=[];var r=JSON.parse(localStorage.getItem("talleresTemporales[".concat(this.alumnoSeleccionado.ID_PERSONA,"]")));r&&(this.talleresTemporales=r),this.talleresTemporales=this.talleresTemporales.filter(function(r){return r.ID_CURSO_PERIODO!==e.ID_CURSO_PERIODO}),localStorage.setItem("talleresTemporales[".concat(this.alumnoSeleccionado.ID_PERSONA,"]"),JSON.stringify(this.talleresTemporales))},reloadElegirTalleres:function(){var e=this;return Ir()(Cr()().m(function r(){var a;return Cr()().w(function(r){while(1)switch(r.n){case 0:return a={alucod:e.alumnoSeleccionado.ALUCOD||e.alumnoSeleccionado.CODIGO,id_persona:e.alumnoSeleccionado.ID_PERSONA,ano:e.sie.ano,duracod:e.duracod},console.log("this.getCursosPorCobrar(params)0014"),r.n=1,e.getCursosPorCobrar(a);case 1:if(e.objEnviar=r.v,!e.nuevaVistaTalleres){r.n=3;break}return e.escogiendoTaller=!1,r.n=2,e.$nextTick();case 2:e.escogiendoTaller=!0;case 3:return r.a(2)}},r)}))()},quitarDeCarrito:function(e){var r=this;return Ir()(Cr()().m(function a(){return Cr()().w(function(a){while(1)switch(a.n){case 0:if(r.$q.loading.show(),!e.FLAG_PAQUETE_FREC){a.n=2;break}return a.n=1,e.PAQUETE.map(function(){var e=Ir()(Cr()().m(function e(a){return Cr()().w(function(e){while(1)switch(e.n){case 0:r.quitarTallerLocalStorage(a);case 1:return e.a(2)}},e)}));return function(r){return e.apply(this,arguments)}}());case 1:a.n=5;break;case 2:if(!e.FLAG_FREC_DIAS){a.n=4;break}return a.n=3,e.GRUPO_TALLERES.map(function(){var e=Ir()(Cr()().m(function e(a){return Cr()().w(function(e){while(1)switch(e.n){case 0:r.quitarTallerLocalStorage(a);case 1:return e.a(2)}},e)}));return function(r){return e.apply(this,arguments)}}());case 3:a.n=5;break;case 4:r.quitarTallerLocalStorage(e);case 5:return a.n=6,r.reloadElegirTalleres();case 6:r.$q.loading.hide();case 7:return a.a(2)}},a)}))()},validaCruceEnFrecDias:function(e){e.HORARIOJSON=this.stringToObject(e.TURNOJSON);for(var r=0;r<e.GRUPO_TURNOS.length;r++){var a=e.GRUPO_TURNOS[r];a.HORARIOJSON=this.stringToObject(a.TURNOJSON);for(var n=void 0,t=0;t<e.GRUPO_TURNOS.length;t++)if(r!==t){var o=e.GRUPO_TURNOS[t];o.HORARIOJSON=this.stringToObject(o.TURNOJSON);var i=a.HORARIOS[0].DIA,l=o.HORARIOS[0].DIA;if(l===i&&(a.HORARIOS[0].HORAINI=a.HORARIOJSON[i].HORAINI,a.HORARIOS[0].HORAFIN=a.HORARIOJSON[i].HORAFIN,o.HORARIOS[0].HORAINI=o.HORARIOJSON[l].HORAINI,o.HORARIOS[0].HORAFIN=o.HORARIOJSON[l].HORAFIN,n=this.cruceRangosDeHora(a.HORARIOS[0],o.HORARIOS[0]),n)){var s="Existe cruce de horario con el curso:"+e.CURSODES+" "+this.descripcionDias[a.HORARIOS[0].DIA]+" "+Ar.p6.formatDate("1970-01-01T"+a.HORARIOS[0].HORAINI,"hh:mm A")+"-"+Ar.p6.formatDate("1970-01-01T"+a.HORARIOS[0].HORAFIN,"hh:mm A");return this.$alert(" \n "+s,"warning"),!0}}if(n)break}},getDescuento:function(){var e=arguments,r=this;return Ir()(Cr()().m(function a(){var n,t,o,i;return Cr()().w(function(a){while(1)switch(a.n){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:{},t=0,a.n=1,r.$http.get("api/CtDescuentoController/getCtDescuento",{params:{parametros:n}});case 1:return o=a.v,o&&(i={1:"MONTOCUR",3:"MONTOCURE",8:"MONTOCURT",15:"MONTOCURH"},t=o[i[r.alumnoSeleccionado.ID_PERFIL]]),a.a(2,t)}},a)}))()},marcar:function(e){var r=this;return Ir()(Cr()().m(function a(){var n,o,i,l,s,c,u,d,f,C,p,O,m,I,A,E,h,D,g,S,b,v,R;return Cr()().w(function(a){while(1)switch(a.n){case 0:if(r.aceptaTerminos=!1,0!==e.DISPONIBLES){a.n=1;break}return n="No hay vacantes disponibles para este curso",e.CHECK=!1,a.a(2,r.$alert(" \n "+n,"warning"));case 1:if(!e.CHECK){a.n=14;break}if(o=r.validarCruceDeHorarios(r.horario,e),o.status){a.n=4;break}if(!e.FLAG_FREC_DIAS){a.n=3;break}if(i=r.validaCruceEnFrecDias(e),!i){a.n=2;break}return a.a(2);case 2:l=r.extraeHorario(r.objEnviar),o=r.validarCruceDeHorarios(l,e),a.n=4;break;case 3:s=r.extraeHorario(r.objEnviar),o=r.validarCruceDeHorarios(s,e);case 4:return o.status||(c=r.cursosInscritos.filter(function(r){return![5,7].includes(r.ESTADO)&&new Date(r.FECFIN_INSCRIPCION)>=new Date(e.FECINI)}),u=r.extraeHorario(c),o=r.validarCruceDeHorarios(u,e)),d=r.cursosInscritos.map(function(e){return e.ID_INSCRIPCION_DETALLE+""+e.TURNO+e.MESCOB}),f=r.objEnviar.filter(function(e){return!d.includes(e.ID_INSCRIPCION_DETALLE+""+e.TURNO+e.MESCOB)}),a.n=5,r.validarLimite([].concat(t()(r.cursosInscritos),t()(f)),e);case 5:if(!a.v){a.n=7;break}if(e.CHECK=!1,!r.requisitoInscripcionAnterior){a.n=6;break}return r.requisitoInscripcionAnterior=!1,a.a(2,r.$alert("El estudiante ya participó en este taller. Debe seleccionar un taller distinto para el presente bimestre.","warning"));case 6:return r.mensajeLimiteDeCurso(),a.a(2,0);case 7:return a.n=8,r.validarCruceHorarioPaquete([].concat(t()(r.cursosInscritos),t()(f)),e);case 8:if(C=a.v,!C){a.n=12;break}return r.aceptaCruceHorarioPaquete=!1,p=r.rowsTalleresPaqueteDet.filter(function(e){return e.CRUCE_HORARIO}),O="El participante se encuentra inscrito en un paquete. <br>\n                          El horario coincide con los siguientes talleres del paquete: <br><br>\n                          ".concat(p.map(function(e){return"".concat(e.CURSODES,"<br>").concat(r.agruparDiasPorHoras(e.HORARIO),"<br>")}).join(" ")," <br>\n                          Aceptar para sustituir los talleres <br>\n                          Cancelar para desistir de esta inscripción"),a.n=9,r.$confirmar(O,"info",!0);case 9:if(m=a.v,m){a.n=10;break}return a.a(2);case 10:return I=r.cursosInscritos.find(function(e){return 2===e.ESTADO&&e.ES_PAQUETE_COMPLETO}),A={periodo:1,programa:2,grupo:3,taller:4},E={where:{tipo_dscto:A.taller,valor:String(e.ID_CURSO_PERIODO),tipo_dscto_ref:A.taller,valor_ref:I?String(I.ID_CURSO_PERIODO):null},first:!0},e.MONTOCOB=e.MONTO,a.n=11,r.getDescuento(E);case 11:e.MONTODES=a.v,r.aceptaCruceHorarioPaquete=!0;case 12:if(h=!["A018","0058","0038"].includes(r.sie.colcod),h=!r.aceptaCruceHorarioPaquete&&h,!o.status||!h||r.aceptaCruceHorarioPaquete){a.n=13;break}if(D="Existe cruce de horario con el curso:"+o.objCruce.CURSODES+" "+r.descripcionDias[o.objCruce.DIA]+" "+Ar.p6.formatDate("1970-01-01T"+o.objCruce.HORAINI,"hh:mm A")+"-"+Ar.p6.formatDate("1970-01-01T"+o.objCruce.HORAFIN,"hh:mm A"),r.$alert(" \n "+D,"warning"),!(r.isFamAlu||r.isBpastor&&!r.isAdmin)){a.n=13;break}return e.CHECK=!!e.FLAG_FREC_DIAS,a.a(2,!1);case 13:!o.status||h||r.aceptaCruceHorarioPaquete||(g="Existe cruce de horario con el curso:"+o.objCruce.CURSODES+" "+r.descripcionDias[o.objCruce.DIA]+" "+Ar.p6.formatDate("1970-01-01T"+o.objCruce.HORAINI,"hh:mm A")+"-"+Ar.p6.formatDate("1970-01-01T"+o.objCruce.HORAFIN,"hh:mm A"),r.$alert(" \n "+g,"warning")),e.ANO=r.sie.ano,e.ID_PERSONA=r.idPersona,e.MESCOB=e.MESCOB?e.MESCOB:r.extraeMes(e.FECINI),r.selecionados.push(e.ID_CURSO_PERIODO+""+e.TURNO),r.auxcursosEliminados.includes(e.ID_CURSO_PERIODO+""+e.TURNO)?(r.auxcursosEliminados=r.auxcursosEliminados.filter(function(r){return r!==e.ID_CURSO_PERIODO+""+e.TURNO}),r.cursosEliminados=r.cursosEliminados.filter(function(r){return r!==e.ID_INSCRIPCION_DETALLE}),S=r.objCursosEliminados.filter(function(r){return r.ID_CURSO_PERIODO===e.ID_CURSO_PERIODO&&r.TURNO===e.TURNO}),S.length&&r.objEnviar.push(S[0]),r.objCursosEliminados=r.objCursosEliminados.filter(function(r){return!(r.ID_CURSO_PERIODO===e.ID_CURSO_PERIODO&&r.TURNO===e.TURNO)})):(r.todosTienenCip=!1,r.objEnviar.push(e)),a.n=15;break;case 14:b=r.objEnviar.filter(function(r){return r.ID_CURSO_PERIODO===e.ID_CURSO_PERIODO&&r.TURNO===e.TURNO}),b.length&&b[0].ID_INSCRIPCION_DETALLE&&(v=t()(r.cursosEliminados),R=t()(r.objCursosEliminados),v.push(b[0].ID_INSCRIPCION_DETALLE),R.push(b[0]),r.auxcursosEliminados.push(e.ID_CURSO_PERIODO+""+e.TURNO),r.cursosEliminados=v,r.objCursosEliminados=R),r.selecionados=r.selecionados.filter(function(r){return!(r===e.ID_CURSO_PERIODO+""+e.TURNO)}),r.objEnviar=r.objEnviar.filter(function(r){return!(r.ID_CURSO_PERIODO===e.ID_CURSO_PERIODO&&r.TURNO===e.TURNO)});case 15:return a.a(2,!0)}},a)}))()},mensajeLimiteDeCurso:function(){switch(this.sie.colcod){case"0275":this.$alert("No puede matricularse en dos talleres del mismo tipo","warning");break;default:this.$alert("Alcanzó el limite de cursos","warning");break}},quitarCurso:function(e){var r=this.objEnviar,a=r[e];this.talleres=this.talleres.map(function(e){return e.ID_CURSO_PERIODO===a.ID_CURSO_PERIODO&&e.TURNO===a.TURNO&&(e.CHECK=!1),e}),a.ID_INSCRIPCION_DETALLE&&(this.cursosEliminados.push(a.ID_INSCRIPCION_DETALLE),this.objCursosEliminados.push(a)),r.splice(e,1),this.objEnviar=r},validaDescuento:function(e){var r=this.porCobrar[e].MONTODES,a=this.porCobrar[e].MONTO;r>a&&(this.porCobrar[e].MONTODES=a-1),r<0&&(this.porCobrar[e].MONTODES=0),this.calcularTotal()},calcularTotal:function(e){var r=this.porCobrarAgrupado,a=r.filter(function(e){return e.SELECTED});try{if(e&&e.MESCOB&&e.SELECTED){var n=r.find(function(r){return!1===r.SELECTED&&parseInt(r.MESCOB)===parseInt(e.MESCOB)-1&&r.ID_INSCRIPCION_DETALLE===e.ID_INSCRIPCION_DETALLE});if(n){var t=this.getMesnom(n.MESCOB),o="Debe pagar primero   ".concat(n.CURSODES," ").concat(t);return e.SELECTED=!1,this.$alert(o,"info")}}}catch(e){console.error(e)}var i=0,l=!1;a.map(function(e){e.FLAG_PAQUETE_FREC&&(l=!0),!e.MONTODES||e.MONTODES<=0?e.FLAG_PAQUETE_FREC||(i+=e.MONTO):i+=e.MONTODES<e.MONTO?e.MONTO-parseFloat(e.MONTODES):1}),l&&(i+=this.objPaquete.MONTO),this.totalPorCobrar=i},paqueteSemanasFueSeleccionado:function(e){this.objPaquete=e},imprimirCarnet:function(e){var r=this;return Ir()(Cr()().m(function a(){var n,t,o,i,l,s;return Cr()().w(function(a){while(1)switch(a.n){case 0:return n=r.alumnoSeleccionado.CODIGO,t=r.alumnoSeleccionado.NOMBRE?r.alumnoSeleccionado.NOMBRE.split(","):[],o=r.alumnoSeleccionado.NOMCOMP.split(","),i=e.GRUPO_TURNOS&&e.GRUPO_TURNOS.length?e.GRUPO_TURNOS.map(function(e){return e.HORARIO}).join(" , "):e.HORARIO,a.n=1,r.$http.get("api/personaController/getDatosResponsablePago",{params:{params:{id_persona:r.alumnoSeleccionado.ID_PERSONA}}});case 1:l=a.v,s={repcod:"reportesCarnetQrPorCurso",formato:"pdf",qr:"".concat(r.sie.api,"/HyoQr/generarQr/").concat(n),escudo:r.rutaEscudo,nombres:t[1]||o[1],apellidos:o[0],codigo:n,horario:i,curso:"".concat(e.CURSODES),fecini:Ar.p6.formatDate(e.FECINI_INSCRIPCION,"DD/MM/YYYY"),fecfin:Ar.p6.formatDate(e.FECFIN_INSCRIPCION,"DD/MM/YYYY"),gruvacod:e.GRUVACOD,celular_responsable:l.hasOwnProperty("ID_PERSONA")?l.CELULAR||l.TELEFONO:null},(0,Fr.exportFilePhp)(s,"webservice/reportes/reporte");case 2:return a.a(2)}},a)}))()},imprimirSticker:function(e){console.log("imprimirSticker",e);var r=this.alumnoSeleccionado.CODIGO,a=this.alumnoSeleccionado.DNI,n=this.alumnoSeleccionado.NOMBRE?this.alumnoSeleccionado.NOMBRE.split(","):[],t=this.alumnoSeleccionado.NOMCOMP.split(","),o=e.GRUPO_TURNOS&&e.GRUPO_TURNOS.length?e.GRUPO_TURNOS.map(function(e){return e.HORARIO}).join(" , "):e.HORARIO,i={repcod:"reportesStickerQrPorCurso",formato:"pdf",qr:"".concat(this.sie.api,"/HyoQr/generarQr/").concat(a),escudo:this.rutaEscudo,nombres:n[1]||t[1],apellidos:t[0],codigo:r,dni:a,horario:this.agruparDiasPorHoras(o),curso:"".concat(e.GRUVADES),fecini:Ar.p6.formatDate(e.FECINI_INSCRIPCION,"DD/MM/YYYY"),fecfin:Ar.p6.formatDate(e.FECFIN_INSCRIPCION,"DD/MM/YYYY"),gruvacod:e.GRUVACOD};(0,Fr.exportFilePhp)(i,"webservice/reportes/reporte")},imprimirListaUtiles:function(e){(0,Zr["default"])(e)},verCarrito:function(e){var r=arguments,a=this;return Ir()(Cr()().m(function n(){var t,o,i,l,s,c,u,d,f,C;return Cr()().w(function(n){while(1)switch(n.n){case 0:if(t=!(r.length>1&&void 0!==r[1])||r[1],a.keyPorPerfil[a.alumnoSeleccionado.ID_PERFIL]){n.n=1;break}return n.a(2,(0,kr["default"])("No se ha podido determinar el perfil del alumno.","warning"));case 1:for(o=!1,i=!1,l=!0,s=!0,c=0,u=0;u<e.length;u++)d=e[u],f=new Date(d.FECINI),C=new Date(a.fechaInscripcion.replaceAll("-","/")),"M"===d.TIPOCOB&&C<f&&(a.fechaInscripcion=Ar.p6.formatDate(f,"YYYY-MM-DD")),"G"!==d.TIPOCOB||d.ID_INSCRIPCION_DETALLE||(i=!0),d.ID_INSCRIPCION_DETALLE?d.FLAG_PAQUETE_FREC&&a.$http.put("api/InscripcionController/putCtInscripcionDetalle",{params:{datos:{ID_INSCRIPCION_DETALLE:d.ID_INSCRIPCION_DETALLE,ID_PAQUETE:a.objPaquete.ID_PAQUETE,ID_FRECUENCIA:a.objPaquete.ID_FRECUENCIA},where:{ID_INSCRIPCION_DETALLE:d.ID_INSCRIPCION_DETALLE}}}):o=!0,"G"!==d.TIPOCOB&&(l=!1),!d.ID_INSCRIPCION_DETALLE&&d.DISPONIBLES<=0&&(s=!1);if(o=!!a.objCursosEliminados.length||o,a.calcularTotal(),!a.isFamAlu||a.V_OPENPAY||a.V_PAGO_EFECTIVO){n.n=4;break}if(!a.nuevaVistaTalleres){n.n=3;break}return n.n=2,a.grabarCursos();case 2:return c=n.v,n.a(2,c);case 3:console.log("esto no debe imprimirse"),a.modalCarrito=!0,n.n=13;break;case 4:if(!l||!s){n.n=5;break}a.modalCarrito=o,n.n=7;break;case 5:if(!o){n.n=7;break}return n.n=6,a.grabarCursos();case 6:if(c=n.v,c){n.n=7;break}return n.a(2,0);case 7:if(l||!s){n.n=10;break}return n.n=8,a.grabarCursos();case 8:if(c=n.v,c){n.n=9;break}return n.a(2,0);case 9:a.modalPagar=!0;case 10:return a.modalPagar=!(i&&1===a.objEnviar.length||l)&&t,!l&&s&&(a.modalPagar=t),n.n=11,a.seleccionarPasarela();case 11:return a.pas_pag=n.v,a.V_OPENPAY||a.V_PAGO_EFECTIVO?a.modalPagar=a.modalPagar&&t:(a.modalPagoTalleres=a.modalPagar,"0098"===a.sie.colcod&&a.indicacionesDePago(),a.modalPagar=!1),n.n=12,a.verificaInscrito(a.talleres);case 12:return a.talleres=n.v,n.a(2,c);case 13:return n.a(2,c)}},n)}))()},getInscripcionesVencidas:function(e,r,a){var n=this;return this.$http.get("api/InscripcionController/getInscripcionesVencidas",{params:{params:{fecIns:this.fecInsMenorIgual}}}).then(function(e){n.cursosVencidos=e.map(function(e){return e.MONTO=n.getMonto(e,e.ID_PERFIL),e.FINSCRIPCION=n.formatearFecha(e.FINSCRIPCION),e})})},cargaCronogramaVigente:function(e){var r=this,a=e.ngs,n=e.curso;if(this.turnoPorCurso=t()(n),this.cursosConCronograma=n.map(function(e){return e.VALOR}),this.turnoPorSalon=t()(a),0===n.length&&0===a.length)this.optPeriodoInscripcion.length||(this.sinTurnoInscripcion=!0,this.tab="miscursos");else{var o=a.find(function(e){return r.fechaRangoVigente(r.fechaHora,e)}),i=n.find(function(e){return r.fechaRangoVigente(r.fechaHora,e)});i||o||(this.turnoAunNoEmpieza=!0)}this.noMostrarCursos=n.filter(function(e){return!r.fechaRangoVigente(r.fechaHora,e)})},getCronogramaVigente:function(e,r,a){var n=this,t={duracod:e,ano:r,NGS:a,NG:a.map(function(e){return e?e.substr(0,2):"X1"}),vigentes:1};return this.$http.get("api/CtTurnoController/getCronogramaVigente",{params:{params:t}}).then(function(e){var r=e.ngs,a=e.curso;return n.cargaCronogramaVigente({ngs:r,curso:a}),1}).catch(function(e){})},getConfiguracionTalleres:function(e,r){var a=this;try{return this.$http.get("api/InscripcionController/getConfiguracionTalleres",{params:{params:{famcod:e,ano:r,idPersona:this.sie.id_persona,duracod:this.duracod}}}).then(function(e){return a.inscripcionBloqueada=e&&e.control?e.control.VISIBLE:0,a.V_PAGO_EFECTIVO=!(!e||!e.constantes)&&1===Number(e.constantes.V_PAGO_EFECTIVO),a.V_OPENPAY=!(!e||!e.constantes)&&1===Number(e.constantes.V_OPENPAY),a.P_INGVAR_INTRANET=!(!e||!e.constantes)&&1===Number(e.constantes.P_INGVAR_INTRANET),a.V_USA_DEUDA=!(!e||!e.constantes)&&1===Number(e.constantes.V_USA_DEUDA),a.selectMetodoOpenpay=a.V_OPENPAY&&a.V_PAGO_EFECTIVO||a.V_OPENPAY,a.nuevaVistaTalleres=!(!e||!e.constantes)&&1===Number(e.constantes.T_NUEVA_VISTA_INSCRIPCION),a.V_OPENPAY&&(a.rightStyle="position: absolute;top: 1rem;right: 1rem;"),a.optPeriodo=e&&e.periodos?e.periodos:[],a.optPeriodoInscripcion=e&&e.periodosConCronograma?e.periodosConCronograma:[],a.optPeriodo=e&&e.periodos?e.periodos:[],a.duracod||(a.duracod=e&&e.duracod?e.duracod:null),a.optPrograma=e&&e.programas?e.programas:[],a.idPrograma=e&&e.programas&&Array.isArray(e.programas)&&e.programas.length?e.programas[0].TIPOCOD:null,a.alumnos=e.familiaIntegrantes||[],a.fechaHora=new Date(e.cronograma.fechaHoraServer),a.cargaCronogramaVigente(e.cronograma)})}catch(e){}},getColegiosProcedencia:function(){var e=this;return Ir()(Cr()().m(function r(){var a;return Cr()().w(function(r){while(1)switch(r.n){case 0:return r.n=1,e.$http.get("api/TablasController/getTablaDetails",{params:{princod:"010"}});case 1:a=r.v,e.colegiosDeProcendecia=a;case 2:return r.a(2)}},r)}))()},init:function(){var e=this;return Ir()(Cr()().m(function r(){var a,n,t,o,i;return Cr()().w(function(r){while(1)switch(r.n){case 0:if(["0437"].includes((0,_r["default"])().colcod)&&(e.estadosOption.push({value:9,label:"PARCIAL"}),e.estados[9]="PARCIAL"),!e.isFamAlu){r.n=2;break}return r.n=1,e.getConfiguracionTalleres(e.sie.famcod,e.sie.ano);case 1:r.n=10;break;case 2:return e.getConstantes(),r.n=3,e.getDuracodActivo();case 3:if(!e.sie.alucod){r.n=5;break}return r.n=4,e.$http.get("api/AlumnoController/getFamcod",{params:{alucod:e.sie.alucod}}).catch(function(e){});case 4:a=r.v,a&&a[0]&&a[0].FAMCOD&&(e.sie.famcod=a[0].FAMCOD);case 5:return r.n=6,e.getBloqueo();case 6:return r.n=7,e.getGrupoTipo();case 7:return r.n=8,e.getAlumnos();case 8:for(n=[],t=0;t<e.alumnos.length;t++)o=e.alumnos[t],o.NGS&&n.push(o.NGS);return r.n=9,e.getInscripcionesVencidas();case 9:if(!e.isBpastor||e.isAdmin){r.n=10;break}return i=e.alumnos[0],r.n=10,e.cambiarAlumno(i);case 10:return r.a(2)}},r)}))()},goToCarrito:function(){var e=this;return Ir()(Cr()().m(function r(){return Cr()().w(function(r){while(1)switch(r.n){case 0:return r.n=1,e.onClickGrupoTaller(e.optGrupo[0]);case 1:e.$refs.refElegirTalleres.modalCarrito=!0;case 2:return r.a(2)}},r)}))()},seleccionarPasarela:function(){var e=this;return Ir()(Cr()().m(function r(){var a,n,t;return Cr()().w(function(r){while(1)switch(r.n){case 0:if(e.P_IMPORTE_PASARELA&&e.importe){r.n=1;break}return r.a(2,"");case 1:return r.n=2,ml.$http.get("api/ConstanteSistemaController/getMontoMinMax");case 2:if(a=r.v,n=a.filter(function(e){return qr["default"].BANCOS_PASARELA.includes(e.BANCOD)}),0!==n.length){r.n=3;break}return r.a(2,"");case 3:return t=n.find(function(r){return e.importe>r.MONTO_MINIMO&&e.importe<=r.MONTO_MAXIMO}),r.a(2,t.BANCOD)}},r)}))()}},computed:{isSmall:function(){return Er.A.sm||Er.A.xs},tipogrupovac:function(){var e=this;return this.optPrograma.find(function(r){return r.TIPOCOD===e.idPrograma})},hayLimite:function(){return["0032"].includes(this.sie.colcod)},noMostrarVacantes:function(){return["0032"].includes(this.sie.colcod)&&this.isFamAlu},botonImprimirCarnet:function(){return["0258"].includes(this.sie.colcod)},mostrarConstancia:function(){return!["0258"].includes(this.sie.colcod)},countCarrito:function(){var e="";return e=!this.isFamAlu||this.V_OPENPAY||this.V_PAGO_EFECTIVO?this.objEnviar.filter(function(e){return 3!==e.ESTADO}).length:this.objEnviar.length,e},textoCarrito:function(){var e=!this.isFamAlu||this.V_OPENPAY||this.V_PAGO_EFECTIVO?"Pagar":"Finalizar";return e=["0032","0078"].includes(this.sie.colcod)?"Inscribir":e,e},permiso:function(){return this.sie.ruta.nivel},porCobrarAgrupado:function(){var e=this;if(!this.nuevaVistaTalleres)return this.porCobrar;var r=[],a=[];return this.porCobrar.forEach(function(e){var a=r.find(function(r){return r.ID_CURSO_PERIODO===e.ID_CURSO_PERIODO&&r.MESCOB===e.MESCOB});a?(a.VACCOD=a.ID_CURSO_PERIODO,a.ID_INSCRIPCION_DETALLE+=","+e.ID_INSCRIPCION_DETALLE):(e.SELECTED=!1,e.URL_PAGO||r.push(Or()({},e)))}),r.forEach(function(e){var r=a.find(function(r){return r.COD_PAQUETE_CURSO&&r.COD_PAQUETE_CURSO===e.COD_PAQUETE_CURSO});e.FLAG_PAQUETE_FREC&&(e.SELECTED=!0),r?(r.ID_INSCRIPCION_DETALLE+=","+e.ID_INSCRIPCION_DETALLE,r.HORARIO+=", "+e.HORARIO):e.URL_PAGO||a.push(Or()({},e))}),r.map(function(r){return"0090"===(0,_r["default"])().colcod&&["26","27","28","29","30","31","32","33"].includes(r.GRUVACOD)&&(r.SELECTED=!0,r.DISABLED=!0),e.tieneDescuento&&e.isFamAlu&&(r.SELECTED=!0,r.DISABLED=!0),r})},showPagoPorCaja:function(){var e=!this.isFamAlu&&!this.isBpastor||this.isAdmin||this.esPerfilCaja;return"0032"===this.sie.colcod&&(e=this.sie.tipcod===qr["default"].PERFIL_USUARIO_ADMINISTRADOR||this.esPerfilTesoreria&&["HARAINGA","FJULON"].includes(this.sie.usucod)),"0313"===this.sie.colcod&&(e=this.isAdmin),e}},created:function(){var e=this;return Ir()(Cr()().m(function r(){return Cr()().w(function(r){while(1)switch(r.n){case 0:return e.colcod=e.sie.colcod,r.n=1,e.init();case 1:e.duracodAnt=e.duracod;case 2:return r.a(2)}},r)}))()}};const Al=(0,Ta.A)(Il,[["render",lr]]);var El=Al}}]);