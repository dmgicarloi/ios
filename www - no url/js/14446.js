"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[14446],{14446:function(e,n,t){t.r(n),t.d(n,{default:function(){return j}});var l=t(8445),a=t.n(l),o=(t(56285),t(20361),t(61758)),r=t(58790),u={class:"row"},i={class:"col-12"},s={class:"col-12"},c={class:"row"},d={class:"col"},f={class:"col"},m={class:"row q-pa-sm gutter-xs"},p={class:"col-12"},b={class:"sie-editor"},k={class:"q-pa-sm q-pl-md"},v={class:"row q-pa-sm gutter-xs"},F={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6"},A={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6"},E={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6"},g={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6"},_={class:"col-12"},w={class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6"},L={class:"row"},h={class:"col-12"},C={class:"row q-pa-sm gutter-xs"},D={class:"col-12"};function I(e,n){var t=(0,o.g2)("sie-estudiantes"),l=(0,o.g2)("q-tab"),I=(0,o.g2)("q-th"),O=(0,o.g2)("q-tr"),T=(0,o.g2)("q-td"),q=(0,o.g2)("q-btn"),M=(0,o.g2)("q-table"),N=(0,o.g2)("q-tab-pane"),y=(0,o.g2)("q-tooltip"),H=(0,o.g2)("q-icon"),x=(0,o.g2)("q-tabs"),Y=(0,o.g2)("q-list-header"),Q=(0,o.g2)("sie-html"),U=(0,o.g2)("q-item-main"),W=(0,o.g2)("q-item"),S=(0,o.g2)("q-download-file"),R=(0,o.g2)("q-list"),X=(0,o.g2)("sie-modal"),V=(0,o.g2)("q-input"),P=(0,o.g2)("q-page");return(0,o.uX)(),(0,o.Wv)(P,{class:"q-pa-sm bg-white"},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",u,[(0,o.Lk)("div",i,[(0,o.bF)(t,{onSelected:e.cambiarAlumno},null,8,["onSelected"])]),(0,o.Lk)("div",s,[e.row.ALUCOD?((0,o.uX)(),(0,o.Wv)(x,{key:0,class:"q-tabs-flex",inverted:"",animated:"","panes-container-class":"column",modelValue:e.tabDetalle,"onUpdate:modelValue":n[0]||(n[0]=function(n){return e.tabDetalle=n})},{title:(0,o.k6)(function(){return[(0,o.bF)(l,{default:"",name:"tab-1",label:"Acuerdos"}),(0,o.bF)(l,{default:"",name:"tab-2",label:"Informes"})]}),default:(0,o.k6)(function(){return[(0,o.bF)(N,{class:"q-pa-none",name:"tab-1","keep-alive":""},{default:(0,o.k6)(function(){return[(0,o.bF)(M,{class:"bg-white",data:e.data,columns:e.columns,"row-key":"FECCAM"},{header:(0,o.k6)(function(e){return[(0,o.bF)(O,null,{default:(0,o.k6)(function(){return[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.cols,function(n){return(0,o.uX)(),(0,o.Wv)(I,{key:n.name,props:e},{default:(0,o.k6)(function(){return[(0,o.eW)((0,r.v_)(n.label),1)]}),_:2},1032,["props"])}),128)),(0,o.bF)(I)]}),_:2},1024)]}),body:(0,o.k6)(function(n){return[(0,o.bF)(O,{props:n},{default:(0,o.k6)(function(){return[(0,o.bF)(T,{class:"q-table-col-auto-width"},{default:(0,o.k6)(function(){return[(0,o.eW)((0,r.v_)(e.date(n.row.FECHA+"T00:00:00","DD/MM/YYYY")),1)]}),_:2},1024),(0,o.bF)(T,{class:"q-table-col-auto-width"},{default:(0,o.k6)(function(){return[(0,o.eW)((0,r.v_)(n.row.HORAINI),1)]}),_:2},1024),(0,o.bF)(T,{class:"q-table-col-auto-width"},{default:(0,o.k6)(function(){return[(0,o.eW)((0,r.v_)(e.estado(n.row.ESTADO)),1)]}),_:2},1024),(0,o.bF)(T,{class:"q-table-col-auto-width"},{default:(0,o.k6)(function(){return[(0,o.eW)((0,r.v_)(n.row.NOMBRE),1)]}),_:2},1024),(0,o.bF)(T,{class:"q-table-col-auto-width"},{default:(0,o.k6)(function(){return[(0,o.eW)((0,r.v_)(n.row.ASUNTO),1)]}),_:2},1024),(0,o.bF)(T,{class:"q-table-col-auto-width"},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",c,[(0,o.Lk)("div",d,[(0,o.bF)(q,{dense:"",icon:"remove_red_eye",flat:"",round:"",onClick:function(t){return e.ver(n.row)}},null,8,["onClick"])]),(0,o.Lk)("div",f,[(0,o.bF)(q,{dense:"",icon:"print",flat:"",round:"",onClick:function(t){return e.imprimir(n.row)}},null,8,["onClick"])])])]}),_:2},1024)]}),_:2},1032,["props"])]}),_:1},8,["data","columns"])]}),_:1}),(0,o.bF)(N,{class:"q-pa-none",name:"tab-2","keep-alive":""},{default:(0,o.k6)(function(){return[(0,o.bF)(M,{class:"bg-white",data:e.detalle,columns:e.columnsInfo},{body:(0,o.k6)(function(t){return[(0,o.bF)(O,{props:t},{default:(0,o.k6)(function(){return[(0,o.bF)(T,{key:"FECHA",props:t},{default:(0,o.k6)(function(){return[(0,o.eW)((0,r.v_)(e.date(t.row["FECHA"],"DD/MM/YYYY")),1)]}),_:2},1032,["props"]),(0,o.bF)(T,{key:"TIPO",props:t},{default:(0,o.k6)(function(){return[(0,o.eW)((0,r.v_)(t.row["TIPO"]),1)]}),_:2},1032,["props"]),(0,o.bF)(T,{key:"INFORME",props:t},{default:(0,o.k6)(function(){return[(0,o.eW)((0,r.v_)(t.row["INFORME"]),1)]}),_:2},1032,["props"]),(0,o.bF)(T,{key:"FECHA_ACT",props:t},{default:(0,o.k6)(function(){return[(0,o.eW)((0,r.v_)(e.date(t.row["FECHA_ACT"],"DD/MM/YYYY")),1)]}),_:2},1032,["props"]),(0,o.bF)(T,{key:"USUCOD",props:t},{default:(0,o.k6)(function(){return[(0,o.eW)((0,r.v_)(t.row["USUCOD"]),1)]}),_:2},1032,["props"]),(0,o.bF)(T,{key:"DETALLE",props:t},{default:(0,o.k6)(function(){return[(0,o.eW)((0,r.v_)(t.row["DETALLE"]),1),(0,o.bF)(H,{class:"cursor-pointer",name:"visibility",onClick:function(n){return e.verDetalle(t.row)}},{default:(0,o.k6)(function(){return[(0,o.bF)(y,null,{default:(0,o.k6)(function(){return a()(n[4]||(n[4]=[(0,o.eW)("Ver",-1)]))}),_:1})]}),_:1},8,["onClick"])]}),_:2},1032,["props"])]}),_:2},1032,["props"])]}),_:1},8,["data","columns"])]}),_:1})]}),_:1},8,["modelValue"])):(0,o.Q3)("v-if",!0)])]),(0,o.bF)(X,{class:"modal-detalle-informe",title:"Detalle Informe",modelValue:e.modalInforme,"onUpdate:modelValue":n[1]||(n[1]=function(n){return e.modalInforme=n}),css:{"max-width":"1200px"},footer:!1},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",m,[(0,o.Lk)("div",p,[e.informe?((0,o.uX)(),(0,o.Wv)(Y,{key:0},{default:(0,o.k6)(function(){return a()(n[5]||(n[5]=[(0,o.eW)("Detalle",-1)]))}),_:1})):(0,o.Q3)("v-if",!0),e.informe?((0,o.uX)(),(0,o.Wv)(W,{key:1},{default:(0,o.k6)(function(){return[(0,o.bF)(U,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("div",b,[(0,o.bF)(Q,{src:e.informe},null,8,["src"])])]}),_:1})]}),_:1})):(0,o.Q3)("v-if",!0),(0,o.bF)(R,{class:"multiline"},{default:(0,o.k6)(function(){return[e.adjuntos.length>0?((0,o.uX)(),(0,o.Wv)(Y,{key:0},{default:(0,o.k6)(function(){return[(0,o.eW)((0,r.v_)(e.$t("intranet.citacion.adjuntos")),1)]}),_:1})):(0,o.Q3)("v-if",!0),e.adjuntos.length>0?((0,o.uX)(!0),(0,o.CE)(o.FK,{key:1},(0,o.pI)(e.adjuntos,function(e,n){return(0,o.uX)(),(0,o.CE)("div",k,[(0,o.bF)(S,{src:e.link,item:e,name:e.name,extension:e.extension,"direct-link":e.directLink,inline:!1},null,8,["src","item","name","extension","direct-link"])])}),256)):(0,o.Q3)("v-if",!0)]}),_:1})])])]}),_:1},8,["modelValue"]),(0,o.bF)(X,{title:"Informe",modelValue:e.openModal,"onUpdate:modelValue":n[3]||(n[3]=function(n){return e.openModal=n}),css:{"max-width":"700px"},footer:!1},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",v,[(0,o.Lk)("div",F,[n[6]||(n[6]=(0,o.Lk)("b",null,"ALUMNO :",-1)),(0,o.Lk)("span",null,(0,r.v_)(e.row.ALUCOD),1)]),(0,o.Lk)("div",A,[n[7]||(n[7]=(0,o.Lk)("b",null,"SALÓN :",-1)),(0,o.Lk)("span",null,(0,r.v_)(e.row.NGS),1)]),(0,o.Lk)("div",E,[n[8]||(n[8]=(0,o.Lk)("b",null,"FECHA :",-1)),(0,o.Lk)("span",null,(0,r.v_)(e.date(e.row.FECHA+"T00:00:00","DD/MM/YYYY"))+" "+(0,r.v_)(e.row.HORAINI),1)]),(0,o.Lk)("div",g,[n[9]||(n[9]=(0,o.Lk)("b",null,"ESTADO :",-1)),(0,o.Lk)("span",null,(0,r.v_)(e.estado(e.row.ESTADO)),1)]),(0,o.Lk)("div",_,[n[10]||(n[10]=(0,o.Lk)("b",null,"ASUNTO :",-1)),(0,o.Lk)("span",null,(0,r.v_)(e.row.ASUNTO),1)]),n[11]||(n[11]=(0,o.Lk)("div",{class:"col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6"},[(0,o.Lk)("b",null,"PARTICIPANTES :")],-1)),(0,o.Lk)("div",w,[(0,o.Lk)("div",L,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.participantes,function(e){return(0,o.uX)(),(0,o.CE)("div",h,(0,r.v_)(e.NOMBRE),1)}),256))])])]),(0,o.Lk)("div",C,[(0,o.Lk)("div",D,[(0,o.bF)(V,{class:"q-if-outlined",readonly:!0,type:"textarea",modelValue:e.acuerdo,"onUpdate:modelValue":n[2]||(n[2]=function(n){return e.acuerdo=n}),label:"Acuerdos"},null,8,["modelValue"])])])]}),_:1},8,["modelValue"])]}),_:1})}var O=t(76080),T=t.n(O),q=t(45254),M=t.n(q),N=(t(30683),t(52133),t(10239),t(50310),t(6724),t(83190),t(92173)),y=t(6123),H=t(2819),x=t(30640),Y=t(66099),Q=t(62006),U=t(57668),W=t(9736),S=t(18105),R=t(34550),X={components:{QInput:W.A,sieModal:x.A,sieHtml:Y.A,QDownloadFile:Q.A,sieEstudiantes:N.Ay,QTable:y.kH,QTh:y.EJ,QTr:y.qh,QTd:y.Ef,QTab:y.zu,QTabs:y.uw,QTabPane:y.dg,QPage:y.Tu,QBtn:y.Il,QIcon:y.bP,QTooltip:y.nC,QListHeader:y.XR,QItem:y.H0,QItemMain:y.mF,QList:y.Mb},data:function(){return{data:[],detalle:[],sieInfo:(0,U["default"])(),tempAdjuntos:[],adjuntos:[],openModal:!1,recomendacion:"",acuerdo:"",participantes:[],row:{},columns:[{name:"FECHA",label:"Fecha",align:"left",field:"FECHA",sortable:!0},{name:"HORAINI",label:"Hora Ini.",align:"left",field:"HORAINI",sortable:!0},{name:"ESTADO",label:"Estado",align:"left",field:"ESTADO",sortable:!0},{name:"NOMBRE",label:"Responsable",align:"left",field:"NOMBRE",sortable:!0},{name:"ASUNTO",label:"Asunto",align:"left",field:"ASUNTO",sortable:!0}],columnsInfo:[{name:"FECHA",label:"Fecha",align:"left",field:function(e){return(0,S.Ay)(e.FECHA,"DD/MM/YYYY")},sortable:!0},{name:"TIPO",label:"Tipo Informe",align:"left",field:"TIPO",sortable:!0},{name:"INFORME",label:"Detalle",align:"left",field:"INFORME",sortable:!0},{name:"FECHA_ACT",label:"Fecha Act.",align:"left",field:function(e){return(0,S.Ay)(e.FECHA_ACT,"DD/MM/YYYY")},sortable:!0},{name:"USUCOD",label:"Usuario",align:"left",field:"USUCOD",sortable:!0},{name:"DETALLE",label:this.$t(""),field:"DETALLE",align:"center",sortable:!1}],informe:"",tabDetalle:"tab-1",modalInforme:!1}},methods:{date:S.Ay,estado:function(e){switch(e){case"01":return"Pendiente";case"02":return"Realizado";case"03":return"Por confirmar";case"04":return"No asistió"}},cambiarAlumno:function(e){this.row=e,this.getEntrevista(e.ALUCOD)},ver:function(e){var n=this;return M()(T()().m(function t(){var l,a,o;return T()().w(function(t){while(1)switch(t.p=t.n){case 0:return t.p=0,t.n=1,n.$http.get("api/HyoEntrevista/detalleEntrevista",{params:{codent:e.CODENT}});case 1:l=t.v,a=l.detalle,o=l.participantes,n.recomendacion=a.TEXTO2,n.acuerdo=a.TEXTO3,n.participantes=o,n.row=e,n.openModal=!0,t.n=3;break;case 2:t.p=2,t.v;case 3:return t.a(2)}},t,null,[[0,2]])}))()},imprimir:function(e){var n={ano:new Date(e.FECHA).getFullYear(),alucod:e.CODIGO,codent:e.CODENT,formato:"pdf",repcod:"seguimientopsicopedagogico"};(0,H.exportFilePhp)(n,"webservice/reportes/reporte")},getEntrevista:function(e){var n=this;return M()(T()().m(function t(){var l,a,o,r,u;return T()().w(function(t){while(1)switch(t.p=t.n){case 0:return t.p=0,t.n=1,n.$http("api/HyoEntrevista/getEntrevistas",{params:{alucod:e,nemo:n.row.NEMO}});case 1:l=t.v,a=l.entrevistas,o=l.arrAdjuntos,r=l.detalle,n.data=a,n.detalle=r,o.map(function(e){if(!0===e.esEnlace)e.link=e.url;else{var t=(0,R.cleanNameFile)(e.name);e.link="".concat(n.sieInfo.api,"/HyoEntrevista/archivo/").concat(e.id,"/").concat(t)}return e.esAgregado=!0,e}),n.tempAdjuntos=o,t.n=3;break;case 2:t.p=2,u=t.v,console.log("e",u);case 3:return t.a(2)}},t,null,[[0,2]])}))()},verDetalle:function(e){var n=this;this.adjuntos=[],this.modalInforme=!0,this.tempAdjuntos.map(function(t){t.id===e.ID_INFORME&&n.adjuntos.push(t)}),this.informe=e.DETALLE_INFORME}}},V=t(12807);const P=(0,V.A)(X,[["render",I]]);var j=P}}]);