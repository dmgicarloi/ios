"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[17493],{17493:function(n,o,t){t.r(o),t.d(o,{default:function(){return V}});var e=t(61758),a={class:"proceso-copiar-datos q-pa-sm col column"},r={class:"row col q-col-gutter-sm"},u={class:"col-4"},l={class:"col-4"},c={class:"col-4"};function i(n,o){var t=(0,e.g2)("header-btn"),i=(0,e.g2)("q-select"),s=(0,e.g2)("q-input"),d=(0,e.g2)("q-card-section"),f=(0,e.g2)("q-card"),m=(0,e.g2)("q-page");return(0,e.uX)(),(0,e.Wv)(m,null,{default:(0,e.k6)(function(){return[(0,e.Lk)("div",a,[(0,e.bF)(f,{class:"col column",dense:"",flat:"",bordered:""},{default:(0,e.k6)(function(){return[(0,e.bF)(t,{name:"Copiar datos médicos",buttons:n.buttons},null,8,["buttons"]),(0,e.bF)(d,{class:"col column"},{default:(0,e.k6)(function(){return[(0,e.Lk)("div",r,[(0,e.Lk)("div",u,[(0,e.bF)(i,{modelValue:n.anio_anterior,"onUpdate:modelValue":o[0]||(o[0]=function(o){return n.anio_anterior=o}),label:"Año anterior",options:n.anios_anteriores,"option-value":"ANO","option-label":"ANO"},null,8,["modelValue","options"])]),(0,e.Lk)("div",l,[(0,e.bF)(s,{modelValue:n.anio_actual,"onUpdate:modelValue":o[1]||(o[1]=function(o){return n.anio_actual=o}),label:"Año actual",disable:""},null,8,["modelValue"])]),(0,e.Lk)("div",c,[(0,e.bF)(i,{modelValue:n.alucod,"onUpdate:modelValue":o[2]||(o[2]=function(o){return n.alucod=o}),label:"Alumnos del año actual",options:n.alumnos,"option-value":"ALUCOD","option-label":"NOMCOMP"},null,8,["modelValue","options"])])])]}),_:1})]}),_:1})])]}),_:1})}var s=t(76080),d=t.n(s),f=t(45254),m=t.n(f),p=t(6123),A=t(88567),b=t(95718),h=t(9736),v=t(16648),w=t(57668),g=t(982),_=(t(71225),t(50310),t(5962),t(83190),t(80660)),k={getAlumnosSalonAnio:function(){return m()(d()().m(function n(){var o;return d()().w(function(n){while(1)switch(n.n){case 0:return n.n=1,_.$http.get("api/AlumnoController/getListarAlumnosAnio");case 1:return o=n.v,o.unshift({ALUCOD:"%",NOMCOMP:"Todos"}),n.a(2,o)}},n)}))()},getAniosAnteriores:function(n){return m()(d()().m(function o(){var t;return d()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,_.$http.get("api/anioController/getAnios");case 1:return t=o.v,t=t.filter(function(o){return o.ANO<n}),o.a(2,t)}},o)}))()},procesar:function(n){return m()(d()().m(function o(){return d()().w(function(o){while(1)switch(o.n){case 0:return o.a(2,_.$http.post("api/ProcesoCopiarDatosMedicosController/procesar",{data:n}))}},o)}))()}},C={components:{QCard:A.A,QCardSection:b.A,QInput:h.A,QSelect:v.A,QPage:p.Tu},data:function(){var n=this,o=(0,w["default"])();return{buttons:[{icon:"cogs",label:"Procesar",loading:!1,click:function(){n.procesar()}}],anio_anterior:null,anio_actual:o.ano,alucod:null,anios_anteriores:[],alumnos:[]}},methods:{comboAlumnos:function(){var n=this;return m()(d()().m(function o(){return d()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,k.getAlumnosSalonAnio();case 1:n.alumnos=o.v,n.alucod=n.alumnos[0].ALUCOD;case 2:return o.a(2)}},o)}))()},comboAnios:function(){var n=this;return m()(d()().m(function o(){return d()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,k.getAniosAnteriores(n.anio_actual);case 1:n.anios_anteriores=o.v,n.anio_anterior=n.anios_anteriores[0].ANO;case 2:return o.a(2)}},o)}))()},procesar:function(){var n=this;return m()(d()().m(function o(){var t,e,a,r;return d()().w(function(o){while(1)switch(o.p=o.n){case 0:return n.buttons[0].loading=!0,t={alucod:n.alucod,anio_anterior:n.anio_anterior,anio_actual:n.anio_actual},o.p=1,o.n=2,k.procesar(t);case 2:e=o.v,(0,g["default"])(e,"success"),o.n=4;break;case 3:o.p=3,r=o.v,a=r.error,n.$alert(a.message,"warning",!0);case 4:n.buttons[0].loading=!1;case 5:return o.a(2)}},o,null,[[1,3]])}))()}},created:function(){var n=this;return m()(d()().m(function o(){return d()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,n.comboAlumnos();case 1:return o.n=2,n.comboAnios();case 2:return o.a(2)}},o)}))()}},O=t(12807);const L=(0,O.A)(C,[["render",i],["__scopeId","data-v-350f5314"]]);var V=L}}]);