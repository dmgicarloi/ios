"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[97825],{97825:function(e,t,a){a.r(t),a.d(t,{default:function(){return h}});var r=a(61758),s={class:"intranet--mensajeria--redactar"};function n(e,t){var a=(0,r.g2)("q-btn"),n=(0,r.g2)("q-toolbar"),o=(0,r.g2)("redactar");return(0,r.uX)(),(0,r.CE)("div",s,[e.isGreater?(0,r.Q3)("v-if",!0):((0,r.uX)(),(0,r.Wv)(n,{key:0,class:"q-toolbar-menu fixed-top q-pt-sm",style:{width:"100%",left:"0"},color:"primary"},{default:(0,r.k6)(function(){return[(0,r.bF)(a,{icon:"arrow_back",dense:"",round:"",flat:"",onClick:e.back},null,8,["onClick"]),t[0]||(t[0]=(0,r.Lk)("div",{class:"col"},null,-1)),(0,r.bF)(a,{icon:"paperclip",dense:"",round:"",flat:"",onClick:e.openSieCloud},null,8,["onClick"]),(0,r.bF)(a,{icon:"send",dense:"",round:"",flat:"",onClick:e.sendMessage},null,8,["onClick"])]}),_:1})),(0,r.bF)(o,{dataMessage:e.data,ref:"redactar",idB:e.idBorrador},null,8,["dataMessage","idB"])])}a(515),a(7346);var o=a(6123),i=a(80660),d=a(61740),u=a(81288),c=a(8261),l={props:["folder","mensaje","programado","type","edicion","idBorrador"],components:{redactar:d.A,QToolbar:o.ZV,QBtn:o.Il},methods:{getDestinatarios:function(){var e=this,t={idMensaje:parseInt(this.mensaje)};this.folder&&(t.carpeta=parseInt(this.folder)),this.programado&&(t.programado=this.programado),i.$http.get("api/HyoMensajeria/obtDetalle",{params:t}).then(function(t){e.data=t})},openSieCloud:function(){this.$refs.redactar.openSieCloud()},sendMessage:function(){this.$refs.redactar.sendMessage()},back:function(){this.$router.go(-1)}},data:function(){return{data:{}}},computed:{dataMessage:function(){return this.data},isGreater:function(){return(0,u.isGreater)()}},created:function(){if(this.mensaje)this.getDestinatarios();else if(this.$route.query){var e={};this.$route.query.body&&(e.MENSAJE=this.$route.query.body);var t=this.$route.query.send?JSON.parse(this.$route.query.send):[],a=(0,c["default"])(t,"USUCOD");this.data={mensaje:e,destinatarios:a}}},unmounted:function(){this.$store.commit("bandeja/setMessages",[]),this.$store.commit("bandeja/setFilterMessages",[])}},f=a(12807);const p=(0,f.A)(l,[["render",n]]);var h=p}}]);