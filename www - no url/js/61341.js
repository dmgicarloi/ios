"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[61341],{61341:function(e,t,o){o.r(t),o.d(t,{default:function(){return J}});o(71225),o(50310),o(5962),o(83190);var n=o(61758),a=o(58790),l=o(29104),r={class:"row items-center no-wrap"},s={class:"col"},i={class:"text-h6"},u={key:0},O={key:1},T={key:2},c={key:3},m={key:4},d={key:5},A={class:"text-left"},E=["innerHTML"],C={class:"row q-pa-sm q-col-gutter-sm"},f={class:"col-xs-12"},_={class:"text-h6"},p={class:"col-xs-12"},N={class:"col-xs-12"},S={key:0,class:"col-xs-12"},b={key:1,class:"col-xs-12"},h={key:2,class:"col-xs-12"},v={key:3,class:"col-xs-12"},V={key:4,class:"col-xs-12"},R={key:5,class:"col-xs-12"},I={key:6,class:"col-xs-12"};function L(e,t){var o=(0,n.g2)("q-card-section"),L=(0,n.g2)("q-separator"),P=(0,n.g2)("q-select"),D=(0,n.g2)("q-btn"),g=(0,n.g2)("q-td"),k=(0,n.g2)("q-tr"),M=(0,n.g2)("q-table"),U=(0,n.g2)("q-input"),w=(0,n.g2)("q-datetime"),F=(0,n.g2)("sie-modal"),x=(0,n.g2)("q-card");return(0,n.uX)(),(0,n.Wv)(x,{class:"layout-v1 my-card",flat:"",bordered:""},{default:(0,n.k6)(function(){return[(0,n.bF)(o,null,{default:(0,n.k6)(function(){return[(0,n.Lk)("div",r,[(0,n.Lk)("div",s,[(0,n.Lk)("div",i,(0,a.v_)(e.title),1)])])]}),_:1}),(0,n.bF)(L),(0,n.bF)(o,null,{default:(0,n.k6)(function(){return[(0,n.bF)(P,{modelValue:e.GRUPO_CONSTANTE,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.GRUPO_CONSTANTE=t}),"option-label":"GRUPO_CONSTANTE_DES","option-value":"GRUPO_CONSTANTE",options:e.g_constante,label:"Grupos",onInput:e.filter,placeholder:"Seleccione el grupo"},null,8,["modelValue","options","onInput"])]}),_:1}),(0,n.bF)(o,null,{default:(0,n.k6)(function(){return[(0,n.bF)(M,{data:e.dataConstantes,columns:e.columns,pagination:e.pagination,"onUpdate:pagination":t[1]||(t[1]=function(t){return e.pagination=t}),"rows-per-page-options":[0],"hide-bottom":"","row-key":"ID_CONSTANTE","virtual-scroll":""},{body:(0,n.k6)(function(o){return[(0,n.bF)(k,{props:o},{default:(0,n.k6)(function(){return[(0,n.bF)(g,{style:{"text-align":"center"}},{default:(0,n.k6)(function(){return[(0,n.bF)(D,{size:"md",color:"primary",dense:"",onClick:function(e){return o.expand=!o.expand},icon:o.expand?"arrow_drop_up":"arrow_drop_down"},null,8,["onClick","icon"])]}),_:2},1024),(0,n.bF)(g,{key:"ID_CONSTANTE",props:o},{default:(0,n.k6)(function(){return[(0,n.eW)((0,a.v_)(o.row.ID_CONSTANTE),1)]}),_:2},1032,["props"]),(0,n.bF)(g,{key:"CONSTANTE",props:o},{default:(0,n.k6)(function(){return[(0,n.eW)((0,a.v_)(o.row.CONSTANTE),1)]}),_:2},1032,["props"]),(0,n.bF)(g,{key:"TYPE",props:o},{default:(0,n.k6)(function(){return[(0,n.eW)((0,a.v_)(o.row.TYPE),1)]}),_:2},1032,["props"]),(0,n.Q3)("v-if",!0),(0,n.bF)(g,{key:"VALOR",props:o},{default:(0,n.k6)(function(){return[1==o.row.TIPO_DATO?((0,n.uX)(),(0,n.CE)("div",u,(0,a.v_)(0==o.row.VALOR?"False":"True"),1)):(0,n.Q3)("v-if",!0),2==o.row.TIPO_DATO?((0,n.uX)(),(0,n.CE)("div",O,(0,a.v_)(o.row.VALOR),1)):(0,n.Q3)("v-if",!0),3==o.row.TIPO_DATO?((0,n.uX)(),(0,n.CE)("div",T,(0,a.v_)(o.row.VALOR),1)):(0,n.Q3)("v-if",!0),4==o.row.TIPO_DATO?((0,n.uX)(),(0,n.CE)("div",c,(0,a.v_)(o.row.VALOR),1)):(0,n.Q3)("v-if",!0),5==o.row.TIPO_DATO?((0,n.uX)(),(0,n.CE)("div",m,(0,a.v_)(o.row.VALOR),1)):(0,n.Q3)("v-if",!0),6==o.row.TIPO_DATO?((0,n.uX)(),(0,n.CE)("div",d,(0,a.v_)(o.row.VALOR),1)):(0,n.Q3)("v-if",!0)]}),_:2},1032,["props"]),(0,n.bF)(g,{style:{"text-align":"center"}},{default:(0,n.k6)(function(){return[(0,n.bF)(D,{size:"sm",color:"primary",dense:"",onClick:function(t){return e.editModal(o.row)},icon:"edit"},null,8,["onClick"])]}),_:2},1024)]}),_:2},1032,["props"]),(0,n.bo)((0,n.bF)(k,{props:o},{default:(0,n.k6)(function(){return[(0,n.bF)(g,{colspan:"100%"},{default:(0,n.k6)(function(){return[(0,n.Lk)("div",A,[(0,n.Lk)("b",null,(0,a.v_)(o.row.CONSTANTE),1),t[12]||(t[12]=(0,n.eW)()),t[13]||(t[13]=(0,n.Lk)("br",null,null,-1))]),(0,n.Lk)("div",{class:"q-ma-md",innerHTML:e.getDescripcionConstante(o.row.CONSTANTE)},null,8,E)]}),_:2},1024)]}),_:2},1032,["props"]),[[l.aG,o.expand]])]}),_:1},8,["data","columns","pagination"])]}),_:1}),(0,n.bF)(F,{title:e.titleModal,modelValue:e.openModal,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.openModal=t}),onSubmit:e.save},{default:(0,n.k6)(function(){return[(0,n.Lk)("div",C,[(0,n.Lk)("div",f,[(0,n.Lk)("div",_,"Editar Constante: "+(0,a.v_)(e.constanteEdit),1)]),(0,n.Lk)("div",p,[t[14]||(t[14]=(0,n.Lk)("div",{class:"text-h6"},null,-1)),(0,n.bF)(U,{modelValue:e.form.CONSTANTE,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.form.CONSTANTE=t}),label:"CONSTANTE",readonly:""},null,8,["modelValue"])]),(0,n.Lk)("div",N,[(0,n.bF)(U,{modelValue:e.form.TYPE,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.form.TYPE=t}),label:"Tipo de Dato",readonly:""},null,8,["modelValue"])]),1===e.selectTipo?((0,n.uX)(),(0,n.CE)("div",S,[(0,n.bF)(P,{modelValue:e.form.VALOR_BOOLEANO,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.form.VALOR_BOOLEANO=t}),"option-label":"DES","option-value":"VAL",options:e.booleano,label:"Valor Booleano"},null,8,["modelValue","options"])])):(0,n.Q3)("v-if",!0),2===e.selectTipo?((0,n.uX)(),(0,n.CE)("div",b,[(0,n.bF)(U,{modelValue:e.form.VALOR_NUMERICO,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.form.VALOR_NUMERICO=t}),placeholder:"Valor Numérico",type:"number"},null,8,["modelValue"])])):(0,n.Q3)("v-if",!0),e.mostrarTexto?((0,n.uX)(),(0,n.CE)("div",h,[(0,n.bF)(U,{modelValue:e.form.VALOR_TEXTO,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.form.VALOR_TEXTO=t}),placeholder:"Valor Texto"},null,8,["modelValue"])])):(0,n.Q3)("v-if",!0),4===e.selectTipo?((0,n.uX)(),(0,n.CE)("div",v,[(0,n.bF)(w,{modelValue:e.form.VALOR_FECHA,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.form.VALOR_FECHA=t}),type:"date",placeholder:"Valor Fecha"},null,8,["modelValue"])])):(0,n.Q3)("v-if",!0),5===e.selectTipo?((0,n.uX)(),(0,n.CE)("div",V,[(0,n.bF)(U,{modelValue:e.form.ID_TIPO_OBJETO,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.form.ID_TIPO_OBJETO=t}),placeholder:"Tipo de Objeto",type:"number"},null,8,["modelValue"])])):(0,n.Q3)("v-if",!0),6===e.selectTipo&&e.mostrarEntero?((0,n.uX)(),(0,n.CE)("div",R,[(0,n.bF)(U,{modelValue:e.form.VALOR_ENTERO,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.form.VALOR_ENTERO=t}),placeholder:"Valor Entero",type:"number"},null,8,["modelValue"])])):(0,n.Q3)("v-if",!0),e.mostrarCombo?((0,n.uX)(),(0,n.CE)("div",I,[(0,n.bF)(P,{modelValue:e.form.VALOR_COMBO,"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.form.VALOR_COMBO=t}),"option-label":"label","option-value":"value",options:e.constanteCombo,placeholder:"Seleccione el valor de la constante",label:"Seleccione"},null,8,["modelValue","options"])])):(0,n.Q3)("v-if",!0)])]}),_:1},8,["title","modelValue","onSubmit"])]}),_:1})}var P=o(76080),D=o.n(P),g=o(45254),k=o.n(g),M=(o(39866),o(10239),o(11777),o(48426),o(6123)),U=o(95718),w=o(53380),F=o(64208),x=o(54489),y=o(57668),Q=o(75053),B=o(93616),X=o(80660),G=o(25814),q=o(41615),$={components:{sieSelect:B.A,sieModal:Q.A,QTable:M.kH,QTr:M.qh,QTd:M.Ef,QCard:M.C$,QPopupEdit:M.GT,QCardTitle:M.u0,QCheckbox:M.vZ,QBtn:M.Il,QCardMain:M.d1,QToggle:M.c5,QDatetime:M.T5,QCardSection:U.A,QSeparator:w.A,QSelect:x.S,QInput:F.A},data:function(){return{form:{ID_CONSTANTE:"",CONSTANTE:"",TIPO_DATO:"",TYPE:"",ID_TIPO_OBJETO:"",VALOR_BOOLEANO:"",VALOR_NUMERICO:"",VALOR_TEXTO:"",VALOR_COMBO:"",VALOR_FECHA:""},GRUPO_CONSTANTE:"Todos",g_constante:[],titleModal:"SIEWEB: Tesorería",nivelAcceso:(0,y["default"])().ruta.nivel,openModal:!1,checked:!1,pagina:1,pages:1,title:"Panel de Configuraciones",constanteEdit:"",dataConstantes:[],constanteCombo:[],mostrarTexto:!1,mostrarEntero:!0,mostrarCombo:!1,columns:[{label:"",name:"",field:"",align:"center"},{label:"ID Constante",name:"ID_CONSTANTE",field:"ID_CONSTANTE",align:"center"},{label:"Constante",name:"CONSTANTE",field:"CONSTANTE",align:"left"},{label:"Tipo de Dato",name:"TYPE",field:"TYPE",align:"center"},{label:"Valor",name:"VALOR",field:"VALOR",align:"center"},{label:"Editar",align:"center"}],pagination:{page:1,rowsPerPage:0},booleano:[{VAL:0,DES:"False"},{VAL:1,DES:"True"}],selectTipo:"0"}},computed:{usucod:function(){return this.$store.state.usuario.$info.usucod}},methods:{init:function(){this.getGrupoConstante(),this.getConstanteSistema()},isNumeric:function(e){return!isNaN(e-parseFloat(e))},getDescripcionConstante:function(e){return G["default"].detalle(e)},filter:function(){var e={GRUPO_CONSTANTE:this.GRUPO_CONSTANTE};this.getConstanteSistema(e)},getConstanteSistema:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};X.$http.get("api/ConstanteSistemaController/getListaConstanteSistema",{params:{parametros:t}}).then(function(t){e.dataConstantes=t})},getGrupoConstante:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o={pagina:this.pagina};Object.assign(o,t),X.$http.get("api/ConstanteSistemaController/getGrupoConstante",{params:{parametros:{response:"combo"}}}).then(function(t){e.g_constante=t,e.g_constante.unshift({GRUPO_CONSTANTE_DES:"Todos",GRUPO_CONSTANTE:"0"})})},cambiarEstado:function(e){var t=this;this.$confirm("¿Estás seguro de cambiar el estado de esta constante?","info").onOk(k()(D()().m(function o(){return D()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,X.$http.put("api/ConstanteSistemaController/putConstanteSistema",{datos:{ID_CONSTANTE:e.ID_CONSTANTE,CONSTANTE:e.CONSTANTE,ESTADO:e.ESTADO}});case 1:t.getConstanteSistema(),t.$alert("Estado actualizado satisfactoriamente","success");case 2:return o.a(2)}},o)}))).onCancel(k()(D()().m(function e(){return D()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,t.getConstanteSistema();case 1:return e.a(2)}},e)})))},editModal:function(e){this.constanteEdit=e.CONSTANTE,this.selectTipo=e.TIPO_DATO,this.form.ID_CONSTANTE=e.ID_CONSTANTE,this.form.CONSTANTE=e.CONSTANTE,this.form.TYPE=e.TYPE,this.form.VALOR_BOOLEANO=1===e.TIPO_DATO?"1"===e.VALOR?1:0:null,this.form.VALOR_NUMERICO=2===e.TIPO_DATO?e.VALOR:null,this.form.VALOR_TEXTO=3===e.TIPO_DATO?e.VALOR?e.VALOR:",":null,this.form.VALOR_FECHA=4===e.TIPO_DATO?e.VALOR:null,this.form.ID_TIPO_OBJETO=5===e.TIPO_DATO?e.VALOR:null,this.form.VALOR_ENTERO=6===e.TIPO_DATO?e.VALOR:null,this.form.VALOR_COMBO=[3,6].includes(e.TIPO_DATO)?this.isNumeric(e.VALOR)?Number(e.VALOR):e.VALOR:null,this.openModal=!0,this.constanteOpciones(this.form)},constanteOpciones:function(e){e.ID_CONSTANTE===q["default"].CONSTANTES_SISTEMA.P_POSICION?(this.mostrarTexto=!1,this.mostrarCombo=!0,this.constanteCombo=[{label:"Primer ",value:"P"},{label:"Ultimo",value:"U"}]):e.ID_CONSTANTE===q["default"].CONSTANTES_SISTEMA.P_TIPOMORA?(this.mostrarTexto=!1,this.mostrarCombo=!0,this.constanteCombo=[{label:"Porcentaje",value:"P"},{label:"Monto",value:"N"}]):e.ID_CONSTANTE===q["default"].CONSTANTES_SISTEMA.P_FORMPAG?(this.mostrarTexto=!1,this.mostrarCombo=!0,this.constanteCombo=[{label:"Alumno",value:"A"},{label:"Familia",value:"F"}]):e.ID_CONSTANTE===q["default"].CONSTANTES_SISTEMA.P_DESCUENTO?(this.mostrarTexto=!1,this.mostrarCombo=!0,this.constanteCombo=[{label:"Porcentaje",value:"P"},{label:"Monto",value:"N"}]):e.ID_CONSTANTE===q["default"].CONSTANTES_SISTEMA.P_TIPBECA?(this.mostrarTexto=!1,this.mostrarCombo=!0,this.constanteCombo=[{label:"Porcentual ",value:"P"},{label:"Monto",value:"M"},{label:"Descuento Monto",value:"D"},{label:"Descuento Porcentaje",value:"J"}]):e.ID_CONSTANTE===q["default"].CONSTANTES_SISTEMA.P_TIPO_CALENDARIO?(this.mostrarTexto=!1,this.mostrarCombo=!0,this.constanteCombo=[{label:"ANUAL",value:"ANUAL"},{label:"SEMESTRAL",value:"SEMESTRAL"}]):e.ID_CONSTANTE===q["default"].CONSTANTES_SISTEMA.P_RUBRO?(this.mostrarTexto=!1,this.mostrarCombo=!0,this.constanteCombo=[{label:"COLEGIO",value:"COLEGIO"},{label:"COMERCIO",value:"COMERCIO"},{label:"INSTITUTO",value:"INSTITUTO"},{label:"CAFETERIA",value:"CAFETERIA"},{label:"COCHERA",value:"COCHERA"},{label:"CLUB",value:"CLUB"},{label:"LIBRERIA",value:"LIBRERIA"},{label:"OTROS",value:"OTROS"}]):e.ID_CONSTANTE===q["default"].CONSTANTES_SISTEMA.P_GENERAR_DEUDA||this.form.VALOR_TEXTO?(this.mostrarTexto=!0,this.mostrarCombo=!1,this.constanteCombo=[]):e.ID_CONSTANTE===q["default"].CONSTANTES_SISTEMA.P_DESCUENTO_TIPO_ACUMULA?(this.mostrarEntero=!1,this.mostrarCombo=!0,this.constanteCombo=q["default"].DESCUENTO_TIPO_ACUMULA):(this.mostrarTexto=!1,this.mostrarCombo=!1,this.constanteCombo=[])},save:function(){var e=this;this.$confirm("¿Estás seguro de actualizar el valor de esta constante?","info").onOk(k()(D()().m(function t(){return D()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,X.$http.put("api/ConstanteSistemaController/putConstanteValor",{datos:{ID_CONSTANTE:e.form.ID_CONSTANTE,ID_TIPO_DATO:e.selectTipo,VALOR_BOOLEANO:e.form.VALOR_BOOLEANO,VALOR_NUMERICO:e.form.VALOR_NUMERICO,VALOR_TEXTO:e.mostrarCombo?e.form.VALOR_COMBO:e.form.VALOR_TEXTO,VALOR_FECHA:e.form.VALOR_FECHA,ID_TIPO_OBJETO:e.form.ID_TIPO_OBJETO,VALOR_ENTERO:e.mostrarCombo?Number(e.form.VALOR_COMBO):e.form.VALOR_ENTERO}}).then(function(t){e.getConstanteSistema(),e.openModal=!1,e.$alert(t.message,"success")}).catch(function(t){var o=t.error;e.$alert(o.message,"warning")});case 1:return t.a(2)}},t)})))}},beforeMount:function(){var e=this;return k()(D()().m(function t(){var o;return D()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,X.$http.get("api/TesoreriaServiciosController/getVerificarUserAdmin");case 1:o=t.v,o||e.$router.push({name:"tesoreria.home"});case 2:return t.a(2)}},t)}))()},created:function(){this.init()}},H=o(12807);const Y=(0,H.A)($,[["render",L]]);var J=Y}}]);