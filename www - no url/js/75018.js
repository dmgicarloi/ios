"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[75018],{75018:function(e,a,n){n.r(a),n.d(a,{default:function(){return C}});var r=n(61758),t={key:0,class:"col column"},s={key:1,class:"row col justify-center items-center"},l={class:"col-xs-12 col-md-5"},o={key:0,class:"row q-pa-sm"},i={class:"col-xs-12"},u={class:"row q-pa-md justify-center"};function c(e,a){var n=(0,r.g2)("sie-estudiantes"),c=(0,r.g2)("q-iframe"),d=(0,r.g2)("q-btn"),f=(0,r.g2)("q-card"),m=(0,r.g2)("q-page");return(0,r.uX)(),(0,r.Wv)(m,null,{default:(0,r.k6)(function(){return[e.isIframe?((0,r.uX)(),(0,r.CE)("div",t,[(0,r.bF)(n,{onSelected:e.selectEstudiante,modelValue:e.alucod,"onUpdate:modelValue":a[0]||(a[0]=function(a){return e.alucod=a})},null,8,["onSelected","modelValue"]),(0,r.bF)(c,{class:"col",src:e.srcIframe},null,8,["src"])])):e.isLoginExternal?((0,r.uX)(),(0,r.CE)("div",s,[(0,r.Lk)("div",l,[(0,r.bF)(f,{class:"q-px-md q-py-lg"},{default:(0,r.k6)(function(){return[e.showSieEstudiante?((0,r.uX)(),(0,r.CE)("div",o,[(0,r.Lk)("div",i,[(0,r.bF)(n,{onSelected:e.selectEstudiante,modelValue:e.alucod,"onUpdate:modelValue":a[1]||(a[1]=function(a){return e.alucod=a})},null,8,["onSelected","modelValue"])])])):(0,r.Q3)("v-if",!0),(0,r.Lk)("div",u,[(0,r.bF)(d,{label:e.$t("usuario.loguear"),icon:"external_link",color:"primary",loading:e.loading,disable:e.loading,onClick:a[2]||(a[2]=function(a){return e.submitForm(!1)})},null,8,["label","loading","disable"])])]}),_:1})])])):(0,r.Q3)("v-if",!0)]}),_:1})}var d=n(76080),f=n.n(d),m=n(45254),b=n.n(m),g=(n(12563),n(39866),n(83190),n(27153),n(80660)),k={getInfoWebExternal:function(e){return g.$http.get("api/HyoSistemaExterno/estadocuenta",{params:{alucod:e}}).then(function(e){var a=e.json;return a}).catch(function(e){return Promise.reject(new Error(e.error.message))})}},h=n(92173),p=n(6123),v=n(57668),E=n(56089),w=n(80340),F=n(2819),I=n(95655),x=n(982),S={components:{sieEstudiantes:h.Ay,QSelect:p.Si,QPageSticky:p._U,QBtn:p.Il,QIframe:E.A,sieVacio:w.A,QPage:p.Tu,QCard:p.C$},data:function(){return{alucod:"",loading:!1,srcIframe:"about:_blank",isIframe:["0388"].includes((0,v["default"])().colcod),isLoginExternal:["0084"].includes((0,v["default"])().colcod),showSieEstudiante:!1,esFamilia:(0,v["default"])().esFamilia,esOtros:(0,v["default"])().esOtros}},methods:{showIframe:function(){var e=this;return b()(f()().m(function a(){var n,r;return f()().w(function(a){while(1)switch(a.p=a.n){case 0:return e.srcIframe="about:_blank",a.p=1,a.n=2,k.getInfoWebExternal(e.alucod);case 2:if(n=a.v,!n.isIframe){a.n=3;break}e.srcIframe=n.url,a.n=4;break;case 3:throw new Error("No Habilitado");case 4:a.n=6;break;case 5:a.p=5,r=a.v,(0,x["default"])(r.message,"error");case 6:return a.a(2)}},a,null,[[1,5]])}))()},submitForm:function(e){var a=this;return b()(f()().m(function n(){var r,t;return f()().w(function(n){while(1)switch(n.p=n.n){case 0:if(a.loading=!0,n.p=1,!e){n.n=4;break}return n.n=2,k.getInfoWebExternal(null);case 2:if(r=n.v,!r.mulipleResponsablePago){n.n=3;break}return a.showSieEstudiante=!0,a.loading=!1,(0,x["default"])("Por favor elegir un estudiante","info"),n.a(2);case 3:n.n=6;break;case 4:return n.n=5,k.getInfoWebExternal(a.alucod);case 5:r=n.v;case 6:if(!r.isForm){n.n=7;break}(0,F.submitFormWebExternal)(r.url,r.paramsForm),n.n=9;break;case 7:if(!r.isLink){n.n=8;break}(0,I.openUrlFormData)(r.url,r.paramsForm),n.n=9;break;case 8:throw new Error("No Habilitado");case 9:n.n=11;break;case 10:n.p=10,t=n.v,(0,x["default"])(t.message,"error");case 11:a.loading=!1;case 12:return n.a(2)}},n,null,[[1,10]])}))()},selectEstudiante:function(){this.isIframe&&this.showIframe()}},created:function(){this.isLoginExternal&&(this.esFamilia?this.submitForm(!0):this.showSieEstudiante=this.esOtros)}},y=n(12807);const q=(0,y.A)(S,[["render",c]]);var C=q}}]);