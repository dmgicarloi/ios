"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[58399],{58399:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var a=t(61758),o=t(58790),r={class:"row gutter-sm"},c={class:"col-xs-12 col-sm-6"},l={class:"row gutter-sm"},s={class:"col-xs-12 col-sm-6"},u={class:"col-xs-12 col-sm-6"},i={class:"row q-pt-md gutter-sm"},d={class:"col-xs-12 column items-center"},m={class:"row gutter-sm q-pt-sm"},g={class:"col-xs-12"};function f(e,n){var t=(0,a.g2)("q-input"),f=(0,a.g2)("q-datetime"),p=(0,a.g2)("q-btn"),v=(0,a.g2)("q-card-main"),h=(0,a.g2)("q-card"),k=(0,a.g2)("q-page");return(0,a.uX)(),(0,a.Wv)(k,{class:"q-pa-sm"},{default:(0,a.k6)(function(){return[(0,a.bF)(h,null,{default:(0,a.k6)(function(){return[(0,a.bF)(v,null,{default:(0,a.k6)(function(){return[(0,a.Lk)("div",r,[(0,a.Lk)("div",c,[(0,a.bF)(t,{"float-label":"TÃ­tulo",modelValue:e.summary,"onUpdate:modelValue":n[0]||(n[0]=function(n){return e.summary=n})},null,8,["modelValue"])])]),(0,a.Lk)("div",l,[(0,a.Lk)("div",s,[(0,a.bF)(f,{modelValue:e.start,"onUpdate:modelValue":n[1]||(n[1]=function(n){return e.start=n}),type:"date",format:"DD/MM/YYYY",modal:!0},null,8,["modelValue"])]),(0,a.Lk)("div",u,[(0,a.bF)(f,{modelValue:e.end,"onUpdate:modelValue":n[2]||(n[2]=function(n){return e.end=n}),type:"date",format:"DD/MM/YYYY",modal:!0},null,8,["modelValue"])])]),(0,a.Lk)("div",i,[(0,a.Lk)("div",d,[(0,a.bF)(p,{color:"primary",label:"Generar conferencia",size:"md",onClick:e.generarConferencia},null,8,["onClick"])])]),(0,a.Lk)("div",m,[(0,a.Lk)("div",g,[(0,a.Lk)("span",null,(0,o.v_)(e.conference),1)])])]}),_:1})]}),_:1})]}),_:1})}t(30683),t(76921),t(13600),t(52776),t(37406),t(44264),t(81813),t(53113);var p=t(80660),v=t(6123),h=function(e,n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+n+"=([^&#]*)"),a=t.exec(e.location.search);return null===a?"":decodeURIComponent(a[1].replace(/\+/g," "))},k={components:{QCard:v.C$,QCardMain:v.d1,QInput:v.ie,QDatetime:v.T5,QPage:v.Tu,QBtn:v.Il},data:function(){return{summary:"",start:new Date("2020-05-02").toISOString(),end:new Date("2020-05-03").toISOString(),conference:""}},methods:{generarEvento:function(e){return p.$http.post("https://www.googleapis.com/calendar/v3/calendars/primary/events?conferenceDataVersion=1",{summary:this.summary,end:{dateTime:this.end},start:{dateTime:this.start},conferenceData:{createRequest:{requestId:"sieweb"}}},{headers:{Authorization:"".concat(e.token_type," ").concat(e.access_token)}})},guardarCodigo:function(e){return p.$http.post("api/HyoCalendar/guardarCodigo",{codigo:e})},generarConferencia:function(){var e=this;p.$http.get("api/HyoCalendar/obtToken").then(function(n){var t=n.json;if(console.log("json",t),"string"===typeof t)var a=window.open(t,"_blank","height=500;width=500"),o=setInterval(function(){try{var n=h(a,"code");n&&(console.log("code",n),clearInterval(o),e.guardarCodigo(n).then(function(n){var t=n.json;console.log("guardarCodigo",t);var a=t;return e.generarEvento(a)}).then(function(n){console.log("Datos conferencia generada",n),e.conference=n.hangoutLink,a.close()}))}catch(e){}},1e3);else{var r=t;e.generarEvento(r).then(function(n){console.log("Datos conferencia generada",n),e.conference=n.hangoutLink})}})}}},w=t(12807);const C=(0,w.A)(k,[["render",f]]);var b=C}}]);