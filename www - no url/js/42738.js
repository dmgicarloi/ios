"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[42738],{42738:function(e,t,o){o.r(t),o.d(t,{default:function(){return z}});o(12982),o(3110),o(71225),o(50310),o(5962),o(83190);var n=o(61758),l=o(58790),r={class:"row"},i={class:"col-xs-12 col-md-6 q-pl-sm q-pr-md-xs q-pr-xs-sm q-py-md"},a={class:"col-xs-12 col-md-6 q-pl-md-xs q-pl-xs-sm q-pr-sm q-py-md"},u={class:"col"},d={class:"text-bold q-body-1"},c={key:0},s={class:"row"},m={class:"col-xs-12 col-md-6 q-pl-sm q-pr-md-xs q-pr-xs-sm q-py-md"},f={class:"col"},p={class:"text-bold q-body-1"},b={key:0},D={class:"row q-pa-sm"},v={key:0,class:"col-12"},I={class:"col-12"},O={class:"col-12"};function N(e,t){var o=(0,n.g2)("q-tooltip"),N=(0,n.g2)("q-btn"),C=(0,n.g2)("q-card"),h=(0,n.g2)("q-search"),g=(0,n.g2)("sie-select"),E=(0,n.g2)("q-popup-edit"),k=(0,n.g2)("q-td"),S=(0,n.g2)("q-input"),w=(0,n.g2)("q-field"),R=(0,n.g2)("q-toggle"),V=(0,n.g2)("q-icon"),_=(0,n.g2)("q-table"),F=(0,n.g2)("sie-modal"),P=(0,n.g2)("q-page");return(0,n.uX)(),(0,n.Wv)(P,{class:"bg-white plantilla-comentario"},{default:(0,n.k6)(function(){return[(0,n.Lk)("div",r,[(0,n.Lk)("div",i,[(0,n.bF)(C,{class:"row full width items items-center q-px-sm q-py-xs",style:{"min-height":"52px"}},{default:(0,n.k6)(function(){return[t[16]||(t[16]=(0,n.Lk)("div",{class:"col"},[(0,n.Lk)("span",{class:"text-bold q-body-1"},"Categorias")],-1)),(0,n.Lk)("div",null,[(0,n.bF)(N,{onClick:t[0]||(t[0]=function(t){return e.add(null,null,0)}),round:"",color:"secondary",icon:"plus"},{default:(0,n.k6)(function(){return[(0,n.bF)(o,{anchor:"top middle",self:"bottom middle"},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(e.$t("botones.agregar")),1)]}),_:1})]}),_:1}),(0,n.bF)(N,{class:"q-ml-xs",onClick:t[1]||(t[1]=function(t){return e.eliminar(e.cat.selected,1,0)}),round:"",color:"secondary",icon:"delete"},{default:(0,n.k6)(function(){return[(0,n.bF)(o,{anchor:"top middle",self:"bottom middle"},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(e.$t("botones.eliminar")),1)]}),_:1})]}),_:1})])]}),_:1}),(0,n.bF)(_,{data:e.cat.data,columns:e.cat.columns,selection:e.cat.selection,pagination:e.cat.pagination,selected:e.cat.selected,"onUpdate:selected":t[3]||(t[3]=function(t){return e.cat.selected=t}),"row-key":"ID",color:"secondary","visible-columns":["ID","INSTRUCOD","DESCRIPCION","ESTADO","ORDEN","LOAD"],filter:e.cat.filter},{"top-left":(0,n.k6)(function(o){return[(0,n.bF)(h,{class:"q-if-outlined","hide-underline":"",modelValue:e.cat.filter,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.cat.filter=t})},null,8,["modelValue"])]}),"body-cell-INSTRUCOD":(0,n.k6)(function(t){return[(0,n.bF)(k,{props:t},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(t.row.INSTRUCOD),1),(0,n.bF)(E,{modelValue:t.row.INSTRUCOD,"onUpdate:modelValue":function(e){return t.row.INSTRUCOD=e}},{default:(0,n.k6)(function(){return[(0,n.bF)(g,{type:"outlined",modelValue:t.row.INSTRUCOD,"onUpdate:modelValue":function(e){return t.row.INSTRUCOD=e},options:e.niveles,label:"INSTRUDES",val:"INSTRUCOD",onInput:function(o){return e.actualizar("INSTRUCOD",t.row.INSTRUCOD,t.row.ID)}},null,8,["modelValue","onUpdate:modelValue","options","onInput"])]}),_:2},1032,["modelValue","onUpdate:modelValue"])]}),_:2},1032,["props"])]}),"body-cell-DESCRIPCION":(0,n.k6)(function(t){return[(0,n.bF)(k,{props:t},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(t.row.DESCRIPCION),1),(0,n.bF)(E,{modelValue:t.row.DESCRIPCION,"onUpdate:modelValue":function(e){return t.row.DESCRIPCION=e},onSave:function(o){return e.actualizar("DESCRIPCION",t.row.DESCRIPCION,t.row.ID)}},{default:(0,n.k6)(function(){return[(0,n.bF)(w,{count:200},{default:(0,n.k6)(function(){return[(0,n.bF)(S,{class:"q-if-outlined",type:"textarea",modelValue:t.row.DESCRIPCION,"onUpdate:modelValue":function(e){return t.row.DESCRIPCION=e}},null,8,["modelValue","onUpdate:modelValue"])]}),_:2},1024)]}),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])]}),_:2},1032,["props"])]}),"body-cell-ESTADO":(0,n.k6)(function(t){return[(0,n.bF)(k,{props:t},{default:(0,n.k6)(function(){return[(0,n.bF)(R,{modelValue:t.row.ESTADO,"onUpdate:modelValue":function(e){return t.row.ESTADO=e},color:"secondary","true-value":1,"false-value":0,onInput:function(o){return e.actualizar("ESTADO",t.row.ESTADO,t.row.ID)}},null,8,["modelValue","onUpdate:modelValue","onInput"])]}),_:2},1032,["props"])]}),"body-cell-ORDEN":(0,n.k6)(function(t){return[(0,n.bF)(k,{props:t},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(t.row.ORDEN),1),(0,n.bF)(E,{modelValue:t.row.ORDEN,"onUpdate:modelValue":function(e){return t.row.ORDEN=e},onSave:function(o){return e.actualizar("ORDEN",t.row.ORDEN,t.row.ID)}},{default:(0,n.k6)(function(){return[(0,n.bF)(S,{class:"q-if-outlined",type:"number",modelValue:t.row.ORDEN,"onUpdate:modelValue":function(e){return t.row.ORDEN=e}},null,8,["modelValue","onUpdate:modelValue"])]}),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])]}),_:2},1032,["props"])]}),"body-cell-LOAD":(0,n.k6)(function(t){return[(0,n.bF)(k,{props:t},{default:(0,n.k6)(function(){return[(0,n.bF)(V,{class:"cursor-pointer",name:"comment",size:"20px",color:"primary",onClick:function(o){return e.getLista(t.row.ID,t.row.INSTRUCOD,t.row.DESCRIPCION)}},null,8,["onClick"])]}),_:2},1032,["props"])]}),_:1},8,["data","columns","selection","pagination","selected","filter"])]),(0,n.Lk)("div",a,[(0,n.bF)(C,{class:"row full width items items-center q-px-sm q-py-xs",style:{"min-height":"52px"}},{default:(0,n.k6)(function(){return[(0,n.Lk)("div",u,[(0,n.Lk)("span",d,(0,l.v_)(e.description),1)]),e.idNivel1?((0,n.uX)(),(0,n.CE)("div",c,[(0,n.bF)(N,{onClick:t[4]||(t[4]=function(t){return e.add(e.idNivel1,e.form.instrucod,1)}),round:"",color:"secondary",icon:"plus"},{default:(0,n.k6)(function(){return[(0,n.bF)(o,{anchor:"top middle",self:"bottom middle"},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(e.$t("botones.agregar")),1)]}),_:1})]}),_:1}),(0,n.bF)(N,{class:"q-ml-xs",onClick:t[5]||(t[5]=function(t){return e.eliminar(e.comment.selected,null,1)}),round:"",color:"secondary",icon:"delete"},{default:(0,n.k6)(function(){return[(0,n.bF)(o,{anchor:"top middle",self:"bottom middle"},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(e.$t("botones.eliminar")),1)]}),_:1})]}),_:1})])):(0,n.Q3)("v-if",!0)]}),_:1}),(0,n.bF)(_,{data:e.comment.data,columns:e.comment.columns,selection:e.comment.selection,pagination:e.comment.pagination,selected:e.comment.selected,"onUpdate:selected":t[7]||(t[7]=function(t){return e.comment.selected=t}),"row-key":"ID",color:"secondary","visible-columns":["ID","ID_PADRE","DESCRIPCION","ESTADO","ORDEN","LOAD"],filter:e.comment.filter},{"top-left":(0,n.k6)(function(o){return[(0,n.bF)(h,{class:"q-if-outlined","hide-underline":"",modelValue:e.comment.filter,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.comment.filter=t})},null,8,["modelValue"])]}),"body-cell-DESCRIPCION":(0,n.k6)(function(t){return[(0,n.bF)(k,{props:t},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(t.row.DESCRIPCION),1),(0,n.bF)(E,{modelValue:t.row.DESCRIPCION,"onUpdate:modelValue":function(e){return t.row.DESCRIPCION=e},onSave:function(o){return e.actualizar("DESCRIPCION",t.row.DESCRIPCION,t.row.ID)}},{default:(0,n.k6)(function(){return[(0,n.bF)(w,{count:200},{default:(0,n.k6)(function(){return[(0,n.bF)(S,{class:"q-if-outlined",type:"textarea",modelValue:t.row.DESCRIPCION,"onUpdate:modelValue":function(e){return t.row.DESCRIPCION=e}},null,8,["modelValue","onUpdate:modelValue"])]}),_:2},1024)]}),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])]}),_:2},1032,["props"])]}),"body-cell-ESTADO":(0,n.k6)(function(t){return[(0,n.bF)(k,{props:t},{default:(0,n.k6)(function(){return[(0,n.bF)(R,{modelValue:t.row.ESTADO,"onUpdate:modelValue":function(e){return t.row.ESTADO=e},color:"secondary","true-value":1,"false-value":0,onInput:function(o){return e.actualizar("ESTADO",t.row.ESTADO,t.row.ID)}},null,8,["modelValue","onUpdate:modelValue","onInput"])]}),_:2},1032,["props"])]}),"body-cell-ORDEN":(0,n.k6)(function(t){return[(0,n.bF)(k,{props:t},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(t.row.ORDEN),1),(0,n.bF)(E,{modelValue:t.row.ORDEN,"onUpdate:modelValue":function(e){return t.row.ORDEN=e},onSave:function(o){return e.actualizar("ORDEN",t.row.ORDEN,t.row.ID)}},{default:(0,n.k6)(function(){return[(0,n.bF)(S,{class:"q-if-outlined",type:"number",modelValue:t.row.ORDEN,"onUpdate:modelValue":function(e){return t.row.ORDEN=e}},null,8,["modelValue","onUpdate:modelValue"])]}),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])]}),_:2},1032,["props"])]}),"body-cell-LOAD":(0,n.k6)(function(t){return[(0,n.bF)(k,{props:t},{default:(0,n.k6)(function(){return[(0,n.bF)(V,{class:"cursor-pointer",name:"comment",size:"20px",color:"primary",onClick:function(o){return e.getListaDos(t.row.ID,t.row.INSTRUCOD,t.row.DESCRIPCION)}},null,8,["onClick"])]}),_:2},1032,["props"])]}),_:1},8,["data","columns","selection","pagination","selected","filter"])])]),(0,n.Lk)("div",s,[(0,n.Lk)("div",m,[(0,n.bF)(C,{class:"row full width items items-center q-px-sm q-py-xs",style:{"min-height":"52px"}},{default:(0,n.k6)(function(){return[(0,n.Lk)("div",f,[(0,n.Lk)("span",p,(0,l.v_)(e.descriptiondos),1)]),e.idNivel2?((0,n.uX)(),(0,n.CE)("div",b,[(0,n.bF)(N,{onClick:t[8]||(t[8]=function(t){return e.add(e.idNivel2,e.form.instrucod,2)}),round:"",color:"secondary",icon:"plus"},{default:(0,n.k6)(function(){return[(0,n.bF)(o,{anchor:"top middle",self:"bottom middle"},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(e.$t("botones.agregar")),1)]}),_:1})]}),_:1}),(0,n.bF)(N,{class:"q-ml-xs",onClick:t[9]||(t[9]=function(t){return e.eliminar(e.commentdos.selected,null,2)}),round:"",color:"secondary",icon:"delete"},{default:(0,n.k6)(function(){return[(0,n.bF)(o,{anchor:"top middle",self:"bottom middle"},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(e.$t("botones.eliminar")),1)]}),_:1})]}),_:1})])):(0,n.Q3)("v-if",!0)]}),_:1}),(0,n.bF)(_,{data:e.commentdos.data,columns:e.commentdos.columns,selection:e.commentdos.selection,pagination:e.commentdos.pagination,selected:e.commentdos.selected,"onUpdate:selected":t[11]||(t[11]=function(t){return e.commentdos.selected=t}),"row-key":"ID",color:"secondary","visible-columns":["ID_PADRE","DESCRIPCION","ESTADO","ORDEN"],filter:e.commentdos.filter},{"top-left":(0,n.k6)(function(o){return[(0,n.bF)(h,{class:"q-if-outlined","hide-underline":"",modelValue:e.commentdos.filter,"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.commentdos.filter=t})},null,8,["modelValue"])]}),"body-cell-DESCRIPCION":(0,n.k6)(function(t){return[(0,n.bF)(k,{props:t},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(t.row.DESCRIPCION),1),(0,n.bF)(E,{modelValue:t.row.DESCRIPCION,"onUpdate:modelValue":function(e){return t.row.DESCRIPCION=e},onSave:function(o){return e.actualizar("DESCRIPCION",t.row.DESCRIPCION,t.row.ID)}},{default:(0,n.k6)(function(){return[(0,n.bF)(w,{count:200},{default:(0,n.k6)(function(){return[(0,n.bF)(S,{class:"q-if-outlined",type:"textarea",modelValue:t.row.DESCRIPCION,"onUpdate:modelValue":function(e){return t.row.DESCRIPCION=e}},null,8,["modelValue","onUpdate:modelValue"])]}),_:2},1024)]}),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])]}),_:2},1032,["props"])]}),"body-cell-ESTADO":(0,n.k6)(function(t){return[(0,n.bF)(k,{props:t},{default:(0,n.k6)(function(){return[(0,n.bF)(R,{modelValue:t.row.ESTADO,"onUpdate:modelValue":function(e){return t.row.ESTADO=e},color:"secondary","true-value":1,"false-value":0,onInput:function(o){return e.actualizar("ESTADO",t.row.ESTADO,t.row.ID)}},null,8,["modelValue","onUpdate:modelValue","onInput"])]}),_:2},1032,["props"])]}),"body-cell-ORDEN":(0,n.k6)(function(t){return[(0,n.bF)(k,{props:t},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(t.row.ORDEN),1),(0,n.bF)(E,{modelValue:t.row.ORDEN,"onUpdate:modelValue":function(e){return t.row.ORDEN=e},onSave:function(o){return e.actualizar("ORDEN",t.row.ORDEN,t.row.ID)}},{default:(0,n.k6)(function(){return[(0,n.bF)(S,{class:"q-if-outlined",type:"number",modelValue:t.row.ORDEN,"onUpdate:modelValue":function(e){return t.row.ORDEN=e}},null,8,["modelValue","onUpdate:modelValue"])]}),_:2},1032,["modelValue","onUpdate:modelValue","onSave"])]}),_:2},1032,["props"])]}),"body-cell-LOAD":(0,n.k6)(function(e){return[(0,n.bF)(k,{props:e},{default:(0,n.k6)(function(){return[(0,n.bF)(V,{class:"cursor-pointer",name:"comment",size:"20px",color:"primary"})]}),_:1},8,["props"])]}),_:1},8,["data","columns","selection","pagination","selected","filter"])])]),(0,n.bF)(F,{class:"plantilla-comentario-modal",modelValue:e.modal,"onUpdate:modelValue":t[15]||(t[15]=function(t){return e.modal=t}),title:e.tituloPlantillaNiv,ok:e.$t("botones.guardar"),footer:!0,onSubmit:e.grabar},{default:(0,n.k6)(function(){return[(0,n.Lk)("div",D,[e.nivel<=0?((0,n.uX)(),(0,n.CE)("div",v,[(0,n.bF)(w,{error:e.v$.form.instrucod.$error,"error-label":e.errorLabel(e.v$.form.instrucod)},{default:(0,n.k6)(function(){return[(0,n.bF)(g,{type:"outlined",modelValue:e.v$.form.instrucod.$model,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.v$.form.instrucod.$model=t}),options:e.niveles,label:"INSTRUDES",val:"INSTRUCOD",placeholder:"ngs.nivel"},null,8,["modelValue","options"])]}),_:1},8,["error","error-label"])])):(0,n.Q3)("v-if",!0),(0,n.Lk)("div",I,[(0,n.bF)(w,{error:e.v$.form.descripcion.$anyError,"error-label":e.errorLabel(e.v$.form.instrucod),count:500},{default:(0,n.k6)(function(){return[(0,n.bF)(S,{class:"q-if-outlined",type:"textarea",rows:5,modelValue:e.v$.form.descripcion.$model,"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.v$.form.descripcion.$model=t}),"float-label":e.$t("matricula.descripcion")},null,8,["modelValue","float-label"])]}),_:1},8,["error","error-label"])]),(0,n.Lk)("div",O,[(0,n.bF)(w,{error:e.v$.form.orden.$error,"error-label":e.errorLabel(e.v$.form.orden)},{default:(0,n.k6)(function(){return[(0,n.bF)(S,{class:"q-if-outlined",type:"number",modelValue:e.v$.form.orden.$model,"onUpdate:modelValue":t[14]||(t[14]=function(t){return e.v$.form.orden.$model=t}),"float-label":e.$t("orden")},null,8,["modelValue","float-label"])]}),_:1},8,["error","error-label"])])])]}),_:1},8,["modelValue","title","ok","onSubmit"])]}),_:1})}var C=o(83972),h=o(6123),g=o(93616),E=o(30640),k=o(6583),S=o(82640),w=o(66469),R=o(982),V=o(13813),_=o(69027),F=o(87911),P=o(80660),y={default:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return{id_padre:e,instrucod:t,tipo:"N",descripcion:null,estado:1,orden:null,tipo_registro:o}},getLista:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return P.$http.get("api/HyoPlantillaComentario/getLista",{params:{idpadre:e,estado:null,tipo_registro:2}})},grabar:function(e){return P.$http.post("api/HyoPlantillaComentario/insertar",e)},actualizar:function(e,t){return P.$http.post("api/HyoPlantillaComentario/actualizar",{data:e,id:t})},eliminar:function(e){return P.$http.delete("api/HyoPlantillaComentario/eliminar",{params:{ids:e}})}},U={data:[],columns:[{name:"ID",label:"ID",field:"ID",align:"center",sortable:!0},{name:"INSTRUCOD",label:"Nivel",field:"INSTRUCOD",align:"center",sortable:!0},{name:"TIPO",label:"Tipo",field:"TIPO",align:"center",sortable:!1},{name:"DESCRIPCION",label:"Descripción",field:"DESCRIPCION",align:"left",sortable:!1},{name:"ESTADO",label:"Estado",field:"ESTADO",align:"center",sortable:!1},{name:"ORDEN",label:"Orden",field:"ORDEN",align:"center",sortable:!0},{name:"LOAD",label:"",field:"LOAD",align:"center"}],pagination:{page:1,rowsPerPage:200},filter:"",selection:"multiple",selected:[]},q={data:[],columns:[{name:"ID",label:"ID",field:"ID"},{name:"ID_PADRE",label:"Padre",field:"ID_PADRE",align:"center",sortable:!1},{name:"DESCRIPCION",label:"Descripción",field:"DESCRIPCION",align:"left",sortable:!1},{name:"ESTADO",label:"Estado",field:"ESTADO",align:"center",sortable:!1},{name:"ORDEN",label:"Orden",field:"ORDEN",align:"center",sortable:!0},{name:"LOAD",label:"",field:"LOAD",align:"center"}],pagination:{page:1,rowsPerPage:200},filter:"",selection:"multiple",selected:[]},T={data:[],columns:[{name:"ID",label:"ID",field:"ID"},{name:"ID_PADRE",label:"Padre",field:"ID_PADRE",align:"center",sortable:!1},{name:"DESCRIPCION",label:"Descripción",field:"DESCRIPCION",align:"left",sortable:!1},{name:"ESTADO",label:"Estado",field:"ESTADO",align:"center",sortable:!1},{name:"ORDEN",label:"Orden",field:"ORDEN",align:"center",sortable:!0},{name:"LOAD",label:"",field:"LOAD",align:"center"}],pagination:{page:1,rowsPerPage:200},filter:"",selection:"multiple",selected:[]},L={data:function(){return{cat:U,comment:q,commentdos:T}}},$={setup:function(){var e=(0,C.fG)();return{v$:e}},components:{QTable:h.kH,QTh:h.EJ,QTr:h.qh,QTd:h.Ef,QToggle:h.c5,QPopupEdit:h.GT,sieSelect:g.A,sieModal:E.A,QPage:h.Tu,QCard:h.C$,QBtn:h.Il,QTooltip:h.nC,QSearch:h.Ks,QField:h.Om,QInput:h.ie,QIcon:h.bP},mixins:[L],data:function(){return{modal:!1,niveles:[],nivel:0,idNivel1:null,idNivel2:null,instrucod:null,desNiv1Def:"Comentarios (Nivel 1)",desNiv2Def:"Comentarios (Nivel 2)",description:"",descriptiondos:"",tituloPlantillaNiv:"",form:y["default"]()}},computed:{},methods:{getLista:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Comentarios";this.commentdos.data=[],this.descriptiondos="Comentarios (Nivel 2)",this.instrucod=o,y.getLista(t).then(function(o){t?(e.idNivel1=t,e.comment.data=(0,k["default"])(o),e.description=n,e.comment.selected=[],e.idNivel2=null):(e.cat.data=(0,k["default"])(o),e.form=y["default"](),e.idNivel1=null)})},getListaDos:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Comentarios";y.getLista(t).then(function(l){e.idNivel2=t,e.commentdos.data=(0,k["default"])(l),e.instrucod=o,e.descriptiondos=n,e.commentdos.selected=[]})},add:function(e,t,o){var n="";switch(this.form.descripcion=null,this.form.orden=null,o){case 1:this.tituloPlantillaNiv="Plantilla comentario: "+this.description,n=this.idNivel1,this.limpiarDescrip();break;case 2:if(null===this.idNivel2)return(0,R["default"])("Seleccionar un registro del nivel anterior.","warning"),!1;this.limpiarDescrip(),this.tituloPlantillaNiv="Plantilla comentario: "+this.descriptiondos,n=this.idNivel2;break}this.modal=!0,this.nivel=o,this.v$.form.$reset(),e||t||(this.form=y["default"](n,t),this.limpiarDatosSubNivs())},grabar:function(){var e=this;switch(this.nivel){case 1:this.form.id_padre=this.idNivel1,this.form.instrucod=this.instrucod;break;case 2:this.form.id_padre=this.idNivel2,this.form.instrucod=this.instrucod;break;default:this.form.id_padre=null;break}this.v$.form.$touch(),this.v$.form.$error||y.grabar(this.form).then(function(t){e.v$.form.$reset(),e.form.id_padre&&e.form.instrucod&&e.description?2===e.nivel?e.getListaDos(e.form.id_padre,e.form.instrucod,e.descriptiondos):e.getLista(e.form.id_padre,e.form.instrucod,e.description):e.getLista(),e.limpiarDescrip(),(0,R["default"])("Se grabó correctamente","success")}).catch(function(){(0,R["default"])("No se pudo grabar","warning")})},actualizar:function(e,t,o){var n={};n[e]=t,y.actualizar(n,o).then(function(e){(0,R["default"])("Se actualizó correctamente","success")}).catch(function(){(0,R["default"])("No se pudo actualizar","warning")})},eliminar:function(e,t,o){var n=this,l=(0,V["default"])(e,function(e){return e.ID});(0,_.confirmar)(this.$t("mensajes.m0006.confirmacion"),function(){return y.eliminar(l)}).then(function(e){if(e)switch((0,R["default"])("Se eliminó correctamente","success"),o){case 1:n.getLista(n.idNivel1,n.form.instrucod,n.description);break;case 2:n.getListaDos(n.idNivel2,n.form.instrucod,n.description);break;default:n.getLista(),n.limpiarDatosSubNivs(),n.form=y["default"]();break}}).catch(function(e){(0,R["default"])("No se pudo eliminar","warning")})},errorLabel:function(e){return this.$t((0,w["default"])(e))},maxLength:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t);else if(this.form.descripcion&&this.form.descripcion>500)return this.form.descripcion=this.form.descripcion.substr(0,500),!1},obtInstru:function(){var e=this;F.A.obtInstru().then(function(t){var o=t.json;e.niveles=o})},limpiarDatosSubNivs:function(){this.description=this.desNiv1Def,this.descriptiondos=this.desNiv2Def,this.comment.data=[],this.commentdos.data=[]},limpiarDescrip:function(){this.form.descripcion=null,this.form.orden=null}},validations:{form:{instrucod:{required:S.mw},tipo:{required:S.mw},descripcion:{required:S.mw,maxLength:(0,S.Ru)(500)},estado:{required:S.mw},orden:{required:S.mw}}},created:function(){this.getLista(),this.obtInstru()}},A=o(12807);const x=(0,A.A)($,[["render",N]]);var z=x}}]);