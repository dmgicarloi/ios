"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[31823],{31823:function(e,n,o){o.r(n),o.d(n,{default:function(){return V}});var a=o(8445),t=o.n(a),s=o(61758),i=o(58790),r={class:"col column"},c={key:1,class:"row justify-center q-mb-sm q-py-sm q-px-sm bg-white"},u={key:2,class:"row q-gutter-sm q-pa-sm bg-white"},l={key:0,class:"col"},d={key:1,class:"col"},p={class:"col"},m={class:"col scroll-y"},f={key:0,class:"row q-pa-sm q-gutter-sm"};function C(e,n){var o=(0,s.g2)("q-toolbar-title"),a=(0,s.g2)("q-toolbar"),C=(0,s.g2)("q-select"),O=(0,s.g2)("q-card-section"),v=(0,s.g2)("q-card"),g=(0,s.g2)("sie-vacio");return(0,s.uX)(),(0,s.CE)("div",r,[e.isGreater?(0,s.Q3)("v-if",!0):((0,s.uX)(),(0,s.Wv)(a,{key:0,class:"q-toolbar-menu fixed-top",color:"primary",style:{width:"100%",left:"49.59px"}},{default:(0,s.k6)(function(){return[(0,s.bF)(o,{style:{padding:0}},{default:(0,s.k6)(function(){return t()(n[4]||(n[4]=[(0,s.eW)("Competencias",-1)]))}),_:1})]}),_:1})),e.isGreater?((0,s.uX)(),(0,s.CE)("div",c,t()(n[5]||(n[5]=[(0,s.Lk)("div",{class:"q-subheading"},"Competencias",-1)])))):(0,s.Q3)("v-if",!0),e.anoRecuperacion?((0,s.uX)(),(0,s.CE)("div",u,[e.esFamiliaYEstudiante?((0,s.uX)(),(0,s.CE)("div",l,[(0,s.bF)(C,{modelValue:e.alucod,"onUpdate:modelValue":n[0]||(n[0]=function(n){return e.alucod=n}),options:e.estudiantes,label:"Estudiante","option-value":"ALUCOD","option-label":"NOMCOMP",onInput:e.onEstudiante},null,8,["modelValue","options","onInput"])])):((0,s.uX)(),(0,s.CE)("div",d,[(0,s.bF)(C,{modelValue:e.nemo,"onUpdate:modelValue":n[1]||(n[1]=function(n){return e.nemo=n}),options:e.salones,label:"Aula","option-value":"NEMO","option-label":"NEMODES",onInput:e.onSalon},null,8,["modelValue","options","onInput"])])),(0,s.Lk)("div",p,[(0,s.bF)(C,{modelValue:e.cursocod,"onUpdate:modelValue":n[2]||(n[2]=function(n){return e.cursocod=n}),options:e.cursos,label:"Curso","option-value":"CURSOCOD","option-label":"CURSONOM",onInput:e.onCurso},null,8,["modelValue","options","onInput"])]),(0,s.bF)(C,{modelValue:e.anoRecuperacion,"onUpdate:modelValue":n[3]||(n[3]=function(n){return e.anoRecuperacion=n}),options:e.anios,label:"Año","option-value":"ANO","option-label":"ANO",onInput:e.onAnio},null,8,["modelValue","options","onInput"])])):(0,s.Q3)("v-if",!0),(0,s.Lk)("div",m,[e.competencias.length?((0,s.uX)(),(0,s.CE)("div",f,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.competencias,function(n){return(0,s.uX)(),(0,s.CE)("div",{key:n.COMPETENCIA,class:"col-xs-12 col-sm-4"},[(0,s.bF)(v,{class:"cursor-pointer",onClick:function(o){return e.onCompetencia(n)}},{default:(0,s.k6)(function(){return[(0,s.bF)(O,null,{default:(0,s.k6)(function(){return[(0,s.eW)((0,i.v_)(n.DESCRIPCION),1)]}),_:2},1024)]}),_:2},1032,["onClick"])])}),128))])):((0,s.uX)(),(0,s.Wv)(g,{key:1,title:"No hay información"}))])])}var O=o(76080),v=o.n(O),g=o(45254),k=o.n(g),A=(o(10239),o(6123)),b=o(16648),E=o(88567),h=o(95718),R=o(80340),D=o(57668),w=o(78786),I=o(81288),N=o(69027),y=o(24812),S=o(76014),U={components:{QSelect:b.A,QCard:E.A,QCardSection:h.A,SieVacio:R.A,QToolbar:A.ZV,QToolbarTitle:A.r_},computed:{isGreater:function(){return(0,I.isGreater)("sm")}},data:function(){return{sie:(0,D["default"])(),esFamiliaYEstudiante:-1!==["004","005"].indexOf((0,D["default"])().tipcod),salones:[],estudiantes:[],cursos:[],anios:[],periodos:[],competencias:[],nemo:null,alucod:null,cursocod:null,anoRecuperacion:null,bimecod:null}},methods:{onEstudiante:function(e){var n=this;return k()(v()().m(function o(){var a,t,s,i,r,c,u,l,d;return v()().w(function(o){while(1)switch(o.n){case 0:if(a=(0,w["default"])(n.estudiantes,e,{key:"ALUCOD"}),-1===a){o.n=2;break}return t=n.estudiantes[a],s=t.NEMO,i=t.INSTRUCOD,r=t.GRADOCOD,c=t.TIPCAL,n.nemo=s,o.n=1,S.A.getCursosPeriodos({ano:n.anoRecuperacion,recuperacion:1,nemo:s});case 1:u=o.v,l=u.cursos,d=u.periodos,n.cursos=l,n.periodos=d,n.getCompetencias({instrucod:i,gradocod:r,cursocod:n.cursocod,anio:n.anoRecuperacion,tipcal:c});case 2:return o.a(2)}},o)}))()},onSalon:function(e){var n=this;return k()(v()().m(function o(){var a,t,s,i,r,c,u,l;return v()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,S.A.getCursosPeriodos({ano:n.anoRecuperacion,recuperacion:1,nemo:e});case 1:if(a=o.v,t=a.cursos,s=a.periodos,n.cursos=t,n.periodos=s,i=(0,w["default"])(n.salones,e,{key:"NEMO"}),-1===i){o.n=2;break}r=n.salones[i],c=r.INSTRUCOD,u=r.GRADOCOD,l=r.TIPCAL,n.getCompetencias({instrucod:c,gradocod:u,cursocod:n.cursocod,anio:n.anoRecuperacion,tipcal:l}),o.n=3;break;case 2:return o.n=3,(0,N.dialog)({title:"Asignación de profesor",message:"Este profesor no tiene salones asignados en Carpeta recuperación",ok:"Ok"});case 3:return o.a(2)}},o)}))()},onCurso:function(e){var n=this;return k()(v()().m(function o(){var a,t,s,i,r,c;return v()().w(function(o){while(1)switch(o.n){case 0:if(a=n.esFamiliaYEstudiante?n.estudiantes:n.salones,t=(0,w["default"])(a,n.nemo,{key:"NEMO"}),-1===t){o.n=1;break}s=a[t],i=s.INSTRUCOD,r=s.GRADOCOD,c=s.TIPCAL,n.getCompetencias({instrucod:i,gradocod:r,cursocod:e,anio:n.anoRecuperacion,tipcal:c}),o.n=2;break;case 1:return o.n=2,(0,N.dialog)({title:"Asignación de profesor",message:"Este profesor no tiene salones asignados en Carpeta recuperación",ok:"Ok"});case 2:return o.a(2)}},o)}))()},onAnio:function(e){var n=this;return k()(v()().m(function o(){var a,t,s,i,r,c;return v()().w(function(o){while(1)switch(o.n){case 0:if(a=n.esFamiliaYEstudiante?n.estudiantes:n.salones,t=(0,w["default"])(a,n.nemo,{key:"NEMO"}),-1===t){o.n=1;break}s=n.salones[t],i=s.INSTRUCOD,r=s.GRADOCOD,c=s.TIPCAL,n.getCompetencias({instrucod:i,gradocod:r,cursocod:n.cursocod,anio:e,tipcal:c}),o.n=2;break;case 1:return o.n=2,(0,N.dialog)({title:"Asignación de profesor",message:"Este profesor no tiene salones asignados en Carpeta recuperación",ok:"Ok"});case 2:return o.a(2)}},o)}))()},getCompetencias:function(e){var n=this;return k()(v()().m(function o(){var a,t,s,i,r;return v()().w(function(o){while(1)switch(o.p=o.n){case 0:if(a=e.instrucod,t=e.gradocod,s=e.cursocod,i=e.anio,r=e.tipcal,!(s&&a&&t&&i)){o.n=4;break}return o.p=1,o.n=2,S.A.getCompetencias({instrucod:a,gradocod:t,cursocod:s,anio:i,tipcal:r});case 2:n.competencias=o.v,o.n=4;break;case 3:o.p=3,o.v,n.competencias=[];case 4:return o.a(2)}},o,null,[[1,3]])}))()},onCompetencia:function(e){var n=(0,w["default"])(this.cursos,this.cursocod,{key:"CURSOCOD"}),o=this.cursos[n],a=o.CURSOCOD,t=o.GRUPOCOD,s={nemo:this.nemo,cursocod:a,grupocod:t,indice:e.INDICE};"004"===(0,D["default"])().tipcod&&(s.alucod=this.alucod),this.$router.push({name:"intranet.carpetaRecuperacion.contenido",params:s})}},created:function(){var e=this;return k()(v()().m(function n(){var o,a,t,s,i;return v()().w(function(n){while(1)switch(n.n){case 0:return n.n=1,S.A.getAnios();case 1:return e.anios=n.v,n.n=2,S.A.getEtapaActiva();case 2:if(o=n.v,e.anoRecuperacion=o.ANO||e.sie.ano,e.bimecod=o.ETAPA,a=e.anoRecuperacion,t=1,!e.esFamiliaYEstudiante){n.n=4;break}return s="P"===e.sie.anoest||"C"===e.sie.anoest||t,n.n=3,S.A.getEstudiantes({ano:a,recuperacion:t,isNemo:s});case 3:e.estudiantes=n.v,e.alucod=e.estudiantes.length?e.estudiantes[0].ALUCOD:null,(0,y.hl)(e.alucod),e.onEstudiante(e.alucod),n.n=6;break;case 4:return i=["NEMO","NEMODES","INSTRUCOD","GRADOCOD","SECCIONCOD","TIPCAL"],n.n=5,S.A.getSalones({columns:i,ano:a,recuperacion:t});case 5:e.salones=n.v;case 6:return n.a(2)}},n)}))()}},T=o(12807);const q=(0,T.A)(U,[["render",C]]);var V=q}}]);