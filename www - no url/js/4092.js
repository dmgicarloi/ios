"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[4092],{4092:function(e,n,t){t.r(n),t.d(n,{default:function(){return H}});var a=t(61758);function o(e,n){var t=(0,a.g2)("q-tab"),o=(0,a.g2)("q-tabs"),i=(0,a.g2)("lista-vacunas"),r=(0,a.g2)("q-tab-panel"),l=(0,a.g2)("factor-riesgo"),c=(0,a.g2)("q-tab-panels"),s=(0,a.g2)("q-card-section"),u=(0,a.g2)("q-card"),d=(0,a.g2)("q-page");return(0,a.uX)(),(0,a.Wv)(d,{class:"q-pa-sm sie-flat"},{default:(0,a.k6)(function(){return[(0,a.bF)(u,null,{default:(0,a.k6)(function(){return[(0,a.bF)(s,null,{default:(0,a.k6)(function(){return[(0,a.bF)(o,{class:"text-teal",align:"left",dense:!0,modelValue:e.tabType,"onUpdate:modelValue":n[0]||(n[0]=function(n){return e.tabType=n})},{default:(0,a.k6)(function(){return[(0,a.bF)(t,{class:"text-primary","no-caps":"",name:"vacuna",label:"Vacuna Covid"}),(0,a.bF)(t,{class:"text-primary","no-caps":"",name:"factorriesgo",label:"Factor Riesgo"})]}),_:1},8,["modelValue"]),(0,a.bF)(c,{modelValue:e.tabType,"onUpdate:modelValue":n[1]||(n[1]=function(n){return e.tabType=n}),animated:"","transition-prev":"jump-up","transition-next":"jump-up"},{default:(0,a.k6)(function(){return[(0,a.bF)(r,{name:"vacuna"},{default:(0,a.k6)(function(){return[(0,a.bF)(i,{modulo:"medico"})]}),_:1}),(0,a.bF)(r,{name:"factorriesgo"},{default:(0,a.k6)(function(){return[(0,a.bF)(l)]}),_:1})]}),_:1},8,["modelValue"])]}),_:1})]}),_:1})]}),_:1})}var i=t(6123),r=t(72029),l=t(26697),c=t(53093),s=t(53811),u=t(43346),d=t(95718),f=t(30640),m=t(9736),g=t(3112),p=t(11654),v=t(59089),b=t(33950),h=t(16648),F=t(57668),A=t(62006),w=t(6083),x=t(84603),k=t(42553),Q=(t(56285),t(29104)),_={class:"row q-col-gutter-sm"},R={class:"col-xs-12 col-sm-6"},T={class:"col-xs-12 col-sm-6"};function S(e,n){var t=this,o=(0,a.g2)("header-btn"),i=(0,a.g2)("q-select"),r=(0,a.g2)("q-card-section"),l=(0,a.g2)("q-separator"),c=(0,a.g2)("q-download-file"),s=(0,a.g2)("sie-table"),u=(0,a.g2)("q-card"),d=(0,a.g2)("q-page");return(0,a.uX)(),(0,a.Wv)(d,null,{default:(0,a.k6)(function(){return[(0,a.bF)(u,null,{default:(0,a.k6)(function(){return[(0,a.bF)(o,{buttons:e.buttons},null,8,["buttons"]),(0,a.bF)(r,null,{default:(0,a.k6)(function(){return[(0,a.Lk)("div",_,[(0,a.Lk)("div",R,[(0,a.bF)(i,{modelValue:e.form.nivel,"onUpdate:modelValue":n[0]||(n[0]=function(n){return e.form.nivel=n}),options:e.niveles,"option-value":"INSTRUCOD","option-label":"INSTRUDES",label:"Nivel",onInput:n[1]||(n[1]=function(n){e.getGrados(e.form.nivel),e.loadFactorRiesgo()})},null,8,["modelValue","options"])]),(0,a.Lk)("div",T,[(0,a.bF)(i,{modelValue:e.form.grado,"onUpdate:modelValue":n[2]||(n[2]=function(n){return e.form.grado=n}),options:e.grados,"option-value":"GRADOCOD","option-label":"GRADODES",label:"Grados",onInput:n[3]||(n[3]=function(n){return e.loadFactorRiesgo()})},null,8,["modelValue","options"])])])]}),_:1}),(0,a.bF)(l),(0,a.bF)(r,null,{default:(0,a.k6)(function(){return[e.currentFile.item?(0,a.bo)(((0,a.uX)(),(0,a.Wv)(c,{key:0,ref:"donwloadFile",src:e.src(e.currentFile.item),name:e.currentFile.item.name,extension:e.currentFile.item.extension,"direct-link":e.currentFile.item.directLink,inline:!0,item:e.currentFile.item},null,8,["src","name","extension","direct-link","item"])),[[Q.aG,!1]]):(0,a.Q3)("v-if",!0),(0,a.bF)(s,{data:e.rows,columns:e.fields,style:{height:"50vh"},context:t,config:e.config},null,8,["data","columns","config"])]}),_:1})]}),_:1})]}),_:1})}var D=t(76080),C=t.n(D),N=t(45254),q=t.n(N),j=(t(30683),t(10239),t(49089),t(53380)),G=t(95477),V=t(4437),y={pdf:"file_pdf",xls:"file_excel",xlsx:"file_excel",doc:"file_word",docx:"file_word",jpg:"file_image",png:"file_image",jpeg:"file_image",gif:"file_image"},U={data:function(){return{config:{archivo:{renderHtml:function(e,n){if(!e.adjunto||!e.adjunto.extension)return n("span");var t=y[e.adjunto.extension]||"file_document";return n("i",{class:"text-primary q-icon material-icons",style:{fontSize:"19px"}},t)},renderAction:function(e){this.currentFile.src=this.src(e.adjunto),this.currentFile.name=e.adjunto.name,this.currentFile.extension=e.adjunto.extension,this.currentFile.directLink=e.adjunto.directLink,this.currentFile.item=e.adjunto,this.$refs.donwloadFile.onClick()}}},rows:[],fields:[{name:"codigo",label:"Código",field:"codigo",align:"center"},{name:"nomcomp",label:"Nombre",field:"nomcomp",align:"left"},{name:"ngs",label:"Ngs",field:"ngs",align:"center"},{name:"nomarchivo",label:"Nombre Archivo",field:"nomarchivo",align:"left"},{name:"archivo",label:"Archivo",field:"archivo",align:"center"}]}}},I=t(73890),L=t(81288),O=t(2819),E=t(80660),P=(t(18105),{mixins:[U],components:{QTd:i.Ef,QTr:i.qh,QPopupEdit:i.GT,sieModal:f.A,QDownloadFile:A.A,sieNivel:I.A,QDate:V.A,QPopupProxy:G.A,QInput:m.A,QSelect:h.A,QSeparator:j.A,QCardSection:d.A,QPage:i.Tu,QCard:i.C$},props:{},computed:{isLess:function(){return(0,L.isLess)()}},data:function(){var e=this;return{form:{nivel:"",grado:""},currentFile:{name:null,src:null,extension:{},directLink:{},inline:!0,item:{}},niveles:[],grados:[],sie:(0,F["default"])(),buttons:[{icon:"folder_download",label:"Exportar",click:function(){e.exportarFactorRiesgo()}},{icon:"file_pdf",label:"Pdf",click:function(){e.printListado("pdf")}},{icon:"file_excel",label:"Excel",click:function(){e.printListado("xlsx")}}]}},methods:{exportarFactorRiesgo:function(){var e={instrucod:this.form.nivel||"",gradocod:this.form.grado||""},n=(0,E.getBase)()+"/api/FactorRiesgoAdj/exportar";this.$confirm("¿Desea realizar la exportación de adjuntos?","").onOk(q()(C()().m(function t(){return C()().w(function(t){while(1)switch(t.n){case 0:(0,O.open)({data:e,action:n});case 1:return t.a(2)}},t)})))},printListado:function(e){var n={ano:(0,F["default"])().ano,repcod:"listaFactorRiesgo",formato:e,instrucod:this.form.nivel||"",gradocod:this.form.grado||""};(0,O.exportFilePhp)(n,"webservice/reportes/reporte")},src:function(e){return e.esEnlace?e.url:"".concat(this.sie.api,"/HyoCamposmatricula/archivo/").concat(e.id,"/").concat(e.name,"/").concat(e.tabla,"?sie-token=").concat(this.sie.token)},loadFactorRiesgo:function(){var e=this;return q()(C()().m(function n(){var t;return C()().w(function(n){while(1)switch(n.n){case 0:return t={instrucod:e.form.nivel||"",gradocod:e.form.grado||""},n.n=1,e.$http.get("api/FactorRiesgoAdj/listFactorRiesgo",{params:t});case 1:e.rows=n.v;case 2:return n.a(2)}},n)}))()},getNivelesGrados:function(){var e=this;return q()(C()().m(function n(){var t;return C()().w(function(n){while(1)switch(n.n){case 0:return n.n=1,e.$http.get("api/NivelGrado/getNivelGrado");case 1:return t=n.v,n.a(2,t)}},n)}))()},getNiveles:function(){var e=this;return q()(C()().m(function n(){var t,a,o,i;return C()().w(function(n){while(1)switch(n.n){case 0:return n.n=1,e.getNivelesGrados();case 1:for(o in t=n.v,a=[],t)i=t[o],a.push({INSTRUCOD:i.INSTRUCOD,INSTRUDES:i.INSTRUDES});return n.a(2,a)}},n)}))()},getGrados:function(e){var n=this;return q()(C()().m(function t(){var a;return C()().w(function(t){while(1)switch(t.n){case 0:if(e){t.n=1;break}n.grados=[{GRADOCOD:"",GRADODES:"Todos"}],t.n=3;break;case 1:return t.n=2,n.getNivelesGrados();case 2:a=t.v,n.grados=Object.values(a[e].GRADOS);case 3:return t.a(2)}},t)}))()}},created:function(){var e=this;return q()(C()().m(function n(){return C()().w(function(n){while(1)switch(n.n){case 0:return n.n=1,e.getNiveles();case 1:return e.niveles=n.v,n.n=2,e.getGrados();case 2:return n.n=3,e.loadFactorRiesgo();case 3:return n.a(2)}},n)}))()}}),$=t(12807);const W=(0,$.A)(P,[["render",S]]);var X=W,z={components:{QSplitter:r.A,QTabs:l.A,QTab:c.A,QTabPanels:s.A,QTabPanel:u.A,QCardSection:d.A,SieModal:f.A,QInput:m.A,QCheckbox:g.A,QBtn:p.A,sieUpload:v.A,Upload:b.Upload,QSelect:h.A,sieInfo:F["default"],QDownloadFile:A.A,sieEditor:w.A,siePdf:x.A,listaVacunas:k.A,factorRiesgo:X,QPage:i.Tu,QCard:i.C$},data:function(){return{tabType:"vacuna",sie:(0,F["default"])(),url:"",flagAction:"new",flagActionAuth:"new"}},watch:{},methods:{},created:function(){}};const B=(0,$.A)(z,[["render",o],["__scopeId","data-v-f3443692"]]);var H=B}}]);