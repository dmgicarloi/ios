"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[50600],{50600:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});n(56285);var a=n(61758),i=n(58790),s={class:"intranet--eventos-listado q-pa-sm"};function r(e,t){var n=(0,a.g2)("header-btn"),r=(0,a.g2)("q-tab"),o=(0,a.g2)("q-tabs"),E=(0,a.g2)("q-separator"),l=(0,a.g2)("listado-eventos"),u=(0,a.g2)("q-tab-panel"),c=(0,a.g2)("participantes-evento"),T=(0,a.g2)("pases-evento"),_=(0,a.g2)("conceptos"),d=(0,a.g2)("q-tab-panels"),f=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.CE)("div",s,[(0,a.bF)(f,{flat:"",bordered:""},{default:(0,a.k6)(function(){return[(0,a.bF)(n,{name:e.name,buttons:e.buttons},null,8,["name","buttons"]),(0,a.bF)(o,{class:"q-caption",modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.tab=t}),dense:"","inline-label":"",align:"left",onInput:e.onTab},{default:(0,a.k6)(function(){return[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.tabs,function(e,t){return(0,a.uX)(),(0,a.Wv)(r,{key:t,name:e.name,label:e.label,icon:e.icon,disable:e.disable},null,8,["name","label","icon","disable"])}),128))]}),_:1},8,["modelValue","onInput"]),(0,a.bF)(E),(0,a.bF)(d,{modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.tab=t}),"keep-alive":""},{default:(0,a.k6)(function(){return[(0,a.bF)(u,{name:e.LISTADO_EVENTOS},{default:(0,a.k6)(function(){return[(0,a.bF)(l,{"calc-height":e.altoGrillaEventos,ref:e.REF_EVENTO_LISTADO,onSeleccion:e.seleccionEvento},null,8,["calc-height","onSeleccion"])]}),_:1},8,["name"]),(0,a.bF)(u,{name:e.LISTADO_PARTICIPANTES},{default:(0,a.k6)(function(){return[(0,a.bF)(c,{"calc-height":e.altoGrillaParticipantes,ref:e.REF_EVENTO_PARTICIPANTES,id:e.idEvento},null,8,["calc-height","id"])]}),_:1},8,["name"]),(0,a.bF)(u,{name:e.LISTADO_PASES},{default:(0,a.k6)(function(){return[(0,a.bF)(T,{"calc-height":e.altoGrillaPases,ref:e.REF_EVENTO_PASES,id:e.idEvento},null,8,["calc-height","id"])]}),_:1},8,["name"]),(0,a.bF)(u,{name:e.LISTADO_ASISTENCIA},{default:(0,a.k6)(function(){return[(0,a.Lk)("div",null,(0,i.v_)(e.idEvento),1)]}),_:1},8,["name"]),(0,a.bF)(u,{name:e.LISTADO_TIPO_USO},{default:(0,a.k6)(function(){return[(0,a.bF)(_,{"calc-height":e.altoGrillaTipoUso,"evento-id":e.idEvento,ref:e.REF_EVENTO_TIPO_USO},null,8,["calc-height","evento-id"])]}),_:1},8,["name"])]}),_:1},8,["modelValue"])]}),_:1})])}var o=n(76080),E=n.n(o),l=n(45254),u=n.n(l),c=(n(50310),n(90095),n(83190),n(13715),n(88567)),T=n(95718),_=n(26697),d=n(53093),f=n(53811),S=n(43346),A=n(53380),O=n(57653),b=n(86397),P=n(31554),h=n(17326),I=n(95849),v=n(78786),p=n(81288),m={data:function(){return{tabs:[{label:"Eventos",name:I["default"].LISTADO_EVENTOS,icon:"event_seat"},{label:"Participantes",name:I["default"].LISTADO_PARTICIPANTES,icon:"family",disable:!0},{label:"Pases",name:I["default"].LISTADO_PASES,icon:"confirmation_number",disable:!0},{label:"Tipos de uso de pases",name:I["default"].LISTADO_TIPO_USO,icon:"list",disable:!0}],tab:I["default"].LISTADO_EVENTOS,LISTADO_EVENTOS:I["default"].LISTADO_EVENTOS,LISTADO_PARTICIPANTES:I["default"].LISTADO_PARTICIPANTES,LISTADO_ASISTENCIA:I["default"].LISTADO_ASISTENCIA,LISTADO_PASES:I["default"].LISTADO_PASES,LISTADO_TIPO_USO:I["default"].LISTADO_TIPO_USO,REF_EVENTO_LISTADO:I["default"].REF_EVENTO_LISTADO,REF_EVENTO_PARTICIPANTES:I["default"].REF_EVENTO_PARTICIPANTES,REF_EVENTO_ASISTENCIA:I["default"].REF_EVENTO_ASISTENCIA,REF_EVENTO_PASES:I["default"].REF_EVENTO_PASES,REF_EVENTO_TIPO_USO:I["default"].REF_EVENTO_TIPO_USO}},computed:{buttons:function(){var e=this,t=[];return this.tab===this.LISTADO_EVENTOS&&(t=[{icon:"plus",label:"Nuevo Evento",click:function(){e.crearEvento()},permiso:">= 2"}]),this.tab===this.LISTADO_PARTICIPANTES&&(t=[{icon:"cog",label:"Generar Pases",click:function(){e.generarPases()},permiso:"=== 3"}]),this.tab===this.LISTADO_PASES&&(t=[{icon:"confirmation_number",label:"Crear Pases",click:function(){e.abrirVentanaCrearPases()},permiso:"=== 3"},{icon:"confirmation_number",label:"Reasignar Pases",click:function(){e.abrirVentanaReasignarPases()},permiso:"=== 3"},{icon:"user",label:"Agregar Persona",click:function(){e.abrirVentanaNuevaPersona()},permiso:"===3"},{icon:"print",label:"Imprimir Pases",click:function(){e.abrirVantanaImprimirPases()},permiso:"=== 3"},{icon:"block",label:"Anular Pases",click:function(){e.anularPasesPorEstado()},permiso:"=== 3"}]),this.tab===this.LISTADO_TIPO_USO&&(t=[{icon:"plus",label:"Agregar",click:function(){e.abrirVentanaCrearConcepto()},permiso:"=== 3"}]),t},name:function(){var e="Eventos";if(this.idEvento){var t=this.$refs[this.REF_EVENTO_LISTADO].rows,n=(0,v["default"])(t,this.idEvento,{key:"EVENTO_ID"});-1!==n&&(e=(0,p.isLess)()?t[n].EVENTO_TITULO:"Eventos | ".concat(t[n].EVENTO_TITULO))}return e}}},V={components:{QCard:c.A,QCardSection:T.A,QTabs:_.A,QTab:d.A,QTabPanels:f.A,QTabPanel:S.A,QSeparator:A.A,ListadoEventos:O.A,ParticipantesEvento:b.A,PasesEvento:P.A,Conceptos:h.A},mixins:[m],computed:{altoGrillaEventos:function(){return(0,p.isLess)()?"344.39px":"234.39px"},altoGrillaParticipantes:function(){return(0,p.isLess)()?"200.39px":"198.39px"},altoGrillaPases:function(){return(0,p.isLess)()?"296.39px":"234.39px"},altoGrillaTipoUso:function(){return(0,p.isLess)()?"200.39px":"196.39px"}},data:function(){return{idEvento:0}},methods:{onTab:function(){this.tab===I["default"].LISTADO_PARTICIPANTES&&this.idEvento&&this.$refs[this.REF_EVENTO_PARTICIPANTES]&&this.$refs[this.REF_EVENTO_PARTICIPANTES].getParticipantes(this.idEvento),this.tab===I["default"].LISTADO_PASES&&this.idEvento&&this.$refs[this.REF_EVENTO_PASES]&&this.$refs[this.REF_EVENTO_PASES].getPasesEvento(this.idEvento),this.tab===I["default"].LISTADO_TIPO_USO&&this.idEvento&&this.$refs[this.REF_EVENTO_TIPO_USO]&&this.$refs[this.REF_EVENTO_TIPO_USO].getTiposDeUsoTarjeta(this.idEvento)},crearEvento:function(){this.$refs[this.REF_EVENTO_LISTADO].crearEvento()},seleccionEvento:function(e){e&&(this.idEvento=e,this.tabs.forEach(function(e){e.disable=!1}))},generarPases:function(){var e=this;return u()(E()().m(function t(){return E()().w(function(t){while(1)switch(t.n){case 0:e.idEvento&&(e.$refs[e.REF_EVENTO_PARTICIPANTES].modalCrearPases=!0,e.$refs[e.REF_EVENTO_PARTICIPANTES].individual=!1);case 1:return t.a(2)}},t)}))()},abrirVantanaImprimirPases:function(){var e=this;return u()(E()().m(function t(){return E()().w(function(t){while(1)switch(t.n){case 0:if(!e.idEvento){t.n=1;break}return t.n=1,e.$refs[e.REF_EVENTO_PASES].abrirVantanaImprimirPases();case 1:return t.a(2)}},t)}))()},abrirVentanaCrearPases:function(){this.idEvento&&this.$refs[this.REF_EVENTO_PASES].abrirVentanaCrearPases()},abrirVentanaAnularPases:function(){this.idEvento&&this.$refs[this.REF_EVENTO_PASES].abrirVentanaCambiarEstadoPase(I["default"].EVENTO_PASE_ANULADO)},abrirVentanaListadoTipoPases:function(){this.idEvento&&this.$refs[this.REF_EVENTO_PASES].abrirVentanaListadoTipoPases()},abrirVentanaCrearConcepto:function(){this.idEvento&&this.$refs[this.REF_EVENTO_TIPO_USO].abrirVentanaCrearConcepto()},abrirVentanaReasignarPases:function(){this.idEvento&&this.$refs[this.REF_EVENTO_PASES].abrirVentanaReasignarPases()},abrirVentanaNuevaPersona:function(){this.$refs[this.REF_EVENTO_PASES].abrirVentanaNuevaPersona()},resetEstadoPases:function(){this.idEvento&&this.$refs[this.REF_EVENTO_PASES].resetEstadoPases()},anularPasesPorEstado:function(){this.idEvento&&this.$refs[this.REF_EVENTO_PASES].anularPasesPorEstado(this.$refs[this.REF_EVENTO_PASES].filtro_evento_pase_estado)},truncarTexto:function(){var e=document.querySelector(".academico-components-header-buttons .row .col-12 .row .col .q-title"),t=parseInt(window.getComputedStyle(e).lineHeight),n=t;e.scrollHeight>n?(e.style.webkitLineClamp=1,e.style.display="-webkit-box",e.style.webkitBoxOrient="vertical",e.style.overflow="hidden",e.style.textOverflow="ellipsis"):(e.style.webkitLineClamp="unset",e.style.display="block",e.style.overflow="visible",e.style.textOverflow="clip")}},updated:function(){this.truncarTexto(),window.addEventListener("resize",this.truncarTexto)},beforeDestroy:function(){window.removeEventListener("resize",this.truncarTexto)}},N=n(12807);const R=(0,N.A)(V,[["render",r]]);var F=R}}]);