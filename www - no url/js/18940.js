"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[18940],{18940:function(n,e,i){i.r(e),i.d(e,{default:function(){return E}});var r=i(61758),o=i(29104),t={class:"row q-col-gutter-md"},a={class:"col-xs-12"},c={class:"row q-col-gutter-md"},u={class:"col-xs-12 col-sm-6"},l={class:"col-xs-12 col-sm-6"},s={class:"row q-col-gutter-md"},f={class:"col-sm-12"},d={key:0,class:"row q-col-gutter-md"},m={class:"col-sm-12"};function v(n,e){var i=(0,r.g2)("header-btn"),v=(0,r.g2)("formulario"),g=(0,r.g2)("sie-vacio"),h=(0,r.g2)("q-card-section"),C=(0,r.g2)("q-card"),w=(0,r.g2)("sie-modal"),p=(0,r.g2)("q-page");return(0,r.uX)(),(0,r.Wv)(p,{class:"q-pa-sm sie-flat"},{default:(0,r.k6)(function(){return[(0,r.bF)(C,{flat:"",bordered:""},{default:(0,r.k6)(function(){return[(0,r.bF)(i,{name:n.tituloForm,auto:!0,buttons:n.botonesForm},null,8,["name","buttons"]),(0,r.bF)(h,null,{default:(0,r.k6)(function(){return[(0,r.Lk)("div",t,[(0,r.Lk)("div",a,[(0,r.bF)(v,{schema:n.schemas.viewAdmConfigEvalFiltros,ref:"formFiltros",key:"formFiltros",onChangeInput:n.changeInput},null,8,["schema","onChangeInput"])])]),(0,r.Lk)("div",c,[(0,r.Lk)("div",u,[(0,r.bF)(v,{schema:n.schemas.viewAdmConfigEval,ref:"formApp",key:"formApp",onClickIconGrid:n.clickIconGrid,onChangeInput:n.changeInput,onRowSelected:n.selConfig},null,8,["schema","onClickIconGrid","onChangeInput","onRowSelected"])]),(0,r.Lk)("div",l,[(0,r.bo)((0,r.Lk)("div",s,[(0,r.Lk)("div",f,[(0,r.bF)(v,{schema:n.schemas.viewAdmConfigEvalCrit,ref:"formCrit",key:"formCrit",onClickIconGrid:n.clickIconGrid,onChangeInput:n.changeInput,onClickBtn:n.clickBtn},null,8,["schema","onClickIconGrid","onChangeInput","onClickBtn"])])],512),[[o.aG,n.configSel]]),n.configSel?(0,r.Q3)("v-if",!0):((0,r.uX)(),(0,r.CE)("div",d,[(0,r.Lk)("div",m,[(0,r.bF)(g,{icon:"info",title:"Debe seleccionar una configuración de evaluación"})])]))])])]}),_:1})]}),_:1}),(0,r.bF)(w,{title:n.configModalSel.titulo,modelValue:n.openModal,"onUpdate:modelValue":e[0]||(e[0]=function(e){return n.openModal=e}),ok:"GRABAR",onSubmit:n.submit},{default:(0,r.k6)(function(){return[(0,r.bF)(h,{class:"cont-modal-md"},{default:(0,r.k6)(function(){return[(0,r.bF)(v,{schema:n.schemaModal,ref:"formModal",key:"formModal",modal:!0},null,8,["schema"])]}),_:1})]}),_:1},8,["title","modelValue","onSubmit"])]}),_:1})}var g=i(76080),h=i.n(g),C=i(45254),w=i.n(C),p=(i(71225),i(39866),i(50310),i(5962),i(83190),i(6123)),I=i(65848),k=i(74656),b={mixins:[I.A],components:{QAvatar:k.A,QPage:p.Tu,QCard:p.C$},data:function(){var n=this.init();return n.evaluacionSel=0,n.configSel=null,n.sie.idConfigPrm=0,n},methods:{updateGridConfigs:function(){var n=this;return w()(h()().m(function e(){var i;return h()().w(function(e){while(1)switch(e.n){case 0:return i=n.evaluacionSel>0?{idEvaluacion:n.evaluacionSel}:{},e.n=1,n.reloadGrid("formApp","GRID_1",i);case 1:return e.a(2)}},e)}))()},updateGridCriteriosEval:function(){var n=this;return w()(h()().m(function e(){var i;return h()().w(function(e){while(1)switch(e.n){case 0:return i={idConfig:n.configSel.ID_CONFIG,url:"api/postulacionController/getCriteriosEvaluacion"},e.n=1,n.reloadGrid("formCrit","GRID_2",i);case 1:return e.a(2)}},e)}))()},getConfiguraciones:function(n,e,i){var r=this;return w()(h()().m(function e(){return h()().w(function(e){while(1)switch(e.n){case 0:r.evaluacionSel=n[i],r.updateGridConfigs(),r.configSel=null;case 1:return e.a(2)}},e)}))()},addConfigEvaluacion:function(n){var e=this;return w()(h()().m(function i(){return h()().w(function(i){while(1)switch(i.n){case 0:if(!(e.evaluacionSel>0)){i.n=2;break}return i.n=1,e.runModal(null,n.params.view,"I");case 1:i.n=3;break;case 2:e.$notify("Debe seleccionar una evaluación","warning");case 3:return i.a(2)}},i)}))()},escalaNotas:function(n){var e=this;return w()(h()().m(function n(){var i;return h()().w(function(n){while(1)switch(n.n){case 0:i=e.$router.resolve({name:"admisions.notas"}).href,window.open(i,"_blank");case 1:return n.a(2)}},n)}))()},selConfig:function(n){var e=this;return w()(h()().m(function i(){return h()().w(function(i){while(1)switch(i.n){case 0:return e.configSel=n,e.sie.idConfigPrm=e.configSel.ID_CONFIG,i.n=1,e.updateGridCriteriosEval();case 1:return i.a(2)}},i)}))()},openModalCriterios:function(){var n=this;return w()(h()().m(function e(){return h()().w(function(e){while(1)switch(e.n){case 0:return n.sie.idConfigPrm=n.configSel.ID_CONFIG,e.n=1,n.runModal(null,"admConfigEvalCrit","I");case 1:return e.a(2)}},e)}))()},preModal:function(n,e,i){var r=this;return w()(h()().m(function e(){var o;return h()().w(function(e){while(1)switch(e.n){case 0:o=r.configModalSel.codigoFormulario,e.n="admConfigEval"===o?1:"admConfigEvalCrit"===o?2:3;break;case 1:return"I"===i?n={ANIO:r.sie.ano,ID_EVALUACION:r.evaluacionSel}:n.INPUT_1=n.NIVEL+""+n.GRADO,e.a(3,3);case 2:return"I"===i&&(n={ID_CONFIG:r.configSel.ID_CONFIG}),e.a(3,3);case 3:return e.a(2,n)}},e)}))()},preSubmit:function(n){switch(this.configModalSel.codigoFormulario){case"admConfigEval":n.NIVEL=n.INPUT_1[0],n.GRADO=n.INPUT_1[1];break}return{res:!0,data:n}},postAction:function(n){var e=this;return w()(h()().m(function n(){var i;return h()().w(function(n){while(1)switch(n.n){case 0:i=e.configModalSel.codigoFormulario,n.n="admConfigEval"===i?1:"admConfigEvalCrit"===i?2:3;break;case 1:return e.updateGridConfigs(),e.configSel=null,n.a(3,3);case 2:return e.updateGridCriteriosEval(),n.a(3,3);case 3:return n.a(2)}},n)}))()},postSubmit:function(n){var e=this;return w()(h()().m(function i(){return h()().w(function(i){while(1)switch(i.n){case 0:return i.n=1,e.postAction(n);case 1:return i.a(2)}},i)}))()},postDelete:function(n){var e=this;return w()(h()().m(function i(){return h()().w(function(i){while(1)switch(i.n){case 0:return i.n=1,e.postAction(n);case 1:return i.a(2)}},i)}))()}},created:function(){var n=this;return w()(h()().m(function e(){var i;return h()().w(function(e){while(1)switch(e.n){case 0:return i=[{id:"viewAdmConfigEvalFiltros",ref:"formFiltros"},{id:"viewAdmConfigEval",ref:"formApp"},{id:"viewAdmConfigEvalCrit",ref:"formCrit"}],e.n=1,n.loadSchemas(i);case 1:["SIE","SIEWEB","DEMO"].includes(n.sie.usucod)||(n.botonesForm=n.botonesForm.filter(function(n){return"cogs"!==n.icon}));case 2:return e.a(2)}},e)}))()}},S=i(12807);const F=(0,S.A)(b,[["render",v]]);var E=F}}]);