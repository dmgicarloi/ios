"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[68779],{68779:function(e,o,a){a.r(o),a.d(o,{default:function(){return Mo}});var t=a(8445),n=a.n(t),i=(a(56285),a(20361),a(61758)),r=a(58790),l={class:"row q-px-sm q-pt-sm"},s={key:0,class:"col"},u={key:1,class:"col"},d={class:"row q-px-sm"},c={key:0,class:"col"},f={key:1,class:"col-2"},p={key:2,class:"col"},m={class:"q-px-sm"},v={key:0,class:"col"},b={key:0,class:"column col"},h={key:1,class:"column col"},C={class:"row"},O={key:0,class:"col-xs-12 col-md-6 q-px-sm"},A={class:"row"},E={class:"col col-xs-5"},I={class:"col col-xs-7"},k={key:0,class:"row"},g={class:"col"},F={key:1,class:"row row"},S={class:"col"},D={class:"col"},P={class:"q-py-sm-xs"},L={key:2,class:"row"},N={class:"col"},M={key:3,class:"row row"},y={class:"col"},R={key:2,class:"column col"},T={class:"row"},$={class:"col-xs-12 col-md-6 q-px-sm"},U={class:"row"},_={class:"col col-xs-5"},V={class:"col col-xs-7"},w={key:0,class:"row"},H={class:"col"},q={class:"row"},x={class:"col"},Q={key:0,class:"q-py-sm-xs"},B={key:1,class:"row"},X={class:"col"},j={key:2,class:"row"},G={class:"col"},W={key:3,class:"row"},Y={class:"col"},z={class:"row"},Z={class:"col"},J={key:0,class:"col"},K={class:"row"},ee={class:"col"},oe={class:"col"},ae={class:"row"},te={class:"col"},ne={key:0,class:"q-py-sm-xs"},ie={key:0,class:"row"},re={class:"col"},le={key:1,class:"row"},se={class:"col"},ue={key:2,class:"row"},de={class:"col"},ce={key:0,class:"col q-py-xs",align:"center"},fe={key:3,class:"row"},pe={class:"col",align:"center"},me={class:"row"},ve={class:"col"},be={key:0,class:"row"},he={key:1,class:"row"},Ce={class:"row"},Oe={class:"col"},Ae={class:"col"},Ee={class:"q-py-sm-xs"},Ie={class:"row"},ke={class:"col"},ge={key:3,class:"row"},Fe={class:"col"},Se={key:0,class:"q-pa-sm q-pl-md"},De={class:"row"},Pe={class:"col"},Le={class:"col"},Ne={class:"q-py-sm-xs"},Me={class:"row"},ye={class:"col"},Re={class:"row"},Te={class:"col"},$e={class:"row"},Ue={class:"col"},_e={class:"col"},Ve={class:"q-py-sm-xs"},we={class:"row"},He={class:"col"},qe={class:"row q-pt-md q-px-sm"},xe={class:"col"},Qe={class:"row q-px-sm"},Be={class:"col"},Xe={class:"col"},je={class:"text-bold q-body-1"};function Ge(e,o){var a=(0,i.g2)("header-btn"),t=(0,i.g2)("sie-select"),Ge=(0,i.g2)("q-checkbox"),We=(0,i.g2)("sie-estudiantes"),Ye=(0,i.g2)("sie-vacio"),ze=(0,i.g2)("sie-usuario"),Ze=(0,i.g2)("q-item-side"),Je=(0,i.g2)("q-item-tile"),Ke=(0,i.g2)("q-chip"),eo=(0,i.g2)("q-item-main"),oo=(0,i.g2)("q-item"),ao=(0,i.g2)("q-list"),to=(0,i.g2)("q-card"),no=(0,i.g2)("q-card-title"),io=(0,i.g2)("q-card-separator"),ro=(0,i.g2)("sie-date"),lo=(0,i.g2)("q-field"),so=(0,i.g2)("q-select"),uo=(0,i.g2)("q-input"),co=(0,i.g2)("q-tooltip"),fo=(0,i.g2)("q-btn"),po=(0,i.g2)("q-option-group"),mo=(0,i.g2)("q-td"),vo=(0,i.g2)("q-icon"),bo=(0,i.g2)("q-tr"),ho=(0,i.g2)("q-table"),Co=(0,i.g2)("q-card-main"),Oo=(0,i.g2)("q-spinner-oval"),Ao=(0,i.g2)("q-inner-loading"),Eo=(0,i.g2)("q-datetime"),Io=(0,i.g2)("q-tab"),ko=(0,i.g2)("sie-editor"),go=(0,i.g2)("q-tab-pane"),Fo=(0,i.g2)("q-tabs"),So=(0,i.g2)("q-download-file"),Do=(0,i.g2)("sie-cloud"),Po=(0,i.g2)("sie-modal"),Lo=(0,i.g2)("q-toolbar-title"),No=(0,i.g2)("q-popover"),Mo=(0,i.g2)("q-toolbar"),yo=(0,i.g2)("q-page"),Ro=(0,i.gN)("close-overlay");return(0,i.uX)(),(0,i.Wv)(yo,{class:"citacion-agregar bg-white"},{default:(0,i.k6)(function(){return[(0,i.bF)(a,{name:e.$t("intranet.citacion.agendarEntrevista"),buttons:e.buttons},null,8,["name","buttons"]),(0,i.Lk)("div",l,[e.perfilCreador||e.perfilAdicional?((0,i.uX)(),(0,i.CE)("div",s,[(0,i.bF)(t,{noBottom:"",type:"outlined",modelValue:e.solicitadoPor,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.solicitadoPor=o}),options:e.cmbSolicitado,label:"NOMBRE",val:"VALOR",placeholder:"Solicitado Por",onSelected:e.limpiarCampos},null,8,["modelValue","options","onSelected"])])):(0,i.Q3)("v-if",!0),"PERSONAL"===e.solicitadoPor||e.esOtros&&!e.perfilCreador?((0,i.uX)(),(0,i.CE)("div",u,[(0,i.bF)(t,{noBottom:"",type:"outlined",modelValue:e.tipoCita,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.tipoCita=o}),options:e.cmbTipoCita,label:"CITANOM",val:"TIPO",placeholder:"Seleccione Tipo",onSelected:e.changeTipoCita},null,8,["modelValue","options","onSelected"])])):(0,i.Q3)("v-if",!0)]),(0,i.Lk)("div",d,["FAMILIA"===e.solicitadoPor||e.esFamilia||"OTROS"!==e.tipoCita?((0,i.uX)(),(0,i.CE)("div",c,[e.esOtros?((0,i.uX)(),(0,i.Wv)(t,{key:0,noBottom:"",type:"outlined",modelValue:e.aula,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.aula=o}),options:e.cmbAula,label:"NEMODES",placeholder:"Aula",onSelected:e.cambiarAula},null,8,["modelValue","options","onSelected"])):(0,i.Q3)("v-if",!0)])):(0,i.Q3)("v-if",!0),"GRUPAL"===e.tipoCita&&e.isGroup?((0,i.uX)(),(0,i.CE)("div",f,[(0,i.bF)(Ge,{class:"q-if-outlined no-bottom m-checkbox",modelValue:e.sinMatricula,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.sinMatricula=o}),label:e.$t("Sin Matricular"),onInput:e.changeSinMatricula},null,8,["modelValue","label","onInput"])])):(0,i.Q3)("v-if",!0),"PERSONAL"!==e.solicitadoPor||"NORMAL"!==e.tipoCita&&"INMEDIATA"!==e.tipoCita?(0,i.Q3)("v-if",!0):((0,i.uX)(),(0,i.CE)("div",p,[(0,i.bF)(t,{class:"q-md",noBottom:"",type:"outlined",modelValue:e.profesor,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.profesor=o}),options:e.cmbPersonal,label:"USUNOM",val:"PROFCOD",placeholder:"Personal",onSelected:e.cambiarPersonal},null,8,["modelValue","options","onSelected"])]))]),(0,i.Lk)("div",m,["FAMILIA"===e.solicitadoPor||e.esFamilia||"OTROS"!==e.tipoCita||e.addPersona?((0,i.uX)(),(0,i.CE)("div",v,[e.esOtros?((0,i.uX)(),(0,i.Wv)(t,{key:0,noBottom:"",type:"outlined",modelValue:e.estudiante,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.estudiante=o}),options:e.cmbEstudiante,label:"NOMCOMP",val:"ALUCOD",placeholder:"Estudiantes",onSelected:e.cambiarAlumno},null,8,["modelValue","options","onSelected"])):((0,i.uX)(),(0,i.Wv)(We,{key:1,onSelected:e.cambiarAlumno,params:{cita:!0}},null,8,["onSelected"]))])):(0,i.Q3)("v-if",!0),e.isEvento?((0,i.uX)(),(0,i.Wv)(t,{key:1,noBottom:"",type:"outlined",modelValue:e.tipoEvento,"onUpdate:modelValue":o[6]||(o[6]=function(o){return e.tipoEvento=o}),options:e.cmbTipo,label:"NOMBRE",val:"VALOR",placeholder:"Selecione",onSelected:e.cambiarTipoCita},null,8,["modelValue","options","onSelected"])):(0,i.Q3)("v-if",!0)]),e.alumno||e.tipoCita||"OTROS"===e.tipoCita?(0,i.Q3)("v-if",!0):((0,i.uX)(),(0,i.CE)("div",b,[(0,i.bF)(Ye,{title:e.$t("cobros.datosvacio"),subtitle:"Selecione un Estudiante",icon:"person_add"},null,8,["title"])])),"FAMILIA"!==e.solicitadoPor&&e.esOtros||!e.alumno?(0,i.Q3)("v-if",!0):((0,i.uX)(),(0,i.CE)("div",h,[(0,i.Lk)("div",C,[e.tipoEvento||!1===e.isEvento?((0,i.uX)(),(0,i.CE)("div",O,[(0,i.bF)(to,null,{default:(0,i.k6)(function(){return[(0,i.bF)(ao,{separator:""},{default:(0,i.k6)(function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.listaDisponibles,function(a,t){return(0,i.uX)(),(0,i.Wv)(oo,{key:t,class:"cursor-pointer",onClick:function(o){return e.seleccionarProfe(e.detalleProfes[a][0])}},{default:(0,i.k6)(function(){return[(0,i.bF)(Ze,null,{default:(0,i.k6)(function(){return[(0,i.bF)(ze,{usucod:e.detalleProfes[a][0].USUCOD},null,8,["usucod"])]}),_:2},1024),(0,i.bF)(eo,null,{default:(0,i.k6)(function(){return[(0,i.bF)(Je,{class:"q-body-1 text-bold",label:""},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.detalleProfes[a][0].USUNOM),1)]}),_:2},1024),e.ocultaCurso?(0,i.Q3)("v-if",!0):((0,i.uX)(),(0,i.Wv)(Je,{key:0,sublabel:""},{default:(0,i.k6)(function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.detalleProfes[a],function(e,o){return(0,i.uX)(),(0,i.CE)(i.FK,{key:o},[e.CURSONOM||"1"===e.TUTORIA&&e.AUXILIAR!==a?((0,i.uX)(),(0,i.Wv)(Ke,{key:0,small:"",dense:""},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.CURSONOM||"Tutor"),1)]}),_:2},1024)):(0,i.Q3)("v-if",!0)],64)}),128)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.detalleProfes[a],function(e,t){return(0,i.uX)(),(0,i.CE)(i.FK,{key:t},[e.AUXILIAR===a?((0,i.uX)(),(0,i.Wv)(Ke,{key:0,small:"",dense:""},{default:(0,i.k6)(function(){return n()(o[63]||(o[63]=[(0,i.eW)("Auxiliar",-1)]))}),_:1})):(0,i.Q3)("v-if",!0)],64)}),128))]}),_:2},1024))]}),_:2},1024)]}),_:2},1032,["onClick"])}),128))]}),_:1})]}),_:1})])):(0,i.Q3)("v-if",!0),(0,i.Lk)("div",{class:(0,r.C4)(["col-xs-12 col-md-6 q-px-sm",e.isLess?"q-pt-sm":""])},[(0,i.bF)(to,{class:"relative-position",style:{height:"calc(100vh - 70px)"}},{default:(0,i.k6)(function(){return[e.profe?(0,i.Q3)("v-if",!0):((0,i.uX)(),(0,i.Wv)(Ye,{key:0,class:"q-py-xl",title:e.$t("cobros.datosvacio"),subtitle:e.$t("mensajes.m0027"),icon:"daily_calendar"},null,8,["title","subtitle"])),e.profe?((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[!e.alumno||!e.profe||e.cupoPeriodo||e.horarioDisp&&e.horarioAdic?(0,i.Q3)("v-if",!0):((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.bF)(no,{class:"q-py-xs"},{subtitle:(0,i.k6)(function(){return[(0,i.Lk)("span",null,(0,r.v_)(e.profe.USUNOM),1)]}),default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.$t("intranet.citacion.agendarEntrevista")),1)]}),_:1}),(0,i.bF)(io),(0,i.bF)(Co,null,{default:(0,i.k6)(function(){return[(0,i.Lk)("div",A,[(0,i.Lk)("div",E,[(0,i.bF)(ro,{modelValue:e.v$.formCitaStandar.fecha.$model,"onUpdate:modelValue":o[7]||(o[7]=function(o){return e.v$.formCitaStandar.fecha.$model=o}),options:e.diasDispon,onSelected:e.seleccionaDia,placeholder:"fecha"},null,8,["modelValue","options","onSelected"])]),(0,i.Lk)("div",I,[(0,i.bF)(lo,{error:e.v$.formCitaStandar.horario.$error,"error-label":e.$t("validaciones.requerido")},{default:(0,i.k6)(function(){return[(0,i.bF)(t,{class:"q-gutter-x-md",type:"outlined",modelValue:e.formCitaStandar.horario,"onUpdate:modelValue":o[8]||(o[8]=function(o){return e.formCitaStandar.horario=o}),options:e.horaInicio,onSelected:e.seleccionaHorario,label:"HORATXT",placeholder:"Hora Inicio"},null,8,["modelValue","options","onSelected"])]}),_:1},8,["error","error-label"])])]),e.validaHorario?((0,i.uX)(),(0,i.CE)("div",k,[(0,i.Lk)("div",g,[(0,i.bF)(lo,{error:e.v$.asunto.$error,"error-label":e.$t("validaciones.requerido")},{default:(0,i.k6)(function(){return[e.esMontessori?((0,i.uX)(),(0,i.Wv)(so,{key:0,options:e.asuntoOptions,modelValue:e.v$.asunto.$model,"onUpdate:modelValue":o[9]||(o[9]=function(o){return e.v$.asunto.$model=o}),label:"Asunto"},null,8,["options","modelValue"])):((0,i.uX)(),(0,i.Wv)(uo,{key:1,class:"q-if-outlined",modelValue:e.v$.asunto.$model,"onUpdate:modelValue":o[10]||(o[10]=function(o){return e.v$.asunto.$model=o}),"float-label":e.$t("intranet.citacion.asunto")},null,8,["modelValue","float-label"]))]}),_:1},8,["error","error-label"])])])):(0,i.Q3)("v-if",!0),e.validaHorario?((0,i.uX)(),(0,i.CE)("div",F,[(0,i.Lk)("div",S,[(0,i.bF)(lo,{error:e.v$.entrevistados.parentesco.$error,"error-label":e.$t("validaciones.requerido")},{default:(0,i.k6)(function(){return[(0,i.bF)(t,{type:"outlined",modelValue:e.v$.entrevistados.parentesco.$model,"onUpdate:modelValue":o[11]||(o[11]=function(o){return e.v$.entrevistados.parentesco.$model=o}),options:e.dataParentesco,label:"TIPONOM",placeholder:"Entrevistado",disable:!e.alumno,onInput:e.cambiarEntrevistado},null,8,["modelValue","options","disable","onInput"])]}),_:1},8,["error","error-label"])]),(0,i.Lk)("div",D,[(0,i.bF)(lo,{error:e.v$.entrevistados.nombre.$error,"error-label":e.$t("validaciones.requerido")},{default:(0,i.k6)(function(){return[(0,i.bF)(uo,{class:"q-if-outlined",modelValue:e.v$.entrevistados.nombre.$model,"onUpdate:modelValue":o[12]||(o[12]=function(o){return e.v$.entrevistados.nombre.$model=o}),disable:e.entrevistados.parentesco&&[1,2,3].indexOf(e.entrevistados.parentesco.CODENTRES)>=0||!e.alumno,"float-label":"Nombre"},null,8,["modelValue","disable"])]}),_:1},8,["error","error-label"])]),(0,i.Lk)("div",P,[(0,i.bF)(fo,{icon:"plus",color:"secondary",round:"",size:"11px",onClick:e.agregarEntrevistados},{default:(0,i.k6)(function(){return[(0,i.bF)(co,null,{default:(0,i.k6)(function(){return n()(o[64]||(o[64]=[(0,i.eW)("Agregar",-1)]))}),_:1})]}),_:1},8,["onClick"])])])):(0,i.Q3)("v-if",!0),e.validaHorario&&e.enableModoFamilia?((0,i.uX)(),(0,i.CE)("div",L,[(0,i.Lk)("div",N,[(0,i.bF)(po,{class:"q-if-outlined",modelValue:e.modo,"onUpdate:modelValue":o[13]||(o[13]=function(o){return e.modo=o}),options:e.tipoModo,color:"primary",inline:""},null,8,["modelValue","options"])])])):(0,i.Q3)("v-if",!0),e.validaHorario?((0,i.uX)(),(0,i.CE)("div",M,[(0,i.Lk)("div",y,[(0,i.bF)(ho,{"table-style":"height: 30vh",pagination:e.pagination,"onUpdate:pagination":o[14]||(o[14]=function(o){return e.pagination=o}),data:e.tablaEntrevistados,columns:e.columns,color:"secondary","hide-bottom":""},{body:(0,i.k6)(function(a){return[(0,i.bF)(bo,{props:a},{default:(0,i.k6)(function(){return[(0,i.bF)(mo,{key:"PARENTESCO",props:a},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(a.row["PARENTESCO"]),1)]}),_:2},1032,["props"]),(0,i.bF)(mo,{key:"NOMBRE",props:a},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(a.row["NOMBRE"]),1)]}),_:2},1032,["props"]),(0,i.bF)(mo,{key:"ELIMINAR",props:a},{default:(0,i.k6)(function(){return[(0,i.bF)(vo,{class:"cursor-pointer",name:"delete",onClick:function(o){return e.quitarEntrevistados(a.row)},size:"20px"},{default:(0,i.k6)(function(){return[(0,i.bF)(co,null,{default:(0,i.k6)(function(){return n()(o[65]||(o[65]=[(0,i.eW)("Eliminar",-1)]))}),_:1})]}),_:1},8,["onClick"])]}),_:2},1032,["props"])]}),_:2},1032,["props"])]}),_:1},8,["pagination","data","columns"])])])):(0,i.Q3)("v-if",!0)]}),_:1})],64)),e.horarioDisp&&e.horarioAdic?((0,i.uX)(),(0,i.Wv)(Ye,{key:1,title:e.$t("cobros.datosvacio"),subtitle:e.noHorarioDisp,icon:"daily_calendar"},null,8,["title","subtitle"])):(0,i.Q3)("v-if",!0),e.cupoPeriodo?((0,i.uX)(),(0,i.Wv)(Ye,{key:2,title:e.$t("cobros.datosvacio"),subtitle:e.limCupoPeriodo,icon:"daily_calendar"},null,8,["title","subtitle"])):(0,i.Q3)("v-if",!0)],64)):(0,i.Q3)("v-if",!0),(0,i.bF)(Ao,{visible:e.loading},{default:(0,i.k6)(function(){return[(0,i.bF)(Oo,{size:"50px",color:"primary"})]}),_:1},8,["visible"])]}),_:1})],2)])])),("PERSONAL"===e.solicitadoPor||e.esOtros&&!e.perfilCreador)&&e.alumno||e.esOtros&&"OTROS"===e.tipoCita?((0,i.uX)(),(0,i.CE)("div",R,[(0,i.Lk)("div",T,[(0,i.Lk)("div",$,["NORMAL"===e.tipoCita?((0,i.uX)(),(0,i.Wv)(to,{key:0},{default:(0,i.k6)(function(){return[(0,i.bF)(io),(0,i.bF)(Co,null,{default:(0,i.k6)(function(){return[(0,i.Lk)("div",U,[(0,i.Lk)("div",_,[(0,i.bF)(ro,{modelValue:e.v$.formCitaStandar.fecha.$model,"onUpdate:modelValue":o[15]||(o[15]=function(o){return e.v$.formCitaStandar.fecha.$model=o}),options:e.diasDispon,onSelected:e.seleccionaDia,placeholder:"fecha"},null,8,["modelValue","options","onSelected"])]),(0,i.Lk)("div",V,[(0,i.bF)(lo,{error:e.v$.formCitaStandar.horario.$error,"error-label":e.$t("validaciones.requerido")},{default:(0,i.k6)(function(){return[(0,i.bF)(t,{type:"outlined",modelValue:e.formCitaStandar.horario,"onUpdate:modelValue":o[16]||(o[16]=function(o){return e.formCitaStandar.horario=o}),options:e.horaInicio,label:"HORATXT",placeholder:"Hora Inicio"},null,8,["modelValue","options"])]}),_:1},8,["error","error-label"])])]),e.noSala?(0,i.Q3)("v-if",!0):((0,i.uX)(),(0,i.CE)("div",w,[(0,i.Lk)("div",H,[(0,i.bF)(lo,{error:e.v$.formCitaStandar.sala.$error,"error-label":e.$t("validaciones.requerido")},{default:(0,i.k6)(function(){return[(0,i.bF)(t,{type:"outlined",modelValue:e.v$.formCitaStandar.sala.$model,"onUpdate:modelValue":o[17]||(o[17]=function(o){return e.v$.formCitaStandar.sala.$model=o}),options:e.salas,label:"SECUDES",val:"SECUCOD",placeholder:"Sala"},null,8,["modelValue","options"])]}),_:1},8,["error","error-label"])])])),(0,i.Lk)("div",q,[(0,i.Lk)("div",x,[(0,i.bF)(lo,{error:e.v$.asunto.$error,"error-label":e.$t("validaciones.requerido")},{default:(0,i.k6)(function(){return[e.esMontessori?((0,i.uX)(),(0,i.Wv)(so,{key:0,modelValue:e.v$.asunto.$model,"onUpdate:modelValue":o[18]||(o[18]=function(o){return e.v$.asunto.$model=o}),options:e.asuntoOptions,label:"Asunto"},null,8,["modelValue","options"])):((0,i.uX)(),(0,i.Wv)(uo,{key:1,class:"q-if-outlined",modelValue:e.v$.asunto.$model,"onUpdate:modelValue":o[19]||(o[19]=function(o){return e.v$.asunto.$model=o}),"float-label":e.$t("intranet.citacion.asunto")},null,8,["modelValue","float-label"]))]}),_:1},8,["error","error-label"])]),e.colegiosEnlace?((0,i.uX)(),(0,i.CE)("div",Q,[(0,i.bF)(fo,{icon:"plus",color:"secondary",round:"",size:"11px",onClick:o[20]||(o[20]=function(o){return e.addEnlace=!0})},{default:(0,i.k6)(function(){return[(0,i.bF)(co,null,{default:(0,i.k6)(function(){return n()(o[66]||(o[66]=[(0,i.eW)("Enlace",-1)]))}),_:1})]}),_:1})])):(0,i.Q3)("v-if",!0)]),e.addEnlace?((0,i.uX)(),(0,i.CE)("div",B,[(0,i.Lk)("div",X,[(0,i.bF)(lo,null,{default:(0,i.k6)(function(){return[(0,i.bF)(uo,{class:"q-if-outlined",modelValue:e.enlace,"onUpdate:modelValue":o[21]||(o[21]=function(o){return e.enlace=o}),"float-label":"Enlace"},null,8,["modelValue"])]}),_:1})])])):(0,i.Q3)("v-if",!0),e.isRequestBy?((0,i.uX)(),(0,i.CE)("div",j,[(0,i.Lk)("div",G,[(0,i.bF)(uo,{class:"q-if-outlined",modelValue:e.requestedBy,"onUpdate:modelValue":o[22]||(o[22]=function(o){return e.requestedBy=o}),"float-label":"Solicitado Por"},null,8,["modelValue"])])])):(0,i.Q3)("v-if",!0),e.enableModo?((0,i.uX)(),(0,i.CE)("div",W,[(0,i.Lk)("div",Y,[(0,i.bF)(po,{class:"q-if-outlined",modelValue:e.modo,"onUpdate:modelValue":o[23]||(o[23]=function(o){return e.modo=o}),options:e.tipoModo,color:"primary",inline:""},null,8,["modelValue","options"])])])):(0,i.Q3)("v-if",!0)]}),_:1})]}),_:1})):(0,i.Q3)("v-if",!0),"GRUPAL"===e.tipoCita||"OTROS"===e.tipoCita||"INMEDIATA"===e.tipoCita?((0,i.uX)(),(0,i.Wv)(to,{key:1},{default:(0,i.k6)(function(){return[(0,i.bF)(io),(0,i.bF)(Co,null,{default:(0,i.k6)(function(){return[(0,i.Lk)("div",z,[(0,i.Lk)("div",Z,[(0,i.bF)(lo,{error:e.v$.formCitaPersonal.fecha.$error||e.availableGrupal,"error-label":e.v$.formCitaPersonal.fecha.$error?e.$t("validaciones.requerido"):e.availableGrupal?"Día no disponible":""},{default:(0,i.k6)(function(){return[(0,i.bF)(ro,{modelValue:e.v$.formCitaPersonal.fecha.$model,"onUpdate:modelValue":o[24]||(o[24]=function(o){return e.v$.formCitaPersonal.fecha.$model=o}),options:e.diasDisponGO,placeholder:"fecha"},null,8,["modelValue","options"])]}),_:1},8,["error","error-label"])]),e.noSala?(0,i.Q3)("v-if",!0):((0,i.uX)(),(0,i.CE)("div",J,[(0,i.bF)(lo,{error:e.v$.formCitaPersonal.sala.$error,"error-label":e.$t("validaciones.requerido")},{default:(0,i.k6)(function(){return[(0,i.bF)(t,{type:"outlined",modelValue:e.v$.formCitaPersonal.sala.$model,"onUpdate:modelValue":o[25]||(o[25]=function(o){return e.v$.formCitaPersonal.sala.$model=o}),options:e.salas,label:"SECUDES",val:"SECUCOD",placeholder:"Sala"},null,8,["modelValue","options"])]}),_:1},8,["error","error-label"])]))]),(0,i.Lk)("div",K,[(0,i.Lk)("div",ee,[(0,i.bF)(lo,{error:e.v$.formCitaPersonal.horaInicio.$error,"error-label":e.$t("validaciones.requerido")},{default:(0,i.k6)(function(){return[(0,i.bF)(Eo,{class:"q-if-outlined",type:"time",modelValue:e.v$.formCitaPersonal.horaInicio.$model,"onUpdate:modelValue":o[26]||(o[26]=function(o){return e.v$.formCitaPersonal.horaInicio.$model=o}),format:"hh:mm a","float-label":e.$t("horainicio")},null,8,["modelValue","float-label"])]}),_:1},8,["error","error-label"])]),(0,i.Lk)("div",oe,[(0,i.bF)(lo,{error:e.v$.formCitaPersonal.horaFin.$error,"error-label":e.$t("validaciones-requerido")},{default:(0,i.k6)(function(){return[(0,i.bF)(Eo,{class:"q-if-outlined",type:"time",modelValue:e.v$.formCitaPersonal.horaFin.$model,"onUpdate:modelValue":o[27]||(o[27]=function(o){return e.v$.formCitaPersonal.horaFin.$model=o}),format:"hh:mm a","float-label":e.$t("horafin")},null,8,["modelValue","float-label"])]}),_:1},8,["error","error-label"])])]),(0,i.Lk)("div",ae,[(0,i.Lk)("div",te,[(0,i.bF)(lo,{error:e.v$.asunto.$error,"error-label":e.$t("validaciones.requerido")},{default:(0,i.k6)(function(){return[e.esMontessori?((0,i.uX)(),(0,i.Wv)(so,{key:0,modelValue:e.v$.asunto.$model,"onUpdate:modelValue":o[28]||(o[28]=function(o){return e.v$.asunto.$model=o}),options:e.asuntoOptions,label:"Asunto"},null,8,["modelValue","options"])):((0,i.uX)(),(0,i.Wv)(uo,{key:1,class:"q-if-outlined",modelValue:e.v$.asunto.$model,"onUpdate:modelValue":o[29]||(o[29]=function(o){return e.v$.asunto.$model=o}),"float-label":e.$t("intranet.citacion.asunto")},null,8,["modelValue","float-label"]))]}),_:1},8,["error","error-label"])]),e.colegiosEnlace?((0,i.uX)(),(0,i.CE)("div",ne,[(0,i.bF)(fo,{icon:"plus",color:"secondary",round:"",size:"11px",onClick:o[30]||(o[30]=function(o){return e.addEnlace=!0})},{default:(0,i.k6)(function(){return[(0,i.bF)(co,null,{default:(0,i.k6)(function(){return n()(o[67]||(o[67]=[(0,i.eW)("Enlace",-1)]))}),_:1})]}),_:1})])):(0,i.Q3)("v-if",!0)]),e.addEnlace?((0,i.uX)(),(0,i.CE)("div",ie,[(0,i.Lk)("div",re,[(0,i.bF)(lo,null,{default:(0,i.k6)(function(){return[(0,i.bF)(uo,{class:"q-if-outlined",modelValue:e.enlace,"onUpdate:modelValue":o[31]||(o[31]=function(o){return e.enlace=o}),"float-label":"Enlace"},null,8,["modelValue"])]}),_:1})])])):(0,i.Q3)("v-if",!0),e.isRequestBy?((0,i.uX)(),(0,i.CE)("div",le,[(0,i.Lk)("div",se,[(0,i.bF)(uo,{class:"q-if-outlined",modelValue:e.requestedBy,"onUpdate:modelValue":o[32]||(o[32]=function(o){return e.requestedBy=o}),"float-label":"Solicitado Por"},null,8,["modelValue"])])])):(0,i.Q3)("v-if",!0),e.enableModo?((0,i.uX)(),(0,i.CE)("div",ue,[(0,i.Lk)("div",de,[(0,i.bF)(po,{class:"q-if-outlined",modelValue:e.modo,"onUpdate:modelValue":o[33]||(o[33]=function(o){return e.modo=o}),options:e.tipoModo,color:"primary",inline:""},null,8,["modelValue","options"])]),"INMEDIATA"===e.tipoCita||"GRUPAL"===e.tipoCita?((0,i.uX)(),(0,i.CE)("div",ce,[(0,i.bF)(Ze,null,{default:(0,i.k6)(function(){return[(0,i.bF)(Ge,{class:"q-if-outlined no-bottom m-checkbox",modelValue:e.sinAlerta,"onUpdate:modelValue":o[34]||(o[34]=function(o){return e.sinAlerta=o}),label:e.$t("Sin Alerta")},null,8,["modelValue","label"])]}),_:1})])):(0,i.Q3)("v-if",!0)])):(0,i.Q3)("v-if",!0),"INMEDIATA"!==e.tipoCita?((0,i.uX)(),(0,i.CE)("div",fe,[(0,i.Lk)("div",pe,[(0,i.bF)(fo,{onClick:e.buscarEntrevistadores,label:"Horarios Similares",color:"secondary",icon:"search"},null,8,["onClick"])])])):(0,i.Q3)("v-if",!0)]}),_:1})]}),_:1})):(0,i.Q3)("v-if",!0),"INMEDIATA"===e.tipoCita?((0,i.uX)(),(0,i.Wv)(to,{key:2,class:"q-mt-md-md"},{default:(0,i.k6)(function(){return[(0,i.bF)(Co,null,{default:(0,i.k6)(function(){return[(0,i.Lk)("div",me,[(0,i.Lk)("div",ve,[(0,i.bF)(Fo,{class:"q-tabs-flex",modelValue:e.selectTab,"onUpdate:modelValue":o[39]||(o[39]=function(o){return e.selectTab=o}),inverted:""},{title:(0,i.k6)(function(){return[(0,i.bF)(Io,{name:"tab-1",label:e.arrComentarioTipo[0].DESCRIPCION},null,8,["label"]),(0,i.bF)(Io,{name:"tab-2",label:e.arrComentarioTipo[1].DESCRIPCION},null,8,["label"]),e.arrComentarioTipo[2]?((0,i.uX)(),(0,i.Wv)(Io,{key:0,name:"tab-3",label:e.arrComentarioTipo[2].DESCRIPCION},null,8,["label"])):(0,i.Q3)("v-if",!0),e.arrComentarioTipo[3]?((0,i.uX)(),(0,i.Wv)(Io,{key:1,name:"tab-4",label:e.arrComentarioTipo[3].DESCRIPCION},null,8,["label"])):(0,i.Q3)("v-if",!0)]}),default:(0,i.k6)(function(){return[(0,i.bF)(go,{name:"tab-1"},{default:(0,i.k6)(function(){return[(0,i.bF)(ko,{modelValue:e.arrComentarioTipo[0].VALOR,"onUpdate:modelValue":o[35]||(o[35]=function(o){return e.arrComentarioTipo[0].VALOR=o}),type:e.isType},null,8,["modelValue","type"])]}),_:1}),(0,i.bF)(go,{name:"tab-2"},{default:(0,i.k6)(function(){return[(0,i.bF)(ko,{modelValue:e.arrComentarioTipo[1].VALOR,"onUpdate:modelValue":o[36]||(o[36]=function(o){return e.arrComentarioTipo[1].VALOR=o}),type:e.isType},null,8,["modelValue","type"])]}),_:1}),e.arrComentarioTipo[2]?((0,i.uX)(),(0,i.Wv)(go,{key:0,name:"tab-3"},{default:(0,i.k6)(function(){return[(0,i.bF)(ko,{modelValue:e.arrComentarioTipo[2].VALOR,"onUpdate:modelValue":o[37]||(o[37]=function(o){return e.arrComentarioTipo[2].VALOR=o}),type:e.isType},null,8,["modelValue","type"])]}),_:1})):(0,i.Q3)("v-if",!0),e.arrComentarioTipo[3]?((0,i.uX)(),(0,i.Wv)(go,{key:1,name:"tab-4"},{default:(0,i.k6)(function(){return[(0,i.bF)(ko,{modelValue:e.arrComentarioTipo[3].VALOR,"onUpdate:modelValue":o[38]||(o[38]=function(o){return e.arrComentarioTipo[3].VALOR=o}),type:e.isType},null,8,["modelValue","type"])]}),_:1})):(0,i.Q3)("v-if",!0)]}),_:1},8,["modelValue"])])])]}),_:1})]}),_:1})):(0,i.Q3)("v-if",!0)]),(0,i.Lk)("div",{class:(0,r.C4)(["col-xs-12 col-md-6 q-px-sm",e.isLess?"q-pt-sm":""])},["OTROS"!==e.tipoCita&&"INMEDIATA"!==e.tipoCita||!e.isGroup?(0,i.Q3)("v-if",!0):((0,i.uX)(),(0,i.CE)("div",be,[(0,i.bF)(Ge,{class:"q-if-outlined no-bottom m-checkbox",modelValue:e.addPersona,"onUpdate:modelValue":o[40]||(o[40]=function(o){return e.addPersona=o}),label:e.$t("Agregar Estudiante"),onInput:o[41]||(o[41]=function(o){return e.tabSelect="entrevistados"})},null,8,["modelValue","label"])])),"GRUPAL"===e.tipoCita&&e.citaEstudiante?((0,i.uX)(),(0,i.CE)("div",he,[(0,i.bF)(Ge,{class:"q-if-outlined no-bottom m-checkbox",modelValue:e.soloEstudiante,"onUpdate:modelValue":o[42]||(o[42]=function(o){return e.soloEstudiante=o}),label:e.$t("Solo al Estudiante"),onInput:o[43]||(o[43]=function(o){return e.tabSelect="entrevistados"})},null,8,["modelValue","label"])])):(0,i.Q3)("v-if",!0),"NORMAL"===e.tipoCita||"INMEDIATA"===e.tipoCita?((0,i.uX)(),(0,i.Wv)(to,{key:2},{default:(0,i.k6)(function(){return[(0,i.bF)(Co,null,{default:(0,i.k6)(function(){return[(0,i.Lk)("div",Ce,[(0,i.Lk)("div",Oe,[(0,i.bF)(lo,{error:e.v$.entrevistados.parentesco.$error,"error-label":e.$t("validaciones.requerido")},{default:(0,i.k6)(function(){return[(0,i.bF)(t,{type:"outlined",modelValue:e.v$.entrevistados.parentesco.$model,"onUpdate:modelValue":o[44]||(o[44]=function(o){return e.v$.entrevistados.parentesco.$model=o}),options:e.dataParentesco,label:"TIPONOM",placeholder:"Entrevistado",disable:!e.alumno,onInput:e.cambiarEntrevistado},null,8,["modelValue","options","disable","onInput"])]}),_:1},8,["error","error-label"])]),(0,i.Lk)("div",Ae,[(0,i.bF)(lo,{error:e.v$.entrevistados.nombre.$error,"error-label":e.$t("validaciones.requerido")},{default:(0,i.k6)(function(){return[(0,i.bF)(uo,{class:"q-if-outlined",modelValue:e.v$.entrevistados.nombre.$model,"onUpdate:modelValue":o[45]||(o[45]=function(o){return e.v$.entrevistados.nombre.$model=o}),disable:e.entrevistados.parentesco&&[1,2,3].indexOf(e.entrevistados.parentesco.CODENTRES)>=0||!e.alumno,"float-label":"Nombre"},null,8,["modelValue","disable"])]}),_:1},8,["error","error-label"])]),(0,i.Lk)("div",Ee,[(0,i.bF)(fo,{icon:"plus",color:"secondary",round:"",size:"11px",onClick:e.agregarEntrevistados},{default:(0,i.k6)(function(){return[(0,i.bF)(co,null,{default:(0,i.k6)(function(){return n()(o[68]||(o[68]=[(0,i.eW)("Agregar",-1)]))}),_:1})]}),_:1},8,["onClick"])])]),(0,i.Lk)("div",Ie,[(0,i.Lk)("div",ke,[(0,i.bF)(ho,{"table-style":"height: 30vh",pagination:e.pagination,"onUpdate:pagination":o[46]||(o[46]=function(o){return e.pagination=o}),data:e.tablaEntrevistados,columns:e.columns,color:"secondary","hide-bottom":""},{body:(0,i.k6)(function(a){return[(0,i.bF)(bo,{props:a},{default:(0,i.k6)(function(){return[(0,i.bF)(mo,{key:"PARENTESCO",props:a},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(a.row["PARENTESCO"]),1)]}),_:2},1032,["props"]),(0,i.bF)(mo,{key:"NOMBRE",props:a},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(a.row["NOMBRE"]),1)]}),_:2},1032,["props"]),(0,i.bF)(mo,{key:"ELIMINAR",props:a},{default:(0,i.k6)(function(){return[(0,i.bF)(vo,{class:"cursor-pointer",name:"delete",onClick:function(o){return e.quitarEntrevistados(a.row)},size:"20px"},{default:(0,i.k6)(function(){return[(0,i.bF)(co,null,{default:(0,i.k6)(function(){return n()(o[69]||(o[69]=[(0,i.eW)("Eliminar",-1)]))}),_:1})]}),_:1},8,["onClick"])]}),_:2},1032,["props"])]}),_:2},1032,["props"])]}),_:1},8,["pagination","data","columns"])])])]}),_:1})]}),_:1})):(0,i.Q3)("v-if",!0),"INMEDIATA"===e.tipoCita?((0,i.uX)(),(0,i.CE)("div",ge,[(0,i.Lk)("div",Fe,[o[70]||(o[70]=(0,i.Lk)("br",null,null,-1)),(0,i.bF)(oo,null,{default:(0,i.k6)(function(){return[(0,i.bF)(eo,{class:"text-black text-bold q-body-1"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.$t("intranet.citacion.adjuntos")),1)]}),_:1}),(0,i.bF)(Ze,null,{default:(0,i.k6)(function(){return[e.esFamilia?(0,i.Q3)("v-if",!0):((0,i.uX)(),(0,i.Wv)(fo,{key:0,icon:"edit",round:"",flat:"",dense:"",size:".794rem",onClick:o[47]||(o[47]=function(o){return e.modalAdjuntar=!0})}))]}),_:1})]}),_:1}),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.adjuntos,function(o,a){return(0,i.uX)(),(0,i.CE)(i.FK,null,[e.adjuntos.length>0?((0,i.uX)(),(0,i.CE)("div",Se,[(0,i.bF)(So,{src:o.link,item:o,name:o.name,extension:o.extension,"direct-link":o.directLink,inline:!1},null,8,["src","item","name","extension","direct-link"])])):(0,i.Q3)("v-if",!0)],64)}),256))])])):(0,i.Q3)("v-if",!0),"GRUPAL"===e.tipoCita||"OTROS"===e.tipoCita?((0,i.uX)(),(0,i.Wv)(to,{key:4},{default:(0,i.k6)(function(){return[(0,i.bF)(Fo,{inverted:"",modelValue:e.tabSelect,"onUpdate:modelValue":o[55]||(o[55]=function(o){return e.tabSelect=o})},{title:(0,i.k6)(function(){return["OTROS"!==e.tipoCita||e.addPersona?((0,i.uX)(),(0,i.Wv)(Io,{key:0,name:"entrevistados",label:"Entrevistados"})):(0,i.Q3)("v-if",!0),(0,i.bF)(Io,{name:"entrevistadores",label:"OTROS"===e.tipoCita?"Involucrados":"Entrevistador"},null,8,["label"])]}),default:(0,i.k6)(function(){return["OTROS"!==e.tipoCita||e.addPersona?((0,i.uX)(),(0,i.Wv)(go,{key:0,name:"entrevistados"},{default:(0,i.k6)(function(){return[(0,i.Lk)("div",De,[(0,i.Lk)("div",Pe,[(0,i.bF)(lo,{error:e.v$.entrevistados.parentesco.$error,"error-label":e.$t("validaciones.requerido")},{default:(0,i.k6)(function(){return[(0,i.bF)(t,{type:"outlined",modelValue:e.v$.entrevistados.parentesco.$model,"onUpdate:modelValue":o[48]||(o[48]=function(o){return e.v$.entrevistados.parentesco.$model=o}),options:e.dataParentesco,label:"TIPONOM",placeholder:"Entrevistado",disable:!e.alumno,onInput:e.cambiarEntrevistado},null,8,["modelValue","options","disable","onInput"])]}),_:1},8,["error","error-label"])]),(0,i.Lk)("div",Le,[(0,i.bF)(lo,{error:e.v$.entrevistados.nombre.$error,"error-label":e.$t("validaciones.requerido")},{default:(0,i.k6)(function(){return[(0,i.bF)(uo,{class:"q-if-outlined",modelValue:e.v$.entrevistados.nombre.$model,"onUpdate:modelValue":o[49]||(o[49]=function(o){return e.v$.entrevistados.nombre.$model=o}),disable:e.entrevistados.parentesco&&[1,2,3].indexOf(e.entrevistados.parentesco.CODENTRES)>=0||!e.alumno,"float-label":"Nombre"},null,8,["modelValue","disable"])]}),_:1},8,["error","error-label"])]),(0,i.Lk)("div",Ne,[(0,i.bF)(fo,{icon:"plus",color:"secondary",round:"",size:"11px",onClick:e.agregarEntrevistados},{default:(0,i.k6)(function(){return[(0,i.bF)(co,null,{default:(0,i.k6)(function(){return n()(o[71]||(o[71]=[(0,i.eW)("Agregar",-1)]))}),_:1})]}),_:1},8,["onClick"])])]),(0,i.Lk)("div",Me,[(0,i.Lk)("div",ye,[(0,i.bF)(ho,{"table-style":"height: 30vh",pagination:e.pagination,"onUpdate:pagination":o[50]||(o[50]=function(o){return e.pagination=o}),data:e.tablaEntrevistados,columns:e.columns,color:"secondary","hide-bottom":""},{body:(0,i.k6)(function(a){return[(0,i.bF)(bo,{props:a},{default:(0,i.k6)(function(){return[(0,i.bF)(mo,{key:"PARENTESCO",props:a},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(a.row["PARENTESCO"]),1)]}),_:2},1032,["props"]),(0,i.bF)(mo,{key:"NOMBRE",props:a},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(a.row["NOMBRE"]),1)]}),_:2},1032,["props"]),(0,i.bF)(mo,{key:"ELIMINAR",props:a},{default:(0,i.k6)(function(){return[(0,i.bF)(vo,{class:"cursor-pointer",name:"delete",onClick:function(o){return e.quitarEntrevistados(a.row)},size:"20px"},{default:(0,i.k6)(function(){return[(0,i.bF)(co,null,{default:(0,i.k6)(function(){return n()(o[72]||(o[72]=[(0,i.eW)("Eliminar",-1)]))}),_:1})]}),_:1},8,["onClick"])]}),_:2},1032,["props"])]}),_:2},1032,["props"])]}),_:1},8,["pagination","data","columns"])])])]}),_:1})):(0,i.Q3)("v-if",!0),(0,i.bF)(go,{name:"entrevistadores"},{default:(0,i.k6)(function(){return[(0,i.Lk)("div",Re,[(0,i.Lk)("div",Te,[(0,i.bF)(t,{type:"outlined",modelValue:e.entrevistadores.tipcod,"onUpdate:modelValue":o[51]||(o[51]=function(o){return e.entrevistadores.tipcod=o}),options:e.profile,label:"TIPNOM",placeholder:"Perfiles"},null,8,["modelValue","options"])])]),(0,i.Lk)("div",$e,[(0,i.Lk)("div",Ue,[(0,i.bF)(lo,{error:e.v$.entrevistadores.personal.$error,"error-label":e.$t("validaciones.requerido")},{default:(0,i.k6)(function(){return[(0,i.bF)(t,{type:"outlined",modelValue:e.v$.entrevistadores.personal.$model,"onUpdate:modelValue":o[52]||(o[52]=function(o){return e.v$.entrevistadores.personal.$model=o}),options:e.dataEntrevistadores,label:"USUNOM",placeholder:"OTROS"===e.tipoCita?"Personal":"Entrevistador",onInput:e.cambiarEntrevistador},null,8,["modelValue","options","placeholder","onInput"])]}),_:1},8,["error","error-label"])]),(0,i.Lk)("div",_e,[(0,i.bF)(uo,{class:"q-if-outlined",modelValue:e.entrevistadores.cargo,"onUpdate:modelValue":o[53]||(o[53]=function(o){return e.entrevistadores.cargo=o}),disable:!0,"float-label":"Cargo"},null,8,["modelValue"])]),(0,i.Lk)("div",Ve,[(0,i.bF)(fo,{icon:"plus",color:"secondary",round:"",size:"11px",onClick:e.agregarEntrevistador},{default:(0,i.k6)(function(){return[(0,i.bF)(co,null,{default:(0,i.k6)(function(){return n()(o[73]||(o[73]=[(0,i.eW)("Agregar",-1)]))}),_:1})]}),_:1},8,["onClick"])])]),(0,i.Lk)("div",we,[(0,i.Lk)("div",He,[(0,i.bF)(ho,{"table-style":"height: 30vh",pagination:e.paginationEntrevistadores,"onUpdate:pagination":o[54]||(o[54]=function(o){return e.paginationEntrevistadores=o}),data:e.tablaEntrevistadores,columns:e.columnsEntrevistadores,color:"secondary","hide-bottom":""},{body:(0,i.k6)(function(a){return[(0,i.bF)(bo,{props:a},{default:(0,i.k6)(function(){return[(0,i.bF)(mo,{key:"RESPONSABLE",props:a},{default:(0,i.k6)(function(){return[(0,i.bF)(Ge,{modelValue:a.row["RESPONSABLE"],"onUpdate:modelValue":function(e){return a.row["RESPONSABLE"]=e},"true-value":1,"false-value":0,color:"#51d0a6",onClick:function(o){return e.selectResponsable(a.row.__index)}},null,8,["modelValue","onUpdate:modelValue","onClick"])]}),_:2},1032,["props"]),(0,i.bF)(mo,{key:"OBLIGATORIO",props:a},{default:(0,i.k6)(function(){return[(0,i.bF)(Ge,{modelValue:a.row["OBLIGATORIO"],"onUpdate:modelValue":function(e){return a.row["OBLIGATORIO"]=e},"true-value":1,"false-value":0,color:"#51d0a6",onClick:function(o){return e.selectObligatorio(a.row.__index)}},null,8,["modelValue","onUpdate:modelValue","onClick"])]}),_:2},1032,["props"]),(0,i.bF)(mo,{key:"USUNOM",props:a},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(a.row["USUNOM"]),1)]}),_:2},1032,["props"]),(0,i.bF)(mo,{key:"CARGONOM",props:a},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(a.row["CARGONOM"]),1)]}),_:2},1032,["props"]),(0,i.bF)(mo,{key:"ELIMINAR",props:a},{default:(0,i.k6)(function(){return[(0,i.bF)(vo,{class:"cursor-pointer",name:"delete",onClick:function(o){return e.quitarEntrevistador(a.row)},size:"20px"},{default:(0,i.k6)(function(){return[(0,i.bF)(co,null,{default:(0,i.k6)(function(){return n()(o[74]||(o[74]=[(0,i.eW)("Eliminar",-1)]))}),_:1})]}),_:1},8,["onClick"])]}),_:2},1032,["props"])]}),_:2},1032,["props"])]}),_:1},8,["pagination","data","columns"])])])]}),_:1})]}),_:1},8,["modelValue"])]}),_:1})):(0,i.Q3)("v-if",!0)],2)])])):(0,i.Q3)("v-if",!0),(0,i.bF)(Po,{class:"modal-contenido-adjunto",modelValue:e.modalAdjuntar,"onUpdate:modelValue":o[57]||(o[57]=function(o){return e.modalAdjuntar=o}),title:"Adjuntar",onSubmit:o[58]||(o[58]=function(o){return e.modalAdjuntar=!1})},{default:(0,i.k6)(function(){return[(0,i.bF)(Do,{modelValue:e.adjuntos,"onUpdate:modelValue":o[56]||(o[56]=function(o){return e.adjuntos=o}),onInput:e.aceptar},null,8,["modelValue","onInput"])]}),_:1},8,["modelValue"]),(0,i.bF)(Po,{class:"modal-horarios-citas",modelValue:e.horarioCita.modalHorario,"onUpdate:modelValue":o[61]||(o[61]=function(o){return e.horarioCita.modalHorario=o}),title:"Horarios de Citas",header:!0,footer:!1,ok:!1},{default:(0,i.k6)(function(){return[(0,i.Lk)("div",qe,[(0,i.Lk)("div",xe,[(0,i.bF)(Eo,{class:"q-if-outlined",modelValue:e.horarioCita.fecha,"onUpdate:modelValue":o[59]||(o[59]=function(o){return e.horarioCita.fecha=o}),format:"DD/MM/YYYY","float-label":"Buscar por día",onInput:e.verHorarios},null,8,["modelValue","onInput"])])]),(0,i.Lk)("div",Qe,[(0,i.Lk)("div",Be,[(0,i.bF)(ho,{"table-style":"height: 30vh",pagination:e.horarioCita.pagination,"onUpdate:pagination":o[60]||(o[60]=function(o){return e.horarioCita.pagination=o}),data:e.horarioCita.data,columns:e.horarioCita.columns,color:"secondary","hide-bottom":""},{body:(0,i.k6)(function(o){return[(0,i.bF)(bo,{props:o},{default:(0,i.k6)(function(){return[(0,i.bF)(mo,{key:"FH_INICIO",props:o},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.date(o.row["FH_INICIO"],"DD/MM/YY")),1)]}),_:2},1032,["props"]),(0,i.bF)(mo,{key:"HORA_INICIO",props:o},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.date(o.row["FH_INICIO"],"hh:mm A")),1)]}),_:2},1032,["props"]),(0,i.bF)(mo,{key:"FH_FIN",props:o},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.date(o.row["FH_FIN"],"hh:mm A")),1)]}),_:2},1032,["props"]),(0,i.bF)(mo,{key:"SALANOM",props:o},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(o.row["SALANOM"]),1)]}),_:2},1032,["props"]),(0,i.bF)(mo,{key:"ALUNOM",props:o},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(o.row["ALUNOM"]),1)]}),_:2},1032,["props"]),(0,i.bF)(mo,{key:"RESP",props:o},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(o.row["RESP"]),1)]}),_:2},1032,["props"])]}),_:2},1032,["props"])]}),_:1},8,["pagination","data","columns"]),(0,i.bF)(to,{class:"q-pa-md full-width text-right"},{default:(0,i.k6)(function(){return[(0,i.Lk)("div",Xe,[o[75]||(o[75]=(0,i.Lk)("span",{class:"q-body-1"},"Total:",-1)),(0,i.Lk)("span",je,(0,r.v_)(e.horarioCita.data.length),1)])]}),_:1})])])]}),_:1},8,["modelValue"]),e.isLess?((0,i.uX)(),(0,i.Wv)(Mo,{key:3,class:"fixed-top q-toolbar-menu",inverted:""},{default:(0,i.k6)(function(){return[(0,i.bF)(Lo,{class:"q-pl-none"}),(0,i.bF)(fo,{flat:"",round:"",dense:"",icon:"arrow_back",color:"white",style:{top:"8",right:"40"},onClick:e.validationModulo},null,8,["onClick"]),e.alumno||"OTROS"===e.tipoCita?((0,i.uX)(),(0,i.Wv)(fo,{key:0,flat:"",round:"",dense:"",icon:"more_vert",color:"white",style:{top:"8",right:"40"}},{default:(0,i.k6)(function(){return[(0,i.bF)(No,null,{default:(0,i.k6)(function(){return[(0,i.bF)(ao,{"no-border":"",link:"",highlight:""},{default:(0,i.k6)(function(){return[(0,i.bo)(((0,i.uX)(),(0,i.Wv)(oo,null,{default:(0,i.k6)(function(){return[e.validaHorario?((0,i.uX)(),(0,i.Wv)(eo,{key:0,class:"q-body-1",label:"Guardar",onClick:e.guardarCita},null,8,["onClick"])):(0,i.Q3)("v-if",!0)]}),_:1})),[[Ro]]),e.esOtros?(0,i.bo)(((0,i.uX)(),(0,i.Wv)(oo,{key:0},{default:(0,i.k6)(function(){return[(0,i.bF)(eo,{class:"q-body-1",label:"Horario",onClick:o[62]||(o[62]=function(o){return e.horarioCita.modalHorario=!0})})]}),_:1})),[[Ro]]):(0,i.Q3)("v-if",!0)]}),_:1})]}),_:1})]}),_:1})):(0,i.Q3)("v-if",!0)]}),_:1})):(0,i.Q3)("v-if",!0)]}),_:1})}var We=a(57008),Ye=a.n(We),ze=a(76080),Ze=a.n(ze),Je=a(63053),Ke=a.n(Je),eo=a(45254),oo=a.n(eo),ao=(a(30683),a(71225),a(39866),a(52133),a(10239),a(89571),a(50310),a(5962),a(90095),a(6724),a(515),a(83190),a(27153),a(62540),a(13715),a(83972)),to=a(6123),no=a(93616),io=a(80340),ro=a(30640),lo=a(92173),so=a(24974),uo=a(51082),co=a(6083),fo=a(32195),po=a(40155),mo=a(62006),vo=a(80660),bo=a(18105),ho=a(982),Co=a(78786),Oo=a(36493),Ao=a(13813),Eo=a(57668),Io=a(99637),ko=a(47035),go=a(82640),Fo=a(81288),So=a(33001),Do=a(16648),Po={setup:function(){var e=(0,ao.fG)();return{v$:e}},components:{QPageSticky:to._U,QFab:to.l6,QFabAction:to.B$,QDatetime:to.T5,QTable:to.kH,QTh:to.EJ,QTr:to.qh,QTd:to.Ef,QTableColumns:to.$s,QRadio:to.$,QToggle:to.c5,QCheckbox:po.A,QChip:to.wQ,QInnerLoading:to.SQ,QSpinnerOval:to.VA,QTooltip:to.nC,QTabs:to.uw,QTab:to.zu,QTabPane:to.dg,QOptionGroup:to.EX,sieSelect:no.A,sieVacio:io.A,sieModal:ro.A,sieEstudiantes:lo.Ay,sieUsuario:so.A,sieDate:uo.A,sieEditor:co.A,SieCloud:fo.A,QDownloadFile:mo.A,QSelect:Do.A,QPage:to.Tu,QCard:to.C$,QList:to.Mb,QItem:to.H0,QItemSide:to.n1,QItemMain:to.mF,QItemTile:to.lp,QCardTitle:to.u0,QCardSeparator:to.d6,QCardMain:to.d1,QField:to.Om,QInput:to.ie,QBtn:to.Il,QIcon:to.bP,QToolbar:to.ZV,QToolbarTitle:to.r_,QPopover:to.VM},data:function(){return{sieInfo:(0,Eo["default"])(),esFamilia:(0,Eo["default"])().esFamilia,esAdministrador:(0,Eo["default"])().esAdministrador,esDocente:(0,Eo["default"])().esDocente,esOtros:(0,Eo["default"])().esOtros,filtroAula:["0291"].indexOf((0,Eo["default"])().colcod)>=0,colegio:(0,Co["default"])(["0090"],(0,Eo["default"])().colcod)>=0,esMontessori:(0,Co["default"])(["0245"],(0,Eo["default"])().colcod)>=0,noSala:(0,Co["default"])(["0212"],(0,Eo["default"])().colcod)>=0,asunto:"",asuntoOptions:[{label:"CITAS",value:"CITAS"},{label:"CITAS TRIPARTITAS",value:"CITAS TRIPARTITAS"}],salas:{},cmbTipoCita:["0065"].indexOf((0,Eo["default"])().colcod)>=0?[{TIPO:"NORMAL",CITANOM:"Cita - Estándar"},{TIPO:"GRUPAL",CITANOM:"Cita - Libre"}]:[{TIPO:"NORMAL",CITANOM:this.$t("intranet.citacion.estandar")},{TIPO:"GRUPAL",CITANOM:this.$t("intranet.citacion.libre")},{TIPO:"INMEDIATA",CITANOM:this.$t("intranet.citacion.inmediata")},{TIPO:"OTROS",CITANOM:this.$t("intranet.citacion.otros")}],tipoCita:"",cmbSolicitado:[{VALOR:"FAMILIA",NOMBRE:"Familia"},{VALOR:"PERSONAL",NOMBRE:"Personal"}],cmbTipo:[{VALOR:"ESTANDAR",NOMBRE:"Cita Regular"},{VALOR:"ADICIONAL",NOMBRE:"Evento"}],solicitadoPor:"",perfiles:[],profile:[],excluidos:[],dataGrupo:[],dataParentesco:[],perfilCreador:null,alumno:null,estudiante:{},aula:"",cmbAula:[],cmbEstudiante:[],cmbPersonal:[],profesor:{},minDate:new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()),maxDate:new Date((new Date).getFullYear(),11,30),cmbEntreR:{},cmbEntreRTemp:{},cmbEntreS:{},horarios:{},profe:null,formCitaStandar:{fecha:null,horario:null,sala:null},asuntoEvento:"",tipoEvento:"",isEvento:!1,citaEvento:!1,horaInicio:[],listaDisponibles:[],detalleProfes:[],entrevistaName:{},personal:{},loading:!1,loadingSave:!1,cupos:[],cupoPeriodo:!1,limCupoPeriodo:"",entrevistados:{parentesco:null,nombre:null},horarioDisp:!1,noHorarioDisp:"",horarioAdic:!1,minate:0,diasDisp:[],diasEsp:[],horarioAten:[],tablaEntrevistados:[],hoy:"",colegiosEnlace:["0304"].indexOf((0,Eo["default"])().colcod)<0,enableModo:!0,enableModoFamilia:!1,addEnlace:!1,enlace:"",validaHorario:!0,usuario:["SISTEMA"],sinAlerta:!1,selectTab:"tab-1",isType:"cita",modulo:"intranet",sinMatricula:!1,columns:[{name:"PARENTESCO",label:this.colegio?"Tipo":"Entrevistado",field:"PARENTESCO",align:"center",sortable:!1},{name:"NOMBRE",label:this.$t("Nombre"),field:"NOMBRE",align:"center",sortable:!1},{name:"ELIMINAR",label:"",field:"ELIMINAR",align:"center",sortable:!1}],pagination:{page:1,rowsPerPage:50},formCitaPersonal:{horaInicio:null,horaFin:null,fecha:null,sala:null},comboEntrevistadores:[],entrevistadores:{personal:null,cargo:null,tipcod:null},tablaEntrevistadores:[],columnsEntrevistadores:[{name:"RESPONSABLE",label:this.$t("Respo."),field:"RESPONSABLE",align:"center",sortable:!1},{name:"OBLIGATORIO",label:this.$t("Oblig."),field:"OBLIGATORIO",align:"center",sortable:!1},{name:"USUNOM",label:this.$t("Nombre"),field:"USUNOM",align:"center",sortable:!1},{name:"CARGONOM",label:this.$t("Cargo"),field:"CARGONOM",align:"center",sortable:!1},{name:"ELIMINAR",label:"",field:"ELIMINAR",align:"center",sortable:!1}],paginationEntrevistadores:{page:1,rowsPerPage:50},tabSelect:"entrevistados",horarioCita:{modalHorario:!1,fecha:null,data:[],columns:[{name:"FH_INICIO",label:this.$t("Fecha"),field:"FH_INICIO",align:"center",sortable:!0},{name:"HORA_INICIO",label:this.$t("Hora Ini"),field:"FH_INICIO",align:"center",sortable:!0},{name:"FH_FIN",label:this.$t("Hora Fin"),field:"FH_FIN",align:"center",sortable:!0},{name:"SALANOM",label:this.$t("Sala"),field:"SALANOM",align:"center",sortable:!0},{name:"ALUNOM",label:this.$t("Apellidos y Nombres"),field:"ALUNOM",align:"center",sortable:!0},{name:"RESP",label:this.$t("Responsable"),field:"RESP",align:"center",sortable:!0}],pagination:{page:1,rowsPerPage:50}},diasExcluidos:[],arrComentarioTipo:[],addModo:!1,modo:2,tipoModo:[{value:1,label:"Virtual"},{value:2,label:"Presencial"}],nuevos:[],adjuntos:[],modalAdjuntar:!1,ocultaCurso:(0,Co["default"])(["0076"],(0,Eo["default"])().colcod)>=0,isGroup:(0,Co["default"])(["0057","0164","0344"],(0,Eo["default"])().colcod)>=0,addPersona:!1,requestedBy:"",isRequestBy:(0,Co["default"])(["0577"],(0,Eo["default"])().colcod)>=0,citaEstudiante:(0,Co["default"])(["0032","0582"],(0,Eo["default"])().colcod)>=0,soloEstudiante:!1,perfilAdicional:["023"].includes((0,Eo["default"])().tipcod)&&(0,Co["default"])(["0277"],(0,Eo["default"])().colcod)>=0,noValidaSala:["0629","0630","0631"].indexOf((0,Eo["default"])().colcod)>=0}},computed:{isLess:function(){return(0,Fo.isLess)()},available:function(){return!!this.formCitaStandar.fecha&&this.diasDispon(this.formCitaStandar.fecha)},availableGrupal:function(){return!!this.formCitaPersonal.fecha&&this.diasDisponGrupal(this.formCitaPersonal.fecha)},maxCarateres:function(){var e=300;switch(this.sieInfo.colcod){case"0233":e=400;break;case"0255":e=600;break;case"0019":case"0065":case"0317":case"0365":case"0098":e=1e3;break;case"0436":e=800;break}return e},buttons:function(){var e=this,o=[];return o.push({icon:"arrow_back",label:"Atrás",click:function(){e.validationModulo()}}),(this.alumno||"OTROS"===this.tipoCita)&&(this.esOtros&&o.push({icon:"calendar",label:"Horarios",click:function(){e.horarioCita.modalHorario=!0}}),this.validaHorario&&o.push({icon:"save",label:"Guardar",click:function(){e.guardarCita()},loading:this.loadingSave})),o},dataEntrevistadores:function(){var e=n()(this.comboEntrevistadores);return this.entrevistadores.tipcod&&"%"!==this.entrevistadores.tipcod.TIPCODAC&&(e=(0,So.filterArray)(this.entrevistadores.tipcod.TIPCODAC,{field:"TIPCOD",list:e})),e}},methods:{date:bo.Ay,getEnlacePersonal:function(e){var o=this;vo.$http.get("api/HyoCita/obtEnlacePersonal",{params:{profcod:e}}).then(function(e){e&&e.json.length&&e.json[0].ENLACE&&(o.enlace=e.json[0].ENLACE)})},init:function(){var e=this;return oo()(Ze()().m(function o(){var a,t,i,r,l,s,u,d,c,f,p,m,v,b,h,C,O,A;return Ze()().w(function(o){while(1)switch(o.n){case 0:return null!==(a=e.$router)&&void 0!==a&&null!==(a=a.options)&&void 0!==a&&a.history&&"object"===Ke()(e.$route)&&(t=e.$route.name.split("."),e.modulo=t[0]),"academico"===e.modulo&&(e.cmbTipoCita=e.cmbTipoCita.filter(function(e){return"NORMAL"!==e.TIPO})),i={cita:!0},o.n=1,vo.$http.get("api/HyoFeriados/obtFeriados");case 1:return d=o.v,o.n=2,vo.$http.get("api/HyoCitafecha/obtExcluidos");case 2:return c=o.v,o.n=3,vo.$http.get("api/HyoCita/obtGruposPerfil");case 3:return f=o.v,o.n=4,vo.$http.get("api/HyoCita/obtComentarioTipo");case 4:return p=o.v,o.n=5,vo.$http.get("api/HyoCita/obtPerfilesSolicitante");case 5:return m=o.v,o.n=6,vo.$http.get("api/HyoAlumnos/listarAlumnosHijos",{params:{parametros:i}});case 6:return v=o.v,o.n=7,vo.$http.get("api/HyoProfes/obtListadoProfecActivos",{params:{cargo:!0,cita:!0}});case 7:return b=o.v,o.n=8,vo.$http.post("api/HyoTablaSe/datosSe",{princod:"202"});case 8:return h=o.v,o.n=9,vo.$http.get("api/HyoCita/getModalidad");case 9:return C=o.v,o.n=10,vo.$http.get("api/HyoCita/enableModalidad");case 10:return O=o.v,o.n=11,vo.$http.get("api/HyoCita/tiposModalidad");case 11:if(A=o.v,r={feriados:d,excluidos:c,gruposPerfil:f,comentarios:p,solicitantes:m,estudiantes:v,profesores:b,tablaSe:h,modalidad:C,enableModalidad:O,tiposModalidad:A},!e.esOtros){o.n=13;break}return o.n=12,vo.$http.get("api/HyoSalones/listaSalones");case 12:r.aulas=o.v,e.cmbAula=r.aulas.json;case 13:l=(0,Ao["default"])(r.feriados.json,function(e){return(0,bo.Ay)(e.FECFER,"DD/MM")}),s=(0,Ao["default"])(r.excluidos.json,function(e){return(0,bo.Ay)(e.FECHA,"DD/MM")}),e.excluidos=[].concat(n()(l),n()(s)),e.dataGrupo=r.gruposPerfil.json,e.perfiles=(0,Ao["default"])(r.solicitantes.json,function(e){return e.TIPCOD}),e.perfilCreador=(0,Co["default"])(e.perfiles,(0,Eo["default"])().tipcod)>=0,e.cmbEstudiante=r.estudiantes.json,e.cmbPersonal=r.profesores.json,e.comboEntrevistadores=r.profesores.json,e.salas=r.tablaSe.listar,e.modo=r.modalidad.json,e.enableModo=r.enableModalidad.json.enableModalidad,e.enableModoFamilia=r.enableModalidad.json.enableModalidadFamilia,e.arrComentarioTipo=(0,Ao["default"])(r.comentarios.json,function(e){return e.VALOR="",e}),e.tipoModo=r.tiposModalidad,e.esOtros&&e.perfilCreador,e.perfilCreador&&("FAMILIA"===e.solicitadoPor&&e.seleccionarProfe({PROFCOD:e.profe.PROFCOD,USUCOD:e.profe.USUCOD}),"PERSONAL"===e.solicitadoPor&&e.seleccionarProfe({PROFCOD:e.personal.PROFCOD,USUNOM:e.personal.USUNOM})),(0,Eo["default"])().esOtros&&(0,Eo["default"])().profcod&&e.getEnlacePersonal((0,Eo["default"])().profcod),"0076"===e.sieInfo.colcod&&"001"!==e.sieInfo.tipcod&&(u=[],(0,Io["default"])(e.cmbTipoCita,function(e,o){(0,Co["default"])(["INMEDIATA","OTROS"],e.TIPO)>=0&&u.unshift(o)}),u.length>0&&(0,Io["default"])(u,function(o){e.cmbTipoCita.splice(o,1)})),"0057"===e.sieInfo.colcod&&("INMEDIATA"===e.tipoCita?e.sinAlerta=!0:e.sinAlerta=!1);case 14:return o.a(2)}},o)}))()},verHorarioNivel:function(e){var o=[];return this.sieInfo.colcod,o=(0,Oo["default"])(e,"DIASEM"),o},cambiarAula:function(e){var o=this,a={aula:this.aula.NEMO,cita:!0};vo.$http.get("api/HyoAlumnos/listarAlumnosHijos",{params:{parametros:a}}).then(function(e){o.alumno=null,o.listaDisponibles=[],o.cmbEstudiante=e.json})},cambiarAlumno:function(e){var o=this;this.alumno=e,this.profe=null,this.citaEvento=!1,this.formCitaStandar.fecha=null,this.formCitaStandar.horario=null,this.horaInicio=[],this.esOtros&&!(this.perfilCreador||"0057"===this.sieInfo.colcod&&["011"].includes((0,Eo["default"])().tipcod)||this.perfilAdicional)&&(this.seleccionarProfe({PROFCOD:this.sieInfo.profcod,USUNOM:this.sieInfo.nombre,USUCOD:this.sieInfo.usucod}),this.getEnlacePersonal(this.sieInfo.profcod)),vo.$http.get("api/HyoCitahorario/obtCantidadAdicional").then(function(e){var a=0;return e.json.length>0&&e.json.forEach(function(e){1===e.TIPO&&(a=e.CANTIDAD)}),a>0?vo.$http.get("api/HyoCitahorario/obtCantidadAdicional",{params:{nemo:o.alumno.NEMO}}).then(function(e){var a=[],t=[];e.json.forEach(function(e){1===e.TIPO?(t.push(e.CANTIDAD),o.asuntoEvento=e.DESCRIPCION):a.push(e.CANTIDAD)}),a.length>0&&t.length>0?(o.isEvento=!0,o.citaEvento=!0):t.length>0&&a.length<1?o.citaEvento=!0:a.length>0&&t.length<1&&(o.isEvento=!1,o.citaEvento=!1)}).catch(function(e){}):(o.citaEvento=!1,o.citaEvento)}).finally(function(){vo.$http.get("api/HyoCita/obtParentesco",{params:{alucod:e.ALUCOD}}).then(function(e){o.dataParentesco=e.json}),o.setDestinatarios(e.ALUCOD)})},setDestinatarios:function(e){var o=this,a={campos:["PADNOM","MADNOM","APONOM","PADDEF","MADDEF"],cita:!0};return this.esFamilia||"FAMILIA"===this.solicitadoPor?("FAMILIA"===this.solicitadoPor?a.alucod=this.alumno.ALUCOD:a.famcod=this.sieInfo.famcod,vo.$http.get("api/HyoUsuario/obtDestinatariosVarios",{params:{alucod:e,isTutoria:this.citaEvento,citacion:!0}}).then(function(e){o.listaDisponibles=Object.keys(e.json),o.detalleProfes=e.json})):a.alucod=e,vo.$http.post("api/HyoFamilias/obtDatosTabla",a).then(function(e){o.entrevistaName={6:o.alumno.NOMCOMP,3:e.json[0].APONOM,2:e.json[0].MADNOM,1:e.json[0].PADNOM}})},cambiarTipoCita:function(){this.profe=null,this.v$.asunto.$model="",this.v$.formCitaStandar.fecha.$model=null,this.citaEvento="ADICIONAL"===this.tipoEvento,this.setDestinatarios(this.alumno.ALUCOD)},cambiarPersonal:function(e){var o=this;this.personal=e,this.formCitaStandar.fecha=null,this.formCitaStandar.horario=null,this.usuario.push(e.USUCOD),this.getEnlacePersonal(e.PROFCOD),vo.$http.post("api/Hyowhorariodeatencion/obtHorariosProfe",{profcod:e.PROFCOD}).then(function(e){void 0===e.json[0]||e.json.length<0?("INMEDIATA"!==o.tipoCita&&(0,ho["default"])("No tiene horario asignado","warning"),o.diasDisp=[]):(o.minate=e.json[0].MINATE,o.horarios=o.verHorarioNivel(e.json),o.diasDisp=Object.keys(o.horarios))}),vo.$http.get("api/HyoCitahorario/obtHorarioAdicional",{params:{usucod:this.usuario}}).then(function(e){0===e.json.length&&(o.horarioAdic=!0,o.noHorarioAdic="No tiene horario adicional"),e.json=(0,Ao["default"])(e.json,function(e){return e.FECHA_FORMAT=(0,bo.Ay)(e.FH_INICIO,"DD/MM"),e.FECHA_FORMAT_FULL=(0,bo.Ay)(e.FH_INICIO,"YYYY/MM/DD"),e});var a=e.json.filter(function(e){return!e.FLAG&&0!==e.FLAG}),t=(0,So.filterArray)(0,{field:"FLAG",list:e.json});o.diasEsp=(0,Oo["default"])(a,"FECHA_FORMAT"),o.diasExcluidos=(0,Ao["default"])(t,function(e){return e.FECHA_FORMAT_FULL})})},obtHorariosTotal:function(e){var o=this;return oo()(Ze()().m(function a(){var t,n,i,r,l,s;return Ze()().w(function(a){while(1)switch(a.n){case 0:return o.horarioDisp=!1,o.horarioAdic=!1,o.usuario.push(e.USUCOD),a.n=1,vo.$http.post("api/Hyowhorariodeatencion/obtMinateProfe",{profcod:e.PROFCOD});case 1:return r=a.v,a.n=2,vo.$http.post("api/Hyowhorariodeatencion/obtHorariosProfe",{profcod:e.PROFCOD});case 2:return l=a.v,a.n=3,vo.$http.get("api/HyoCitahorario/obtHorarioAdicional",{params:{usucod:o.usuario}});case 3:s=a.v,t={minateProfe:r,horariosProfe:l,horarioAdicional:s},o.loading=!1,o.minate=t.minateProfe.json[0].MINATE,o.hoy=t.minateProfe.json[0].ESHOY,0===t.horariosProfe.json.length&&(o.horarioDisp=!0,o.noHorarioDisp="No tiene horario establecido"),("NORMAL"===o.tipoCita||"FAMILIA"===o.solicitadoPor||o.esFamilia)&&(o.horarios=o.verHorarioNivel(t.horariosProfe.json)),o.diasDisp=Object.keys(o.horarios),0===t.horarioAdicional.json.length&&(o.horarioAdic=!0),t.horarioAdicional.json=(0,Ao["default"])(t.horarioAdicional.json,function(e){return e.FECHA_FORMAT=(0,bo.Ay)(e.FH_INICIO,"DD/MM"),e.FECHA_FORMAT_FULL=(0,bo.Ay)(e.FH_INICIO,"YYYY/MM/DD"),e}),n=[],t.horarioAdicional.json.forEach(function(e){1!==e.FLAG||"ADICIONAL"!==o.tipoEvento&&!1!==o.isEvento?null!==e.FLAG||"ESTANDAR"!==o.tipoEvento&&!1!==o.isEvento||n.push(e):(o.v$.asunto.$model=e.DESCRIPCION,o.v$.formCitaStandar.fecha.$model=e.FH_INICIO,n.push(e))}),i=(0,So.filterArray)(0,{field:"FLAG",list:t.horarioAdicional.json}),o.diasEsp=(0,Oo["default"])(n,"FECHA_FORMAT"),o.diasExcluidos=(0,Ao["default"])(i,function(e){return e.FECHA_FORMAT_FULL}),"ADICIONAL"!==o.tipoEvento&&!0!==o.citaEvento||o.seleccionaDia(new Date(o.v$.formCitaStandar.fecha.$model)),o.usuario=["SISTEMA"];case 4:return a.a(2)}},a)}))()},seleccionarProfe:function(e){var o=this;this.v$.formCitaStandar.$reset(),this.v$.entrevistados.$reset(),this.tablaEntrevistados=[],this.loading=!0,this.enlace=null,this.profe=e,this.colegio&&this.alumno&&"004"===(0,Eo["default"])().tipcod&&vo.$http.get("api/HyoCita/verificarCupo",{params:{alucod:this.alumno.ALUCOD,usucod:this.profe.USUCOD}}).then(function(e){o.cupos=e.json,o.cupoPeriodo=!1,o.cupos.forEach(function(e){e.COUNT>=3?(o.cupoPeriodo=!0,o.limCupoPeriodo="Usted ya no dispone de entrevistas para este bimestre"):o.cupoPeriodo=!1})}),"004"!==(0,Eo["default"])().tipcod&&"FAMILIA"!==this.solicitadoPor||this.getEnlacePersonal(this.profe.PROFCOD),this.obtHorariosTotal(e),this.entrevistados.nombre=null,this.formCitaStandar.fecha=null,this.formCitaStandar.horario=null},diasDispon:function(e){var o=new Date(e).getDay()+"",a=(0,bo.Ay)(e,"DD/MM"),t=(0,bo.Ay)(new Date,"YYYY/MM/DD"),n=(0,bo.Ay)(e,"YYYY/MM/DD"),i=(0,Co["default"])(this.excluidos,a)>=0||"ADICIONAL"===this.tipoEvento||(!0===this.citaEvento?!this.diasEsp[a]:!this.diasEsp[a]&&(0,Co["default"])(this.diasDisp,o)<0),r=!0,l=["ARAMIREZ","VMELGAREJO","JPEREZ","PCUAILA","PLUJAN","EGUILLERMINIO","LVASSALLO","JGUTIERREZ","MVALDEZ","FCASTRO","VPAJARES","EMAGALLANES","DBAZAN"],s=["CBONTEMPO","VLALANDI","MCHAVEZ2","SCHUQUILIN","MARELLANO","MTRUJILLO2"];switch((0,Eo["default"])().colcod){case"0090":(this.esFamilia&&l.indexOf(this.profe.USUCOD)>=0||l.indexOf((0,Eo["default"])().usucod)>=0||s.indexOf((0,Eo["default"])().usucod)>=0)&&(i="ADICIONAL"===this.tipoEvento||(!0===this.citaEvento?!this.diasEsp[a]:!this.diasEsp[a]&&(0,Co["default"])(this.diasDisp,o)<0));break;case"0433":["004","006"].includes(this.sieInfo.tipcod)||(i="ADICIONAL"===this.tipoEvento||(!0===this.citaEvento?!this.diasEsp[a]:!this.diasEsp[a]&&(0,Co["default"])(this.diasDisp,o)<0));break}var u=(0,bo.Ay)(new Date,"YYYY/MM/DD"),d=(0,bo.Ay)(e,"YYYY/MM/DD");return r=(0,Co["default"])(this.diasExcluidos,d)<0&&d>=u,["0090"].indexOf((0,Eo["default"])().colcod)>=0&&["004"].indexOf((0,Eo["default"])().colcod)>=0?!i&&r&&n>t:!i&&r&&n>=t},diasDisponGrupal:function(e){var o=(0,Co["default"])(this.excluidos,(0,bo.Ay)(e,"DD/MM"))>=0;return"0433"===(0,Eo["default"])().colcod&&(["004","006"].includes(this.sieInfo.tipcod)||(o=(0,Co["default"])([],(0,bo.Ay)(e,"DD/MM"))>=0)),o},diasDisponGO:function(e){var o=["0","6"];"0098"===(0,Eo["default"])().colcod&&(o=["0"]);var a=new Date,t=new Date(e).getDay()+"",n=(0,bo.Ay)(e,"YYYY/MM/DD");"INMEDIATA"===this.tipoCita&&a.setDate(a.getDate()-7);var i=(0,bo.Ay)(a,"YYYY/MM/DD"),r=["ARAMIREZ","VMELGAREJO","JPEREZ","PCUAILA","PLUJAN","EGUILLERMINIO","LVASSALLO","JGUTIERREZ","MVALDEZ","FCASTRO","VPAJARES","EMAGALLANES","DBAZAN"],l=["CBONTEMPO","VLALANDI","MCHAVEZ2","SCHUQUILIN","MARELLANO","MTRUJILLO2"],s=(0,Co["default"])(this.excluidos,(0,bo.Ay)(e,"DD/MM"))<0&&n>=i&&o.indexOf(t)<0;switch((0,Eo["default"])().colcod){case"0057":["004","006"].includes(this.sieInfo.tipcod)||"INMEDIATA"===this.tipoCita&&(s=(0,Co["default"])(this.excluidos,(0,bo.Ay)(e,"DD/MM"))<0&&o.indexOf(t)<0);break;case"0090":(r.indexOf((0,Eo["default"])().usucod)>=0||l.indexOf((0,Eo["default"])().usucod))&&(s=n>=i&&o.indexOf(t)<0);break;case"0233":s=(0,Co["default"])(this.excluidos,(0,bo.Ay)(e,"DD/MM"))<0&&o.indexOf(t)<0;break;case"0433":["004","006"].includes(this.sieInfo.tipcod)||(s=n>=i&&o.indexOf(t)<0);break}return s},seleccionaDia:function(e){var o=this;return oo()(Ze()().m(function a(){var t,n,i,r,l,s;return Ze()().w(function(a){while(1)switch(a.n){case 0:if(t=o.horarios,n=o.diasEsp,o.horarioAten=[],i=(0,bo.Ay)(e,"d"),r=(0,bo.Ay)(e,"DD/MM"),!o.esFamilia){a.n=2;break}return a.n=1,vo.$http.get("api/Hyowhorariodeatencion/obDisponibilidadProfe",{params:{fecha:e,profcod:o.profe.PROFCOD,alucod:o.alumno.ALUCOD}});case 1:if(l=a.v,!(l.json.length>0)){a.n=2;break}return o.horaInicio=[],a.a(2,(0,ho["default"])("No se puede generar más de una cita con el mismo profesor para ese día","warning"));case 2:t[i]&&t[i].length>0&&(0,Io["default"])(t[i],function(e){o.generarTurnos(e)}),n[r]&&n[r].length>0&&(0,Io["default"])(n[r],function(e){var a={HORAI:new Date((0,bo.Ay)(e.FH_INICIO,"01/01/1970 HH:mm")),HORAF:new Date((0,bo.Ay)(e.FH_FIN,"01/01/1970 HH:mm"))};o.generarTurnos(a)}),s={profcod:"",fecha:e},o.esOtros&&!o.perfilCreador&&(s["profcod"]=(0,Eo["default"])().profcod),o.esFamilia&&(s["profcod"]=o.profe.PROFCOD),o.perfilCreador&&("PERSONAL"===o.solicitadoPor?s["profcod"]=o.personal.PROFCOD:"FAMILIA"===o.solicitadoPor&&(s["profcod"]=o.profe.PROFCOD)),s.profcod?vo.$http.get("api/HyoCita/obtHorariosOcupados",{params:s}).then(function(e){var a=[];(0,Io["default"])(e.json,function(e){var t=new Date((0,bo.Ay)(e.FH_INICIO,"01/01/1970 HH:mm")),n=new Date((0,bo.Ay)(e.FH_FIN,"01/01/1970 HH:mm"));(0,Io["default"])(o.horarioAten,function(e,o){var i=new Date((0,bo.Ay)(e.INICIO,"01/01/1970 HH:mm")),r=new Date((0,bo.Ay)(e.FIN,"01/01/1970 HH:mm"));i.getTime()===t.getTime()&&r.getTime()===n.getTime()&&a.unshift(o)})}),a.length>0&&(0,Io["default"])(a,function(e){o.horarioAten.splice(e,1)}),o.horaInicio=o.horarioAten,o.horaInicio.length<1&&o.minate>0&&(0,ho["default"])("Todos sus horarios ya fueron reservados","warning")}):o.esMontessori&&(0,ho["default"])("Seleccione un entrevistador","warning");case 3:return a.a(2)}},a)}))()},seleccionaHorario:function(e){this.validaHorario=!0;var o=new Date((0,Fo.fechaTiempo)(this.formCitaStandar.fecha,e.INICIO)).getTime(),a=new Date(this.formCitaStandar.fecha);a.setDate(a.getDate()-1);var t=15,n=0;switch((0,Eo["default"])().colcod){case"0001":t=16,n=30;break}a.setHours(t,n,0,0),a=new Date(a).getTime();var i=new Date(this.hoy).getTime(),r=12;switch((0,Eo["default"])().colcod){case"0275":case"0331":r=24;break}if("0090"===(0,Eo["default"])().colcod&&"004"===(0,Eo["default"])().tipcod){if(i>a)return this.validaHorario=!1,(0,ho["default"])("Las citas se generan hasta las 03:00 pm del día anterior seleccionado","warning")}else if("0001"===(0,Eo["default"])().colcod&&"004"===(0,Eo["default"])().tipcod){if(i>a)return this.validaHorario=!1,(0,ho["default"])("Las citas se generan hasta las 04:30 pm del día anterior seleccionado","warning")}else if(["0275","0331"].includes((0,Eo["default"])().colcod)){if((o-i)/36e5<r)return this.validaHorario=!1,(0,ho["default"])("Las citas se generan como minimo con "+r+" horas de anticipiación","warning")}else if(o<i)return this.validaHorario=!1,(0,ho["default"])("No puede generar una cita en una fecha pasada","warning")},generarTurnos:function(e){if(void 0===e.MINATE&&(e.MINATE=this.minate),!e.MINATE||e.MINATE<=0)return(0,ho["default"])("Configure horario de atención","warning");for(var o=new Date(e.HORAI).getTime(),a=new Date(e.HORAF).getTime(),t=(a-o)/6e4/e.MINATE,n=new Date(e.HORAI),i=1;i<=t;i++){var r=new Date(n).getTime();r+=6e4*e.MINATE,this.horarioAten.push({HORATXT:(0,bo.Ay)(n,"hh:mm A")+" - "+(0,bo.Ay)(r,"hh:mm A"),INICIO:new Date(n),FIN:new Date(r)}),n=r}this.horarioAten=(0,ko["default"])(this.horarioAten,"asc","INICIO")},cambiarEntrevistado:function(e){if(this.entrevistados.nombre=this.entrevistaName[e.CODENTRES],this.entrevistados.nombre||(0,ho["default"])("Usuario no registrado","warning"),"Fallecido"===this.entrevistados.nombre)return(0,ho["default"])("El usuario se encuentra difunto","warning"),!1},cambiarEntrevistador:function(e){this.entrevistadores.cargo=e.CARNOM},agregarEntrevistados:function(){this.v$.entrevistados.$touch();var e=this.tablaEntrevistados,o={PARENTESCO_ID:this.entrevistados.parentesco.CODENTRES,PARENTESCO:this.entrevistados.parentesco.TIPONOM,NOMBRE:this.entrevistados.nombre,USUCOD:this.alumno.USUCODF,ALUCOD:this.alumno.ALUCOD};this.v$.entrevistados.$error||(e.length>0?(0,Co["default"])(this.tablaEntrevistados,this.entrevistados.parentesco.CODENTRES,{key:"PARENTESCO_ID"})>=0&&!this.addPersona?(0,ho["default"])("Entrevistado seleccionado ya se encuentra en la lista","warning"):(0,Co["default"])(this.tablaEntrevistados,this.entrevistados.nombre,{key:"NOMBRE"})>=0?(0,ho["default"])("Existe un entrevistado con el mismo nombre","warning"):"Fallecido"===this.entrevistados.nombre?(0,ho["default"])("El usuario se encuentra difunto","warning"):e.push(o):"Fallecido"===this.entrevistados.nombre?(0,ho["default"])("El usuario se encuentra difunto","warning"):e.push(o),this.tablaEntrevistados=e,this.entrevistados.parentesco=null,this.entrevistados.nombre=null,this.v$.entrevistados.$reset())},agregarEntrevistador:function(){var e=this.entrevistadores.personal;this.v$.entrevistadores.$touch();var o=this.tablaEntrevistadores;this.v$.entrevistadores.$error||(o.length>0?(0,Co["default"])(this.tablaEntrevistadores,this.entrevistadores.personal.USUCOD,{key:"USUCOD"})>=0?(0,ho["default"])("El entrevistador ya se encuentra en la lista","warning"):o.push({USUCOD:e.USUCOD,USUNOM:e.USUNOM,CARGONOM:e.CARNOM,PROFCOD:e.PROFCOD,RESPONSABLE:0,OBLIGATORIO:0}):o.push({USUCOD:e.USUCOD,USUNOM:e.USUNOM,CARGONOM:e.CARNOM,PROFCOD:e.PROFCOD,RESPONSABLE:1,OBLIGATORIO:1}),this.tablaEntrevistadores=o,this.entrevistadores.personal=null,this.entrevistadores.cargo=null,this.v$.entrevistadores.$reset())},quitarEntrevistados:function(e){var o=n()(this.tablaEntrevistados);o.splice(e.__index,1),this.tablaEntrevistados=o},quitarEntrevistador:function(e){var o=n()(this.tablaEntrevistadores),a=0;o.splice(e.__index,1),this.tablaEntrevistadores=o,1===e.RESPONSABLE&&(0===e.__index&&this.tablaEntrevistadores.length>0?this.tablaEntrevistadores[0].RESPONSABLE=1:0!==e.__index&&1!==this.tablaEntrevistadores&&(this.tablaEntrevistadores[e.__index-1].RESPONSABLE=1)),(0,Io["default"])(this.tablaEntrevistadores,function(e){1===e.OBLIGATORIO&&(a+=1)}),1===e.OBLIGATORIO&&(0===e.__index&&this.tablaEntrevistadores.length>0?0===a&&(this.tablaEntrevistadores[0].OBLIGATORIO=1):0!==e.__index&&1!==this.tablaEntrevistadores&&0===a&&(this.tablaEntrevistadores[e.__index-1].OBLIGATORIO=1))},buscarEntrevistadores:function(){var e=this;if(this.formCitaPersonal.fecha&&this.formCitaPersonal.horaInicio&&this.formCitaPersonal.horaFin){var o={dia:(0,bo.Ay)(this.formCitaPersonal.fecha,"d"),horai:this.formCitaPersonal.horaInicio,horaf:this.formCitaPersonal.horaFin};vo.$http.post("api/Hyowhorariodeatencion/obtProfesHorario",o).then(function(o){e.entrevistadores.cargo=null,e.comboEntrevistadores=o.json})}else this.comboEntrevistadores=this.cmbPersonal},guardarCita:function(){var e=this;return oo()(Ze()().m(function o(){var a,t,n,i,r,l,s,u,d,c,f,p,m;return Ze()().w(function(o){while(1)switch(o.n){case 0:if(e.v$.formCitaStandar.$touch(),e.v$.formCitaPersonal.$touch(),e.v$.asunto.$touch(),a=[],e.v$.formCitaStandar.$error&&e.v$.formCitaPersonal.$error&&e.v$.asunto.$error||e.available&&e.availableGrupal){o.n=9;break}if(e.tablaEntrevistados.length>0&&(a=(0,Ao["default"])(e.tablaEntrevistados,function(e){return{USUCOD:e.USUCOD,NOMBRE:e.NOMBRE,PARENTESCO_ID:e.PARENTESCO_ID,ALUCOD:e.ALUCOD}})),t="",n="",!e.esFamilia&&"FAMILIA"!==e.solicitadoPor&&"NORMAL"!==e.tipoCita){o.n=2;break}if(t=(0,Fo.fechaTiempo)(e.formCitaStandar.fecha,e.formCitaStandar.horario.INICIO),n=(0,Fo.fechaTiempo)(e.formCitaStandar.fecha,e.formCitaStandar.horario.FIN),t=(0,Fo.fechaTiempoNoZonaHoraria)(t),n=(0,Fo.fechaTiempoNoZonaHoraria)(n),!(new Date(e.formCitaStandar.fecha).getFullYear()>e.sieInfo.ano)){o.n=1;break}return(0,ho["default"])("El año de sesión es menor al año actual","warning"),o.a(2,!1);case 1:o.n=4;break;case 2:if(t=(0,Fo.fechaTiempo)(e.formCitaPersonal.fecha,e.formCitaPersonal.horaInicio),n=(0,Fo.fechaTiempo)(e.formCitaPersonal.fecha,e.formCitaPersonal.horaFin),!(new Date(e.formCitaPersonal.fecha).getFullYear()>e.sieInfo.ano)){o.n=3;break}return(0,ho["default"])("El año de sesión es menor al año actual","warning"),o.a(2,!1);case 3:if("PERSONAL"!==e.solicitadoPor||"NORMAL"!==e.tipoCita&&"INMEDIATA"!==e.tipoCita){o.n=4;break}if(e.profesor){o.n=4;break}return(0,ho["default"])("Debe seleccionar al personal","warning"),o.a(2,!1);case 4:if("NORMAL"!==e.tipoCita&&(e.comboEntrevistadores=e.cmbPersonal),i={tipoCita:e.tipoCita,alucod:"",fh_inicio:t,fh_fin:n,sala:e.formCitaStandar.sala||e.formCitaPersonal.sala,asunto:e.asunto,usucodSolicitante:"",usucodCreador:"",solicitador:e.solicitadoPor,entrevistados:a,entrevistadores:[],enlace:e.enlace?e.enlace:"",comentarios:[],modo:e.modo,sinAlerta:e.sinAlerta,add_Persona:e.addPersona,requestedBy:e.requestedBy,sinMatricula:e.sinMatricula,solo_estudiante:e.soloEstudiante},e.nuevos&&e.nuevos.length>0&&(i.adjuntos=e.nuevos),e.alumno&&(i["alucod"]=e.alumno.ALUCOD),(e.esFamilia||"FAMILIA"===e.solicitadoPor)&&(i["usucodSolicitante"]=e.esFamilia?e.sieInfo.usucod:e.alumno.USUCODF,i["usucodCreador"]=e.sieInfo.usucod,i["sala"]="01",i["entrevistadores"]=[{USUCOD:e.profe.USUCOD,NOMBRE:e.profe.USUNOM,OBLIGATORIO:1,RESPONSABLE:1,ALUCOD:e.alumno.ALUCOD}],"0291"===(0,Eo["default"])().colcod&&(i["modo"]=1)),r=[],l=[],"PERSONAL"===e.solicitadoPor||e.esOtros&&!e.perfilCreador){if(s=[],u=[],d=[],e.tablaEntrevistadores.length>0?(0,Io["default"])(e.tablaEntrevistadores,function(o,a){var t={USUCOD:o.USUCOD,NOMBRE:o.USUNOM,OBLIGATORIO:o.OBLIGATORIO,RESPONSABLE:o.RESPONSABLE,ALUCOD:e.alumno?e.alumno.ALUCOD:""};s.push(t),1===t.RESPONSABLE?(r.push(a),d.push(Ye()({},t))):u.push(Ye()({},t)),1===o.OBLIGATORIO&&l.push(a)}):"NORMAL"!==e.tipoCita&&"INMEDIATA"!==e.tipoCita||(s=[{USUCOD:e.perfilCreador||e.perfilAdicional?e.personal.USUCOD:e.sieInfo.usucod,NOMBRE:e.perfilCreador||e.perfilAdicional?e.personal.USUNOM:e.sieInfo.nombre,OBLIGATORIO:1,RESPONSABLE:1,ALUCOD:e.alumno?e.alumno.ALUCOD:""}]),"OTROS"===e.tipoCita)for(i["entrevistados"]=e.addPersona?u.concat(a):u,c=s.length-1;c>=0;c--)1===s[c].RESPONSABLE&&(s=s.splice(c,1));"GRUPAL"===e.tipoCita||"OTROS"===e.tipoCita?d[0]&&(i["usucodSolicitante"]=d[0].USUCOD):i["usucodSolicitante"]=e.perfilCreador?e.personal.USUCOD:e.sieInfo.usucod,i["usucodCreador"]=e.sieInfo.usucod,i["entrevistadores"]=s}if(e.arrComentarioTipo.length>=0&&(0,Io["default"])(e.arrComentarioTipo,function(e){var o={ID:e.ID,DESCRIPCION:e.VALOR};i.comentarios.push(o)}),0!==i.entrevistados.length){o.n=5;break}return(0,ho["default"])("No se encontró ningún entrevistado","warning"),o.a(2,!1);case 5:if(0!==i.entrevistadores.length){o.n=6;break}return(0,ho["default"])("No se encontró ningún entrevistador","warning"),o.a(2,!1);case 6:if(!e.esFamilia&&"FAMILIA"!==e.solicitadoPor){o.n=8;break}if("0032"===e.sieInfo.colcod){o.n=8;break}return o.n=7,vo.$http.get("api/HyoCita/obtFechasPeriodo");case 7:if(f=o.v,p=new Date(new Date(i.fh_inicio).getFullYear(),new Date(i.fh_inicio).getMonth(),new Date(i.fh_inicio).getDate(),0,0).getTime(),m=p>new Date(f.json.FECFIN).getTime(),!m){o.n=8;break}return(0,ho["default"])("No se puede generar una cita fuera del periodo actual","warning"),o.a(2,!1);case 8:e.loadingSave=!e.loadingSave,e.loadingSave&&vo.$http.post("api/HyoCita/grabarCita",i).then(function(o){(0,ho["default"])("Proceso Finalizado","success"),e.esOtros&&("OTROS"===e.tipoCita&&(e.tablaEntrevistadores=[],e.limpiarCampos(),e.enlace=null),e.arrComentarioTipo.map(function(e){return e.VALOR="",e})),e.profe=null,e.colegio||(e.enlace=null),e.limpiarCampos(),e.loadingSave=!1}).catch(function(o){console.log("error",o),e.loadingSave=!1,o.error&&o.error.message.indexOf("Cannot read property 'indexOf' of undefined")>=0||o.error&&o.error.message.indexOf("Converting circular structure to JSON")>=0||o.error&&o.error.message.indexOf("falta configurar las alertas")>=0?((0,ho["default"])("Proceso Finalizado","success"),e.esOtros&&(0,ho["default"])("Falta configurar las alertas","warning"),e.enlace=null,e.limpiarCampos()):(0,ho["default"])(o.error.message,"warning")});case 9:return o.a(2)}},o)}))()},verHorarios:function(){var e=this;vo.$http.get("api/HyoCita/obtEntrevistasReg",{params:{fecha:this.horarioCita.fecha}}).then(function(o){e.horarioCita.data=o.json})},selectResponsable:function(e){var o=this;1===this.tablaEntrevistadores.length?this.tablaEntrevistadores[0].RESPONSABLE=1:(0,Io["default"])(this.tablaEntrevistadores,function(a,t){t!==e?o.tablaEntrevistadores[t].RESPONSABLE=0:o.tablaEntrevistadores[e].RESPONSABLE=1})},selectObligatorio:function(e){var o=0;(0,Io["default"])(this.tablaEntrevistadores,function(e){1===e.OBLIGATORIO&&(o+=1)}),0===o&&(this.tablaEntrevistadores[e].OBLIGATORIO=1)},changeTipoCita:function(){var e=this;return oo()(Ze()().m(function o(){var a,t;return Ze()().w(function(o){while(1)switch(o.n){case 0:if(!["OTROS","GRUPAL"].includes(e.tipoCita)){o.n=2;break}return e.sinAlerta=!1,o.n=1,vo.$http.get("api/HyoTipUsuAcc/obtListaPerfiles",{params:{grupos:!0}});case 1:a=o.v,t=a.json,t.unshift({TIPNOM:"Todos",TIPCODAC:"%"}),e.profile=t;case 2:e.limpiarCampos(),"OTROS"!==e.tipoCita&&e.cmbAula.length<1&&(e.cmbEstudiante=[]),"0057"===e.sieInfo.colcod&&("INMEDIATA"===e.tipoCita?e.sinAlerta=!0:e.sinAlerta=!1);case 3:return o.a(2)}},o)}))()},changeSinMatricula:function(){var e=this;return oo()(Ze()().m(function o(){var a,t,n;return Ze()().w(function(o){while(1)switch(o.n){case 0:return a={sinMatricula:e.sinMatricula,nivel:e.aula.INSTRUCOD,grado:e.aula.GRADOCOD,seccion:e.aula.SECCIONCOD,aula:e.aula.NEMO},o.n=1,vo.$http.get("api/HyoAlumnos/listarAlumnosHijos",{params:{parametros:a}});case 1:t=o.v,n=t.json,e.cmbEstudiante=n;case 2:return o.a(2)}},o)}))()},limpiarCampos:function(){var e=this;return oo()(Ze()().m(function o(){var a;return Ze()().w(function(o){while(1)switch(o.n){case 0:e.v$.formCitaStandar.$reset(),e.v$.formCitaPersonal.$reset(),e.v$.asunto.$reset(),e.formCitaStandar.fecha=null,e.formCitaStandar.horario=null,e.formCitaStandar.sala=null,e.horaInicio=[],e.tablaEntrevistados=[],e.profesor=null,e.formCitaPersonal.fecha=null,e.formCitaPersonal.sala=null,e.formCitaPersonal.horaInicio=null,e.formCitaPersonal.horaFin=null,e.tablaEntrevistadores=[],e.nuevos=[],e.adjuntos=[],e.sinAlerta=!1,e.addPersona=!1,"PERSONAL"===e.solicitadoPor&&"0001"===e.sieInfo.colcod&&(a=(0,Co["default"])(e.cmbTipoCita,"OTROS",{key:"TIPO"}),a>=0&&e.cmbTipoCita.splice(a,1)),"OTROS"===e.tipoCita&&(e.alumno=null,e.tabSelect="entrevistadores"),"INMEDIATA"===e.tipoCita&&(e.formCitaPersonal.sala=e.salas[0].SECUCOD),"FAMILIA"===e.solicitadoPor&&(e.tipoCita=null),"GRUPAL"===e.tipoCita&&(e.perfiles.indexOf((0,Eo["default"])().tipcod)>=0||e.tablaEntrevistadores.push({USUCOD:(0,Eo["default"])().usucod,USUNOM:(0,Eo["default"])().nombre,CARGONOM:(0,Eo["default"])().tipnom,PROFCOD:(0,Eo["default"])().profcod,RESPONSABLE:1,OBLIGATORIO:1}),e.tabSelect="entrevistados"),e.esMontessori||(e.asunto="");case 1:return o.a(2)}},o)}))()},validationModulo:function(){"intranet"===this.modulo?this.$router.push("/".concat(this.modulo,"/citacion/listado")):this.$router.push({name:"".concat(this.modulo,".citacion")})},aceptar:function(){var e=this;this.nuevos=[],(0,Io["default"])(this.adjuntos,function(o){return o.link="",o.icon=o.ICONO.icon,o.color=o.ICONO.color,Object.prototype.hasOwnProperty.call(o,"esAgregado")||e.nuevos.push(o),o})}},validations:function(){var e=this,o={formCitaStandar:{fecha:{required:go.mw},horario:{required:go.mw},sala:{required:go.mw}},formCitaPersonal:{horaInicio:{required:go.mw},horaFin:{required:go.mw},fecha:{required:go.mw},sala:{required:(0,go.F5)(function(){return!e.noValidaSala})}},entrevistados:{parentesco:{required:go.mw},nombre:{required:go.mw}},entrevistadores:{personal:{required:go.mw}},asunto:{required:go.mw}};return o},created:function(){this.init()}},Lo=a(12807);const No=(0,Lo.A)(Po,[["render",Ge]]);var Mo=No}}]);