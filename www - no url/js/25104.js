"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[25104],{25104:function(e,t,o){o.r(t),o.d(t,{default:function(){return b}});var n=o(8445),r=o.n(n),s=(o(12982),o(3110),o(61758)),a=o(58790),i={class:"row gutter-sm q-mx-sm q-my-md"};function c(e,t){var o=(0,s.g2)("q-toolbar-title"),n=(0,s.g2)("q-toolbar"),c=((0,s.g2)("q-checkbox"),(0,s.g2)("q-card-title")),l=(0,s.g2)("q-card-main"),u=(0,s.g2)("q-card-separator"),f=(0,s.g2)("q-btn"),d=(0,s.g2)("q-card-actions"),g=(0,s.g2)("q-card"),p=(0,s.g2)("q-page");return(0,s.uX)(),(0,s.Wv)(p,null,{default:(0,s.k6)(function(){return[(0,s.bF)(n,{class:"shadow-2 z-fab",inverted:""},{default:(0,s.k6)(function(){return[(0,s.bF)(o,{class:"q-pa-none"},{default:(0,s.k6)(function(){return r()(t[1]||(t[1]=[(0,s.eW)("Copia de información",-1)]))}),_:1})]}),_:1}),(0,s.Lk)("div",i,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.listaProcesos,function(t){return(0,s.uX)(),(0,s.CE)("div",{key:t.tag,class:"col-4"},[(0,s.bF)(g,{class:"full-height column"},{default:(0,s.k6)(function(){return[(0,s.bF)(c,null,{right:(0,s.k6)(function(){return[(0,s.Q3)("v-if",!0)]}),default:(0,s.k6)(function(){return[(0,s.eW)((0,a.v_)(t.title),1)]}),_:2},1024),(0,s.bF)(l,{class:"col text-center",style:{"line-height":"22px"}},{default:(0,s.k6)(function(){return[(0,s.eW)((0,a.v_)(t.description),1)]}),_:2},1024),(0,s.bF)(u),(0,s.bF)(d,null,{default:(0,s.k6)(function(){return[(0,s.bF)(f,{class:"full-width",flat:"",label:"Ejecutar",icon:"play_arrow",color:"secondary",onClick:function(o){return e.ejecutarProceso(t.tag)},disable:!e.acceso},null,8,["onClick","disable"])]}),_:2},1024)]}),_:2},1024)])}),128))])]}),_:1})}o(71225),o(10239),o(89571),o(50310),o(5962),o(83190);var l=o(6123),u=o(24729),f=o(982),d=o(57668),g={components:{QCard:l.C$,QCardTitle:l.u0,QCardMain:l.d1,QCardSeparator:l.d6,QCardActions:l.zZ,QCheckbox:l.vZ,Dialog:u.A,QPageSticky:l._U,notify:f["default"],sieInfo:d["default"],QPage:l.Tu,QToolbar:l.ZV,QToolbarTitle:l.r_,QBtn:l.Il},data:function(){return{acceso:(0,d["default"])().ruta.nivel>=2,listaProcesos:[],procesosEnBloque:[],selectedTag:"",isStart:"start"===(0,d["default"])().sistema}},methods:{init:function(){this.obtenerProcesos()},obtenerProcesos:function(){var e=this,t=["notas","libreta"];this.$http.get("api/HyoCopia/getProcesos").then(function(o){var n=o.json.filter(function(o){return!!e.isStart||-1===t.indexOf(o.tag)});e.listaProcesos=n})},ejecutarProceso:function(e){var t=this;this.$q.dialog({title:"¿Esta seguro de continuar con el proceso?",subtitle:"Este proceso será irreversible",ok:"Si",cancel:"No"}).onOk(function(){var o={tag:e};t.$http.post("api/HyoCopia/procesoCopia",o).then(function(e){(0,f["default"])(e.json.message)}).catch(function(e){(0,f["default"])(e.error.message,"error")})})},ejecutarProcesosEnBloque:function(){var e=this;this.procesosEnBloque.length>0?this.$q.dialog({title:"¿Esta seguro de continuar con los proceso?",subtitle:"Este proceso será irreversible",ok:"SI",cancel:"NO"}).onOk(function(){var t={tags:e.procesosEnBloque};e.$http.post("api/HyoCopia/procesoCopiaEnBloque",t).then(function(e){(0,f["default"])(e.json.message)}).catch(function(e){(0,f["default"])(e.error.message,"error")})}):this.$q.dialog({title:"Aviso",message:"No ha seleccionado ningún proceso"})},agregarProcesoEnBloque:function(e){var t=this.procesosEnBloque.indexOf(e);-1!==t?this.procesosEnBloque.splice(t,1):(this.selectedTag=e,this.procesosEnBloque.push(e))}},created:function(){this.init()}},p=o(12807);const h=(0,p.A)(g,[["render",c]]);var b=h}}]);