"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[65605],{65605:function(o,e,t){t.r(e),t.d(e,{default:function(){return $o}});var r=t(8445),i=t.n(r),n=(t(71225),t(50310),t(5962),t(83190),t(61758)),l=t(58790),s={class:"row q-px-sm q-pt-sm"},a={class:"col-xs-12 col-md-2"},c={class:"col-xs-12 col-md-2"},u={key:0,class:"col-xs-12 col-md-6"},d={key:1,class:"col-xs-12 col-md-6"},f={key:2,class:"col-xs-12 col-md-2"},m={key:0,class:"div"},p={key:0,class:"row q-px-sm"},C={class:"col-xs-12 listaDetalle"},g={class:"col-12"},v={class:"row q-px-sm"},h={class:"col-xs-12 listaDetalle"},D={class:"col-10"},b={class:"col-2 text-right"},O={key:1,class:"div"},k={class:"row q-px-sm"},R={class:"col-xs-12 listaDetalle"},F={class:"col-12"},S={class:"row q-px-sm"},I={class:"col-xs-12 listaDetalle"},P={class:"col-10"},N={class:"col-2 text-right"},L={class:"row q-pa-sm"},A={class:"col-6"},y={class:"row q-pa-sm"},w={class:"col-8"},G={key:0,class:"row q-pa-sm"},T={class:"col-8"},V={key:1,class:"row q-pa-sm"},U={class:"col-6"},E={class:"col-6"},q={key:2,class:"row q-pa-sm"},_={class:"col-6"},M={class:"col-6"},x={class:"row q-pa-sm"},Q={class:"col-12"},$={class:"row q-pa-sm"},j={class:"col-6"},W={class:"row q-pa-sm"},X={class:"col-8"},H={class:"row q-pa-sm"},B={key:0,class:"col-8"},z={key:1,class:"col-8"},J={class:"row q-pa-sm"},K={class:"col-12"};function Z(o,e){var t=(0,n.g2)("q-toolbar-title"),r=(0,n.g2)("q-toolbar"),Z=(0,n.g2)("q-select"),Y=(0,n.g2)("selectMultiple"),oo=(0,n.g2)("q-search"),eo=(0,n.g2)("q-td"),to=(0,n.g2)("q-tr"),ro=(0,n.g2)("q-table"),io=(0,n.g2)("q-tooltip"),no=(0,n.g2)("q-btn"),lo=(0,n.g2)("q-icon"),so=(0,n.g2)("q-input"),ao=(0,n.g2)("q-field"),co=(0,n.g2)("sie-modal"),uo=(0,n.g2)("q-page");return(0,n.uX)(),(0,n.Wv)(uo,{class:"bg-white"},{default:(0,n.k6)(function(){return[(0,n.bF)(r,{class:"shadow-2 z-fab",inverted:""},{default:(0,n.k6)(function(){return[(0,n.bF)(t,{class:"q-pa-none"},{default:(0,n.k6)(function(){return i()(e[19]||(e[19]=[(0,n.eW)("Creación de Descriptores",-1)]))}),_:1})]}),_:1}),(0,n.Lk)("div",s,[(0,n.Lk)("div",a,[(0,n.bF)(Z,{class:"q-if-outlined",color:"secondary",modelValue:o.vmFiltro.instrucod,options:o.dataSelect.nivel,"float-label":o.$t("ngs.nivel"),onChange:o.seleccionaInstru,filter:""},null,8,["modelValue","options","float-label","onChange"])]),(0,n.Lk)("div",c,[(0,n.bF)(Z,{class:"q-if-outlined",color:"secondary",modelValue:o.vmFiltro.gradocod,options:o.grados,"float-label":o.$t("ngs.grado"),onChange:o.seleccionaGrado,filter:""},null,8,["modelValue","options","float-label","onChange"])]),o.isRegDescriptorPorArea?((0,n.uX)(),(0,n.CE)("div",u,[(0,n.bF)(Z,{class:"q-if-outlined",color:"secondary",modelValue:o.vmFiltro.curso,options:o.dataSelect.curso,onInput:o.seleccionaCurso,filter:""},null,8,["modelValue","options","onInput"])])):((0,n.uX)(),(0,n.CE)("div",d,[(0,n.bF)(Y,{options:o.dataSelect.curso,modelValue:o.vmFiltro.cursos,labelSelect:o.$t("curso"),onChange:o.seleccionaCurso},null,8,["options","modelValue","labelSelect","onChange"])])),o.isMostrarPeriodo?((0,n.uX)(),(0,n.CE)("div",f,[(0,n.bF)(Z,{class:"q-if-outlined",color:"secondary",modelValue:o.vmFiltro.bimecod,options:o.periodos,"float-label":"Periodo",onChange:o.seleccionaPeriodo},null,8,["modelValue","options","onChange"])])):(0,n.Q3)("v-if",!0)]),o.verComponentes.grillaPorCompetencia?((0,n.uX)(),(0,n.CE)("div",m,[o.isRegDescriptorPorArea?(0,n.Q3)("v-if",!0):((0,n.uX)(),(0,n.CE)("div",p,[(0,n.Lk)("div",C,[(0,n.bF)(ro,{data:o.dataDetalle,columns:o.conf.columns,selection:o.conf.selection,pagination:o.conf.pagination,selected:o.conf.selected,"onUpdate:selected":e[1]||(e[1]=function(e){return o.conf.selected=e}),"row-key":"CODIGO",color:"secondary",filter:o.conf.filter},{top:(0,n.k6)(function(t){return[(0,n.Lk)("div",g,[(0,n.bF)(oo,{class:"q-if-outlined","hide-underline":"",modelValue:o.conf.filter,"onUpdate:modelValue":e[0]||(e[0]=function(e){return o.conf.filter=e})},null,8,["modelValue"])])]}),body:(0,n.k6)(function(e){return[(0,n.bF)(to,{class:(0,l.C4)(["cursor-pointer",e.row.CODIGO===o.detSeleccionado.CODIGO?"bg-grey-2":""]),props:e},{default:(0,n.k6)(function(){return[(0,n.bF)(eo,{key:"GRADODES",props:e,onClick:function(t){return o.obtItems(e.row)}},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(e.row.GRADODES),1)]}),_:2},1032,["props","onClick"]),(0,n.bF)(eo,{key:"CURSONOM",props:e,onClick:function(t){return o.obtItems(e.row)}},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(e.row.CURSONOM),1)]}),_:2},1032,["props","onClick"]),(0,n.bF)(eo,{key:"CRITCOD",props:e,onClick:function(t){return o.obtItems(e.row)}},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)("CRIT"+e.row.INDICE),1)]}),_:2},1032,["props","onClick"]),(0,n.bF)(eo,{key:"CRITERIO",props:e,onClick:function(t){return o.obtItems(e.row)}},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(e.row.CRITERIO),1)]}),_:2},1032,["props","onClick"])]}),_:2},1032,["props","class"])]}),_:1},8,["data","columns","selection","pagination","selected","filter"])])])),(0,n.Lk)("div",v,[(0,n.Lk)("div",h,[(0,n.bF)(ro,{data:o.confItem.data,columns:o.confItem.columns,selection:o.confItem.selection,pagination:o.confItem.pagination,selected:o.confItem.selected,"onUpdate:selected":e[4]||(e[4]=function(e){return o.confItem.selected=e}),"row-key":"CODIGO",color:"secondary",filter:o.confItem.filter},{top:(0,n.k6)(function(t){return[(0,n.Lk)("div",D,[(0,n.bF)(oo,{class:"q-if-outlined","hide-underline":"",modelValue:o.confItem.filter,"onUpdate:modelValue":e[2]||(e[2]=function(e){return o.confItem.filter=e})},null,8,["modelValue"])]),(0,n.Lk)("div",b,[(0,n.bF)(no,{onClick:e[3]||(e[3]=function(e){return o.add({})}),round:"",color:"secondary",icon:"plus"},{default:(0,n.k6)(function(){return[(0,n.bF)(io,{anchor:"top middle",self:"bottom middle"},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(o.$t("botones.agregar")),1)]}),_:1})]}),_:1})])]}),body:(0,n.k6)(function(t){return[(0,n.bF)(to,{class:"cursor-pointer",props:t},{default:(0,n.k6)(function(){return[(0,n.bF)(eo,{key:"DSCRTRCOD",props:t},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(t.row.DSCRTRCOD),1)]}),_:2},1032,["props"]),(0,n.bF)(eo,{key:"DSCRTRDES",props:t},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(t.row.DSCRTRDES),1)]}),_:2},1032,["props"]),o.isMostrarPeriodo?((0,n.uX)(),(0,n.Wv)(eo,{key:"NIVEL_LOGRO",props:t},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(t.row.RANGO),1)]}),_:2},1032,["props"])):(0,n.Q3)("v-if",!0),o.isMostrarPeriodo?(0,n.Q3)("v-if",!0):((0,n.uX)(),(0,n.Wv)(eo,{key:"NIVEL_LOGRO",props:t},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(t.row.NIVEL_LOGRO),1)]}),_:2},1032,["props"])),(0,n.bF)(eo,{key:"NVINI",props:t},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(t.row.NVINI),1)]}),_:2},1032,["props"]),(0,n.bF)(eo,{key:"ACCION",props:t},{default:(0,n.k6)(function(){return[(0,n.bF)(lo,{class:"cursor-pointer q-mx-xs",onClick:function(e){return o.add(t.row)},name:"edit",color:"black",size:"17px"},{default:(0,n.k6)(function(){return[(0,n.bF)(io,{anchor:"top middle",self:"bottom middle"},{default:(0,n.k6)(function(){return i()(e[20]||(e[20]=[(0,n.eW)("Editar",-1)]))}),_:1})]}),_:1},8,["onClick"]),(0,n.bF)(lo,{class:"cursor-pointer q-mx-xs",onClick:function(e){return o.eliminar(t.row)},name:"delete",color:"black",size:"17px"},{default:(0,n.k6)(function(){return[(0,n.bF)(io,{anchor:"top middle",self:"bottom middle"},{default:(0,n.k6)(function(){return i()(e[21]||(e[21]=[(0,n.eW)("Eliminar",-1)]))}),_:1})]}),_:1},8,["onClick"])]}),_:2},1032,["props"])]}),_:2},1032,["props"])]}),_:1},8,["data","columns","selection","pagination","selected","filter"])])])])):(0,n.Q3)("v-if",!0),o.verComponentes.grillaPorCurso?((0,n.uX)(),(0,n.CE)("div",O,[(0,n.Lk)("div",k,[(0,n.Lk)("div",R,[(0,n.bF)(ro,{data:o.dataDetalleCursos,columns:o.confCursos.columns,selection:o.confCursos.selection,pagination:o.confCursos.pagination,selected:o.confCursos.selected,"onUpdate:selected":e[6]||(e[6]=function(e){return o.confCursos.selected=e}),"row-key":"CODIGO",color:"secondary",filter:o.confCursos.filter},{top:(0,n.k6)(function(t){return[(0,n.Lk)("div",F,[(0,n.bF)(oo,{class:"q-if-outlined","hide-underline":"",modelValue:o.confCursos.filter,"onUpdate:modelValue":e[5]||(e[5]=function(e){return o.confCursos.filter=e})},null,8,["modelValue"])])]}),body:(0,n.k6)(function(e){return[(0,n.bF)(to,{class:(0,l.C4)(["cursor-pointer",e.row.CURSONOM===o.detSeleccionado.CURSONOM?"bg-grey-2":""]),props:e},{default:(0,n.k6)(function(){return[(0,n.bF)(eo,{key:"GRADODES",props:e,onClick:function(t){return o.obtItems(e.row)}},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(e.row.GRADODES),1)]}),_:2},1032,["props","onClick"]),(0,n.bF)(eo,{key:"CURSONOM",props:e,onClick:function(t){return o.obtItems(e.row)}},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(e.row.CURSONOM),1)]}),_:2},1032,["props","onClick"])]}),_:2},1032,["props","class"])]}),_:1},8,["data","columns","selection","pagination","selected","filter"])])]),(0,n.Lk)("div",S,[(0,n.Lk)("div",I,[(0,n.bF)(ro,{data:o.confItemCursos.data,columns:o.confItemCursos.columns,selection:o.confItemCursos.selection,pagination:o.confItemCursos.pagination,selected:o.confItemCursos.selected,"onUpdate:selected":e[9]||(e[9]=function(e){return o.confItemCursos.selected=e}),"row-key":"CODIGO",color:"secondary",filter:o.confItemCursos.filter},{top:(0,n.k6)(function(t){return[(0,n.Lk)("div",P,[(0,n.bF)(oo,{class:"q-if-outlined","hide-underline":"",modelValue:o.confItemCursos.filter,"onUpdate:modelValue":e[7]||(e[7]=function(e){return o.confItemCursos.filter=e})},null,8,["modelValue"])]),(0,n.Lk)("div",N,[(0,n.bF)(no,{onClick:e[8]||(e[8]=function(e){return o.add({})}),round:"",color:"secondary",icon:"plus"},{default:(0,n.k6)(function(){return[(0,n.bF)(io,{anchor:"top middle",self:"bottom middle"},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(o.$t("botones.agregar")),1)]}),_:1})]}),_:1})])]}),body:(0,n.k6)(function(t){return[(0,n.bF)(to,{class:"cursor-pointer",props:t},{default:(0,n.k6)(function(){return[(0,n.bF)(eo,{key:"BIMECOD",props:t},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(t.row.BIMECOD),1)]}),_:2},1032,["props"]),(0,n.bF)(eo,{key:"DSCRTRDES",props:t},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(t.row.DSCRTRDES),1)]}),_:2},1032,["props"]),(0,n.bF)(eo,{key:"ACCION",props:t},{default:(0,n.k6)(function(){return[(0,n.bF)(lo,{class:"cursor-pointer q-mx-xs",onClick:function(e){return o.add(t.row)},name:"edit",color:"black",size:"17px"},{default:(0,n.k6)(function(){return[(0,n.bF)(io,{anchor:"top middle",self:"bottom middle"},{default:(0,n.k6)(function(){return i()(e[22]||(e[22]=[(0,n.eW)("Editar",-1)]))}),_:1})]}),_:1},8,["onClick"]),(0,n.bF)(lo,{class:"cursor-pointer q-mx-xs",onClick:function(e){return o.eliminar(t.row)},name:"delete",color:"black",size:"17px"},{default:(0,n.k6)(function(){return[(0,n.bF)(io,{anchor:"top middle",self:"bottom middle"},{default:(0,n.k6)(function(){return i()(e[23]||(e[23]=[(0,n.eW)("Eliminar",-1)]))}),_:1})]}),_:1},8,["onClick"])]}),_:2},1032,["props"])]}),_:2},1032,["props"])]}),_:1},8,["data","columns","selection","pagination","selected","filter"])])])])):(0,n.Q3)("v-if",!0),o.verComponentes.grillaPorCompetencia?((0,n.uX)(),(0,n.Wv)(co,{key:2,class:"plantilla-comentario-modal",modelValue:o.modal,"onUpdate:modelValue":e[15]||(e[15]=function(e){return o.modal=e}),title:o.titulo,ok:o.$t("botones.guardar"),footer:!0,onSubmit:o.grabar,onClose:o.cerrarModal},{default:(0,n.k6)(function(){return[(0,n.Lk)("div",L,[(0,n.Lk)("div",A,[(0,n.Lk)("label",null,[e[24]||(e[24]=(0,n.Lk)("span",{class:"q-ma-sm-md text-bold"},"Grado:",-1)),(0,n.Lk)("span",null,(0,l.v_)(o.detSeleccionado.GRADODES),1)])])]),(0,n.Lk)("div",y,[(0,n.Lk)("div",w,[(0,n.Lk)("label",null,[e[25]||(e[25]=(0,n.Lk)("span",{class:"q-ma-sm-md text-bold"},"Curso:",-1)),(0,n.Lk)("span",null,(0,l.v_)(o.detSeleccionado.CURSONOM),1)])])]),o.isRegDescriptorPorArea?(0,n.Q3)("v-if",!0):((0,n.uX)(),(0,n.CE)("div",G,[(0,n.Lk)("div",T,[(0,n.Lk)("label",null,[e[26]||(e[26]=(0,n.Lk)("span",{class:"q-ma-sm-md text-bold"},"Criterio:",-1)),(0,n.Lk)("span",null,(0,l.v_)(o.detSeleccionado.CRITERIO),1)])])])),o.isMostrarFilaNL?((0,n.uX)(),(0,n.CE)("div",V,[(0,n.Lk)("div",U,[(0,n.bF)(so,{class:"q-if-outlined",modelValue:o.form.nlini,"onUpdate:modelValue":e[10]||(e[10]=function(e){return o.form.nlini=e}),"float-label":o.setEtiquetaNlini,maxlength:"2"},null,8,["modelValue","float-label"])]),(0,n.Lk)("div",E,[o.isMostrarNlFin?((0,n.uX)(),(0,n.Wv)(so,{key:0,class:"q-if-outlined",modelValue:o.form.nlfin,"onUpdate:modelValue":e[11]||(e[11]=function(e){return o.form.nlfin=e}),"float-label":"Nota Fin",maxlength:"2"},null,8,["modelValue"])):(0,n.Q3)("v-if",!0)])])):(0,n.Q3)("v-if",!0),o.isMostrarFilaNV?((0,n.uX)(),(0,n.CE)("div",q,[(0,n.Lk)("div",_,[(0,n.bF)(so,{class:"q-if-outlined",modelValue:o.form.nvini,"onUpdate:modelValue":e[12]||(e[12]=function(e){return o.form.nvini=e}),"float-label":o.setEtiquetaNvini},null,8,["modelValue","float-label"])]),(0,n.Lk)("div",M,[o.isMostrarNivFin?((0,n.uX)(),(0,n.Wv)(so,{key:0,class:"q-if-outlined",modelValue:o.form.nvfin,"onUpdate:modelValue":e[13]||(e[13]=function(e){return o.form.nvfin=e}),"float-label":"Nota Fin"},null,8,["modelValue"])):(0,n.Q3)("v-if",!0)])])):(0,n.Q3)("v-if",!0),(0,n.Lk)("div",x,[(0,n.Lk)("div",Q,[(0,n.bF)(ao,{count:500},{default:(0,n.k6)(function(){return[(0,n.bF)(so,{class:"q-if-outlined",type:"textarea",rows:5,modelValue:o.form.dscrtrdes,"onUpdate:modelValue":e[14]||(e[14]=function(e){return o.form.dscrtrdes=e}),"float-label":"Descriptor"},null,8,["modelValue"])]}),_:1})])])]}),_:1},8,["modelValue","title","ok","onSubmit","onClose"])):(0,n.Q3)("v-if",!0),o.verComponentes.grillaPorCurso?((0,n.uX)(),(0,n.Wv)(co,{key:3,class:"plantilla-comentario-modal",modelValue:o.modal,"onUpdate:modelValue":e[18]||(e[18]=function(e){return o.modal=e}),title:o.titulo,ok:o.$t("botones.guardar"),footer:!0,onSubmit:o.grabar,onClose:o.cerrarModal},{default:(0,n.k6)(function(){return[(0,n.Lk)("div",$,[(0,n.Lk)("div",j,[(0,n.Lk)("label",null,[e[27]||(e[27]=(0,n.Lk)("span",{class:"q-ma-sm-md text-bold"},"Grado:",-1)),(0,n.Lk)("span",null,(0,l.v_)(o.detSeleccionado.GRADODES),1)])])]),(0,n.Lk)("div",W,[(0,n.Lk)("div",X,[(0,n.Lk)("label",null,[e[28]||(e[28]=(0,n.Lk)("span",{class:"q-ma-sm-md text-bold"},"Curso:",-1)),(0,n.Lk)("span",null,(0,l.v_)(o.detSeleccionado.CURSONOM),1)])])]),(0,n.Lk)("div",H,[o.isEdit?((0,n.uX)(),(0,n.CE)("div",B,[(0,n.Lk)("label",null,[e[29]||(e[29]=(0,n.Lk)("span",{class:"q-ma-sm-md text-bold"},"Periodo:",-1)),(0,n.Lk)("span",null,(0,l.v_)(o.form.bimecod),1)])])):((0,n.uX)(),(0,n.CE)("div",z,[(0,n.bF)(Z,{class:"q-if-outlined",color:"secondary",modelValue:o.vmFiltro.bimecod,options:o.periodos,"float-label":"Periodo","onUpdate:modelValue":e[16]||(e[16]=function(e){return o.form.bimecod=e}),onChange:o.seleccionaPeriodoCurso},null,8,["modelValue","options","onChange"])]))]),(0,n.Lk)("div",J,[(0,n.Lk)("div",K,[(0,n.bF)(ao,{count:500},{default:(0,n.k6)(function(){return[(0,n.bF)(so,{class:"q-if-outlined",type:"textarea",rows:5,modelValue:o.form.dscrtrdes,"onUpdate:modelValue":e[17]||(e[17]=function(e){return o.form.dscrtrdes=e}),"float-label":"Descriptor"},null,8,["modelValue"])]}),_:1})])])]}),_:1},8,["modelValue","title","ok","onSubmit","onClose"])):(0,n.Q3)("v-if",!0)]}),_:1})}var Y=t(99550),oo=t.n(Y),eo=t(76080),to=t.n(eo),ro=t(45254),io=t.n(ro),no=(t(39866),t(23825),t(10239),t(515),t(27153),t(62692),t(66307),t(24066),t(6123)),lo=t(93616),so=t(30640),ao=t(982),co=t(13813),uo=t(69027),fo=t(27738),mo=t(80660),po={default:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return{instrucod:o,gradocod:e,cursocod:t,critcod:r,grupocod:i,bimecod:n,dscrtrcod:"",dscrtrdes:"",nlini:"",nlfin:"",nvini:"",nvfin:""}},configDescriptorAnual:function(){return mo.$http.get("api/HyoDescriptorAnual/configDescriptorAnual").then(function(o){var e=o.json;return e}).catch(function(){return[]})},getListar:function(o,e,t){return mo.$http.get("api/HyoDescriptorAnual/listarCriterios",{params:{instrucod:o,gradocod:e,bimecod:t}})},getCursosNivelGrado:function(o,e){return mo.$http.get("api/HyoClase/obtClasesNivelGrado",{params:{instrucod:o,gradocod:e,validarPermisos:!0}})},getListarItems:function(o){return mo.$http.get("api/HyoDescriptorAnual/listarDescriptores",{params:o})},grabar:function(o,e){e||(o.dscrtrcod="");var t={instrucod:o.instrucod,gradocod:o.gradocod,cursocod:o.cursocod,critcod:o.critcod,dscrtrcod:o.dscrtrcod,dscrtrdes:o.dscrtrdes,nlini:o.nlini,nlfin:o.nlfin,nvini:o.nvini,nvfin:o.nvfin,grupocod:o.grupocod,bimecod:o.bimecod};return mo.$http.post("api/HyoDescriptorAnual/grabar",t)},eliminar:function(o){return mo.$http.post("api/HyoDescriptorAnual/eliminar",{instrucod:o.INSTRUCOD,gradocod:o.GRADOCOD,cursocod:o.CURSOCOD,critcod:o.CRITCOD,dscrtrcod:o.DSCRTRCOD,grupocod:o.GRUPOCOD,bimecod:o.BIMECOD})},getDataConfigNotas:function(){return mo.$http.get("api/HyoTipoCalculo/getConfigPorDefecto").then(function(o){var e=o.json;return e}).catch(function(){return[]})}},Co=t(95523),go={class:"row q-pa-sm"},vo={class:"col-xs-12 col-md-3"},ho={class:"row"},Do={class:"col"},bo={class:"row"},Oo={class:"col"},ko={class:"row"},Ro={key:0,class:"col"},Fo={key:1,class:"col"},So={key:0,class:"row"},Io={class:"col"},Po={class:"col-xs-12 col-md-9"},No={class:"row"},Lo={class:"col-xs-12 col-md-2"},Ao={class:"col-xs-12 col-md-2"},yo={class:"col-xs-12 col-md-6"},wo={key:0,class:"col-xs-12 col-md-2"},Go={class:"row q-px-sm q-pt-sm"},To={class:"col-md-12 col-xs-12 q-pr-md-xs"};function Vo(o,e){var t=(0,n.g2)("q-card"),r=(0,n.g2)("q-select"),l=(0,n.g2)("selectMultiple"),s=(0,n.g2)("q-search"),a=(0,n.g2)("q-table"),c=(0,n.g2)("sie-modal");return(0,n.uX)(),(0,n.Wv)(c,{class:"plantilla-modal-copiar",modelValue:o.modal,"onUpdate:modelValue":e[3]||(e[3]=function(e){return o.modal=e}),title:"Copiar Registros",ok:o.$t("botones.procesar"),onSubmit:o.procesarCopia,footer:!0},{default:(0,n.k6)(function(){return[(0,n.Lk)("div",go,[(0,n.Lk)("div",vo,[(0,n.Q3)(" ORIGEN "),(0,n.bF)(t,{class:"row full width items items-center q-px-sm q-py-xs"},{default:(0,n.k6)(function(){return i()(e[4]||(e[4]=[(0,n.Lk)("div",{class:"col"},[(0,n.Lk)("span",{class:"text-bold q-body-1"},"Origen:")],-1)]))}),_:1}),(0,n.Lk)("div",ho,[(0,n.Lk)("div",Do,[(0,n.bF)(r,{class:"q-if-outlined",color:"secondary",modelValue:o.vmFiltro.instrucod,options:o.dataSelect.nivel,"float-label":o.$t("ngs.nivel"),onChange:o.seleccionaInstru,filter:""},null,8,["modelValue","options","float-label","onChange"])])]),(0,n.Lk)("div",bo,[(0,n.Lk)("div",Oo,[(0,n.bF)(r,{class:"q-if-outlined",color:"secondary",modelValue:o.vmFiltro.gradocod,options:o.grados,"float-label":o.$t("ngs.grado"),onChange:o.seleccionaGrado,filter:""},null,8,["modelValue","options","float-label","onChange"])])]),(0,n.Lk)("div",ko,[o.isRegDescriptorPorArea?((0,n.uX)(),(0,n.CE)("div",Ro,[(0,n.bF)(r,{class:"q-if-outlined",color:"secondary",modelValue:o.vmFiltro.curso,options:o.dataSelect.curso,onInput:o.seleccionaCurso,filter:""},null,8,["modelValue","options","onInput"])])):((0,n.uX)(),(0,n.CE)("div",Fo,[(0,n.bF)(l,{options:o.dataSelect.curso,modelValue:o.vmFiltro.cursos,labelSelect:o.$t("curso"),onChange:o.seleccionaCurso},null,8,["options","modelValue","labelSelect","onChange"])]))]),o.isMostrarPeriodo?((0,n.uX)(),(0,n.CE)("div",So,[(0,n.Lk)("div",Io,[(0,n.bF)(r,{class:"q-if-outlined",color:"secondary",modelValue:o.vmFiltro.bimecod,options:o.periodos,"float-label":"Periodo",onChange:o.seleccionaPeriodo},null,8,["modelValue","options","onChange"])])])):(0,n.Q3)("v-if",!0)]),(0,n.Lk)("div",Po,[(0,n.Q3)(" DESTINO "),(0,n.bF)(t,{class:"row full width items items-center q-px-sm q-py-xs"},{default:(0,n.k6)(function(){return i()(e[5]||(e[5]=[(0,n.Lk)("div",{class:"col"},[(0,n.Lk)("span",{class:"text-bold q-body-1"},"Destino:")],-1)]))}),_:1}),(0,n.Lk)("div",No,[(0,n.Lk)("div",Lo,[(0,n.bF)(r,{class:"q-if-outlined",color:"secondary",modelValue:o.vmFiltroDest.instrucod,options:o.dataSelect.nivel,"float-label":o.$t("ngs.nivel"),onChange:o.seleccionaInstruDest,filter:""},null,8,["modelValue","options","float-label","onChange"])]),(0,n.Lk)("div",Ao,[(0,n.bF)(r,{class:"q-if-outlined",color:"secondary",modelValue:o.vmFiltroDest.gradocod,options:o.gradosDest,"float-label":o.$t("ngs.grado"),onChange:o.seleccionaGradoDest,filter:""},null,8,["modelValue","options","float-label","onChange"])]),(0,n.Lk)("div",yo,[(0,n.bF)(l,{options:o.dataSelect.curso,modelValue:o.vmFiltroDest.cursos,labelSelect:o.$t("curso"),onChange:o.seleccionaCursoDest},null,8,["options","modelValue","labelSelect","onChange"])]),o.isMostrarPeriodo?((0,n.uX)(),(0,n.CE)("div",wo,[(0,n.bF)(r,{class:"q-if-outlined",color:"secondary",modelValue:o.vmFiltroDest.bimecod,options:o.periodosDest,"float-label":"Periodo",onChange:o.seleccionaPeriodoDest},null,8,["modelValue","options","onChange"])])):(0,n.Q3)("v-if",!0)]),(0,n.Lk)("div",Go,[(0,n.Lk)("div",To,[(0,n.bF)(a,{"table-style":"height: 40vh",selection:o.dataSelection,"row-key":"__index",color:"secondary",data:o.dataDestino,columns:o.dataCol,selected:o.dataSelected,"onUpdate:selected":e[1]||(e[1]=function(e){return o.dataSelected=e}),pagination:o.listaPag,"onUpdate:pagination":e[2]||(e[2]=function(e){return o.listaPag=e}),filter:o.dataFilter,loading:o.dataLoad},{"top-left":(0,n.k6)(function(t){return[(0,n.bF)(s,{class:"q-if-outlined","hide-underline":"",modelValue:o.dataFilter,"onUpdate:modelValue":e[0]||(e[0]=function(e){return o.dataFilter=e})},null,8,["modelValue"])]}),_:1},8,["selection","data","columns","selected","pagination","filter","loading"])])])])])]}),_:1},8,["modelValue","ok","onSubmit"])}var Uo={default:function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return{instrucod:o,gradocod:e,cursocod:t,critcod:r,grupocod:i,bimecod:n}},configDescriptorAnual:function(){return mo.$http.get("api/HyoDescriptorAnual/configDescriptorAnual").then(function(o){var e=o.json;return e}).catch(function(){return[]})},getListar:function(o,e,t){return mo.$http.get("api/HyoDescriptorAnual/listarCriterios",{params:{instrucod:o,gradocod:e,bimecod:t}})},getListarCopia:function(o,e,t,r){return mo.$http.get("api/HyoDescriptorAnual/getListaCopiarNivelGradoPeriodos",{params:{instrucod:o,gradocod:e,cursocod:t,bimecod:r}})},getCursosNivelGrado:function(o,e){return mo.$http.get("api/HyoClase/obtClasesNivelGrado",{params:{instrucod:o,gradocod:e,validarPermisos:!0}})},getListarItems:function(o){return mo.$http.get("api/HyoDescriptorAnual/listarDescriptores",{params:o})},getDataConfigNotas:function(){return mo.$http.get("api/HyoTipoCalculo/getConfigPorDefecto").then(function(o){var e=o.json;return e}).catch(function(){return[]})}},Eo={emits:["update:modelValue","input"],components:{QTable:no.kH,QTh:no.EJ,QTr:no.qh,QTd:no.Ef,QToggle:no.c5,QPopupEdit:no.GT,QSelect:no.Si,QPageSticky:no._U,QToolbar:no.ZV,QFab:no.l6,QFabAction:no.B$,sieSelect:lo.A,sieModal:so.A,selectMultiple:Co.A,QCard:no.C$,QSearch:no.Ks},props:{modelValue:{type:Boolean,default:!1}},data:function(){return{mostrarGrupo:!0,isMostrarPeriodo:!0,niveles:[],gradosTemp:[],dataSelected:[],dataTemp:[],dataSelect:{nivel:[],curso:[]},periodos:[{label:"1 Periodo",value:1},{label:"2 Periodo",value:2},{label:"3 Periodo",value:3},{label:"4 Periodo",value:4}],periodosDest:[{label:"Todos",value:"T"},{label:"1 Periodo",value:1},{label:"2 Periodo",value:2},{label:"3 Periodo",value:3},{label:"4 Periodo",value:4}],vmFiltro:{instrucod:"P",gradocod:"",cursos:[],curso:null,bimecod:1},vmFiltroDest:{instrucod:"P",gradocod:"",cursos:[],curso:null,bimecod:1},isRegDescriptorPorArea:!1,dataFilter:"",dataSelection:"multiple",dataLoad:!1,dataCol:[{name:"NG",label:"Nivel y Grado",field:"NG",align:"left",sortable:!0},{name:"CURSONOM",label:this.$t("curso"),field:"CURSONOM",align:"left",sortable:!0},{name:"PERIODO",label:"Periodo",field:"BIMECOD",align:"center",sortable:!0}],listaPag:{page:1,rowsPerPage:800}}},computed:{modal:{get:function(){return this.modelValue},set:function(o){this.$emit("update:modelValue",o),this.$emit("input",o)}},grados:function(){var o=this,e=this.gradosTemp;return this.vmFiltro["instrucod"].length>0?(e=e.filter(function(e){return o.vmFiltro["instrucod"]===e.INSTRUCOD}),e=(0,co["default"])(e,function(o){return{label:o.GRADODES,value:o.GRADOCOD}})):e=[],e},gradosDest:function(){var o=this,e=this.gradosTemp;return this.vmFiltroDest["instrucod"].length>0?(e=e.filter(function(e){return o.vmFiltroDest["instrucod"]===e.INSTRUCOD}),e=(0,co["default"])(e,function(o){return{label:o.GRADODES,value:o.GRADOCOD}})):e=[],e},dataDestino:function(){var o=this,e=this.dataTemp;return this.vmFiltroDest.cursos.length>0&&(e=e.filter(function(e){return o.vmFiltroDest.cursos.includes(e.CURSOCOD+"-"+e.GRUPOCOD)})),e}},methods:{obtNGS:function(){var o=this;Promise.all([fo.A.getNiveles(),fo.A.getGrados()]).then(function(e){var t=oo()(e,3),r=t[0],i=t[1];t[2];o.dataSelect.nivel=(0,co["default"])(r,function(o){return{label:o.INSTRUDES,value:o.INSTRUCOD}}),o.gradosTemp=i})},seleccionaInstru:function(o){this.vmFiltro.instrucod=o},seleccionaInstruDest:function(o){this.vmFiltroDest.instrucod=o},seleccionaGrado:function(o){var e=this;return io()(to()().m(function t(){var r;return to()().w(function(t){while(1)switch(t.n){case 0:return e.vmFiltro.gradocod=o,e.dataSelect.curso=[],e.vmFiltro.cursos=[],t.n=1,Uo.getCursosNivelGrado(e.vmFiltro.instrucod,e.vmFiltro.gradocod);case 1:r=t.v,e.dataSelect.curso=(0,co["default"])(r.json,function(o){return{label:o.CURSOCOD+"- "+o.CURSONOM,value:o.CURSOCOD+"-"+o.GRUPOCOD,keyCurso:o.CURSOCOD,keyGrupo:o.GRUPOCOD}}),e.isRegDescriptorPorArea&&(e.vmFiltro.curso=e.dataSelect.curso[0].value);case 2:return t.a(2)}},t)}))()},seleccionaGradoDest:function(o){var e=this;return io()(to()().m(function t(){var r;return to()().w(function(t){while(1)switch(t.n){case 0:return e.vmFiltroDest.gradocod=o,e.dataSelect.curso=[],e.vmFiltroDest.cursos=[],t.n=1,Uo.getCursosNivelGrado(e.vmFiltroDest.instrucod,e.vmFiltroDest.gradocod);case 1:r=t.v,e.dataSelect.curso=(0,co["default"])(r.json,function(o){return{label:o.CURSOCOD+"- "+o.CURSONOM,value:o.CURSOCOD+"-"+o.GRUPOCOD,keyCurso:o.CURSOCOD,keyGrupo:o.GRUPOCOD}}),e.isRegDescriptorPorArea&&(e.vmFiltroDest.curso=e.dataSelect.curso[0].value),e.getListaCopia();case 2:return t.a(2)}},t)}))()},seleccionaCurso:function(o){this.isRegDescriptorPorArea?this.vmFiltro.curso=o:this.vmFiltro.cursos=o},seleccionaCursoDest:function(o){this.vmFiltroDest.cursos=o},seleccionaPeriodo:function(o){this.vmFiltro.bimecod=o,this.isRegDescriptorPorArea},seleccionaPeriodoDest:function(o){this.vmFiltroDest.bimecod=o,this.getListaCopia()},getListaCopia:function(){var o=this;this.dataTemp=[],this.dataLoad=!0,Uo.getListarCopia(this.vmFiltroDest.instrucod,this.vmFiltroDest.gradocod,this.vmFiltroDest.curso,this.vmFiltroDest.bimecod).then(function(e){o.dataTemp=e.json}),this.dataLoad=!1},procesarCopia:function(){var o=this,e=i()(this.dataSelected);if(""===this.vmFiltro.instrucod)return(0,ao["default"])("Seleccionar Nivel","warning"),!1;if(""===this.vmFiltro.gradocod)return(0,ao["default"])("Seleccionar Grado","warning"),!1;if(""===this.vmFiltro.curso)return(0,ao["default"])("Seleccionar Curso","warning"),!1;if(""===this.vmFiltro.bimecod)return(0,ao["default"])("Seleccionar Periodo","warning"),!1;if(e.length<=0)return(0,ao["default"])("Seleccionar al menos un registro a copiar","warning"),!1;var t=this.vmFiltro.curso.split("-"),r=t[0],n=t[1];mo.$http.post("api/HyoDescriptorAnual/copiarDatos",{registros:e,instrucod:this.vmFiltro.instrucod,gradocod:this.vmFiltro.gradocod,grupocod:n,cursocod:r,bimecod:this.vmFiltro.bimecod}).then(function(e){var t=e.json;(0,ao["default"])(o.$t("mensajes."+t.mensaje),"m0013"===t.mensaje?"success":"error")})},init:function(){var o=this;Uo.configDescriptorAnual().then(function(e){o.isMostrarPeriodo=e[0].isPeriodo,o.isRegDescriptorPorArea=e[0].isDescriptorAnualArea})}},created:function(){this.obtNGS(),this.getListaCopia(),this.init()}},qo=t(12807);const _o=(0,qo.A)(Eo,[["render",Vo]]);var Mo=_o,xo={components:{QTable:no.kH,QTh:no.EJ,QTr:no.qh,QTd:no.Ef,QToggle:no.c5,QPopupEdit:no.GT,QSelect:no.Si,QPageSticky:no._U,QFab:no.l6,QFabAction:no.B$,sieSelect:lo.A,sieModal:so.A,selectMultiple:Co.A,componentCopiaDescriptores:Mo,QPage:no.Tu,QToolbar:no.ZV,QToolbarTitle:no.r_,QSearch:no.Ks,QBtn:no.Il,QTooltip:no.nC,QIcon:no.bP,QInput:no.ie,QField:no.Om},data:function(){return{mostrarGrupo:!0,isEdit:!1,isMostrarNivFin:!1,isMostrarNlFin:!1,setEtiquetaNvini:"",setEtiquetaNlini:"",isMostrarFilaNL:!0,isMostrarFilaNV:!0,isMostrarPeriodo:!0,verComponentes:{grillaPorCompetencia:!1,grillaPorCurso:!1},conf:{data:[],columns:[{name:"GRADODES",label:this.$t("grado"),field:"GRADODES",align:"center",sortable:!1},{name:"CURSONOM",label:this.$t("curso"),field:"CURSONOM",align:"left",sortable:!1},{name:"CRITCOD",label:"CRITCOD",field:"CRITCOD",align:"center",sortable:!1},{name:"CRITERIO",label:"CRITERIO",field:"CRITERIO",align:"left",sortable:!1}],pagination:{page:1,rowsPerPage:200},filter:"",selection:"none",selected:[]},confItem:{data:[],columns:[{name:"DSCRTRCOD",label:this.$t("codigo"),field:"DSCRTRCOD",align:"center",sortable:!1},{name:"DSCRTRDES",label:"DESCRIPTOR",field:"DSCRTRDES",align:"left",sortable:!1},{name:"NIVEL_LOGRO",label:"NIVEL LOGRO",field:"NIVEL_LOGRO",align:"center"}],pagination:{page:1,rowsPerPage:200},filter:"",selection:"none",selected:[]},confCursos:{data:[],columns:[{name:"GRADODES",label:this.$t("grado"),field:"GRADODES",align:"center",sortable:!1},{name:"CURSONOM",label:this.$t("curso"),field:"CURSONOM",align:"left",sortable:!1}],pagination:{page:1,rowsPerPage:200},filter:"",selection:"none",selected:[]},confItemCursos:{data:[],columns:[{name:"BIMECOD",label:this.$t("periodo"),field:"BIMECOD",align:"center",sortable:!1},{name:"DSCRTRDES",label:"DESCRIPTOR",field:"DSCRTRDES",align:"left",sortable:!1}],pagination:{page:1,rowsPerPage:200},filter:"",selection:"none",selected:[]},modal:!1,modalCopiar:!1,niveles:[],periodos:[{label:"1 Periodo",value:1},{label:"2 Periodo",value:2},{label:"3 Periodo",value:3},{label:"4 Periodo",value:4}],form:po["default"](),vmFiltro:{instrucod:"P",gradocod:"",gradodes:"",cursos:[],curso:null,bimecod:1},dataSelect:{nivel:[],curso:[]},gradosTemp:[],dataDetalleItems:[],dataConfNotas:[],detSeleccionado:{CODIGO:"",GRADO:""},isRegDescriptorPorArea:!1}},computed:{grados:function(){var o=this,e=this.gradosTemp;return this.vmFiltro["instrucod"].length>0?(e=e.filter(function(e){return o.vmFiltro["instrucod"]===e.INSTRUCOD}),e=(0,co["default"])(e,function(o){return{label:o.GRADODES,value:o.GRADOCOD}})):e=[],e},dataDetalle:function(){var o=this,e=this.conf.data;return this.loadingDetalle=!0,!this.isRegDescriptorPorArea&&this.vmFiltro.cursos.length>0&&(e=e.filter(function(e){return o.vmFiltro.cursos.includes(e.CURSOCOD+"-"+e.GRUPOCOD)})),this.isRegDescriptorPorArea&&null!==this.vmFiltro.curso&&(e=e.filter(function(e){return e.CURSOCOD+"-"+e.GRUPOCOD===o.vmFiltro.curso})),this.vmFiltro.gradocod.length>0&&(e=e.filter(function(e){return o.vmFiltro["gradocod"]===e.GRADOCOD})),this.loadingDetalle=!1,e},actualizarReg:function(){return Object.keys(this.form).length>0&&""!==this.form.dscrtrcod},titulo:function(){return Object.keys(this.form).length>0&&""!==this.form.dscrtrcod?"Actualizar Registro":"Nuevo Registro"},dataDetalleCursos:function(){var o=this,e=this.confCursos.data;return this.loadingDetalle=!0,this.vmFiltro.cursos.length>0&&(e=e.filter(function(e){return o.vmFiltro.cursos.includes(e.CURSOCOD+"-"+e.GRUPOCOD)})),this.loadingDetalle=!1,e}},methods:{mostrarComponentes:function(o){this.verComponentes.grillaPorCompetencia=!1,this.verComponentes.grillaPorCurso=!1,this.verComponentes[o]=!0},seleccionaInstru:function(o){this.vmFiltro.instrucod=o},seleccionaGrado:function(o){var e=this;return io()(to()().m(function t(){var r,i;return to()().w(function(t){while(1)switch(t.n){case 0:return e.vmFiltro.gradocod=o,e.dataSelect.curso=[],e.vmFiltro.cursos=[],t.n=1,po.getCursosNivelGrado(e.vmFiltro.instrucod,e.vmFiltro.gradocod);case 1:r=t.v,e.dataSelect.curso=(0,co["default"])(r.json,function(o){return{label:o.CURSOCOD+"- "+o.CURSONOM,value:o.CURSOCOD+"-"+o.GRUPOCOD,keyCurso:o.CURSOCOD,keyGrupo:o.GRUPOCOD}}),e.isRegDescriptorPorArea&&(e.vmFiltro.curso=e.dataSelect.curso[0].value),e.verComponentes.grillaPorCurso?(i=e.gradosTemp.filter(function(o){return e.vmFiltro.gradocod===o.GRADOCOD&&e.vmFiltro.instrucod===o.INSTRUCOD}),e.vmFiltro.gradodes=i[0].GRADODES,e.confItemCursos.data=[],e.confCursos.data=[],e.confCursos.data=r.json):e.isRegDescriptorPorArea?e.refreshDescriptorAnual():e.getLista();case 2:return t.a(2)}},t)}))()},seleccionaCurso:function(o){this.isRegDescriptorPorArea?this.vmFiltro.curso=o:this.vmFiltro.cursos=o,this.isRegDescriptorPorArea&&this.refreshDescriptorAnual()},seleccionaPeriodo:function(o){this.vmFiltro.bimecod=o,this.isRegDescriptorPorArea?this.refreshDescriptorAnual():this.getLista()},seleccionaPeriodoCurso:function(o){this.vmFiltro.bimecod=o},getLista:function(){var o=this;this.confItem.data=[],this.conf.data=[],po.getListar(this.vmFiltro.instrucod,this.vmFiltro.gradocod,this.vmFiltro.bimecod).then(function(e){o.conf.data=e.json})},getListaConfigNotas:function(){var o=this;return io()(to()().m(function e(){var t;return to()().w(function(e){while(1)switch(e.n){case 0:if(!o.isRegDescriptorPorArea){e.n=2;break}return e.n=1,po.getDataConfigNotas();case 1:t=e.v,o.dataConfNotas=t;case 2:return e.a(2)}},e)}))()},obtNGS:function(){var o=this;Promise.all([fo.A.getNiveles(),fo.A.getGrados()]).then(function(e){var t=oo()(e,3),r=t[0],i=t[1];t[2];o.dataSelect.nivel=(0,co["default"])(r,function(o){return{label:o.INSTRUDES,value:o.INSTRUCOD}}),o.gradosTemp=i})},getListarItems:function(){var o=this;this.confItem.data=[],this.confItemCursos.data=[];var e,t=this.detSeleccionado;e=this.verComponentes.grillaPorCurso?{instrucod:this.vmFiltro.instrucod,gradocod:this.vmFiltro.gradocod,cursocod:t.CURSOCOD,programaIndice:"2-1",grupocod:t.GRUPOCOD,bimecod:this.vmFiltro.bimecod}:{instrucod:t.INSTRUCOD,gradocod:t.GRADOCOD,cursocod:t.CURSOCOD,programaIndice:t.CRITCOD,grupocod:t.GRUPOCOD,bimecod:this.vmFiltro.bimecod},po.getListarItems(e).then(function(e){o.verComponentes.grillaPorCurso?o.confItemCursos.data=e.json:o.confItem.data=e.json})},configTblItem:function(){this.isMostrarPeriodo||this.confItem.columns.push({name:"NVINI",label:"NOTA",field:"NVINI",align:"center",sortable:!1}),this.confItem.columns.push({name:"ACCION",label:"",field:"ACCION",align:"center",sortable:!1,style:"width: 80px"}),this.verComponentes.grillaPorCurso&&this.confItemCursos.columns.push({name:"ACCION",label:"",field:"ACCION",align:"center",sortable:!1,style:"width: 80px"})},obtItems:function(o){this.detSeleccionado=o,this.getListarItems()},openCopiar:function(){this.modalCopiar=!0},cerrarModalCopiar:function(){this.modalCopiar=!1},add:function(o){this.verComponentes.grillaPorCurso?this.addDescriptorCursoPeriodo(o):this.addDescriptorNL(o)},addDescriptorCursoPeriodo:function(o){this.modal=!0;var e={},t=!1;e=this.detSeleccionado,this.form=po["default"](this.vmFiltro.instrucod,this.vmFiltro.gradocod,e.CURSOCOD,"2-1",e.GRUPOCOD,e.bimecod),Object.keys(o).length>0&&(t=!0,this.form.bimecod=o.BIMECOD,this.form.dscrtrcod=o.DSCRTRCOD,this.form.dscrtrdes=o.DSCRTRDES,this.vmFiltro.bimecod=o.DSCRTRDES),this.isEdit=t},addDescriptorNL:function(o){var e=this;this.modal=!0;var t={};if(this.isRegDescriptorPorArea){var r=this.vmFiltro.curso.split("-"),i=r[1]||"001",n=[],l=[],s=0;n=this.dataSelect.curso.filter(function(o){return r[0]===o.keyCurso&&i===o.keyGrupo}),l=this.dataConfNotas.filter(function(o){return e.vmFiltro.instrucod===o.INSTRUCOD&&e.vmFiltro.gradocod===o.GRADOCOD}),"undefined"!==typeof l[0]&&(s=l[0].TIPO),t={INSTRUCOD:this.conf.data[0].INSTRUCOD,GRADOCOD:this.conf.data[0].GRADOCOD,CURSOCOD:this.conf.data[0].CURSOCOD,CRITCOD:this.conf.data[0].CRITCOD,GRUPOCOD:this.conf.data[0].GRUPOCOD,TIPO_CALIFICACION:s,CURSONOM:n[0].label,GRADODES:this.conf.data[0].GRADODES},this.detSeleccionado=t}else t=this.detSeleccionado;this.form=po["default"](t.INSTRUCOD,t.GRADOCOD,t.CURSOCOD,t.CRITCOD,t.GRUPOCOD,this.vmFiltro.bimecod),this.isMostrarFilaNL=0===t.TIPO_CALIFICACION||3===t.TIPO_CALIFICACION,this.isMostrarFilaNV=1===t.TIPO_CALIFICACION||3===t.TIPO_CALIFICACION,Object.keys(o).length>0&&(this.form.dscrtrcod=o.DSCRTRCOD,this.form.dscrtrdes=o.DSCRTRDES,this.form.nlini=o.NLINI,this.form.nlfin=o.NLFIN,this.form.nvini=o.NVINI,this.form.nvfin=o.NVFIN)},grabar:function(){this.verComponentes.grillaPorCurso?this.guardarDescriptorCursoPeriodo():this.guardarDescriptor()},guardarDescriptorCursoPeriodo:function(){var o=this;return""===this.form.bimecod?((0,ao["default"])("Seleccionar Periodo","warning"),!1):""===this.form.dscrtrdes?((0,ao["default"])("Ingrese Descriptor","warning"),!1):void po.grabar(this.form,this.actualizarReg).then(function(e){1===e.json.estado?((0,ao["default"])("Se grabó correctamente","success"),o.cerrarModal()):(0,ao["default"])(o.$t("mensajes."+e.json.mensaje),"warning")}).catch(function(){(0,ao["default"])("No se pudo grabar","warning")})},guardarDescriptor:function(){var o=this;if(""===this.form.dscrtrdes)return(0,ao["default"])("Ingrese Descriptor","warning"),!1;if(this.isMostrarFilaNL){if(""===this.form.nlini)return(0,ao["default"])("Ingrese Nivel de Logro","warning"),!1;if(""===this.form.nlfin&&this.isMostrarNlFin)return(0,ao["default"])("Ingrese  Nivel de Logro","warning"),!1}if(this.isMostrarFilaNV){if(""===this.form.nvini)return(0,ao["default"])("Ingrese Nota Vigesimal","warning"),!1;if(""===this.form.nvfin&&this.isMostrarNivFin)return(0,ao["default"])("Ingrese Nota Vigesimal","warning"),!1}po.grabar(this.form,this.actualizarReg).then(function(e){1===e.json.estado?((0,ao["default"])("Se grabó correctamente","success"),o.cerrarModal()):(0,ao["default"])(o.$t("mensajes."+e.json.mensaje),"warning")}).catch(function(){(0,ao["default"])("No se pudo grabar","warning")})},eliminar:function(o){var e=this;(0,uo.confirmar)(this.$t("mensajes.m0006.confirmacion"),function(){return po.eliminar(o)}).then(function(o){1===o.json.estado?((0,ao["default"])(e.$t("mensajes."+o.json.message),"success"),e.getListarItems()):(0,ao["default"])(e.$t("mensajes."+o.json.message),"warning")}).catch(function(){(0,ao["default"])("No se pudo eliminar","warning")})},cerrarModal:function(){this.modal=!1,this.isRegDescriptorPorArea?this.refreshDescriptorAnual():this.getListarItems()},init:function(){var o=this;po.configDescriptorAnual().then(function(e){o.isMostrarNivFin=e[0].isMostrarNivFin,o.isMostrarNlFin=e[0].isMostrarNlFin,o.setEtiquetaNvini=e[0].setEtiquetaNvini,o.setEtiquetaNlini=e[0].etiquetaNlini,o.isMostrarPeriodo=e[0].isPeriodo,o.isRegDescriptorPorArea=e[0].isDescriptorAnualArea,o.verComponentes.grillaPorCompetencia="competencias"===e[0].setTipoGrilla,o.verComponentes.grillaPorCurso="cursos"===e[0].setTipoGrilla,o.configTblItem(),o.getListaConfigNotas()})},refreshDescriptorAnual:function(){var o=this;return io()(to()().m(function e(){var t,r,i,n,l,s;return to()().w(function(e){while(1)switch(e.n){case 0:return t={instrucod:o.vmFiltro.instrucod,gradocod:o.vmFiltro.gradocod,bimecod:o.vmFiltro.bimecod},r=[],i=[],e.n=1,po.getListar(o.vmFiltro.instrucod,o.vmFiltro.gradocod,o.vmFiltro.bimecod);case 1:return r=e.v,o.vmFiltro.curso&&(n=o.vmFiltro.curso.split("-"),t.cursocod=n[0],t.grupocod=n[1]||"001"),i=r.json.filter(function(e){return o.vmFiltro.instrucod===e.INSTRUCOD&&o.vmFiltro.gradocod===e.GRADOCOD&&t.cursocod===e.CURSOCOD&&t.grupocod===e.GRUPOCOD}),t.programaIndice=i[0].CRITCOD,o.conf.data=i,e.n=2,po.getListarItems(t);case 2:l=e.v,s=l.json,o.confItem.data=s;case 3:return e.a(2)}},e)}))()}},created:function(){this.getLista(),this.obtNGS(),this.init()}};const Qo=(0,qo.A)(xo,[["render",Z]]);var $o=Qo}}]);