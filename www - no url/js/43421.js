"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[43421],{43421:function(e,t,n){n.r(t),n.d(t,{default:function(){return H}});n(52776),n(53113);var i=n(61758),o={class:"bg-white round-borders shadows-1 q-pa-sm q-mx-md"},r={class:"row gutter-sm items-center justify-around"},s={class:"col col-md-2"},l={class:"col col-md-2"},a={class:"col col-md-4"},d={class:"col col-md-4"},u={class:"row gutter-sm items-center justify-around"},c={class:"col col-md-8"},f={class:"col col-md-2"},h={class:"col col-md-2"},g={class:"q-mt-lg col overflow-auto"},m={key:0,class:"column full-height items-center justify-center"};function v(e,t){var n=(0,i.g2)("selectMultiple"),v=(0,i.g2)("q-search"),p=(0,i.g2)("q-datetime"),b=(0,i.g2)("sieVacio"),C=(0,i.g2)("video-items"),S=(0,i.g2)("q-page");return(0,i.uX)(),(0,i.Wv)(S,{class:"column"},{default:(0,i.k6)(function(){return[t[7]||(t[7]=(0,i.Lk)("div",{class:"bg-white shadow-1 q-mb-sm"},[(0,i.Lk)("h2",{class:"text-primary q-pl-md",style:{"font-size":"18px"}},"Clase Grabada")],-1)),(0,i.Lk)("div",o,[(0,i.Lk)("div",r,[(0,i.Lk)("div",s,[(0,i.bF)(n,{options:e.dataFilter.niveles,modelValue:e.filters.instrucod,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.filters.instrucod=t}),labelSelect:e.$t("ngs.nivel"),disable:e.deshabilitar},null,8,["options","modelValue","labelSelect","disable"])]),(0,i.Lk)("div",l,[(0,i.bF)(n,{options:e.grados,modelValue:e.filters.gradocod,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.filters.gradocod=t}),labelSelect:e.$t("ngs.grado"),disable:e.deshabilitar},null,8,["options","modelValue","labelSelect","disable"])]),(0,i.Lk)("div",a,[(0,i.bF)(n,{options:e.dataSalones,modelValue:e.filters.nemo,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.filters.nemo=t}),labelSelect:e.$t("ambito"),onChange:e.seleccionaAmbito},null,8,["options","modelValue","labelSelect","onChange"])]),(0,i.Lk)("div",d,[(0,i.bF)(n,{options:e.dataFilter.cursos,modelValue:e.filters.cursocod,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.filters.cursocod=t}),labelSelect:"Curso",onChange:e.seleccionaCurso},null,8,["options","modelValue","onChange"])])]),(0,i.Lk)("div",u,[(0,i.Lk)("div",c,[(0,i.bF)(v,{class:"bg-white q-if-outlined",modelValue:e.filters.search,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.filters.search=t}),"stack-label":"",clearable:""},null,8,["modelValue"])]),(0,i.Lk)("div",f,[(0,i.bF)(p,{class:"bg-white q-if-outlined","float-label":"Fecha Inicio",modelValue:e.filters.fecini,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.filters.fecini=t}),type:"date",format:"DD/MM/YYYY",onChange:e.getVideos},null,8,["modelValue","onChange"])]),(0,i.Lk)("div",h,[(0,i.bF)(p,{class:"bg-white q-if-outlined","float-label":"Fecha Fin",modelValue:e.filters.fecfin,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.filters.fecfin=t}),type:"date",format:"DD/MM/YYYY",onChange:e.getVideos},null,8,["modelValue","onChange"])])])]),(0,i.Lk)("div",g,[e.dataVideo.length?((0,i.uX)(),(0,i.Wv)(C,{key:1,videos:e.dataVideo},null,8,["videos"])):((0,i.uX)(),(0,i.CE)("div",m,[(0,i.bF)(b,{class:"col"})]))])]}),_:1})}var p=n(99550),b=n.n(p),C=(n(71225),n(74260),n(23825),n(10239),n(25751),n(50310),n(5962),n(32203),n(90095),n(9240),n(48426),n(83190),n(27153),n(44264),n(66307),n(13715),n(24066),n(6123)),S=n(9736),V=n(88567),O=n(95718),k=n(20456),T=n(27738),D=n(95523),y=n(13813),A=n(33001),F=n(58790),L={class:"video-items"},U={key:0,class:"row gutter-sm q-mx-md"},I=["onClick"],M={class:"text-subtitle2"},E={class:"text-h6"},N={class:"text-subtitle2 text-gray-3"};function Q(e,t){var n=(0,i.g2)("q-card-section"),o=(0,i.g2)("q-btn"),r=(0,i.g2)("q-card-actions"),s=(0,i.g2)("q-card"),l=(0,i.g2)("q-intersection"),a=(0,i.g2)("modal-video-clase"),d=(0,i.gN)("lazy");return(0,i.uX)(),(0,i.CE)("div",L,[e.dataVideo.length?((0,i.uX)(),(0,i.CE)("div",U,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.dataVideo,function(t,a){return(0,i.uX)(),(0,i.Wv)(l,{key:a,class:"col-md-3",transition:"scale",style:{"min-height":"310px"}},{default:(0,i.k6)(function(){return[(0,i.bF)(s,{class:"full-width full-height column"},{default:(0,i.k6)(function(){return[(0,i.bo)(((0,i.uX)(),(0,i.CE)("img",{class:"cursor-pointer",onClick:function(n){return e.open(t)},key:t.url},null,8,I)),[[d,{src:t.thumbnail,error:"statics/img/video.png"}]]),(0,i.bF)(n,{class:"col",style:{"padding-bottom":"0"}},{default:(0,i.k6)(function(){return[(0,i.Lk)("div",M,(0,F.v_)(t.CURSONOM),1),(0,i.Lk)("div",E,(0,F.v_)(t.TITULO),1),(0,i.Lk)("div",N,(0,F.v_)(t.NEMODES),1)]}),_:2},1024),(0,i.bF)(r,null,{default:(0,i.k6)(function(){return[(0,i.bF)(o,{class:"full-width",flat:"",icon:"external_link",color:"secondary",onClick:function(n){return e.open(t)}},null,8,["onClick"])]}),_:2},1024)]}),_:2},1024)]}),_:2},1024)}),128))])):(0,i.Q3)("v-if",!0),e.openModal?((0,i.uX)(),(0,i.Wv)(a,{key:1,video:e.videoCurrent,onCloseModal:e.close},null,8,["video","onCloseModal"])):(0,i.Q3)("v-if",!0)])}n(52133),n(6724);var q=n(23540),w=n(47206),R=n(57668),_=n(77814),x={props:{videos:{type:Array,required:!0}},components:{QIntersection:q.A,QVideo:C.d7,QCard:V.A,QCardSection:O.A,QCardActions:k.A,modalVideoClase:_.A,QBtn:C.Il},data:function(){return{sie:(0,R["default"])(),openModal:!1,videoCurrent:{}}},methods:{open:function(e){this.openModal=!0,this.videoCurrent=e},close:function(){this.openModal=!1,this.videoCurrent={}}},computed:{dataVideo:function(){var e=[];return this.videos.length>0&&(e=this.videos.map(function(e){var t=(0,w.videoEmbed)(e.VIDEO,e.TITULO);return Object.assign(e,t)})),e}}},G=n(12807);const X=(0,G.A)(x,[["render",Q]]);var Y=X,j=n(80340),$=new Date,W="__T",z={components:{QSelect:C.Si,QDatetime:C.T5,QInnerLoading:C.SQ,QSpinnerOval:C.VA,QSpinnerDots:C.FS,QInfiniteScroll:C.nN,QInput:S.A,QCard:V.A,QCardSection:O.A,QCardActions:k.A,selectMultiple:D.A,videoItems:Y,sieVacio:j.A,QPage:C.Tu,QSearch:C.Ks},data:function(){return{filters:{search:"",instrucod:[],gradocod:[],nemo:[],cursocod:[],fecini:new Date($.getFullYear(),$.getMonth(),1),fecfin:$},search:{lastAjaxLength:12,bloque:0,loading:!1,scroll:!1},salonesTemp:[],gradosTemp:[],dataFilter:{salones:[],niveles:[],grados:[],cursos:[]},dataVideos:[]}},methods:{init:function(){this.dataIni(),this.getVideos()},dataIni:function(){var e=this;Promise.all([T.A.getNiveles(),T.A.getGrados(),T.A.getCursosCurGra()]).then(function(t){var n=b()(t,3),i=n[0],o=n[1],r=n[2];e.dataFilter.niveles=(0,y["default"])(i,function(e){return{label:e.INSTRUDES,value:e.INSTRUCOD}}),e.gradosTemp=o,e.dataFilter.cursos=(0,y["default"])(r,function(e){return{label:e.CURSOCOD+"- "+e.CURSONOM,value:e.CURSOCOD,nombre:e.CURSONOM}}),e.dataFilter.cursos.sort(function(e,t){var n=(e.nombre||"").toLowerCase(),i=(t.nombre||"").toLowerCase();return n<i?-1:n>i?1:0})}),this.getListaSalones()},getVideos:function(){var e=this,t=Object.assign({},this.search);this.filters.fecini&&(t["fecini"]=this.filters.fecini),this.filters.fecfin&&(t["fecfin"]=this.filters.fecfin),this.dataVideos=[],this.$http.get("api/HyoContenido/getContenidoVideos",{params:{params:t}}).then(function(t){e.dataVideos=t.json}).catch(function(e){console.log(e)})},getListaSalones:function(){var e=this;this.$http.get("api/HyoSalones/getAll",{params:{columns:["NEMO","NEMODES","INSTRUCOD","GRADOCOD"],noFretd:!0}}).then(function(t){e.salonesTemp=t}).catch(function(e){console.log(e.error)})},findByTitulo:function(e,t,n,i){var o=(0,A.stringToStandard)(t);if(""!==o)return e.filter(function(e){return(0,A.stringToStandard)(e.TITULO).indexOf(o)>-1})},seleccionaInstru:function(e){this.filters.instrucod=e},seleccionaGrado:function(e){this.filters.gradocod=e},seleccionaAmbito:function(e){this.filters.nemo=e},seleccionaCurso:function(e){this.filters.cursocod=e}},computed:{grados:function(){var e=this,t=this.gradosTemp;return this.filters["gradocod"]=[],this.filters["instrucod"].length>0?(t=t.filter(function(t){return e.filters["instrucod"].some(function(e){return t.INSTRUCOD===e})}),t=(0,y["default"])(t,function(e){return{label:e.GRADODES,value:e.INSTRUCOD+e.GRADOCOD}})):t=[],t},dataSalones:function(){var e=this.salonesTemp;if(this.filters.gradocod.length>0)this.filters.gradocod.forEach(function(t){var n=t.toString().substr(0,1),i=t.toString().substr(1,2);e=e.filter(function(e){return e.INSTRUCOD===n&&e.GRADOCOD===i})});else if(this.filters.instrucod.length>0){var t=this.filters.instrucod.find(function(e){return e===W});"undefined"===typeof t&&this.filters.instrucod.forEach(function(t){var n=t.toString().substr(0,1);e=e.filter(function(e){return e.INSTRUCOD===n})})}return e=(0,y["default"])(e,function(e){return{label:e.NEMODES,value:e.NEMO}}),e},dataVideo:function(){var e=this,t=this.dataVideos,n=[];if(this.filters.instrucod.length>0){var i=this.filters.instrucod.find(function(e){return e===W});"undefined"===typeof i&&(n=t.filter(function(t){var n=e.filters.instrucod.find(function(e){return e===t.NGS.toString().substr(0,1)});return void 0!==n}),t=n)}if(this.filters.gradocod.length>0){var o=this.filters.gradocod.find(function(e){return"__T"===e});"undefined"===typeof o&&(n=t.filter(function(t){var n=e.filters.gradocod.find(function(e){return e===t.NGS.toString().substr(0,2)});return void 0!==n}),t=n)}if(this.filters.nemo.length>0){var r=this.filters.nemo.find(function(e){return"__T"===e});"undefined"===typeof r&&(n=t.filter(function(t){var n=e.filters.nemo.find(function(e){return e===t.NEMO});return void 0!==n}),t=n)}if(this.filters.cursocod.length>0){var s=this.filters.cursocod.find(function(e){return"__T"===e});"undefined"===typeof s&&(n=t.filter(function(t){var n=e.filters.cursocod.find(function(e){return e===t.CURSOCOD});return void 0!==n}),t=n)}if(""!==this.filters.search){var l=(0,A.stringToStandard)(this.filters.search);if(""!==l)return t.filter(function(e){return(0,A.stringToStandard)(e.TITULO).indexOf(l)>-1})}return t},deshabilitar:function(){return(0,R["default"])().esFamilia||(0,R["default"])().esEstudiante}},created:function(){this.init()},mounted:function(){this.filters.instrucod.push(W),this.filters.gradocod.push(W)}};const B=(0,G.A)(z,[["render",v]]);var H=B}}]);