"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[18020],{18020:function(e,o,t){t.r(o),t.d(o,{default:function(){return F}});var s=t(61758),a=t(58790),n={class:"col-xs-12 col-md-7"},l={class:"row q-col-gutter-sm"},i={class:"col-12"},r={key:0,class:"col-12"},d={key:1,class:"col-12"},u={key:2,class:"col-12"},c={class:"col-4"},p={class:"col-4"},f={class:"col-4"},b={class:"col-6"},m={class:"col-6"},v={class:"row justify-center"};function h(e,o){var t=(0,s.g2)("q-select"),h=(0,s.g2)("q-option-group"),C=(0,s.g2)("q-datetime"),D=(0,s.g2)("q-btn"),g=(0,s.g2)("q-card-section"),I=(0,s.g2)("q-card"),O=(0,s.g2)("q-page");return(0,s.uX)(),(0,s.Wv)(O,{class:(0,a.C4)(["usoIntranetProfesor column",e.isLess?"bg-white":""])},{default:(0,s.k6)(function(){return[(0,s.Lk)("div",{class:(0,a.C4)(["row col justify-center",e.isLess?"":"items-center"])},[(0,s.Lk)("div",n,[(0,s.bF)(I,{dense:"",flat:"",bordered:"",class:(0,a.C4)(e.isLess?"no-shadow":"")},{default:(0,s.k6)(function(){return[(0,s.bF)(g,null,{default:(0,s.k6)(function(){return[(0,s.Lk)("div",l,[(0,s.Lk)("div",i,[(0,s.bF)(t,{modelValue:e.reporte,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.reporte=o}),options:e.reportes,label:"Seleccione Reporte"},null,8,["modelValue","options"])]),"usoIntranetProfesor"===e.reporte?((0,s.uX)(),(0,s.CE)("div",r,[(0,s.bF)(h,{color:"secondary",type:"radio",modelValue:e.orden,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.orden=o}),options:e.tOrden,inline:""},null,8,["modelValue","options"])])):(0,s.Q3)("v-if",!0),"usoIntranetConsolidado"===e.reporte?((0,s.uX)(),(0,s.CE)("div",d,[(0,s.bF)(t,{modelValue:e.tipcod,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.tipcod=o}),options:e.perfiles,label:"Perfiles"},null,8,["modelValue","options"])])):(0,s.Q3)("v-if",!0),"usoIntranetConsolidado"===e.reporte?((0,s.uX)(),(0,s.CE)("div",u,[(0,s.bF)(h,{color:"secondary",type:"radio",modelValue:e.estado,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.estado=o}),options:e.estados,inline:""},null,8,["modelValue","options"])])):(0,s.Q3)("v-if",!0),"usoIntranetProfesor"===e.reporte?((0,s.uX)(),(0,s.CE)(s.FK,{key:3},[(0,s.Lk)("div",c,[(0,s.bF)(t,{modelValue:e.nivel,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.nivel=o}),options:e.niveles,onInput:e.cambiarNivel,label:e.$t("ngs.nivel")},null,8,["modelValue","options","onInput","label"])]),(0,s.Lk)("div",p,[(0,s.bF)(t,{modelValue:e.grado,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.grado=o}),options:e.grados,disable:e.disabledGrado,onInput:e.cambiarGrado,label:e.$t("ngs.grado")},null,8,["modelValue","options","disable","onInput","label"])]),(0,s.Lk)("div",f,[(0,s.bF)(t,{modelValue:e.seccion,"onUpdate:modelValue":o[6]||(o[6]=function(o){return e.seccion=o}),options:e.secciones,disable:e.disabledSeccion,label:e.$t("ngs.seccion")},null,8,["modelValue","options","disable","label"])])],64)):(0,s.Q3)("v-if",!0),(0,s.Lk)("div",b,[(0,s.bF)(C,{modelValue:e.desde,"onUpdate:modelValue":o[7]||(o[7]=function(o){return e.desde=o}),type:"date",format:"DD/MM/YYYY",label:e.$t("desde")},null,8,["modelValue","label"])]),(0,s.Lk)("div",m,[(0,s.bF)(C,{modelValue:e.hasta,"onUpdate:modelValue":o[8]||(o[8]=function(o){return e.hasta=o}),type:"date",format:"DD/MM/YYYY",label:e.$t("hasta")},null,8,["modelValue","label"])])]),(0,s.Lk)("div",v,[(0,s.bF)(D,{class:"q-mx-xs",icon:"file_pdf",color:"secondary",onClick:o[9]||(o[9]=function(o){return e.imprimir("pdf")}),label:"PDF"}),(0,s.bF)(D,{class:"q-mx-xs",icon:"file_excel",color:"secondary",onClick:o[10]||(o[10]=function(o){return e.imprimir("xls")}),label:"EXCEL"})])]}),_:1})]}),_:1},8,["class"])])],2)]}),_:1},8,["class"])}t(52133),t(50310),t(6724),t(83190),t(68017);var C=t(6123),D=t(54760),g=t(57668),I=t(80660),O=t(81288),S=t(88567),k=t(95718),T=t(16648),V=t(38739),E=t(3112),U=t(50304),y={components:{QSelect:T.A,QDatetime:U.A,QPageSticky:C._U,QRadio:C.$,QFab:C.l6,QFabAction:C.B$,QOptionGroup:V.A,sieInfo:g["default"],QCard:S.A,QCardSection:k.A,QCheckbox:E.A,QPage:C.Tu,QBtn:C.Il},data:function(){return{sieInfo:(0,g["default"])(),gradosAgrupados:[],niveles:[],nivel:"",grados:[{label:"Todos",value:{GRADOCOD:"T",GRADODES:"Todos"}}],grado:"",disabledGrado:!0,secciones:[{label:"Todos",value:{SECCIONCOD:"T",SECCIONDES:"Todos"}}],seccion:"",disabledSeccion:!0,desde:new Date,hasta:new Date,orden:"0",formato:"",tOrden:[{label:this.$t("fechaDePublicacion"),value:0},{label:this.$t("fechaDeEntrega"),value:1}],reporte:"usoIntranetProfesor",reportes:[{label:"Uso Intranet Profesor",value:"usoIntranetProfesor"},{label:"Consolidado Uso de Intranet",value:"usoIntranetConsolidado"}],tipcod:"006",perfiles:[],estados:[{label:"Usuarios activos",value:"A"},{label:"Usuarios inactivos",value:"I"},{label:"Todos",value:null}],estado:"A",quitarsindata:!1}},computed:{isLess:function(){return(0,O.isLess)()},url:function(){var e=this.sieInfo.url+"/intranet/reporte-node/reporte",o={fechaDesde:C.p6.formatDate(this.desde,"YYYY-MM-DD"),fechaHasta:C.p6.formatDate(this.hasta,"YYYY-MM-DD"),repcod:this.reporte,ano:this.sieInfo.ano,usunom:this.sieInfo.nombre.trim(),"sie-token":this.sieInfo.token,formato:this.formato};return"usoIntranetProfesor"===this.reporte&&(o.tipoFiltro=this.orden,o.instrucod="T"===this.nivel.INSTRUCOD?"%":this.nivel.INSTRUCOD,o.gradocod="T"===this.grado.GRADOCOD?"%":this.grado.GRADOCOD,o.seccioncod="T"===this.seccion.SECCIONCOD?"%":this.seccion.SECCIONCOD),"usoIntranetConsolidado"===this.reporte&&(o.tipcod=this.tipcod,o.estado=this.estado,o.quitarsindata=this.quitarsindata),e+"?"+(0,D.stringify)(o)}},methods:{init:function(){var e=this;I.$http.get("api/HyoInstrus/obtInstru").then(function(o){var t=o.json;t.unshift({INSTRUDES:"Todos",INSTRUCOD:"T"}),e.niveles=t.map(function(e){return{label:e.INSTRUDES,value:e}}),e.nivel=e.niveles[0].value,e.grado=e.grados[0].value,e.seccion=e.secciones[0].value}),I.$http.get("api/HyoGradoNivs/obtGrados",{params:{agrupado:"s",todos:"s"}}).then(function(o){var t=o.json;e.gradosAgrupados=t}),I.$http.get("api/HyoPerfiles/obtPerfilesExistentes").then(function(o){var t=o.json;e.perfiles=t.map(function(e){return{label:e.TIPNOM,value:e.TIPCOD}})})},cambiarNivel:function(e){this.grados=this.gradosAgrupados[e.INSTRUCOD].map(function(e){return{label:e.GRADODES,value:e}}),this.grado=this.grados[0].value,this.seccion=this.secciones[0].value,this.disabledGrado=!1,"T"===e.INSTRUCOD&&(this.disabledSeccion=!0,this.disabledGrado=!0)},cambiarGrado:function(e){var o=this;I.$http.get("api/HyoSalones/obtSecciones",{params:{gradocod:e.GRADOCOD,instrucod:e.INSTRUCOD}}).then(function(t){var s=t.json;s.unshift({SECCIONDES:"Todos",SECCIONCOD:"T"}),o.secciones=s.map(function(e){return{label:e.SECCIONDES,value:e}}),o.seccion=o.secciones[0].value,o.disabledSeccion=!1,"T"===e.GRADOCOD&&(o.disabledSeccion=!0)})},imprimir:function(e){this.formato=e,(0,C.KN)(this.url)}},created:function(){this.init()}},A=t(12807);const N=(0,A.A)(y,[["render",h]]);var F=N}}]);