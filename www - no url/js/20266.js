"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[20266],{20266:function(a,e,l){l.r(e),l.d(e,{default:function(){return x}});l(77507);var t=l(61758),i=l(58790),o={key:0,class:"column col items-center justify-center"},r={class:"row"},n={key:0},u={class:"col-12 text-bold q-body-1"},s={class:"row"},d={class:"col-4"},C={class:"col-4"},m={class:"col-4"},c={key:0},A={class:"col-12 text-bold q-body-1"},b={class:"row"},P={class:"col-4"},O={class:"col-4"},f={class:"col-4"};function p(a,e){var l=(0,t.g2)("sieFamilia"),p=(0,t.g2)("sie-vacio"),v=(0,t.g2)("q-tab"),E=(0,t.g2)("q-input"),M=(0,t.g2)("q-field"),F=(0,t.g2)("q-datetime"),D=(0,t.g2)("q-select"),I=(0,t.g2)("q-chips-input"),R=(0,t.g2)("q-icon"),S=(0,t.g2)("q-card-title"),$=(0,t.g2)("q-card-main"),h=(0,t.g2)("q-card"),g=(0,t.g2)("sie-modal"),V=(0,t.g2)("q-tab-pane"),y=(0,t.g2)("q-tabs"),U=(0,t.g2)("q-btn"),k=(0,t.g2)("q-page-sticky"),q=(0,t.g2)("q-toolbar-title"),N=(0,t.g2)("q-toolbar"),T=(0,t.g2)("q-page");return(0,t.uX)(),(0,t.Wv)(T,{class:"datosFamilia bg-white"},{default:(0,t.k6)(function(){return[(0,t.bF)(l,{onSelected:a.getDatos},null,8,["onSelected"]),a.vacio?((0,t.uX)(),(0,t.CE)("div",o,[(0,t.bF)(p,{subtitle:"mensajes.m0014",icon:"person"})])):((0,t.uX)(),(0,t.CE)(t.FK,{key:1},[(0,t.bF)(y,{class:"area q-tabs-flex",modelValue:a.selectedTab,"onUpdate:modelValue":e[2]||(e[2]=function(e){return a.selectedTab=e}),ref:"tabs",animated:"",inverted:""},{title:(0,t.k6)(function(){return[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(a.tipos,function(a,e){return(0,t.uX)(),(0,t.Wv)(v,{key:e,name:a.TIPO,label:a.DESCRIPCION},null,8,["name","label"])}),128))]}),default:(0,t.k6)(function(){return[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(a.tipos,function(l,o){return(0,t.uX)(),(0,t.Wv)(V,{key:o,class:"inset-shadow",name:l.TIPO},{default:(0,t.k6)(function(){return[(0,t.Lk)("div",r,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(a.arrayCampos,function(e,o){return(0,t.uX)(),(0,t.CE)(t.FK,null,["4"!==e.ACCESO?((0,t.uX)(),(0,t.CE)("div",{key:0,class:(0,i.C4)(a.col(a.arrayCampos,e.CGRUPO))},[e.CAMPOPAD&&void 0!==e.CAMPOPAD.split(",")[1]?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},["titulo"!==e.CTIPO||"N"!==e.CAMPOHER&&e.CAMPOHER&&("S"!==e.CAMPOHER||a.dataFamilia[e.CAMPOPAD.split(",")[0]]!==e.RPADRE)||e.CAMPOPAD.split(",")[1]!==e.RPADRE?(0,t.Q3)("v-if",!0):((0,t.uX)(),(0,t.CE)("div",n,(0,i.v_)(e.DESCRIPCION),1)),"input"!==e.CTIPO||"N"!==e.CAMPOHER&&e.CAMPOHER&&("S"!==e.CAMPOHER||a.dataFamilia[e.CAMPOPAD.split(",")[0]]!==e.RPADRE.split(",")[0])||a.dataFamilia[e.CAMPOPAD.split(",")[1]]!==e.RPADRE.split(",")[1]?(0,t.Q3)("v-if",!0):((0,t.uX)(),(0,t.Wv)(M,{key:1,error:a.v$.dataFamilia[e.CAMPO].$error,"error-label":a.$t("validaciones.requerido")},{default:(0,t.k6)(function(){return[(0,t.bF)(E,{class:"q-if-outlined q-my-sm",modelValue:a.v$.dataFamilia[e.CAMPO].$model,"onUpdate:modelValue":function(l){return a.v$.dataFamilia[e.CAMPO].$model=l},"float-label":"2"===e.ACCESO?e.DESCRIPCION+"*":e.DESCRIPCION,disable:"3"===e.ACCESO},null,8,["modelValue","onUpdate:modelValue","float-label","disable"])]}),_:2},1032,["error","error-label"])),"textarea"!==e.CTIPO||"N"!==e.CAMPOHER&&e.CAMPOHER&&("S"!==e.CAMPOHER||a.dataFamilia[e.CAMPOPAD.split(",")[0]]!==e.RPADRE)||a.dataFamilia[e.CAMPOPAD.split(",")[1]]!==e.RPADRE?(0,t.Q3)("v-if",!0):((0,t.uX)(),(0,t.Wv)(M,{key:2,error:a.v$.dataFamilia[e.CAMPO].$error,"error-label":a.$t("validaciones.requerido")},{default:(0,t.k6)(function(){return[(0,t.bF)(E,{class:"q-if-outlined",type:"textarea",modelValue:a.v$.dataFamilia[e.CAMPO].$model,"onUpdate:modelValue":function(l){return a.v$.dataFamilia[e.CAMPO].$model=l},"float-label":"2"===e.ACCESO?e.DESCRIPCION+"*":e.DESCRIPCION,disable:"3"===e.ACCESO},null,8,["modelValue","onUpdate:modelValue","float-label","disable"])]}),_:2},1032,["error","error-label"])),"datepicker"!==e.CTIPO||"N"!==e.CAMPOHER&&e.CAMPOHER&&("S"!==e.CAMPOHER||a.dataFamilia[e.CAMPOPAD]!==e.RPADRE)?(0,t.Q3)("v-if",!0):((0,t.uX)(),(0,t.Wv)(M,{key:3,error:a.v$.dataFamilia[e.CAMPO].$error,"error-label":a.$t("validaciones.requerido")},{default:(0,t.k6)(function(){return["2"!==e.ACCESO?((0,t.uX)(),(0,t.Wv)(F,{key:0,class:"q-if-outlined q-my-sm",type:"date",modelValue:a.v$.dataFamilia[e.CAMPO].$model,"onUpdate:modelValue":function(l){return a.v$.dataFamilia[e.CAMPO].$model=l},format:"DD/MM/YYYY","float-label":e.DESCRIPCION,disable:"3"===e.ACCESO},null,8,["modelValue","onUpdate:modelValue","float-label","disable"])):(0,t.Q3)("v-if",!0),"2"===e.ACCESO&&""===a.dataFamilia[e.CAMPO]?((0,t.uX)(),(0,t.Wv)(F,{key:1,class:"q-if-outlined q-my-sm",type:"date",modelValue:a.v$.dataFamilia[e.CAMPO].$model,"onUpdate:modelValue":function(l){return a.v$.dataFamilia[e.CAMPO].$model=l},format:"DD/MM/YYYY","float-label":e.DESCRIPCION+"*",disable:"3"===e.ACCESO},null,8,["modelValue","onUpdate:modelValue","float-label","disable"])):(0,t.Q3)("v-if",!0),"2"===e.ACCESO&&""!==a.dataFamilia[e.CAMPO]?((0,t.uX)(),(0,t.Wv)(F,{key:2,class:"q-if-outlined q-my-sm",type:"date",modelValue:a.v$.dataFamilia[e.CAMPO].$model,"onUpdate:modelValue":function(l){return a.v$.dataFamilia[e.CAMPO].$model=l},format:"DD/MM/YYYY","float-label":e.DESCRIPCION+"*",disable:"3"===e.ACCESO},null,8,["modelValue","onUpdate:modelValue","float-label","disable"])):(0,t.Q3)("v-if",!0)]}),_:2},1032,["error","error-label"])),"siecombo"!==e.CTIPO||"N"!==e.CAMPOHER&&e.CAMPOHER&&("S"!==e.CAMPOHER||a.dataFamilia[e.CAMPOPAD.split(",")[0]]!==e.RPADRE)||a.dataFamilia[e.CAMPOPAD.split(",")[1]]!==e.RPADRE?(0,t.Q3)("v-if",!0):((0,t.uX)(),(0,t.Wv)(M,{key:4,error:a.v$.dataFamilia[e.CAMPO].$error,"error-label":a.$t("validaciones.requerido")},{default:(0,t.k6)(function(){return[(0,t.bF)(D,{class:"q-if-outlined",modelValue:a.v$.dataFamilia[e.CAMPO].$model,"onUpdate:modelValue":function(l){return a.v$.dataFamilia[e.CAMPO].$model=l},options:a.combos[e.CORIGEN],"float-label":"2"===e.ACCESO?e.DESCRIPCION+"*":e.DESCRIPCION,disable:"3"===e.ACCESO},null,8,["modelValue","onUpdate:modelValue","options","float-label","disable"])]}),_:2},1032,["error","error-label"])),"lista"!==e.CTIPO||"N"!==e.CAMPOHER&&e.CAMPOHER&&("S"!==e.CAMPOHER||a.dataFamilia[e.CAMPOPAD.split(",")[0]]!==e.RPADRE.split(",")[0])||a.dataFamilia[e.CAMPOPAD.split(",")[1]]!==e.RPADRE.split(",")[1]?(0,t.Q3)("v-if",!0):((0,t.uX)(),(0,t.CE)(t.FK,{key:5},[(0,t.Lk)("div",u,(0,i.v_)(e.DESCRIPCION),1),(0,t.Lk)("div",s,[(0,t.Lk)("div",d,[(0,t.bF)(D,{class:"q-if-outlined",modelValue:a.ubg[e.CAMPO]["deptos"],"onUpdate:modelValue":function(l){return a.ubg[e.CAMPO]["deptos"]=l},options:a.cmbUbigeo[e.CAMPO]["deptos"],"float-label":a.$t("departamento"),onInput:function(t){return a.seleccionaDepartamento(a.ubg[e.CAMPO]["deptos"],l.TIPO,e.CAMPO)}},null,8,["modelValue","onUpdate:modelValue","options","float-label","onInput"])]),(0,t.Lk)("div",C,[(0,t.bF)(D,{class:"q-if-outlined",modelValue:a.ubg[e.CAMPO]["provincia"],"onUpdate:modelValue":function(l){return a.ubg[e.CAMPO]["provincia"]=l},options:a.cmbUbigeo[e.CAMPO]["provs"],"float-label":a.$t("provincia"),onInput:function(t){return a.seleccionaProvincia(a.ubg[e.CAMPO]["provincia"],l.TIPO,e.CAMPO,e.TIPO)}},null,8,["modelValue","onUpdate:modelValue","options","float-label","onInput"])]),(0,t.Lk)("div",m,[(0,t.bF)(M,{error:a.v$.dataFamilia[e.CAMPO].$error,"error-label":a.$t("validaciones.requerido")},{default:(0,t.k6)(function(){return[(0,t.bF)(D,{class:"q-if-outlined",modelValue:a.v$.dataFamilia[e.CAMPO].$model,"onUpdate:modelValue":function(l){return a.v$.dataFamilia[e.CAMPO].$model=l},options:a.cmbUbigeo[e.CAMPO]["dist"],"float-label":a.$t("distrito")},null,8,["modelValue","onUpdate:modelValue","options","float-label"])]}),_:2},1032,["error","error-label"])])])],64)),"chips"!==e.CTIPO||"N"!==e.CAMPOHER&&e.CAMPOHER&&("S"!==e.CAMPOHER||a.dataFamilia[e.CAMPOPAD]!==e.RPADRE)||a.dataFamilia[e.CAMPOPAD.split(",")[1]]!==e.RPADRE?(0,t.Q3)("v-if",!0):((0,t.uX)(),(0,t.Wv)(M,{key:6,error:a.v$.dataFamilia[e.CAMPO].$error,"error-label":a.$t("validaciones.requerido")},{default:(0,t.k6)(function(){return[(0,t.bF)(I,{class:"q-if-outlined",modelValue:a.v$.dataFamilia[e.CAMPO].$model,"onUpdate:modelValue":function(l){return a.v$.dataFamilia[e.CAMPO].$model=l},"float-label":"2"===e.ACCESO?e.DESCRIPCION+"*":e.DESCRIPCION,disable:"3"===e.ACCESO},null,8,["modelValue","onUpdate:modelValue","float-label","disable"])]}),_:2},1032,["error","error-label"]))],64)):(0,t.Q3)("v-if",!0),e.CAMPOPAD&&void 0!==e.CAMPOPAD.split(",")[1]?(0,t.Q3)("v-if",!0):((0,t.uX)(),(0,t.CE)(t.FK,{key:1},["titulo"!==e.CTIPO||"N"!==e.CAMPOHER&&e.CAMPOHER&&("S"!==e.CAMPOHER||a.dataFamilia[e.CAMPOPAD]!==e.RPADRE)?(0,t.Q3)("v-if",!0):((0,t.uX)(),(0,t.CE)("div",c,(0,i.v_)(e.DESCRIPCION),1)),"input"!==e.CTIPO||"N"!==e.CAMPOHER&&e.CAMPOHER&&("S"!==e.CAMPOHER||a.dataFamilia[e.CAMPOPAD]!==e.RPADRE)?(0,t.Q3)("v-if",!0):((0,t.uX)(),(0,t.Wv)(M,{key:1,error:a.v$.dataFamilia[e.CAMPO].$error,"error-label":a.$t("validaciones.requerido")},{default:(0,t.k6)(function(){return[(0,t.bF)(E,{class:"q-if-outlined q-my-sm",modelValue:a.v$.dataFamilia[e.CAMPO].$model,"onUpdate:modelValue":function(l){return a.v$.dataFamilia[e.CAMPO].$model=l},"float-label":"2"===e.ACCESO?e.DESCRIPCION+"*":e.DESCRIPCION,disable:"3"===e.ACCESO},null,8,["modelValue","onUpdate:modelValue","float-label","disable"])]}),_:2},1032,["error","error-label"])),"textarea"!==e.CTIPO||"N"!==e.CAMPOHER&&e.CAMPOHER&&("S"!==e.CAMPOHER||a.dataFamilia[e.CAMPOPAD]!==e.RPADRE)?(0,t.Q3)("v-if",!0):((0,t.uX)(),(0,t.Wv)(M,{key:2,error:a.v$.dataFamilia[e.CAMPO].$error,"error-label":a.$t("validaciones.requerido")},{default:(0,t.k6)(function(){return[(0,t.bF)(E,{class:"q-if-outlined",type:"textarea",modelValue:a.v$.dataFamilia[e.CAMPO].$model,"onUpdate:modelValue":function(l){return a.v$.dataFamilia[e.CAMPO].$model=l},"float-label":"2"===e.ACCESO?e.DESCRIPCION+"*":e.DESCRIPCION,disable:"3"===e.ACCESO},null,8,["modelValue","onUpdate:modelValue","float-label","disable"])]}),_:2},1032,["error","error-label"])),"datepicker"!==e.CTIPO||"N"!==e.CAMPOHER&&e.CAMPOHER&&("S"!==e.CAMPOHER||a.dataFamilia[e.CAMPOPAD]!==e.RPADRE)?(0,t.Q3)("v-if",!0):((0,t.uX)(),(0,t.Wv)(M,{key:3,error:a.v$.dataFamilia[e.CAMPO].$error,"error-label":a.$t("validaciones.requerido")},{default:(0,t.k6)(function(){return["2"!==e.ACCESO?((0,t.uX)(),(0,t.Wv)(F,{key:0,class:"q-if-outlined q-my-sm",type:"date",modelValue:a.v$.dataFamilia[e.CAMPO].$model,"onUpdate:modelValue":function(l){return a.v$.dataFamilia[e.CAMPO].$model=l},format:"DD/MM/YYYY","float-label":e.DESCRIPCION,disable:"3"===e.ACCESO},null,8,["modelValue","onUpdate:modelValue","float-label","disable"])):(0,t.Q3)("v-if",!0),"2"===e.ACCESO&&""===a.dataFamilia[e.CAMPO]?((0,t.uX)(),(0,t.Wv)(F,{key:1,class:"q-if-outlined q-my-sm",type:"date",modelValue:a.v$.dataFamilia[e.CAMPO].$model,"onUpdate:modelValue":function(l){return a.v$.dataFamilia[e.CAMPO].$model=l},format:"DD/MM/YYYY","float-label":e.DESCRIPCION+"*",disable:"3"===e.ACCESO},null,8,["modelValue","onUpdate:modelValue","float-label","disable"])):(0,t.Q3)("v-if",!0),"2"===e.ACCESO&&""!==a.dataFamilia[e.CAMPO]?((0,t.uX)(),(0,t.Wv)(F,{key:2,class:"q-if-outlined q-my-sm",type:"date",modelValue:a.v$.dataFamilia[e.CAMPO].$model,"onUpdate:modelValue":function(l){return a.v$.dataFamilia[e.CAMPO].$model=l},format:"DD/MM/YYYY","float-label":e.DESCRIPCION+"*",disable:"3"===e.ACCESO},null,8,["modelValue","onUpdate:modelValue","float-label","disable"])):(0,t.Q3)("v-if",!0)]}),_:2},1032,["error","error-label"])),"lista"!==e.CTIPO||"N"!==e.CAMPOHER&&e.CAMPOHER&&("S"!==e.CAMPOHER||a.dataFamilia[e.CAMPOPAD]!==e.RPADRE)?(0,t.Q3)("v-if",!0):((0,t.uX)(),(0,t.CE)(t.FK,{key:4},[(0,t.Lk)("div",A,(0,i.v_)(e.DESCRIPCION),1),(0,t.Lk)("div",b,[(0,t.Lk)("div",P,[(0,t.bF)(D,{class:"q-if-outlined",modelValue:a.ubg[e.CAMPO]["deptos"],"onUpdate:modelValue":function(l){return a.ubg[e.CAMPO]["deptos"]=l},options:a.cmbUbigeo[e.CAMPO]["deptos"],"float-label":a.$t("departamento"),onInput:function(t){return a.seleccionaDepartamento(a.ubg[e.CAMPO]["deptos"],l.TIPO,e.CAMPO)}},null,8,["modelValue","onUpdate:modelValue","options","float-label","onInput"])]),(0,t.Lk)("div",O,[(0,t.bF)(D,{class:"q-if-outlined",modelValue:a.ubg[e.CAMPO]["provincia"],"onUpdate:modelValue":function(l){return a.ubg[e.CAMPO]["provincia"]=l},options:a.cmbUbigeo[e.CAMPO]["provs"],"float-label":a.$t("provincia"),onInput:function(t){return a.seleccionaProvincia(a.ubg[e.CAMPO]["provincia"],l.TIPO,e.CAMPO,e.TIPO)}},null,8,["modelValue","onUpdate:modelValue","options","float-label","onInput"])]),(0,t.Lk)("div",f,[(0,t.bF)(M,{error:a.v$.dataFamilia[e.CAMPO].$error,"error-label":a.$t("validaciones.requerido")},{default:(0,t.k6)(function(){return[(0,t.bF)(D,{class:"q-if-outlined",modelValue:a.v$.dataFamilia[e.CAMPO].$model,"onUpdate:modelValue":function(l){return a.v$.dataFamilia[e.CAMPO].$model=l},options:a.cmbUbigeo[e.CAMPO]["dist"],"float-label":a.$t("distrito"),disable:"3"===e.ACCESO},null,8,["modelValue","onUpdate:modelValue","options","float-label","disable"])]}),_:2},1032,["error","error-label"])])])],64)),"siecombo"!==e.CTIPO||"N"!==e.CAMPOHER&&e.CAMPOHER&&("S"!==e.CAMPOHER||a.dataFamilia[e.CAMPOPAD]!==e.RPADRE)?(0,t.Q3)("v-if",!0):((0,t.uX)(),(0,t.Wv)(M,{key:5,error:a.v$.dataFamilia[e.CAMPO].$error,"error-label":a.$t("validaciones.requerido")},{default:(0,t.k6)(function(){return[(0,t.bF)(D,{class:"q-if-outlined",modelValue:a.v$.dataFamilia[e.CAMPO].$model,"onUpdate:modelValue":function(l){return a.v$.dataFamilia[e.CAMPO].$model=l},options:a.combos[e.CORIGEN],"float-label":"2"===e.ACCESO?e.DESCRIPCION+"*":e.DESCRIPCION,disable:"3"===e.ACCESO},null,8,["modelValue","onUpdate:modelValue","options","float-label","disable"])]}),_:2},1032,["error","error-label"])),"chips"!==e.CTIPO||"N"!==e.CAMPOHER&&e.CAMPOHER&&("S"!==e.CAMPOHER||a.dataFamilia[e.CAMPOPAD]!==e.RPADRE)?(0,t.Q3)("v-if",!0):((0,t.uX)(),(0,t.Wv)(M,{key:6,error:a.v$.dataFamilia[e.CAMPO].$error,"error-label":a.$t("validaciones.requerido")},{default:(0,t.k6)(function(){return[(0,t.bF)(I,{class:"q-if-outlined",modelValue:a.v$.dataFamilia[e.CAMPO].$model,"onUpdate:modelValue":function(l){return a.v$.dataFamilia[e.CAMPO].$model=l},"float-label":"2"===e.ACCESO?e.DESCRIPCION+"*":e.DESCRIPCION,disable:"3"===e.ACCESO},null,8,["modelValue","onUpdate:modelValue","float-label","disable"])]}),_:2},1032,["error","error-label"]))],64))],2)):(0,t.Q3)("v-if",!0)],64)}),256))]),(0,t.bF)(g,{class:"model-errores",modelValue:a.modalError,"onUpdate:modelValue":e[0]||(e[0]=function(e){return a.modalError=e}),header:!!a.isLess,ok:!a.isLess&&"Aceptar",onSubmit:e[1]||(e[1]=function(e){return a.modalError=!1})},{default:(0,t.k6)(function(){return[(0,t.bF)(h,{class:"no-shadow"},{default:(0,t.k6)(function(){return[(0,t.bF)(S,null,{right:(0,t.k6)(function(){return[(0,t.bF)(R,{name:"error_outline",size:"35px",color:"yellow-8"})]}),default:(0,t.k6)(function(){return[e[3]||(e[3]=(0,t.Lk)("div",{class:"text-bold"},"Verificar los siguientes campos",-1))]}),_:1}),(0,t.bF)($,null,{default:(0,t.k6)(function(){return[(0,t.eW)((0,i.v_)(a.arrayErrores.join(", ")),1)]}),_:1})]}),_:1})]}),_:1},8,["modelValue","header","ok"])]}),_:2},1032,["name"])}),128))]}),_:1},8,["modelValue"]),3!==a.sieInfo.ruta.nivel||a.isLess?(0,t.Q3)("v-if",!0):((0,t.uX)(),(0,t.Wv)(k,{key:0,expand:"",position:"bottom-right",offset:[20,20]},{default:(0,t.k6)(function(){return[(0,t.bF)(U,{fab:"",round:"",color:"secondary",icon:"save",onClick:a.actualizaFamilia},null,8,["onClick"])]}),_:1})),3===a.sieInfo.ruta.nivel&&a.isLess?((0,t.uX)(),(0,t.Wv)(N,{key:1,class:"fixed-top q-toolbar-menu",inverted:""},{default:(0,t.k6)(function(){return[(0,t.bF)(q),(0,t.bF)(U,{flat:"",round:"",dense:"",icon:"check",color:"white",onClick:a.actualizaFamilia},null,8,["onClick"])]}),_:1})):(0,t.Q3)("v-if",!0)],64))]}),_:1})}var v=l(57008),E=l.n(v),M=l(8445),F=l.n(M),D=l(63053),I=l.n(D),R=(l(71225),l(52133),l(10239),l(50310),l(5962),l(6724),l(15547),l(83190),l(27153),l(83972)),S=l(6123),$=l(80660),h=l(96529),g=l(80340),V=l(57668),y=l(30640),U=l(47035),k=l(99637),q=l(13813),N=l(82640),T=l(982),Q=l(33001),H=l(81288),L=l(36746),X=function(a,e){return(0,q["default"])(a||[],e)},_={setup:function(){var a=(0,R.fG)();return{v$:a}},components:{QInnerLoading:S.SQ,QSpinnerOval:S.VA,QTabs:S.uw,QTab:S.zu,QTabPane:S.dg,QCheckbox:S.vZ,QChip:S.wQ,QSelect:S.Si,QDatetime:S.T5,QChipsInput:S.XX,QPageSticky:S._U,QToolbar:S.ZV,sieFamilia:h.A,sieVacio:g.A,sieModal:y.A,QPage:S.Tu,QField:S.Om,QInput:S.ie,QCard:S.C$,QCardTitle:S.u0,QIcon:S.bP,QCardMain:S.d1,QBtn:S.Il,QToolbarTitle:S.r_},data:function(){return{promiseData:Promise.resolve(!0),sieInfo:(0,V["default"])(),vacio:!0,datosFamilia:{},dataFamilia:{},selectedTab:"",familia:"",cmbUbigeo:{},ubg:{},ubigeo:[],arrayErrores:[],modalError:!1}},computed:{ubigeos:function(){var a={FAMILIA:[],PADRE:[],MADRE:[],APODERADO:[]};return(0,k["default"])(this.datosFamilia.obtCamposMatricula,function(e){"lista"===e.CTIPO&&a[e.TIPO].push(e.CAMPO)}),a},campos:function(){return X(this.datosFamilia.obtCamposMatricula,function(a){return a.CAMPO})},tipos:function(){return X(this.datosFamilia.obtTiposCampos,function(a){return{TIPO:a.TIPO,DESCRIPCION:a.DESCRIPCION}})},arrayCampos:function(){return(0,Q.filterArray)(this.selectedTab,{field:"TIPO",list:this.datosFamilia.obtCamposMatricula||[]})},combos:function(){var a={tipDoc:X(this.datosFamilia.obtArrayDatos&&this.datosFamilia.obtArrayDatos.tipDoc,function(a){return{label:a.SECUDES,value:a.SECUCOD}}),lenguas:X(this.datosFamilia.obtArrayDatos&&this.datosFamilia.obtArrayDatos.lenguas,function(a){return{label:a.SECUDES,value:a.SECUCOD}}),paises:X(this.datosFamilia.obtArrayDatos&&this.datosFamilia.obtArrayDatos.paises,function(a){return{label:a.SECUDES,value:a.SECUCOD}}),paisesG:X(this.datosFamilia.obtPaises,function(a){return{label:a.NOMBRE,value:a.CODE}}),aseguradoras:X(this.datosFamilia.obtArrayDatos&&this.datosFamilia.obtArrayDatos.aseguradoras,function(a){return{label:a.SECUDES,value:a.SECUCOD}}),clinicas:X(this.datosFamilia.obtArrayDatos&&this.datosFamilia.obtArrayDatos.clinicas,function(a){return{label:a.SECUDES,value:a.SECUCOD}}),parentesco:X(this.datosFamilia.obtArrayDatos&&this.datosFamilia.obtArrayDatos.parentesco,function(a){return{label:a.SECUDES,value:a.SECUCOD}}),religiones:X(this.datosFamilia.obtArrayDatos&&this.datosFamilia.obtArrayDatos.religiones,function(a){return{label:a.SECUDES,value:a.SECUCOD}}),nacionalidades:X(this.datosFamilia.obtArrayDatos&&this.datosFamilia.obtArrayDatos.nacionalidades,function(a){return{label:a.SECUDES,value:a.SECUCOD}}),sangre:X(this.datosFamilia.obtSangres,function(a){return{label:a.SANDES,value:a.SANCOD}}),deptos:X(this.datosFamilia.obtDepartamentos,function(a){return{label:a.UBGNOM,value:a.UBGCOD}}),esSalud:X(this.datosFamilia.obtArrayDatos&&this.datosFamilia.obtArrayDatos.hospitalesEssalud,function(a){return{label:a.SECUDES,value:a.SECUCOD}}),gradoInstru:X(this.datosFamilia.obtArrayDatos&&this.datosFamilia.obtArrayDatos.gradoInstru,function(a){return{label:a.SECUDES,value:a.SECUCOD}}),estCivil:X(this.datosFamilia.obtArrayDatos&&this.datosFamilia.obtArrayDatos.estCivil,function(a){return{label:a.SECUDES,value:a.SECUCOD}}),sexo:(0,L["default"])().generos,siNo:(0,L["default"])().estadoSN,quienVive:(0,L["default"])().viveCon,tipSeguro:(0,L["default"])().seguroPropio,titSeguro:(0,L["default"])().titularSeguro,respEcon:(0,L["default"])().responsablePago};return a},isLess:function(){return(0,H.isLess)()}},methods:{init:function(){var a=this;return $.$http.get("api/HyoCamposmatricula/datosFamilia").then(function(e){var l=e.json;return l["obtCamposMatricula"]=l["obtCamposMatricula"].filter(function(a){return"FAMILIA"===a.TABLA||"ALUMNO"===a.TABLA}),l["obtCamposMatricula"]=(0,U["default"])(l["obtCamposMatricula"],"asc","CORDEN"),l["obtCamposMatricula"]=(0,U["default"])(l["obtCamposMatricula"],"asc","CGRUPO"),a.datosFamilia=l,!0})},splitEmail:function(a){return"string"===typeof a&&a?a.split(";"):[]},joinEmail:function(a){if("object"===I()(a))return a.join(";")},getDatos:function(a){var e=this,l=F()(this.campos);l=l.filter(function(a){return"T"!==a&&"V"!==a&&"S"!==a&&"N"!==a}),l=l.filter(function(a,e,l){return l.indexOf(a)===e}),this.familia=a,this.promiseData.then(function(){return $.$http.post("api/HyoFamilias/obtDatosTabla",{campos:l,famcod:a.FAMCOD})}).then(function(a){var l=a.json;l.length>0&&(e.vacio=!1,e.dataFamilia=l[0],e.dataFamilia["PADMAIL"]=e.splitEmail(e.dataFamilia["PADMAIL"]),e.dataFamilia["MADMAIL"]=e.splitEmail(e.dataFamilia["MADMAIL"]),e.dataFamilia["APOMAIL"]=e.splitEmail(e.dataFamilia["APOMAIL"]),e.validaUbigeos("FAMILIA",l),e.selectedTab=Array.isArray(e.datosFamilia.obtTiposCampos)&&e.datosFamilia.obtTiposCampos[0].TIPO)})},actualizaFamilia:function(){var a=this;this.v$.dataFamilia.$touch();var e=[];if(this.v$.dataFamilia.$error){for(var l=this.v$.dataFamilia,t=0;t<this.campos.length;t++){var i=this.campos[t];l[i].$error&&e.push(this.datosFamilia.obtCamposMatricula[t].DESCRIPCION+" ("+this.datosFamilia.obtCamposMatricula[t].TIPO+")")}this.arrayErrores=e,this.modalError=!0}else{var o=E()({},this.dataFamilia);o["PADMAIL"]=this.joinEmail(o["PADMAIL"]),o["MADMAIL"]=this.joinEmail(o["MADMAIL"]),o["APOMAIL"]=this.joinEmail(o["APOMAIL"]),$.$http.post("api/HyoFamilias/actualizaFamilia",{datos:o,famcod:this.familia.FAMCOD}).then(function(e){var l=e.json;(0,T["default"])(a.$t(l.texto))})}},col:function(a,e){var l=(0,Q.filterArray)(e,{field:"CGRUPO",list:a}),t=(100/l.length).toFixed(0),i="";switch(t){case"100":i="col-12";break;case"50":i="col-6";break;case"33":i="col-4";break;case"25":i="col-3";break}return i},validaUbigeos:function(a,e){var l=this,t=this.ubigeos,i={},o={},r=[];t[a].length>0&&((0,k["default"])(t[a],function(t){i[t]={},i[t]["deptos"]=l.combos["deptos"],i[t]["provs"]=[],i[t]["dist"]=[],o[t]={},r[t]=[],e[0][t]&&setTimeout(function(){r[t]=e[0][t],o[t]["deptos"]=r[t].substring(0,2),o[t]["provincia"]=r[t].substring(0,4),l.seleccionaDepartamento(o[t]["deptos"],a,t),l.seleccionaProvincia(o[t]["provincia"],a,t)})}),this.cmbUbigeo=i,this.ubg=o,this.ubigeo=r)},seleccionaDepartamento:function(a,e,l){var t=this;a&&$.$http.get("api/HyoUbigeos/obtProvincias",{params:{dep:a}}).then(function(a){var e=a.json;e=(0,q["default"])(e,function(a){return{label:a.UBGNOM,value:a.UBGCOD}}),t.cmbUbigeo[l]["provs"]=e,t.ubigeo[l].length>0&&(t.ubg[l]["provincia"]=t.ubigeo[l].substring(0,4))})},seleccionaProvincia:function(a,e,l,t){var i=this;a&&$.$http.get("api/HyoUbigeos/obtDistritos",{params:{prov:a}}).then(function(a){var e=a.json;e=(0,q["default"])(e,function(a){return{label:a.UBGNOM,value:a.UBGCOD}}),i.cmbUbigeo[l]["dist"]=e})}},validations:function(){var a=this,e={dataFamilia:{}},l=["radiobutton","checkbox","vacunas","enfermedad","persona","telefono","dental","grilla"];return this.datosFamilia.obtCamposMatricula.map(function(t){"2"===t.ACCESO&&-1===l.indexOf(t.CTIPO)?t.RPADRE?t.RPADRE===a.dataFamilia[t.CAMPOPAD]?e["dataFamilia"][t.CAMPO]={required:N.mw}:e["dataFamilia"][t.CAMPO]={required:!1}:e["dataFamilia"][t.CAMPO]={required:N.mw}:e["dataFamilia"][t.CAMPO]={required:!1}}),e},created:function(){this.promiseData=this.init()}},Y=l(12807);const W=(0,Y.A)(_,[["render",p]]);var x=W}}]);