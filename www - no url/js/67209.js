"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[67209],{67209:function(o,e,a){a.r(e),a.d(e,{default:function(){return Do}});var r=a(61758),n=a(58790),l={class:"row items-center no-wrap"},t={class:"col-auto"},i={class:"row"},s={class:"col-xs-12 col-sm-4 q-pa-xs"},c={class:"col-xs-12 col-sm-4 q-pa-xs"},u={class:"row q-ma-xs q-col-gutter-sm"},m={class:"col-xs-12"},d={class:"text-h6"},A={class:"col-xs-12"},C={class:"col-xs-12"},f={class:"col-xs-6"},O={class:"col-xs-6"},p={class:"col-xs-6"},I={class:"col-xs-6"},h={key:0,class:"col-xs-6"},v={key:1,class:"col-xs-6"},E={key:2,class:"col-xs-6"},_={key:3,class:"col-xs-6"},R={key:4,class:"col-xs-6"},b={key:5,class:"col-xs-6"},D={key:6,class:"col-xs-6"},V={class:"col-xs-6"},T={key:7,class:"col-xs-6"},N={key:8,class:"col-xs-6"},L={key:9,class:"col-xs-6"},g={key:10,class:"col-xs-6"},S={key:11,class:"col-xs-6"},M={class:"col-xs-6"},B={class:"col-xs-6"},U={class:"col-xs-6"},F={class:"col-xs-6"},w={class:"col-xs-6"},P={class:"col-xs-6"},k={key:12,class:"col-xs-12"},x={class:"row q-ma-xs q-col-gutter-sm"},G={class:"col-xs-12"},y={class:"text-h6"},$={class:"col-xs-12"},z={class:"col-xs-12"},Q={class:"col-xs-12 col-sm-6"},q={class:"col-xs-12 col-sm-6"},H={class:"col-xs-12"},Y={class:"col-xs-12"},Z={class:"col-xs-12"};function X(o,e){var a=(0,r.g2)("crearBotones"),X=(0,r.g2)("q-card-section"),J=(0,r.g2)("q-separator"),j=(0,r.g2)("q-select"),K=(0,r.g2)("sie-grid"),W=(0,r.g2)("footer-grid"),oo=(0,r.g2)("q-input"),eo=(0,r.g2)("q-date"),ao=(0,r.g2)("q-popup-proxy"),ro=(0,r.g2)("q-icon"),no=(0,r.g2)("q-checkbox"),lo=(0,r.g2)("sie-modal"),to=(0,r.g2)("q-card");return(0,r.uX)(),(0,r.Wv)(to,{class:"layout-v1 my-card",flat:"",bordered:""},{default:(0,r.k6)(function(){return[(0,r.bF)(X,null,{default:(0,r.k6)(function(){return[(0,r.Lk)("div",l,[e[41]||(e[41]=(0,r.Lk)("div",{class:"col"},[(0,r.Lk)("div",{class:"text-h6"},"Servicios de Cuentas Bancarias")],-1)),(0,r.Lk)("div",t,[(0,r.bF)(a,{buttons:o.botones,nivelAcceso:o.nivelAcceso,option:o.nameOption},null,8,["buttons","nivelAcceso","option"])])])]}),_:1}),(0,r.bF)(J),(0,r.bF)(X,null,{default:(0,r.k6)(function(){return[(0,r.Lk)("div",i,[(0,r.Lk)("div",s,[(0,r.bF)(j,{modelValue:o.selectBanco,"onUpdate:modelValue":e[0]||(e[0]=function(e){return o.selectBanco=e}),options:o.bancos,"option-value":"BANCOD","option-label":"DESCRIPCION",label:"Banco",onInput:o.filterServicios},null,8,["modelValue","options","onInput"])]),(0,r.Lk)("div",c,[(0,r.bF)(j,{modelValue:o.selectMoneda,"onUpdate:modelValue":e[1]||(e[1]=function(e){return o.selectMoneda=e}),options:o.monedas,"option-value":"value","option-label":"label",label:"Moneda",onInput:o.filterServicios},null,8,["modelValue","options","onInput"])])]),(0,r.Lk)("div",null,[(0,r.bF)(K,{class:"fix-table-global ag-theme-balham",columnDefs:o.columnDefs,rowData:o.rowData,frameworkComponents:o.frameworkComponents,defaultColDef:o.defaultColDef,onGridReady:o.onGridReady,style:{height:"calc(100vh - 290px)",width:"100%"}},null,8,["columnDefs","rowData","frameworkComponents","defaultColDef","onGridReady"]),(0,r.bF)(W,{modelValue:o.pagina,"onUpdate:modelValue":e[2]||(e[2]=function(e){return o.pagina=e}),max:o.pages,onLoad:o.filterServicios,rows:o.rowData},null,8,["modelValue","max","onLoad","rows"]),(0,r.bF)(lo,{modelValue:o.openModal,"onUpdate:modelValue":e[31]||(e[31]=function(e){return o.openModal=e}),onSubmit:o.save},{default:(0,r.k6)(function(){return[(0,r.Lk)("div",u,[(0,r.Lk)("div",m,[(0,r.Lk)("div",d,(0,n.v_)(o.title),1)]),(0,r.Lk)("div",A,[(0,r.bF)(j,{modelValue:o.form.NUMCTA,"onUpdate:modelValue":e[3]||(e[3]=function(e){return o.form.NUMCTA=e}),label:"Cuenta Servicio",placeholder:"Seleccione la Cuenta Banco","option-value":"NUMCTA","option-label":"CTACTE",options:o.comboCtaBanco,onInput:o.getServBanco},null,8,["modelValue","options","onInput"])]),(0,r.Lk)("div",C,[(0,r.bF)(j,{modelValue:o.form.ID_BANCOSER,"onUpdate:modelValue":e[4]||(e[4]=function(e){return o.form.ID_BANCOSER=e}),label:"Servicio Banco",placeholder:"Seleccione el Servicio Banco","option-value":"ID_BANCOSER","option-label":"NOMBRE",options:o.comboServBancos},null,8,["modelValue","options"])]),(0,r.Lk)("div",f,[(0,r.bF)(j,{modelValue:o.form.FILTRO_DEUDA,"onUpdate:modelValue":e[5]||(e[5]=function(e){return o.form.FILTRO_DEUDA=e}),label:"Filtro de Deuda",placeholder:"Seleccione el filtro de Deudas",options:o.filterAnio},null,8,["modelValue","options"])]),(0,r.Lk)("div",O,[(0,r.bF)(j,{class:"truncate-label",label:"Talonario",options:o.talonarios,modelValue:o.form.NUMTAL,"onUpdate:modelValue":e[6]||(e[6]=function(e){return o.form.NUMTAL=e}),"option-label":"TALONARIO","option-value":"NUMTAL"},null,8,["options","modelValue"])]),(0,r.Lk)("div",p,[(0,r.bF)(oo,{modelValue:o.form.CTACTE_SERVICIO,"onUpdate:modelValue":e[7]||(e[7]=function(e){return o.form.CTACTE_SERVICIO=e}),label:"Cuenta Corriente",placeholder:"Ingrese la cuenta corriente del servicio"},null,8,["modelValue"])]),(0,r.Lk)("div",I,[(0,r.bF)(oo,{label:"Fecha de Inicio de Operaciones",debounce:"500",maxlength:"10",format:"##/##/####",modelValue:o.form.FECHA_INICIO,"onUpdate:modelValue":e[10]||(e[10]=function(e){return o.form.FECHA_INICIO=e}),mask:"##/##/####",readonly:""},{append:(0,r.k6)(function(){return[(0,r.bF)(ro,{class:"cursor-pointer",name:"date_range"},{default:(0,r.k6)(function(){return[(0,r.bF)(ao,{ref:"qDateProxy1","transition-show":"scale","transition-hide":"scale"},{default:(0,r.k6)(function(){return[(0,r.bF)(eo,{mask:"DD/MM/YYYY",modelValue:o.form.FECHA_INICIO,"onUpdate:modelValue":e[8]||(e[8]=function(e){return o.form.FECHA_INICIO=e}),onInput:e[9]||(e[9]=function(e){return o.closeModalCalendar("qDateProxy1")})},null,8,["modelValue"])]}),_:1},512)]}),_:1})]}),_:1},8,["modelValue"])]),o.mostrarNroEnvio?((0,r.uX)(),(0,r.CE)("div",h,[(0,r.bF)(oo,{modelValue:o.form.NRO_ENVIO,"onUpdate:modelValue":e[11]||(e[11]=function(e){return o.form.NRO_ENVIO=e}),label:"Número de Envío"},null,8,["modelValue"])])):(0,r.Q3)("v-if",!0),o.mostrarCodClase?((0,r.uX)(),(0,r.CE)("div",v,[(0,r.bF)(oo,{modelValue:o.form.COD_CLASE,"onUpdate:modelValue":e[12]||(e[12]=function(e){return o.form.COD_CLASE=e}),label:"Código Clase",placeholder:"Ingrese el código clase",maxlength:"3"},null,8,["modelValue"])])):(0,r.Q3)("v-if",!0),o.mostrarAnioBloqueo?((0,r.uX)(),(0,r.CE)("div",E,[(0,r.bF)(oo,{modelValue:o.form.ANIO_BLOQUEO,"onUpdate:modelValue":e[13]||(e[13]=function(e){return o.form.ANIO_BLOQUEO=e}),label:"Año de Bloqueo",placeholder:"Ingrese el año de bloqueo",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)",maxlength:"4"},null,8,["modelValue"])])):(0,r.Q3)("v-if",!0),o.mostrarFlatMora?((0,r.uX)(),(0,r.CE)("div",_,[(0,r.bF)(j,{modelValue:o.form.FLAT_MORA,"onUpdate:modelValue":e[14]||(e[14]=function(e){return o.form.FLAT_MORA=e}),label:"Tipo de Mora",placeholder:"Seleccione el tipo de la mora",options:o.comboTipoMora,"option-value":"valor","option-label":"label"},null,8,["modelValue","options"])])):(0,r.Q3)("v-if",!0),o.mostrarFlatMoraIndividual?((0,r.uX)(),(0,r.CE)("div",R,[(0,r.bF)(no,{"true-value":1,"false-value":0,modelValue:o.form.FLAT_MORA_INDIVIDUAL,"onUpdate:modelValue":e[15]||(e[15]=function(e){return o.form.FLAT_MORA_INDIVIDUAL=e}),label:"Flat Mora Individual"},null,8,["modelValue"])])):(0,r.Q3)("v-if",!0),o.mostrarDiasMora?((0,r.uX)(),(0,r.CE)("div",b,[(0,r.bF)(oo,{modelValue:o.form.DIAS_MORA,"onUpdate:modelValue":e[16]||(e[16]=function(e){return o.form.DIAS_MORA=e}),label:"Días Mora",placeholder:"Ingrese los días de mora",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)",maxlength:"3"},null,8,["modelValue"])])):(0,r.Q3)("v-if",!0),o.mostarFlatAgrupar?((0,r.uX)(),(0,r.CE)("div",D,[(0,r.bF)(no,{"true-value":1,"false-value":0,modelValue:o.form.FLAT_AGRUPAR,"onUpdate:modelValue":e[17]||(e[17]=function(e){return o.form.FLAT_AGRUPAR=e}),label:"Flat Agrupar"},null,8,["modelValue"])])):(0,r.Q3)("v-if",!0),(0,r.Lk)("div",V,[(0,r.bF)(oo,{modelValue:o.form.ANIO_COBRANZA,"onUpdate:modelValue":e[18]||(e[18]=function(e){return o.form.ANIO_COBRANZA=e}),label:"Año de Cobranza ",placeholder:"Ingrese el año de inicio de cobranza",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)",maxlength:"4"},null,8,["modelValue"])]),o.mostrarTipoCobranza?((0,r.uX)(),(0,r.CE)("div",T,[(0,r.bF)(j,{modelValue:o.form.TIPO_COBRANZA,"onUpdate:modelValue":e[19]||(e[19]=function(e){return o.form.TIPO_COBRANZA=e}),label:o.labelTipoCobranza,placeholder:o.placeholderTipoCobranza,options:o.comboTipoTipoCobranza,"option-value":"VALUE","option-label":"LABEL"},null,8,["modelValue","label","placeholder","options"])])):(0,r.Q3)("v-if",!0),o.mostarDatosInterbank?((0,r.uX)(),(0,r.CE)("div",N,[(0,r.bF)(oo,{modelValue:o.form.COD_RUBRO,"onUpdate:modelValue":e[20]||(e[20]=function(e){return o.form.COD_RUBRO=e}),label:"Código de Rubro",placeholder:"Ingrese el Código de Rubro",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)",maxlength:"2"},null,8,["modelValue"])])):(0,r.Q3)("v-if",!0),o.mostarDatosInterbank?((0,r.uX)(),(0,r.CE)("div",L,[(0,r.bF)(oo,{modelValue:o.form.COD_EMPRESA,"onUpdate:modelValue":e[21]||(e[21]=function(e){return o.form.COD_EMPRESA=e}),label:"Código de Empresa",placeholder:"Ingrese el Código de Empresa",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)",maxlength:"3"},null,8,["modelValue"])])):(0,r.Q3)("v-if",!0),o.mostarDatosInterbank?((0,r.uX)(),(0,r.CE)("div",g,[(0,r.bF)(oo,{modelValue:o.form.COD_SERVICIO,"onUpdate:modelValue":e[22]||(e[22]=function(e){return o.form.COD_SERVICIO=e}),label:"Código de Solicitud",placeholder:"Ingrese el Código de Servicio",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)",maxlength:"2"},null,8,["modelValue"])])):(0,r.Q3)("v-if",!0),o.mostarDatosInterbank?((0,r.uX)(),(0,r.CE)("div",S,[(0,r.bF)(oo,{modelValue:o.form.COD_UNICO,"onUpdate:modelValue":e[23]||(e[23]=function(e){return o.form.COD_UNICO=e}),label:"Código Único",placeholder:"Ingrese el Código Único",onkeypress:"return (event.charCode >= 48 && event.charCode <= 57)",maxlength:"10"},null,8,["modelValue"])])):(0,r.Q3)("v-if",!0),(0,r.Lk)("div",M,[(0,r.bF)(oo,{modelValue:o.form.NOMBRE_ARCHIVO,"onUpdate:modelValue":e[24]||(e[24]=function(e){return o.form.NOMBRE_ARCHIVO=e}),label:"Nombre del Archivo",placeholder:"Ingrese el nombre del archivo",onkeypress:"return ((event.charCode >= 48 && event.charCode <= 57) || (event.charCode >= 65 && event.charCode <= 90) || (event.charCode >= 97 && event.charCode <= 122))",maxlength:"20"},null,8,["modelValue"])]),(0,r.Lk)("div",B,[(0,r.bF)(no,{"true-value":1,"false-value":0,modelValue:o.form.USA_MORAFIJA,"onUpdate:modelValue":e[25]||(e[25]=function(e){return o.form.USA_MORAFIJA=e}),label:"Usa Mora Fija"},null,8,["modelValue"])]),(0,r.Lk)("div",U,[(0,r.bF)(no,{"true-value":1,"false-value":0,modelValue:o.form.MULTI_MONEDA,"onUpdate:modelValue":e[26]||(e[26]=function(e){return o.form.MULTI_MONEDA=e}),label:"Usa Múltiples Monedas"},null,8,["modelValue"])]),(0,r.Lk)("div",F,[(0,r.bF)(no,{"true-value":1,"false-value":0,modelValue:o.form.VALIDA_CODSERV,"onUpdate:modelValue":e[27]||(e[27]=function(e){return o.form.VALIDA_CODSERV=e}),label:"Validar Código de Serv."},null,8,["modelValue"])]),(0,r.Lk)("div",w,[(0,r.bF)(no,{"true-value":1,"false-value":0,modelValue:o.form.SERVICIO_ACTIVO,"onUpdate:modelValue":e[28]||(e[28]=function(e){return o.form.SERVICIO_ACTIVO=e}),label:"Activo"},null,8,["modelValue"])]),(0,r.Lk)("div",P,[(0,r.bF)(no,{"true-value":1,"false-value":0,modelValue:o.form.AUTOGENERADO,"onUpdate:modelValue":e[29]||(e[29]=function(e){return o.form.AUTOGENERADO=e}),label:"Pagos Autogenerados"},null,8,["modelValue"])]),o.form.AUTOGENERADO?((0,r.uX)(),(0,r.CE)("div",k,[(0,r.bF)(j,{modelValue:o.form.ID_MEDIOPAGO,"onUpdate:modelValue":e[30]||(e[30]=function(e){return o.form.ID_MEDIOPAGO=e}),label:"Medio de Pago para Autogenerado",placeholder:"Seleccione el Medio de Pago","option-value":"ID_MEDIOPAGO","option-label":"MEDIOPAGO",options:o.comboMedioPagos},null,8,["modelValue","options"])])):(0,r.Q3)("v-if",!0)])]}),_:1},8,["modelValue","onSubmit"]),(0,r.bF)(lo,{modelValue:o.openModalConfigurar,"onUpdate:modelValue":e[39]||(e[39]=function(e){return o.openModalConfigurar=e}),onSubmit:o.saveCampoArchivo},{default:(0,r.k6)(function(){return[(0,r.Lk)("div",x,[(0,r.Lk)("div",G,[(0,r.Lk)("div",y,(0,n.v_)(o.titleConfig),1)]),(0,r.Lk)("div",$,[(0,r.bF)(oo,{modelValue:o.formConf.CAMPO,"onUpdate:modelValue":e[32]||(e[32]=function(e){return o.formConf.CAMPO=e}),label:"Campo del archivo",placeholder:"Ingrese el nombre del campo del banco",maxlength:"12"},null,8,["modelValue"])]),(0,r.Lk)("div",z,[(0,r.bF)(j,{modelValue:o.formConf.VALOR,"onUpdate:modelValue":e[33]||(e[33]=function(e){return o.formConf.VALOR=e}),label:"Valor del Campo en el Sistema",placeholder:"Seleccione el tipo del campo",options:o.comboCampos,"option-value":"VALUE","option-label":"LABEL"},null,8,["modelValue","options"])]),(0,r.Lk)("div",Q,[(0,r.bF)(oo,{modelValue:o.formConf.POSICION,"onUpdate:modelValue":e[34]||(e[34]=function(e){return o.formConf.POSICION=e}),label:"Posición del campo",placeholder:"Ingrese la Posición del campo",type:"number",min:"1"},null,8,["modelValue"])]),(0,r.Lk)("div",q,[(0,r.bF)(oo,{modelValue:o.formConf.LONGITUD,"onUpdate:modelValue":e[35]||(e[35]=function(e){return o.formConf.LONGITUD=e}),label:"Longitud del campo",placeholder:"Ingrese la Longitud del campo",type:"number",min:"0"},null,8,["modelValue"])]),(0,r.Lk)("div",H,[(0,r.bF)(j,{modelValue:o.formConf.TIPO,"onUpdate:modelValue":e[36]||(e[36]=function(e){return o.formConf.TIPO=e}),label:"Tipo de dato del campo",placeholder:"Seleccione el tipo del campo",options:o.comboTipoDatos,"option-value":"ID_TIPO_DATO","option-label":"TIPO_DATO"},null,8,["modelValue","options"])]),(0,r.Lk)("div",Y,[(0,r.bF)(j,{modelValue:o.formConf.REGISTRO,"onUpdate:modelValue":e[37]||(e[37]=function(e){return o.formConf.REGISTRO=e}),label:"Tipo de Registro",placeholder:"Seleccione el tipo de registro",options:o.comboTipoRegistro,"option-value":"VALUE","option-label":"LABEL"},null,8,["modelValue","options"])]),(0,r.Lk)("div",Z,[(0,r.bF)(j,{modelValue:o.formConf.TIPO_ENVIO,"onUpdate:modelValue":e[38]||(e[38]=function(e){return o.formConf.TIPO_ENVIO=e}),label:"Tipo de Envío",placeholder:"Seleccione el tipo de envío",options:o.comboTipoEnvio,"option-value":"VALUE","option-label":"LABEL"},null,8,["modelValue","options"])])])]}),_:1},8,["modelValue","onSubmit"]),(0,r.bF)(lo,{modelValue:o.openModalCA,"onUpdate:modelValue":e[40]||(e[40]=function(e){return o.openModalCA=e}),labelButtonOk:"Aceptar"},{default:(0,r.k6)(function(){return[e[42]||(e[42]=(0,r.Lk)("div",{class:"row q-ma-xs q-col-gutter-sm"},[(0,r.Lk)("div",{class:"col-xs-12"},[(0,r.Lk)("div",{class:"text-h6"},"Lista de Campos de Archivo de Banco")])],-1)),(0,r.bF)(K,{class:"ag-theme-balham",style:{width:"1000wv",height:"calc(100vh - 300px)"},columnDefs:o.columnDefsCA,rowData:o.rowDataCA,frameworkComponents:o.frameworkComponents,onGridReady:o.onGridReadyCA},null,8,["columnDefs","rowData","frameworkComponents","onGridReady"])]}),_:1},8,["modelValue"])])]}),_:1})]}),_:1})}var J=a(99550),j=a.n(J),K=a(76080),W=a.n(K),oo=a(45254),eo=a.n(oo),ao=(a(30683),a(71225),a(39866),a(23825),a(10239),a(50310),a(5962),a(11777),a(83190),a(27153),a(52776),a(66307),a(81813),a(24066),a(6123)),ro=a(36408),no=a(64446),lo=a(70674),to=a(27560),io=a(64208),so=a(54489),co=a(95718),uo=a(53380),mo=a(78840),Ao=a(57668),Co=a(18105),fo=a(12143),Oo=a(95477),po=a(80660),Io=a(75053),ho=a(64303),vo=a(41615),Eo=a(3112),_o={components:{sieGrid:ro.A,agSelect:no.A,sieModal:Io.A,footerGrid:to.A,QCardSection:co.A,QSeparator:uo.A,QInput:io.A,QPopupProxy:Oo.A,QDate:fo.A,QSelect:so.S,actionButton:mo.A,QCheckbox:Eo.A,crearBotones:ho.A,QCard:ao.C$,QIcon:ao.bP},data:function(){return{nameOption:"cuentaServicioBanco",botones:[],nivelAcceso:(0,Ao["default"])().ruta.nivel,frameworkComponents:null,columnDefs:null,rowData:null,columnDefsCA:null,rowDataCA:null,api:null,selectBanco:"",selectMoneda:"",comboServBancos:"",comboMedioPagos:"",comboTipoDatos:"",comboCtaBanco:"",title:"",titleConfig:"",flag:"save",openModal:!1,openModalConfigurar:!1,openModalCA:!1,defaultColDef:{suppressHeaderMenuButton:!0,filter:!0,floatingFilterComponentParams:{suppressFilterButton:!0},resizable:!0,sortable:!0},monedas:[],bancos:[],talonarios:[],pagina:1,pages:1,comboTipoRegistro:[{LABEL:"Detalle",VALUE:"D"},{LABEL:"Cabecera",VALUE:"C"}],comboTipoEnvio:[{LABEL:"Ambos(Envío y Recepción)",VALUE:"A"},{LABEL:"Envío",VALUE:"E"},{LABEL:"Recepción",VALUE:"R"}],comboCampos:[{LABEL:"Código Sistema (ALUCOD/POSCOD/ID_PERSONA/etc)",VALUE:"CODIGO"},{LABEL:"Código de Banco",VALUE:"CODIGO_BANCO"},{LABEL:"Código de Familia",VALUE:"FAMCOD"},{LABEL:"Fecha de Pago",VALUE:"FECPAG"},{LABEL:"Fecha de Vencimiento",VALUE:"FECVEN"},{LABEL:"Año Y Mes",VALUE:"ANIO_MES"},{LABEL:"Monto",VALUE:"MONTOCOB"},{LABEL:"Mora",VALUE:"MONTOMOR"},{LABEL:"Nro. operación",VALUE:"NUMOPE"},{LABEL:"Descripción",VALUE:"DESCRIPCION"}],filterAnio:[{label:"1. Año y posterior",value:1},{label:"2. Año y anterior",value:2},{label:"3. Año",value:3}],comboTipoTipoCobranza:null,labelTipoCobranza:"",placeholderTipoCobranza:"",form:{ID_CTASERVICIO:"",ID_BANCOSER:"",NUMCTA:"",NOMBRE_ARCHIVO:"",CTACTE_SERVICIO:"",FECHA_INICIO:(0,Co.Ay)(new Date,"DD/MM/YYYY"),NRO_ENVIO:"",COD_CLASE:"",ANIO_BLOQUEO:"",FLAT_MORA:"0",FLAT_MORA_INDIVIDUAL:0,DIAS_MORA:"",ANIO_COBRANZA:2e3,TIPO_COBRANZA:1,SERVICIO_ACTIVO:1,FLAT_AGRUPAR:0,COD_RUBRO:"",COD_EMPRESA:"",COD_SERVICIO:"",COD_UNICO:"",NUMTAL:"",USA_MORAFIJA:0,MULTI_MONEDA:0,AUTOGENERADO:0,ID_MEDIOPAGO:0,FILTRO_DEUDA:0,VALIDA_CODSERV:0},proceso:"save",mostrarNroEnvio:!1,mostrarCodClase:!1,mostrarAnioBloqueo:!1,mostrarFlatMora:!1,mostrarFlatMoraIndividual:!1,mostrarDiasMora:!1,mostrarTipoCobranza:!1,comboTipoMora:[{label:"No",valor:"0"},{label:"Flat",valor:"1"},{label:"Porcentaje",valor:"2"},{label:"Flat + Adicional",valor:"5"},{label:"Porcentaje + Adicional",valor:"6"}],formConf:{ID_BANCOARCH:"",ID_BANCOSER:"",CAMPO:"",VALOR:"",LONGITUD:"",TIPO:"",POSICION:"",REGISTRO:"D",TIPO_ENVIO:"A"},mostarFlatAgrupar:!1,mostarDatosInterbank:!1}},methods:{crearBotones:function(){this.botones=[{label:"Nuevo",icon:"add",click:this.addRow,minAcceso:vo["default"].LECTURA_ESCRITURA}]},closeModalCalendar:function(o){this.$refs[o].hide()},addRow:function(){this.form.ID_CTASERVICIO="",this.form.ID_BANCOSER="",this.form.NUMCTA="",this.form.NOMBRE_ARCHIVO="",this.form.CTACTE_SERVICIO="",this.form.FECHA_INICIO=(0,Co.Ay)(new Date,"DD/MM/YYYY"),this.form.NRO_ENVIO="",this.form.COD_CLASE="",this.form.ANIO_BLOQUEO="",this.form.FLAT_MORA="0",this.form.FLAT_MORA_INDIVIDUAL="0",this.form.DIAS_MORA="",this.form.ANIO_COBRANZA="2000",this.form.TIPO_COBRANZA="1",this.form.FILTRO_DEUDA=2,this.form.NUMTAL="",this.flag="save",this.openModal=!0,this.title="Agregar Cuenta Servicio"},onGridReady:function(o){this.api=o.api},onGridReadyCA:function(o){this.apiCA=o.api},getTalonarios:function(){var o=this;return eo()(W()().m(function e(){var a;return W()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,po.$http.get("api/talonarioController/getTalon");case 1:a=e.v,a.filter(function(o){return![vo["default"].CODSUNAT.NOTA_CREDITO,vo["default"].CODSUNAT.NOTA_DEBITO].includes(o.CODSUNAT)}),a.unshift({NUMTAL:null,TALONARIO:"- Ninguno -"}),o.talonarios=a;case 2:return e.a(2)}},e)}))()},getServicios:function(){var o=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.response="grid",po.$http.get("api/bancoController/getCtaServicios",{params:{parametros:e}}).then(function(e){o.rowData=e})},agregar:function(){this.$router.push({name:"tesoreria.asignacionCuentaServicioBanco.form"})},saveCampoArchivo:function(){var o=this;return eo()(W()().m(function e(){var a;return W()().w(function(e){while(1)switch(e.n){case 0:a={ID_BANCOSER:o.formConf.ID_BANCOSER,CAMPO:o.formConf.CAMPO,VALOR:o.formConf.VALOR,LONGITUD:o.formConf.LONGITUD,POSICION:o.formConf.POSICION,TIPO:o.formConf.TIPO,REGISTRO:o.formConf.REGISTRO,TIPO_ENVIO:o.formConf.TIPO_ENVIO},"save"===o.proceso?o.$confirm("¿Está seguro de agregar este campo?","save").onOk(eo()(W()().m(function e(){return W()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,po.$http.post("api/bancoController/postCampoArchivo",{datos:a}).then(function(e){o.getServicios(),o.$alert(e.message,"success"),o.openModalConfigurar=!1}).catch(function(e){var a=e.error;o.$alert(a.message,"warning")});case 1:return e.a(2)}},e)}))):"update"===o.proceso&&(a.id_bancoarch=o.formConf.ID_BANCOARCH,o.$confirm("¿Estás seguro de actualizar este registro?","info").onOk(eo()(W()().m(function e(){return W()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,po.$http.put("api/bancoController/putBancoArchivo",{datos:a}).then(function(e){o.getBancoArchivo({id_bancoser:a.ID_BANCOSER}),o.getServicios(),o.$alert("Registro actualizado satisfactoriamente","success"),o.openModalConfigurar=!1}).catch(function(e){o.$alert(e.message,"warning")});case 1:return e.a(2)}},e)}))));case 1:return e.a(2)}},e)}))()},save:function(){var o=this;return eo()(W()().m(function e(){var a;return W()().w(function(e){while(1)switch(e.n){case 0:a={id_bancoser:o.form.ID_BANCOSER,numcta:o.form.NUMCTA,nombre_archivo:""===o.form.NOMBRE_ARCHIVO?null:o.form.NOMBRE_ARCHIVO,ctacte_servicio:""===o.form.CTACTE_SERVICIO?null:o.form.CTACTE_SERVICIO,fecha_inicio:""===o.form.FECHA_INICIO?null:o.form.FECHA_INICIO,nro_envio:""===o.form.NRO_ENVIO?null:o.form.NRO_ENVIO,cod_clase:""===o.form.COD_CLASE?null:o.form.COD_CLASE,anio_bloqueo:""===o.form.ANIO_BLOQUEO?null:o.form.ANIO_BLOQUEO,flat_mora:""===o.form.FLAT_MORA?null:o.form.FLAT_MORA,flat_mora_individual:""===o.form.FLAT_MORA_INDIVIDUAL?null:o.form.FLAT_MORA_INDIVIDUAL,dias_mora:""===o.form.DIAS_MORA?null:o.form.DIAS_MORA,anio_cobranza:""===o.form.ANIO_COBRANZA?2e3:o.form.ANIO_COBRANZA,tipo_cobranza:""===o.form.TIPO_COBRANZA?1:o.form.TIPO_COBRANZA,flat_agrupar:""===o.form.FLAT_AGRUPAR?null:o.form.FLAT_AGRUPAR,cod_rubro:""===o.form.COD_RUBRO?null:o.form.COD_RUBRO,cod_empresa:""===o.form.COD_EMPRESA?null:o.form.COD_EMPRESA,cod_servicio:""===o.form.COD_SERVICIO?null:o.form.COD_SERVICIO,cod_unico:""===o.form.COD_UNICO?null:o.form.COD_UNICO,activo:o.form.SERVICIO_ACTIVO,usa_morafija:o.form.USA_MORAFIJA,multi_moneda:o.form.MULTI_MONEDA,valida_codserv:o.form.VALIDA_CODSERV,autogenerado:o.form.AUTOGENERADO,id_mediopago:o.form.ID_MEDIOPAGO,filtro_deuda:o.form.FILTRO_DEUDA,numtal:o.form.NUMTAL},""===o.form.ID_BANCOSER?o.$alert("Seleccione el Servicio Bancario","warning"):""===o.form.NUMCTA?o.$alert("Seleccione la Cuenta Bancaria","warning"):""===o.form.ANIO_COBRANZA?o.$alert("Ingrese el año de cobranza","warning"):"save"===o.flag?o.$confirm("¿Está seguro de agregar este registro?","save").onOk(eo()(W()().m(function e(){return W()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,po.$http.post("api/bancoController/postCtaServicio",{datos:a}).then(function(e){o.getServicios(),o.$alert("Cta. Servicio Bancario agregada satisfactoriamente","success"),o.openModal=!1}).catch(function(e){var a=e.error;o.$alert(a.message,"warning")});case 1:return e.a(2)}},e)}))):(a.id_ctaservicio=o.form.ID_CTASERVICIO,o.$confirm("¿Estás seguro de actualizar este registro?","info").onOk(eo()(W()().m(function e(){return W()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,po.$http.put("api/bancoController/putCtaServicio",{datos:a}).then(function(e){o.getServicios(),o.$alert("Servicio Bancario actualizada satisfactoriamente","success"),o.openModal=!1}).catch(function(e){var a=e.error;o.$alert(a.message,"warning")});case 1:return e.a(2)}},e)}))));case 1:return e.a(2)}},e)}))()},filterServicios:function(){var o={};this.selectBanco&&(o.bancod=this.selectBanco),this.selectMoneda&&(o.moncod=this.selectMoneda),this.getServicios(o)},getBancoArchivo:function(o){var e=this;return eo()(W()().m(function a(){var r,n;return W()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,po.$http.get("api/bancoController/getBancoArchivo",{params:{parametros:o}}).then(function(o){e.rowDataCA=o});case 1:return e.frameworkComponents={agSelect:no.A,actionButton:mo.A},a.n=2,po.$http.get("api/ConstanteSistemaController/getConstanteTipoDato",{params:{parametros:{response:"combo",filtro:[2,3,7]}}});case 2:r=a.v,n=e,e.columnDefsCA=[{headerName:"Campo Archivo",field:"CAMPO",width:120,editable:!0},{headerName:"Tipo de Dato",field:"TIPO",editable:!0,cellEditor:(0,lo.A)(e,"TIPO",!1,"columnDefsCA"),cellEditorParams:{"option-label":"TIPO_DATO","option-value":"ID_TIPO_DATO",options:r},width:100},{headerName:"Valor Sistema",field:"VALOR",width:160,editable:!0},{width:40,cellRenderer:mo.A,hide:e.nivelAcceso<vo["default"].LECTURA_ESCRITURA,cellRendererParams:{icon:"edit",label:"Editar",title:"Editar",onClick:function(o){var e=o.data;n.titleConfig="Editar Campo de Archivo de Banco",n.openModalConfigurar=!0,n.formConf.ID_BANCOARCH=e.ID_BANCOARCH,n.formConf.ID_BANCOSER=e.ID_BANCOSER,n.formConf.CAMPO=e.CAMPO,n.formConf.VALOR=e.VALOR,n.formConf.LONGITUD=e.LONGITUD,n.formConf.POSICION=e.POSICION,n.formConf.TIPO=e.TIPO,n.formConf.REGISTRO=e.REGISTRO,n.formConf.TIPO_ENVIO=e.TIPO_ENVIO,n.proceso="update"}}},{headerName:"",width:40,cellRenderer:mo.A,hide:e.nivelAcceso<vo["default"].ACCESO_TOTAL,cellRendererParams:{icon:"delete",label:"Eliminar",title:"Eliminar",onClick:e.eliminarCampoArchivo}}];case 3:return a.a(2)}},a)}))()},eliminarCampoArchivo:function(o){var e=this;return eo()(W()().m(function a(){var r;return W()().w(function(a){while(1)switch(a.n){case 0:r=o.data,e.$confirm("¿Desea eliminar este registro?","delete").onOk(eo()(W()().m(function o(){var a,n;return W()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,o.n=1,po.$http.delete("api/bancoController/deleteBancoArchivo",{params:{datos:{id_bancoarch:r.ID_BANCOARCH}}});case 1:a=o.v,e.$alert(a.message,"success"),e.getBancoArchivo({id_bancoser:r.ID_BANCOSER}),o.n=3;break;case 2:o.p=2,n=o.v,e.$alert(n.message,"warning");case 3:return o.a(2)}},o,null,[[0,2]])})));case 1:return a.a(2)}},a)}))()},getMoneda:function(){var o=this;return eo()(W()().m(function e(){var a;return W()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,vo["default"].API_MONEDAS();case 1:a=e.v,o.monedas=a,o.monedas.unshift({label:"Todos",value:""});case 2:return e.a(2)}},e)}))()},getBancos:function(){var o=this;po.$http.get("api/bancoController/getBancos",{params:{parametros:{response:"combo"}}}).then(function(e){o.bancos=e,o.bancos.unshift({DESCRIPCION:"Todos",BANCOD:""})})},getServBanco:function(){var o=this;return eo()(W()().m(function e(){return W()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,po.$http.get("api/bancoController/getBancoServicios",{params:{parametros:{response:"info",numcta:o.form.NUMCTA}}}).then(function(e){o.comboServBancos=e,o.mostrarOpcionesConfiguracion(e[0].BANCOD)});case 1:return e.a(2)}},e)}))()},getMedioPago:function(){var o=this;return eo()(W()().m(function e(){return W()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,po.$http.get("api/formaPagoController/getMediosDePago",{params:{parametros:{response:"list",tipo_medio:"B"}}}).then(function(e){o.comboMedioPagos=e});case 1:return e.a(2)}},e)}))()},editarServicio:function(o){var e=this;return eo()(W()().m(function a(){return W()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,po.$http.get("api/bancoController/getCtaBancoServicio",{params:{parametros:{ID_CTASERVICIO:o.ID_CTASERVICIO}}}).then(function(o){e.form.ID_CTASERVICIO=o.ID_CTASERVICIO,e.form.ID_BANCOSER=o.ID_BANCOSER,e.form.NUMCTA=o.NUMCTA,e.form.NOMBRE_ARCHIVO=o.NOMBRE_ARCHIVO,e.form.CTACTE_SERVICIO=o.CTACTE_SERVICIO,e.form.FECHA_INICIO=e.dayConverter(o.FECHA_INICIO),e.form.NRO_ENVIO=o.NRO_ENVIO,e.form.COD_CLASE=o.COD_CLASE,e.form.ANIO_BLOQUEO=o.ANIO_BLOQUEO,e.form.FLAT_MORA=o.FLAT_MORA,e.form.FLAT_AGRUPAR=Number(o.FLAT_AGRUPAR),e.form.FLAT_MORA_INDIVIDUAL=o.FLAT_MORA_INDIVIDUAL,e.form.DIAS_MORA=o.DIAS_MORA,e.form.ANIO_COBRANZA=o.ANIO_COBRANZA,e.form.TIPO_COBRANZA=o.TIPO_COBRANZA,e.form.TIPO_INFORMACION=o.TIPO_INFORMACION,e.form.SERVICIO_ACTIVO=o.ACTIVO,e.form.USA_MORAFIJA=o.USA_MORAFIJA,e.form.MULTI_MONEDA=o.MULTI_MONEDA,e.form.VALIDA_CODSERV=o.VALIDA_CODSERV,e.form.AUTOGENERADO=o.AUTOGENERADO,e.form.ID_MEDIOPAGO=o.ID_MEDIOPAGO,e.form.COD_RUBRO=o.COD_RUBRO,e.form.COD_EMPRESA=o.COD_EMPRESA,e.form.COD_SERVICIO=o.COD_SERVICIO,e.form.COD_UNICO=o.COD_UNICO,e.form.FILTRO_DEUDA=o.FILTRO_DEUDA,e.form.NUMTAL=o.NUMTAL,e.openModal=!0,e.flag="edit",e.title="Editar Servicio Bancario",e.getServBanco()}).catch(function(o){e.$alert(o.error.message,"warning")});case 1:return a.a(2)}},a)}))()},mostrarOpcionesConfiguracion:function(o){o===vo["default"].BANCOS.BBVA?(this.mostarDatosInterbank=!1,this.mostrarNroEnvio=!0,this.mostrarCodClase=!0,this.mostrarAnioBloqueo=!0,this.mostrarFlatMora=!1,this.mostrarFlatMoraIndividual=!1,this.mostarFlatAgrupar=!1,this.mostrarDiasMora=!1,this.mostrarTipoCobranza=!0,this.labelTipoCobranza="Tipo de Carga",this.placeholderTipoCobranza="Tipo de Carga",this.comboTipoTipoCobranza=[{LABEL:"Carga Parcial",VALUE:1},{LABEL:"Carga Total",VALUE:2},{LABEL:"Eliminación de Registros",VALUE:3}]):o===vo["default"].BANCOS.INTERBANK?(this.mostarDatosInterbank=!0,this.mostrarNroEnvio=!1,this.mostrarCodClase=!1,this.mostrarAnioBloqueo=!1,this.mostrarFlatMora=!1,this.mostarFlatAgrupar=!1,this.mostrarFlatMoraIndividual=!1,this.mostrarDiasMora=!1,this.mostrarTipoCobranza=!0,this.labelTipoCobranza="Tipo de Información",this.placeholderTipoCobranza="Tipo de Información",this.comboTipoTipoCobranza=[{LABEL:"Reemplazo Total de la Data",VALUE:1},{LABEL:"Agrega a la Data Cargada",VALUE:2}]):o===vo["default"].BANCOS.SCOTIABANK?(this.mostarDatosInterbank=!1,this.mostrarNroEnvio=!1,this.mostrarCodClase=!1,this.mostrarAnioBloqueo=!1,this.mostrarFlatMora=!0,this.mostrarFlatMoraIndividual=!0,this.mostarFlatAgrupar=!0,this.mostrarDiasMora=!0,this.mostrarTipoCobranza=!1):o===vo["default"].BANCOS.BCP?(this.mostarDatosInterbank=!1,this.mostrarNroEnvio=!1,this.mostrarCodClase=!1,this.mostarFlatAgrupar=!1,this.mostrarAnioBloqueo=!1,this.mostrarFlatMora=!1,this.mostrarFlatMoraIndividual=!1,this.mostrarDiasMora=!1,this.mostrarTipoCobranza=!0,this.labelTipoCobranza="Tipo de Validación",this.placeholderTipoCobranza="Tipo de Validación",this.comboTipoTipoCobranza=[{LABEL:"Validación Parcial",VALUE:1},{LABEL:"Validación Completa",VALUE:2}]):(this.mostarDatosInterbank=!1,this.mostarFlatAgrupar=!1,this.mostrarNroEnvio=!1,this.mostrarCodClase=!1,this.mostrarAnioBloqueo=!1,this.mostrarFlatMora=!1,this.mostrarFlatMoraIndividual=!1,this.mostrarDiasMora=!1,this.mostrarTipoCobranza=!1)},dayConverter:function(o){var e=o.replace("T"," ").split(" ")[0].split("-");return e="".concat(e[2],"/").concat(e[1],"/").concat(e[0]),e},eliminarServicioBancario:function(o){var e=this;return eo()(W()().m(function a(){var r;return W()().w(function(a){while(1)switch(a.n){case 0:r=o.data,e.$confirm("¿Desea eliminar el servicio bancario?","delete").onOk(eo()(W()().m(function o(){var a,n;return W()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,o.n=1,po.$http.delete("api/bancoController/deleteCtaServicio",{params:{datos:{id_ctaservicio:r.ID_CTASERVICIO}}});case 1:a=o.v,e.$alert(a.message,"success"),e.getServicios(),o.n=3;break;case 2:o.p=2,n=o.v,e.$alert(n.error.message,"warning");case 3:return o.a(2)}},o,null,[[0,2]])})));case 1:return a.a(2)}},a)}))()}},beforeMount:function(){var o=this;return eo()(W()().m(function e(){var a,r,n,l,t;return W()().w(function(e){while(1)switch(e.n){case 0:return o.crearBotones(),o.getMoneda(),o.getBancos(),o.frameworkComponents={actionButton:mo.A},a=o,r=po.$http.get("api/ConstanteSistemaController/getConstanteTipoDato",{params:{parametros:{response:"combo",filtro:[2,3,7]}}}),e.n=1,po.$http.get("api/bancoController/getCuentasBancarias",{params:{parametros:{response:"combo"}}});case 1:return n=e.v,e.n=2,po.$http.get("api/formaPagoController/getMediosDePago",{params:{parametros:{response:"list",tipo_medio:"B"}}});case 2:return l=e.v,e.n=3,po.$http.get("api/bancoController/getBancoServicios",{params:{parametros:{response:"info",numcta:o.form.NUMCTA}}}).then(function(e){o.form.CTACTE_SERVICIO=e[0].CTACTE});case 3:return t=e.v,e.n=4,o.getTalonarios();case 4:Promise.all([r,n,t,l]).then(function(e){var r=j()(e,4),n=r[0],l=r[1],t=r[2],i=r[3];o.columnDefs=[{headerName:"ID",field:"ID_CTASERVICIO",width:40},{headerName:"N° Cta.",field:"NUMCTA",width:70},{headerName:"Banco",field:"DESCRIPCION",width:200,sortable:!0},{headerName:"Servicio Bancario",field:"NOMBRE",width:220},{headerName:"Número de Cuenta Bancaria",field:"CTACTE_SERVICIO",width:180},{headerName:"Moneda",field:"MONNOM",width:80},{headerName:"Fecha Ultimo Envío",field:"FECHA_ULTIMO_ENVIO",valueFormatter:function(o){return(0,Co.Ay)(o.value,"DD/MM/YYYY HH:mm:ss")}},{headerName:"",cellRenderer:mo.A,hide:o.nivelAcceso<vo["default"].LECTURA_ESCRITURA,cellRendererParams:{icon:"edit",title:"Editar",onClick:function(o){var e=[o.data];a.editarServicio(e[0])}},width:40},{headerName:"",cellRenderer:mo.A,hide:o.nivelAcceso<vo["default"].LECTURA_ESCRITURA,cellRendererParams:{icon:"plus",title:"Agregar Campo",onClick:function(o){var e=[o.data];a.titleConfig="Agregar Campo de Archivo de Banco",a.openModalConfigurar=!0,a.proceso="save",a.formConf.ID_BANCOSER=e[0].ID_BANCOSER,a.formConf.CAMPO="",a.formConf.VALOR="",a.formConf.LONGITUD="",a.formConf.POSICION="",a.formConf.TIPO=""}},width:40},{headerName:"",cellRenderer:mo.A,hide:o.nivelAcceso<vo["default"].LECTURA_ESCRITURA,cellRendererParams:{icon:"remove_red_eye",title:"Ver Campos",onClick:function(o){var e=[o.data],r={};r.id_bancoser=e[0].ID_BANCOSER,a.getBancoArchivo(r),a.openModalCA=!0}},width:40},{headerName:"",width:40,cellRenderer:mo.A,hide:o.nivelAcceso<vo["default"].ACCESO_TOTAL,cellRendererParams:{icon:"delete",label:"Eliminar",title:"Eliminar",onClick:a.eliminarServicioBancario}}],o.comboCtaBanco=l,o.comboServBancos=t,o.comboMedioPagos=i,o.comboTipoDatos=n}),o.getServicios();case 5:return e.a(2)}},e)}))()}},Ro=a(12807);const bo=(0,Ro.A)(_o,[["render",X]]);var Do=bo}}]);