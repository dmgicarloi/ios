"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[43234],{43234:function(e,a,n){n.r(a),n.d(a,{default:function(){return E}});var l=n(8445),t=n.n(l),i=n(61758),r={key:0,class:"col"};function o(e,a){var n=(0,i.g2)("q-alert"),l=(0,i.g2)("q-table"),o=(0,i.g2)("q-card"),c=(0,i.g2)("importar");return(0,i.uX)(),(0,i.Wv)(c,{url:e.url,urlxls:e.urlExp,"have-export":"",onImport:e.loadTemplate,onProcess:e.procesar,showHelpText:!e.items.length},{helptext:(0,i.k6)(function(){return t()(a[1]||(a[1]=[(0,i.Lk)("dd",null,"- Primero exportar la plantilla",-1),(0,i.Lk)("dd",null,"- No modificar el archivo generado por el sistema",-1),(0,i.Lk)("dd",null,"- No insertar columnas ni filas",-1),(0,i.Lk)("dd",null,"- Solo llenar la información solicitada",-1)]))}),grid:(0,i.k6)(function(){return[e.items.length?((0,i.uX)(),(0,i.CE)("div",r,[(0,i.bF)(n,{class:"q-mb-sm",type:"warning",icon:"warning"},{default:(0,i.k6)(function(){return t()(a[2]||(a[2]=[(0,i.eW)("Verificar que la información este correcta antes de proceder con la importación",-1)]))}),_:1}),(0,i.bF)(o,null,{default:(0,i.k6)(function(){return[(0,i.bF)(l,{data:e.items,columns:e.columns,"rows-per-page-options":[0],"hide-bottom":"",pagination:e.pagination,"onUpdate:pagination":a[0]||(a[0]=function(a){return e.pagination=a}),"row-key":"alucod"},null,8,["data","columns","pagination"])]}),_:1})])):(0,i.Q3)("v-if",!0)]}),_:1},8,["url","urlxls","onImport","onProcess","showHelpText"])}var c=n(6123),s=n(24729),u=n(80340),d=n(982),m=n(46267),p=n(80660),f={components:{QTable:c.kH,QTr:c.qh,QTd:c.Ef,QPopupEdit:c.GT,QAlert:c.ex,Dialog:s.A,sieVacio:u.A,notify:d["default"],importar:m.A,QCard:c.C$},data:function(){return{items:[],url:"api/HyoExcel/cargarDataResponsable",urlExp:"/".concat(p.API_LMS,"/api/HyoExcel/exportDataAlumnoFamResp"),columns:[{name:"FAMCOD",label:"CÓD. FAM",field:"FAMCOD",align:"center"},{name:"ALUCOD",label:"CÓD. ESTUDIANTE",field:"ALUCOD",align:"center"},{name:"NOMCOMP",label:"NOMBRE COMPLETO",field:"NOMCOMP",align:"left"},{name:"INSTRUCOD",field:"INSTRUCOD",label:"N",align:"center"},{name:"GRADOCOD",field:"GRADOCOD",label:"G",align:"center"},{name:"SECCIONCOD",field:"SECCIONCOD",label:"S",align:"center"},{name:"ESTADO",field:"ESTADO",label:"ESTADO",align:"center"},{name:"FAMRESP",field:"FAMRESP",label:"RES. PAGO",align:"center"},{name:"RESPNOM",field:"RESPNOM",label:"NOMBRE RESP. PAGO",align:"center"},{name:"RESPTIPDOC",field:"RESPTIPDOC",label:"TIP. DOC. RESP. PAGO",align:"center"},{name:"RESPDOC",field:"RESPDOC",label:"DOC. RESP. PAGO",align:"center"},{name:"RESPMAIL",field:"RESPMAIL",label:"EMAIL RESP. PAGO",align:"center"},{name:"RESPDIR",field:"RESPDIR",label:"DIRECCIÓN RESP. PAGO",align:"center"}],pagination:{sortBy:null,descending:!1,page:1,rowsPerPage:2e4}}},methods:{loadTemplate:function(e){this.items=e.json},procesar:function(){var e=this;this.items.length>0?this.$q.dialog({title:"¿Desea continuar con el proceso de importación?",ok:"SI",cancel:"NO"}).onOk(function(){e.$http.post("api/HyoMigracion/migrarResponsablePago",{data:e.items}).then(function(e){(0,d["default"])(e.json.message,"success")}).catch(function(e){(0,d["default"])(e.error.message,"error")})}):this.$q.dialog({title:"Aviso",message:"No hay información para importar",ok:"Aceptar"})}}},g=n(12807);const O=(0,g.A)(f,[["render",o]]);var E=O}}]);