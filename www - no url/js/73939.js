"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[73939],{73939:function(e,n,r){r.r(n),r.d(n,{default:function(){return F}});var t=r(61758),u=r(58790),a={class:"row q-pa-sm q-col-gutter-sm"},o={class:"col-xs-12 col-sm-12"},i={key:0,class:"col-xs-12 col-sm-12"},l={key:1,class:"col-xs-12 col-sm-12"},s={key:2,class:"col-xs-12 col-sm-12"},c={class:"row q-pa-sm q-pt-md q-col-gutter-sm"},f={class:"col"},m={class:"row full-height"},p={class:"col-12 column justify-center text-weight-bold text-primary"},d={key:3,class:"col row wrap justify-between q-ma-xs"};function I(e,n){var r=(0,t.g2)("header-btn"),I=(0,t.g2)("q-select"),T=(0,t.g2)("q-input"),v=(0,t.g2)("q-icon"),E=(0,t.g2)("q-form"),b=(0,t.g2)("sie-editor"),C=(0,t.g2)("q-card-section"),O=(0,t.g2)("q-card"),g=(0,t.g2)("q-page");return(0,t.uX)(),(0,t.Wv)(g,{class:"exalumnos-inscripciones"},{default:(0,t.k6)(function(){return[(0,t.bF)(O,null,{default:(0,t.k6)(function(){return[(0,t.bF)(r,{name:"Configuración Mensajes",buttons:e.buttons},null,8,["buttons"]),(0,t.bF)(C,null,{default:(0,t.k6)(function(){return[(0,t.bF)(E,{ref:"refForm"},{default:(0,t.k6)(function(){return[(0,t.Lk)("div",a,[(0,t.Lk)("div",o,[(0,t.bF)(I,{modelValue:e.frm.TIPO,"onUpdate:modelValue":n[0]||(n[0]=function(n){return e.frm.TIPO=n}),optionValue:"TIPO",optionLabel:"TITULO",options:e.optTipo,onInput:e.getMensaje,label:"Tipo",rules:[e.required]},null,8,["modelValue","options","onInput","rules"])]),1===e.frm.NOTIFICACION?((0,t.uX)(),(0,t.CE)("div",i,[(0,t.bF)(T,{modelValue:e.frm.CORREO,"onUpdate:modelValue":n[1]||(n[1]=function(n){return e.frm.CORREO=n}),label:"Correo",rules:[e.email]},null,8,["modelValue","rules"])])):(0,t.Q3)("v-if",!0),1===e.frm.NOTIFICACION?((0,t.uX)(),(0,t.CE)("div",l,[(0,t.bF)(T,{modelValue:e.frm.ASUNTO,"onUpdate:modelValue":n[2]||(n[2]=function(n){return e.frm.ASUNTO=n}),label:"Asunto",rules:[e.required]},null,8,["modelValue","rules"])])):(0,t.Q3)("v-if",!0),e.frm.DESCRIPCION?((0,t.uX)(),(0,t.CE)("div",s,[(0,t.Lk)("div",c,[(0,t.bF)(v,{name:"info",size:"24px",color:"primary"}),(0,t.Lk)("div",f,[(0,t.Lk)("div",m,[(0,t.Lk)("div",p,[(0,t.Lk)("p",null,(0,u.v_)(e.frm.DESCRIPCION),1)])])])])])):(0,t.Q3)("v-if",!0),e.frm.ETIQUETAS.length>0?((0,t.uX)(),(0,t.CE)("div",d,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.frm.ETIQUETAS,function(e){return(0,t.uX)(),(0,t.CE)("div",{key:e.ETIQUETA,class:"col-12"},[(0,t.Lk)("b",null,(0,u.v_)(e.DESCRIPCION+": "),1),(0,t.Lk)("span",null,(0,u.v_)(e.ETIQUETA),1)])}),128))])):(0,t.Q3)("v-if",!0)])]}),_:1},512),(0,t.bF)(b,{class:"q-pa-sm",modelValue:e.frm.MENSAJE,"onUpdate:modelValue":n[3]||(n[3]=function(n){return e.frm.MENSAJE=n}),extra:{ruler:!0},type:"full",rules:[e.required]},null,8,["modelValue","rules"])]}),_:1})]}),_:1})]}),_:1})}var T=r(76080),v=r.n(T),E=r(45254),b=r.n(E),C=(r(71225),r(50310),r(5962),r(83190),r(6123)),O=r(95718),g=r(53380),k=r(16648),A=r(6083),h=r(9736),w=r(2739),q=r(39893),N={components:{QCheckbox:C.vZ,QInput:h.A,sieEditor:A.A,QSelect:k.A,QSeparator:g.A,QCardSection:O.A,QForm:w.A,QPage:C.Tu,QCard:C.C$,QIcon:C.bP},data:function(){return{required:q.required,email:q.email,optTipo:[],frm:{TIPO:"",MENSAJE:"",ASUNTO:"",CORREO:"",NOTIFICACION:0,DESCRIPCION:"",ETIQUETAS:[]},buttons:[{icon:"save",label:"Guardar",click:this.grabar,permiso:"=== 3"}],descripcion:""}},methods:{grabar:function(){var e=this;return b()(v()().m(function n(){var r,t,u;return v()().w(function(n){while(1)switch(n.p=n.n){case 0:return n.n=1,e.$refs.refForm.validate();case 1:if(r=n.v,r){n.n=2;break}return n.a(2);case 2:if(e.frm.TIPO){n.n=3;break}return e.$notify("Indique el tipo","warning"),n.a(2,!1);case 3:if(e.frm.MENSAJE){n.n=4;break}return e.$notify("Indique el Mensaje","warning"),n.a(2,!1);case 4:return n.p=4,n.n=5,e.$http.post("api/ExAlumnos/saveMensaje",{params:e.frm});case 5:t=n.v,u=t.message,e.$notify(u,"success"),n.n=7;break;case 6:n.p=6,n.v,e.$notify("Ocurrió un problema de conexión.","warning");case 7:return n.a(2)}},n,null,[[4,6]])}))()},getTipoMensaje:function(){var e=this;return b()(v()().m(function n(){return v()().w(function(n){while(1)switch(n.n){case 0:return n.n=1,e.$http.get("api/ExAlumnos/getTipoMensaje");case 1:e.optTipo=n.v,e.optTipo.unshift({TIPO:"",TITULO:"Seleccione..."});case 2:return n.a(2)}},n)}))()},getMensaje:function(e){var n=this;return b()(v()().m(function r(){var t;return v()().w(function(r){while(1)switch(r.n){case 0:if(t=n.optTipo.filter(function(n){return n.TIPO===e})[0],t){r.n=1;break}return n.frm={TIPO:"",MENSAJE:""},n.descripcion="",r.a(2,!1);case 1:return r.n=2,n.$http.get("api/ExAlumnos/getMensaje",{params:{tipo:t.TIPO,notificacion:t.NOTIFICACION}});case 2:n.frm=r.v;case 3:return r.a(2)}},r)}))()}},created:function(){var e=this;return b()(v()().m(function n(){return v()().w(function(n){while(1)switch(n.n){case 0:e.getTipoMensaje();case 1:return n.a(2)}},n)}))()}},S=r(12807);const Q=(0,S.A)(N,[["render",I]]);var F=Q}}]);