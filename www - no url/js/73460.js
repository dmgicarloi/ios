"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[73460],{73460:function(e,t,a){a.r(t),a.d(t,{default:function(){return ge}});var n=a(8445),o=a.n(n),i=(a(74260),a(56285),a(50310),a(32203),a(83190),a(20361),a(61758)),r=a(58790),l=a(29104),s={key:0,class:"row q-pa-sm"},u={class:"col-xs-12"},d={class:"row"},c={class:"col-xs-12 col-md-6"},f={class:"col-xs-12 col-md-6"},b={key:1,class:"row q-pa-sm"},p={class:"col-xs-12"},m={class:"row"},v={class:"col-xs-12 col-md-6"},h={key:0,class:"col-xs-12 col-md-6"},k={class:"column col"},C={class:"row q-pa-sm"},O={class:"col-xs-12"},A={class:"row"},_={class:"col-xs-12 col-md-6"},j={key:0,class:"q-pa-sm q-pl-md"},F={class:"q-pa-sm q-pl-md"},I={key:1,class:"q-gutter-sm q-pa-md-md"},g={class:"q-pa-md"},y={class:"row"},E={class:"col-12"},D={class:"text-weight-bold"},L={class:"q-pa-md"},T={class:"row"},V={class:"col-12"},S={class:"q-pa-md"},q={class:"row"},x={class:"col-12"};function U(e,t){var a=(0,i.g2)("q-card-title"),n=(0,i.g2)("q-card-separator"),U=(0,i.g2)("sie-select"),$=(0,i.g2)("q-input"),N=(0,i.g2)("q-field"),W=(0,i.g2)("q-card-main"),Q=(0,i.g2)("q-card"),P=(0,i.g2)("header-btn"),w=(0,i.g2)("q-item-side"),R=(0,i.g2)("q-item-main"),M=(0,i.g2)("q-item"),X=(0,i.g2)("q-btn"),B=(0,i.g2)("q-chip"),z=(0,i.g2)("q-tab"),H=(0,i.g2)("sie-editor"),Y=(0,i.g2)("q-tab-pane"),K=(0,i.g2)("q-tabs"),G=(0,i.g2)("q-tooltip"),J=(0,i.g2)("q-icon"),Z=(0,i.g2)("destinatarios"),ee=(0,i.g2)("q-checkbox"),te=(0,i.g2)("q-download-file"),ae=(0,i.g2)("q-badge"),ne=(0,i.g2)("q-input1"),oe=(0,i.g2)("q-search"),ie=(0,i.g2)("virtual-list"),re=(0,i.g2)("q-list"),le=(0,i.g2)("sie-modal"),se=(0,i.g2)("sie-cloud"),ue=(0,i.g2)("q-page");return(0,i.uX)(),(0,i.Wv)(ue,{class:"citacion-finalizar"},{default:(0,i.k6)(function(){return[e.isActa&&!e.parseObj.ALUCOD?((0,i.uX)(),(0,i.CE)("div",s,[(0,i.Lk)("div",u,[(0,i.bF)(Q,null,{default:(0,i.k6)(function(){return[(0,i.bF)(a,{class:"q-py-xs"},{default:(0,i.k6)(function(){return o()(t[25]||(t[25]=[(0,i.eW)("Formato Acta de Reunión",-1)]))}),_:1}),(0,i.bF)(n),(0,i.bF)(W,{class:"q-pa-none"},{default:(0,i.k6)(function(){return[(0,i.Lk)("div",d,[(0,i.Lk)("div",c,[(0,i.bF)(U,{type:"outlined",modelValue:e.formCitaPersonal.area,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.formCitaPersonal.area=t}),options:e.arrAreas,disable:e.estado,label:"SECUDES",val:"SECUCOD",placeholder:"Área de Gestión"},null,8,["modelValue","options","disable"]),(0,i.bF)(N,{count:20,error:e.v$.formCitaPersonal.reunion.$error,"error-label":e.errorLabel(e.v$.formCitaPersonal.reunion)},{default:(0,i.k6)(function(){return[(0,i.bF)($,{class:"q-if-outlined",modelValue:e.v$.formCitaPersonal.reunion.$model,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.v$.formCitaPersonal.reunion.$model=t}),disable:e.estado,"float-label":"Reunión N°"},null,8,["modelValue","disable"])]}),_:1},8,["error","error-label"])]),(0,i.Lk)("div",f,[(0,i.bF)(U,{type:"outlined",modelValue:e.formCitaPersonal.unidad,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.formCitaPersonal.unidad=t}),options:e.arrUnidad,disable:e.estado,label:"SECUDES",val:"SECUCOD",placeholder:"Unidad Operativa"},null,8,["modelValue","options","disable"]),(0,i.bF)(U,{type:"outlined",modelValue:e.formCitaPersonal.detalle,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.formCitaPersonal.detalle=t}),options:e.arrProfesores,disable:e.estado,label:"USUNOM",val:"USUNOM",placeholder:"Oración de Inicio"},null,8,["modelValue","options","disable"])])])]}),_:1})]}),_:1})])])):(0,i.Q3)("v-if",!0),(0,i.bF)(P,{name:"Finalizar Cita",buttons:e.buttons},null,8,["buttons"]),e.parseObj&&e.parseObj.ALUCOD?((0,i.uX)(),(0,i.CE)("div",b,[(0,i.Lk)("div",p,[(0,i.bF)(Q,null,{default:(0,i.k6)(function(){return[(0,i.bF)(a,{class:"q-py-xs"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.$t("intranet.datosEstudiante")),1)]}),_:1}),(0,i.bF)(n),(0,i.bF)(W,{class:"q-pa-none"},{default:(0,i.k6)(function(){return[(0,i.Lk)("div",m,[(0,i.Lk)("div",v,[(0,i.bF)(M,null,{default:(0,i.k6)(function(){return[(0,i.bF)(w,{class:"text-black text-bold q-body-1"},{default:(0,i.k6)(function(){return o()(t[26]||(t[26]=[(0,i.eW)("NGS:",-1)]))}),_:1}),(0,i.bF)(R,{class:"q-body-1"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.parseObj?e.parseObj.INSTRUCOD:"")+(0,r.v_)(e.parseObj?e.parseObj.GRADOCOD:"")+(0,r.v_)(e.parseObj?e.parseObj.SECCIONCOD:""),1)]}),_:1})]}),_:1}),(0,i.bF)(M,null,{default:(0,i.k6)(function(){return[(0,i.bF)(w,{class:"text-black text-bold q-body-1"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.$t("estudiante"))+":",1)]}),_:1}),(0,i.bF)(R,{class:"q-body-1"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.parseObj?e.parseObj.ALUCOD:"")+" "+(0,r.v_)(e.parseObj?e.parseObj.ALUNOM:""),1)]}),_:1})]}),_:1}),e.esMercedes?(0,i.Q3)("v-if",!0):((0,i.uX)(),(0,i.Wv)(M,{key:0},{default:(0,i.k6)(function(){return[(0,i.bF)(w,{class:"text-black text-bold q-body-1"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.$t("direccion"))+":",1)]}),_:1}),(0,i.bF)(R,{class:"q-body-1"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.parseObj?e.parseObj.FAMDIR:""),1)]}),_:1})]}),_:1}))]),e.esMercedes?(0,i.Q3)("v-if",!0):((0,i.uX)(),(0,i.CE)("div",h,[(0,i.bF)(M,null,{default:(0,i.k6)(function(){return[(0,i.bF)(w,{class:"text-black text-bold q-body-1"},{default:(0,i.k6)(function(){return o()(t[27]||(t[27]=[(0,i.eW)("Fecha Nac.:",-1)]))}),_:1}),(0,i.bF)(R,{class:"q-body-1"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.date(e.parseObj?e.parseObj.FECNAC:"","DD/MM/YYYY")),1)]}),_:1})]}),_:1}),(0,i.bF)(M,null,{default:(0,i.k6)(function(){return[(0,i.bF)(w,{class:"text-black text-bold q-body-1"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.$t("anoIng"))+":",1)]}),_:1}),(0,i.bF)(R,{class:"q-body-1"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.parseObj?e.parseObj.ANOING:""),1)]}),_:1})]}),_:1}),(0,i.bF)(M,null,{default:(0,i.k6)(function(){return[(0,i.bF)(w,{class:"text-black text-bold q-body-1"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.$t("telefono"))+":",1)]}),_:1}),(0,i.bF)(R,{class:"q-body-1"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.parseObj?e.parseObj.FAMTEL:""),1)]}),_:1})]}),_:1})]))])]}),_:1})]}),_:1})])])):(0,i.Q3)("v-if",!0),(0,i.Lk)("div",k,[(0,i.Lk)("div",C,[(0,i.Lk)("div",O,[(0,i.bF)(Q,null,{default:(0,i.k6)(function(){return[(0,i.bF)(M,null,{default:(0,i.k6)(function(){return[(0,i.bF)(R,null,{default:(0,i.k6)(function(){return[(0,i.bF)(a,{class:"q-py-xs"},{default:(0,i.k6)(function(){return[t[28]||(t[28]=(0,i.eW)("Datos de la Entrevista",-1)),(0,i.bF)(X,{flat:"",dense:"",size:"sm",onClick:e.moveLeft,icon:e.move?"chevron_double_left":"chevron_double_right"},null,8,["onClick","icon"])]}),_:1})]}),_:1}),(0,i.bF)(w,null,{default:(0,i.k6)(function(){return[(0,i.bF)(B,{color:e.parseObj.COLOR,"text-color":"white",small:"",label:e.parseObj.ESTADO},null,8,["color","label"])]}),_:1})]}),_:1}),(0,i.bF)(n),(0,i.bF)(W,{class:"q-pa-none"},{default:(0,i.k6)(function(){return[(0,i.Lk)("div",A,[(0,i.Lk)("div",{class:(0,r.C4)(["col-xs-12",e.clase])},[(0,i.bF)(M,{class:"row"},{default:(0,i.k6)(function(){return[(0,i.bF)(w,{class:"col-3 text-black text-bold q-body-1"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.$t("intranet.mensajeria.asunto"))+":",1)]}),_:1}),(0,i.bF)(R,{class:"q-body-1"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.parseObj?e.parseObj.ASUNTO:""),1)]}),_:1})]}),_:1}),(0,i.bF)(M,{class:"row"},{default:(0,i.k6)(function(){return[(0,i.bF)(w,{class:"col-3 text-black text-bold q-body-1"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.$t("sala"))+":",1)]}),_:1}),(0,i.bF)(R,{class:"q-body-1"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.parseObj?e.parseObj.SALANOM:""),1)]}),_:1}),e.parseObj.MODO?((0,i.uX)(),(0,i.Wv)(w,{key:0,class:"col-3 text-black text-bold q-body-1"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.$t("Modalidad"))+":",1)]}),_:1})):(0,i.Q3)("v-if",!0),e.parseObj.MODO?((0,i.uX)(),(0,i.Wv)(R,{key:1,class:"q-body-1"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.parseObj?e.parseObj.MODALIDAD:""),1)]}),_:1})):(0,i.Q3)("v-if",!0)]}),_:1}),e.enableEditor?((0,i.uX)(),(0,i.Wv)(M,{key:0,class:"row"},{default:(0,i.k6)(function(){return[(0,i.bF)(K,{class:"q-tabs-flex",modelValue:e.selectTab,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.selectTab=t}),inverted:""},{title:(0,i.k6)(function(){return[e.arrComentarioTipo[0].ENABLE?((0,i.uX)(),(0,i.Wv)(z,{key:0,name:"tab-1",label:e.arrComentarioTipo[0].DESCRIPCION},null,8,["label"])):(0,i.Q3)("v-if",!0),e.arrComentarioTipo[1].ENABLE?((0,i.uX)(),(0,i.Wv)(z,{key:1,name:"tab-2",label:e.arrComentarioTipo[1].DESCRIPCION},null,8,["label"])):(0,i.Q3)("v-if",!0),e.arrComentarioTipo[2]&&e.arrComentarioTipo[2].ENABLE?((0,i.uX)(),(0,i.Wv)(z,{key:2,name:"tab-3",label:e.arrComentarioTipo[2].DESCRIPCION},null,8,["label"])):(0,i.Q3)("v-if",!0),e.arrComentarioTipo[3]&&e.arrComentarioTipo[3].ENABLE?((0,i.uX)(),(0,i.Wv)(z,{key:3,name:"tab-4",label:e.arrComentarioTipo[3].DESCRIPCION},null,8,["label"])):(0,i.Q3)("v-if",!0)]}),default:(0,i.k6)(function(){return[e.arrComentarioTipo[0].ENABLE?((0,i.uX)(),(0,i.Wv)(Y,{key:0,name:"tab-1"},{default:(0,i.k6)(function(){return[(0,i.bF)(H,{modelValue:e.arrComentarioTipo[0].VALOR,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.arrComentarioTipo[0].VALOR=t}),type:e.isType,disabled:e.estado},null,8,["modelValue","type","disabled"])]}),_:1})):(0,i.Q3)("v-if",!0),e.arrComentarioTipo[1].ENABLE?((0,i.uX)(),(0,i.Wv)(Y,{key:1,name:"tab-2"},{default:(0,i.k6)(function(){return[(0,i.bF)(H,{modelValue:e.arrComentarioTipo[1].VALOR,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.arrComentarioTipo[1].VALOR=t}),type:e.isType,disabled:e.estado},null,8,["modelValue","type","disabled"])]}),_:1})):(0,i.Q3)("v-if",!0),e.arrComentarioTipo[2]?((0,i.uX)(),(0,i.Wv)(Y,{key:2,name:"tab-3"},{default:(0,i.k6)(function(){return[(0,i.bF)(H,{modelValue:e.arrComentarioTipo[2].VALOR,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.arrComentarioTipo[2].VALOR=t}),type:e.isType,disabled:e.estado},null,8,["modelValue","type","disabled"])]}),_:1})):(0,i.Q3)("v-if",!0),e.arrComentarioTipo[3]?((0,i.uX)(),(0,i.Wv)(Y,{key:3,name:"tab-4"},{default:(0,i.k6)(function(){return[(0,i.bF)(H,{modelValue:e.arrComentarioTipo[3].VALOR,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.arrComentarioTipo[3].VALOR=t}),type:e.isType,disabled:e.estado},null,8,["modelValue","type","disabled"])]}),_:1})):(0,i.Q3)("v-if",!0)]}),_:1},8,["modelValue"])]}),_:1})):(0,i.Q3)("v-if",!0)],2),(0,i.bo)((0,i.Lk)("div",_,[!e.envioAlerta&&e.esOtros?((0,i.uX)(),(0,i.Wv)(M,{key:0},{default:(0,i.k6)(function(){return[(0,i.bF)(w,{class:"text-black text-bold q-body-1"},{default:(0,i.k6)(function(){return[t[30]||(t[30]=(0,i.eW)("Envio Copia a Mensajeria",-1)),(0,i.bF)(J,{class:"q-px-sm cursor-pointer",name:"info",size:"20px",onClick:t[9]||(t[9]=function(t){return e.finalizar(e.props.row)})},{default:(0,i.k6)(function(){return[(0,i.bF)(G,null,{default:(0,i.k6)(function(){return o()(t[29]||(t[29]=[(0,i.eW)("El mensaje configurado en la alerta llegará también a la Mensajeria a los usuarios seleccionados",-1)]))}),_:1})]}),_:1})]}),_:1})]}),_:1})):(0,i.Q3)("v-if",!0),!e.envioAlerta&&e.esOtros?((0,i.uX)(),(0,i.Wv)(Z,{key:1,class:"q-pa-sm-md intranet-redactar",ref:"getDestinatarios",perfiles:e.perfiles,loadDestinatarios:e.formCitaPersonal.usucods,type:e.type,title:"CC"},null,8,["perfiles","loadDestinatarios","type"])):(0,i.Q3)("v-if",!0),(0,i.bF)(M,null,{default:(0,i.k6)(function(){return[(0,i.bF)(w,{class:"text-black text-bold q-body-1"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.$t("fecha"))+":",1)]}),_:1}),(0,i.bF)(R,{class:"q-body-1"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.date(e.parseObj?e.parseObj.FH_INICIO:"","DD/MM/YYYY")),1)]}),_:1})]}),_:1}),(0,i.bF)(M,null,{default:(0,i.k6)(function(){return[(0,i.bF)(w,{class:"text-black text-bold q-body-1"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.$t("horainicio"))+":",1)]}),_:1}),(0,i.bF)(R,{class:"q-body-1"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.date(e.parseObj?e.parseObj.FH_INICIO:"","hh:mm A")),1)]}),_:1})]}),_:1}),(0,i.bF)(M,null,{default:(0,i.k6)(function(){return[(0,i.bF)(w,{class:"text-black text-bold q-body-1"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.$t("horafin"))+":",1)]}),_:1}),(0,i.bF)(R,{class:"q-body-1"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.date(e.parseObj?e.parseObj.FH_FIN:"","hh:mm A")),1)]}),_:1})]}),_:1}),(0,i.bF)(M,null,{default:(0,i.k6)(function(){return[(0,i.bF)(R,{class:"text-black text-bold q-body-1"},{default:(0,i.k6)(function(){return o()(t[31]||(t[31]=[(0,i.eW)("Entrevistados",-1)]))}),_:1}),(0,i.bF)(w,{class:"text-black text-bold q-body-1",align:"center"},{default:(0,i.k6)(function(){return o()(t[32]||(t[32]=[(0,i.eW)("Asistencia",-1)]))}),_:1})]}),_:1}),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.personas.entrevistados,function(t){return(0,i.uX)(),(0,i.Wv)(M,{key:t.ID},{default:(0,i.k6)(function(){return[(0,i.bF)(R,{class:"text-black q-body-1"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(t.NOMBRE),1)]}),_:2},1024),(0,i.bF)(w,{class:"text-bold q-body-1",align:"center"},{default:(0,i.k6)(function(){return[(0,i.bF)(ee,{modelValue:t.ASISTENCIA,"onUpdate:modelValue":function(e){return t.ASISTENCIA=e},"true-value":1,"false-value":0,disable:e.estado,color:"#51d0a6"},null,8,["modelValue","onUpdate:modelValue","disable"])]}),_:2},1024)]}),_:2},1024)}),128)),(0,i.bF)(M,null,{default:(0,i.k6)(function(){return[(0,i.bF)(R,{class:"text-black text-bold q-body-1"},{default:(0,i.k6)(function(){return o()(t[33]||(t[33]=[(0,i.eW)("Entrevistadores",-1)]))}),_:1})]}),_:1}),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.personas.entrevistadores,function(t){return(0,i.uX)(),(0,i.Wv)(M,{key:t.ID},{default:(0,i.k6)(function(){return[(0,i.bF)(R,{class:"text-black q-body-1"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(t.NOMBRE),1)]}),_:2},1024),(0,i.bF)(w,{class:"text-bold q-body-1",align:"center"},{default:(0,i.k6)(function(){return[(0,i.bF)(ee,{modelValue:t.ASISTENCIA,"onUpdate:modelValue":function(e){return t.ASISTENCIA=e},"true-value":1,"false-value":0,disable:e.estado,color:"#51d0a6"},null,8,["modelValue","onUpdate:modelValue","disable"])]}),_:2},1024)]}),_:2},1024)}),128)),t[40]||(t[40]=(0,i.Lk)("br",null,null,-1)),e.ocultaAdjunto?(0,i.Q3)("v-if",!0):((0,i.uX)(),(0,i.Wv)(M,{key:2},{default:(0,i.k6)(function(){return[(0,i.bF)(R,{class:"text-black text-bold q-body-1"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.$t("intranet.citacion.adjuntos")),1)]}),_:1}),(0,i.bF)(w,null,{default:(0,i.k6)(function(){return[e.esFamilia?(0,i.Q3)("v-if",!0):((0,i.uX)(),(0,i.Wv)(X,{key:0,icon:"edit",round:"",flat:"",dense:"",size:".794rem",onClick:t[10]||(t[10]=function(t){return e.modalAdjuntar=!0})}))]}),_:1})]}),_:1})),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.adjuntos,function(t,a){return(0,i.uX)(),(0,i.CE)(i.FK,null,[e.adjuntos.length>0&&!e.ocultaAdjunto?((0,i.uX)(),(0,i.CE)("div",j,[(0,i.bF)(te,{src:t.link,item:t,name:t.name,extension:t.extension,"direct-link":t.directLink,inline:!1},null,8,["src","item","name","extension","direct-link"])])):(0,i.Q3)("v-if",!0)],64)}),256)),(e.adjuntos.length>0&&!e.ocultaAdjunto||!e.ocultaAdjunto)&&e.isLess?((0,i.uX)(),(0,i.Wv)(M,{key:3})):(0,i.Q3)("v-if",!0),(e.esFamilia||!e.viewEntrega)&&e.adjuntos.length>0&&e.temporal?((0,i.uX)(),(0,i.CE)(i.FK,{key:4},[t[36]||(t[36]=(0,i.Lk)("br",null,null,-1)),(0,i.bF)(M,null,{default:(0,i.k6)(function(){return[(0,i.bF)(R,{class:"text-black text-bold q-body-1"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.$t("intranet.citacion.entregas")),1)]}),_:1})]}),_:1}),e.viewEntrega?(0,i.Q3)("v-if",!0):((0,i.uX)(!0),(0,i.CE)(i.FK,{key:0},(0,i.pI)(e.adjuntosFam,function(e,t){return(0,i.uX)(),(0,i.CE)("div",F,[(0,i.bF)(te,{src:e.link,item:e,name:e.name,extension:e.extension,"direct-link":e.directLink,inline:!1},null,8,["src","item","name","extension","direct-link"])])}),256)),e.viewEntrega?((0,i.uX)(),(0,i.CE)("div",I,[(0,i.bF)(ne,{class:"self-end",filled:"",autogrow:"",placeholder:"Realizar Entrega"},{append:(0,i.k6)(function(){return[(0,i.bF)(X,{round:"",size:"sm",dense:"",color:"primary",onClick:e.saveEntregaFam},{default:(0,i.k6)(function(){return[(0,i.bF)(J,{name:"send",size:"16px"}),(0,i.bF)(G,null,{default:(0,i.k6)(function(){return o()(t[34]||(t[34]=[(0,i.eW)("Enviar",-1)]))}),_:1})]}),_:1},8,["onClick"])]}),prepend:(0,i.k6)(function(){return[(0,i.bF)(X,{icon:"paperclip",flat:"",round:"",size:"md",onClick:t[11]||(t[11]=function(t){return e.modalAdjuntarFam=!0})},{default:(0,i.k6)(function(){return[e.adjuntosFam.length?((0,i.uX)(),(0,i.Wv)(ae,{key:0,color:"negative",floating:"",transparent:""},{default:(0,i.k6)(function(){return[(0,i.eW)((0,r.v_)(e.adjuntosFam.length),1)]}),_:1})):(0,i.Q3)("v-if",!0),(0,i.bF)(G,null,{default:(0,i.k6)(function(){return o()(t[35]||(t[35]=[(0,i.eW)("Adjuntar",-1)]))}),_:1})]}),_:1})]}),_:1})])):(0,i.Q3)("v-if",!0),t[37]||(t[37]=(0,i.Lk)("br",null,null,-1)),t[38]||(t[38]=(0,i.Lk)("br",null,null,-1)),t[39]||(t[39]=(0,i.Lk)("br",null,null,-1))],64)):(0,i.Q3)("v-if",!0)],512),[[l.aG,!e.move]])])]}),_:1})]}),_:1})])])]),(0,i.bF)(le,{class:"modal-destinatarios",title:e.$t("seleccionarDestinatarios"),modelValue:e.open,"onUpdate:modelValue":t[14]||(t[14]=function(t){return e.open=t}),onClose:e.closeModal,onSubmit:e.addDestinatarios},{default:(0,i.k6)(function(){return[(0,i.Lk)("div",g,[(0,i.Lk)("div",y,[(0,i.Lk)("div",E,[(0,i.bF)(U,{type:"outlined",noBottom:"",options:e.perfiles,label:"TIPNOM",placeholder:"tipoDestinatarios",onSelected:e.changePerfil},null,8,["options","onSelected"])])]),(0,i.bF)(oe,{class:"q-if-outlined",modelValue:e.find,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.find=t}),placeholder:"Buscar"},null,8,["modelValue"]),e.copyDestinatarios.length>0?((0,i.uX)(),(0,i.Wv)(re,{key:0,class:"no-border-left no-border-right no-border-top"},{default:(0,i.k6)(function(){return[(0,i.bF)(M,null,{default:(0,i.k6)(function(){return[(0,i.bF)(R,{class:"row"},{default:(0,i.k6)(function(){return[(0,i.bF)(ee,{class:"col",modelValue:e.checkAll,"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.checkAll=t}),label:"Todos",onClick:e.checkingAll},null,8,["modelValue","onClick"]),(0,i.Lk)("span",D,(0,r.v_)(e.copyDestinatarios.length)+" Contactos",1)]}),_:1})]}),_:1}),(0,i.bF)(ie,{size:40,remain:e.isLess?5.8:4.6,options:e.copyDestinatarios,dense:!0},{item:(0,i.k6)(function(e){var t=e.item;return[(0,i.bF)(M,null,{default:(0,i.k6)(function(){return[(0,i.bF)(w,null,{default:(0,i.k6)(function(){return[(0,i.bF)(ee,{modelValue:t.state,"onUpdate:modelValue":function(e){return t.state=e}},null,8,["modelValue","onUpdate:modelValue"])]}),_:2},1024),(0,i.bF)(R,{class:"q-body-1",label:t.USUNOM,sublabel:t.CARNOM,"sublabel-lines":2},null,8,["label","sublabel"])]}),_:2},1024)]}),_:1},8,["remain","options"])]}),_:1})):(0,i.Q3)("v-if",!0)])]}),_:1},8,["title","modelValue","onClose","onSubmit"]),(0,i.bF)(le,{class:"modal-cancelado",title:e.$t("citaCancelada"),modelValue:e.openCancel,"onUpdate:modelValue":t[16]||(t[16]=function(t){return e.openCancel=t}),onSubmit:e.cancelCita},{default:(0,i.k6)(function(){return[(0,i.Lk)("div",L,[(0,i.Lk)("div",T,[(0,i.Lk)("div",V,[(0,i.bF)(N,{count:150,error:e.v$.motivo.$error},{default:(0,i.k6)(function(){return[(0,i.bF)($,{class:"q-if-outlined",type:"textarea",modelValue:e.v$.motivo.$model,"onUpdate:modelValue":t[15]||(t[15]=function(t){return e.v$.motivo.$model=t}),"float-label":"Motivo",rows:"4"},null,8,["modelValue"])]}),_:1},8,["error"])])])])]}),_:1},8,["title","modelValue","onSubmit"]),(0,i.bF)(le,{class:"modal-estado-cita",title:e.$t("Modificar Estado"),modelValue:e.modalUpdateEstado,"onUpdate:modelValue":t[18]||(t[18]=function(t){return e.modalUpdateEstado=t}),onSubmit:e.updateEstadoCita},{default:(0,i.k6)(function(){return[(0,i.Lk)("div",S,[(0,i.Lk)("div",q,[(0,i.Lk)("div",x,[(0,i.bF)(U,{type:"outlined",noBottom:"",modelValue:e.estadoCita,"onUpdate:modelValue":t[17]||(t[17]=function(t){return e.estadoCita=t}),options:e.estados,label:"DESCRIPCION",val:"ESTADO_ID",placeholder:"Estados"},null,8,["modelValue","options"])])])])]}),_:1},8,["title","modelValue","onSubmit"]),(0,i.bF)(le,{class:"modal-contenido-adjunto",modelValue:e.modalAdjuntar,"onUpdate:modelValue":t[20]||(t[20]=function(t){return e.modalAdjuntar=t}),title:"Adjuntar",onSubmit:t[21]||(t[21]=function(t){return e.modalAdjuntar=!1})},{default:(0,i.k6)(function(){return[(0,i.bF)(se,{modelValue:e.adjuntos,"onUpdate:modelValue":t[19]||(t[19]=function(t){return e.adjuntos=t}),onInput:e.aceptar},null,8,["modelValue","onInput"])]}),_:1},8,["modelValue"]),(0,i.bF)(le,{class:"modal-contenido-adjunto",modelValue:e.modalAdjuntarFam,"onUpdate:modelValue":t[23]||(t[23]=function(t){return e.modalAdjuntarFam=t}),title:"Adjuntar",onSubmit:t[24]||(t[24]=function(t){return e.modalAdjuntarFam=!1})},{default:(0,i.k6)(function(){return[(0,i.bF)(se,{modelValue:e.adjuntosFam,"onUpdate:modelValue":t[22]||(t[22]=function(t){return e.adjuntosFam=t})},null,8,["modelValue"])]}),_:1},8,["modelValue"])]}),_:1})}var $=a(57008),N=a.n($),W=a(76080),Q=a.n(W),P=a(63053),w=a.n(P),R=a(45254),M=a.n(R),X=(a(30683),a(71225),a(39866),a(52133),a(10239),a(5962),a(90095),a(6724),a(70199),a(515),a(7346),a(13715),a(83972)),B=a(6123),z=a(93616),H=a(40155),Y=a(30640),K=a(32195),G=a(6083),J=a(48086),Z=a(62006),ee=a(62565),te=a(9736),ae=a(88865),ne=a(66824),oe=a(95051),ie=a(80660),re=a(982),le=a(78786),se=a(69027),ue=a(57668),de=a(14585),ce=a(1175),fe=a(34858),be=a(99637),pe=a(2819),me=a(81288),ve=a(13813),he=a(8261),ke=a(82640),Ce=a(66469),Oe=a(34550),Ae=a(18105),_e={getComentariosCita:function(e){return ie.$http.get("api/HyoCita/getComentariosCita",{params:{id:e}}).then(function(e){var t=e.json;return t})}},je={setup:function(){var e=(0,X.fG)();return{v$:e}},emits:["update:modelValue","input","update:adjuntos"],components:{QPageSticky:B._U,QFab:B.l6,QFabAction:B.B$,QTabs:B.uw,QTab:B.zu,QTabPane:B.dg,sieSelect:z.A,sieModal:Y.A,SieCloud:K.A,sieEditor:G.A,Item:de.A,ContenidoAdjunto:ce.A,QDownloadFile:Z.A,QChip:oe.A,virtualList:fe.Ay,QCheckbox:H.A,QBadge:ee.A,QInput1:te.A,QItemSection:ae.A,QItemLabel:ne.A,QTooltip:B.nC,QToggle:B.c5,destinatarios:J.A,QPage:B.Tu,QCard:B.C$,QCardTitle:B.u0,QCardSeparator:B.d6,QCardMain:B.d1,QField:B.Om,QInput:B.ie,QItem:B.H0,QItemSide:B.n1,QItemMain:B.mF,QBtn:B.Il,QIcon:B.bP,QSearch:B.Ks,QList:B.Mb},props:["obj"],data:function(){var e=this;return{open:!1,move:!1,clase:"col-md-6",sieInfo:(0,ue["default"])(),esMercedes:(0,le["default"])(["0065"],(0,ue["default"])().colcod)>=0,isActa:(0,le["default"])(["0019"],(0,ue["default"])().colcod)>=0,temporal:(0,le["default"])(["0205"],(0,ue["default"])().colcod)>=0,envioAlerta:-1!==(0,le["default"])(["0516","0001"],(0,ue["default"])().colcod),esFamilia:(0,ue["default"])().esFamilia,esOtros:(0,ue["default"])().esOtros,esAdministrador:(0,ue["default"])().esAdministrador,formCitaPersonal:{area:"",unidad:"",reunion:"",detalle:"",usucods:[]},personas:{entrevistados:[],entrevistadores:[]},arrComentarioTipo:[],arrAreas:[],arrUnidad:[],arrProfesores:[],perfiles:[],extraDestinatarios:[],copyDestinatarios:[],find:null,checkAll:!1,openCancel:!1,motivo:"",modalAdjuntar:!1,modalAdjuntarFam:!1,modalUpdateEstado:!1,original:[],nuevos:[],eliminados:[],adjuntos:[],adjuntosFam:[],visible:"N",viewEntrega:!0,isType:"cita",selectTab:"tab-1",enableEditor:!1,color:"",estadoCita:"",estados:[],ocultaAdjunto:!1,comentarioInterno:"",modulo:"intranet",buttons:[{icon:"print",label:this.$t("botones.imprimir"),click:function(){e.imprimir()}}],continueAdjEmail:!0}},computed:{parseObj:function(){var e={};return this.obj&&(e=JSON.parse(this.obj)),e},estado:function(){var e=["001","006","010"],t=this.parseObj&&(0,le["default"])([3,4],this.parseObj.ESTADO_ID)>=0&&!this.sieInfo.esAdministrador;switch(this.sieInfo.colcod){case"0032":e=["001","006","010","007","028"],t=this.parseObj&&(0,le["default"])([3,4],this.parseObj.ESTADO_ID)>=0&&!((0,le["default"])(e,this.sieInfo.tipcod)>=0);break;case"0057":e.push("011"),t=this.parseObj&&(0,le["default"])([3,4],this.parseObj.ESTADO_ID)>=0&&!((0,le["default"])(e,this.sieInfo.tipcod)>=0);break;case"0090":t=this.parseObj&&(0,le["default"])([3,4],this.parseObj.ESTADO_ID)>=0&&!((0,le["default"])(e,this.sieInfo.tipcod)>=0);break;case"0465":e=["004","005"],t=this.parseObj&&(0,le["default"])([3,4],this.parseObj.ESTADO_ID)>=0&&(0,le["default"])(e,this.sieInfo.tipcod)>=0;break}return t},acceso:function(){var e,t=["007","028"];switch(this.sieInfo.colcod){case"0032":e=(0,le["default"])(t,this.sieInfo.tipcod)>=0;break}return e},isLess:function(){return(0,me.isLess)()},maxCarateres:function(){var e=300;switch(this.sieInfo.colcod){case"0233":e=400;break;case"0255":e=600;break;case"0065":case"0317":case"0365":case"0098":e=1e3;break;case"0019":e=2e3;break;case"0436":e=800;break}return e},type:function(){return this.$route.params.type},modal:{get:function(){return this.modelValue},set:function(e){this.$emit("update:modelValue",e),this.$emit("input",e)}},attachments:{get:function(){return this.adjuntos},set:function(e){this.$emit("update:adjuntos",e)}}},methods:{date:Ae.Ay,init:function(){var e=this;return M()(Q()().m(function t(){var a,n,o;return Q()().w(function(t){while(1)switch(t.n){case 0:if(null!==(a=e.$router)&&void 0!==a&&null!==(a=a.options)&&void 0!==a&&a.history&&"object"===w()(e.$route)&&(n=e.$route.name.split("."),e.modulo=n[0]),["0032","0225"].includes(e.sieInfo.colcod)&&"004"===e.sieInfo.tipcod&&(e.ocultaAdjunto=!0),e.openDestinatarios(),!e.parseObj){t.n=2;break}return(e.esAdministrador||e.acceso)&&e.buttons.push({icon:"update",label:"Modificar Estado",click:function(){e.openModalEstado()}}),e.estado||e.buttons.unshift({icon:"test_cancel",label:e.$t("intranet.citacion.cancelarCita"),click:function(){e.openCancel=!0}}),e.esFamilia||e.buttons.unshift({icon:"check",label:e.$t("intranet.citacion.finalizarCita"),click:function(){e.finalizarCita()}}),e.buttons.push({icon:"arrow_back",label:"Atrás",click:function(){e.validationModulo()}}),e.isActa&&(ie.$http.post("api/HyoTablaSe/datosSe",{princod:"320"}).then(function(t){e.arrAreas=t.listar}),ie.$http.post("api/HyoTablaSe/datosSe",{princod:"321"}).then(function(t){e.arrUnidad=t.listar}),ie.$http.get("api/HyoProfes/obtListadoProfecActivos").then(function(t){var a=t.json;e.arrProfesores=a}),ie.$http.get("api/HyoCita/obtDatosActa",{params:{idcita:e.parseObj.CITA_ID}}).then(function(t){t&&t.json.length>0&&(e.formCitaPersonal.reunion=t.json[0].NUMREU,e.formCitaPersonal.detalle=t.json[0].DETALLE,e.formCitaPersonal.area=t.json[0].AREA,e.formCitaPersonal.unidad=t.json[0].UNIDAD)})),ie.$http.get("api/HyoCitadet/obtEnlacesAdjuntosById",{params:{idcita:e.parseObj.CITA_ID}}).then(function(t){var a=t.json,n=[];n=a.adjuntos.map(function(t){if(!0===t.esEnlace)t.link=t.url;else{var a=(0,Oe.cleanNameFile)(t.name);t.link="".concat(e.sieInfo.api,"/HyoCita/archivo/").concat(t.id,"/").concat(a)}return t.esAgregado=!0,t}),e.original=n.filter(function(e){return 1!==e.origen}),e.adjuntos=n.filter(function(e){return 1!==e.origen}),e.adjuntosFam=n.filter(function(e){return 1===e.origen}),e.adjuntosFam.length>0&&(e.viewEntrega=!1)}),ie.$http.get("api/HyoCitadet/obtDetalleCitas",{params:{idcita:e.parseObj.CITA_ID}}).then(function(t){(0,be["default"])(t.json,function(t){t.PARENTESCO_ID||null===t.PARENTESCO_ID&&null===t.ALUCOD&&!t.RESPONSABLE?e.personas.entrevistados.push(t):e.personas.entrevistadores.push(t),e.isActa&&e.extraDestinatarios.push(t.USUCOD)})}),t.n=1,_e.getComentariosCita(e.parseObj.CITA_ID);case 1:o=t.v,ie.$http.get("api/HyoCita/obtComentarioTipo",{params:{alucod:e.parseObj.ALUCOD,siscod:e.parseObj.SISCOD}}).then(function(t){if(e.arrComentarioTipo=(0,ve["default"])(t.json,function(t){if(t.VALOR="",t.ENABLE)switch(t.ID){case 1:e.selectTab="tab-1";break;case 2:e.selectTab="tab-2";break;case 3:e.selectTab="tab-3";break}return t}),o[0].COMENTARIOS.length>1){var a=(0,he["default"])(o[0].COMENTARIOS,"ID");(0,be["default"])(e.arrComentarioTipo,function(e,t){e.VALOR=a[t]?a[t].DESCRIPCION:""})}e.enableEditor=!0}),t.n=3;break;case 2:e.validationModulo();case 3:return t.a(2)}},t)}))()},imprimir:function(){var e={formato:"pdf",case:"conclusion",codent:this.parseObj.CITA_ID,ano:this.sieInfo.ano,alumno:this.parseObj.ALUCOD,repcod:"citas",tipcod:this.sieInfo.tipcod,siscod:this.parseObj.SISCOD};(0,pe.exportFilePhp)(e,"webservice/reportes/reporte","Reporte Citas")},actualizarCita:function(e){var t=this,a=e;a.idcita=this.parseObj.CITA_ID,a.frmActa=this.formCitaPersonal,a.isActa=this.isActa,a.adjuntos=this.nuevos,a.eliminados=this.eliminados,a.alucod=this.parseObj.ALUCOD,a.fechaInicio=this.parseObj.FH_INICIO,a.tipoCita=this.parseObj.ID_TIPO_CITA;var n=!1,o=4!==a.estado?"Falta completar los campos de ":"";a.comentarios&&a.comentarios[0]&&""===a.comentarios[0].DESCRIPCION&&(n=!0,this.arrComentarioTipo[0].ENABLE?o=o.concat(a.comentarios[0].LABEL+", "):n=!1),a.comentarios&&a.comentarios[1]&&""===a.comentarios[1].DESCRIPCION&&(n=!0,this.arrComentarioTipo[1].ENABLE?o=o.concat(a.comentarios[1].LABEL+", "):n=!1),a.comentarios&&a.comentarios[2]&&""===a.comentarios[2].DESCRIPCION&&(n=!0,o=o.concat(a.comentarios[2].LABEL)),this.$confirm((n?o:"")+" ¿Estás seguro de confirmar la acción?").onOk(M()(Q()().m(function e(){var n,o,i,r;return Q()().w(function(e){while(1)switch(e.p=e.n){case 0:return e.p=0,e.n=1,ie.$http.post("api/HyoCita/grabarEstado",a);case 1:n=e.v,o=n.json,t.nuevos=[],t.eliminados=[],(0,re["default"])(t.$t("mensajes.".concat(o.message)),"success"),t.validationModulo(),e.n=3;break;case 2:return e.p=2,r=e.v,i=r.error?r.error.message:r.message,e.a(2,t.$alert(i,"warning"));case 3:return e.a(2)}},e,null,[[0,2]])})))},cancelCita:function(){this.actualizarCita({estado:4,motivo:this.motivo})},getUsucods:function(e){return Array.isArray(e)&&e?(0,ve["default"])(e,function(e){return e.USUCOD}):[]},finalizarCita:function(){var e=N()({},this.personas),t=0;if((0,be["default"])(e.entrevistadores,function(e){1===e.ASISTENCIA&&t++}),(0,be["default"])(e.entrevistados,function(e){e.ASISTENCIA}),t>0){var a={estado:3,entrevistados:e.entrevistados,entrevistadores:e.entrevistadores,comentarios:[],solo_estudiante:this.parseObj.SOLO_ESTUDIANTE};this.$refs&&this.$refs.getDestinatarios&&(a.copia=this.getUsucods(this.$refs.getDestinatarios.getData().objects)),(0,be["default"])(this.arrComentarioTipo,function(e){var t={ID:e.ID,DESCRIPCION:e.VALOR,LABEL:e.DESCRIPCION.toUpperCase()};a.comentarios.push(t)}),"0225"===this.sieInfo.colcod?this.arrComentarioTipo[1].VALOR&&this.arrComentarioTipo[2].VALOR?this.actualizarCita(a):(0,re["default"])("Debe ingresar el detalle y resultado","warning"):"0156"===this.sieInfo.colcod?this.arrComentarioTipo[2].VALOR?this.actualizarCita(a):(0,re["default"])("Debe ingresar el resultado","warning"):this.actualizarCita(a)}else(0,re["default"])("Debe de seleccionar al menos un entrevistador","warning")},openDestinatarios:function(){var e=this;ie.$http.get("api/HyoTipUsuAcc/obtListaPerfiles",{params:{grupos:!0}}).then(function(t){e.perfiles=t.json})},closeModal:function(){this.checkAll=!1,this.copyDestinatarios.forEach(function(e){e.state=!1})},changePerfil:function(e){var t=this;ie.$http.get("api/HyoUsuario/obtListaDestinatarios",{params:{tipcod:e.TIPCODAC}}).then(function(e){e.json.forEach(function(e){e.state=!1}),t.copyDestinatarios=e.json})},checkingAll:function(){this.checkAll?this.addElements():this.removeElements()},addElements:function(){for(var e=0;e<this.copyDestinatarios.length;e++)this.copyDestinatarios[e].state=!0},removeElements:function(){for(var e=0;e<this.copyDestinatarios.length;e++)this.copyDestinatarios[e].state=!1},addDestinatarios:function(){var e=this,t=[];this.copyDestinatarios.forEach(function(t){!0===t.state&&e.formCitaPersonal.usucods.push(t.USUCOD)}),t=JSON.parse(JSON.stringify(this.formCitaPersonal.usucods)),this.formCitaPersonal.usucods=t.concat(JSON.parse(JSON.stringify(this.extraDestinatarios))),this.open=!1},moveLeft:function(){this.move=!this.move,this.clase=this.move?"":"col-md-6"},maxLength:function(e){var t=this.arrComentarioTipo[e].VALOR;if(t&&t.length>this.maxCarateres)return t=t.substr(0,this.maxCarateres),this.arrComentarioTipo[e].VALOR=t,!1},errorLabel:function(e){return this.$t((0,Ce["default"])(e))},saveEntregaFam:function(){var e=this;if(this.adjuntosFam.length>0){var t={};t.idcita=this.parseObj.CITA_ID,t.adjuntos=this.adjuntosFam,(0,se.confirmar)("¿Estás seguro de realizar la entrega?",function(){ie.$http.post("api/HyoCita/grabarEntrega",t).then(function(t){"m0008"===t.json?((0,re["default"])(e.$t("mensajes."+t.json),"success"),e.validationModulo()):(0,re["default"])(e.$t("mensajes."+t.json))})})}else(0,re["default"])("Agregue al menos un adjunto.","warning")},aceptar:function(e){var t=this;this.nuevos=[],(0,be["default"])(this.adjuntos,function(e){return e.link="",e.icon=e.ICONO.icon,e.color=e.ICONO.color,Object.prototype.hasOwnProperty.call(e,"esAgregado")||t.nuevos.push(e),e}),(0,be["default"])(this.original,function(e){if("number"===typeof e.id){var a=(0,le["default"])(t.adjuntos,e.id,{key:"id"});-1===a&&t.eliminados.push(e)}}),this.continueAdjEmail=!1},openModalEstado:function(){var e=this;return M()(Q()().m(function t(){return Q()().w(function(t){while(1)switch(t.n){case 0:ie.$http.get("api/HyoCita/getEstadoCita").then(function(t){var a=t.json;e.estados=a,e.modalUpdateEstado=!0});case 1:return t.a(2)}},t)}))()},updateEstadoCita:function(){var e=this,t={};t.idcita=this.parseObj.CITA_ID,t.estado=this.estadoCita,t.alucod=this.parseObj.ALUCOD,t.fechaInicio=this.parseObj.FH_INICIO;try{ie.$http.post("api/HyoCita/updateEstadoCita",t).then(function(t){"m0008"===t.json?(e.modalUpdateEstado=!1,(0,re["default"])(e.$t("mensajes."+t.json),"success"),e.validationModulo()):(0,re["default"])(e.$t("mensajes."+t.json))})}catch(e){}},validationModulo:function(){"intranet"===this.modulo?this.$router.push("/".concat(this.modulo,"/citacion/listado")):this.$router.push({name:"".concat(this.modulo,".citacion")})}},validations:{formCitaPersonal:{reunion:{required:ke.mw,maxLength:(0,ke.Ru)(20)}},motivo:{required:ke.mw,maxLength:(0,ke.Ru)(150)}},created:function(){this.init()}},Fe=a(12807);const Ie=(0,Fe.A)(je,[["render",U]]);var ge=Ie}}]);