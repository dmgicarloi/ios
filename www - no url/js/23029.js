"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[23029],{23029:function(t,e,o){o.r(e),o.d(e,{default:function(){return q}});var r=o(8445),a=o.n(r),n=o(61758),i=o(58790),s={class:"row items-center no-wrap"},c={class:"col row"},l={class:"text-h6"},u={class:"col-auto"},d={key:0,class:"row"};function m(t,e){var o=(0,n.g2)("q-icon"),r=(0,n.g2)("q-btn"),m=(0,n.g2)("q-card-section"),f=(0,n.g2)("q-separator"),h=(0,n.g2)("formulario"),p=(0,n.g2)("q-card");return(0,n.uX)(),(0,n.Wv)(p,{class:"layout-v1 my-card",flat:"",bordered:""},{default:(0,n.k6)(function(){return[(0,n.bF)(m,null,{default:(0,n.k6)(function(){return[(0,n.Lk)("div",s,[(0,n.Lk)("div",c,[(0,n.bF)(o,{class:"cursor-pointer back",name:"arrow_back",onClick:t.volver},null,8,["onClick"]),(0,n.Lk)("div",l,(0,i.v_)(t.title),1)]),(0,n.Lk)("div",u,[(0,n.bF)(r,{class:"q-mr-sm",size:"sm",icon:"plus",label:"Nuevo",color:"primary",onClick:t.nuevo},null,8,["onClick"]),(0,n.bF)(r,{size:"sm",icon:"save",label:"Guardar",color:"primary",onClick:t.submit},null,8,["onClick"])])])]}),_:1}),(0,n.bF)(f),(0,n.bF)(m,null,{default:(0,n.k6)(function(){return[t.id?(0,n.Q3)("v-if",!0):((0,n.uX)(),(0,n.CE)("div",d,a()(e[0]||(e[0]=[(0,n.Lk)("div",{class:"col-12 column items-end"},null,-1)])))),(0,n.bF)(h,{ref:"form",schema:t.schema,methods:t.methods},null,8,["schema","methods"])]}),_:1})]}),_:1})}o(10239),o(11777);var f=o(6123),h=o(80660),p=o(10213),v=o(88567),C=o(95718),g=o(53380),b=o(20456),k=o(19852),$={components:{QCardSection:C.A,QCard:v.A,QCardActions:b.A,QSeparator:g.A,formulario:k.A,QIcon:f.bP,QBtn:f.Il},data:function(){return{schema:null,titleDefault:"Agregar Servicio a Cuenta Bancaria",title:"",methods:{NUMCTA:function(t){h.$http.get("api/bancoController/getCuentasBancarias",{params:{parametros:{numcta:t.NUMCTA,response:"list"}}}).then(function(e){t.CTACTE_SERVICIO=e[0].CTACTE})}}}},props:{id:[Number,String]},methods:{volver:function(){this.$router.push({name:"tesoreria.asignacionCuentaServicioBanco.listar"})},nuevo:function(){var t=this;this.title=this.titleDefault;var e=this.$refs.form.getForm();e.then(function(e){e.success&&delete e.form.ID_CTASERVICIO,t.$refs.form.clear()}),this.$router.push({name:"tesoreria.asignacionCuentaServicioBanco.form"})},submit:function(){var t=this,e=this.$refs.form.getForm();this.id?e.then(function(e){e.success&&(t.$q.loading.show(),e.form.ID_CTASERVICIO=t.id,h.$http.put("api/bancoController/updateCtaServicio",{datos:e.form}).then(function(e){(0,p.alert)(e.message,"success"),t.$q.loading.hide()}))}):e.then(function(e){e.success&&(t.$q.loading.show(),h.$http.post("api/bancoController/addCtaServicio",{datos:e.form}).then(function(e){(0,p.alert)(e.message,"success"),t.$q.loading.hide()}).catch(function(e){var o=e.error;(0,p.alert)(o.message,"warning"),t.$q.loading.hide()}))})}},mounted:function(){var t=this;this.title=this.titleDefault,h.$http.get("api/formularioController/getFormulario",{params:{id:27}}).then(function(e){t.schema=e.data,t.id&&h.$http.get("api/bancoController/getCtaServicios",{params:{params:{id_ctaservicio:t.id,response:"grid"}}}).then(function(e){t.title="Servicio Bancario",t.$refs.form.loadModel(e[0])})})}},A=o(12807);const S=(0,A.A)($,[["render",m]]);var q=S}}]);