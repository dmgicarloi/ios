"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[10560],{88179:function(e,n,t){t.r(n),t.d(n,{default:function(){return R}});var a=t(61758),o=t(58790),s={class:"col"},r={class:"col"},i={class:"row col-md-4 col-sm-6",style:{border:"solid 1px","border-radius":"4px",padding:"15px 0px"}},l={class:"row q-pa-sm"},c=["src"],u={class:"col",style:{"font-size":"1.9rem","margin-left":"15px","font-weight":"600"}},d={class:"row justify-center col-12"},m=["src"],p={class:"row q-pa-sm col-12"},f={class:"col-12",style:{"text-align":"center","font-size":"1.5rem","font-weight":"600"}},A={class:"col-12",style:{"text-align":"center","font-size":"1.5rem","font-weight":"600"}},g={class:"col-12",style:{"text-align":"center","font-size":"1.5rem","font-weight":"600"}};function h(e,n){var t=(0,a.g2)("sie-estudiantes"),h=(0,a.g2)("q-card-title"),b=(0,a.g2)("sie-select"),v=(0,a.g2)("q-card-main"),k=(0,a.g2)("q-card"),E=(0,a.g2)("q-btn"),Q=(0,a.g2)("q-page-sticky"),w=(0,a.g2)("q-page");return(0,a.uX)(),(0,a.Wv)(w,{class:"sie-flat pasebrae bg-white q-pa-sm"},{default:(0,a.k6)(function(){return[(0,a.bF)(k,null,{default:(0,a.k6)(function(){return[e.isFamAlu?((0,a.uX)(),(0,a.Wv)(h,{key:0},{default:(0,a.k6)(function(){return[(0,a.Lk)("div",s,[(0,a.bF)(t,{modelValue:e.persona,"onUpdate:modelValue":n[0]||(n[0]=function(n){return e.persona=n}),onSelected:e.cambiarAlumno},null,8,["modelValue","onSelected"])])]}),_:1})):(0,a.Q3)("v-if",!0),e.isFamExterna?((0,a.uX)(),(0,a.Wv)(h,{key:1},{default:(0,a.k6)(function(){return[(0,a.Lk)("div",r,[(0,a.bF)(b,{onSelected:e.cambiarAlumno,type:"outlined",modelValue:e.persona,"onUpdate:modelValue":n[1]||(n[1]=function(n){return e.persona=n}),options:e.dataAlumnos,label:"NOMCOMP",val:"ALUCOD",placeholder:"Estudiante"},null,8,["onSelected","modelValue","options"])])]}),_:1})):(0,a.Q3)("v-if",!0),(0,a.bF)(v,{class:"row justify-center"},{default:(0,a.k6)(function(){return[(0,a.Lk)("div",i,[(0,a.Lk)("div",l,[(0,a.Lk)("img",{src:e.rutaEscudo,alt:""},null,8,c),(0,a.Lk)("span",u,(0,o.v_)(e.colegio),1)]),(0,a.Lk)("div",d,[(0,a.Lk)("img",{class:"col-7",src:e.pase.qr,alt:""},null,8,m)]),(0,a.Lk)("div",p,[(0,a.Lk)("div",f,(0,o.v_)(e.alumno.nombres),1),(0,a.Lk)("div",A,(0,o.v_)(e.alumno.apellidos),1),(0,a.Lk)("div",g,(0,o.v_)(e.alumno.alucod),1)])])]}),_:1})]}),_:1}),(0,a.bF)(Q,{expand:"",position:"bottom-right",offset:[20,20]},{default:(0,a.k6)(function(){return[(0,a.bF)(E,{fab:"",round:"",color:"secondary",icon:"print",onClick:e.imprimirCarnet},null,8,["onClick"])]}),_:1})]}),_:1})}var b=t(76080),v=t.n(b),k=t(45254),E=t.n(k),Q=(t(30683),t(6123)),w=t(26697),C=t(53093),P=t(53811),y=t(43346),L=t(11654),x=t(9736),F=t(16648),T=t(88567),q=t(95718),M=t(80340),O=t(57668),S=t(65229),_=t(982),V=t(92173),U=t(2819),z=t(30640),B=t(93616),D={directives:{sieActive:S.A},components:{sieSelect:B.A,QToolbar:Q.ZV,QTabs:w.A,QTab:C.A,QTabPanels:P.A,QTabPanel:y.A,QBtn:L.A,QSelect:F.A,QInput:x.A,QPageSticky:Q._U,QFab:Q.l6,QCard:T.A,QFabAction:Q.B$,QCardSection:q.A,QInnerLoading:Q.SQ,QSpinnerOval:Q.VA,sieVacio:M.A,sieEstudiantes:V.Ay,sieModal:z.A,QPage:Q.Tu,QCardTitle:Q.u0,QCardMain:Q.d1},data:function(){return{sie:(0,O["default"])(),pase:{},persona:"",dataAlumnos:[],alumno:{alucod:"",nombres:"",apellidos:""},isFamAlu:(0,O["default"])().esFamilia||(0,O["default"])().esEstudiante,isFamExterna:"E01"===(0,O["default"])().tipcod,rutaEscudo:(0,O["default"])().host+"/api/HyoEscudo/imagen/logo",colegio:(0,O["default"])().colname}},methods:{getCarnet:function(){var e=this;return E()(v()().m(function n(){var t;return v()().w(function(n){while(1)switch(n.n){case 0:try{t=e.persona||e.sie.usucod,e.pase.qr="".concat(e.sie.api,"/HyoQr/generarQr/").concat(t)}catch(e){(0,_["default"])(e.error.message||e.message,"warning")}case 1:return n.a(2)}},n)}))()},getAlumnosExternos:function(){var e=this;return E()(v()().m(function n(){return v()().w(function(n){while(1)switch(n.n){case 0:return n.n=1,e.$http.get("api/InscripcionVacacionesController/getExternos",{params:{params:{columnas:["ALUCOD","NOMCOMP","APEPAT","APEMAT","NOMBRES"],famcod:e.sie.famcod}}});case 1:e.dataAlumnos=n.v,console.log("this.dataAlumnos:",e.dataAlumnos);case 2:return n.a(2)}},n)}))()},cambiarAlumno:function(e){var n=this;return E()(v()().m(function t(){return v()().w(function(t){while(1)switch(t.n){case 0:return console.log("cambiarAlumno:",e),e.APEPAT=e.APEPAT.toUpperCase(),e.APEMAT=e.APEMAT.toUpperCase(),n.persona=e.ALUCOD,n.alumno.alucod=e.ALUCOD,n.alumno.nombres=e.NOMBRES,n.alumno.apellidos="".concat(e.APEPAT," ").concat(e.APEMAT),t.n=1,n.getCarnet();case 1:return t.a(2)}},t)}))()},imprimirCarnet:function(){var e={repcod:"reportesCarnetQr",formato:"pdf",qr:this.pase.qr,escudo:this.rutaEscudo,nemodes:this.pase.nemodes,nomcomp:this.alumno.nomcomp,nombres:this.alumno.nombres,apellidos:this.alumno.apellidos,codigo:this.alumno.alucod};(0,U.exportFilePhp)(e,"webservice/reportes/reporte")},imprimirForm:function(){this.$refs.frmReg.imprimir()}},created:function(){this.isFamExterna&&this.getAlumnosExternos(),this.sie.esOtros&&"E01"!==this.sie.tipcod&&(this.persona=this.sie.profcod),this.alumno.nombres=this.sie.nombre,this.alumno.alucod=this.sie.usucod,console.log("sie:",this.sie),this.getCarnet()}},N=t(12807);const I=(0,N.A)(D,[["render",h]]);var R=I}}]);