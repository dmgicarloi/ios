"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[67083],{89464:function(e,a,i){i.r(a),i.d(a,{default:function(){return h}});var t=i(61758),n={class:"row q-col-gutter-md"},r={class:"col-xs-12 col-sm-12 col-md-6"},l={class:"col-xs-12 col-sm-12 col-md-6"};function s(e,a){var i=this,s=(0,t.g2)("header-btn"),o=(0,t.g2)("sie-table"),u=(0,t.g2)("q-card-section"),c=(0,t.g2)("q-card"),f=(0,t.g2)("q-page");return(0,t.uX)(),(0,t.Wv)(f,{class:"bg-white q-pa-sm sie-flat"},{default:(0,t.k6)(function(){return[(0,t.bF)(c,null,{default:(0,t.k6)(function(){return[(0,t.bF)(s,{name:"Configurar Familias Fuertes",buttons:e.buttons},null,8,["buttons"]),(0,t.bF)(u,null,{default:(0,t.k6)(function(){return[(0,t.Lk)("div",n,[(0,t.Lk)("div",r,[(0,t.bF)(o,{ref:"tabla",columns:e.fields,data:e.rows,selection:"multiple",config:e.config,context:i,css:{height:"calc(100vh - 135px)"}},null,8,["columns","data","config"])]),(0,t.Lk)("div",l,[(0,t.bF)(o,{ref:"tablaFamiliaFuerte",columns:e.fieldsFamiliaFuerte,data:e.rowsFamiliaFuerte,selection:"multiple",config:e.configFamiliaFuerte,context:i,css:{height:"calc(100vh - 135px)"}},null,8,["columns","data","config"])])])]}),_:1})]}),_:1})]}),_:1})}var o=i(76080),u=i.n(o),c=i(45254),f=i.n(c),m=(i(30683),i(71225),i(50310),i(5962),i(70199),i(515),i(83190),i(7346),i(6123)),F={data:function(){return{config:{},rows:[],configFamiliaFuerte:{},rowsFamiliaFuerte:[],fields:[{name:"FAMCOD",label:"Código",field:"FAMCOD",align:"center",sortable:!0},{name:"FAMDES",label:"Familia",field:"FAMDES",align:"left",sortable:!0}],fieldsFamiliaFuerte:[{name:"FAMCOD",label:"Código",field:"FAMCOD",align:"center",sortable:!0},{name:"FAMDES",label:"Familia Fuerte",field:"FAMDES",align:"left",sortable:!0}]}}},d={mixins:[F],data:function(){return{buttons:[{label:"",icon:"arrow_back",click:this.quitarfamiliaFuerte},{label:"",icon:"arrow_forward",click:this.enviarAfamiliaFuerte}]}},methods:{enviarAfamiliaFuerte:function(){var e=this;return f()(u()().m(function a(){var i,t,n;return u()().w(function(a){while(1)switch(a.p=a.n){case 0:if(i=e.$refs.tabla.rowsSelected(["FAMCOD"]),!(i.length<1)){a.n=1;break}return e.$notify("Selecciona al menos un registro","info"),a.a(2);case 1:return t=e.$refs.tabla.rowsSelected([],null,!0),a.p=2,e.$q.loading.show(),a.n=3,e.$http.post("api/HyoFamilias/guardarFamiliaFuerte",{famcods:i,famfue:"S"});case 3:e.rows=e.rows.filter(function(e){return t.indexOf(e)<0}),n=JSON.parse(JSON.stringify(t)),e.rowsFamiliaFuerte=e.rowsFamiliaFuerte.concat(n),e.$q.loading.hide(),a.n=5;break;case 4:a.p=4,a.v,e.$q.loading.hide(),e.$notify("","warning");case 5:return a.a(2)}},a,null,[[2,4]])}))()},quitarfamiliaFuerte:function(){var e=this;return f()(u()().m(function a(){var i,t,n;return u()().w(function(a){while(1)switch(a.p=a.n){case 0:if(i=e.$refs.tablaFamiliaFuerte.rowsSelected(["FAMCOD"]),!(i.length<1)){a.n=1;break}return e.$notify("Selecciona al menos un registro","info"),a.a(2);case 1:return t=e.$refs.tablaFamiliaFuerte.rowsSelected([],null,!0),a.p=2,e.$q.loading.show(),a.n=3,e.$http.post("api/HyoFamilias/guardarFamiliaFuerte",{famfue:"N",famcods:i});case 3:e.rowsFamiliaFuerte=e.rowsFamiliaFuerte.filter(function(e){return t.indexOf(e)<0}),n=JSON.parse(JSON.stringify(t)),e.rows=e.rows.concat(n),e.$q.loading.hide(),a.n=5;break;case 4:a.p=4,a.v,e.$q.loading.hide(),e.$notify("","warning");case 5:return a.a(2)}},a,null,[[2,4]])}))()}},created:function(){var e=this;return f()(u()().m(function a(){return u()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,e.$http.get("api/HyoAsistencia/familiaOfamiliaFuerte",{params:{esFamFue:!0}});case 1:return e.rowsFamiliaFuerte=a.v,a.n=2,e.$http.get("api/HyoAsistencia/familiaOfamiliaFuerte");case 2:e.rows=a.v;case 3:return a.a(2)}},a)}))()},components:{QPage:m.Tu,QCard:m.C$}},g=i(12807);const w=(0,g.A)(d,[["render",s]]);var h=w}}]);