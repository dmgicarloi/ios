"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[69278],{69278:function(e,n,o){o.r(n),o.d(n,{default:function(){return A}});var t=o(8445),r=o.n(t),a=o(61758),l=o(58790),i={key:0,class:"col"};function u(e,n){var o=(0,a.g2)("q-alert"),t=(0,a.g2)("q-td"),u=(0,a.g2)("q-input"),c=(0,a.g2)("q-field"),p=(0,a.g2)("q-popup-edit"),s=(0,a.g2)("q-tr"),d=(0,a.g2)("q-table"),f=(0,a.g2)("q-card"),m=(0,a.g2)("importar");return(0,a.uX)(),(0,a.Wv)(m,{url:e.url,urlxls:e.urlExp,"have-export":"",onImport:e.loadTemplate,onProcess:e.procesar,showHelpText:!e.items.length},{helptext:(0,a.k6)(function(){return r()(n[1]||(n[1]=[(0,a.Lk)("dd",null,"- Primero exportar la plantilla",-1),(0,a.Lk)("dd",null,"- No modificar el archivo generado por el sistema",-1),(0,a.Lk)("dd",null,"- No insertar columnas ni filas",-1),(0,a.Lk)("dd",null,"- Solo llenar la información solicitada",-1)]))}),grid:(0,a.k6)(function(){return[e.items.length?((0,a.uX)(),(0,a.CE)("div",i,[(0,a.bF)(o,{class:"q-mb-sm",type:"warning",icon:"warning"},{default:(0,a.k6)(function(){return r()(n[2]||(n[2]=[(0,a.eW)("Verificar que la información este correcta antes de proceder con la importación",-1)]))}),_:1}),(0,a.bF)(f,null,{default:(0,a.k6)(function(){return[(0,a.bF)(d,{data:e.items,columns:e.columns,"row-key":"alucod","rows-per-page-options":[0],pagination:e.pagination,"onUpdate:pagination":n[0]||(n[0]=function(n){return e.pagination=n}),"hide-bottom":""},{body:(0,a.k6)(function(e){return[(0,a.bF)(s,{props:e},{default:(0,a.k6)(function(){return[(0,a.bF)(t,{key:"ALUCOD",props:e},{default:(0,a.k6)(function(){return[(0,a.eW)((0,l.v_)(e.row.ALUCOD),1)]}),_:2},1032,["props"]),(0,a.bF)(t,{key:"INSTRUCOD",props:e},{default:(0,a.k6)(function(){return[(0,a.eW)((0,l.v_)(e.row.INSTRUCOD),1)]}),_:2},1032,["props"]),(0,a.bF)(t,{key:"GRADOCOD",props:e},{default:(0,a.k6)(function(){return[(0,a.eW)((0,l.v_)(e.row.GRADOCOD),1)]}),_:2},1032,["props"]),(0,a.bF)(t,{key:"SECCIONCOD",props:e},{default:(0,a.k6)(function(){return[(0,a.eW)((0,l.v_)(e.row.SECCIONCOD),1)]}),_:2},1032,["props"]),(0,a.bF)(t,{key:"NOMCOMP",props:e},{default:(0,a.k6)(function(){return[(0,a.eW)((0,l.v_)(e.row.NOMCOMP),1)]}),_:2},1032,["props"]),(0,a.bF)(t,{key:"ALUCODANT",props:e},{default:(0,a.k6)(function(){return[(0,a.eW)((0,l.v_)(e.row.ALUCODANT),1),(0,a.bF)(p,{modelValue:e.row.ALUCODANT,"onUpdate:modelValue":function(n){return e.row.ALUCODANT=n}},{default:(0,a.k6)(function(){return[(0,a.bF)(c,{count:""},{default:(0,a.k6)(function(){return[(0,a.bF)(u,{modelValue:e.row.ALUCODANT,"onUpdate:modelValue":function(n){return e.row.ALUCODANT=n}},null,8,["modelValue","onUpdate:modelValue"])]}),_:2},1024)]}),_:2},1032,["modelValue","onUpdate:modelValue"])]}),_:2},1032,["props"])]}),_:2},1032,["props"])]}),_:1},8,["data","columns","pagination"])]}),_:1})])):(0,a.Q3)("v-if",!0)]}),_:1},8,["url","urlxls","onImport","onProcess","showHelpText"])}var c=o(6123),p=o(24729),s=o(80340),d=o(982),f=o(46267),m=o(80660),O={components:{QTable:c.kH,QTr:c.qh,QTd:c.Ef,QPopupEdit:c.GT,QAlert:c.ex,Dialog:p.A,notify:d["default"],sieVacio:s.A,importar:f.A,QCard:c.C$,QField:c.Om,QInput:c.ie},data:function(){return{url:"api/HyoExcel/cargarDataBanco",urlExp:"/".concat(m.API_LMS,"/api/HyoExcel/exportDataAlumnoBanco"),items:[],columns:[{name:"ALUCOD",label:"CÓD. ESTUDIANTE",field:"ALUCOD",align:"center"},{name:"INSTRUCOD",field:"INSTRUCOD",label:"N",align:"center"},{name:"GRADOCOD",field:"GRADOCOD",label:"G",align:"center"},{name:"SECCIONCOD",field:"SECCIONCOD",label:"S",align:"center"},{name:"NOMCOMP",label:"NOMBRE COMPLETO",field:"NOMCOMP",align:"center"},{name:"ALUCODANT",field:"ALUCODANT",label:"CÓD. BANCO",align:"center"}],pagination:{sortBy:null,descending:!1,page:1,rowsPerPage:2e4}}},methods:{loadTemplate:function(e){this.items=e.json},procesar:function(){var e=this;this.items.length>0?this.$q.dialog({title:"¿Desea continuar con el proceso de importación?",ok:"SI",cancel:"NO"}).onOk(function(){e.$http.post("api/HyoMigracion/migrarCodigoBancoAlumno",{data:e.items}).then(function(e){(0,d["default"])(e.json.message,"success")}).catch(function(e){console.log(e),(0,d["default"])(e.message,"error")})}):this.$q.dialog({title:"Aviso",message:"No hay información para importar",ok:"Aceptar"})}}},C=o(12807);const g=(0,C.A)(O,[["render",u]]);var A=g}}]);