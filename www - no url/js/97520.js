"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[97520],{97520:function(n,e,o){o.r(e),o.d(e,{default:function(){return R}});var t=o(61758),l=o(58790),a={class:"col column q-pt-sm q-px-sm q-gutter-sm"},s={class:"col-md-4 col-xs-6"},u={class:"col-md-4 col-xs-6"},r={class:"col-md-4 col-xs-12"},c={class:"col-md-3 col-xs-6"},i={class:"col-md-3 col-xs-6"},d={class:"col-md-3 col-xs-12"},f={class:"col-md-3 col-xs-12"};function p(n,e){var o=(0,t.g2)("q-select"),p=(0,t.g2)("q-btn"),m=(0,t.g2)("q-form"),g=(0,t.g2)("q-card"),h=(0,t.g2)("sie-vacio"),_=(0,t.g2)("q-icon"),v=(0,t.g2)("q-td"),b=(0,t.g2)("q-table"),C=(0,t.g2)("q-page");return(0,t.uX)(),(0,t.Wv)(C,{class:"_copia-planificador"},{default:(0,t.k6)(function(){return[(0,t.Lk)("div",a,[(0,t.bF)(g,{class:"q-pa-sm q-gutter-sm",flat:""},{default:(0,t.k6)(function(){return[(0,t.bF)(m,{class:"row q-col-gutter-sm",ref:"form"},{default:(0,t.k6)(function(){return[(0,t.Lk)("div",s,[(0,t.bF)(o,{modelValue:n.anho,"onUpdate:modelValue":e[0]||(e[0]=function(e){return n.anho=e}),label:"Año",options:n.anhios,rules:[function(n){return!!n||"Seleccione un año."}],onInput:n.getSalones},null,8,["modelValue","options","rules","onInput"])]),(0,t.Lk)("div",u,[(0,t.bF)(o,{modelValue:n.salon,"onUpdate:modelValue":e[1]||(e[1]=function(e){return n.salon=e}),label:"Salón",options:n.salones,"option-label":"DESCRIPCION",rules:[function(n){return!!n||"Seleccione un salón."}],onInput:n.getCursos},null,8,["modelValue","options","rules","onInput"])]),(0,t.Lk)("div",r,[(0,t.bF)(o,{modelValue:n.curso,"onUpdate:modelValue":e[2]||(e[2]=function(e){return n.curso=e}),label:"Curso",options:n.cursos,"option-label":"CURSONOM",rules:[function(n){return!!n||"Seleccione un curso."}],onInput:n.getPlanificacion},null,8,["modelValue","options","rules","onInput"])]),(0,t.Lk)("div",c,[(0,t.bF)(o,{modelValue:n.anho_,"onUpdate:modelValue":e[3]||(e[3]=function(e){return n.anho_=e}),label:"Año de destino",options:n.anhios_,rules:[function(n){return!!n||"Seleccione el año de destino."}],onInput:n.getSalones_},null,8,["modelValue","options","rules","onInput"])]),(0,t.Lk)("div",i,[(0,t.bF)(o,{modelValue:n.salon_,"onUpdate:modelValue":e[4]||(e[4]=function(e){return n.salon_=e}),label:"Salón de destino",options:n.salones_,"option-label":"DESCRIPCION",rules:[function(n){return!!n||"Seleccione el salón de destino."}],onInput:n.getCursos_},null,8,["modelValue","options","rules","onInput"])]),(0,t.Lk)("div",d,[(0,t.bF)(o,{modelValue:n.curso_,"onUpdate:modelValue":e[5]||(e[5]=function(e){return n.curso_=e}),label:"Curso de destino",options:n.cursos_,"option-label":"CURSONOM",rules:[function(n){return!!n||"Seleccione el curso de destino."}]},null,8,["modelValue","options","rules"])]),(0,t.Lk)("div",f,[(0,t.bF)(p,{color:"primary",label:"Ejecutar",icon:"cog",dense:"",class:(0,l.C4)(["_q-chip-planificador"]),onClick:n.ejecutarProceso,loading:n.loading},null,8,["onClick","loading"])])]}),_:1},512)]}),_:1}),(0,t.bF)(g,{class:"col column"},{default:(0,t.k6)(function(){return[n.dataLength?((0,t.uX)(),(0,t.Wv)(h,{key:0,title:"Seleccione el año, el salón y el curso"})):((0,t.uX)(),(0,t.Wv)(b,{key:1,class:"col","virtual-":"",selection:"multiple",selected:n.selected,"onUpdate:selected":e[6]||(e[6]=function(e){return n.selected=e}),data:n.data.data,columns:n.data.columns,"row-key":"ID_PLAN_ADJUNTO",pagination:n.data.pagination,"onUpdate:pagination":e[7]||(e[7]=function(e){return n.data.pagination=e}),"row-per-page-options":[0]},{"body-cell-ICONO":(0,t.k6)(function(n){return[(0,t.bF)(v,{props:n},{default:(0,t.k6)(function(){return[(0,t.bF)(_,{name:n.row.ICONO,color:n.row.COLOR,size:"md"},null,8,["name","color"])]}),_:2},1032,["props"])]}),_:1},8,["selected","data","columns","pagination"]))]}),_:1})])]}),_:1})}var m=o(76080),g=o.n(m),h=o(45254),_=o.n(h),v=(o(515),o(6123)),b=o(88567),C=o(2739),O=o(16648),w=o(50425),k=o(34262),A=o(11654),S=o(80340),I=o(57668),V=o(982),U=o(34707),D={components:{QCard:b.A,QForm:C.A,QSelect:O.A,QTable:w.A,QTd:v.Ef,QIcon:k.A,QBtn:A.A,SieVacio:S.A,QPage:v.Tu},data:function(){var n=(0,I["default"])();return{salon:null,curso:null,anho:n.ano,salon_:null,curso_:null,anho_:n.ano,salones:[],cursos:[],anhios:[],salones_:[],cursos_:[],anhios_:[],data:{},selected:[],loading:!1}},computed:{dataLength:function(){return 0===Object.keys(this.data).length}},methods:{getSalones:function(){var n=this;return _()(g()().m(function e(){return g()().w(function(e){while(1)switch(e.n){case 0:return n.data={},n.salon=null,n.curso=null,e.n=1,U.A.getAmbitos(n.anho);case 1:n.salones=e.v;case 2:return e.a(2)}},e)}))()},getSalones_:function(){var n=this;return _()(g()().m(function e(){return g()().w(function(e){while(1)switch(e.n){case 0:return n.salon_=null,n.curso_=null,e.n=1,U.A.getAmbitos(n.anho_);case 1:n.salones_=e.v;case 2:return e.a(2)}},e)}))()},getCursos:function(){var n=this;return _()(g()().m(function e(){return g()().w(function(e){while(1)switch(e.n){case 0:return n.data={},n.curso=null,e.n=1,U.A.getCursos(n.salon.ID_AMBITO);case 1:n.cursos=e.v;case 2:return e.a(2)}},e)}))()},getCursos_:function(){var n=this;return _()(g()().m(function e(){return g()().w(function(e){while(1)switch(e.n){case 0:return n.curso_=null,e.n=1,U.A.getCursos(n.salon_.ID_AMBITO);case 1:n.cursos_=e.v;case 2:return e.a(2)}},e)}))()},getPlanificacion:function(){var n=this;return _()(g()().m(function e(){return g()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,U.A.getPlanificacion(n.anho,n.salon.INSTRUCOD,n.salon.GRADOCOD,n.curso.CURSOCOD,n.curso.GRUPOCOD,n.salon.NEMO);case 1:n.data=e.v;case 2:return e.a(2)}},e)}))()},ejecutarProceso:function(){var n=this;return _()(g()().m(function e(){var o,t,l,a;return g()().w(function(e){while(1)switch(e.p=e.n){case 0:return n.loading=!0,e.n=1,n.$refs.form.validate();case 1:if(o=e.v,!o){e.n=5;break}return e.p=2,e.n=3,U.A.ejecutarProceso(n.selected,n.anho_,n.salon_.INSTRUCOD,n.salon_.GRADOCOD,n.curso_.CURSOCOD,n.curso_.GRUPOCOD);case 3:t=e.v,(0,V["default"])(t,"success"),e.n=5;break;case 4:e.p=4,a=e.v,l=a.error,(0,V["default"])(l.message,"warning");case 5:n.loading=!1;case 6:return e.a(2)}},e,null,[[2,4]])}))()}},created:function(){var n=this;return _()(g()().m(function e(){var o;return g()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,U.A.getAnhios();case 1:return o=e.v,n.anhios=o,n.anhios_=o,e.n=2,n.getSalones();case 2:return e.n=3,n.getSalones_();case 3:return e.a(2)}},e)}))()}},q=o(12807);const F=(0,q.A)(D,[["render",p]]);var R=F}}]);