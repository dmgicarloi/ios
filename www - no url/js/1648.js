"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[1648],{1648:function(o,e,n){n.r(e),n.d(e,{default:function(){return vo}});var a=n(8445),l=n.n(a),t=n(61758),s={class:"row q-pa-sm q-col-gutter-sm"},i={class:"col-xs-12 col-sm-12 col-md-6"},u={class:"row q-col-gutter-sm"},r={class:"col-xs-12"},c={class:"col-xs-12"},d={class:"col-xs-12 col-sm-12 col-md-6"},m={class:"row q-col-gutter-sm"},p={class:"col-xs-12 col-sm-3"},f={class:"col-xs-12 col-sm-6"},b={class:"col-xs-12 col-sm-3"},g={key:0,class:"col-xs-12"},D={class:"col-xs-12"},A={class:"row q-pa-sm q-col-gutter-xs"},h={class:"col-xs-12"},v={class:"row q-col-gutter-xs"},E={class:"col-xs-12 col-sm-6"},S={class:"col-xs-12 col-sm-6"},U={class:"col-xs-12 col-sm-6"},C={class:"col-xs-12 sie-flat"},O={class:"row q-pa-sm q-col-gutter-sm"},V={class:"col-xs-12 col-sm-6"},F={key:0,class:"col-xs-12 col-sm-4"},k={key:1,class:"col-xs-12 col-sm-4"},w={class:"col-xs-12 col-sm-4"},x={key:2,class:"col-xs-12 col-sm-4"},M={class:"col-xs-12 sie-flat"},N={class:"row q-pa-sm q-col-gutter-sm"},T={class:"col-xs-12"},y={class:"col-xs-12"},L={key:0,class:"col-xs-12"},P={class:"col-xs-12"},R={class:"col-xs-12 col-sm-6"},q={class:"col-xs-12 col-sm-6"},$={class:"col-xs-12"},I={class:"col-xs-12 col-sm-6"},Y={class:"col-xs-12 col-sm-6"},_={class:"col-xs-12"},H={class:"col-xs-12 col-sm-6"},Q={class:"col-xs-12 col-sm-6"};function G(o,e){var n=this,a=(0,t.g2)("header-btn"),G=(0,t.g2)("q-select"),j=(0,t.g2)("sie-table"),B=(0,t.g2)("q-input"),X=(0,t.g2)("q-checkbox"),J=(0,t.g2)("q-card-section"),W=(0,t.g2)("q-card"),z=(0,t.g2)("sie-modal"),K=(0,t.g2)("q-btn"),Z=(0,t.g2)("sie-ngs"),oo=(0,t.g2)("q-radio"),eo=(0,t.g2)("q-date"),no=(0,t.g2)("q-popup-proxy"),ao=(0,t.g2)("q-icon"),lo=(0,t.g2)("q-page");return(0,t.uX)(),(0,t.Wv)(lo,{class:"bg-white q-pa-sm sie-flat"},{default:(0,t.k6)(function(){return[(0,t.bF)(W,null,{default:(0,t.k6)(function(){return[(0,t.bF)(a,{name:"Registro de Documentos a Presentar",buttons:o.buttons},null,8,["buttons"]),(0,t.bF)(J,null,{default:(0,t.k6)(function(){return[(0,t.Lk)("div",s,[(0,t.Lk)("div",i,[(0,t.Lk)("div",u,[(0,t.Lk)("div",r,[(0,t.bF)(G,{modelValue:o.tipoUsuario,"onUpdate:modelValue":e[0]||(e[0]=function(e){return o.tipoUsuario=e}),options:o.tipoUsuarios,label:"Tipo",onInput:o.loadUsuarioFamiliaOAlumno},null,8,["modelValue","options","onInput"])]),(0,t.Lk)("div",c,[(0,t.bF)(j,{columns:o.fields,data:o.rows,selection:"single",config:o.config,context:n,onRowSelected:o.selectUsuarioFamOAlu,css:{height:"calc(100vh - 200px)"}},null,8,["columns","data","config","onRowSelected"])])])]),(0,t.Lk)("div",d,[(0,t.Lk)("div",m,[(0,t.Lk)("div",p,[(0,t.bF)(B,{modelValue:o.codigo,"onUpdate:modelValue":e[1]||(e[1]=function(e){return o.codigo=e}),label:"Código",readonly:""},null,8,["modelValue"])]),(0,t.Lk)("div",f,[(0,t.bF)(B,{modelValue:o.nombre,"onUpdate:modelValue":e[2]||(e[2]=function(e){return o.nombre=e}),label:"Nombres",readonly:""},null,8,["modelValue"])]),(0,t.Lk)("div",b,[(0,t.bF)(G,{modelValue:o.anio,"onUpdate:modelValue":e[3]||(e[3]=function(e){return o.anio=e}),options:o.anios,label:"Año","option-value":"ANO","option-label":"ANO",onInput:e[4]||(e[4]=function(e){return o.selectUsuarioFamOAlu()})},null,8,["modelValue","options"])]),o.rowsDocumentosAEntregar.length>0?((0,t.uX)(),(0,t.CE)("div",g,[(0,t.bF)(X,{dense:"",modelValue:o.checkboxDocumentos,"onUpdate:modelValue":e[5]||(e[5]=function(e){return o.checkboxDocumentos=e}),label:"Seleccionar/deseleccionar todos los documentos",onClick:o.seleccionarDeseleccionar},null,8,["modelValue","onClick"])])):(0,t.Q3)("v-if",!0),(0,t.Lk)("div",D,[(0,t.bF)(j,{"show-index":"",ref:"documentosAEntregar",columns:o.fieldsDocumentosAEntregar,data:o.rowsDocumentosAEntregar,selection:"single",config:o.configDocumentosAEntregar,"load-disabled":o.filasDisabled,context:n,css:{height:"calc(100vh - ".concat(o.rowsDocumentosAEntregar.length>0?"228px":"200px",")")}},null,8,["columns","data","config","load-disabled","css"])])])])])]}),_:1})]}),_:1}),(0,t.bF)(z,{modelValue:o.openModalDocumentoAlumno,"onUpdate:modelValue":e[9]||(e[9]=function(e){return o.openModalDocumentoAlumno=e}),css:{"max-width":"700px"},title:"Lista de Documentos de Matricula",onSubmit:o.saveDocumentoAlumno},{default:(0,t.k6)(function(){return[(0,t.Lk)("div",A,[(0,t.Lk)("div",h,[(0,t.Lk)("div",v,[(0,t.Lk)("div",E,[(0,t.bF)(B,{modelValue:o.formDocumentoAlumno.anio,"onUpdate:modelValue":e[6]||(e[6]=function(e){return o.formDocumentoAlumno.anio=e}),label:"Año del documento",readonly:""},null,8,["modelValue"])]),(0,t.Lk)("div",S,[(0,t.bF)(B,{modelValue:o.formDocumentoAlumno.codigo,"onUpdate:modelValue":e[7]||(e[7]=function(e){return o.formDocumentoAlumno.codigo=e}),label:"Código",readonly:""},null,8,["modelValue"])]),(0,t.Lk)("div",U,[(0,t.bF)(B,{modelValue:o.formDocumentoAlumno.nombres,"onUpdate:modelValue":e[8]||(e[8]=function(e){return o.formDocumentoAlumno.nombres=e}),label:"Apellidos y Nombres",readonly:""},null,8,["modelValue"])])])]),(0,t.Lk)("div",C,[(0,t.bF)(j,{"show-index":"","check-all-position":"right",ref:"modalDocumentosAlumno",columns:o.fieldsModalDocumentosAlumno,data:o.rowsModalDocumentosAlumno,selection:"multiple",config:o.configModalDocumentosAlumno,"load-selection":o.loadSelectDocumentoAlumno,context:n,css:"height:300px"},null,8,["columns","data","config","load-selection"])])])]}),_:1},8,["modelValue","onSubmit"]),(0,t.bF)(z,{modelValue:o.openModalProceso,"onUpdate:modelValue":e[16]||(e[16]=function(e){return o.openModalProceso=e}),title:"Registro de Documentos a Presentar",css:{"max-width":"700px"},onSubmit:e[17]||(e[17]=function(e){return o.saveDocumentoMasivo("create")})},{postButtonFooter:(0,t.k6)(function(){return[(0,t.bF)(K,{color:"primary",onClick:e[10]||(e[10]=function(e){return o.saveDocumentoMasivo("delete")})},{default:(0,t.k6)(function(){return l()(e[35]||(e[35]=[(0,t.eW)("Eliminar",-1)]))}),_:1})]}),default:(0,t.k6)(function(){return[(0,t.Lk)("div",O,[(0,t.Lk)("div",V,[(0,t.bF)(B,{modelValue:o.anio,"onUpdate:modelValue":e[11]||(e[11]=function(e){return o.anio=e}),readonly:"",label:"Año Documento"},null,8,["modelValue"])]),o.isRespEjercito?((0,t.uX)(),(0,t.CE)("div",F,[(0,t.bF)(G,{modelValue:o.stipbox,"onUpdate:modelValue":e[12]||(e[12]=function(e){return o.stipbox=e}),options:o.optionsEjercito,label:"Responsable"},null,8,["modelValue","options"])])):((0,t.uX)(),(0,t.CE)("div",k,[(0,t.bF)(G,{modelValue:o.tipoUsuario,"onUpdate:modelValue":e[13]||(e[13]=function(e){return o.tipoUsuario=e}),readonly:"",options:o.tipoUsuarios,label:"Responsable"},null,8,["modelValue","options"])])),(0,t.Lk)("div",w,[(0,t.bF)(G,{modelValue:o.cboNuevoAntiguo,"onUpdate:modelValue":e[14]||(e[14]=function(e){return o.cboNuevoAntiguo=e}),options:o.cboNuevosAntiguos,label:"Asigar a:"},null,8,["modelValue","options"])]),"I"===o.cboNuevoAntiguo?((0,t.uX)(),(0,t.CE)("div",x,[(0,t.bF)(G,{modelValue:o.anioModal,"onUpdate:modelValue":e[15]||(e[15]=function(e){return o.anioModal=e}),options:o.anios,"option-value":"ANO","option-label":"ANO",label:"Año"},null,8,["modelValue","options"])])):(0,t.Q3)("v-if",!0),(0,t.bF)(Z,{ref:"refSieGNS",type:"col","class-nivel":"col-xs-12 col-sm-6 col-md-4","class-grado":"col-xs-12 col-sm-6 col-md-4","class-seccion":"col-xs-12 col-sm-6 col-md-4"},null,512),(0,t.Lk)("div",M,[(0,t.bF)(j,{"show-index":"","check-all-position":"right",ref:"modalDocumentosAEntregar",columns:o.fieldsModalDocumentosAEntregar,data:o.rowsModalDocumentosAEntregar,selection:"multiple",config:o.configModalDocumentosAEntregar,context:n,css:"height:300px"},null,8,["columns","data","config"])])])]}),_:1},8,["modelValue"]),(0,t.bF)(z,{modelValue:o.openModalPrint,"onUpdate:modelValue":e[34]||(e[34]=function(e){return o.openModalPrint=e}),title:"Ventana de Impresión",css:{"max-width":"600px"},onSubmit:o.printDocumentos},{default:(0,t.k6)(function(){return[(0,t.Lk)("div",N,[(0,t.Lk)("div",T,[(0,t.bF)(oo,{modelValue:o.tipoReporteDocumento,"onUpdate:modelValue":e[18]||(e[18]=function(e){return o.tipoReporteDocumento=e}),val:"E",label:"Reporte de Documentos Solicitados"},null,8,["modelValue"])]),(0,t.Lk)("div",y,[(0,t.bF)(oo,{modelValue:o.tipoReporteDocumento,"onUpdate:modelValue":e[19]||(e[19]=function(e){return o.tipoReporteDocumento=e}),val:"N",label:"Reporte de Documentos Entregados por Usuario"},null,8,["modelValue"])]),"0010"===o.sie.colcod?((0,t.uX)(),(0,t.CE)("div",L,[(0,t.bF)(X,{modelValue:o.tipmatri,"onUpdate:modelValue":e[20]||(e[20]=function(e){return o.tipmatri=e}),"true-value":"1","false-value":"0",label:"Alumnos Matriculados"},null,8,["modelValue"])])):(0,t.Q3)("v-if",!0),(0,t.Lk)("div",P,[(0,t.bF)(X,{modelValue:o.tiprepor,"onUpdate:modelValue":e[21]||(e[21]=function(e){return o.tiprepor=e}),"true-value":"1","false-value":"0",label:"Reporte por documento"},null,8,["modelValue"])]),(0,t.Lk)("div",R,[(0,t.bF)(G,{modelValue:o.anioModalPrint,"onUpdate:modelValue":e[22]||(e[22]=function(e){return o.anioModalPrint=e}),label:"Año",options:o.anios,"option-value":"ANO","option-label":"ANO"},null,8,["modelValue","options"])]),(0,t.Lk)("div",q,[(0,t.bF)(G,{modelValue:o.estado,"onUpdate:modelValue":e[23]||(e[23]=function(e){return o.estado=e}),label:"Estado",options:o.estados},null,8,["modelValue","options"])]),(0,t.Lk)("div",$,[(0,t.bF)(G,{modelValue:o.familia,"onUpdate:modelValue":e[24]||(e[24]=function(e){return o.familia=e}),label:"Familia",options:o.familias,"option-value":"FAMCOD","option-label":"FAMDES"},null,8,["modelValue","options"])]),(0,t.bF)(Z,{ref:"refSieGNS2",type:"col","class-nivel":"col-xs-12 col-sm-6","class-grado":"col-xs-12 col-sm-6","show-seccion":!1},null,512),(0,t.Lk)("div",I,[(0,t.bF)(G,{modelValue:o.orden,"onUpdate:modelValue":e[25]||(e[25]=function(e){return o.orden=e}),label:"Orden",options:o.ordenes},null,8,["modelValue","options"])]),(0,t.Lk)("div",Y,[(0,t.bF)(G,{disable:"0"===o.tiprepor,modelValue:o.documentoModal,"onUpdate:modelValue":e[26]||(e[26]=function(e){return o.documentoModal=e}),label:"Documento","option-label":"SECUDES","option-value":"SECUCOD",options:o.documentosModal},null,8,["disable","modelValue","options"])]),(0,t.Lk)("div",_,[(0,t.bF)(G,{disable:"E"===o.tipoReporteDocumento,modelValue:o.usuario,"onUpdate:modelValue":e[27]||(e[27]=function(e){return o.usuario=e}),label:"Usuario","option-label":"USUNOM","option-value":"USUCOD",options:o.usuarios},null,8,["disable","modelValue","options"])]),(0,t.Lk)("div",H,[(0,t.bF)(B,{disable:"E"===o.tipoReporteDocumento,label:"Fecha 1",debounce:"500",maxlength:"10",format:"##/##/####",modelValue:o.fecha1,"onUpdate:modelValue":e[30]||(e[30]=function(e){return o.fecha1=e}),mask:"##/##/####",readonly:""},{append:(0,t.k6)(function(){return[(0,t.bF)(ao,{class:"cursor-pointer",name:"date_range"},{default:(0,t.k6)(function(){return[(0,t.bF)(no,{ref:"qDateProxy1","transition-show":"scale","transition-hide":"scale"},{default:(0,t.k6)(function(){return[(0,t.bF)(eo,{mask:"DD/MM/YYYY",modelValue:o.fecha1,"onUpdate:modelValue":e[28]||(e[28]=function(e){return o.fecha1=e}),onInput:e[29]||(e[29]=function(e){return o.$refs.qDateProxy1.hide()})},null,8,["modelValue"])]}),_:1},512)]}),_:1})]}),_:1},8,["disable","modelValue"])]),(0,t.Lk)("div",Q,[(0,t.bF)(B,{disable:"E"===o.tipoReporteDocumento,label:"Fecha 2",debounce:"500",maxlength:"10",format:"##/##/####",modelValue:o.fecha2,"onUpdate:modelValue":e[33]||(e[33]=function(e){return o.fecha2=e}),mask:"##/##/####",readonly:""},{append:(0,t.k6)(function(){return[(0,t.bF)(ao,{class:"cursor-pointer",name:"date_range"},{default:(0,t.k6)(function(){return[(0,t.bF)(no,{ref:"qDateProxy2","transition-show":"scale","transition-hide":"scale"},{default:(0,t.k6)(function(){return[(0,t.bF)(eo,{mask:"DD/MM/YYYY",modelValue:o.fecha2,"onUpdate:modelValue":e[31]||(e[31]=function(e){return o.fecha2=e}),onInput:e[32]||(e[32]=function(e){return o.$refs.qDateProxy2.hide()})},null,8,["modelValue"])]}),_:1},512)]}),_:1})]}),_:1},8,["disable","modelValue"])])])]}),_:1},8,["modelValue","onSubmit"])]}),_:1})}var j=n(99550),B=n.n(j),X=n(76080),J=n.n(X),W=n(45254),z=n.n(W),K=(n(39866),n(23825),n(77507),n(52133),n(10239),n(50310),n(6724),n(70199),n(48426),n(515),n(83190),n(7346),n(24066),n(6123)),Z=n(9736),oo=n(16648),eo=n(88567),no=n(99515),ao=n(95718),lo=n(57668),to=(n(30683),{data:function(){return{config:{ACTION:{component:"button",icon:["edit as editar"],editar:function(o){var e=this;return z()(J()().m(function n(){return J()().w(function(n){while(1)switch(n.n){case 0:e.openModalDocumentoAlumno=!0,e.formDocumentoAlumno.anio=e.sie.ano,e.formDocumentoAlumno.codigo=o.ALUCOD,e.formDocumentoAlumno.nombres=o.NOMBRES,e.selectUsuarioFamOAlu(o);case 1:return n.a(2)}},n)}))()},flat:!0}},currentRow:{},rows:[],fields:[{name:"CODIGO",label:"Código",field:"CODIGO",align:"center"},{name:"NOMBRES",label:"Apellidos y Nombres",field:"NOMBRES",align:"left"},{name:"ACTION",label:"Editar",field:"ACTION",align:"center"}]}},methods:{selectUsuarioFamOAlu:function(o){var e=this;return z()(J()().m(function n(){var a,l,t,s,i,u,r;return J()().w(function(n){while(1)switch(n.n){case 0:return o=o||e.currentRow,Object.prototype.hasOwnProperty.call(o,"CODIGO")||(o=e.rows[0]),a=o,l=a.CODIGO,n.n=1,e.$http.get("api/HyoUsuario/documentosPorEntregar",{params:{anio:e.anio,codigo:l,tipo:e.tipoUsuario}});case 1:return t=n.v,e.validateCheck(t),n.n=2,e.$http.get("api/HyoTablaSe/getDataTablaSePorDocumentoEntregar",{params:{tipo:e.tipoUsuario}});case 2:s=n.v,i=e.$refs.documentosAEntregar.rowsSelected(["SECUCOD"],t),e.loadSelectDocumentoAlumno.values=i,u=[],r=[],s.map(function(o){i.indexOf(o.SECUCOD)>-1?u.push(o):r.push(o)}),e.rowsModalDocumentosAlumno=u.concat(r),e.currentRow=o,e.codigo=o.CODIGO,e.nombre=o.NOMBRES;case 3:return n.a(2)}},n)}))()}}}),so={data:function(){return{configDocumentosAEntregar:{FECENT:{component:"date"},ESTADO:{renderHtml:function(o,e,n){return n.checkbox({value:o.ESTADO,trueValue:"S"})},renderAction:function(o,e){"S"===e.ESTADO?(e.FECENT="",e.ESTADO="N"):(e.FECENT=new Date,e.ESTADO="S"),this.validateCheck(this.rowsDocumentosAEntregar)}}},rowsDocumentosAEntregar:[],fieldsDocumentosAEntregar:[{name:"SECUDES",label:"Documento a Entregar",field:"SECUDES",align:"left",maxLength:50},{name:"ANO",label:"Año",field:"ANO",align:"center"},{name:"FECENT",label:"Fecha",field:"FECENT",align:"center",width:80},{name:"ESTADO",label:"Entregado",field:"ESTADO",align:"center"}]}}},io={data:function(){return{configModalDocumentosAEntregar:{},rowsModalDocumentosAEntregar:[],fieldsModalDocumentosAEntregar:[{name:"SECUCOD",label:"Código",field:"SECUCOD",align:"center"},{name:"SECUDES",label:"Documento a Entregar",field:"SECUDES",align:"left",maxLength:80}]}}},uo={data:function(){return{configModalDocumentosAlumno:{},rowsModalDocumentosAlumno:[],fieldsModalDocumentosAlumno:[{name:"SECUCOD",label:"Código",field:"SECUCOD",align:"center"},{name:"SECUDES",label:"Documento a Entregar",field:"SECUDES",align:"left",maxLength:80}],loadSelectDocumentoAlumno:{key:"SECUCOD",values:[]}}}},ro=n(3112),co=n(30640),mo=n(36667),po=n(18105),fo=n(12143),bo=n(95477),go=n(2819),Do={components:{QInput:Z.A,QSelect:oo.A,QCard:eo.A,QRadio:no.A,QCardSection:ao.A,QCheckbox:ro.A,sieModal:co.A,sieNgs:mo.A,QDate:fo.A,QPopupProxy:bo.A,QPage:K.Tu,QBtn:K.Il,QIcon:K.bP},mixins:[to,so,io,uo],data:function(){return{buttons:[{label:"Guardar",icon:"save",click:this.saveDocumentos},{label:"Imprimir",icon:"print",click:this.modalPrint},{label:"Procesar Registro",icon:"settings",click:this.openProcesar}],tipoUsuarios:[{label:"Alumno",value:"alu"},{label:"Familia",value:"fam"}],filasDisabled:{key:"SECUCOD",values:[]},openModalProceso:!1,tipoUsuario:"alu",stipbox:"E",anios:[],anio:"",anioModal:"",codigo:"",nombre:"",checkboxDocumentos:null,form:{nivel:"",grado:"",seccion:""},isRespEjercito:["0253","0470"].includes((0,lo["default"])().colcod),optionsEjercito:[{label:"Alumno Ejercito",value:"E"},{label:"Alumno Comunidad",value:"C"}],cboNuevosAntiguos:[{label:"Todos",value:"T"},{label:"Nuevos",value:"N"},{label:"Antiguos",value:"A"},{label:"Ingresantes",value:"I"}],cboNuevoAntiguo:"T",openModalPrint:!1,openModalDocumentoAlumno:!1,tipoReporteDocumento:"E",tipmatri:"0",tiprepor:"0",sie:(0,lo["default"])(),anioModalPrint:(0,lo["default"])().ano,estados:[{value:"%",label:"Todos"},{value:"N",label:"Faltante"},{value:"S",label:"Entregados"}],estado:"%",familias:[],familia:"%",ordenes:[{value:"N",label:"Nivel"},{value:"A",label:"Alfabetico"},{value:"C",label:"Codigo"}],orden:"N",documentosModal:[],documentoModal:"%",usuarios:[],usuario:"%",fecha1:(0,po.Ay)(new Date,"DD/MM/YYYY"),fecha2:(0,po.Ay)(new Date,"DD/MM/YYYY"),formDocumentoAlumno:{anio:"",codigo:"",nombres:""}}},methods:{modalPrint:function(){this.openModalPrint=!0},saveDocumentoAlumno:function(){var o=this;return z()(J()().m(function e(){var n,a;return J()().w(function(e){while(1)switch(e.p=e.n){case 0:return e.p=0,n=o.$refs.modalDocumentosAlumno.rowsSelected(["SECUCOD"]),a={documentos:n,anio:o.formDocumentoAlumno.anio,tipo:o.tipoUsuario,codigo:"alu"===o.tipoUsuario?o.currentRow.ALUCOD:o.currentRow.FAMCOD},o.$q.loading.show(),e.n=1,o.$http.post("api/HyoMatdocso/insertDocMatri",a);case 1:o.$q.loading.hide(),o.openModalProceso=!1,o.$notify("Proceso completado","success"),o.openModalDocumentoAlumno=!1,o.selectUsuarioFamOAlu(o.currentRow),e.n=3;break;case 2:e.p=2,e.v,o.$q.loading.hide(),o.$notify("No ha sido posible crear los registros","warning");case 3:return e.a(2)}},e,null,[[0,2]])}))()},saveDocumentoMasivo:function(){var o=arguments,e=this;return z()(J()().m(function n(){var a,l,t,s,i,u,r,c;return J()().w(function(n){while(1)switch(n.p=n.n){case 0:if(a=o.length>0&&void 0!==o[0]?o[0]:"create",n.p=1,l=e.$refs.modalDocumentosAEntregar.rowsSelected(["SECUCOD"]),!(l.length<1)){n.n=2;break}return e.$alert("Seleccione al menos un documento","info"),n.a(2);case 2:return n.n=3,e.$confirmar("¿Está seguro de ".concat("create"===a?"agregar":"eliminar"," masivamente los documentos marcados al nivel grado y sección seleccionado?"),"info");case 3:if(t=n.v,!t){n.n=5;break}return s=e.$refs.refSieGNS.NGS().split(""),i=B()(s,3),u=i[0],r=i[1],c=i[2],u="%"===u?"T":u,r="%"===r?"T":r,c="%"===c?"T":c,e.$q.loading.show(),n.n=4,e.$http.post("api/HyoMatdocso/saveAsignacionAcademico",{documentos:l,data:{ano:e.anio,instrucod:u,gradocod:r,seccioncod:c,modo:e.cboNuevoAntiguo,anoIng:e.anioModal,stipbox:e.stipbox},tipo:e.tipoUsuario,operacion:a});case 4:e.$q.loading.hide(),e.openModalProceso=!1,e.$notify("Proceso completado","success"),e.selectUsuarioFamOAlu();case 5:n.n=7;break;case 6:n.p=6,n.v,e.$q.loading.hide(),e.$notify("No ha sido posible crear los registros","warning");case 7:return n.a(2)}},n,null,[[1,6]])}))()},openProcesar:function(){var o=this;return z()(J()().m(function e(){return J()().w(function(e){while(1)switch(e.n){case 0:return o.stipbox="E",o.openModalProceso=!0,e.n=1,o.$http.get("api/HyoTablaSe/getDataTablaSePorDocumentoEntregar",{params:{tipo:o.tipoUsuario}});case 1:o.rowsModalDocumentosAEntregar=e.v;case 2:return e.a(2)}},e)}))()},saveDocumentos:function(){var o=this;return z()(J()().m(function e(){var n,a,l,t;return J()().w(function(e){while(1)switch(e.p=e.n){case 0:if(!(o.rowsDocumentosAEntregar.length<1)){e.n=1;break}return o.$notify("No hay documentos","info"),e.a(2);case 1:return n=(0,lo["default"])(),a=n.usucod,l=[],o.rowsDocumentosAEntregar.map(function(e){var n=e.SECUCOD,t=e.ANO,s=e.ESTADO,i=e.FECENT,u=e.TIPO,r={DOCUCOD:String(n),ANO:String(t),ALUCOD:String(o.codigo),ESTADO:s,FECENT:(i||"").split("/").reverse().join(".")||null,USUCOD:String(a),TIPO:u||("alu"===o.tipoUsuario?"A":"F")};l.push(r)}),t={alucod:o.codigo,anio:o.anio,data:l,tipo:o.tipoUsuario},e.p=2,e.n=3,o.$http.post("api/HyoUsuario/saveFormDataFamOAlu",t);case 3:o.$notify("se modificó correctamente","success"),e.n=5;break;case 4:e.p=4,e.v,o.$notify("No ha sido posible modificar los registros","warning");case 5:return e.a(2)}},e,null,[[2,4]])}))()},seleccionarDeseleccionar:function(){var o=this,e=JSON.parse(JSON.stringify(this.rowsDocumentosAEntregar)),n=e.map(function(e){return!1===o.checkboxDocumentos?(e.ESTADO=e.FECENTANT?"S":"N",e.FECENT=e.FECENTANT||null):!0===o.checkboxDocumentos&&(e.ESTADO="S",e.FECENT=e.FECENTANT||new Date),e});this.rowsDocumentosAEntregar=n},loadUsuarioFamiliaOAlumno:function(){var o=this;return z()(J()().m(function e(){var n;return J()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,o.$http.get("api/HyoUsuario/getUsuarioAlumnoOFamilia",{params:{tipo:o.tipoUsuario}});case 1:n=e.v,o.rows=n;case 2:return e.a(2)}},e)}))()},validateCheck:function(){var o=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=0;this.filasDisabled.values=[],this.rowsDocumentosAEntregar=e.map(function(e){return e.FECENTANT=e.FECENT,"N"===e.ESTADO&&(n+=1),"alu"===o.tipoUsuario&&"F"===e.TIPO&&o.filasDisabled.values.push(e.SECUCOD),e}),this.checkboxDocumentos=0===n},printDocumentos:function(){var o=this.$refs.refSieGNS2.NGS("object"),e={formato:"pdf",ESTADOS:this.tipoReporteDocumento,ANO:this.anioModalPrint,ESTADO:this.estado,FAMILIA:this.familia,NIVEL:"%"===o.nivel?"T":o.nivel,GRADOCOD:o.grado,ORDEN:this.orden};"N"===this.tipoReporteDocumento&&(e.USUARIO=this.usuario,e.FECHA1=this.fecha1,e.FECHA2=this.fecha2),"1"===this.tiprepor&&(e.TIPREPOR=this.tiprepor,e.DOCUMENTO=this.documentoModal),"0010"===this.sie.colcod&&(e.TIPMATRI=this.tipmatri);var n={report_cod:"documentosSolicitados",repcod:"nuevoReporteAcademico"};Object.assign(e,n),(0,go.exportFilePhp)(e,"webservice/reportes/reporte")}},created:function(){var o=this;return z()(J()().m(function e(){var n,a;return J()().w(function(e){while(1)switch(e.n){case 0:return n=(0,lo["default"])(),a=n.ano,o.anio=a,o.anioModal=a,e.n=1,o.$http.get("api/HyoAnos/getAnios");case 1:return o.anios=e.v,e.n=2,o.$http.get("api/HyoFamilias/getFamiliasPorEstado");case 2:return o.familias=e.v,o.familias.unshift({FAMCOD:"%",FAMDES:"Todos"}),e.n=3,o.$http.get("api/HyoTablaSe/getTablaSe",{params:{princod:"019",filter:!0}});case 3:return o.documentosModal=e.v,o.documentosModal.unshift({SECUCOD:"%",SECUDES:"Todos"}),e.n=4,o.$http.get("api/HyoUsuario/getUsuarios");case 4:return o.usuarios=e.v,o.usuarios.unshift({USUCOD:"%",USUNOM:"Todos"}),e.n=5,o.loadUsuarioFamiliaOAlumno();case 5:return e.a(2)}},e)}))()}},Ao=n(12807);const ho=(0,Ao.A)(Do,[["render",G]]);var vo=ho}}]);