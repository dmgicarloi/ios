"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[88335],{88335:function(n,t,e){e.r(t),e.d(t,{default:function(){return D}});var r=e(8445),i=e.n(r),u=e(61758),a=e(58790),o=e(29104);function c(n,t){var e=(0,u.g2)("q-icon"),r=(0,u.g2)("q-item-section"),c=(0,u.g2)("q-item-label"),l=(0,u.g2)("q-item"),s=(0,u.g2)("q-list"),f=(0,u.g2)("q-popover"),d=(0,u.g2)("q-btn"),v=(0,u.g2)("q-card"),k=(0,u.g2)("ver"),b=(0,u.g2)("crear"),m=(0,u.g2)("asignar"),g=(0,u.gN)("ripple"),F=(0,u.gN)("close-overlay");return(0,u.uX)(),(0,u.CE)("div",{class:(0,a.C4)(["col q-pa-sm q-col-gutter-sm",[{column:n.isLess,row:!n.isLess}]])},[(0,u.Lk)("div",{class:(0,a.C4)([{"col-3":!n.isLess}])},[(0,u.bF)(v,null,{default:(0,u.k6)(function(){return[(0,u.bF)(s,{separator:"",link:""},{default:(0,u.k6)(function(){return[((0,u.uX)(!0),(0,u.CE)(u.FK,null,(0,u.pI)(n.cuestionarios,function(v,k){return(0,u.bo)(((0,u.uX)(),(0,u.Wv)(l,{key:v.ID_FORMULARIO,clickable:"",active:n.id===v.ID_FORMULARIO,"active-class":"bg-teal-1",onClick:function(t){return n.asignar(v.ID_FORMULARIO)}},{default:(0,u.k6)(function(){return[(0,u.bF)(r,{avatar:""},{default:(0,u.k6)(function(){return[(0,u.Lk)("div",{class:"q-item-icon q-item-inverted flex flex-center",style:(0,a.Tr)({"background-color":v.COLOR})},[(0,u.bF)(e,{name:v.ICONO},null,8,["name"])],4)]}),_:2},1024),(0,u.bF)(r,null,{default:(0,u.k6)(function(){return[(0,u.bF)(c,null,{default:(0,u.k6)(function(){return[(0,u.eW)((0,a.v_)(v.TITULO),1)]}),_:2},1024),(0,u.bF)(c,{caption:""},{default:(0,u.k6)(function(){return[(0,u.eW)((0,a.v_)(v.DESCRIPCION),1)]}),_:2},1024)]}),_:2},1024),(0,u.bF)(r,{side:""},{default:(0,u.k6)(function(){return[(0,u.bF)(d,{flat:"",round:"",dense:"",icon:"more_vert",onClick:t[0]||(t[0]=function(n){return n.stopPropagation()})},{default:(0,u.k6)(function(){return[(0,u.bF)(f,null,{default:(0,u.k6)(function(){return[(0,u.bF)(s,{link:""},{default:(0,u.k6)(function(){return[(0,u.bo)(((0,u.uX)(),(0,u.Wv)(l,{clickable:"",onClick:(0,o.D$)(function(t){return n.ver(v.ID_FORMULARIO)},["stop"])},{default:(0,u.k6)(function(){return[(0,u.bF)(r,{avatar:""},{default:(0,u.k6)(function(){return[(0,u.bF)(e,{name:"pageview"})]}),_:1}),(0,u.bF)(r,null,{default:(0,u.k6)(function(){return i()(t[1]||(t[1]=[(0,u.eW)("Ver",-1)]))}),_:1})]}),_:1},8,["onClick"])),[[g],[F]]),(0,u.bo)(((0,u.uX)(),(0,u.Wv)(l,{clickable:"",onClick:(0,o.D$)(function(t){return n.asignar(v.ID_FORMULARIO)},["stop"])},{default:(0,u.k6)(function(){return[(0,u.bF)(r,{avatar:""},{default:(0,u.k6)(function(){return[(0,u.bF)(e,{name:"playlist_add"})]}),_:1}),(0,u.bF)(r,null,{default:(0,u.k6)(function(){return i()(t[2]||(t[2]=[(0,u.eW)("Asignar",-1)]))}),_:1})]}),_:1},8,["onClick"])),[[g],[F]]),(0,u.bo)(((0,u.uX)(),(0,u.Wv)(l,{clickable:"",onClick:(0,o.D$)(function(t){return n.editar(v.ID_FORMULARIO)},["stop"])},{default:(0,u.k6)(function(){return[(0,u.bF)(r,{avatar:""},{default:(0,u.k6)(function(){return[(0,u.bF)(e,{name:"edit"})]}),_:1}),(0,u.bF)(r,null,{default:(0,u.k6)(function(){return i()(t[3]||(t[3]=[(0,u.eW)("Editar",-1)]))}),_:1})]}),_:1},8,["onClick"])),[[g],[F]]),(0,u.bo)(((0,u.uX)(),(0,u.Wv)(l,{clickable:"",onClick:(0,o.D$)(function(t){return n.eliminar(v.ID_FORMULARIO)},["stop"])},{default:(0,u.k6)(function(){return[(0,u.bF)(r,{avatar:""},{default:(0,u.k6)(function(){return[(0,u.bF)(e,{name:"delete"})]}),_:1}),(0,u.bF)(r,null,{default:(0,u.k6)(function(){return i()(t[4]||(t[4]=[(0,u.eW)("Eliminar",-1)]))}),_:1})]}),_:1},8,["onClick"])),[[g],[F]])]}),_:2},1024)]}),_:2},1024)]}),_:2},1024)]}),_:2},1024)]}),_:2},1032,["active","onClick"])),[[g]])}),128))]}),_:1})]}),_:1})],2),(0,u.Lk)("div",{class:(0,a.C4)(["column",[{col:n.isLess,"col-9":!n.isLess}]])},["ver"===n.tab?((0,u.uX)(),(0,u.Wv)(k,{key:0,id:n.id},null,8,["id"])):(0,u.Q3)("v-if",!0),"editar"===n.tab?((0,u.uX)(),(0,u.Wv)(b,{key:1,id:n.id,onSave:n.saveFormulario},null,8,["id","onSave"])):(0,u.Q3)("v-if",!0),"asignar"===n.tab?((0,u.uX)(),(0,u.Wv)(m,{key:2,id:n.id},null,8,["id"])):(0,u.Q3)("v-if",!0)],2)],2)}var l=e(76080),s=e.n(l),f=e(45254),d=e.n(f),v=(e(89571),e(6123)),k=e(88567),b=e(65673),m=e(82327),g=e(88865),F=e(66824),p=e(14260),_=e(81519),C=e(70662),h=e(81288),I=e(69027),w=e(78786),L=e(80660),O={getCuestionarios:function(){return d()(s()().m(function n(){var t,e;return s()().w(function(n){while(1)switch(n.n){case 0:return n.n=1,L.$http.get("api/HyoFormulario/obtListaFormularios",{params:{tipo:7}});case 1:return t=n.v,e=t.json,n.a(2,e)}},n)}))()},eliminar:function(n){return d()(s()().m(function t(){var e,r;return s()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,L.$http.delete("api/HyoFormulario/".concat(n));case 1:return e=t.v,r=e.json,t.a(2,r)}},t)}))()}},A={components:{QCard:k.A,QList:b.A,QItem:m.A,QItemSection:g.A,QItemLabel:F.A,Crear:p.A,Ver:_["default"],Asignar:C["default"],QIcon:v.bP,QBtn:v.Il,QPopover:v.VM},props:{},data:function(){return{cuestionarios:[],tab:null,id:null}},computed:{isLess:function(){return(0,h.isLess)()}},methods:{editar:function(n){this.tab="editar",this.id=n},ver:function(n){this.tab="ver",this.id=n},asignar:function(n){this.tab="asignar",this.id=n},saveFormulario:function(){var n=this;return d()(s()().m(function t(){return s()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,n.getCuestionarios();case 1:return t.a(2)}},t)}))()},getCuestionarios:function(){var n=this;return d()(s()().m(function t(){return s()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,O.getCuestionarios();case 1:n.cuestionarios=t.v;case 2:return t.a(2)}},t)}))()},eliminar:function(n){var t=this;return d()(s()().m(function e(){var r,i,u,a,o,c;return s()().w(function(e){while(1)switch(e.p=e.n){case 0:return e.n=1,(0,I.dialogConfirm)({title:"Advertencia",message:"Desea eliminar el formulario",ok:t.$t("botones.eliminar"),cancel:t.$t("botones.cancelar")});case 1:if(r=e.v,!r){e.n=5;break}return e.p=2,e.n=3,O.eliminar(n);case 3:i=e.v,u=i.json,a=(0,w["default"])(t.forms,function(t){return t.id===n}),-1!==a&&t.forms.splice(a,1),t.$notify(u.message,"success"),e.n=5;break;case 4:e.p=4,c=e.v,o=c.error,t.$notify(o.message,"warning");case 5:return e.a(2)}},e,null,[[2,4]])}))()}},created:function(){var n=this;return d()(s()().m(function t(){return s()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,n.getCuestionarios();case 1:return t.a(2)}},t)}))()}},R=e(12807);const W=(0,R.A)(A,[["render",c]]);var D=W}}]);