"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[98937],{98937:function(e,l,a){a.r(l),a.d(l,{default:function(){return De}});a(71225),a(39866),a(56285),a(50310),a(5962),a(83190);var n=a(61758),o=a(58790),t=a(29104),i={class:"row"},s={class:"col-md-4 col-xs-4"},u={class:"col-md-8 col-xs-8"},r={key:0,class:"row"},c={class:"row q-pb-sm"},d={class:"row"},f={key:0,class:"col-xs-8"},b={class:"col-xs-4",style:{height:"48px"}},p={key:1,class:"col-xs-4",style:{height:"48px"}},m={class:"row"},C={class:"col-xs-8"},v={class:"col-xs-4",style:{height:"48px"}},A={class:"row"},h={class:"col-xs-8"},I={key:0,class:"col-xs-4",style:{height:"48px"}},O={key:1,class:"col-xs-3",style:{height:"48px"}},S={key:0,class:"row q-pb-md"},g={class:"col-xs-6",style:{height:"20px"}},k={key:0,class:"col-xs-6",style:{height:"20px"}},E={class:"row"},T={class:"col-xs-12"},N={class:"row q-pb-md"},U={class:"col-xs-12"},V={class:"row"},D={class:"col-xs-12"},L={class:"row"},y={class:"col-xs-12"},M={class:"col-xs-12"},F={class:"row q-pa-md"},j={class:"col-xs-12"},P={class:"row"},$={class:"col-xs-12"},G={class:"row",style:{"justify-content":"center"}},R={class:"row q-ma-md"},_={class:"col-sm-12"},q={class:"row q-ma-md"},w={class:"col-sm-12"},x={class:"row q-ma-md"},Q={class:"col-sm-12"},X={class:"row q-ma-md"},H={class:"col-sm-12"},W={class:"row q-ma-md"},J={class:"col-sm-12"};function B(e,l){var a=(0,n.g2)("header-btn"),B=(0,n.g2)("q-select"),K=(0,n.g2)("q-search"),z=(0,n.g2)("q-checkbox"),Z=(0,n.g2)("q-item-main"),Y=(0,n.g2)("q-item"),ee=(0,n.g2)("q-list"),le=(0,n.g2)("q-popover"),ae=(0,n.g2)("q-item-tile"),ne=(0,n.g2)("q-item-side"),oe=(0,n.g2)("q-td"),te=(0,n.g2)("q-tr"),ie=(0,n.g2)("q-table"),se=(0,n.g2)("q-card-section"),ue=(0,n.g2)("q-card"),re=(0,n.g2)("q-tab"),ce=(0,n.g2)("q-tabs"),de=(0,n.g2)("q-toggle"),fe=(0,n.g2)("q-input"),be=(0,n.g2)("q-chips-input"),pe=(0,n.g2)("sie-editor"),me=(0,n.g2)("q-tab-panel"),Ce=(0,n.g2)("q-tab-panels"),ve=(0,n.g2)("sie-modal"),Ae=(0,n.g2)("q-input-credencial"),he=(0,n.g2)("q-form"),Ie=(0,n.g2)("q-page"),Oe=(0,n.gN)("close-overlay");return(0,n.uX)(),(0,n.Wv)(Ie,{class:"intranet--configura-alertas bg-white q-pt-md q-px-sm"},{default:(0,n.k6)(function(){return[(0,n.bF)(ue,{flat:"",bordered:""},{default:(0,n.k6)(function(){return[(0,n.bF)(a,{name:"Configuración de Alertas",buttons:e.buttons},null,8,["buttons"]),(0,n.bF)(se,null,{default:(0,n.k6)(function(){return[(0,n.Lk)("div",i,[(0,n.Lk)("div",s,[(0,n.bF)(B,{class:"q-if-outlined",modelValue:e.perfil,"onUpdate:modelValue":l[0]||(l[0]=function(l){return e.perfil=l}),options:e.perfiles,"float-label":e.$t("navbar.perfil")},null,8,["modelValue","options","float-label"])]),(0,n.Lk)("div",u,[(0,n.bF)(K,{class:"q-if-outlined",modelValue:e.filtro,"onUpdate:modelValue":l[1]||(l[1]=function(l){return e.filtro=l}),"float-label":e.$t("seguridad.nombre")+" o "+e.$t("codigo")},null,8,["modelValue","float-label"])])]),"004"===e.perfil.TIPCOD||"005"===e.perfil.TIPCOD?((0,n.uX)(),(0,n.CE)("div",r,["004"===e.perfil.TIPCOD?((0,n.uX)(),(0,n.CE)("div",{key:0,class:(0,o.C4)(e.col)},[(0,n.bF)(B,{class:"q-if-outlined",modelValue:e.parentesco,"onUpdate:modelValue":l[2]||(l[2]=function(l){return e.parentesco=l}),options:e.parentescos,"float-label":"Familiar"},null,8,["modelValue","options"])],2)):(0,n.Q3)("v-if",!0),(0,n.Lk)("div",{class:(0,o.C4)(e.col)},[(0,n.bF)(B,{class:"q-if-outlined",modelValue:e.nivel,"onUpdate:modelValue":l[3]||(l[3]=function(l){return e.nivel=l}),options:e.niveles,"float-label":e.$t("ngs.nivel")},null,8,["modelValue","options","float-label"])],2),(0,n.Lk)("div",{class:(0,o.C4)(e.col)},[(0,n.bF)(B,{class:"q-if-outlined",modelValue:e.grado,"onUpdate:modelValue":l[4]||(l[4]=function(l){return e.grado=l}),options:e.grados,"float-label":e.$t("ngs.grado"),disable:e.disableGrado},null,8,["modelValue","options","float-label","disable"])],2),(0,n.Lk)("div",{class:(0,o.C4)(e.col)},[(0,n.bF)(B,{class:"q-if-outlined",modelValue:e.seccion,"onUpdate:modelValue":l[5]||(l[5]=function(l){return e.seccion=l}),options:e.secciones,"float-label":e.$t("ngs.seccion"),disable:e.disableSeccion},null,8,["modelValue","options","float-label","disable"])],2)])):(0,n.Q3)("v-if",!0),(0,n.Lk)("div",c,[(0,n.bF)(Y,{class:"q-pt-none full-width"},{default:(0,n.k6)(function(){return[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.allCheck.filter(function(e){return 1===e.habilitado||0===e.habilitado}),function(l,a){return(0,n.uX)(),(0,n.Wv)(Z,{key:a,disabled:0===l.habilitado},{default:(0,n.k6)(function(){return[e.isGreater?((0,n.uX)(),(0,n.Wv)(z,{modelValue:l.check,"onUpdate:modelValue":function(e){return l.check=e},label:l.name,key:a,onInput:function(a){return e.seleccionarTodos(l)},"true-value":"S","false-value":"N",color:"secondary"},null,8,["modelValue","onUpdate:modelValue","label","onInput"])):(0,n.Q3)("v-if",!0)]}),_:2},1032,["disabled"])}),128)),e.isLess?((0,n.uX)(),(0,n.Wv)(ne,{key:0,right:""},{default:(0,n.k6)(function(){return[(0,n.bF)(ae,{class:"cursor-pointer",icon:"check_box_outline_blank"},{default:(0,n.k6)(function(){return[(0,n.bF)(le,null,{default:(0,n.k6)(function(){return[(0,n.bF)(ee,null,{default:(0,n.k6)(function(){return[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.allCheck.filter(function(e){return 1===e.habilitado||0===e.habilitado}),function(l,a){return(0,n.uX)(),(0,n.Wv)(Y,{key:a,disabled:0===l.habilitado},{default:(0,n.k6)(function(){return[(0,n.bF)(Z,null,{default:(0,n.k6)(function(){return[((0,n.uX)(),(0,n.Wv)(z,{modelValue:l.check,"onUpdate:modelValue":function(e){return l.check=e},label:l.name,key:a,onInput:function(a){return e.seleccionarTodos(l)},"true-value":"S","false-value":"N",color:"secondary"},null,8,["modelValue","onUpdate:modelValue","label","onInput"]))]}),_:2},1024)]}),_:2},1032,["disabled"])}),128))]}),_:1})]}),_:1})]}),_:1})]}),_:1})):(0,n.Q3)("v-if",!0),(0,n.bF)(ne,{right:""},{default:(0,n.k6)(function(){return[(0,n.bF)(ae,{class:"cursor-pointer",icon:"more_vert"},{default:(0,n.k6)(function(){return[(0,n.bF)(le,null,{default:(0,n.k6)(function(){return[(0,n.bF)(ee,{class:"no-border",link:""},{default:(0,n.k6)(function(){return[e.ES_EXALUMNO?(0,n.Q3)("v-if",!0):(0,n.bo)(((0,n.uX)(),(0,n.Wv)(Y,{key:0,onClick:l[6]||(l[6]=function(l){return e.exportar("pdf")})},{default:(0,n.k6)(function(){return[(0,n.bF)(ne,{icon:"file_pdf"}),(0,n.bF)(Z,{label:"Exportar PDF"})]}),_:1})),[[Oe]]),e.ES_EXALUMNO?(0,n.Q3)("v-if",!0):(0,n.bo)(((0,n.uX)(),(0,n.Wv)(Y,{key:1,onClick:l[7]||(l[7]=function(l){return e.exportar("xls")})},{default:(0,n.k6)(function(){return[(0,n.bF)(ne,{icon:"file_excel"}),(0,n.bF)(Z,{label:"Exportar Excel"})]}),_:1})),[[Oe]]),(0,n.bo)(((0,n.uX)(),(0,n.Wv)(Y,{onClick:l[8]||(l[8]=function(l){return e.modalConf=!0})},{default:(0,n.k6)(function(){return[(0,n.bF)(ne,{icon:"edit"}),(0,n.bF)(Z,{label:"Definir"})]}),_:1})),[[Oe]]),(0,n.bo)(((0,n.uX)(),(0,n.Wv)(Y,{onClick:e.procesarUsuarioAlerta},{default:(0,n.k6)(function(){return[(0,n.bF)(ne,{icon:"settings"}),(0,n.bF)(Z,{label:"Copiar"})]}),_:1},8,["onClick"])),[[Oe]]),e.sieInfo.esAdministrador?(0,n.bo)(((0,n.uX)(),(0,n.Wv)(Y,{key:2,onClick:e.getCredenciales},{default:(0,n.k6)(function(){return[(0,n.bF)(ne,{icon:"vpn_key"}),(0,n.bF)(Z,{label:"Configurar Credenciales"})]}),_:1},8,["onClick"])),[[Oe]]):(0,n.Q3)("v-if",!0)]}),_:1})]}),_:1})]}),_:1})]}),_:1})]}),_:1})]),(0,n.bF)(ie,{class:"col q-mb-sm sie-table_alto",data:e.alertUsuarios,columns:e.columns,"row-key":"name","visible-columns":e.visibleColumns},{body:(0,n.k6)(function(l){return[(0,n.bF)(te,{props:l},{default:(0,n.k6)(function(){return[(0,n.bF)(oe,{key:"USUCOD",props:l},{default:(0,n.k6)(function(){return[(0,n.eW)((0,o.v_)(l.row.USUCOD),1)]}),_:2},1032,["props"]),(0,n.bF)(oe,{key:"USUNOM",props:l},{default:(0,n.k6)(function(){return[(0,n.eW)((0,o.v_)(l.row.USUNOM),1)]}),_:2},1032,["props"]),(0,n.bF)(oe,{key:"TIPNOM",props:l},{default:(0,n.k6)(function(){return[(0,n.eW)((0,o.v_)(l.row.TIPNOM),1)]}),_:2},1032,["props"]),((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.allCheck.filter(function(e){return 1===e.habilitado||0===e.habilitado}),function(a,o){return(0,n.uX)(),(0,n.Wv)(oe,{key:a.value,props:l,disabled:0===a.habilitado},{default:(0,n.k6)(function(){return[((0,n.uX)(),(0,n.Wv)(z,{modelValue:l.row[a.value],"onUpdate:modelValue":function(e){return l.row[a.value]=e},key:a.value,"true-value":"S","false-value":"N",color:0===a.habilitado?"grey":"secondary",onInput:function(a){return e.seleccionar(l.row)}},null,8,["modelValue","onUpdate:modelValue","color","onInput"]))]}),_:2},1032,["props","disabled"])}),128))]}),_:2},1032,["props"])]}),_:1},8,["data","columns","visible-columns"])]}),_:1})]}),_:1}),(0,n.bF)(ve,{class:"config-modal",title:e.$t("configuracionEnvioAlertas"),modelValue:e.modalConf,"onUpdate:modelValue":l[11]||(l[11]=function(l){return e.modalConf=l}),footer:!0,ref:"modal",header:!0,loading:e.loadingConf,onSubmit:e.grabarConfiguracion},{default:(0,n.k6)(function(){return[(0,n.bF)(ce,{class:"q-caption",modelValue:e.selectTabConf,"onUpdate:modelValue":l[9]||(l[9]=function(l){return e.selectTabConf=l}),inverted:"","active-color":"primary",dense:"",align:"left"},{default:(0,n.k6)(function(){return[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.mensajes,function(l,a){return(0,n.uX)(),(0,n.Wv)(re,{key:a,name:l.MSGCOD,label:l.label?l.label:"mensajes"===l.TIPO?e.$t("mensajes.mensajes"):e.$translate(l.TIPO)},null,8,["name","label"])}),128))]}),_:1},8,["modelValue"]),(0,n.bF)(Ce,{modelValue:e.selectTabConf,"onUpdate:modelValue":l[10]||(l[10]=function(l){return e.selectTabConf=l}),infinite:"",swipeable:"",animated:""},{default:(0,n.k6)(function(){return[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.mensajes,function(l,a){return(0,n.uX)(),(0,n.Wv)(me,{key:a,class:"q-pa-none bg-white",name:l.MSGCOD},{default:(0,n.k6)(function(){return[(0,n.Lk)("div",d,[e.tipoConfiguracion[l.MSGCOD]&&e.tipoConfiguracion[l.MSGCOD].length>0?((0,n.uX)(),(0,n.CE)("div",f,[(0,n.bF)(B,{class:"q-if-outlined",modelValue:l.CONFIG,"onUpdate:modelValue":function(e){return l.CONFIG=e},options:e.tipoConfiguracion[l.MSGCOD],"float-label":e.$t("configuracion")},null,8,["modelValue","onUpdate:modelValue","options","float-label"])])):(0,n.Q3)("v-if",!0),(0,n.Lk)("div",b,[(0,n.bF)(de,{class:"full-height",color:"secondary",modelValue:l.HABILITADO,"onUpdate:modelValue":function(e){return l.HABILITADO=e},label:e.$t("habilitarEnvioAlertas"),"true-value":1,"false-value":0},null,8,["modelValue","onUpdate:modelValue","label"])]),"0004"==l.MSGCOD?((0,n.uX)(),(0,n.CE)("div",p,[(0,n.bF)(de,{class:"full-height",color:"secondary",modelValue:l.FLAG,"onUpdate:modelValue":function(e){return l.FLAG=e},label:e.$t("adjuntarFicha"),"true-value":"S","false-value":"N"},null,8,["modelValue","onUpdate:modelValue","label"])])):(0,n.Q3)("v-if",!0)]),(0,n.Lk)("div",m,[(0,n.Lk)("div",C,[(0,n.bF)(fe,{class:"q-if-outlined",type:"email",modelValue:l.CORREO,"onUpdate:modelValue":function(e){return l.CORREO=e},"float-label":e.$t("correo")},null,8,["modelValue","onUpdate:modelValue","float-label"])]),(0,n.Lk)("div",v,[(0,n.bF)(de,{class:"full-height",color:"secondary",modelValue:l.COPIA_COLEGIO,"onUpdate:modelValue":function(e){return l.COPIA_COLEGIO=e},label:e.$t("enviarCopiaColegio"),"true-value":1,"false-value":0},null,8,["modelValue","onUpdate:modelValue","label"])])]),(0,n.Lk)("div",A,[(0,n.Lk)("div",h,[(0,n.bF)(fe,{class:"q-if-outlined",type:"text",modelValue:l.ASUNTO,"onUpdate:modelValue":function(e){return l.ASUNTO=e},"float-label":e.$t("intranet.mensajeria.asunto"),disable:0==a&&(2==l.CONFIG||3==l.CONFIG)||1==a&&2==l.CONFIG||2==a&&(2==l.CONFIG||3==l.CONFIG)||4==a&&(2==l.CONFIG||3==l.CONFIG)},null,8,["modelValue","onUpdate:modelValue","float-label","disable"])]),["0001","0002"].includes(l.MSGCOD)&&!e.enlaceAdjunto||["0003"].includes(l.MSGCOD)?((0,n.uX)(),(0,n.CE)("div",I,[(0,n.bF)(de,{class:"full-height",color:"secondary",modelValue:l.ADJUNTO,"onUpdate:modelValue":function(e){return l.ADJUNTO=e},label:e.$t("enviarAdjuntos"),"true-value":1,"false-value":0},null,8,["modelValue","onUpdate:modelValue","label"])])):(0,n.Q3)("v-if",!0),["0001","0002"].includes(l.MSGCOD)&&e.enlaceAdjunto?((0,n.uX)(),(0,n.CE)("div",O,[(0,n.bF)(B,{class:"q-if-outlined",modelValue:l.ADJUNTO,"onUpdate:modelValue":function(e){return l.ADJUNTO=e},options:e.tiposEnvio,"float-label":e.$t("enviarAdjuntos")},null,8,["modelValue","onUpdate:modelValue","options","float-label"])])):(0,n.Q3)("v-if",!0)]),"0004"!=l.MSGCOD?((0,n.uX)(),(0,n.CE)("div",S,[(0,n.Lk)("div",g,[(0,n.bF)(de,{class:"full-height",color:"secondary",modelValue:l.RECEPTOR,"onUpdate:modelValue":function(e){return l.RECEPTOR=e},label:e.$t("mostrarReceptor"),"true-value":1,"false-value":0},null,8,["modelValue","onUpdate:modelValue","label"])]),e.demo?((0,n.uX)(),(0,n.CE)("div",k,[(0,n.bF)(de,{class:"full-height",color:"secondary",modelValue:l.FLAG_AVISO,"onUpdate:modelValue":function(e){return l.FLAG_AVISO=e},label:e.$t("Aviso"),"true-value":1,"false-value":0},null,8,["modelValue","onUpdate:modelValue","label"])])):(0,n.Q3)("v-if",!0)])):(0,n.Q3)("v-if",!0),0==a&&3!=l.CONFIG||2==a&&3!=l.CONFIG||1===a||3===a||5===a||6===a||7===a||8===a||4===a&&3!=l.CONFIG?((0,n.uX)(),(0,n.CE)(n.FK,{key:1},[(0,n.Lk)("div",E,[(0,n.Lk)("div",T,[(0,n.bF)(be,{class:"q-if-outlined",modelValue:l.ETIQUETA,"onUpdate:modelValue":function(e){return l.ETIQUETA=e},"float-label":e.$t("etiquetas"),disable:""},null,8,["modelValue","onUpdate:modelValue","float-label"])])]),(0,n.Lk)("div",N,[(0,n.Lk)("div",U,[e.modalConf?((0,n.uX)(),(0,n.Wv)(pe,{key:0,modelValue:l.TEXTO,"onUpdate:modelValue":function(e){return l.TEXTO=e}},null,8,["modelValue","onUpdate:modelValue"])):(0,n.Q3)("v-if",!0)])])],64)):(0,n.Q3)("v-if",!0),(0,n.bo)((0,n.Lk)("div",V,[(0,n.Lk)("div",D,[e.modalConf?((0,n.uX)(),(0,n.Wv)(pe,{key:0,modelValue:l.AVISO,"onUpdate:modelValue":function(e){return l.AVISO=e},type:"cita"},null,8,["modelValue","onUpdate:modelValue"])):(0,n.Q3)("v-if",!0)])],512),[[t.aG,1===l.FLAG_AVISO]]),(0,n.Lk)("div",L,[(0,n.Lk)("div",y,[(0,n.bF)(B,{class:"q-if-outlined",modelValue:l.PIE,"onUpdate:modelValue":function(e){return l.PIE=e},options:[{label:"Si",value:"S"},{label:"No",value:"N"}],"float-label":"Link de Acceso"},null,8,["modelValue","onUpdate:modelValue"])]),(0,n.bo)((0,n.Lk)("div",M,[e.modalConf?((0,n.uX)(),(0,n.Wv)(pe,{key:0,modelValue:l.MSJ_LINK,"onUpdate:modelValue":function(e){return l.MSJ_LINK=e}},null,8,["modelValue","onUpdate:modelValue"])):(0,n.Q3)("v-if",!0)],512),[[t.aG,"S"===l.PIE]])])]}),_:2},1032,["name"])}),128))]}),_:1},8,["modelValue"])]}),_:1},8,["title","modelValue","loading","onSubmit"]),(0,n.bF)(ve,{title:e.$t("configuracionEnvioAlertas"),modelValue:e.modalCopy,"onUpdate:modelValue":l[13]||(l[13]=function(l){return e.modalCopy=l}),footer:!0,ref:"modal",header:!0,loading:e.loadingCopy,onSubmit:e.copiaUsuarios},{default:(0,n.k6)(function(){return[(0,n.Lk)("div",F,[(0,n.Lk)("div",j,[(0,n.bF)(B,{class:"q-if-outlined",modelValue:e.tipo,"onUpdate:modelValue":l[12]||(l[12]=function(l){return e.tipo=l}),options:e.tipoUsuarios,"float-label":e.$t("tipoUsuario")},null,8,["modelValue","options","float-label"])])]),l[20]||(l[20]=(0,n.Lk)("div",{class:"row q-px-md"},[(0,n.Lk)("div",{class:"col-xs-12",align:"center"},[(0,n.Lk)("p",null,"* Este proceso copia todos los usuarios según el perfil"),(0,n.Lk)("p",null,"que elija para el Envio de Alertas a Correos")])],-1))]}),_:1},8,["title","modelValue","loading","onSubmit"]),(0,n.bF)(ve,{class:"config-modal",title:e.$t("Configuración de Credenciales para el envio de Alertas"),modelValue:e.modalCredencial,"onUpdate:modelValue":l[19]||(l[19]=function(l){return e.modalCredencial=l}),footer:!0,ref:"modal",header:!0,column:"",onSubmit:e.saveCredenciales},{default:(0,n.k6)(function(){return[(0,n.Lk)("div",P,[(0,n.Lk)("div",$,[(0,n.bF)(he,{ref:"formCredenciales"},{default:(0,n.k6)(function(){return[(0,n.Lk)("div",G,[(0,n.bF)(ue,{class:"q-ma-md col-sm-6",bordered:"",dense:"",flat:""},{default:(0,n.k6)(function(){return[(0,n.Lk)("div",R,[(0,n.Lk)("div",_,[(0,n.bF)(Ae,{modelValue:e.config.type,"onUpdate:modelValue":l[14]||(l[14]=function(l){return e.config.type=l}),label:"Protocolo",rules:[function(e){return!!e||"Campo obligatorio"}]},null,8,["modelValue","rules"])])]),(0,n.Lk)("div",q,[(0,n.Lk)("div",w,[(0,n.bF)(Ae,{modelValue:e.config.port,"onUpdate:modelValue":l[15]||(l[15]=function(l){return e.config.port=l}),label:"Puerto",rules:[function(e){return!!e||"Campo obligatorio"}]},null,8,["modelValue","rules"])])]),(0,n.Lk)("div",x,[(0,n.Lk)("div",Q,[(0,n.bF)(Ae,{modelValue:e.config.host,"onUpdate:modelValue":l[16]||(l[16]=function(l){return e.config.host=l}),label:"Host",rules:[function(e){return!!e||"Campo obligatorio"}]},null,8,["modelValue","rules"])])]),(0,n.Lk)("div",X,[(0,n.Lk)("div",H,[(0,n.bF)(Ae,{modelValue:e.config.auth.user,"onUpdate:modelValue":l[17]||(l[17]=function(l){return e.config.auth.user=l}),label:"Client User",rules:[function(e){return!!e||"Campo obligatorio"}]},null,8,["modelValue","rules"])])]),(0,n.Lk)("div",W,[(0,n.Lk)("div",J,[(0,n.bF)(Ae,{modelValue:e.config.auth.pass,"onUpdate:modelValue":l[18]||(l[18]=function(l){return e.config.auth.pass=l}),label:"Client Pass",rules:[function(e){return!!e||"Campo obligatorio"}]},null,8,["modelValue","rules"])])])]}),_:1})])]}),_:1},512)]),l[21]||(l[21]=(0,n.Lk)("div",{class:"col-xs-12",align:"center"},[(0,n.Lk)("br"),(0,n.Lk)("br"),(0,n.Lk)("p",null,"Estimado Usuario"),(0,n.Lk)("br"),(0,n.Lk)("p",null,"Paralelamente a este proceso se debe de realizar la modificación de los registros SPF en su servidor DNS,"),(0,n.Lk)("p",null,"agregando las ip´s permitidas de nuestros servidores, comunicarse con nuestra area de Atención al Usuario"),(0,n.Lk)("p",null,"(asesor asignado) para la validación / verificacion de dicha configuración.")],-1))])]}),_:1},8,["title","modelValue","onSubmit"])]}),_:1})}var K=a(8445),z=a.n(K),Z=a(41562),Y=a.n(Z),ee=a(76080),le=a.n(ee),ae=a(45254),ne=a.n(ae),oe=(a(30683),a(83077),a(52133),a(10239),a(90095),a(6724),a(92802),a(13715),a(6123)),te=a(30545),ie=a(57668),se=a(80660),ue=a(99637),re=a(33001),ce=a(81288),de=a(982),fe=a(8261),be=a(2819),pe=a(78786),me=a(88567),Ce=a(95718),ve=a(95051),Ae=a(26697),he=a(53093),Ie=a(53811),Oe=a(43346),Se=a(2739),ge=a(9736),ke=a(30640),Ee=a(6083),Te=a(44154),Ne={components:{QCard:me.A,QCardSection:Ce.A,sieInfo:ie["default"],QChip:ve.A,QTable:te.A,QTh:oe.EJ,QTr:oe.qh,QTd:oe.Ef,QTableColumns:oe.$s,QSearch:oe.Ks,QCheckbox:oe.vZ,QSelect:oe.Si,QPageSticky:oe._U,QPopover:oe.VM,QTabs:Ae.A,QTab:he.A,QTabPanels:Ie.A,QTabPanel:Oe.A,QToggle:oe.c5,QChipsInput:oe.XX,QToolbar:oe.ZV,QForm:Se.A,QInputCredencial:ge.A,SieModal:ke.A,sieEditor:Ee.A,QPage:oe.Tu,QItem:oe.H0,QItemMain:oe.mF,QItemSide:oe.n1,QItemTile:oe.lp,QList:oe.Mb,QInput:oe.ie},data:function(){return{sieInfo:(0,ie["default"])(),enlaceAdjunto:"0078"===(0,ie["default"])().colcod,demo:["D031","0275"].includes((0,ie["default"])().colcod),perfiles:[],perfil:"",filtro:"",mensajes:[],modalCredencial:!1,config:{type:"",port:"",host:"",auth:{user:"",pass:""}},parentescos:[{value:"T",label:this.$t("todos")},{value:"P",label:this.$t("parentesco.P")},{value:"M",label:this.$t("parentesco.M")},{value:"A",label:this.$t("parentesco.A")}],tiposEnvio:[{value:0,label:this.$t("Sin Adjuntos")},{value:1,label:this.$t("Adjuntos")},{value:2,label:this.$t("Adjunto Enlace")}],parentesco:"T",niveles:[],nivel:"",objGrados:[],grado:"",disableGrado:!0,objSecciones:[],seccion:"",disableSeccion:!0,objUsuarios:[],columns:[{name:"USUCOD",label:this.$t("codigo"),field:"USUCOD",align:"left",sortable:!0},{name:"USUNOM",label:this.$t("nombres"),field:"USUNOM",align:"left",sortable:!0},{name:"TIPNOM",label:this.$t("navbar.perfil"),field:"TIPNOM",align:"center",sortable:!0},{name:"MENSAJES",label:this.$t("muro.tabs.mensajes"),field:"MENSAJES",align:"center",sortable:!1},{name:"CIRCULARES",label:this.$t("muro.tabs.boletin"),field:"CIRCULARES",align:"center",sortable:!1},{name:"TAREAS",label:this.$t("muro.tabs.contenidos"),field:"TAREAS",align:"center",sortable:!1},{name:"ATENCION",label:this.$t("atencion"),field:"ATENCION",align:"center",sortable:!1}],visibleColumns:[],pagination:{page:1,rowsPerPage:100},objActualizar:[],allCheck:[],modalConf:!1,loadingConf:!1,selectTabConf:"",tipoConfiguracion:{"0001":[{label:"Asunto y Mensaje Configurable",value:"1"},{label:"Asunto del Mensaje de la Intranet",value:"2"},{label:"Asunto y Mensaje de la Intranet",value:"3"}],"0002":[{label:"Asunto Configurable",value:"1"},{label:"Asunto de la Intranet",value:"2"}],"0003":[{label:"Asunto y Mensaje Configurable",value:"1"},{label:"Asunto de la Tarea y Mensaje Configurable",value:"2"},{label:"Asunto y Mensaje de la Tarea",value:"3"}],"0005":[{label:"Asunto y Mensaje Configurable",value:"1"},{label:"Asunto de la Incidencia y Mensaje Configurable",value:"2"},{label:"Asunto y Mensaje de la Incidencia",value:"3"}],"0019":[{label:"Asunto y Mensaje Configurable",value:"1"},{label:"Asunto de la Tarea y Mensaje Configurable",value:"2"}],"0022":[{label:"Asunto Configurable",value:"1"},{label:"Asunto de la Intranet",value:"2"}],"0025":[{label:"Asunto Configurable",value:"1"},{label:"Asunto de la Predeterminado",value:"2"}]},flag:{"0002":"Adjuntar Circular","0004":"Adjuntar Ficha"},objContenidoTipo:[],modalCopy:!1,loadingCopy:!1,tipoUsuarios:[{value:"005",label:this.$t("alumno")},{value:"004",label:this.$t("familia")},{value:"P",label:this.$t("seguridad.personal")}],tipo:"P",evaluacion:{enable:!1},modulo:Te["default"].INTRANET,ES_EXALUMNO:Te["default"].EXALUMNO===(0,ie["default"])().modulo}},computed:{alertUsuarios:function(){var e=this.objUsuarios;return e=""!==this.filtro?(0,re.filterArray)(this.filtro,{field:["USUNOM","USUCOD","TIPNOM"],list:e}):e,e="T"!==this.perfil.TIPCOD?(0,re.filterArray)(this.perfil.TIPCOD,{field:"TIPCOD",list:e}):e,e="T"!==this.parentesco&&"004"===this.perfil.TIPCOD?(0,re.filterArray)(this.parentesco,{field:"TIPO",list:e}):e,e="T"===this.nivel||"004"!==this.perfil.TIPCOD&&"005"!==this.perfil.TIPCOD?e:(0,re.filterArray)(this.nivel,{field:"INSTRUCOD",list:e}),e="T"===this.grado.GRADOCOD||"004"!==this.perfil.TIPCOD&&"005"!==this.perfil.TIPCOD?e:(0,re.filterArray)(this.grado["GRADOCOD"],{field:"GRADOCOD",list:e}),e="T"===this.seccion||"004"!==this.perfil.TIPCOD&&"005"!==this.perfil.TIPCOD?e:(0,re.filterArray)(this.seccion,{field:"SECCIONCOD",list:e}),e},grados:function(){this.grado="",this.disableGrado="T"===this.nivel||""===this.nivel;var e=(0,re.filterArray)(this.nivel,{field:"INSTRUCOD",list:this.objGrados});return e.unshift({GRADOCOD:"T",GRADODES:"Todos"}),e=e.map(function(e){return{label:e.GRADODES,value:e}}),this.grado=e[0].value,e},secciones:function(){var e=this;this.seccion="",this.disableSeccion="T"===this.grado.GRADOCOD||""===this.grado.GRADOCOD||"T"===this.nivel||""===this.nivel;var l=[{SECCIONCOD:"T",SECCIONDES:"Todos"}];return(0,ue["default"])(this.objSecciones,function(a){a.GRADOCOD===e.grado.GRADOCOD&&a.INSTRUCOD===e.grado.INSTRUCOD&&l.push(a)}),l=l.map(function(e){return{label:e.SECCIONDES,value:e.SECCIONCOD}}),this.seccion=l[0].value,l},col:function(){return"004"===this.perfil.TIPCOD?"col-xs-3":"col-xs-4"},isGreater:function(){return(0,ce.isGreater)()},isLess:function(){return(0,ce.isLess)()},buttons:function(){var e=this,l=[];return 3===this.sieInfo.ruta.nivel&&this.objActualizar.length>0&&l.push({icon:"save",label:"Grabar",click:function(){e.update()}}),l}},methods:{init:function(){var e=this;return ne()(le()().m(function l(){var a,n,o,t,i,s,u,r,c,d;return le()().w(function(l){while(1)switch(l.n){case 0:return l.n=1,e.obtUsuAlert();case 1:return l.n=2,se.$http.get("api/HyoTipusus/obtPerfilesIntranet",{prams:{ordenado:"S"}});case 2:return a=l.v,n=a.json,n.unshift({TIPCOD:"T",TIPNOM:"Todos"}),e.perfiles=n.map(function(e){return{label:e.TIPNOM,value:e}}),e.perfil=e.perfiles[0].value,l.n=3,se.$http.get("api/HyoInstrus/obtInstru");case 3:return o=l.v,t=o.json,t.unshift({INSTRUCOD:"T",INSTRUDES:"Todos"}),e.niveles=t.map(function(e){return{label:e.INSTRUDES,value:e.INSTRUCOD}}),e.nivel=e.niveles[0].value,l.n=4,se.$http.get("api/HyoGradoNivs/obtGrados");case 4:return i=l.v,s=i.json,e.objGrados=s,l.n=5,se.$http.get("api/HyoSalones/listaSalones");case 5:return u=l.v,r=u.json,e.objSecciones=r,l.n=6,se.$http.get("api/HyoContenidoTipo/obtContenidoTipo",{params:{excluye:["6"],noHijos:"S"}});case 6:return c=l.v,d=c.json,e.objContenidoTipo=d,l.n=7,e.habilitaEvaluacion();case 7:return l.n=8,e.obtContenidoMensaje();case 8:return l.a(2)}},l)}))()},obtUsuAlert:function(){var e=this;return ne()(le()().m(function l(){var a,n;return le()().w(function(l){while(1)switch(l.n){case 0:return l.n=1,se.$http.post("api/HyoUsualert/obtConfiguracionAlertas");case 1:a=l.v,n=a.json,e.objUsuarios=(0,fe["default"])(n,"UNICO");case 2:return l.a(2)}},l)}))()},obtContenidoMensaje:function(){var e=this;return ne()(le()().m(function l(){var a,n,o,t,i,s,u;return le()().w(function(l){while(1)switch(l.n){case 0:return l.n=1,se.$http.get("api/HyoMsgAlert/obtContenidoMensaje");case 1:a=l.v,n=a.json,o=e.columns,t=[],i=[],s=[],e.evaluacion.enable?s=n:(0,ue["default"])(n,function(e){"0019"!==e.MSGCOD&&"0025"!==e.MSGCOD&&s.push(e)}),e.mensajes=s,e.selectTabConf=e.mensajes[0].MSGCOD,(0,ue["default"])(e.mensajes,function(l,a){if("0001"===l.MSGCOD&&t.push({check:"N",name:e.$t("muro.tabs.mensajes"),value:"MENSAJES",habilitado:l.HABILITADO}),"0002"!==l.MSGCOD&&"0022"!==l.MSGCOD||t.push({check:"N",name:e.$t("muro.tabs.boletin"),value:"CIRCULARES",habilitado:l.HABILITADO}),"0004"===l.MSGCOD&&t.push({check:"N",name:e.$t("atencion"),value:"ATENCION",habilitado:l.HABILITADO}),"0003"===l.MSGCOD&&(t.push({check:"N",name:e.$t("muro.tabs.contenidos"),value:"TAREAS",habilitado:l.HABILITADO}),l.contenidos=e.objContenidoTipo),"0010"===l.MSGCOD||"0020"===l.MSGCOD){var n=i.findIndex(function(e){return"ASISTENCIA"===e.name}),s=t.findIndex(function(e){return"ASISTENCIA"===e.value});if(n<0){var u={name:"ASISTENCIA",label:e.$t("asistencia"),field:"ASISTENCIA",align:"center",sortable:!1};(0,pe["default"])(o,"ASISTENCIA",{key:"name"})<0&&i.push(u)}if(s<0){var r={check:"N",name:e.$t("asistencia"),value:"ASISTENCIA",habilitado:l.HABILITADO};t.push(r)}else 1===l.HABILITADO&&t[s].habilitado!==l.HABILITADO&&(t[s].habilitado=l.HABILITADO)}if("0005"===l.MSGCOD){var c={name:"INCIDENCIAS",label:e.$t("servicioIncidencias"),field:"INCIDENCIAS",align:"center",sortable:!1},d={check:"N",name:e.$t("servicioIncidencias"),value:"INCIDENCIAS",habilitado:l.HABILITADO};(0,pe["default"])(o,"INCIDENCIAS",{key:"name"})<0&&i.push(c),t.push(d)}if("0019"===l.MSGCOD){var f=e.ES_EXALUMNO?"Encuesta":"Evaluación",b={name:"EVALUACION",label:f,field:"EVALUACION",align:"center",sortable:!1},p={check:"N",name:f,value:"EVALUACION",habilitado:l.HABILITADO};(0,pe["default"])(o,"EVALUACION",{key:"name"})<0&&i.push(b),t.push(p)}}),e.allCheck=t,e.columns=o.concat(i),"intranet"===e.modulo&&(e.visibleColumns=e.columns.map(function(e){return e.name})),"exalumno"===e.modulo&&(e.visibleColumns=["USUCOD","USUNOM","TIPNOM","CIRCULARES","EVALUACION"]),u=e.columns.reduce(function(e,l){return e[l.field]=l.label,e},{}),e.mensajes.forEach(function(e){var l=e.TIPO?e.TIPO.toUpperCase():"-";e.label=u[l]||null});case 2:return l.a(2)}},l)}))()},seleccionar:function(e,l){if(!this.ES_EXALUMNO&&e&&"S"===e.EVALUACION&&-1===["004","005"].indexOf(e.TIPCOD))return e.EVALUACION="N",!1;l||-1!==(0,pe["default"])(this.objActualizar,e.UNICO,{key:"UNICO"})||this.objActualizar.push(e)},seleccionarTodos:function(e){var l,a=e.value,n=e.check,o=[],t=Y()(this.alertUsuarios);try{for(t.s();!(l=t.n()).done;){var i=l.value;i[a]=n,!1!==this.seleccionar(i,!0)&&o.push(i)}}catch(e){t.e(e)}finally{t.f()}this.objActualizar=o},update:function(){var e=this,l=z()(this.alertUsuarios),a=[];(0,ue["default"])(l,function(e){var l={};if(e&&"004"===e.TIPCOD)switch(e.TIPO){case"A":l.MSNAPO=e.MENSAJES,l.TAREAAPO=e.TAREAS,l.CIRAPO=e.CIRCULARES,l.ATENAPO=e.ATENCION,l.INCIDENAPO=e.INCIDENCIAS,l.ASISAPO=e.ASISTENCIA,l.EVALAPO=e.EVALUACION;break;case"P":l.MSNPAD=e.MENSAJES,l.TAREAPAD=e.TAREAS,l.CIRPAD=e.CIRCULARES,l.ATENPAD=e.ATENCION,l.INCIDENPAD=e.INCIDENCIAS,l.ASISPAD=e.ASISTENCIA,l.EVALPAD=e.EVALUACION;break;case"M":l.MSNMAD=e.MENSAJES,l.TAREAMAD=e.TAREAS,l.CIRMAD=e.CIRCULARES,l.ATENMAD=e.ATENCION,l.INCIDENMAD=e.INCIDENCIAS,l.ASISMAD=e.ASISTENCIA,l.EVALMAD=e.EVALUACION;break}l.MENSAJES=e.MENSAJES,l.TAREAS=e.TAREAS,l.CIRCULARES=e.CIRCULARES,l.ATENCION=e.ATENCION,l.INCIDENCIAS=e.INCIDENCIAS,l.ASISTENCIA=e.ASISTENCIA,l.EVALUACION=e.EVALUACION,l.SISCOD=e.SISCOD,l.TIPCOD=e.TIPCOD,l.USUCOD=e.USUCOD,a.push(l)}),se.$http.post("api/HyoUsualert/grabaAlertas",{data:a}).then(function(l){var a=l.json;(0,de["default"])(e.$t("mensajes."+a.mensaje),"success")})},grabarConfiguracion:function(){var e=this;this.mensajes[2]&&(this.mensajes[2].contenido=this.objContenidoTipo[0].ID_CONTENIDO_TIPO),se.$http.post("api/HyoMsgAlert/guardarConfiguracion",{datos:this.mensajes}).then(function(l){var a=l.json;(0,de["default"])(e.$t("mensajes."+a),"success"),e.obtContenidoMensaje()})},copiaUsuarios:function(){var e=this;this.$q.loading.show({message:this.$t("alumnoestado.Z")});var l={tipcod:this.tipo};-1===["004","005"].indexOf(this.tipo)&&(l={}),se.$http.post("api/HyoUsualert/procesarUsuarios",l).then(function(l){var a=l.json;e.$q.loading.hide(),e.obtUsuAlert(),(0,de["default"])(e.$t("mensajes."+a.mensaje),"success")})},exportar:function(e){var l={repcod:"reporteUsuarioAlerta",ano:this.sieInfo.ano,anoest:this.sieInfo.anoest,siscod:this.sieInfo.siscod,tipcod:this.perfil.TIPCOD,tipnom:this.perfil.TIPNOM,asistencia:(0,pe["default"])(this.mensajes,"0010",{key:"MSGCOD"})>=0,incidencia:(0,pe["default"])(this.mensajes,"0005",{key:"MSGCOD"})>=0,formato:e};(0,be.exportFilePhp)(l,"intranet/reporte-node/reporte","Reporte usuarios con alerta")},habilitaEvaluacion:function(){var e=this;return ne()(le()().m(function l(){var a;return le()().w(function(l){while(1)switch(l.n){case 0:return l.n=1,se.$http.post("api/evaluacion/enableEvaluacion");case 1:a=l.v,e.evaluacion.enable=a;case 2:return l.a(2)}},l)}))()},procesarUsuarioAlerta:function(){this.modulo===Te["default"].INTRANET&&(this.modalCopy=!0),this.modulo===Te["default"].EXALUMNO&&this.copiaUsuarios()},saveCredenciales:function(){var e=this;return ne()(le()().m(function l(){var a,n,o,t;return le()().w(function(l){while(1)switch(l.p=l.n){case 0:return l.n=1,e.$refs.formCredenciales.validate();case 1:if(a=l.v,!a){l.n=7;break}if(-1!==e.config.host.indexOf("•")&&-1!==e.config.auth.user.indexOf("•")&&-1!==e.config.auth.pass.indexOf("•")){l.n=6;break}return l.p=2,l.n=3,se.$http.post("api/HyoMensajeria/saveCredenciales",{config:e.config});case 3:n=l.v,(0,de["default"])(n,"success"),l.n=5;break;case 4:l.p=4,t=l.v,o=t.error,(0,de["default"])(o.message,"warning");case 5:l.n=7;break;case 6:e.modalCredencial=!1;case 7:return l.a(2)}},l,null,[[2,4]])}))()},getCredenciales:function(){var e=this;return ne()(le()().m(function l(){return le()().w(function(l){while(1)switch(l.n){case 0:return e.modalCredencial=!0,l.n=1,se.$http.get("api/HyoMensajeria/getCredenciales",{params:{encrypt:!0}});case 1:e.config=l.v;case 2:return l.a(2)}},l)}))()}},created:function(){this.modulo=this.sieInfo.modulo,this.init()}},Ue=a(12807);const Ve=(0,Ue.A)(Ne,[["render",B]]);var De=Ve}}]);