"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[69716],{69716:function(e,o,a){a.r(o),a.d(o,{default:function(){return O}});var n=a(61758),t=a(58790),i=a(29104),l={class:"row"},d={class:"bg-white col-3 q-pa-md q-my-md q-mr-sm q-ml-md shadow-1 round-borders"},s={class:"q-mb-md row"},r={class:"col-7"},c={class:"col"},u=["onClick"],h={class:"col column q-ma-md shadow-1 round-borders bg-white q-pa-md"},p={key:0,class:"row q-mb-md"},f={class:"items-start"},m={class:"col column"},b=["autoplay"],M=["src"],v={key:2,class:"column items-center justify-center q-mx-md",style:{"margin-top":"150px"}},C={class:"q-mt-md"};function x(e,o){var a=(0,n.g2)("q-search"),x=(0,n.g2)("q-toggle"),k=(0,n.g2)("q-icon"),w=(0,n.g2)("q-tree"),y=(0,n.g2)("q-btn"),V=(0,n.g2)("sie-pdf");return(0,n.uX)(),(0,n.CE)("div",l,[(0,n.Lk)("div",d,[(0,n.Lk)("div",s,[(0,n.Lk)("div",r,[(0,n.bF)(a,{class:"q-mb-sm q-if-outlined",modelValue:e.filtroMenu,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.filtroMenu=o}),"stack-label":"",clearable:"",onClear:e.cleanSearch},null,8,["modelValue","onClear"])]),(0,n.Lk)("div",c,[(0,n.bF)(x,{class:"q-if-outlined",modelValue:e.expandirtodo,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.expandirtodo=o}),label:"Expandir",color:"secondary",onInput:e.expandirColapsarContenido},null,8,["modelValue","onInput"])])]),(0,n.bF)(w,{class:"q-tree-dense",nodes:e.menus,"node-key":"MENUCOD","label-key":"MENUNOM",selected:e.treeSelect,"onUpdate:selected":o[2]||(o[2]=function(o){return e.treeSelect=o}),expanded:e.dataContenidoExpandido,"onUpdate:expanded":o[3]||(o[3]=function(o){return e.dataContenidoExpandido=o}),filter:e.filtroMenu,"filter-method":e.buscar,ref:"treeMenu"},{"default-header":(0,n.k6)(function(o){return[(0,n.bF)(k,{class:"q-mr-sm",name:o.node.ICONO||"share",style:(0,t.Tr)({color:o.node.COLOR}),size:"22px"},null,8,["name","style"]),(0,n.Lk)("div",{onClick:function(a){return e.obtenerUrlRecurso(o.node)},style:{"font-size":"14px"}},(0,t.v_)(o.node.MENUNOM),9,u)]}),_:1},8,["nodes","selected","expanded","filter","filter-method"])]),(0,n.Lk)("div",h,[e.showManual||e.showVideo?((0,n.uX)(),(0,n.CE)("div",p,[(0,n.Lk)("div",f,[(0,n.bo)((0,n.bF)(y,{class:"q-mr-xs capitalize",flat:"",icon:"person_book",size:"lg",color:"primary",onClick:e.verManual,label:"Manual"},null,8,["onClick"]),[[i.aG,e.haveManual]]),(0,n.bo)((0,n.bF)(y,{class:"capitalize",flat:"",icon:"play_circle_filled",size:"lg",color:"primary",onClick:e.verVideo,label:"Video"},null,8,["onClick"]),[[i.aG,e.haveVideo]])])])):(0,n.Q3)("v-if",!0),(0,n.Lk)("div",m,[e.showManual?((0,n.uX)(),(0,n.Wv)(V,{key:0,class:"shadow-2 round-borders col overflow-hidden",src:e.srcManual},null,8,["src"])):e.showVideo?((0,n.uX)(),(0,n.CE)("video",{key:1,class:"shadow-2 round-borders",height:"480",controls:"",controlsList:"nodownload",style:{"max-width":"100%"},autoplay:e.showVideo},[(0,n.Lk)("source",{src:e.srcVideo,type:"video/mp4"},null,8,M)],8,b)):((0,n.uX)(),(0,n.CE)("div",v,[o[4]||(o[4]=(0,n.Lk)("p",{class:"text-center",style:{"font-size":"20px"}},"Para visualizar algún recurso de ayuda debe dar clic al nombre de la opción que desea, la cual le mostrará un manual en formato pdf por defecto o podrá cambiar al video de la ayuda dando clic al botón de video.",-1)),(0,n.Lk)("p",C,[(0,n.bF)(y,{class:"q-mr-xs capitalize",flat:"",icon:"person_book",size:"lg",color:"primary",label:"Manual"}),(0,n.bF)(y,{class:"capitalize",flat:"",icon:"play_circle_filled",size:"lg",color:"primary",label:"Video"})])]))])])])}a(30683),a(10239),a(89571),a(70199),a(515),a(7346),a(27360),a(60858),a(64702),a(53514);var k=a(6123),w=a(52220),y=a(84603),V=a(80340),g=a(30640),E=a(57668),q=a(982),U=a(33001),A={components:{QCard:k.C$,QCardMedia:k.wy,QTree:w.A,QToggle:k.c5,QVideo:k.d7,QItem:k.H0,QItemMain:k.mF,QToolbar:k.ZV,QToolbarTitle:k.r_,QSearch:k.Ks,siePdf:y.A,sieVacio:V.A,sieModal:g.A,notify:q["default"],QIcon:k.bP,QBtn:k.Il},data:function(){return{menus:[],filtroMenu:"",treeSelect:"",srcManual:"",srcVideo:"",haveManual:!1,haveVideo:!1,showVideo:!1,showManual:!1,expandirtodo:!1,dataContenidoExpandido:[],dataContenidoExpandidoTemp:[]}},methods:{init:function(){this.obtenerMenusUsuarioAyuda()},expandirColapsarContenido:function(e){e?(this.dataContenidoExpandido=[],this.$refs.treeMenu.expandAll()):(this.$refs.treeMenu.collapseAll(),this.dataContenidoExpandido=JSON.parse(JSON.stringify(this.dataContenidoExpandidoTemp)))},obtenerMenusUsuarioAyuda:function(){var e=this;this.$http.get("api/menus/obtListaMenuAyuda").then(function(o){e.menus=o.json}).catch(function(e){(0,q["default"])(e.error.message,"error")})},verManual:function(){this.showManual=!0,this.showVideo=!1},verVideo:function(){this.showManual=!1,this.showVideo=!0},expandirNodo:function(e){var o=e.MENUCOD,a=this.dataContenidoExpandido.indexOf(o);a>-1?this.dataContenidoExpandido.splice(a,1):(null===e.MENUPAD&&(this.dataContenidoExpandido=[]),this.dataContenidoExpandido.push(o))},obtenerUrlRecurso:function(e){var o=this,a=(0,E["default"])();this.clean(),e.children.length>0?this.expandirNodo(e):(this.treeSelect=e,this.haveManual=this.treeSelect.A_MANUAL,this.haveVideo=!!this.treeSelect.A_VIDEO,this.$http.get("api/HyoAyuda/obtUrlRecurso",{params:{estado:e.URL}}).then(function(e){var n=e.json[0];o.srcManual="".concat(a.api,"/cors?sie-token=").concat(a.token,"&url=").concat(window.btoa(window.encodeURIComponent(n.URL_MANUAL))),o.srcVideo="".concat(a.api,"/cors?sie-token=").concat(a.token,"&url=").concat(window.btoa(window.encodeURIComponent(n.URL_VIDEO)),"&export=inline")}).then(function(){o.haveManual?o.verManual():o.haveVideo&&o.verVideo()}).catch(function(e){(0,q["default"])(e.error.message,"error")}))},buscar:function(e,o){var a=(0,U.stringToStandard)(o);return""!==a&&this.$refs.treeMenu.expandAll(),e.MENUNOM&&(0,U.stringToStandard)(e.MENUNOM).indexOf(a)>-1},cleanSearch:function(e){this.filtroMenu=e,this.dataContenidoExpandido=[]},clean:function(){this.srcVideo="",this.srcManual="",this.treeSelect="",this.haveManual=!1,this.haveVideo=!1}},created:function(){this.init()}},L=a(12807);const N=(0,L.A)(A,[["render",x]]);var O=N}}]);