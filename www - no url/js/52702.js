"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[52702],{52702:function(e,a,t){t.r(a),t.d(a,{default:function(){return Ae}});var o=t(8445),r=t.n(o),n=(t(23825),t(11777),t(15547),t(83190),t(24066),t(61758)),l=t(58790),i={class:"row q-ma-xs q-col-gutter-sm"},s={class:"col-xs-3"},c={class:"col-xs-3"},u={key:0,class:"col-xs-3"},d={key:1,class:"col-xs-3"},f={class:"col-xs-3"},p={class:"col-xs-3"},m={class:"row q-ma-xs q-col-gutter-sm"},h={class:"col-xs-12"},g={class:"col-xs-12"},b={class:"text-no-wrap"},A={class:"row q-ma-xs q-col-gutter-sm"},O={class:"text-h6"},v={class:"row q-ma-xs q-col-gutter-sm"},w={class:"col-xs-12"},C={class:"col-xs-6"},P={class:"col-xs-6"},D={class:"col-xs-6"},k={class:"col-xs-6"},_={class:"col-xs-6"},E={class:"col-xs-6"},S={class:"row q-ma-xs q-col-gutter-sm"},I={class:"col-xs-12"},F={class:"text-no-wrap"},N={class:"text-no-wrap"},T={class:"text-no-wrap"},x={class:"text-no-wrap"},y={class:"text-no-wrap"},G={class:"text-no-wrap"};function R(e,a){var t=(0,n.g2)("q-page-header"),o=(0,n.g2)("q-separator"),R=(0,n.g2)("q-select"),V=(0,n.g2)("q-date"),L=(0,n.g2)("q-popup-proxy"),M=(0,n.g2)("q-icon"),B=(0,n.g2)("q-input"),U=(0,n.g2)("q-card-section"),H=(0,n.g2)("sie-grid"),q=(0,n.g2)("footer-grid"),Y=(0,n.g2)("q-iframe"),$=(0,n.g2)("sie-modal"),K=(0,n.g2)("q-item-main"),Q=(0,n.g2)("q-item-tile"),z=(0,n.g2)("q-item"),W=(0,n.g2)("q-item-separator"),X=(0,n.g2)("q-list"),j=(0,n.g2)("q-dialog"),Z=(0,n.g2)("q-option-group"),J=(0,n.g2)("q-card");return(0,n.uX)(),(0,n.Wv)(J,{class:"layout-v1 my-card",flat:"",bordered:""},{default:(0,n.k6)(function(){return[(0,n.bF)(t,{componente:e.pageHeader.componente,title:e.pageHeader.title,botones:e.pageHeader.botones,nivelAcceso:e.pageHeader.nivelAcceso,dropdown:e.pageHeader.tabActive===e.pageHeader.keys.general,useTab:"",tabs:e.pageHeader.tabs,onActionTab:e.actionTab},null,8,["componente","title","botones","nivelAcceso","dropdown","tabs","onActionTab"]),(0,n.bF)(o),(0,n.bF)(U,null,{default:(0,n.k6)(function(){return[(0,n.Lk)("div",i,[(0,n.Lk)("div",s,[(0,n.bF)(R,{modelValue:e.models.filtros.anio,"onUpdate:modelValue":a[0]||(a[0]=function(a){return e.models.filtros.anio=a}),label:"Año",options:e.data.filtros.anios,placeholder:"Seleccione Año","option-value":"value","option-label":"label",onInput:e.getData},null,8,["modelValue","options","onInput"])]),(0,n.Lk)("div",c,[(0,n.bF)(R,{modelValue:e.models.filtros.mes,"onUpdate:modelValue":a[1]||(a[1]=function(a){return e.models.filtros.mes=a}),label:"Mes",options:e.data.filtros.meses,placeholder:"Seleccione Mes","option-value":"value","option-label":"label",onInput:e.getData},null,8,["modelValue","options","onInput"])]),e.pageHeader.tabActive===e.pageHeader.keys.general?((0,n.uX)(),(0,n.CE)("div",u,[(0,n.bF)(B,{"reverse-fill-mask":"",modelValue:e.models.filtros.fechaini,"onUpdate:modelValue":a[4]||(a[4]=function(a){return e.models.filtros.fechaini=a}),maxlength:"10",mask:"##/##/####",label:"Fecha Generación Inicio"},{append:(0,n.k6)(function(){return[(0,n.bF)(M,{class:"cursor-pointer",name:"date_range"},{default:(0,n.k6)(function(){return[(0,n.bF)(L,{ref:"qDateProxy1","transition-show":"scale","transition-hide":"scale"},{default:(0,n.k6)(function(){return[(0,n.bF)(V,{mask:"DD/MM/YYYY",modelValue:e.models.filtros.fechaini,"onUpdate:modelValue":a[2]||(a[2]=function(a){return e.models.filtros.fechaini=a}),onInput:a[3]||(a[3]=function(a){return e.closeModalFecha("qDateProxy1")})},null,8,["modelValue"])]}),_:1},512)]}),_:1})]}),_:1},8,["modelValue"])])):(0,n.Q3)("v-if",!0),e.pageHeader.tabActive===e.pageHeader.keys.general?((0,n.uX)(),(0,n.CE)("div",d,[(0,n.bF)(B,{"reverse-fill-mask":"",modelValue:e.models.filtros.fechafin,"onUpdate:modelValue":a[7]||(a[7]=function(a){return e.models.filtros.fechafin=a}),maxlength:"10",mask:"##/##/####",label:"Fecha Generación Fin"},{append:(0,n.k6)(function(){return[(0,n.bF)(M,{class:"cursor-pointer",name:"date_range"},{default:(0,n.k6)(function(){return[(0,n.bF)(L,{ref:"qDateProxy2","transition-show":"scale","transition-hide":"scale"},{default:(0,n.k6)(function(){return[(0,n.bF)(V,{mask:"DD/MM/YYYY",modelValue:e.models.filtros.fechafin,"onUpdate:modelValue":a[5]||(a[5]=function(a){return e.models.filtros.fechafin=a}),onInput:a[6]||(a[6]=function(a){return e.closeModalFecha("qDateProxy2")})},null,8,["modelValue"])]}),_:1},512)]}),_:1})]}),_:1},8,["modelValue"])])):(0,n.Q3)("v-if",!0),(0,n.Lk)("div",f,[(0,n.bF)(R,{placeholder:"Seleccione pasarela",options:e.data.filtros.pasarelas,label:"Pasarela","option-value":"value","option-label":"label",onInput:e.getData,modelValue:e.models.filtros.pasarela,"onUpdate:modelValue":a[8]||(a[8]=function(a){return e.models.filtros.pasarela=a})},null,8,["options","onInput","modelValue"])]),(0,n.Lk)("div",p,[(0,n.bF)(R,{placeholder:"Seleccione estado",options:e.data.filtros.estado,label:"Estados",modelValue:e.models.filtros.estado,"onUpdate:modelValue":a[9]||(a[9]=function(a){return e.models.filtros.estado=a}),onInput:e.getData},null,8,["options","modelValue","onInput"])])])]}),_:1}),e.pageHeader.tabActive===e.pageHeader.keys.general?((0,n.uX)(),(0,n.Wv)(U,{key:0},{default:(0,n.k6)(function(){return[(0,n.Lk)("div",m,[(0,n.Lk)("div",h,[(0,n.bF)(H,{class:"fix-table-global ag-theme-balham",columnDefs:e.gridGeneral.columnDefs,rowData:e.gridGeneral.rowData,rowSelection:"multiple",frameworkComponents:e.gridGeneral.frameworkComponents,onGridReady:e.onGridReadyGeneral,defaultColDef:e.gridGeneral.defaultColDef,floatingFilter:"",enableCellTextSelection:"",style:{height:"calc(100vh - 380px)"},onFilterChanged:e.onFilterChanged},null,8,["columnDefs","rowData","frameworkComponents","onGridReady","defaultColDef","onFilterChanged"]),(0,n.bF)(q,{modelValue:e.gridGeneral.footer.pagina,"onUpdate:modelValue":a[10]||(a[10]=function(a){return e.gridGeneral.footer.pagina=a}),style:{width:"100%"},max:e.gridGeneral.footer.pages,rows:e.gridGeneral.contador,onLoad:e.getPagosPasarela},null,8,["modelValue","max","rows","onLoad"])])])]}),_:1})):(0,n.Q3)("v-if",!0),e.pageHeader.tabActive===e.pageHeader.keys.detallado?((0,n.uX)(),(0,n.Wv)(U,{key:1},{default:(0,n.k6)(function(){return[(0,n.Lk)("div",g,[(0,n.bF)(H,{class:"fix-table-global ag-theme-balham",columnDefs:e.gridDetalle.columnDefs,rowData:e.gridDetalle.rowData,rowSelection:"multiple",frameworkComponents:e.gridDetalle.frameworkComponents,onGridReady:e.onGridReadyDetallado,defaultColDef:e.gridGeneral.defaultColDef,floatingFilter:"",enableCellTextSelection:"",style:{height:"calc(100vh - 320px)"},onFilterChanged:e.onFilterChangedDetalle},null,8,["columnDefs","rowData","frameworkComponents","onGridReady","defaultColDef","onFilterChanged"]),(0,n.bF)(q,{modelValue:e.gridDetalle.footer.pagina,"onUpdate:modelValue":a[11]||(a[11]=function(a){return e.gridDetalle.footer.pagina=a}),style:{width:"100%"},max:e.gridDetalle.footer.pages,rows:e.gridDetalle.contador,onLoad:e.getPagosDetallados},null,8,["modelValue","max","rows","onLoad"])])]}),_:1})):(0,n.Q3)("v-if",!0),e.modals.viewCip?((0,n.uX)(),(0,n.Wv)($,{key:2,class:"cip-modal",modelValue:e.modals.viewCip,"onUpdate:modelValue":a[12]||(a[12]=function(a){return e.modals.viewCip=a}),footer:!1,ok:!1,customWidth:"700px"},{default:(0,n.k6)(function(){return[(0,n.bF)(Y,{class:"col",src:e.models.linkCip,style:{height:"700px"}},null,8,["src"])]}),_:1},8,["modelValue"])):(0,n.Q3)("v-if",!0),(0,n.bF)(j,{modelValue:e.modals.detalle,"onUpdate:modelValue":a[13]||(a[13]=function(a){return e.modals.detalle=a}),"stack-buttons":""},{title:(0,n.k6)(function(){return[(0,n.Lk)("span",null,(0,l.v_)(e.models.mDetalle.titleDetalle.CLIENTE)+" ("+(0,l.v_)(e.models.mDetalle.titleDetalle.CODIGO)+")",1)]}),body:(0,n.k6)(function(){return[(0,n.Lk)("div",null,[(0,n.bF)(X,{class:"no-border"},{default:(0,n.k6)(function(){return[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(e.data.dataConceptosDetalle,function(e){return(0,n.uX)(),(0,n.Wv)(z,{key:e.CONDES},{default:(0,n.k6)(function(){return[(0,n.bF)(K,{class:"label",style:{width:"350px"}},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(e.CONCEPTO),1)]}),_:2},1024),(0,n.bF)(Q,{class:"label text-right",style:{width:"150px"}},{default:(0,n.k6)(function(){return[(0,n.Lk)("span",b,(0,l.v_)(e.MONSIG)+" "+(0,l.v_)(Number(e.MONTOPAG).toFixed(2)),1)]}),_:2},1024)]}),_:2},1024)}),128)),(0,n.bF)(W),(0,n.bF)(z,null,{default:(0,n.k6)(function(){return[(0,n.bF)(K,{class:"label"},{default:(0,n.k6)(function(){return r()(a[29]||(a[29]=[(0,n.eW)("Total",-1)]))}),_:1}),(0,n.bF)(Q,{class:"label"},{default:(0,n.k6)(function(){return[(0,n.eW)((0,l.v_)(e.models.mDetalle.moneda)+" "+(0,l.v_)(e.models.mDetalle.total),1)]}),_:1})]}),_:1})]}),_:1})])]}),_:1},8,["modelValue"]),(0,n.bF)($,{modelValue:e.reporte.modal,"onUpdate:modelValue":a[25]||(a[25]=function(a){return e.reporte.modal=a}),labelButtonOk:"exportar",iconButtonOk:"open_in_new",onSubmit:e.exportarReporte},{default:(0,n.k6)(function(){return[a[30]||(a[30]=(0,n.Lk)("form",{class:"form",id:"form-reporte-pasarela"},null,-1)),(0,n.bF)(U,null,{default:(0,n.k6)(function(){return[(0,n.Lk)("div",A,[(0,n.Lk)("div",O,(0,l.v_)(e.reporte.title),1)])]}),_:1}),(0,n.bF)(U,null,{default:(0,n.k6)(function(){return[(0,n.Lk)("div",v,[(0,n.Lk)("div",w,[(0,n.bF)(R,{label:"Pasarela",placeholder:"Seleccione Pasarela",options:e.reporte.filtros.pasarelas,modelValue:e.reporte.filtros.pasarela,"onUpdate:modelValue":a[14]||(a[14]=function(a){return e.reporte.filtros.pasarela=a})},null,8,["options","modelValue"])]),(0,n.Lk)("div",C,[(0,n.bF)(B,{"reverse-fill-mask":"",maxlength:"10",mask:"##/##/####",label:"Fecha Inicio",modelValue:e.reporte.filtros.fechaInicio,"onUpdate:modelValue":a[17]||(a[17]=function(a){return e.reporte.filtros.fechaInicio=a})},{append:(0,n.k6)(function(){return[(0,n.bF)(M,{class:"cursor-pointer",name:"date_range"},{default:(0,n.k6)(function(){return[(0,n.bF)(L,{ref:"qDateProxy1","transition-show":"scale","transition-hide":"scale"},{default:(0,n.k6)(function(){return[(0,n.bF)(V,{mask:"DD/MM/YYYY",modelValue:e.reporte.filtros.fechaInicio,"onUpdate:modelValue":a[15]||(a[15]=function(a){return e.reporte.filtros.fechaInicio=a}),onInput:a[16]||(a[16]=function(a){return e.closeModalFin("qDateProxy1")})},null,8,["modelValue"])]}),_:1},512)]}),_:1})]}),_:1},8,["modelValue"])]),(0,n.Lk)("div",P,[(0,n.bF)(B,{"reverse-fill-mask":"",maxlength:"10",mask:"##/##/####",label:"Fecha Fin",modelValue:e.reporte.filtros.fechaFinal,"onUpdate:modelValue":a[20]||(a[20]=function(a){return e.reporte.filtros.fechaFinal=a})},{append:(0,n.k6)(function(){return[(0,n.bF)(M,{class:"cursor-pointer",name:"date_range"},{default:(0,n.k6)(function(){return[(0,n.bF)(L,{ref:"qDateProxy2","transition-show":"scale","transition-hide":"scale"},{default:(0,n.k6)(function(){return[(0,n.bF)(V,{mask:"DD/MM/YYYY",modelValue:e.reporte.filtros.fechaFinal,"onUpdate:modelValue":a[18]||(a[18]=function(a){return e.reporte.filtros.fechaFinal=a}),onInput:a[19]||(a[19]=function(a){return e.closeModalFin("qDateProxy2")})},null,8,["modelValue"])]}),_:1},512)]}),_:1})]}),_:1},8,["modelValue"])]),(0,n.Lk)("div",D,[(0,n.bF)(R,{label:"Estado",options:e.reporte.data.cobroBanco,modelValue:e.reporte.filtros.cobroBanco,"onUpdate:modelValue":a[21]||(a[21]=function(a){return e.reporte.filtros.cobroBanco=a}),placeholder:"Totales"},null,8,["options","modelValue"])]),(0,n.Lk)("div",k,[(0,n.bF)(R,{label:"Orden",options:e.reporte.data.orden,"option-label":"label","option-value":"value",modelValue:e.reporte.filtros.orden,"onUpdate:modelValue":a[22]||(a[22]=function(a){return e.reporte.filtros.orden=a})},null,8,["options","modelValue"])]),(0,n.Lk)("div",_,[(0,n.bF)(Z,{options:e.reporte.data.tipo,modelValue:e.reporte.filtros.tipo,"onUpdate:modelValue":a[23]||(a[23]=function(a){return e.reporte.filtros.tipo=a}),inline:""},null,8,["options","modelValue"])]),(0,n.Lk)("div",E,[(0,n.bF)(Z,{options:e.reporte.botones,modelValue:e.reporte.formato,"onUpdate:modelValue":a[24]||(a[24]=function(a){return e.reporte.formato=a}),inline:""},null,8,["options","modelValue"])])])]}),_:1})]}),_:1},8,["modelValue","onSubmit"]),(0,n.bF)($,{modelValue:e.modals.actualizarEstado,"onUpdate:modelValue":a[27]||(a[27]=function(a){return e.modals.actualizarEstado=a}),iconButtonOk:"async",labelButtonOk:"cambiar",onSubmit:e.cambiarEstado},{default:(0,n.k6)(function(){return[(0,n.bF)(U,null,{default:(0,n.k6)(function(){return r()(a[31]||(a[31]=[(0,n.Lk)("div",{class:"row q-ma-xs q-col-gutter-sm"},[(0,n.Lk)("div",{class:"text-h6"},"Seleccione el estado a actualizar")],-1)]))}),_:1}),(0,n.bF)(U,null,{default:(0,n.k6)(function(){return[(0,n.Lk)("div",S,[(0,n.Lk)("div",I,[(0,n.bF)(R,{options:e.data.update.estado,modelValue:e.models.estadoActualizar,"onUpdate:modelValue":a[26]||(a[26]=function(a){return e.models.estadoActualizar=a}),label:"Estado a Actualizar"},null,8,["options","modelValue"])])])]}),_:1})]}),_:1},8,["modelValue","onSubmit"]),(0,n.bF)(j,{modelValue:e.modals.infoKashio,"onUpdate:modelValue":a[28]||(a[28]=function(a){return e.modals.infoKashio=a}),"stack-buttons":""},{title:(0,n.k6)(function(){return r()(a[32]||(a[32]=[(0,n.Lk)("span",null,"INFO KASHIO",-1)]))}),body:(0,n.k6)(function(){return[(0,n.Lk)("div",null,[(0,n.bF)(X,{class:"no-border"},{default:(0,n.k6)(function(){return[(0,n.bF)(z,null,{default:(0,n.k6)(function(){return[(0,n.bF)(K,{class:"label",style:{width:"350px"}},{default:(0,n.k6)(function(){return r()(a[33]||(a[33]=[(0,n.eW)("AMOUNT",-1)]))}),_:1}),(0,n.bF)(Q,{class:"label text-right",style:{width:"150px"}},{default:(0,n.k6)(function(){return[(0,n.Lk)("span",F,(0,l.v_)(e.dataInfoKashio.amount),1)]}),_:1})]}),_:1}),(0,n.bF)(z,null,{default:(0,n.k6)(function(){return[(0,n.bF)(K,{class:"label",style:{width:"350px"}},{default:(0,n.k6)(function(){return r()(a[34]||(a[34]=[(0,n.eW)("FEES",-1)]))}),_:1}),(0,n.bF)(Q,{class:"label text-right",style:{width:"150px"}},{default:(0,n.k6)(function(){return[(0,n.Lk)("span",N,(0,l.v_)(e.dataInfoKashio.fees),1)]}),_:1})]}),_:1}),(0,n.bF)(z,null,{default:(0,n.k6)(function(){return[(0,n.bF)(K,{class:"label",style:{width:"350px"}},{default:(0,n.k6)(function(){return r()(a[35]||(a[35]=[(0,n.eW)("LATE_FEE",-1)]))}),_:1}),(0,n.bF)(Q,{class:"label text-right",style:{width:"150px"}},{default:(0,n.k6)(function(){return[(0,n.Lk)("span",T,(0,l.v_)(e.dataInfoKashio.late_fee),1)]}),_:1})]}),_:1}),(0,n.bF)(z,null,{default:(0,n.k6)(function(){return[(0,n.bF)(K,{class:"label",style:{width:"350px"}},{default:(0,n.k6)(function(){return r()(a[36]||(a[36]=[(0,n.eW)("ORDER_DESCRIPTION",-1)]))}),_:1}),(0,n.bF)(Q,{class:"label text-right",style:{width:"150px"}},{default:(0,n.k6)(function(){return[(0,n.Lk)("span",x,(0,l.v_)(e.dataInfoKashio.order_description),1)]}),_:1})]}),_:1}),(0,n.bF)(z,null,{default:(0,n.k6)(function(){return[(0,n.bF)(K,{class:"label",style:{width:"350px"}},{default:(0,n.k6)(function(){return r()(a[37]||(a[37]=[(0,n.eW)("STATUS",-1)]))}),_:1}),(0,n.bF)(Q,{class:"label text-right",style:{width:"150px"}},{default:(0,n.k6)(function(){return[(0,n.Lk)("span",y,(0,l.v_)(e.dataInfoKashio.status),1)]}),_:1})]}),_:1}),(0,n.bF)(z,null,{default:(0,n.k6)(function(){return[(0,n.bF)(K,{class:"label",style:{width:"350px"}},{default:(0,n.k6)(function(){return r()(a[38]||(a[38]=[(0,n.eW)("SUB_TOTAL",-1)]))}),_:1}),(0,n.bF)(Q,{class:"label text-right",style:{width:"150px"}},{default:(0,n.k6)(function(){return[(0,n.Lk)("span",G,(0,l.v_)(e.dataInfoKashio.sub_total),1)]}),_:1})]}),_:1})]}),_:1})])]}),_:1},8,["modelValue"])]}),_:1})}var V=t(41562),L=t.n(V),M=t(99550),B=t.n(M),U=t(76080),H=t.n(U),q=t(45254),Y=t.n(q),$=(t(12563),t(30683),t(74260),t(71587),t(39866),t(52133),t(10239),t(23513),t(25751),t(50310),t(32203),t(6724),t(9240),t(515),t(52776),t(62692),t(66307),t(81813),t(7346),t(88567)),K=t(95718),Q=t(95051),z=t(53380),W=t(64208),X=t(12143),j=t(18105),Z=t(95477),J=t(80660),ee=t(6123),ae=t(3112),te=t(36408),oe=t(78840),re=t(54267),ne=t(56945),le=t(42037),ie=t(27560),se=t(54489),ce=t(75053),ue=t(41615),de=t(64303),fe=t(56089),pe=t(57668),me=t(2652),he={props:["lessHeight","cp"],components:{sieModal:ce.A,QChip:Q.A,QDate:X.A,QPopupProxy:Z.A,QCard:$.A,QCardSection:K.A,QSelect:se.S,QOptionGroup:ee.EX,QSeparator:z.A,sieGrid:te.A,QInput:W.A,footerGrid:ie.A,QBtnDropdown:ee.B4,crearBotones:de.A,QIframe:fe.A,QDialog:ee.OQ,QList:ee.Mb,QListHeader:ee.XR,QItem:ee.H0,QItemMain:ee.mF,QItemSeparator:ee.CL,QItemSide:ee.n1,QItemTile:ee.lp,QCheckbox:ae.A,QPageHeader:me.A,QIcon:ee.bP},mixins:[ne.A],data:function(){return{verificarAdmin:!1,pageHeader:{tabs:[{label:"General",name:"index"},{label:"Detallado",name:"detallado"}],keys:{general:"index",detallado:"detallado"},botones:[],title:"Pasarelas de Pago",componente:"pagosPasarela",nivelAcceso:(0,pe["default"])().ruta.nivel,tabActive:"index"},modals:{actualizarEstado:!1,viewCip:!1,detalle:!1,infoKashio:!1},dataInfoKashio:{fees:null,late_fee:null,order_description:null,status:null,sub_total:null},models:{openpay:!1,pagoefectivo:!1,kashio:!1,admin:!1,mDetalle:{total:0,moneda:"",titleDetalle:{CLIENTE:"",CODIGO:""}},estadoActualizar:0,linkCip:"",bancos:{KS:ue["default"].BANCOS.KASHIO,PE:ue["default"].BANCOS.PEFECTIVO,OP:ue["default"].BANCOS.OPENPAY},verificar:0,filtros:{anio:String(ue["default"].CURRENT_YEAR),mes:ue["default"].CURRENT_MONTH,fechaini:ue["default"].CURRENT_DAY,fechafin:ue["default"].CURRENT_DAY,pasarela:ue["default"].TODOS,estado:ue["default"].TODOS}},data:{dataConceptosDetalle:[],cuentasBancarias:[],servicios:[],estadosApiRest:[],filtros:{anios:[],meses:[],pasarelas:[{label:"Todos",value:"T"},{label:"PagoEfectivo",value:ue["default"].BANCOS.PEFECTIVO},{label:"OpenPay",value:ue["default"].BANCOS.OPENPAY},{label:"Kashio",value:ue["default"].BANCOS.KASHIO}],estado:[]},update:{estado:[]}},gridGeneral:{columnDefs:[],rowData:[],api:[],filterModel:null,contador:0,frameworkComponents:{actionButton:oe.A},footer:{pagina:1,pages:1},defaultColDef:{suppressHeaderMenuButton:!0,filter:!0,floatingFilterComponentParams:{suppressFilterButton:!0},resizable:!0,sortable:!0,suppressDragLeaveHidesColumns:!0}},gridDetalle:{columnDefs:[],rowData:[],api:[],contador:0,filterModel:null,frameworkComponents:{},footer:{pagina:1,pages:1},defaultColDef:{suppressHeaderMenuButton:!0,filter:!0,floatingFilterComponentParams:{suppressFilterButton:!0},resizable:!0,sortable:!0,suppressDragLeaveHidesColumns:!0}},reporte:{modal:!1,title:"Reporte Pasarela",formato:"pdf",filtros:{fechaInicio:ue["default"].CURRENT_DAY,fechaFinal:ue["default"].CURRENT_DAY,orden:"F",cobroBanco:ue["default"].TODOS,tipo:"1",pasarela:""},data:{cobroBanco:[{value:"T",label:"Todos"},{value:"P",label:"Pagados"}],orden:[],tipo:[{label:"General",value:"1"},{label:"Detallado",value:"2"}]},botones:[{label:"PDF",value:"pdf"},{label:"EXCEL",value:"xls"}]}}},methods:{restoreFilterState:function(){this.gridGeneral.filterModel&&this.gridGeneral.api.setFilterModel(this.gridGeneral.filterModel),this.gridDetalle.filterModel&&this.gridDetalle.api.setFilterModel(this.gridDetalle.filterModel)},onFilterChanged:function(e){this.gridGeneral.contador=Array.from({length:e.api.getDisplayedRowCount()}),this.gridGeneral.filterModel=e.api.getFilterModel()},onFilterChangedDetalle:function(e){this.gridDetalle.contador=Array.from({length:e.api.getDisplayedRowCount()}),this.gridDetalle.filterModel=e.api.getFilterModel()},actionTab:function(e){this.pageHeader.tabActive=e,this.pageHeader.botones=[],this.crearBotones(),this.getData()},getPagosDetallados:function(){var e=this;return Y()(H()().m(function a(){var t,o;return H()().w(function(a){while(1)switch(a.n){case 0:return t={anocob:e.models.filtros.anio,mescob:e.models.filtros.mes},e.models.filtros.estado!==ue["default"].TODOS&&(t.estado=e.models.filtros.estado),e.models.filtros.pasarela!==ue["default"].TODOS&&(t.bancod=e.models.filtros.pasarela),a.n=1,J.$http.get("api/CobroController/getConceptoPagosOnline",{params:{params:t}});case 1:o=a.v,e.gridDetalle.rowData=o,e.gridDetalle.contador=o.length,e.$nextTick(function(){e.restoreFilterState()});case 2:return a.a(2)}},a)}))()},getData:function(){var e=this;return Y()(H()().m(function a(){return H()().w(function(a){while(1)switch(a.n){case 0:if(e.pageHeader.tabActive!==e.pageHeader.keys.general){a.n=1;break}return a.a(2,e.asignarFechas());case 1:return a.a(2,e.getPagosDetallados())}},a)}))()},exportarReporte:function(){var e=this,a={CBOORDEN:this.reporte.filtros.orden,FECINI:this.reporte.filtros.fechaInicio,FECFIN:this.reporte.filtros.fechaFinal,COBROBANCO:this.reporte.filtros.cobroBanco,FORMATO:this.reporte.formato,REPCOD:"pagos-pasarela",tipReport:"pagos-pasarela",TIPO:this.reporte.filtros.tipo,AGRUPAR:!1,USUCOD:(0,pe["default"])().usucod},t=this.data.cuentasBancarias.find(function(a){return a.NUMCTA===e.reporte.filtros.pasarela}),o=document.getElementById("form-reporte-pasarela");if(!t||0===Object.keys(t).length){var r=this.reporte.filtros.pasarelas.find(function(a){return a.value===e.reporte.filtros.pasarela});return this.$alert("La pasarela de pago ".concat(r.label," no tiene configurada el servicio bancario"),"warning")}for(var n in a.CBOBANCO="".concat(t.NUMCTA,"--").concat(t.BANCOD),a.FECINIOP=t.FECHA_INICIO,o.setAttribute("target","_blank"),o.setAttribute("method","POST"),o.setAttribute("action","/webservice/reporte-tesoreria/reporte"),a){var l=a[n];o.children[n]?o.children[n].value=l:o.appendChild(this.createHidden(n,l))}o.submit()},createHidden:function(e,a){var t=document.createElement("input");return t.setAttribute("type","hidden"),t.setAttribute("name",e),t.setAttribute("id",e),t.setAttribute("value",a),t},closeModalFin:function(e){this.$refs[e].hide()},getOrdenPagoAutomatico:function(){var e=this;return Y()(H()().m(function a(){return H()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,ue["default"].ORDEN_REPORTE_PAGOAUTOMATI();case 1:e.reporte.data.orden=a.v;case 2:return a.a(2)}},a)}))()},getConstantes:function(){var e=this;return Y()(H()().m(function a(){var t,o,r;return H()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,J.$http.get("api/bancoController/getCtaServicios",{params:{parametros:{response:"combo2"}}});case 1:return t=a.v,o={ID_CONSTANTE:[ue["default"].CONSTANTES_SISTEMA.P_PAGOEFECTIVO,ue["default"].CONSTANTES_SISTEMA.P_OPENPAY]},a.n=2,ue["default"].API_CONSTANTES_SISTEMAS(o);case 2:r=a.v,e.models.openpay=Object.keys(r).includes("P_OPENPAY")&&r.P_OPENPAY,e.models.pagoefectivo=Object.keys(r).includes("P_PAGOEFECTIVO")&&r.P_PAGOEFECTIVO,e.models.kashio=t.some(function(e){return e.BANCOD===ue["default"].BANCOS.KASHIO}),e.data.cuentasBancarias=t;case 3:return a.a(2)}},a)}))()},getPasarelasReporte:function(){var e=this;return Y()(H()().m(function a(){var t,o,r;return H()().w(function(a){while(1)switch(a.n){case 0:if(t=e.data.servicios.map(function(e){return{label:"".concat(e.BANCOD,"-").concat(e.DESCRIPCION,"-").concat(e.NUMCTA),value:e.NUMCTA,banco:e.BANCOD}}),e.reporte.filtros.pasarelas=t,0!==t.length){a.n=1;break}return a.a(2,!1);case 1:o=B()(t,1),r=o[0],e.reporte.filtros.pasarela=r.value;case 2:return a.a(2)}},a)}))()},verificarAdministrador:function(){var e=this;return Y()(H()().m(function a(){return H()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,J.$http.get("api/TesoreriaServiciosController/getVerificarUserAdmin");case 1:e.verificarAdmin=a.v,console.log("this.verificarAdmin:",e.verificarAdmin);case 2:return a.a(2)}},a)}))()},closeModalFecha:function(e){this.$refs[e].hide(),this.getPagosPasarela()},getPerfiles:function(){var e=this;return Y()(H()().m(function a(){return H()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,ue["default"].API_PERFILES();case 1:e.dataPerfiles=a.v;case 2:return a.a(2)}},a)}))()},getPersonas:function(){var e=this;return Y()(H()().m(function a(){return H()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,ue["default"].API_PERSONAS(e.selectPersona);case 1:e.dataPersonas=a.v,e.dataPersonas=[{label:"Todos",value:"T"}].concat(r()(e.dataPersonas));case 2:return a.a(2)}},a)}))()},obtenerEstadosApiRest:function(){var e=this;return Y()(H()().m(function a(){var t,o;return H()().w(function(a){while(1)switch(a.n){case 0:t={EXPIRADO:3,RECHAZADO:2},console.log("this.verificarAdmin: ",e.verificarAdmin),e.verificarAdmin&&(t=ue["default"].ESTADO_API_REST),o=Object.keys(t).map(function(e){var a={label:e.charAt(0).toUpperCase()+e.slice(1).toLowerCase().replace("_"," "),value:ue["default"].ESTADO_API_REST[e]};return a}),e.data.filtros.estado=[{label:"Todos",value:"T"}].concat(r()(o)),e.data.update.estado=r()(o);case 1:return a.a(2)}},a)}))()},getPagosPasarela:function(){var e=this;return Y()(H()().m(function a(){var t,o;return H()().w(function(a){while(1)switch(a.n){case 0:return t={anocob:e.models.filtros.anio,mescob:e.models.filtros.mes,fecini:(0,re.convertToYMD)(e.models.filtros.fechaini),fecfin:(0,re.convertToYMD)(e.models.filtros.fechafin)},e.models.filtros.pasarela!==ue["default"].TODOS&&(t.banco=e.models.filtros.pasarela),e.models.filtros.estado!==ue["default"].TODOS&&(t.estado=e.models.filtros.estado),a.n=1,J.$http.get("api/PagoController/getPagosPorPasarelas",{params:{params:t}});case 1:o=a.v,e.gridGeneral.rowData=o,e.gridGeneral.contador=o.length,e.$nextTick(function(){e.restoreFilterState()});case 2:return a.a(2)}},a)}))()},asignarFechas:function(){var e=this;return Y()(H()().m(function a(){var t,o,r;return H()().w(function(a){while(1)switch(a.n){case 0:if(e.models.filtros.anio&&e.models.filtros.mes){a.n=1;break}return a.a(2,!1);case 1:return t=e.models.filtros.mes,o=e.models.filtros.anio,r=new Date(o,t,0).getDate(),e.models.filtros.fechaini="01/".concat(t,"/").concat(o),e.models.filtros.fechafin="".concat(r,"/").concat(t,"/").concat(o),a.n=2,e.getPagosPasarela();case 2:return a.a(2)}},a)}))()},abrirModalFormatos:function(){var e=this;return Y()(H()().m(function a(){return H()().w(function(a){while(1)switch(a.n){case 0:e.reporte.modal=!0;case 1:return a.a(2)}},a)}))()},cambiarEstadoCip:function(){var e=this.gridGeneral.api.getSelectedRows();if(!e||0===e.length)return this.$alert("No seleccionó ningún registro","warning");this.modals.actualizarEstado=!0},crearBotones:function(){var e=this;return Y()(H()().m(function a(){var t,o;return H()().w(function(a){while(1)switch(a.n){case 0:t=e.pageHeader.tabActive===e.pageHeader.keys.general,o=[],t&&o.push({label:"Cambiar Estado",icon:"sync",click:e.cambiarEstadoCip,minAcceso:ue["default"].ACCESO_TOTAL}),o.push({label:"Imprimir",icon:"print_r",click:e.abrirModalFormatos,minAcceso:ue["default"].SOLO_LECTURA},{label:"Exportar Excel",icon:"file_excel",click:e.exportarExcel,minAcceso:ue["default"].SOLO_LECTURA}),o.push({label:"Reenviar Pago",icon:"replay",click:e.reenviarPagos,minAcceso:ue["default"].ACCESO_TOTAL}),e.verificarAdmin&&t&&(e.models.openpay&&o.push({label:"Log OpenPay",icon:"file_document",click:e.verLogOpenpay,minAcceso:ue["default"].ACCESO_TOTAL}),e.models.pagoefectivo&&o.push({label:"Log PagoEfectivo",icon:"file_document",click:e.verLogPagoEfectivo,minAcceso:ue["default"].ACCESO_TOTAL}),e.models.kashio&&o.push({label:"Log Kashio",icon:"file_document",click:e.verLogKashio,minAcceso:ue["default"].ACCESO_TOTAL})),e.pageHeader.botones=o,e.columns();case 1:return a.a(2)}},a)}))()},verLogOpenpay:function(){window.open("".concat(window.location.origin,"/log_openpay.txt"))},verLogPagoEfectivo:function(){window.open("".concat(window.location.origin,"/log_pagoefectivo.txt"))},verLogKashio:function(){window.open("".concat(window.location.origin,"/log_kashio.txt"))},getBodyPagoPasarela:function(e,a){return Y()(H()().m(function t(){var o;return H()().w(function(t){while(1)switch(t.n){case 0:if(e.BANCOD!==ue["default"].BANCOS.PEFECTIVO){t.n=1;break}return o=new Date,t.a(2,{eventType:ue["default"].PARAMETROS_PASARELA.REGULARIZACION,operationNumber:"".concat(o.getDate()).concat(o.getMonth()).concat(o.getFullYear()),data:{cip:e.CODIGO_PAGO,currency:a,amount:e.TOTAL}});case 1:if(e.BANCOD!==ue["default"].BANCOS.OPENPAY){t.n=2;break}return t.a(2,{type:ue["default"].PARAMETROS_PASARELA.REGULARIZACION,event_date:j.Ay,transaction:{id:e.HASH_PAGO,order_id:e.CODIGO_PAGO,amount:e.TOTAL,payment_method:{type:"redirect",url:e.URL_PAGO},currency:a,method:"card",authorization:""}});case 2:if(e.BANCOD!==ue["default"].BANCOS.KASHIO){t.n=3;break}return t.a(2,{data:{type:"hyo.reg",event_date:new Date,codigo_pago:e.CODIGO_PAGO,operacion:e.CODIGO_PAGO,transaction:{id:e.CODIGO_PAGO,order_id:e.CODIGO_PAGO,amount:1e3,payment_method:{type:"redirect",url:""},currency:a,method:"card",authorization:""}}});case 3:return t.a(2)}},t)}))()},reenviarPagos:function(){var e=this;return Y()(H()().m(function a(){var t,o,r;return H()().w(function(a){while(1)switch(a.n){case 0:if(t=e.gridGeneral.api.getSelectedRows(),o=t.length,0!==o){a.n=1;break}return a.a(2,e.$alert("No se selecciono ningun registro","warning"));case 1:t.sort(function(e,a){return new Date(e.FECGEN)-new Date(a.FECGEN)}),r={},r[ue["default"].BANCOS.PEFECTIVO]="postPagarPagoEfectivo",r[ue["default"].BANCOS.OPENPAY]="postPagarOpenpay",r[ue["default"].BANCOS.KASHIO]="postPagarKashio",e.$confirm("¿Esta seguro de reintentar el pago de los (".concat(o,") Items seleccionados?")).onOk(Y()(H()().m(function a(){var n,l,i,s,c,u,d,f,p,m;return H()().w(function(a){while(1)switch(a.p=a.n){case 0:a.p=0,e.$q.loading.show(),n=L()(t),a.p=1,n.s();case 2:if((l=n.n()).done){a.n=9;break}if(i=l.value,[Number(ue["default"].ESTADO_API_REST.EXPIRADO),Number(ue["default"].ESTADO_API_REST.RECIBIDO),Number(ue["default"].ESTADO_API_REST.POR_EMITIR)].includes(Number(i.ESTADO))||ue["default"].USUARIOS_ADMIN.includes((0,pe["default"])().usucod)){a.n=3;break}throw new Error("Sólo se puede reenviar códigos por regularizar");case 3:return a.n=4,e.getBodyPagoPasarela(i,"PEN");case 4:return s=a.v,c=i.CODIGO_PAGO,a.p=5,u="".concat(window.location.origin,"/").concat(J.API_LMS,"/api/ServicioPagoTesoreriaController/").concat(r[i.BANCOD]),a.n=6,J.$http.post(u,s);case 6:a.n=8;break;case 7:return a.p=7,f=a.v,d="Ha ocurrido un problema con el código de pago ".concat(c,": <br> ").concat(f.message),1===o&&(d=f.message),e.$q.loading.hide(),a.a(2,e.$alert(d,"warning",1));case 8:a.n=2;break;case 9:a.n=11;break;case 10:a.p=10,p=a.v,n.e(p);case 11:return a.p=11,n.f(),a.f(11);case 12:return e.$q.loading.hide(),a.a(2,e.$alert("(".concat(o,") Items Pagados Satisfactoriamente"),"success"));case 13:a.p=13,m=a.v,e.$alert(m.error?m.error.message:m.message,"warning"),e.$q.loading.hide();case 14:return a.p=14,e.getPagosPasarela(),e.$q.loading.hide(),a.f(14);case 15:return a.a(2)}},a,null,[[5,7],[1,10,11,12],[0,13,14,15]])})));case 2:return a.a(2)}},a)}))()},exportarExcel:function(){var e=this;return Y()(H()().m(function a(){var t,o,r,n,l;return H()().w(function(a){while(1)switch(a.p=a.n){case 0:return a.p=0,t=e.pageHeader.tabActive===e.pageHeader.keys.general?e.gridGeneral.rowData:e.gridDetalle.rowData,o={data:t,anio:e.models.filtros.anio,mes:e.models.filtros.mes,detallado:e.pageHeader.tabActive===e.pageHeader.keys.detallado},a.n=1,J.$http.post("api/cobroController/postGenerarExcelPagosPasarela",{params:o});case 1:return r=a.v,n='{"name":"'.concat(r.filename,'","ruta":"').concat(r.ruta,'","tipo":"xlsx"}'),a.n=2,ue["default"].DESCARGAR_ARCHIVO(n);case 2:e.$alert("Archivo Descargado Satisfactoriamente","success"),a.n=4;break;case 3:a.p=3,l=a.v,e.$alert(l.error?l.error.message:l.message,"warning");case 4:return a.a(2)}},a,null,[[0,3]])}))()},validarCambioEstado:function(e){var a=ue["default"].ESTADO_API_REST;if(e.ESTADO!==a.PENDIENTE&&this.estadoActualizar===a.EXPIRADO)throw new Error("Solo se puede expirar Items pendientes");return!0},cambiarEstado:function(){var e=this;return Y()(H()().m(function a(){var t,o;return H()().w(function(a){while(1)switch(a.n){case 0:if(t=e.gridGeneral.api.getSelectedRows(),o=t.length,0!==o){a.n=1;break}return a.a(2,e.$alert("No se selecciono ningun registro","warning"));case 1:e.$confirm("¿Esta seguro de actualizar (".concat(o,") Items?")).onOk(Y()(H()().m(function a(){var r,n,l,i,s,c,u,d,f,p;return H()().w(function(a){while(1)switch(a.p=a.n){case 0:a.p=0,e.$q.loading.show(),r={errores:[],correctamente:[]},n=L()(t),a.p=1,n.s();case 2:if((l=n.n()).done){a.n=7;break}return i=l.value,a.p=3,e.validarCambioEstado(i),a.n=4,J.$http.put("api/cobroController/putPagoPasarela",{params:{estado:e.models.estadoActualizar,codigo_pago:i.CODIGO_PAGO}});case 4:s=a.v,r.correctamente.push(s),a.n=6;break;case 5:a.p=5,d=a.v,r.errores.push(d.error?d.error.message:d.message);case 6:a.n=2;break;case 7:a.n=9;break;case 8:a.p=8,f=a.v,n.e(f);case 9:return a.p=9,n.f(),a.f(9);case 10:if(0!==r.correctamente.length||1!==r.errores.length){a.n=11;break}return c=B()(r.errores,1),u=c[0],a.a(2,e.$alert(u,"warning",!0));case 11:if(!(r.correctamente.length>0&&0===r.errores.length)){a.n=12;break}return a.a(2,e.$alert("(".concat(o,") Items Actualizados Satisfactoriamente"),"success",!0));case 12:if(!(0===r.correctamente.length&&r.errores.length>0)){a.n=13;break}return a.a(2,e.$alert("(".concat(o,") Items No Actualizados"),"success",!0));case 13:if(!(r.correctamente.length>0&&r.errores.length>0)){a.n=14;break}return a.a(2,e.$alert("(".concat(r.correctamente.length,") Items Actualizados Satisfactoriamente <br> <br> (").concat(r.errores.length,") Items No Actualizados"),"success",!0));case 14:a.n=16;break;case 15:a.p=15,p=a.v,e.$alert(p.error?p.error.message:p.message),e.$q.loading.hide();case 16:return a.p=16,e.getPagosPasarela(),e.$q.loading.hide(),a.f(16);case 17:return a.a(2)}},a,null,[[3,5],[1,8,9,10],[0,15,16,17]])})));case 2:return a.a(2)}},a)}))()},getAnios:function(){var e=this;return Y()(H()().m(function a(){return H()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,ue["default"].API_ANIOS();case 1:e.data.filtros.anios=a.v;case 2:return a.a(2)}},a)}))()},getMeses:function(){var e=this;return Y()(H()().m(function a(){return H()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,ue["default"].MESES();case 1:e.data.filtros.meses=a.v;case 2:return a.a(2)}},a)}))()},onGridReadyGeneral:function(e){this.gridGeneral.api=e.api},onGridReadyDetallado:function(e){this.gridDetalle.api=e.api},columnsDetalle:function(){var e=[{field:"CODIGO_PAGO",headerName:"Código Pago / CIP",width:150},{field:"ESTADODES",headerName:"Estado",width:100},{field:"PERFIL_DEUDA",headerName:"Perfil",width:100},{field:"NOMBRE",headerName:"Apellidos y Nombres",width:316},{field:"BANCO",headerName:"Pasarela",width:100},{field:"CONCEPTO",headerName:"Concepto",width:300},{field:"MONSIG",headerName:"",width:40},{field:"MONTOCOB",headerName:"Monto",valueFormatter:le.toFixed,decimales:2,cellStyle:{textAlign:"right"},width:80}];this.gridDetalle.columnDefs=e},columns:function(){var e=this;return Y()(H()().m(function a(){var t;return H()().w(function(a){while(1)switch(a.n){case 0:t=[{field:"CODIGO_PAGO",headerName:"Código Pago / CIP",width:150},{field:"ESTADO_PAGO",headerName:"Estado",width:100},{field:"PERFIL",headerName:"Perfil",width:100},{field:"NOMBRE",headerName:"Apellidos y Nombres",width:316},{field:"BANCO",headerName:"Pasarela",width:100},{field:"FECGEN",headerName:"Fecha Gen.",valueFormatter:function(e){return(0,j.Ay)(e.value,"DD/MM/YYYY hh:mm:ss")},width:150},{field:"FECPAG",headerName:"Fecha Pago",valueFormatter:function(e){return(0,j.Ay)(e.value,"DD/MM/YYYY hh:mm:ss")},width:150},{field:"MONSIG",headerName:"",width:40},{field:"TOTAL",headerName:"Total",valueFormatter:le.toFixed,decimales:2,cellStyle:{textAlign:"right"},width:80},{headerName:"Ver",cellRenderer:oe.A,cellRendererParams:{icon:"remove_red_eye",onClick:e.visualizarDetalle},width:50,filter:!1},{headerName:"URL",field:"URL_PAGO",cellRenderer:oe.A,cellRendererParams:{icon:"link",onClick:e.visualizarUrl},width:50,filter:!1}],e.models.kashio&&t.push({headerName:"Info",cellRenderer:oe.A,cellRendererParams:{title:"info",icon:"search",onClick:e.infoKashio},width:50,filter:!1}),e.gridGeneral.columnDefs=t;case 1:return a.a(2)}},a)}))()},getInfoKashio:function(e){return Y()(H()().m(function a(){return H()().w(function(a){while(1)switch(a.n){case 0:return a.a(2,J.$http.get("api/HyoCobros/getKashioInfo",{params:{hash_pago:e}}))}},a)}))()},infoKashio:function(e){var a=this;return Y()(H()().m(function t(){var o,r;return H()().w(function(t){while(1)switch(t.n){case 0:if(e.data.BANCOD===ue["default"].BANCOS.KASHIO){t.n=1;break}return t.a(2,!0);case 1:return a.$q.loading.show(),t.n=2,a.getInfoKashio(e.data.HASH_PAGO);case 2:o=t.v,ue["default"].USUARIOS_ADMIN.includes((0,pe["default"])().usucod)&&(0,pe["default"])().ruta.nivel===ue["default"].ACCESO_TOTAL&&console.log("getInfo:",JSON.parse(o.json)),r=JSON.parse(o.json),a.dataInfoKashio.amount=r.amount,a.dataInfoKashio.fees=r.fees,a.dataInfoKashio.late_fee=r.late_fee,a.dataInfoKashio.order_description=r.metadata.order_description,a.dataInfoKashio.status=r.status,a.dataInfoKashio.sub_total=r.sub_total,a.$q.loading.hide(),a.modals.infoKashio=!0;case 3:return t.a(2)}},t)}))()},visualizarDetalle:function(e){var a=this;return Y()(H()().m(function t(){var o,r,n,l,i,s,c;return H()().w(function(t){while(1)switch(t.n){case 0:return o=e.data,r={CODIGO_PAGO:o.CODIGO_PAGO},t.n=1,J.$http.get("api/CobroController/getDetallePagoOnline",{params:{params:r}});case 1:n=t.v,l=0,i=L()(n);try{for(i.s();!(s=i.n()).done;)c=s.value,a.models.mDetalle.moneda=c.MONSIG,l+=Number(c.MONTOPAG)}catch(e){i.e(e)}finally{i.f()}a.models.mDetalle.total=l.toFixed(2),a.models.mDetalle.titleDetalle={CLIENTE:o.NOMBRE,CODIGO:o.CODIGO_PAGO},a.data.dataConceptosDetalle=n,a.modals.detalle=!0;case 2:return t.a(2)}},t)}))()},visualizarUrl:function(e){var a=e.data,t=a.BANCOD===ue["default"].BANCOS.OPENPAY;this.modals.viewCip=!t,this.models.linkCip=a.URL_PAGO,t&&window.open(a.URL_PAGO,a.BANCO,"toolbar=0,scrollbars=0,location=0,statusbar=0,menubar=0,resizable=1,width=800,height=800,left = 390,top = 50")},getServicios:function(){var e=this;return Y()(H()().m(function a(){var t;return H()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,J.$http.get("api/bancoController/getServiciosBancarios",{params:{params:{join:{banco:!0,servicio_banco:!0}}}});case 1:t=a.v,e.data.servicios=t,e.getPasarelasReporte();case 2:return a.a(2)}},a)}))()}},beforeMount:function(){var e=this;return Y()(H()().m(function a(){var t,o,r;return H()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,J.$http.get("api/bancoController/getCtaServicios",{params:{parametros:{response:"combo2"}}});case 1:return t=a.v,o={ID_CONSTANTE:[ue["default"].CONSTANTES_SISTEMA.P_PAGOEFECTIVO,ue["default"].CONSTANTES_SISTEMA.P_OPENPAY]},a.n=2,ue["default"].API_CONSTANTES_SISTEMAS(o);case 2:return r=a.v,e.models.openpay=Object.keys(r).includes("P_OPENPAY")&&r.P_OPENPAY,e.models.pagoefectivo=Object.keys(r).includes("P_PAGOEFECTIVO")&&r.P_PAGOEFECTIVO,e.models.kashio=t.some(function(e){return e.BANCOD===ue["default"].BANCOS.KASHIO}),e.data.cuentasBancarias=t,a.n=3,e.verificarAdministrador();case 3:return a.n=4,e.crearBotones();case 4:return a.n=5,e.obtenerEstadosApiRest();case 5:return a.a(2)}},a)}))()},mounted:function(){this.getServicios(),this.columnsDetalle(),this.columns(),this.getAnios(),this.getMeses(),this.asignarFechas(),this.getOrdenPagoAutomatico(),this.getPagosDetallados()},created:function(){return Y()(H()().m(function e(){return H()().w(function(e){while(1)switch(e.n){case 0:return e.a(2)}},e)}))()}},ge=t(12807);const be=(0,ge.A)(he,[["render",R]]);var Ae=be}}]);