"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[70291],{70291:function(e,o,a){a.r(o),a.d(o,{default:function(){return je}});var r=a(8445),n=a.n(r),t=(a(56285),a(61758)),l=a(58790),i={class:"row items-center no-wrap"},s={class:"col"},u={class:"text-h6",style:{"font-size":"1.1rem","font-weight":"bold","padding-left":"16px"}},c={class:"col-auto"},d={class:"row"},m={class:"row col-xs-6 col-md-6"},f={class:"col-xs-6 col-md-3"},O={class:"col-xs-3 col-md-1"},p={class:"col-xs-3 col-md-2"},I={class:"col-xs-6 col-md-6"},C={class:"col-xs-6 col-md-3"},D={class:"col-xs-6 col-md-3"},A={class:"col-xs-6 col-md-3"},N={class:"col-xs-6 col-md-3"},h={class:"col-xs-6 col-md-3"},v={class:"col-xs-6 col-md-3"},R={class:"col-xs-6 col-md-3"},b={class:"col-xs-6 col-md-3"},g={class:"col-xs-3 col-md-3"},T={class:"col-xs-6 col-md-3"},E={class:"row col-xs-12 col-md-12"},S={class:"col-xs-12 col-md-6"},V={class:"col-xs-6 col-md-3"},U={class:"col-xs-6 col-md-3"},F={class:"col-xs-3 col-md-3"},P={class:"col-xs-6 col-md-3"},w={class:"row col-sm-12"},k={class:"col-xs-6 col-md-3"},H={class:"col-xs-6 col-md-3"},M={class:"col-xs-12 col-md-12"},q={key:2,class:"col-xs-12 col-md-12"},L={key:3,class:"col-xs-12 row"},x={key:0,class:"col-xs-8 row"},$={class:"col-xs-6 col-md-6"},y={class:"col-xs-6 col-md-6"},G={class:"col-xs-4"},_={class:"col-xs-12 col-md-12 row"},Q={class:"col-xs-6 col-md-6"},Y={class:"col-xs-6 col-md-6"},B={key:4,class:"col-xs-12 col-md-12"};function X(e,o){var a=this,r=(0,t.g2)("crearBotones"),X=(0,t.g2)("q-separator"),j=(0,t.g2)("sie-select"),W=(0,t.g2)("sie-table"),z=(0,t.g2)("q-card"),J=(0,t.g2)("autocomplete"),K=(0,t.g2)("q-select"),Z=(0,t.g2)("q-toggle"),ee=(0,t.g2)("q-input"),oe=(0,t.g2)("q-datetime"),ae=(0,t.g2)("q-field"),re=(0,t.g2)("old-select"),ne=(0,t.g2)("q-chip"),te=(0,t.g2)("q-icon"),le=(0,t.g2)("q-form"),ie=(0,t.g2)("sie-modal"),se=(0,t.g2)("q-page");return(0,t.uX)(),(0,t.Wv)(se,{style:{background:"#ededed"}},{default:(0,t.k6)(function(){return[(0,t.bF)(z,{class:"q-ma-sm"},{default:(0,t.k6)(function(){return[(0,t.Lk)("div",i,[(0,t.Lk)("div",s,[(0,t.Lk)("div",u,"Mantenimiento de Cursos (Periodo vigente: "+(0,l.v_)(e.durades)+")",1)]),(0,t.Lk)("div",c,[(0,t.bF)(r,{option:e.name,buttons:e.buttons,nivelAcceso:e.nivelAcceso},null,8,["option","buttons","nivelAcceso"])])]),(0,t.bF)(X),(0,t.Lk)("div",d,[(0,t.bF)(j,{class:"q-pa-sm col-sm-3",type:"outlined",modelValue:e.duracod,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.duracod=o}),val:"DURACOD",label:"DURADES",options:e.optPeriodo,readonly:!1,placeholder:"Periodo",onInput:o[1]||(o[1]=function(o){return e.cambiarPeriodo(1)})},null,8,["modelValue","options"]),(0,t.bF)(j,{class:"q-pa-sm col-sm-3",type:"outlined",modelValue:e.idPrograma,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.idPrograma=o}),val:"TIPOCOD",label:"TIPODES",options:e.optionTipoFiltro,readonly:!1,placeholder:"Programa",onInput:o[3]||(o[3]=function(o){return e.cambiarPrograma()})},null,8,["modelValue","options"]),(0,t.bF)(j,{class:"q-pa-sm col-sm-3",type:"outlined",modelValue:e.gruvacod,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.gruvacod=o}),val:"GRUVACOD",label:"GRUVADES",options:e.optGrupos,readonly:!1,placeholder:"Grupo"},null,8,["modelValue","options"]),(0,t.bF)(j,{class:"q-pa-sm col-sm-3",type:"outlined",modelValue:e.estadoTaller,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.estadoTaller=o}),val:"ESTADO",label:"ESTADODES",options:e.optEstadoTaller,readonly:!1,placeholder:"Estado"},null,8,["modelValue","options"])]),(0,t.bF)(W,{context:a,permiso:"> 1",css:"height: calc(100vh - 200px)",search:"Buscar","save-cells":"",columns:e.columnDefs,data:e.rowData,config:e.config,"show-refresh":!0,onRefresh:e.cambiarPeriodo},null,8,["columns","data","config","onRefresh"])]}),_:1}),(0,t.bF)(ie,{escClick:!0,loading:e.cargando,esc:!0,css:{width:"90vw"},modelValue:e.modalAdd,"onUpdate:modelValue":o[43]||(o[43]=function(o){return e.modalAdd=o}),title:"Agregar Curso",onSubmit:e.grabar},{default:(0,t.k6)(function(){return[(0,t.bF)(le,{class:"q-pa-sm row",ref:"form"},{default:(0,t.k6)(function(){return[(0,t.Lk)("div",m,[(0,t.bF)(J,{class:"row q-pt-xs col-md-12",modelValue:e.form.CURSODES,"onUpdate:modelValue":o[6]||(o[6]=function(o){return e.form.CURSODES=o}),data:e.optionCurso,label:"Curso",keys:e.keysComplete,onSelected:e.cambiaCurso},null,8,["modelValue","data","keys","onSelected"])]),(0,t.bF)(K,{class:"q-pa-xs col-xs-6 col-md-3","option-value":"TIPOCOD","option-label":"TIPODES",dense:!0,modelValue:e.form.TIPOCOD,"onUpdate:modelValue":o[7]||(o[7]=function(o){return e.form.TIPOCOD=o}),error:e.v$.form.TIPOCOD.$error,options:e.optionTipo,label:"Programa",onInput:e.getGrupo},null,8,["modelValue","error","options","onInput"]),(0,t.bF)(K,{class:"q-pa-xs col-xs-6 col-md-3",error:e.v$.form.GRUVACOD.$error,"option-value":"GRUVACOD","option-label":"GRUVADES",dense:!0,modelValue:e.form.GRUVACOD,"onUpdate:modelValue":o[8]||(o[8]=function(o){return e.form.GRUVACOD=o}),options:e.optionGrupo,label:"Grupo de Curso"},null,8,["error","modelValue","options"]),(0,t.Lk)("div",f,[(0,t.bF)(K,{class:"q-pa-xs",dense:!0,onInput:e.cambiaTipocob,modelValue:e.form.TIPOCOB,"onUpdate:modelValue":o[9]||(o[9]=function(o){return e.form.TIPOCOB=o}),error:e.v$.form.TIPOCOB.$error,"optioni-value":"value","option-label":"label",options:e.optionCobro,label:"Tipo Cobro"},null,8,["onInput","modelValue","error","options"])]),(0,t.Lk)("div",O,[(0,t.bF)(K,{class:"q-pa-xs",dense:!0,modelValue:e.form.CERRADO,"onUpdate:modelValue":o[10]||(o[10]=function(o){return e.form.CERRADO=o}),options:e.optionSiNo,label:"Cerrado"},null,8,["modelValue","options"])]),(0,t.Lk)("div",p,[(0,t.bF)(Z,{class:"q-pa-xs col",label:"Anulación Automática",color:"green","false-value":2,"true-value":1,modelValue:e.form.FL_ANULACION,"onUpdate:modelValue":o[11]||(o[11]=function(o){return e.form.FL_ANULACION=o})},null,8,["modelValue"])]),(0,t.Lk)("div",I,[(0,t.bF)(ee,{class:"q-if-outlined q-pa-xs",dense:!0,modelValue:e.form.REQUISITOS,"onUpdate:modelValue":o[12]||(o[12]=function(o){return e.form.REQUISITOS=o}),"float-label":e.labelRequisitos,onInput:e.cambiarRequisito},null,8,["modelValue","float-label","onInput"])]),(0,t.Lk)("div",C,[(0,t.bF)(ee,{class:"q-if-outlined q-pa-xs",dense:!0,modelValue:e.form.MONTOCUR,"onUpdate:modelValue":o[13]||(o[13]=function(o){return e.form.MONTOCUR=o}),"float-label":"Monto Alumno",disable:"G"==e.form.TIPOCOB,type:"number",onBlur:e.copyMonto},null,8,["modelValue","disable","onBlur"])]),(0,t.Lk)("div",D,[(0,t.bF)(ee,{class:"q-if-outlined q-pa-xs",dense:!0,modelValue:e.form.MONTOCURE,"onUpdate:modelValue":o[14]||(o[14]=function(o){return e.form.MONTOCURE=o}),"float-label":"Monto Externo",disable:"G"==e.form.TIPOCOB,type:"number"},null,8,["modelValue","disable"])]),(0,t.Lk)("div",A,[(0,t.bF)(ee,{class:"q-if-outlined q-pa-xs",dense:!0,modelValue:e.form.MONTOCURT,"onUpdate:modelValue":o[15]||(o[15]=function(o){return e.form.MONTOCURT=o}),"float-label":"Monto Trabajador",disable:"G"==e.form.TIPOCOB,type:"number"},null,8,["modelValue","disable"])]),(0,t.Lk)("div",N,[(0,t.bF)(ee,{class:"q-if-outlined q-pa-xs",dense:!0,modelValue:e.form.MONTOCURH,"onUpdate:modelValue":o[16]||(o[16]=function(o){return e.form.MONTOCURH=o}),"float-label":"Monto Hijo del Trabajador",disable:"G"==e.form.TIPOCOB,type:"number"},null,8,["modelValue","disable"])]),(0,t.Lk)("div",h,[(0,t.bF)(K,{class:"q-pa-xs","option-value":"ID_PERSONA","option-label":"NOMCOMP",dense:!0,modelValue:e.form.ID_PERSONA,"onUpdate:modelValue":o[17]||(o[17]=function(o){return e.form.ID_PERSONA=o}),options:e.optionProfe,label:"Profesor"},null,8,["modelValue","options"])]),(0,t.Lk)("div",v,[(0,t.bF)(K,{class:"q-pa-xs","option-value":"AULACOD","option-label":"AULADES",dense:!0,modelValue:e.form.AULACOD,"onUpdate:modelValue":o[18]||(o[18]=function(o){return e.form.AULACOD=o}),options:e.optionAula,label:"Aula"},null,8,["modelValue","options"])]),(0,t.Lk)("div",R,[(0,t.bF)(ae,{class:"col",icon:"calendar"},{default:(0,t.k6)(function(){return[(0,t.bF)(oe,{class:"col q-if-outlined",modelValue:e.form.FECINI,"onUpdate:modelValue":o[19]||(o[19]=function(o){return e.form.FECINI=o}),error:!!e.v$.form.FECINI.$error,format:"DD/MM/YYYY","float-label":"Fecha Inicio",onInput:o[20]||(o[20]=function(o){return e.validateFecha(e.form.FECINI,e.form.FECFIN,"ini")})},null,8,["modelValue","error"])]}),_:1})]),(0,t.Lk)("div",b,[(0,t.bF)(ae,{class:"col",icon:"calendar"},{default:(0,t.k6)(function(){return[(0,t.bF)(oe,{class:"q-if-outlined col",modelValue:e.form.FECFIN,"onUpdate:modelValue":o[21]||(o[21]=function(o){return e.form.FECFIN=o}),error:!!e.v$.form.FECFIN.$error,format:"DD/MM/YYYY","float-label":"Fecha Fin",onInput:o[22]||(o[22]=function(o){return e.validateFecha(e.form.FECINI,e.form.FECFIN,"fin")})},null,8,["modelValue","error"])]}),_:1})]),(0,t.Lk)("div",g,[(0,t.bF)(Z,{class:"q-pa-xs",label:1===e.form.TIPOHORARIO?"Horario Único":"Horario por Día",color:"green","false-value":2,"true-value":1,modelValue:e.form.TIPOHORARIO,"onUpdate:modelValue":o[23]||(o[23]=function(o){return e.form.TIPOHORARIO=o}),onInput:e.cambiarTipoHorario},null,8,["label","modelValue","onInput"])]),1===e.form.TIPOHORARIO?((0,t.uX)(),(0,t.CE)(t.FK,{key:0},[(0,t.Lk)("div",T,[(0,t.bF)(ee,{class:"q-if-outlined q-pa-xs",dense:!0,modelValue:e.form.VACANTES,"onUpdate:modelValue":o[24]||(o[24]=function(o){return e.form.VACANTES=o}),error:e.v$.form.VACANTES.$error,"float-label":"Vacantes",type:"number"},null,8,["modelValue","error"])]),(0,t.Lk)("div",E,[(0,t.Lk)("div",S,[(0,t.bF)(re,{class:"q-if-outlined q-pa-xs",modelValue:e.form.DIAS,"onUpdate:modelValue":o[25]||(o[25]=function(o){return e.form.DIAS=o}),error:e.v$.form.DIAS.$error,multiple:"",options:e.optionDias,"float-label":"Días",onInput:e.elijeDia},null,8,["modelValue","error","options","onInput"])]),(0,t.Lk)("div",V,[(0,t.bF)(ae,{class:"col",icon:"watch_later"},{default:(0,t.k6)(function(){return[(0,t.bF)(oe,{class:"col q-if-outlined",modelValue:e.form.HORAINI,"onUpdate:modelValue":o[26]||(o[26]=function(o){return e.form.HORAINI=o}),error:!!e.v$.form.HORAINI.$error,type:"time",format:"hh:mm A","float-label":"Hora Inicio",onInput:o[27]||(o[27]=function(o){return e.validateHora(e.form.HORAINI,e.form.HORAFIN,"ini")})},null,8,["modelValue","error"])]}),_:1})]),(0,t.Lk)("div",U,[(0,t.bF)(ae,{class:"col",icon:"watch_later"},{default:(0,t.k6)(function(){return[(0,t.bF)(oe,{class:"col q-if-outlined",modelValue:e.form.HORAFIN,"onUpdate:modelValue":o[28]||(o[28]=function(o){return e.form.HORAFIN=o}),error:!!e.v$.form.HORAFIN.$error,type:"time",format:"hh:mm A","float-label":"Hora Fin",ref:"refHoraFin",onInput:o[29]||(o[29]=function(o){return e.validateHora(e.form.HORAINI,e.form.HORAFIN,"fin")})},null,8,["modelValue","error"])]}),_:1})])])],64)):((0,t.uX)(),(0,t.CE)(t.FK,{key:1},[(0,t.Lk)("div",F,[(0,t.Lk)("span",{onClick:o[30]||(o[30]=function(){return e.agregarHorario&&e.agregarHorario.apply(e,arguments)})},[(0,t.bF)(ne,{class:"cursor-pointer q-ma-sm q-pa-md q-pa-xs",color:"secondary","text-color":"white",icon:"access_time"},{default:(0,t.k6)(function(){return n()(o[44]||(o[44]=[(0,t.eW)("Agregar Horario",-1)]))}),_:1})])]),(0,t.Lk)("div",P,[(0,t.bF)(ee,{class:"q-if-outlined q-pa-xs",dense:!0,modelValue:e.form.VACANTES,"onUpdate:modelValue":o[31]||(o[31]=function(o){return e.form.VACANTES=o}),error:e.v$.form.VACANTES.$error,"float-label":"Vacantes"},null,8,["modelValue","error"])]),((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.horarioDias,function(o,a){return(0,t.uX)(),(0,t.CE)("div",w,[(0,t.bF)(K,{class:"q-pa-xs col-xs-3 col-md-3",dense:!0,outlined:"",modelValue:o.DIA,"onUpdate:modelValue":function(e){return o.DIA=e},options:e.optionDias,"stack-label":"",label:"Día"},null,8,["modelValue","onUpdate:modelValue","options"]),(0,t.Lk)("div",k,[(0,t.bF)(ae,{class:"col",icon:"watch_later"},{default:(0,t.k6)(function(){return[(0,t.bF)(oe,{class:"col q-if-outlined",modelValue:o.HORAINI,"onUpdate:modelValue":function(e){return o.HORAINI=e},type:"time",format:"hh:mm A","float-label":"Hora Inicio"},null,8,["modelValue","onUpdate:modelValue"])]}),_:2},1024)]),(0,t.Lk)("div",H,[(0,t.bF)(ae,{class:"col",icon:"watch_later"},{default:(0,t.k6)(function(){return[(0,t.bF)(oe,{class:"col q-if-outlined",modelValue:o.HORAFIN,"onUpdate:modelValue":function(e){return o.HORAFIN=e},type:"time",format:"hh:mm A","float-label":"Hora Fin"},null,8,["modelValue","onUpdate:modelValue"])]}),_:2},1024)]),(0,t.bF)(te,{class:"q-pa-sm",name:"delete",size:"2.4em",onClick:function(r){return e.deleteHora(a,o)}},null,8,["onClick"])])}),256))],64)),(0,t.Lk)("div",M,[(0,t.bF)(K,{class:"q-pa-xs",dense:!0,modelValue:e.form.TIPOCONDICION,"onUpdate:modelValue":o[32]||(o[32]=function(o){return e.form.TIPOCONDICION=o}),options:e.optionCondicion,label:"Curso por:",onInput:e.cambiaCondicion},null,8,["modelValue","options","onInput"])]),1===e.form.TIPOCONDICION?((0,t.uX)(),(0,t.CE)("div",q,[(0,t.bF)(re,{class:"q-if-outlined q-pa-xs",onChange:e.cambiaNivel,"use-chips":"",multiple:"",dense:!0,error:e.v$.form.CONDICION.$error,modelValue:e.form.CONDICION,"onUpdate:modelValue":o[33]||(o[33]=function(o){return e.form.CONDICION=o}),options:e.optionNivel,"float-label":"Grados"},null,8,["onChange","error","modelValue","options"])])):(0,t.Q3)("v-if",!0),2===e.form.TIPOCONDICION?((0,t.uX)(),(0,t.CE)("div",L,[e.RANGOEDAD?((0,t.uX)(),(0,t.CE)("div",x,[(0,t.Lk)("div",$,[(0,t.bF)(ee,{class:"q-if-outlined q-pa-xs",error:e.v$.form.EDADINI.$error,dense:!0,modelValue:e.form.EDADINI,"onUpdate:modelValue":o[34]||(o[34]=function(o){return e.form.EDADINI=o}),"float-label":"Edad Inicio",onInput:o[35]||(o[35]=function(o){return e.rangoEdad("EDADINI")})},null,8,["error","modelValue"])]),(0,t.Lk)("div",y,[(0,t.bF)(ee,{class:"q-if-outlined q-pa-xs",error:e.v$.form.EDADFIN.$error,dense:!0,modelValue:e.form.EDADFIN,"onUpdate:modelValue":o[36]||(o[36]=function(o){return e.form.EDADFIN=o}),"float-label":"Edad Fin",onInput:o[37]||(o[37]=function(o){return e.rangoEdad("EDADFIN")})},null,8,["error","modelValue"])])])):((0,t.uX)(),(0,t.Wv)(re,{key:1,class:"col-xs-8 row q-if-outlined q-pa-xs","use-chips":"",multiple:"",dense:!0,error:e.v$.form.CONDICION.$error,modelValue:e.form.CONDICION,"onUpdate:modelValue":o[38]||(o[38]=function(o){return e.form.CONDICION=o}),options:e.optionEdad,"float-label":"Edades"},null,8,["error","modelValue","options"])),(0,t.Lk)("div",G,[(0,t.bF)(ae,{class:"col",icon:"calendar"},{default:(0,t.k6)(function(){return[(0,t.bF)(oe,{class:"col q-if-outlined",modelValue:e.form.CUMPLEANIO,"onUpdate:modelValue":o[39]||(o[39]=function(o){return e.form.CUMPLEANIO=o}),error:e.v$.form.CUMPLEANIO.$error,format:"DD/MM/YYYY","float-label":"Cumple años hasta:"},null,8,["modelValue","error"])]}),_:1})])])):(0,t.Q3)("v-if",!0),(0,t.Lk)("div",_,[(0,t.Lk)("div",Q,[(0,t.bF)(ee,{class:"q-if-outlined q-pa-xs",dense:!0,modelValue:e.form.REGLAMENTO,"onUpdate:modelValue":o[40]||(o[40]=function(o){return e.form.REGLAMENTO=o}),"float-label":"Link Reglamento"},null,8,["modelValue"])]),(0,t.Lk)("div",Y,[(0,t.bF)(ee,{class:"q-if-outlined q-pa-xs",dense:!0,modelValue:e.form.UTILES,"onUpdate:modelValue":o[41]||(o[41]=function(o){return e.form.UTILES=o}),"float-label":"Link Lista de Utiles"},null,8,["modelValue"])])]),3===e.form.TIPOCONDICION?((0,t.uX)(),(0,t.CE)("div",B,[(0,t.bF)(re,{class:"q-if-outlined q-pa-xs","use-chips":"",multiple:"",dense:!0,error:e.v$.form.CONDICION.$error,modelValue:e.form.CONDICION,"onUpdate:modelValue":o[42]||(o[42]=function(o){return e.form.CONDICION=o}),options:e.optionHouse,"float-label":"House"},null,8,["error","modelValue","options"])])):(0,t.Q3)("v-if",!0)]}),_:1},512)]}),_:1},8,["loading","modelValue","onSubmit"])]}),_:1})}var j=a(99550),W=a.n(j),z=a(57008),J=a.n(z),K=a(76080),Z=a.n(K),ee=a(45254),oe=a.n(ee),ae=(a(30683),a(71225),a(74260),a(39866),a(77507),a(52133),a(10239),a(89571),a(50310),a(5962),a(32203),a(90095),a(6724),a(70199),a(11777),a(35534),a(56567),a(83190),a(52776),a(62692),a(81813),a(1201),a(13715),a(83972)),re=a(6123),ne=a(33777),te=a(16648),le=a(95051),ie=a(53380),se=a(3042),ue=a(29104),ce={class:"modal-test",id:"ventanaModal"},de={class:"contenido-modal"},me={class:"vmodal-header bg-primary text-white"},fe={class:"col"},Oe={class:"vmodal-body row"},pe={class:"vmodal-footer justify-end"};function Ie(e,o){var a=(0,t.g2)("q-icon"),r=(0,t.g2)("q-btn"),i=(0,t.g2)("q-form");return(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",ce,[(0,t.Lk)("div",de,[(0,t.bF)(i,{class:"q-gutter-md",onSubmit:e.aceptar},{default:(0,t.k6)(function(){return[(0,t.Lk)("div",me,[e.isGreater?(0,t.Q3)("v-if",!0):((0,t.uX)(),(0,t.Wv)(a,{key:0,class:"vmodal-atras",name:"arrow_back",onClick:e.cerrar},null,8,["onClick"])),(0,t.Lk)("div",fe,(0,l.v_)(e.title),1),e.isGreater?((0,t.uX)(),(0,t.Wv)(a,{key:1,name:"close",onClick:e.cerrar},null,8,["onClick"])):(0,t.Q3)("v-if",!0),e.isGreater?(0,t.Q3)("v-if",!0):((0,t.uX)(),(0,t.Wv)(a,{key:2,class:"vmodal-atras",name:"check",onClick:e.cerrar},null,8,["onClick"]))]),(0,t.Lk)("div",Oe,[(0,t.RG)(e.$slots,"default")]),(0,t.Lk)("div",pe,[e.cancel?((0,t.uX)(),(0,t.Wv)(r,{key:0,class:"q-mx-xs",flat:"",color:"grey-8",onClick:e.cancelar},{default:(0,t.k6)(function(){return n()(o[0]||(o[0]=[(0,t.eW)("Cancelar",-1)]))}),_:1},8,["onClick"])):(0,t.Q3)("v-if",!0),(0,t.bF)(r,{class:"q-mx-xs",color:"primary",type:"submit",loading:e.loading,disable:!1},{default:(0,t.k6)(function(){return[(0,t.eW)((0,l.v_)(e.ok),1)]}),_:1},8,["loading"])])]}),_:3},8,["onSubmit"])])],512)),[[ue.aG,e.finalModal]])}var Ce=a(21103),De=a(2739),Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"md";return Ce.A.gt[e]||Ce.A[e]},Ne={emits:["update:modelValue","update:btnLoad","close","cancel","submit"],components:{QBtn:re.Il,QIcon:re.bP,QForm:De.A},props:{modelValue:{type:Boolean,default:!1},btnLoad:{type:Boolean,default:!1},ok:{type:[String,Boolean],default:"Aceptar"},title:{type:String,default:"Modal"},cancel:{type:[Boolean],default:!1},loading:{type:Boolean,default:!1}},computed:{finalModal:{get:function(){return this.modelValue},set:function(e){console.log("0value",e),this.$emit("update:modelValue",e)}},isGreater:function(){return Ae()},botonCargar:{get:function(){return this.btnLoad},set:function(e){this.$emit("update:btnLoad",e)}}},data:function(){return{}},methods:{cerrar:function(){this.finalModal=!1,this.$emit("close")},cancelar:function(){console.log("cancelar"),this.$emit("cancel")},aceptar:function(){console.log("aceptar"),this.$emit("submit")}},watch:{modelValue:function(e){console.log("value:",e),e&&(this.finalModal=!0)},finalModal:function(){var e=this;return oe()(Z()().m(function o(){return Z()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,e.$nextTick();case 1:return o.a(2)}},o)}))()}},created:function(){return oe()(Z()().m(function e(){return Z()().w(function(e){while(1)switch(e.n){case 0:return e.a(2)}},e)}))()}},he=a(12807);const ve=(0,he.A)(Ne,[["render",Ie]]);var Re=ve,be=a(95898),ge=a(95477),Te=a(4437),Ee=a(23564),Se=a(88865),Ve=a(66824),Ue=a(93616),Fe=a(82640);function Pe(e,o){var a=(0,t.g2)("q-icon");return(0,t.uX)(),(0,t.Wv)(a,{class:"cursor-pointer",name:e.name,onClick:e.clickIcon},null,8,["name","onClick"])}var we={props:{params:{type:Object}},components:{QIcon:re.bP,QBtn:re.Il},data:function(){return{}},computed:{name:function(){return this.params.name}},methods:{clickIcon:function(){this.params.click(this.params.data)}},created:function(){console.log("props:prarms",this.params)}};const ke=(0,he.A)(we,[["render",Pe]]);var He=ke,Me=a(36408),qe=a(78840),Le=a(30640),xe=a(10213),$e=a(57668),ye=a(14667),Ge=a(64303),_e=a(41615),Qe=a(2819),Ye=function(){for(var e=[],o=1;o<=90;o++)e.push({value:String(o),label:"".concat(o," años"),EDAD:String(o)});return e},Be={setup:function(){var e=(0,ae.fG)();return{v$:e}},mixins:[ye.A],components:{QSeparator:ie.A,autocomplete:se.A,sieTable:ne.A,OldSelect:be.A,QDatetime:re.T5,sieModal:Le.A,sieGrid:Me.A,sieSelect:Ue.A,QForm:De.A,QCard:re.C$,QSelect:te.S,QInput:re.ie,QBtn:re.Il,QIcon:re.bP,QPopupProxy:ge.A,QDate:Te.A,QToggle:re.c5,QTime:Ee.A,QChip:le.A,QItemSection:Se.A,QItemLabel:Ve.A,QPageSticky:re._U,QFab:re.l6,QFabAction:re.B$,vmodal:Re,agIcon:He,crearBotones:Ge.A,QPage:re.Tu,QField:re.Om},beforeMount:function(){this.frameworkComponents={actionButton:qe.A},this.columnDefs=[{sortable:!0,label:"Código",name:"VACCOD",field:"VACCOD",align:"left"},{sortable:!0,label:"Curso",name:"CURSODES",field:"CURSODES",wrap:!0,align:"left"},{sortable:!0,label:"Horario",name:"HORARIO",field:"HORARIO",wrap:!0,align:"left"},{sortable:!0,label:"Vacantes",name:"VACANTES",field:"VACANTES",align:"left"},{sortable:!0,label:"Disponibles",name:"DISPONIBLES",field:"DISPONIBLES",align:"left"},{sortable:!0,label:"Cubiertas",name:"CUBIERTAS",field:"CUBIERTAS",align:"left"},{sortable:!0,label:"Grupo de Curso",name:"GRUVADES",field:"GRUVADES",wrap:!0,align:"left"},{sortable:!0,label:"Monto",name:"MONTOCUR",field:"MONTOCUR",align:"left"},{sortable:!0,label:"Mon. E",name:"MONTOCURE",field:"MONTOCURE",align:"left"},{sortable:!0,label:"Mon. T",name:"MONTOCURT",field:"MONTOCURT",align:"left"},{sortable:!0,label:"Mon. H",name:"MONTOCURH",field:"MONTOCURH",align:"left"},{sortable:!0,label:"Profesor",name:"NOMCOMP",field:"NOMCOMP",wrap:!0,align:"left"},{sortable:!0,label:"Aula",name:"AULADES",field:"AULADES",wrap:!0,align:"left"},{sortable:!0,label:"Requisitos",name:"REQUISITOS",field:"REQUISITOS",align:"left",width:"50px",wrap:!0},{sortable:!0,name:"ACCION",label:"ACCIONES",align:"center",width:"100px"}]},data:function(){var e=[18,18];return{name:"Mantenimiento de Cursos",nivelAcceso:2,idPrograma:"T",timer:null,RANGOEDAD:["0005","A018","0042","0057"].includes((0,$e["default"])().colcod),gruvacod:"T",keysComplete:["CURSODES"],optPeriodo:[],optEstadoTaller:[{ESTADO:"T",ESTADODES:"Todos"},{ESTADO:0,ESTADODES:"Abierto"},{ESTADO:1,ESTADODES:"Cerrado"}],estadoTaller:"T",buttons:[{label:"Reporte",icon:"file_excel",permiso:"===3",click:this.printxls},{label:"Agregar",icon:"plus",click:this.agregarCurso,minAcceso:2}],config:{VACCOD:{renderHtml:function(e,o,a,r){return e.CERRADO?r["$$background"]="grey-4":r["$$background"]="white",o("span",{},e.VACCOD)}},VACANTES:{component:"input",input:this.editField},ACCION:{component:"button",permisos:{edit:"> 1",delete:"=== 3"},icon:["edit","delete"],tooltip:{edit:"Editar"},edit:this.editarCurso,delete:this.borrar,flat:!0,dense:!0}},cargando:!1,frameworkComponents:null,modalAdd:!1,horarioDias:[],agregaCurso:!0,duracod:null,durades:null,form:{EDADINI:null,EDADFIN:null,FL_ANULACION:2,DIAS:[],CONDICION:[],TIPOHORARIO:1,TIPOCONDICION:1,TIPOCOD:null,TIPOCOB:"A",GRUVACOD:null,ID_CURSO:null,CERRADO:"No",MONTOCUR:null,VACANTES:null,MONTOCURE:null,MONTOCURT:null,MONTOCURH:null,FECINI:"01/01/2023",FECFIN:new Date("30/01/2023"),HORAINI:new Date("01/01/2030 09:00"),HORAFIN:new Date("01/01/2030 10:00"),NIVEL:[]},optionEdad:[],optionDias:[{value:1,label:"Lunes"},{value:2,label:"Martes"},{value:3,label:"Miercoles"},{value:4,label:"Jueves"},{value:5,label:"Viernes"},{value:6,label:"Sábado"},{value:7,label:"Domingo"}],optionCondicion:[{value:1,label:"Nivel y Grado"},{value:2,label:"Edad"}],dias:{1:"Lunes",2:"Martes",3:"Miercoles",4:"Jueves",5:"Viernes",6:"Sábado",7:"Domingo"},optionNivel:[],optionTipo:[{TIPOCOD:1,TIPODES:"Deportivo"}],optionGrupo:[],optionCurso:[],optionProfe:[],optionCobro:[{value:"M",label:"Mensual"},{value:"A",label:"Único"},{value:"G",label:"Gratuito"}],tiposCobro:{M:"Mensual",A:"Único",G:"Gratuito"},optionSiNo:[{label:"Sí",value:"Si"},{label:"No",value:"No"}],optionAula:[],fabPos:e,sie:(0,$e["default"])(),rowDataClone:[],nuevaVistaTalleres:!1,labelRequisitos:["0437"].includes((0,$e["default"])().colcod)?"Tipo taller":"Requisitos"}},methods:{printxls:function(){var e=(0,$e["default"])(),o={ano:e.ano,duracod:this.duracod};"T"!==this.idPrograma&&(o.idPrograma=this.idPrograma),"T"!==this.gruvacod&&(o.gruvacod=this.gruvacod);var a="".concat(e.host,"/api/CtCursoPeriodoController/exportarTalleres?params=").concat(JSON.stringify(o));(0,Qe.open)({action:a})},agregarCurso:function(){if(this.nuevaVistaTalleres){var e="talleres.mantenimientoCursosNuevo.registro";this.$router.push({name:e,params:{periodo:this.duracod,tipo:"agregar"}})}else this.abrirModal()},editarCurso:function(e){if(this.nuevaVistaTalleres){var o="talleres.mantenimientoCursosNuevo.registro";this.$router.push({name:o,params:{periodo:this.duracod,tipo:"editar",idCursoPeriodo:e.ID_CURSO_PERIODO}})}else this.editRow(e)},clear:function(){var e=new Date,o=new Date;o.setMonth(o.getMonth()+1),o.setDate(1);var a=new Date(e.getFullYear(),e.getMonth()+2,0);o.setHours(8),o.setMinutes(0),a.setHours(9),this.form={DIAS:[],TIPOCONDICION:1,TIPOHORARIO:1,FL_ANULACION:2,TIPOCOD:null,TIPOCOB:"A",GRUVACOD:null,ID_CURSO:null,CERRADO:"No",MONTOCUR:null,VACANTES:null,MONTOCURE:null,MONTOCURT:null,MONTOCURH:null,FECINI:o,FECFIN:a,HORAINI:o,HORAFIN:a,NIVEL:[],CONDICION:[]},this.horarioDias=[]},elijeDia:function(e){},cambiarTipoHorario:function(){this.form.DIAS=[],this.horarioDias=[]},getDuracodActivo:function(){var e=this;return this.$http.get("api/InscripcionController/getPeriodo",{params:{activo:0}}).then(function(o){e.optPeriodo=o;var a=o.find(function(e){return"S"===e.VIGENTE});e.duracod=a.DURACOD,e.durades=a.DURADES})},editField:function(e){var o=this;return oe()(Z()().m(function a(){var r;return Z()().w(function(a){while(1)switch(a.n){case 0:if(r={ID_CURSO_PERIODO:e.ID_CURSO_PERIODO,TURNO:e.TURNO},!(e.VACANTES<e.CUBIERTAS)){a.n=1;break}return a.a(2,o.$notify("La cantidad de  vacantes no pueden ser menor a ala cantidad de alumnos inscritos","info"));case 1:o.$http.post("api/CtCursoPeriodoController/updateCtCursoPeriodo",{data:e,id:r}).then(function(){var e=oe()(Z()().m(function e(a){var r;return Z()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,o.getCursoPeriodo();case 1:if(r=e.v,r){e.n=2;break}r=[];case 2:o.rowData=r,o.$notify("Registro actualizado","success");case 3:return e.a(2)}},e)}));return function(o){return e.apply(this,arguments)}}());case 2:return a.a(2)}},a)}))()},editRow:function(e){var o=this;return oe()(Z()().m(function a(){var r,n,t;return Z()().w(function(a){while(1)switch(a.n){case 0:return o.getGrupo(e.TIPOCOD),e.CERRADO=e.CERRADO?"Si":"No",a.n=1,o.getHorario(e.ID_CURSO_PERIODO,e.TURNO);case 1:return r=a.v,a.n=2,o.getNivelesAsignados(e.ID_CURSO_PERIODO);case 2:return n=a.v,a.n=3,o.getCursoCondicion(e.ID_CURSO_PERIODO,e.TIPOCONDICION);case 3:e.CONDICION=a.v,o.RANGOEDAD&&(e.EDADINI=e.CONDICION[0],e.EDADFIN=e.CONDICION[e.CONDICION.length-1]),e.NIVEL=n.map(function(e){return e.INSTRUCOD+e.GRADOCOD}),1===e.TIPOHORARIO?(e.DIAS=r.map(function(e){return e.DIA}),e.HORAINI=r[0]?r[0].HORAINI:"",e.HORAFIN=r[0]?r[0].HORAFIN:""):(t=r.map(function(e){return e.DIA=e.DIA,e.HORAINI=e.HORAINI,e.HORAFIN=e.HORAFIN,e}),o.horarioDias=t),e.ID_PERSONA=Number(e.ID_PERSONA),o.form=J()({},e),o.modalAdd=!0;case 4:return a.a(2)}},a)}))()},abrirModal:function(e,o){this.modalAdd=!0,this.clear()},deleteHora:function(e,o){var a=this.horarioDias;a.splice(e,1),this.horarioDias=a},agregarHorario:function(){var e=n()(this.horarioDias),o=e.length,a=new Date,r=new Date;a.setHours(8),a.setMinutes(0),r.setHours(9),r.setMinutes(0),o<=6&&e.push({DIA:o+1,HORAINI:a,HORAFIN:r}),this.horarioDias=e},cambiaCurso:function(e){var o=this;return oe()(Z()().m(function a(){var r,n;return Z()().w(function(a){while(1)switch(a.n){case 0:o.form.CURSODES=e.CURSODES,console.log(o.sie.ano),e&&e.ID_CURSO&&(r=o.rowData.filter(function(a){return a.ID_CURSO===e.ID_CURSO&&o.duracod===a.DURACOD&&o.sie.ano===a.ANO}),n=o.rowData.filter(function(o){return o.ID_CURSO===e.ID_CURSO}),r[0]?((0,xe.alert)("El curso para este periodo ya ha sido creado"),o.editRow(n[0])):n[0]&&((0,xe.alert)("Desea Usar la información del periodo pasado?"),delete n[0].DURACOD,n[0].COPY=1,o.editRow(n[0])));case 1:return a.a(2)}},a)}))()},grabar:function(){var e=this;return oe()(Z()().m(function o(){var a,r,t,l;return Z()().w(function(o){while(1)switch(o.n){case 0:if(e.v$.form.$touch(),console.log("this.v$.form:",e.v$.form),!e.v$.form.$error){o.n=1;break}return o.a(2,e.$notify("Ingrese los campos requeridos","warning"));case 1:if(1!==e.form.TIPOHORARIO){o.n=3;break}if(e.validateFecha()&&e.validateHora()&&e.validateTiempoMinimoCurso()&&e.validateRangoFecha()){o.n=2;break}return o.a(2);case 2:o.n=4;break;case 3:if(e.validateFecha()&&e.validateRangoFecha()){o.n=4;break}return o.a(2);case 4:if(a=J()({},e.form),!(Number(a.VACANTES)<Number(a.CUBIERTAS))){o.n=5;break}return o.a(2,e.$notify("El número de vacantes no puede ser menor a la cantidad de vacantes cubiertas.","warning"));case 5:if("G"===a.TIPOCOB){o.n=7;break}if(!(a.MONTOCUR<=0&&a.MONTOCURE<=0&&a.MONTOCURT<=0&&a.MONTOCURH<=0)){o.n=6;break}return o.a(2,e.$notify("Ingresa monto.","warning"));case 6:o.n=7;break;case 7:if(a.DURACOD=e.duracod,a.AULACOD=a.AULACOD,a.TIPOCOD=a.TIPOCOD,a.TIPOCOB=a.TIPOCOB,a.GRUVACOD=a.GRUVACOD,e.agregaCurso?delete a.ID_CURSO:(a.ID_CURSO=a.ID_CURSO,delete a.CURSODES),a.ID_PERSONA=a.ID_PERSONA,1===a.TIPOCONDICION&&a.CONDICION.includes("T")&&(a.CONDICION=e.optionNivel.filter(function(e){return"T"!==e.NG}).map(function(e){return e.NG})),1!==e.form.TIPOHORARIO){o.n=10;break}if(a.HORAINI){o.n=8;break}return o.a(2,e.$notify("Ingrese la hora de inicio","warning"));case 8:if(a.HORAFIN){o.n=9;break}return o.a(2,e.$notify("Ingrese la hora de fin","warning"));case 9:for(a.HORARIO=[],r=0;r<a.DIAS.length;r++)t=a.DIAS[r],Number.isInteger(Number(t))&&a.HORARIO.push({horafin:re.p6.formatDate(a.HORAFIN,"HH:mm:ss"),horaini:re.p6.formatDate(a.HORAINI,"HH:mm:ss"),DIA:t});a.DISPONIBLES=a.VACANTES,delete a.DIAS,delete a.HORAFIN,delete a.HORAINI,o.n=12;break;case 10:if(l=n()(e.horarioDias),0!==l.length){o.n=11;break}return o.a(2,e.$notify("Falta agregar el horario.","warning"));case 11:a.HORARIO=l.map(function(e){return e.DIA=e.DIA,e.HORAINI=re.p6.formatDate(e.HORAINI,"HH:mm:ss"),e.HORAFIN=re.p6.formatDate(e.HORAFIN,"HH:mm:ss"),e});case 12:a.CERRADO="No"===a.CERRADO?0:1,a.COPY&&delete a.ID_CURSO_PERIODO,e.cargando=!0,e.$http.post("api/CtCursoPeriodoController/addCtCursoPeriodo",{data:a}).then(function(){var o=oe()(Z()().m(function o(a){var r;return Z()().w(function(o){while(1)switch(o.n){case 0:return e.$notify(a.message,"success"),e.cargando=!1,e.modalAdd=!1,o.n=1,e.getCursoPeriodo();case 1:if(r=o.v,r){o.n=2;break}r=[];case 2:e.rowData=r;case 3:return o.a(2)}},o)}));return function(e){return o.apply(this,arguments)}}()).catch(function(o){e.$notify("No se pudo crear el curso","warning"),e.cargando=!1});case 13:return o.a(2)}},o)}))()},getHorario:function(e,o){return this.$http.get("api/CtCursoPeriodoController/getHorario",{params:{turno:o,idCursoPeriodo:e}})},getHouse:function(){var e=this;return this.$http.get("api/HyoTablaSe/datosSe",{params:{princod:"007"}}).then(function(o){var a=o.listar;e.optionHouse=a.map(function(e){return{value:e.SECUCOD,label:e.SECUDES}})})},getNivelesAsignados:function(e){return this.$http.get("api/CtCursoPeriodoController/getNivelesAsignados",{params:{idCursoPeriodo:e}})},getCursoCondicion:function(e,o){return this.$http.get("api/CtCursoPeriodoController/getCursoCondicion",{params:{idCursoPeriodo:e,tipocondicion:o}}).then(function(e){return e.map(function(e){return e.VALOR})})},borrar:function(e){var o=this;this.$confirm("¿Está seguro de que desea eliminar el siguiente registro: ".concat(e.VACCOD," - ").concat(e.CURSODES,"?")).onOk(function(){var a={ID_CURSO_PERIODO:e.ID_CURSO_PERIODO,TURNO:e.TURNO};o.$http.delete("api/CtCursoPeriodoController/deleteCtCursoPeriodo",{params:{id:a}}).then(function(){var e=oe()(Z()().m(function e(a){var r;return Z()().w(function(e){while(1)switch(e.n){case 0:return o.$notify(a.message,"success"),e.n=1,o.getCursoPeriodo();case 1:if(r=e.v,r){e.n=2;break}r=[];case 2:o.rowData=r;case 3:return e.a(2)}},e)}));return function(o){return e.apply(this,arguments)}}()).catch(function(e){var a=e&&e.error&&e.error.message?e.error.message:"no se pudo eliminar el curso";o.$notify(a,"warning"),o.cargando=!1})})},cambiaNivel:function(e){},getcombos:function(){var e=this;return this.$http("api/CTCursoController/getcombos").then(function(o){e.optionTipo=n()(o.dataTipoGrupo),e.optionCurso=o.dataCurso,e.optionProfe=o.dataProfe,e.optionAula=o.dataAula;var a=o.dataNivel.map(function(e){return e.value=e.NG,e.label=e.DESCRIPCION,e.ID=e.INSTRUCOD+e.GRADOCOD,e});return a.unshift({value:"T",label:"Todos",ID:"T",NG:"T"}),e.optionNivel=a,o.dataDuravac?(e.duracod=o.dataDuravac.DURACOD,e.durades=o.dataDuravac.DURADES):(0,xe.alert)("Falta configurar el periodo vacacional","info"),o})},cambiaTipocob:function(e){"G"===e&&(this.form.MONTOCUR=0,this.form.MONTOCURE=0,this.form.MONTOCURT=0,this.form.MONTOCURH=0)},cambiaCondicion:function(e){var o=J()({},this.form);o.CONDICION=[],o.NIVEL=[],this.form=o},getGrupo:function(e){var o=this;this.$http.get("api/CTCursoController/getGrupo",{params:{tipocod:e}}).then(function(e){o.optionGrupo=e})},cambiarPeriodo:function(e){var o=this;return oe()(Z()().m(function e(){var a;return Z()().w(function(e){while(1)switch(e.n){case 0:if(!o.duracod){e.n=5;break}if(!o.nuevaVistaTalleres){e.n=2;break}return e.n=1,o.getListaCursos();case 1:o.rowData=e.v,e.n=5;break;case 2:return e.n=3,o.getCursoPeriodo();case 3:if(a=e.v,a){e.n=4;break}a=[];case 4:o.rowData=a;case 5:return e.a(2)}},e)}))()},validateFecha:function(e,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fin",r=new Date(re.p6.formatDate(e,"YYYY/MM/DD")),n=new Date(re.p6.formatDate(o,"YYYY/MM/DD"));if("fin"===a){if(n<r){var t=J()({},this.form);return t.FECFIN=null,this.form=t,!1}}else if("ini"===a&&r>n){var l=J()({},this.form);return l.FECFIN=null,this.form=l,!1}return!0},validateHora:function(e,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fin";if(!e||!o)return!0;var r=re.p6.formatDate(e,"HH:mm"),n=re.p6.formatDate(o,"HH:mm"),t=new Date("1970-01-01T".concat(r)),l=new Date("1970-01-01T".concat(n));if("fin"===a){if(l<t){var i=J()({},this.form);return i.HORAFIN=null,this.form=i,!1}}else if("ini"===a&&t>l){var s=J()({},this.form);return s.HORAFIN=null,this.form=s,!1}return this.v$.form.$touch(),!0},validateTiempoMinimoCurso:function(){if(!this.form.HORAFIN||!this.form.HORAINI)return!0;var e=re.p6.formatDate(this.form.HORAINI,"HH:mm"),o=re.p6.formatDate(this.form.HORAFIN,"HH:mm"),a=new Date("1970-01-01T".concat(e)),r=new Date("1970-01-01T".concat(o)),n=(r.getTime()-a.getTime())/6e4;return!(n<=29)||(this.$notify("El curso debe durar minimo 30 minutos","warning"),!1)},diasDisponibles:function(e,o){var a=[];if(e>o){while(e<=7)a.push(e),e++;e=1}while(e<=o)a.push(e),e++;return a},rangoEdad:function(e){var o=this;clearTimeout(this.timer),this.timer=setTimeout(function(){if(console.log("valEdad:",e),o.form.EDADINI&&o.form.EDADFIN){var a=[],r=parseInt(o.form.EDADINI),n=parseInt(o.form.EDADFIN);if(r>n)return o.form[e]=null,o.$notify("La edad fin no puede ser menor a la edad inicio","warning");for(var t=r;t<=n;t++)a.push(String(t));o.form.CONDICION=a}},700)},validateRangoFecha:function(){var e=this,o=new Date(re.p6.formatDate(this.form.FECINI,"YYYY/MM/DD")).getTime(),a=new Date(re.p6.formatDate(this.form.FECFIN,"YYYY/MM/DD")).getTime(),r=(a-o)/1e3/60/60/24,n=new Date(re.p6.formatDate(this.form.FECINI,"YYYY/MM/DD")).getDay(),t=new Date(re.p6.formatDate(this.form.FECFIN,"YYYY/MM/DD")).getDay();n=0===n?7:n,t=0===t?7:t;var l=[],i="";if(r<6){l=this.diasDisponibles(n,t);var s=this.diasSeleccionados.filter(function(e){return!l.includes(e)});if(i=s.map(function(o){return e.dias[o]}).join(", "),""!==i){var u=i.split(",");return 1===u.length?(this.$notify("El día ".concat(i," no esta permitido en el rango de fecha"),"warning"),!1):(this.$notify("Los días ".concat(i," no estan permitido en el rango de fecha"),"warning"),!1)}}return!0},copyMonto:function(){},cambiarPrograma:function(){var e=this;return oe()(Z()().m(function o(){return Z()().w(function(o){while(1)switch(o.n){case 0:e.optGrupos[0]&&(e.gruvacod=e.optGrupos[0].GRUVACOD);case 1:return o.a(2)}},o)}))()},getConstantes:function(){var e=this;return oe()(Z()().m(function o(){var a,r;return Z()().w(function(o){while(1)switch(o.n){case 0:return a={ID_CONSTANTE:[_e["default"].CONSTANTES_SISTEMA.T_NUEVA_VISTA_INSCRIPCION]},o.n=1,_e["default"].API_CONSTANTES_SISTEMAS(a);case 1:r=o.v,e.nuevaVistaTalleres=r.T_NUEVA_VISTA_INSCRIPCION;case 2:return o.a(2)}},o)}))()},agruparDiasPorHoras:function(e){if(!e.includes("("))return e;var o=e.split(" ,"),a={};o.forEach(function(e){var o=e.split(" ( "),r=W()(o,2),n=r[0],t=r[1],l=t.replace(" )","");a[l]||(a[l]=[]),a[l].push(n)});var r=Object.entries(a).map(function(e){var o=W()(e,2),a=o[0],r=o[1];return"".concat(r.join(", ")," ( ").concat(a," )")}).join("; ");return r},getListaCursos:function(){var e=this;return oe()(Z()().m(function o(){var a,r,n,t,l,i;return Z()().w(function(o){while(1)switch(o.n){case 0:return a={duracod:e.duracod,ano:e.sie.ano},r=[],n=[],t=[{GRUVACOD:"T",GRUVADES:"Todos"}],l=[{TIPOCOD:"T",TIPODES:"Todos"}],o.n=1,e.$http.get("api/CtCursoPeriodoController/getListaCursos",{params:{params:a}}).then(function(o){return o.map(function(o){return o.CURSONOM="".concat(o.VACCOD," - ").concat(o.CURSODES),console.log("v.HORARIO:",o.HORARIO),o.HORARIO=e.agruparDiasPorHoras(o.HORARIO.trimEnd()),console.log("v.HORARIO:",o.HORARIO),r.includes(o.GRUVACOD)||(r.push(o.GRUVACOD),t.push({GRUVACOD:o.GRUVACOD,GRUVADES:o.GRUVADES,TIPOCOD:o.TIPOCOD})),n.includes(o.TIPOCOD)||(n.push(o.TIPOCOD),l.push({TIPOCOD:o.TIPOCOD,TIPODES:o.TIPODES})),o})});case 1:return i=o.v,t.length>1&&(e.optionGrupoFiltro=t),l.length>1&&(e.optionTipoFiltro=l),o.a(2,i)}},o)}))()}},computed:{optGrupos:function(){var e=this,o=[];return o="T"===this.idPrograma?n()(this.optionGrupoFiltro):this.optionGrupoFiltro.filter(function(o){return o.TIPOCOD===e.idPrograma||"T"===o.GRUVACOD}),o},rowData:{set:function(e){this.rowDataClone=e},get:function(){var e=this,o=[];if("T"===this.gruvacod&&"T"===this.idPrograma)o=n()(this.rowDataClone);else{var a=this.optGrupos.map(function(e){return e.GRUVACOD});o="T"===this.gruvacod?this.rowDataClone.filter(function(e){return a.includes(e.GRUVACOD)}):this.rowDataClone.filter(function(o){return o.GRUVACOD===e.gruvacod})}return 0===this.estadoTaller?o=o.filter(function(e){return 0===e.CERRADO}):1===this.estadoTaller&&(o=o.filter(function(e){return 1===e.CERRADO})),o}},permiso:function(){return this.sie.ruta.nivel},diasSeleccionados:function(){return 1===this.form.TIPOHORARIO?this.form.DIAS||[]:this.horarioDias.map(function(e){return e.DIA})},cambiarRequisito:function(){["0437"].includes((0,$e["default"])().colcod)&&this.form.REQUISITOS&&(this.form.REQUISITOS=this.form.REQUISITOS.toUpperCase())}},created:function(){var e=this;return oe()(Z()().m(function o(){var a;return Z()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,e.getConstantes();case 1:return o.n=2,e.getDuracodActivo();case 2:return e.optionEdad=Ye(),e.getHouse(),o.n=3,e.getcombos();case 3:if(!e.nuevaVistaTalleres){o.n=5;break}return o.n=4,e.getListaCursos();case 4:e.rowData=o.v,o.n=8;break;case 5:return o.n=6,e.getCursoPeriodo();case 6:if(a=o.v,a){o.n=7;break}a=[];case 7:e.rowData=a;case 8:return o.a(2)}},o)}))()},validations:function(){var e={TIPOCOD:{required:Fe.mw},TIPOCOB:{required:Fe.mw},GRUVACOD:{required:Fe.mw},VACANTES:{required:function(e){return e>0}},ID_CURSO:{required:Fe.mw},FECINI:{required:Fe.mw},FECFIN:{required:Fe.mw},HORAINI:{required:Fe.mw},HORAFIN:{required:Fe.mw},CONDICION:{required:Fe.mw}};return this.agregaCurso?(e.CURSODES={required:Fe.mw},delete e.ID_CURSO):(e.ID_CURSO={required:Fe.mw},delete e.CURSODES),1===this.form.TIPOCONDICION?delete e.CUMPLEANIO:e.CUMPLEANIO={required:Fe.mw},1===this.form.TIPOHORARIO?(e.DIAS={required:Fe.mw},e.HORAINI={required:Fe.mw},e.HORAFIN={required:Fe.mw}):(delete e.DIAS,delete e.HORAINI,delete e.HORAFIN),this.RANGOEDAD&&1!==this.form.TIPOCONDICION?(e.EDADINI={required:Fe.mw},e.EDADFIN={required:Fe.mw}):(delete e.EDADINI,delete e.EDADFIN),{form:e}}};const Xe=(0,he.A)(Be,[["render",X]]);var je=Xe}}]);