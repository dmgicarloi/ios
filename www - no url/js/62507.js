"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[62507],{62507:function(e,n,a){a.r(n),a.d(n,{default:function(){return E}});var t=a(61758),i={class:"column q-card q-pa-sm q-ma-sm"},l={class:"row q-col-gutter col"},r={class:"row col q-col-gutter-sm"};function o(e,n){var a=this,o=(0,t.g2)("header-btn"),s=(0,t.g2)("q-select"),c=(0,t.g2)("q-input"),u=(0,t.g2)("sie-table"),f=(0,t.g2)("q-page");return(0,t.uX)(),(0,t.Wv)(f,null,{default:(0,t.k6)(function(){return[(0,t.bF)(o,{name:"Seguimiento de Libro de Reclamaciones"}),(0,t.Lk)("div",i,[(0,t.Lk)("div",l,[(0,t.bF)(s,{class:"col q-mx-sm",modelValue:e.faseFiltro,"onUpdate:modelValue":n[0]||(n[0]=function(n){return e.faseFiltro=n}),options:e.fases,label:"Fase","option-label":"DESCRIPCION","option-value":"ID",onInput:e.filtrar},null,8,["modelValue","options","onInput"]),(0,t.Lk)("div",r,[(0,t.bF)(c,{class:"col",modelValue:e.fecIni,"onUpdate:modelValue":n[1]||(n[1]=function(n){return e.fecIni=n}),label:"Desde",type:"date",onInput:e.filtrar},null,8,["modelValue","onInput"]),(0,t.bF)(c,{class:"col",modelValue:e.fecFin,"onUpdate:modelValue":n[2]||(n[2]=function(n){return e.fecFin=n}),label:"Hasta",type:"date",onInput:e.filtrar},null,8,["modelValue","onInput"])])]),(0,t.Q3)('div.col.q-py-sm.q-ml-sm.q-mt-xsq-input.col(v-model="search" label="Buscar")\n    template(v-slot:prepend)\n        q-icon(name="search")'),(0,t.Q3)("div.q-card.q-ma-sm"),(0,t.bF)(u,{config:e.config,columns:e.columns,data:e.dataSeguimiento,context:a,css:"height: calc(100vh - 180px)"},null,8,["config","columns","data"])])]}),_:1})}var s=a(76080),c=a.n(s),u=a(45254),f=a.n(u),d=a(91134),m=a.n(d),p=a(6123),I=a(16648),g=a(9736),D=a(18105),b=a(33777),F={components:{QPage:p.Tu,QSelect:I.A,QInput:g.A,SieTable:b.A},data:function(){return{estados:[],fases:[],estado:"T",faseFiltro:"T",fecIni:null,fecFin:null,search:null,dataSeguimiento:[],columns:[{name:"IDNEW",label:"Código",align:"left",field:"IDNEW"},{name:"FECHA",label:"Fecha",align:"left",field:"FECHA"},{name:"NOMCOMP",label:"Registrado por",align:"left",field:"NOMCOMP"},{name:"TIPO",label:"Tipo",align:"left",field:"TIPO"},{name:"FASE",label:"Fase",align:"left",field:"FASE"},{name:"ESTADO",label:"Estado",align:"center",field:"ESTADO"},{name:"ACCION",align:"center",field:"ACCION"}],config:{ESTADO:{renderHtml:function(e,n,a){return a.chips({items:[e.ESTADO],background:e["BGESTADO"],color:e["TXTESTADO"]})}},ACCION:{component:"button",icon:["edit as editar","autorenew as reabrir","send as enviar","delete as eliminar"],tooltip:m()(m()(m()({enviar:function(){return"Enviar Resolución"}},"enviar",function(){return"Reabrir Expediente"}),"editar",function(e){return"Editar "+e.TIPO}),"eliminar",function(e){return"Eliminar "+e.TIPO}),validate:{eliminar:function(e){return 0==e.BLOQUEA},editar:function(e){return 1==e.FASEID},enviar:function(e){return 3==e.FASEID},reabrir:function(e){return 3==e.FASEID}},flat:!0,round:!0}},dataSeguimientoBase:[]}},methods:{filtrar:function(){var e=this;return f()(c()().m(function n(){var a;return c()().w(function(n){while(1)switch(n.n){case 0:return a={fase:e.faseFiltro,desde:e.fecIni,hasta:e.fecFin},n.n=1,e.$http.get("api/LibroReclamacionesController/getReclamos",{params:{params:a}});case 1:e.dataSeguimiento=n.v;case 2:return n.a(2)}},n)}))()}},created:function(){var e=this;return f()(c()().m(function n(){var a,t,i,l,r;return c()().w(function(n){while(1)switch(n.n){case 0:return n.n=1,e.$http.get("api/LibroReclamacionesController/getEstados");case 1:a=n.v,t=a.estados,i=a.fases,e.estados=t,e.fases=i,e.estados.unshift({ID:"T",DESCRIPCION:"Todos"}),e.fases.unshift({ID:"T",DESCRIPCION:"Todos"}),l=new Date,r=l.getDay(),0===r&&(r=7),e.fecIni=new Date(l),e.fecFin=new Date(l),e.fecIni.setDate(l.getDate()-(r-1)),e.fecFin.setDate(e.fecIni.getDate()+6),e.fecIni=(0,D.Ay)(e.fecIni,"YYYY-MM-DD"),e.fecFin=(0,D.Ay)(e.fecFin,"YYYY-MM-DD"),e.filtrar();case 2:return n.a(2)}},n)}))()}},v=a(12807);const h=(0,v.A)(F,[["render",o]]);var E=h}}]);