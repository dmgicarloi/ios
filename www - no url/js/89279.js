"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[89279],{89279:function(a,t,e){e.r(t),e.d(t,{default:function(){return D}});var n=e(61758);function o(a,t){var e=(0,n.g2)("q-page");return(0,n.uX)(),(0,n.Wv)(e,{class:"q-pa-md bg-white"})}var l=e(57008),r=e.n(l),c=e(8445),s=e.n(c),i=(e(30683),e(77507),e(52133),e(10239),e(50310),e(6724),e(70199),e(515),e(83190),e(6123)),u=e(80660),f=e(69027),d=e(982),h=e(19434),p=e(57668),m=e(26172),g={components:{QPage:i.Tu},directives:{download:h.A},data:function(){return{imc:{},nemo:"",salon:"",alucod:"",fecha:new Date,filter:"",estadoDefault:"Delgadez Severa",estadoPesoTallaDefault:"Desnutrición Severa",porSalon:!0,data:[],columns:[{name:"NOMCOMP",label:"Nombre",align:"left",field:"NOMCOMP",sortable:!0},{name:"PESO",label:"Peso (kg)",align:"left",field:"PESO",sortable:!0},{name:"TALLA",label:"Talla (mt)",align:"left",field:"TALLA",sortable:!0,sort:function(a,t){return parseInt(a,10)-parseInt(t,10)}},{name:"IMC",label:"IMC",align:"left",field:"IMC",sortable:!0,style:"width: 200px"}]}},watch:{fecha:function(a){this.cargarPesoTalla()}},methods:{imprimir:function(a){var t="".concat((0,p["default"])().url,"/reportes/reporte?repcod=970&nemo=").concat(this.nemo,"&fecha=").concat(date.formatDate(this.fecha,"MM/DD/YYYY"),"&salon=").concat(this.salon,"&tipo=").concat(a);"xls"===a&&(t+="&blanco=1"),openURL(t)},calculaImc:function(a){var t=a.PESO,e=a.TALLA,n=a.EDAD,o=a.SEXO;if(!t||!e)return"";var l=this.imc.getImc(n,o,t,e),r="",c="";return Object.keys(l).length>0&&(r=Object.prototype.hasOwnProperty.call(l,"DESCRIPCION")?l.DESCRIPCION:null,c=n>60?null==r?this.estadoDefault:r:null==r?this.estadoPesoTallaDefault:r,r="".concat(c," (").concat(l.IMC,")")),r},pegar:function(a){var t=a.__index,e=(event.clipboardData||window.clipboardData).getData("text");event.preventDefault();var n=s()(this.data),o=e.split("\n"),l=n.length;o.map(function(a){var e=l-t;if(e>0){var o=a.split("\t"),c=parseFloat(o[0]),s=parseFloat(o[1]),i=isFinite(c)?c:"",u=isFinite(s)?s:"";n[t]=r()(r()({},n[t]),{},{PESO:i,TALLA:u})}t++}),this.data=n},clear:function(){this.nemo=null,this.alucod="",this.fecha=new Date,this.data=[]},selectEstudiante:function(a){var t=a.ALUCOD,e=a.NOMCOMP;this.data=[{ALUCOD:t,NOMCOMP:e}]},guardarPesoTalla:function(){var a=this,t=this.data,e=this.fecha,n=[],o=[];t.map(function(a){var t=a.ALUCOD,l=a.PESO,r=a.TALLA,c=a.NOMCOMP;if(l>0&&r>.4){var s={FECHA:e,CODIGO:t,CODTIPPER:"0000",ALUCOD:t,PESO:l,TALLA:r};n.push(s)}else o.push(c)});var l=o.length>0?"Los datos de los alumnos: \n ".concat(o.join(".\n "),"\n no estan completos, por lo tanto no se guardarán.\n\n ¿Desea continuar?"):"se guardará la talla y peso (podrá visualizarlo en la ficha del alumno)";(0,f.dialogConfirm)({title:"¡Advertencia! ",message:l}).then(function(t){if(t)return u.$http.post("api/HyoPesotal/guardarPesoTalla",{data:n}).then(function(t){(0,d["default"])("Se guardo Correctamente.","success"),a.cargarPesoTalla()}).catch(function(a){var t=a.error;console.error(t),(0,d["default"])("No ha sido posible guardarlos datos.(".concat(t.message,")"),"warning")})}).catch(function(a){console.error(a)})},seleccionarSalon:function(a){var t=a.NEMODES;this.salon=t,this.cargarPesoTalla()},cargarPesoTalla:function(){var a=this,t=date.formatDate(this.fecha,"MM/DD/YYYY"),e=this.nemo;u.$http.get("api/HyoPesotal/obtPesoTallaXSalonFecha",{params:{nemo:e,fecha:t}}).then(function(t){a.data=t}).catch(function(a){console.error(a)})}},created:function(){var a=this;u.$http.get("api/HyoImc/getImc").then(function(t){var e=t.imc,n=t.enImc,o=t.pesoTalla;a.imc=new m["default"](e,n,o),window.dataImc=e,window.enImc=n,window.enImcString=JSON.stringify(n)}).catch(function(a){console.error(a)})}},v=e(12807);const O=(0,v.A)(g,[["render",o],["__scopeId","data-v-0fd328fc"]]);var D=O}}]);