"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[65250],{65250:function(e,t,o){o.r(t),o.d(t,{default:function(){return ka}});var a=o(8445),n=o.n(a),r=o(61758),i=o(29104),l=o(58790),s={key:0,class:"row q-col-gutter-sm items-center q-pt-sm"},c={class:"col-xs-12 col-sm-3"},u={class:"col-xs-12 col-sm-2"},d={class:"col-xs-12 col-sm-6"},p={class:"row q-gutter-sm"},m={class:"col"},f={class:"col-xs-12 col-sm-4"},I={class:"col-xs-12 col-sm-4"},E={class:"col-xs-12 col-sm-4"},h={key:1,class:"q-card-section q-pt-sm"},v={key:1},A={class:"row q-col-gutter-sm"},R={class:"col-xs-12"},g={class:"row items-center"},O={class:"col-xs-12 col-sm-6"},C={key:0,class:"row"},b={class:"col-xs-12 col-sm-6"},P={class:"row justify-end q-gutter-sm"},S={class:"col-xs-12"},D={class:"div"},w={key:2,class:"row justify-center q-mt-lg"},T={class:"row q-col-gutter-sm items-center q-pt-sm"},k={class:"col-xs-12 col-sm-2"},N={class:"col-xs-12 col-sm-10"},L={class:"row q-gutter-sm"},M={class:"col"},V={class:"col-xs-12"},_={class:"col-xs-12 col-sm-3"},U={class:"col-xs-12 col-sm-3"},y={class:"col-xs-12 col-sm-3"},F={class:"col-xs-12 col-sm-3"},x={key:0,class:"row"},$={key:1,class:"row justify-center q-mt-lg"};function j(e,t){var o=(0,r.g2)("header-btn"),a=(0,r.g2)("q-tab"),j=(0,r.g2)("q-tabs"),Q=(0,r.g2)("q-select"),G=(0,r.g2)("q-input"),q=(0,r.g2)("q-tooltip"),X=(0,r.g2)("q-icon"),z=(0,r.g2)("q-btn"),B=(0,r.g2)("mapa-proceso"),W=(0,r.g2)("sie-pdf"),Z=(0,r.g2)("sie-vacio"),J=(0,r.g2)("q-card-section"),H=(0,r.g2)("proceso"),K=(0,r.g2)("formulario-proceso"),Y=(0,r.g2)("indicador"),ee=(0,r.g2)("formulario-indicador"),te=(0,r.g2)("agrupador"),oe=(0,r.g2)("procesos-adicionales"),ae=(0,r.g2)("formulario-anos"),ne=(0,r.g2)("q-card"),re=(0,r.g2)("q-page");return(0,r.uX)(),(0,r.Wv)(re,{class:"intranet--gestion-calidad bg-white q-pt-md q-px-sm"},{default:(0,r.k6)(function(){return[(0,r.bF)(ne,{class:"layout-v1 my-card",flat:"",bordered:""},{default:(0,r.k6)(function(){return[(0,r.bF)(o,{name:"Configuración",buttons:e.buttonsByTab},null,8,["buttons"]),(0,r.bF)(J,null,{default:(0,r.k6)(function(){return[(0,r.bF)(j,{class:"q-px-md",modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.tab=t}),align:"left",dense:"",style:{"font-weight":"semi-bold"}},{default:(0,r.k6)(function(){return[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.tabs,function(e){return(0,r.uX)(),(0,r.CE)(r.FK,null,[(0,r.Q3)("Se recorre los tabs (Cabecera) "),(0,r.bF)(a,{name:e.CODIGO,label:e.LABEL},null,8,["name","label"])],64)}),256))]}),_:1},8,["modelValue"]),"vistaPrevia"===e.tab?((0,r.uX)(),(0,r.Wv)(J,{key:0,style:{"padding-top":"0"}},{default:(0,r.k6)(function(){return[(0,r.Q3)(" Sección vista previa "),e.idIndicador?(0,r.Q3)("v-if",!0):((0,r.uX)(),(0,r.CE)("div",s,[(0,r.Q3)(" filtros "),(0,r.Lk)("div",c,[(0,r.bF)(Q,{modelValue:e.filtroVistaPrevia.tipcod.model,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.filtroVistaPrevia.tipcod.model=t}),outlined:"",options:e.filtroVistaPrevia.tipcod.data,label:"Perfil",onInput:e.buscarIndicador},null,8,["modelValue","options","onInput"])]),(0,r.Lk)("div",u,[(0,r.bF)(G,{modelValue:e.filtroVistaPrevia.idindicador.model,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.filtroVistaPrevia.idindicador.model=t}),label:"Código",onKeyup:(0,i.jR)(e.buscarIndicador,["enter"])},null,8,["modelValue","onKeyup"])]),(0,r.Lk)("div",d,[(0,r.Lk)("div",p,[(0,r.Lk)("div",m,[(0,r.bF)(G,{modelValue:e.filtroVistaPrevia.titulo.model,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.filtroVistaPrevia.titulo.model=t}),label:"Título / Código",onKeyup:(0,i.jR)(e.buscarIndicador,["enter"])},{append:(0,r.k6)(function(){return[(0,r.bF)(X,{class:"cursor-pointer",name:"search",onClick:e.buscarIndicador},{default:(0,r.k6)(function(){return[(0,r.bF)(q,null,{default:(0,r.k6)(function(){return n()(t[16]||(t[16]=[(0,r.eW)("Buscar",-1)]))}),_:1})]}),_:1},8,["onClick"])]}),_:1},8,["modelValue","onKeyup"])]),(0,r.bF)(z,{icon:"clear",color:"primary",size:"sm",onClick:e.clearFiltroVistaPrevia},{default:(0,r.k6)(function(){return[(0,r.bF)(q,null,{default:(0,r.k6)(function(){return n()(t[17]||(t[17]=[(0,r.eW)("Limpiar",-1)]))}),_:1})]}),_:1},8,["onClick"])])]),(0,r.Lk)("div",f,[(0,r.bF)(Q,{modelValue:e.filtroVistaPrevia.tipo.model,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.filtroVistaPrevia.tipo.model=t}),outlined:"",options:e.filtroVistaPrevia.tipo.data,label:"Tipo",onInput:e.buscarIndicador},null,8,["modelValue","options","onInput"])]),(0,r.Lk)("div",I,[(0,r.bF)(Q,{modelValue:e.filtroVistaPrevia.campo.model,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.filtroVistaPrevia.campo.model=t}),outlined:"",options:e.filtroVistaPrevia.campo.data,label:"Campo",onInput:e.buscarIndicador},null,8,["modelValue","options","onInput"])]),(0,r.Lk)("div",E,[(0,r.bF)(Q,{modelValue:e.filtroVistaPrevia.criterio.model,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.filtroVistaPrevia.criterio.model=t}),outlined:"",options:e.filtroVistaPrevia.criterio.data,label:"Criterio",onInput:e.buscarIndicador},null,8,["modelValue","options","onInput"])])])),e.dataMapaProcesoIndicador.length?((0,r.uX)(),(0,r.CE)("div",h,[e.idIndicador?(0,r.Q3)("v-if",!0):((0,r.uX)(),(0,r.Wv)(B,{key:0,ref:"refProcesoVistaPrevia",procesos:e.dataMapaProcesoIndicador,onMostrarReporte:e.mostrarReporte},null,8,["procesos","onMostrarReporte"])),e.idIndicador?((0,r.uX)(),(0,r.CE)("div",v,[(0,r.Lk)("div",A,[(0,r.Lk)("div",R,[(0,r.Lk)("div",g,[(0,r.Lk)("div",O,[e.parametrosReporte.titulo?((0,r.uX)(),(0,r.CE)("div",C,[t[18]||(t[18]=(0,r.Lk)("span",{class:"text-primary text-bold"},"Título:",-1)),(0,r.Lk)("span",null,(0,l.v_)(e.parametrosReporte.titulo),1)])):(0,r.Q3)("v-if",!0)]),(0,r.Lk)("div",b,[(0,r.Lk)("div",P,[(0,r.bF)(z,{label:"<< Atrás",color:"primary",onClick:e.regresarVistaPrevia,style:{"font-size":"11px",height:"20px"}},null,8,["onClick"]),e.item.data.isEfqm?(0,r.Q3)("v-if",!0):((0,r.uX)(),(0,r.Wv)(z,{key:0,label:"Parámetros",color:"primary",onClick:e.mostrarParametro,style:{"font-size":"11px",height:"20px"}},null,8,["onClick"])),(0,r.bF)(z,{label:"Descargar",icon:"file_download",color:"primary",onClick:e.descargarReporte,style:{"font-size":"11px",height:"20px"}},null,8,["onClick"])])])])]),(0,r.Lk)("div",S,[(0,r.Lk)("div",D,[(0,r.bF)(W,{name:"mapaconfiguracion",style:{height:"calc(100vh - 252px) !important"}})])])])])):(0,r.Q3)("v-if",!0)])):((0,r.uX)(),(0,r.CE)("div",w,[(0,r.bF)(Z,{icon:"cog",title:"Advertencia",subtitle:"No hay información para mostrar"},{default:(0,r.k6)(function(){return[(0,r.Q3)(" Fin sección vista previa ")]}),_:1})]))]}),_:1})):(0,r.Q3)("v-if",!0),"procesos"===e.tab?((0,r.uX)(),(0,r.Wv)(J,{key:1,style:{"padding-top":"0"}},{default:(0,r.k6)(function(){return[(0,r.Q3)(" Sección procesos "),(0,r.bF)(H,{procesos:e.dataMapaProcesos,"row-proceso":e.rowProceso,onEliminar:e.eliminarProceso,onActualizar:e.actualizarProceso},null,8,["procesos","row-proceso","onEliminar","onActualizar"]),e.modalAgregarProceso?((0,r.uX)(),(0,r.Wv)(K,{key:0,modelValue:e.modalAgregarProceso,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.modalAgregarProceso=t}),onAgregarProceso:e.agregarProceso},null,8,["modelValue","onAgregarProceso"])):(0,r.Q3)("v-if",!0)]}),_:1})):(0,r.Q3)("v-if",!0),"indicadores"===e.tab?((0,r.uX)(),(0,r.Wv)(J,{key:2,style:{"padding-top":"0"}},{default:(0,r.k6)(function(){return[(0,r.Q3)(" Sección indicadores "),(0,r.Lk)("div",T,[(0,r.Q3)(" filtros "),(0,r.Lk)("div",k,[(0,r.bF)(G,{modelValue:e.filtroIndicadores.idindicador.model,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.filtroIndicadores.idindicador.model=t}),outlined:"",label:"Código",onKeyup:(0,i.jR)(e.filtraIndicadores,["enter"])},null,8,["modelValue","onKeyup"])]),(0,r.Lk)("div",N,[(0,r.Lk)("div",L,[(0,r.Lk)("div",M,[(0,r.bF)(G,{modelValue:e.filtroIndicadores.titulo.model,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.filtroIndicadores.titulo.model=t}),label:"Título / Ruta",onKeyup:(0,i.jR)(e.filtraIndicadores,["enter"])},{append:(0,r.k6)(function(){return[(0,r.bF)(X,{class:"cursor-pointer",name:"search",onClick:e.filtraIndicadores},{default:(0,r.k6)(function(){return[(0,r.bF)(q,null,{default:(0,r.k6)(function(){return n()(t[19]||(t[19]=[(0,r.eW)("Buscar",-1)]))}),_:1})]}),_:1},8,["onClick"])]}),_:1},8,["modelValue","onKeyup"])]),(0,r.bF)(z,{icon:"clear",color:"primary",size:"sm",onClick:e.clearFiltroIndicadores},{default:(0,r.k6)(function(){return[(0,r.bF)(q,null,{default:(0,r.k6)(function(){return n()(t[20]||(t[20]=[(0,r.eW)("Limpiar",-1)]))}),_:1})]}),_:1},8,["onClick"])])]),(0,r.Lk)("div",V,[(0,r.bF)(Q,{modelValue:e.filtroIndicadores.proceso.model,"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.filtroIndicadores.proceso.model=t}),outlined:"",options:e.filtroIndicadores.proceso.data,label:"Ubicación en el Mapa",onInput:e.filtraIndicadores},null,8,["modelValue","options","onInput"])]),(0,r.Lk)("div",_,[(0,r.bF)(Q,{modelValue:e.filtroIndicadores.tipo.model,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.filtroIndicadores.tipo.model=t}),outlined:"",options:e.filtroIndicadores.tipo.data,label:"Tipo",onInput:e.filtraIndicadores},null,8,["modelValue","options","onInput"])]),(0,r.Lk)("div",U,[(0,r.bF)(Q,{modelValue:e.filtroIndicadores.campo.model,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.filtroIndicadores.campo.model=t}),outlined:"",options:e.filtroIndicadores.campo.data,label:"Campo",onInput:e.filtraIndicadores},null,8,["modelValue","options","onInput"])]),(0,r.Lk)("div",y,[(0,r.bF)(Q,{modelValue:e.filtroIndicadores.criterio.model,"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.filtroIndicadores.criterio.model=t}),outlined:"",options:e.filtroIndicadores.criterio.data,label:"Criterio",onInput:e.filtraIndicadores},null,8,["modelValue","options","onInput"])]),(0,r.Lk)("div",F,[(0,r.bF)(Q,{modelValue:e.filtroIndicadores.tipo_reporte.model,"onUpdate:modelValue":t[14]||(t[14]=function(t){return e.filtroIndicadores.tipo_reporte.model=t}),outlined:"",options:e.filtroIndicadores.tipo_reporte.data,label:"Tipo Reporte",onInput:e.filtraIndicadores},null,8,["modelValue","options","onInput"])])]),e.dataIndicadores.length?((0,r.uX)(),(0,r.CE)("div",x,[(0,r.Q3)(" componente indicador "),(0,r.bF)(Y,{class:"q-mt-sm",indicadores:e.dataIndicadores,options:e.options,onRowIndicador:e.rowIndicador,onActualizarIndicador:e.actualizarIndicador,onEliminarIndicador:e.eliminarIndicador,onEliminarAdjunto:e.eliminarAdjunto},null,8,["indicadores","options","onRowIndicador","onActualizarIndicador","onEliminarIndicador","onEliminarAdjunto"]),e.modalIndicadorAgregar?((0,r.uX)(),(0,r.Wv)(ee,{key:0,modelValue:e.modalIndicadorAgregar,"onUpdate:modelValue":t[15]||(t[15]=function(t){return e.modalIndicadorAgregar=t}),onAgregarIndicador:e.agregarIndicador,options:e.options},null,8,["modelValue","onAgregarIndicador","options"])):(0,r.Q3)("v-if",!0)])):((0,r.uX)(),(0,r.CE)("div",$,[(0,r.Q3)(" componente sie vacio "),(0,r.bF)(Z,{icon:"line_chart",title:"Advertencia",subtitle:"No hay indicadores para mostrar"})]))]}),_:1})):(0,r.Q3)("v-if",!0),"agrupadores"===e.tab?((0,r.uX)(),(0,r.Wv)(J,{key:3,style:{"padding-top":"0"}},{default:(0,r.k6)(function(){return[(0,r.bF)(te,{modal:e.value,onCerrarModal:e.closeModalAgrupador},null,8,["modal","onCerrarModal"])]}),_:1})):(0,r.Q3)("v-if",!0),"procesosAdicionales"===e.tab?((0,r.uX)(),(0,r.Wv)(J,{key:4,style:{"padding-top":"0"}},{default:(0,r.k6)(function(){return[(0,r.bF)(oe)]}),_:1})):(0,r.Q3)("v-if",!0),"formularioAnos"===e.tab?((0,r.uX)(),(0,r.Wv)(J,{key:5,style:{"padding-top":"0"}},{default:(0,r.k6)(function(){return[(0,r.bF)(ae)]}),_:1})):(0,r.Q3)("v-if",!0)]}),_:1})]}),_:1})]}),_:1})}var Q=o(57008),G=o.n(Q),q=o(76080),X=o.n(q),z=o(45254),B=o.n(z),W=(o(12563),o(30683),o(23825),o(52133),o(10239),o(50310),o(6724),o(83190),o(44264),o(66307),o(24066),o(32701),o(67396),o(50923),o(59502),o(2819)),Z=o(57668),J=o(9736),H=o(16648),K=o(6123),Y=o(21103),ee=o(80340),te=o(88567),oe=o(95718),ae=o(26697),ne=o(53093),re=o(87252),ie=(o(515),["bordered"]),le={class:"col"},se={class:"row justify-end"};function ce(e,t){var o=(0,r.g2)("q-expansion-item"),a=(0,r.g2)("q-tooltip"),s=(0,r.g2)("q-btn"),c=(0,r.g2)("v-slot"),u=(0,r.g2)("proceso"),d=(0,r.g2)("formulario-proceso");return(0,r.uX)(),(0,r.CE)("div",{class:(0,l.C4)({"q-list":e.principal,"rounded-borders":e.principal}),bordered:e.principal},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.procesos,function(l,d){return(0,r.uX)(),(0,r.Wv)(o,null,{header:(0,r.k6)(function(){return[l&&l.idproceso?((0,r.uX)(),(0,r.Wv)(o,{"expand-icon":e.principal?"cog":"folder_open","expanded-icon":e.principal?"cog":"folder_open","icon-color":e.principal?"":"orange",caption:Boolean(l.subproceso)?Object.keys(l.subproceso).length+" subprocesos":"0 subprocesos",label:l.titulo,key:d,"dense-toggle":"","default-opened":!e.principal,"switch-toggle-side":"","expand-icon-toggle":""},null,8,["expand-icon","expanded-icon","icon-color","caption","label","default-opened"])):(0,r.Q3)("v-if",!0),(0,r.RG)(e.$slots,"header-personalizado",{},function(){return[(0,r.Lk)("div",le,[(0,r.Lk)("div",se,[(0,r.bF)(s,{icon:"edit",color:"primary",flat:"",onClick:(0,i.D$)(function(t){return e.editarProceso(l.idproceso)},["stop"]),style:{width:"0px",color:"#505050"}},{default:(0,r.k6)(function(){return[(0,r.bF)(a,null,{default:(0,r.k6)(function(){return n()(t[1]||(t[1]=[(0,r.Lk)("span",null,"Editar Proceso",-1)]))}),_:1})]}),_:1},8,["onClick"]),(0,r.bF)(s,{icon:"delete",color:"primary",flat:"",onClick:(0,i.D$)(function(t){return e.eliminarProceso(l.idproceso,l.idprocesopadre)},["stop"]),style:{width:"0px",color:"#505050"}},{default:(0,r.k6)(function(){return[(0,r.bF)(a,null,{default:(0,r.k6)(function(){return n()(t[2]||(t[2]=[(0,r.Lk)("span",null,"Eliminar Proceso",-1)]))}),_:1})]}),_:1},8,["onClick"])])])]})]}),default:(0,r.k6)(function(){return[l&&l.subproceso?((0,r.uX)(),(0,r.Wv)(u,{class:"q-pl-md",procesos:l.subproceso,principal:!1,key:d,onMostrarReporte:e.mostrarReporteProceso,onActualizar:e.actualizarProceso},{default:(0,r.k6)(function(){return[(0,r.bF)(c,{name:"header-personalizado"})]}),_:1},8,["procesos","onMostrarReporte","onActualizar"])):(0,r.Q3)("v-if",!0)]}),_:2},1024)}),256)),e.modalProceso?((0,r.uX)(),(0,r.Wv)(d,{key:0,modelValue:e.modalProceso,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.modalProceso=t}),action:"update","id-proceso":e.idProceso,onActualizarProceso:e.actualizarProceso,title:"Editar"},null,8,["modelValue","id-proceso","onActualizarProceso"])):(0,r.Q3)("v-if",!0)],10,ie)}o(11777);var ue=o(22926),de=o(30640),pe=o(65673),me=o(82327),fe=o(88865),Ie=(o(39866),{class:"row q-col-gutter-sm"}),Ee={class:"col-xs-12"},he={class:"row q-col-gutter-sm"},ve={class:"col-xs-12"},Ae={class:"col-xs-12"},Re={class:"col-xs-12"},ge={class:"col-xs-12 col-sm-6"},Oe={class:"col-xs-12 col-sm-6"},Ce={key:0,class:"col-xs-12"},be={class:"col-xs-12"},Pe={class:"row q-col-gutter-sm"},Se={class:"col-xs-12"},De={class:"col-xs-12"},we={class:"col-xs-12"},Te={key:0,class:"col-xs-12"},ke={class:"row"},Ne={class:"full-width q-px-md q-pb-md"},Le={key:0,class:"text-left"},Me=["onClick"],Ve={class:"text-right"};function _e(e,t){var o=(0,r.g2)("q-input"),a=(0,r.g2)("q-select"),n=(0,r.g2)("q-card-section"),i=(0,r.g2)("sie-upload"),s=(0,r.g2)("q-btn"),c=(0,r.g2)("sie-pdf"),u=(0,r.g2)("q-card"),d=(0,r.g2)("sie-modal");return(0,r.uX)(),(0,r.Wv)(d,{modelValue:e.modalProceso,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.modalProceso=t}),title:e.title,css:{"min-height":0,"max-width":e.isSmall?"100vw":"60vw"},onSubmit:e.guardar},{default:(0,r.k6)(function(){return[(0,r.bF)(u,{class:(0,l.C4)({"full-height":!e.isSmall})},{default:(0,r.k6)(function(){return[(0,r.bF)(n,null,{default:(0,r.k6)(function(){return[(0,r.Lk)("div",Ie,[(0,r.Lk)("div",Ee,[(0,r.bF)(n,{class:"q-card--bordered"},{default:(0,r.k6)(function(){return[(0,r.Lk)("div",he,[t[10]||(t[10]=(0,r.Lk)("div",{class:"col-xs-12"},[(0,r.Lk)("span",{class:"text-bold"},"Ingrese Datos")],-1)),(0,r.Lk)("div",ve,[(0,r.bF)(o,{modelValue:e.form.TITULO,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.form.TITULO=t}),outlined:"",label:"Título"},null,8,["modelValue"])]),(0,r.Lk)("div",Ae,[(0,r.bF)(o,{modelValue:e.form.RESPONSABLE,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.form.RESPONSABLE=t}),outlined:"",label:"Responsable"},null,8,["modelValue"])]),(0,r.Lk)("div",Re,[(0,r.bF)(o,{modelValue:e.form.ABREVIATURA,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.form.ABREVIATURA=t}),outlined:"",label:"Abreviatura"},null,8,["modelValue"])]),(0,r.Lk)("div",ge,[(0,r.bF)(o,{modelValue:e.form.NIVEL_PROCESO,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.form.NIVEL_PROCESO=t}),type:"number",outlined:"",label:"Nivel",onBlur:e.getListarProcesosPad,disable:"update"===e.action},null,8,["modelValue","onBlur","disable"])]),(0,r.Lk)("div",Oe,[(0,r.bF)(o,{modelValue:e.form.ORDEN,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.form.ORDEN=t}),type:"number",outlined:"",label:"Orden"},null,8,["modelValue"])]),[2,3,4].includes(Number(e.form.NIVEL_PROCESO))?((0,r.uX)(),(0,r.CE)("div",Ce,[(0,r.bF)(a,{modelValue:e.form.IDPROCESO_PADRE,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.form.IDPROCESO_PADRE=t}),outlined:"",options:e.optionsProcesoPadre,label:"Procesos padre"},null,8,["modelValue","options"])])):(0,r.Q3)("v-if",!0)])]}),_:1})]),(0,r.Lk)("div",be,[(0,r.bF)(n,{class:"q-card--bordered"},{default:(0,r.k6)(function(){return[(0,r.Lk)("div",Pe,[(0,r.Q3)(" Tipo Reporte Adjunto "),t[12]||(t[12]=(0,r.Lk)("div",{class:"col-xs-12"},[(0,r.Lk)("span",{class:"text-bold"},"Reporte Adjunto")],-1)),(0,r.Lk)("div",Se,[(0,r.bF)(o,{modelValue:e.formAdjunto.TITULO,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.formAdjunto.TITULO=t}),outlined:"",label:"Título adjunto"},null,8,["modelValue"])]),(0,r.Lk)("div",De,[(0,r.bF)(o,{modelValue:e.formAdjunto.ANIO,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.formAdjunto.ANIO=t}),type:"number",outlined:"",label:"Año"},null,8,["modelValue"])]),(0,r.Lk)("div",we,[(0,r.bF)(i,{onUpload:e.addFile,botones:!1,icon:"file",multiple:!0,title:"Subir Archivos",allow:["pdf"]},null,8,["onUpload"])]),e.adjuntos.length?((0,r.uX)(),(0,r.CE)("div",Te,[(0,r.Lk)("div",ke,[(0,r.Lk)("table",Ne,[t[11]||(t[11]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",{class:"text-bold text-left"},[(0,r.Lk)("th",null,"Año"),(0,r.Lk)("th",null,"Título"),(0,r.Lk)("th",null,"Archivo"),(0,r.Lk)("th",{class:"text-right"},"Eliminar")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.adjuntos,function(t,o){return(0,r.uX)(),(0,r.CE)(r.FK,{key:o},[t&&t.IDADJUNTO?((0,r.uX)(),(0,r.CE)("tr",Le,[(0,r.Lk)("td",null,(0,l.v_)(t.ANIO),1),(0,r.Lk)("td",null,(0,l.v_)(t.TITULO),1),(0,r.Lk)("td",{class:"cursor-pointer",onClick:function(o){return e.verAdjunto(t)}},[(0,r.Lk)("span",null,(0,l.v_)(t.RUTA.split("cc_adjuntos/cc_proceso/")[1]),1)],8,Me),(0,r.Lk)("td",Ve,[(0,r.bF)(s,{icon:"delete",color:"negative",onClick:function(o){return e.eliminarAdjunto(t)}},null,8,["onClick"])])])):(0,r.Q3)("v-if",!0)],64)}),128))])])])])):(0,r.Q3)("v-if",!0)])]}),_:1})])]),e.modalVerAdjunto?((0,r.uX)(),(0,r.Wv)(d,{key:0,modelValue:e.modalVerAdjunto,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.modalVerAdjunto=t}),title:"Adjunto",css:{"min-height":0,height:"100vh",width:"100vw"}},{default:(0,r.k6)(function(){return[(0,r.bF)(u,{class:(0,l.C4)({"full-height":!e.isSmall})},{default:(0,r.k6)(function(){return[(0,r.bF)(n,null,{default:(0,r.k6)(function(){return[(0,r.bF)(c,{name:"adjuntos",style:{height:"calc(100vh - 252px) !important"}})]}),_:1})]}),_:1},8,["class"])]}),_:1},8,["modelValue"])):(0,r.Q3)("v-if",!0)]}),_:1})]}),_:1},8,["class"])]}),_:1},8,["modelValue","title","css","onSubmit"])}o(89571);var Ue=o(99515),ye=o(3112),Fe=o(53380),xe=o(59089),$e=o(33950),je=o(84603),Qe={emits:["update:modelValue","input","agregar-proceso","actualizar-proceso"],name:"proceso",components:{QInput:J.A,QSelect:H.A,sieModal:de.A,QCard:te.A,QCardSection:oe.A,QRadio:Ue.A,QCheckbox:ye.A,QSeparator:Fe.A,QUploader:K.Iu,sieUpload:xe.A,siePdf:je.A,QBtn:K.Il},props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:"Nuevo Proceso"},action:{type:String,default:"create"},idProceso:{type:Number,default:0}},computed:{modalProceso:{get:function(){return this.modelValue},set:function(e){this.$emit("update:modelValue",e),this.$emit("input",e)}},titleModal:{get:function(){return this.titulo},set:function(e){this.$emit("update:modelValue",e),this.$emit("input",e)}},isSmall:function(){return Y.A.sm||Y.A.xs},fileName:function(){return this.rowAdjunto&&this.rowAdjunto.RUTA?this.rowAdjunto.RUTA.split("cc_adjuntos/cc_proceso/")[1]:""}},data:function(){return{form:{IDPROCESO:null,TITULO:null,NIVEL_PROCESO:null,ORDEN:null,IDPROCESO_PADRE:null,ABREVIATURA:null},formAdjunto:{ID_ADJUNTO:null,ID_PROCESO:null,TITULO:null,ANIO:null,RUTA:null},fileTmp:{},adjuntos:[],modalVerAdjunto:!1,rowAdjunto:{},optionsProcesoPadre:[]}},methods:{guardar:function(){var e=this;return B()(X()().m(function t(){var o;return X()().w(function(t){while(1)switch(t.p=t.n){case 0:if(t.p=0,"create"!==e.action){t.n=1;break}return t.n=1,e.agregrarProceso();case 1:if("update"!==e.action){t.n=2;break}return t.n=2,e.actualizarProceso();case 2:t.n=4;break;case 3:t.p=3,o=t.v,e.$notify(o.message,"warning");case 4:return t.a(2)}},t,null,[[0,3]])}))()},getListarProcesosPad:function(){var e=this;return B()(X()().m(function t(){var o,a;return X()().w(function(t){while(1)switch(t.p=t.n){case 0:if(t.p=0,!(e.form.NIVEL_PROCESO>4)){t.n=1;break}throw e.form.IDPROCESO_PADRE=null,new Error("El nivel máximo es 4");case 1:if(!(e.form.NIVEL_PROCESO>1)){t.n=3;break}return t.n=2,e.$http.get("api/CcProcesoController/getListarProcesosPad",{params:{todosLosNiveles:!1,nivel:e.form.NIVEL_PROCESO}});case 2:o=t.v,e.optionsProcesoPadre=o,t.n=4;break;case 3:e.optionsProcesoPadre=[];case 4:"create"===e.action&&(e.form.IDPROCESO_PADRE=null),t.n=6;break;case 5:t.p=5,a=t.v,e.$alert(a.message,"warning");case 6:return t.a(2)}},t,null,[[0,5]])}))()},getListaProceso:function(){var e=arguments,t=this;return B()(X()().m(function o(){var a;return X()().w(function(o){while(1)switch(o.n){case 0:return a=e.length>0&&void 0!==e[0]?e[0]:{},o.a(2,t.$http.get("api/CcProcesoController/getListaProceso",{params:{parametros:a}}))}},o)}))()},validarFormProcesoAdjunto:function(){try{if(Object.keys(this.fileTmp).length&&!this.formAdjunto.ANIO)throw new Error("Por favor escribir el año para el archivo adjunto")}catch(e){throw new Error(e.message)}},validarForm:function(){try{if(!this.form.TITULO)throw new Error("Debe escribir un título");if(!this.form.IDPROCESO_PADRE&&1!==Number(this.form.NIVEL_PROCESO))throw new Error("Debe de elegir un proceso padre");if(!this.form.ORDEN)throw new Error("Debe ingresar el número de orden");if(!this.form.NIVEL_PROCESO)throw new Error("Debe elegir un nivel")}catch(e){throw new Error(e.message)}},agregrarProceso:function(){var e=this;return B()(X()().m(function t(){var o,a,n;return X()().w(function(t){while(1)switch(t.p=t.n){case 0:return t.p=0,e.validarFormProcesoAdjunto(),e.validarForm(),t.n=1,e.$http.post("api/CcProcesoController/postAgregarProceso",{data:{formProceso:e.form,formAdjunto:e.formAdjunto,dataAdjuntos:e.adjuntos}});case 1:o=t.v,a=o.message,e.$emit("agregar-proceso"),e.$notify(a,"success"),e.modalProceso=!1,t.n=3;break;case 2:throw t.p=2,n=t.v,new Error(n.message);case 3:return t.a(2)}},t,null,[[0,2]])}))()},actualizarProceso:function(){var e=this;return B()(X()().m(function t(){var o,a,n;return X()().w(function(t){while(1)switch(t.p=t.n){case 0:if(t.p=0,e.validarForm(),!Object.keys(e.fileTmp).length){t.n=1;break}if(e.formAdjunto.ANIO){t.n=1;break}throw new Error("Por favor escribir el año para el archivo adjunto");case 1:return t.n=2,e.$http.put("api/CcProcesoController/putActualizarProceso",{idproceso:e.idProceso,params:{formProceso:e.form,formAdjunto:e.formAdjunto,dataAdjuntos:e.adjuntos}});case 2:o=t.v,a=o.message,e.$emit("actualizar-proceso"),e.$notify(a,"success"),e.modalProceso=!1,t.n=4;break;case 3:throw t.p=3,n=t.v,new Error(n.message);case 4:return t.a(2)}},t,null,[[0,3]])}))()},upload:function(e){var t=this;return B()(X()().m(function o(){var a,n;return X()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,o.n=1,(0,$e["default"])({file:e[0]});case 1:if(a=o.v,t.fileTmp=a,!(e.size>=1e6)){o.n=2;break}return o.a(2,t.$alert("El peso máximo del archivo debe ser de 1 Mb","warning"));case 2:if(Object.keys(t.fileTmp).length){o.n=3;break}throw new Error("Hubo un inconveniente al cargar el archivo");case 3:o.n=5;break;case 4:o.p=4,n=o.v,console.log(n);case 5:return o.a(2)}},o,null,[[0,4]])}))()},addFile:function(e){var t=this;return B()(X()().m(function o(){return X()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,t.upload(e);case 1:t.adjuntos.map(function(e){e.IDPROCESO||t.adjuntos.splice(t.adjuntos.indexOf(e),1)}),t.adjuntos.push(t.fileTmp);case 2:return o.a(2)}},o)}))()},verAdjunto:function(e){var t=this;return B()(X()().m(function o(){var a,n,r;return X()().w(function(o){while(1)switch(o.n){case 0:return t.modalVerAdjunto=!0,t.rowAdjunto=e,a={tiporeporte:"PA",idadjunto:e.IDADJUNTO,zoom:65},n=e.RUTA.split("cc_adjuntos/cc_proceso/")[1],r="/intranet/mapa-procesos/vista-previa-reporte",o.n=1,t.$nextTick();case 1:(0,W.exportFilePhp)(a,r,n,"adjuntos");case 2:return o.a(2)}},o)}))()},eliminarAdjunto:function(e){var t=this;return B()(X()().m(function o(){var a,n,r;return X()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,t.rowAdjunto=e,a="¿Desea eliminar el registro?, el proceso sera irreversible.",o.n=1,t.$confirmar(a,"delete");case 1:if(n=o.v,!n){o.n=3;break}return o.n=2,t.$http.delete("api/CcProcesoAdjuntoController/deleteCcProcesoAdjunto",{params:{idadjunto:t.rowAdjunto.IDADJUNTO}});case 2:t.adjuntos.splice(t.adjuntos.indexOf(e),1);case 3:t.$notify("Proceso eliminado satisfactoriamente"),o.n=5;break;case 4:o.p=4,r=o.v,t.$notify(r.message,"warning");case 5:return o.a(2)}},o,null,[[0,4]])}))()},initAcion:function(){var e=this;return B()(X()().m(function t(){var o,a;return X()().w(function(t){while(1)switch(t.p=t.n){case 0:if(t.p=0,"update"!==e.action){t.n=3;break}if(e.idProceso){t.n=1;break}throw new Error("El código del proceso es obligatorio");case 1:return e.fileTmp={},t.n=2,e.getListaProceso({idproceso:e.idProceso});case 2:o=t.v,o.length&&(e.form.IDPROCESO=o[0].IDPROCESO,e.form.TITULO=o[0].TITULO,e.form.NIVEL_PROCESO=o[0].NIVEL_PROCESO,e.form.ORDEN=o[0].ORDEN,e.form.IDPROCESO_PADRE=o[0].IDPROCESO_PADRE,e.form.ABREVIATURA=o[0].ABREVIATURA,e.form.RESPONSABLE=o[0].RESPONSABLE,e.adjuntos=o[0].ADJUNTOS);case 3:return t.n=4,e.getListarProcesosPad();case 4:t.n=6;break;case 5:t.p=5,a=t.v,e.$alert(a.message,"warning");case 6:return t.a(2)}},t,null,[[0,5]])}))()}},created:function(){var e=this;return B()(X()().m(function t(){return X()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,e.initAcion();case 1:return t.a(2)}},t)}))()}},Ge=o(12807);const qe=(0,Ge.A)(Qe,[["render",_e]]);var Xe=qe,ze={emits:["open-modal-indicador","mostrar-reporte","actualizar"],name:"proceso",components:{QInput:J.A,QSelect:H.A,QCollapsible:K.eS,QChip:K.wQ,QExpansionItem:ue.A,sieModal:de.A,QList:pe.A,QItem:me.A,QItemSection:fe.A,formularioProceso:Xe,QBtn:K.Il,QTooltip:K.nC},props:{procesos:{type:Object,default:function(){}},principal:{type:Boolean,default:!0},showIndicadores:{type:Boolean,default:!0}},data:function(){return{sieInfo:(0,Z["default"])(),current:[],currentIframeUrl:"",modalProceso:!1,idIndicador:null,tipoReporte:null,titulo:null,mapa:null,optionsCompartivo:[],optionsTipoGrafico:[],optionsNivelSatisfaccion:[],anioInicio:(new Date).getFullYear()-1,anioFin:(new Date).getFullYear(),grafico:null,comparativo:null,satisfaccion:null,showReporte:!1,parametrosReporte:{},expanded:!0}},methods:{mostrarParametros:function(e){var t=this;return B()(X()().m(function o(){var a,n,r,i,l,s,c,u;return X()().w(function(o){while(1)switch(o.p=o.n){case 0:if(o.p=0,e.tipo_reporte,"M"!==e.tipo_reporte){o.n=2;break}return o.n=1,t.$http.get("api/CcIndicadorController/getParametrosReporteManual",{params:{params:{id_indicador:e.id_indicador}}});case 1:a=o.v,n=a.cboComparativo,r=a.cboTipoGrafico,t.optionsCompartivo=n.dataComparativo,t.optionsTipoGrafico=r.dataGrafico,t.optionsNivelSatisfaccion=[],t.grafico=r.selectGrafico.GRAFICO_DEFECTO||null,t.comparativo=n.selectComparativo||null;case 2:if("S"!==e.tipo_reporte){o.n=3;break}return o.n=3,t.$http.get("api/CcIndicadorController/getParametrosReporteSistema",{params:{params:{idindicador:e.id_indicador}}});case 3:if("E"!==e.tipo_reporte){o.n=5;break}return o.n=4,t.$http.get("api/CcIndicadorController/getParametrosReporteEncuesta",{params:{params:{id_indicador:e.id_indicador}}});case 4:i=o.v,l=i.cboComparativo,s=i.cboTipoGrafico,c=i.cboNivelSatisfaccion,t.optionsCompartivo=l.dataComparativo,t.optionsTipoGrafico=s.dataGrafico,t.optionsNivelSatisfaccion=c,t.grafico=s.selectGrafico.GRAFICO_DEFECTO||null,t.comparativo=l.selectComparativo||null;case 5:o.n=7;break;case 6:o.p=6,u=o.v,t.$alert(u.message,"warning");case 7:return o.a(2)}},o,null,[[0,6]])}))()},openModalProceso:function(e){if(e.id_indicador=Number(e.id_indicador),"A"===e.tipo_reporte)return this.idIndicador=e.id_indicador,this.tipoReporte=e.tipo_reporte,this.titulo=e.titulo,this.mapa=e.mapa,void this.mostrarReporte();"M"===e.tipo_reporte&&(this.idIndicador=e.id_indicador,this.tipoReporte=e.tipo_reporte,this.titulo=e.titulo,this.mapa=e.mapa,this.modalProceso=!0),e.tipo_reporte,"E"===e.tipo_reporte&&(this.idIndicador=e.id_indicador,this.tipoReporte=e.tipo_reporte,this.titulo=e.titulo,this.mapa=e.mapa,this.modalProceso=!0),this.parametrosReporte=e,this.mostrarParametros(e)},openModalProcesoProceso:function(e){this.$emit("open-modal-indicador",e)},goReporte:function(){var e="intranet.gestionCalidad.configuracion";this.$router.push({name:e,params:{idIndicador:this.idIndicador}})},mostrarReporte:function(e){"A"===this.tipoReporte&&(e={idindicador:this.idIndicador,tiporeporte:this.tipoReporte,anosession:this.sieInfo.ano}),"M"===this.tipoReporte&&(e={idindicador:this.idIndicador,tiporeporte:this.tipoReporte,ano1:this.anioInicio,ano2:this.anioFin,grafico:this.grafico,modocomparativo:this.comparativo}),"S"===this.tipoReporte&&(e={}),"E"===this.tipoReporte&&(e={idindicador:this.idIndicador,tiporeporte:this.tipoReporte,ano1:this.anioInicio,ano2:this.anioFin,grafico:this.grafico,modocomparativo:this.comparativo});var t="/intranet/mapa-procesos/vista-previa-reporte",o={data:e,action:t,parametros:this.parametrosReporte};this.$emit("mostrar-reporte",o),this.modalProceso=!1},mostrarReporteProceso:function(e){this.$emit("mostrar-reporte",e)},editarProceso:function(e){this.modalProceso=!0,this.idProceso=e},actualizarProceso:function(){this.$emit("actualizar")},eliminarProceso:function(e,t){var o=this;return B()(X()().m(function t(){var a,n,r;return X()().w(function(t){while(1)switch(t.p=t.n){case 0:return o.idProceso=e,a="¿Desea eliminar el registro?, el proceso sera irreversible.",t.n=1,o.$confirmar(a,"delete");case 1:if(n=t.v,!n){t.n=5;break}return t.p=2,t.n=3,o.$http.delete("api/CcProcesoController/deleteProceso",{params:{params:{idproceso:o.idProceso}}});case 3:o.$emit("actualizar"),o.$notify("Proceso eliminado satisfactoriamente"),t.n=5;break;case 4:t.p=4,r=t.v,o.$notify(r.message,"warning");case 5:return t.a(2)}},t,null,[[2,4]])}))()}},created:function(){},watch:{procesos:{deep:!0,handler:function(e){return e}}}};const Be=(0,Ge.A)(ze,[["render",ce]]);var We=Be,Ze={class:"col-xs-12"};function Je(e,t){var o=(0,r.g2)("sie-table"),a=(0,r.g2)("formulario-indicador");return(0,r.uX)(),(0,r.CE)("div",Ze,[(0,r.bF)(o,{class:"full-width",data:e.indicadores,columns:e.fields,config:e.config,context:this,showSearch:!1,css:{height:"65vh"},onRowSelected:e.rowSelect,showRefresh:!0},null,8,["data","columns","config","onRowSelected"]),e.modalIndicador?((0,r.uX)(),(0,r.Wv)(a,{key:0,modelValue:e.modalIndicador,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.modalIndicador=t}),options:e.options,action:"update","id-indicador":e.idIndicador,title:e.titleFormulario,onActualizarIndicador:e.actualizarIndicador,onEliminarAdjunto:e.eliminarAdjunto,month:e.meses,niveles:e.niveles,grados:e.grados},null,8,["modelValue","options","id-indicador","title","onActualizarIndicador","onEliminarAdjunto","month","niveles","grados"])):(0,r.Q3)("v-if",!0)])}var He={class:"row q-col-gutter-sm"},Ke={class:"col-xs-12 col-sm-6"},Ye={class:"row q-col-gutter-sm"},et={class:"col-xs-12"},tt={class:"col-xs-12"},ot={class:"col-xs-12"},at={class:"col-xs-12"},nt={class:"col-xs-12"},rt={class:"col-xs-12"},it={class:"row col-xs-12 q-col-gutter-sm"},lt={class:"col-xs-12 row q-col-gutter-sm"},st={class:"col-xs-12 row justify-center"},ct={class:"col-xs-12 col-sm-6"},ut={class:"row justify-between items-center q-mb-sm"},dt={class:"row col justify-between items-center q-mb-sm"},pt={class:"column items-center"},mt={class:"col text-ano"},ft={class:"col text-reporte"},It={key:0,class:"row q-gutter-sm q-my-xs"},Et={class:"row q-col-gutter-sm"},ht={class:"col-xs-12"},vt={class:"colxs-12"},At={class:"col-xs-12 col-sm-6"},Rt={class:"col-xs-12 col-sm-6"},gt={key:0,class:"row q-col-gutter-sm"},Ot={key:0,class:"col-xs-12"},Ct={key:1,class:"col-xs-12"},bt={class:"row q-col-gutter-sm"},Pt={class:"col-12"},St={class:"row"},Dt={class:"col-xs-12"},wt={key:0,class:"col-xs-12"},Tt={key:0,class:"col-xs-12"},kt={key:0,class:"row q-col-gutter-sm"},Nt={class:"row col-q-gutter-sm"},Lt={class:"col-xs-12"},Mt={class:"col-xs-12"},Vt={class:"full-width q-px-md q-pb-md"},_t={key:0,class:"text-left"},Ut=["onClick"],yt={class:"text-right"},Ft={key:1,class:"row q-col-gutter-sm"},xt={class:"col-xs-12"},$t={class:"row q-col-gutter-sm"},jt={class:"col"},Qt={key:0,class:"col row justify-end"},Gt={class:"col-xs-12"},qt={key:2,class:"row q-col-gutter-sm"},Xt={key:0,class:"col-xs-12"},zt={key:1,class:"col-xs-12"},Bt={class:"row q-col-gutter-sm"},Wt={class:"row q-col-gutter-sm"},Zt={class:"col-xs-12"},Jt={class:"col-xs-12"},Ht={class:"col-xs-12 col-sm-6"},Kt={class:"row q-col-gutter-sm"},Yt={class:"col-xs-12"},eo={class:"row justify-center"},to={class:"q-table"},oo={class:"q-tr"},ao={class:"q-td row justify-center items-center"},no={class:"q-td justify-center"},ro={class:"q-td"},io={class:"q-tr"},lo={class:"q-td row justify-center items-center"},so={class:"q-td"},co={class:"q-td"},uo={class:"q-tr"},po={class:"q-td row justify-center items-center"},mo={class:"q-td"},fo={class:"q-td"},Io={class:"row q-col-gutter-sm"},Eo={class:"col-xs-12"},ho={class:"col-xs-12"},vo={class:"col-xs-12"},Ao={class:"col-xs-12"},Ro={class:"row q-col-gutter-sm"},go={class:"col-xs-12"},Oo={class:"row q-col-gutter-sm"},Co={class:"col-xs-12 col-sm-2"},bo={class:"col-xs-12 col-sm-2"},Po={class:"col-xs-12 col-sm-8"},So={class:"col-xs-12"},Do={class:"row"},wo={class:"col-xs-12"};function To(e,t){var o=this,a=(0,r.g2)("q-select"),s=(0,r.g2)("q-input"),c=(0,r.g2)("q-btn"),u=(0,r.g2)("q-card-section"),d=(0,r.g2)("q-checkbox"),p=(0,r.g2)("sie-table"),m=(0,r.g2)("sie-upload"),f=(0,r.g2)("q-tooltip"),I=(0,r.g2)("q-card"),E=(0,r.g2)("sie-modal"),h=(0,r.g2)("q-color"),v=(0,r.g2)("sie-pdf");return(0,r.uX)(),(0,r.Wv)(E,{modelValue:e.modalIndicador,"onUpdate:modelValue":t[46]||(t[46]=function(t){return e.modalIndicador=t}),title:e.title,css:{"min-height":0,"max-width":e.isSmall?"100vw":"80vw"},onSubmit:e.guardar},{default:(0,r.k6)(function(){return[(0,r.bF)(I,{class:(0,l.C4)({"full-height":!e.isSmall})},{default:(0,r.k6)(function(){return[(0,r.bF)(u,null,{default:(0,r.k6)(function(){return[(0,r.Lk)("div",He,[(0,r.Lk)("div",Ke,[(0,r.bF)(u,{class:"q-card--bordered full-height"},{default:(0,r.k6)(function(){return[(0,r.Lk)("div",Ye,[t[48]||(t[48]=(0,r.Lk)("div",{class:"col-xs-12"},[(0,r.Lk)("span",{class:"text-bold"},"Ingrese Datos")],-1)),(0,r.Lk)("div",et,[(0,r.bF)(a,{modelValue:e.form.IDPROCESO,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.form.IDPROCESO=t}),outlined:"",options:e.options.procesos,label:"Ubicación en el mapa"},null,8,["modelValue","options"])]),(0,r.Lk)("div",tt,[(0,r.bF)(a,{modelValue:e.form.IDTIPO,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.form.IDTIPO=t}),outlined:"",options:e.options.tipos,label:"Tipo"},null,8,["modelValue","options"])]),(0,r.Lk)("div",ot,[(0,r.bF)(a,{modelValue:e.form.IDCAMPO,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.form.IDCAMPO=t}),outlined:"",options:e.options.campos,label:"Campo"},null,8,["modelValue","options"])]),(0,r.Lk)("div",at,[(0,r.bF)(a,{modelValue:e.form.IDCRITERIO,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.form.IDCRITERIO=t}),outlined:"",options:e.options.criterios,label:"Criterio"},null,8,["modelValue","options"])]),(0,r.Lk)("div",nt,[(0,r.bF)(s,{modelValue:e.form.TITULO,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.form.TITULO=t}),outlined:"",label:"Título del indicador"},null,8,["modelValue"])]),(0,r.Lk)("div",rt,[(0,r.bF)(s,{modelValue:e.form.FORMULA,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.form.FORMULA=t}),outlined:"",label:"Formula del indicador"},null,8,["modelValue"])]),(0,r.Lk)("div",it,[(0,r.bF)(a,{class:"col",modelValue:e.form.TENDENCIA,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.form.TENDENCIA=t}),outlined:"",options:e.dataTendencia,label:"Tendencia Esperada"},null,8,["modelValue","options"]),(0,r.bF)(s,{class:"col",modelValue:e.form.FRECUENCIA,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.form.FRECUENCIA=t}),outlined:"",label:"Frecuencia de medición"},null,8,["modelValue"])]),(0,r.Lk)("div",lt,[(0,r.bF)(s,{class:"col",modelValue:e.form.ORDEN,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.form.ORDEN=t}),mask:"##########",outlined:"",label:"Orden"},null,8,["modelValue"]),(0,r.bF)(s,{class:"col",modelValue:e.form.META_GLOBAL,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.form.META_GLOBAL=t}),outlined:"",label:"Meta Global",type:"number",min:"0",max:"100"},{append:(0,r.k6)(function(){return n()(t[47]||(t[47]=[(0,r.Lk)("div",null,"%",-1)]))}),_:1},8,["modelValue"]),(0,r.bF)(a,{class:"col",modelValue:e.form.TIPO_CUMPLIMIENTO,"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.form.TIPO_CUMPLIMIENTO=t}),outlined:"",options:e.optionsTipoCalculo,label:"Tipo de Cumplimiento"},null,8,["modelValue","options"])]),(0,r.Lk)("div",st,[(0,r.bF)(c,{class:"col q-mr-md",label:"Perfiles",color:"primary",size:"13px",onClick:e.openModalPerfiles},null,8,["onClick"]),(0,r.bF)(c,{class:"col",label:"N. Cumplimiento",color:"primary",size:"13px",onClick:e.openModalNiveles},null,8,["onClick"])])])]}),_:1})]),(0,r.Lk)("div",ct,[(0,r.Lk)("div",ut,[(0,r.bF)(c,{color:"primary",flat:"",dense:"",round:"",icon:"chevron_left",onClick:e.prev,disable:0===e.startIndex},null,8,["onClick","disable"]),(0,r.Lk)("div",dt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.visibleButtons,function(t,o){return(0,r.uX)(),(0,r.CE)("div",{key:o,class:"col-4 q-pa-sm"},[(0,r.bF)(c,{class:"col",flat:e.yearSelect!==t.year,dense:"",color:"primary",onClick:function(o){return e.selectBtn(t)}},{default:(0,r.k6)(function(){return[(0,r.Lk)("div",pt,[(0,r.Lk)("div",mt,(0,l.v_)(t.year),1),(0,r.Lk)("div",ft,(0,l.v_)(t.label),1)])]}),_:2},1032,["flat","onClick"])])}),128))]),(0,r.bF)(c,{flat:"",dense:"",round:"",icon:"add",onClick:e.addAno},null,8,["onClick"]),(0,r.bF)(c,{flat:"",dense:"",round:"",color:"primary",icon:"chevron_right",onClick:e.next,disable:e.startIndex+e.visibleCount>=e.reportesVisibles.length},null,8,["onClick","disable"])]),e.yearSelect||e.openAnos?((0,r.uX)(),(0,r.CE)("div",It,[(0,r.bF)(a,{class:"col",modelValue:e.anoSelect.ANO,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.anoSelect.ANO=t}),label:"Año","option-value":"ANO","option-label":"ANO",options:e.anosAvail,onInput:e.saveAno,disable:e.yearSelect&&e.yearSelect===e.anoSelect.ANO},null,8,["modelValue","options","onInput","disable"]),(0,r.bF)(a,{class:"col",modelValue:e.anoSelect.TIPO_REPORTE,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.anoSelect.TIPO_REPORTE=t}),label:"Tipo de Reporte",options:e.tiposReportesArr,onInput:e.validarTipo},null,8,["modelValue","options","onInput"])])):(0,r.Q3)("v-if",!0),(0,r.bF)(u,{class:"q-card--bordered"},{default:(0,r.k6)(function(){return[(0,r.Lk)("div",Et,[t[49]||(t[49]=(0,r.Lk)("div",{class:"col-xs-12"},[(0,r.Lk)("span",{class:"text-bold"},"Datos para reporte")],-1)),(0,r.Lk)("div",ht,["E"===e.form.TIPO_REPORTE||"M"===e.form.TIPO_REPORTE?((0,r.uX)(),(0,r.Wv)(a,{key:0,modelValue:e.form.AGRUPAMIENTO,"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.form.AGRUPAMIENTO=t}),options:e.tiposAgrupamiento,label:"Tipo de Agrupamiento",outlined:"","emit-value":"","option-value":"IDAGRUPADOR","option-label":"DESCRIPCION"},null,8,["modelValue","options"])):(0,r.Q3)("v-if",!0)]),t[50]||(t[50]=(0,r.Lk)("div",{class:"col-xs-12"},[(0,r.Lk)("span",null,"Comparativo")],-1)),(0,r.Lk)("div",vt,[(0,r.bF)(d,{modelValue:e.formIndicadorComparativo,"onUpdate:modelValue":t[14]||(t[14]=function(t){return e.formIndicadorComparativo=t}),val:1,label:"Serie",color:"primary"},null,8,["modelValue"]),(0,r.bF)(d,{modelValue:e.formIndicadorComparativo,"onUpdate:modelValue":t[15]||(t[15]=function(t){return e.formIndicadorComparativo=t}),val:2,label:"Serie y Meta",color:"primary"},null,8,["modelValue"]),(0,r.bF)(d,{modelValue:e.formIndicadorComparativo,"onUpdate:modelValue":t[16]||(t[16]=function(t){return e.formIndicadorComparativo=t}),val:3,label:"Serie y Comparativa",color:"primary"},null,8,["modelValue"]),(0,r.bF)(d,{modelValue:e.formIndicadorComparativo,"onUpdate:modelValue":t[17]||(t[17]=function(t){return e.formIndicadorComparativo=t}),val:4,label:"Serie, Meta y Comparativa",color:"primary"},null,8,["modelValue"])]),(0,r.Lk)("div",At,[(0,r.bF)(a,{modelValue:e.form.GRAFICO_DEFECTO,"onUpdate:modelValue":t[18]||(t[18]=function(t){return e.form.GRAFICO_DEFECTO=t}),outlined:"",options:e.optionsGrafico,label:"Gráfica por defecto"},null,8,["modelValue","options"])]),(0,r.Lk)("div",Rt,[(0,r.bF)(a,{modelValue:e.form.MOSTRAR_VALGRAF,"onUpdate:modelValue":t[19]||(t[19]=function(t){return e.form.MOSTRAR_VALGRAF=t}),outlined:"",options:e.optionsRotulo,label:"Mostrar rótulo"},null,8,["modelValue","options"])])]),"E"===e.anoSelect.TIPO_REPORTE?((0,r.uX)(),(0,r.CE)("div",gt,[(0,r.Q3)(" Tipo Reporte Encuesta "),"create"===e.action?((0,r.uX)(),(0,r.CE)("div",Ot,n()(t[51]||(t[51]=[(0,r.Lk)("span",{class:"text-bold"},"Formulario activo en la edición",-1)])))):((0,r.uX)(),(0,r.CE)("div",Ct,[(0,r.Lk)("div",bt,[(0,r.Lk)("div",Pt,[(0,r.Lk)("div",St,[(0,r.Lk)("div",Dt,[(0,r.bF)(p,{class:"full-width",data:e.optionsReporteEncuesta,columns:e.fieldsReporteEncuesta,config:e.configReporteEncuesta,context:o,showSearch:!1,showRefresh:!0,css:{height:"30vh"},onRowSelected:e.rowSelectedReporteEncuesta,onRowSelectedDbl:e.rowSelectedDblReporteEncuesta},{beforeBottom:(0,r.k6)(function(){return[e.optionsReporteEncuesta.length?((0,r.uX)(),(0,r.Wv)(c,{key:0,icon:"add",dense:"",flat:"",size:"sm","no-caps":"",label:"Agregar",color:"primary",onClick:e.openModalAgregarEncuesta},null,8,["onClick"])):(0,r.Q3)("v-if",!0),e.optionsReporteEncuesta.length?((0,r.uX)(),(0,r.Wv)(c,{key:1,icon:"cogs",dense:"",flat:"",size:"sm","no-caps":"",label:"Procesar Resultados",color:"primary",onClick:e.llenarEncuestas},null,8,["onClick"])):(0,r.Q3)("v-if",!0)]}),_:1},8,["data","columns","config","onRowSelected","onRowSelectedDbl"])]),e.optionsReporteEncuesta.length?(0,r.Q3)("v-if",!0):((0,r.uX)(),(0,r.CE)("div",wt,[(0,r.bF)(c,{icon:"add",color:"primary",onClick:e.openModalAgregarEncuesta},null,8,["onClick"])]))])])])]))])):(0,r.Q3)("v-if",!0)]}),_:1})]),e.form.TIPO_REPORTE?((0,r.uX)(),(0,r.CE)("div",Tt,[(0,r.bF)(u,{class:"q-card--bordered"},{default:(0,r.k6)(function(){return["A"===e.form.TIPO_REPORTE?((0,r.uX)(),(0,r.CE)("div",kt,[(0,r.Q3)(" Tipo Reporte Adjunto "),(0,r.Lk)("div",{class:(0,l.C4)(["col-xs-12",{"col-sm-6":"update"===e.action&&e.adjuntos.length&&e.adjuntos[0].IDINDICADOR}])},[(0,r.Lk)("div",Nt,[(0,r.Lk)("div",Lt,[(0,r.bF)(s,{modelValue:e.formIndicadorAdjunto.ANIO,"onUpdate:modelValue":t[20]||(t[20]=function(t){return e.formIndicadorAdjunto.ANIO=t}),outlined:"",label:"Año"},null,8,["modelValue"])]),(0,r.Lk)("div",Mt,[(0,r.bF)(m,{onUpload:e.addFile,botones:!1,icon:"file",title:"Subir Archivos",allow:["pdf"]},null,8,["onUpload"])])])],2),e.adjuntos.length&&e.adjuntos[0].IDINDICADOR?((0,r.uX)(),(0,r.CE)("div",{key:0,class:(0,l.C4)(["col-xs-12",{"col-sm-6":"update"===e.action&&e.adjuntos.length&&e.adjuntos[0].IDINDICADOR}])},[(0,r.bF)(u,{class:"q-card--bordered"},{default:(0,r.k6)(function(){return[(0,r.Lk)("table",Vt,[t[52]||(t[52]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",{class:"text-bold text-left"},[(0,r.Lk)("th",null,"Año"),(0,r.Lk)("th",null,"Archivo"),(0,r.Lk)("th",{class:"text-right"},"Eliminar")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.adjuntos,function(t,o){return(0,r.uX)(),(0,r.CE)(r.FK,{key:o},[t&&t.IDADJUNTO?((0,r.uX)(),(0,r.CE)("tr",_t,[(0,r.Lk)("td",null,(0,l.v_)(t.ANIO),1),(0,r.Lk)("td",{class:"cursor-pointer",onClick:function(o){return e.verAdjunto(t)}},[(0,r.Lk)("span",null,(0,l.v_)(t.RUTA.split("cc_adjuntos/cc_indicador/")[1]),1)],8,Ut),(0,r.Lk)("td",yt,[(0,r.bF)(c,{icon:"delete",color:"negative",onClick:function(o){return e.eliminarAdjunto(t)}},null,8,["onClick"])])])):(0,r.Q3)("v-if",!0)],64)}),128))])])]}),_:1})],2)):(0,r.Q3)("v-if",!0)])):(0,r.Q3)("v-if",!0),"M"===e.form.TIPO_REPORTE||"E"===e.form.TIPO_REPORTE?((0,r.uX)(),(0,r.CE)("div",Ft,[(0,r.Q3)(" Tipo Reporte Manual "),(0,r.Lk)("div",xt,[(0,r.Lk)("div",$t,[(0,r.Lk)("div",jt,[(0,r.bF)(a,{modelValue:e.dataReporteManual.TIPO_CALCULO,"onUpdate:modelValue":t[21]||(t[21]=function(t){return e.dataReporteManual.TIPO_CALCULO=t}),outlined:"",options:e.optionsTipoCalculo,label:"En el reporte representar los valores en"},null,8,["modelValue","options"])]),"M"===e.form.TIPO_REPORTE?((0,r.uX)(),(0,r.CE)("div",Qt,[(0,r.bF)(d,{modelValue:e.dataReporteManual.IS_CORFEP_EFQM,"onUpdate:modelValue":t[22]||(t[22]=function(t){return e.dataReporteManual.IS_CORFEP_EFQM=t}),"true-value":1,"false-value":0,"left-label":!0,label:"Registra CORFEP EFQM"},null,8,["modelValue"]),(0,r.bF)(c,{icon:"add",color:"primary",onClick:e.agregarReporteManualDetalle},{default:(0,r.k6)(function(){return[(0,r.bF)(f,null,{default:(0,r.k6)(function(){return n()(t[53]||(t[53]=[(0,r.eW)("Agregar",-1)]))}),_:1})]}),_:1},8,["onClick"])])):(0,r.Q3)("v-if",!0)])]),t[54]||(t[54]=(0,r.Lk)("div",{class:"col-xs-12"},[(0,r.Lk)("span",null,"Nota: Ingresar los valores en cantidad:")],-1)),(0,r.Lk)("div",Gt,[(0,r.bF)(p,{class:"full-width",data:e.dataReporteManualDetalle[e.yearSelect],columns:e.fieldsReportesManualDetalle,config:e.configReportesManualDetalle,context:o,showSearch:!1,css:{height:"25vh"},onRowSelected:e.rowSelectedReporteManualDetalle},null,8,["data","columns","config","onRowSelected"])])])):(0,r.Q3)("v-if",!0),"S"===e.form.TIPO_REPORTE?((0,r.uX)(),(0,r.CE)("div",qt,[(0,r.Q3)(" Tipo Reporte Sistema "),"create"===e.action?((0,r.uX)(),(0,r.CE)("div",Xt,n()(t[55]||(t[55]=[(0,r.Lk)("span",{class:"text-bold"},"Formulario activo en la edición",-1)])))):((0,r.uX)(),(0,r.CE)("div",zt,[(0,r.Lk)("div",Bt,[(0,r.Lk)("div",{class:(0,l.C4)(["col-xs-12",{"col-md-6":e.showReporteSistemaSerie||Boolean(e.optionsReportesSistemaSerie.length)}])},[(0,r.bF)(p,{class:"full-width",ref:"refTableReportesSistema",data:e.optionsReportesSistema,columns:e.fieldsReportesSistema,config:e.configReportesSistema,context:o,showSearch:!1,css:{height:"30.5vh"},"load-selection":e.selectReporteSistema,showRefresh:!0,onRowSelected:e.rowSelectReportesSistema,onRowSelectedDbl:e.rowSelectedDblSistema},null,8,["data","columns","config","load-selection","onRowSelected","onRowSelectedDbl"])],2),(0,r.bo)((0,r.Lk)("div",{class:(0,l.C4)(["col-xs-12",{"col-md-6":e.showReporteSistemaSerie||Boolean(e.optionsReportesSistemaSerie.length)}])},[(0,r.Lk)("div",Wt,[(0,r.Lk)("div",Zt,[(0,r.bF)(p,{class:"full-width",ref:"refTableReportesSistemaSerie",data:e.optionsReportesSistemaSerie,columns:e.fieldsReportesSistemaSerie,config:e.configReportesSistemaSerie,context:o,showSearch:!1,css:{height:"30.5vh"},"load-selection":e.selectReporteSistemaSerie,showRefresh:!0,onRowSelected:e.rowSelectedReportesSistemaSerie},null,8,["data","columns","config","load-selection","onRowSelected"])]),(0,r.Lk)("div",Jt,[(0,r.bF)(c,{icon:"add",color:"primary",onClick:e.agregarReporteManualDetalle},null,8,["onClick"])])])],2),[[i.aG,e.showReporteSistemaSerie||e.optionsReportesSistemaSerie.length]])])]))])):(0,r.Q3)("v-if",!0)]}),_:1})])):(0,r.Q3)("v-if",!0)]),(0,r.bF)(E,{modelValue:e.modalPerfil,"onUpdate:modelValue":t[23]||(t[23]=function(t){return e.modalPerfil=t}),title:"Disponible para perfiles",css:{"min-height":0},onSubmit:e.guardarPerfiles},{default:(0,r.k6)(function(){return[(0,r.bF)(I,{class:(0,l.C4)({"full-height":!e.isSmall})},{default:(0,r.k6)(function(){return[(0,r.bF)(u,null,{default:(0,r.k6)(function(){return[(0,r.Lk)("div",Ht,[(0,r.bF)(u,{class:"q-card--bordered"},{default:(0,r.k6)(function(){return[(0,r.Lk)("div",Kt,[(0,r.Lk)("div",Yt,[(0,r.bF)(p,{class:"full-width",ref:"refTablePerfiles",data:e.options.perfiles,columns:e.fieldsPerfiles,config:e.configPerfiles,context:o,selection:"multiple",showSearch:!1,css:{height:"44vh"},onRowSelected:e.rowSelectPerfil,onRowSelectedDbl:e.getSerieSistema,"load-selection":e.selectPerfiles,showRefresh:!0},null,8,["data","columns","config","onRowSelected","onRowSelectedDbl","load-selection"])])])]}),_:1})])]}),_:1})]}),_:1},8,["class"])]}),_:1},8,["modelValue","onSubmit"]),(0,r.bF)(E,{modelValue:e.modalNiveles,"onUpdate:modelValue":t[33]||(t[33]=function(t){return e.modalNiveles=t}),title:"Niveles de cumplimiento",css:{"min-height":0},onSubmit:e.validarNivelesCumplimiento},{default:(0,r.k6)(function(){return[(0,r.bF)(I,{class:(0,l.C4)(["q-ma-sm",{"full-height":!e.isSmall}])},{default:(0,r.k6)(function(){return[(0,r.Lk)("div",eo,[(0,r.Lk)("table",to,[t[62]||(t[62]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",{class:"q-tr"},[(0,r.Lk)("th",{class:"q-th"},[(0,r.Lk)("span",null,"Descripción")]),(0,r.Lk)("th",{class:"q-th"},[(0,r.Lk)("span",null,"Valor Minimo")]),(0,r.Lk)("th",{class:"q-th"},[(0,r.Lk)("span",null,"Valor Máximo")])])],-1)),(0,r.Lk)("tbody",null,[(0,r.Lk)("tr",oo,[(0,r.Lk)("td",ao,[(0,r.bF)(s,{modelValue:e.indicadorCumplimiento[0].DESCRIPCION,"onUpdate:modelValue":t[24]||(t[24]=function(t){return e.indicadorCumplimiento[0].DESCRIPCION=t}),"bg-color":"negative"},null,8,["modelValue"])]),(0,r.Lk)("td",no,[(0,r.bF)(s,{modelValue:e.indicadorCumplimiento[0].VALORMINIMO,"onUpdate:modelValue":t[25]||(t[25]=function(t){return e.indicadorCumplimiento[0].VALORMINIMO=t}),type:"number",min:"0",style:{width:"90px","vertical-align":"middle"}},(0,r.eX)({_:2},["P"===e.form.TIPO_CUMPLIMIENTO?{name:"append",fn:(0,r.k6)(function(){return[t[56]||(t[56]=(0,r.eW)("%",-1))]}),key:"0"}:void 0]),1032,["modelValue"])]),(0,r.Lk)("td",ro,[(0,r.bF)(s,{modelValue:e.indicadorCumplimiento[0].VALORMAXIMO,"onUpdate:modelValue":t[26]||(t[26]=function(t){return e.indicadorCumplimiento[0].VALORMAXIMO=t}),type:"number",step:"P"===e.form.TIPO_CUMPLIMIENTO?.5:1,style:{width:"90px","vertical-align":"middle"}},(0,r.eX)({_:2},["P"===e.form.TIPO_CUMPLIMIENTO?{name:"append",fn:(0,r.k6)(function(){return[t[57]||(t[57]=(0,r.eW)("%",-1))]}),key:"0"}:void 0]),1032,["modelValue","step"])])]),(0,r.Lk)("tr",io,[(0,r.Lk)("td",lo,[(0,r.bF)(s,{modelValue:e.indicadorCumplimiento[1].DESCRIPCION,"onUpdate:modelValue":t[27]||(t[27]=function(t){return e.indicadorCumplimiento[1].DESCRIPCION=t}),"bg-color":"warning"},null,8,["modelValue"])]),(0,r.Lk)("td",so,[(0,r.bF)(s,{modelValue:e.indicadorCumplimiento[1].VALORMINIMO,"onUpdate:modelValue":t[28]||(t[28]=function(t){return e.indicadorCumplimiento[1].VALORMINIMO=t}),type:"number",step:"P"===e.form.TIPO_CUMPLIMIENTO?.5:1,style:{width:"90px","vertical-align":"middle"}},(0,r.eX)({_:2},["P"===e.form.TIPO_CUMPLIMIENTO?{name:"append",fn:(0,r.k6)(function(){return[t[58]||(t[58]=(0,r.eW)("%",-1))]}),key:"0"}:void 0]),1032,["modelValue","step"])]),(0,r.Lk)("td",co,[(0,r.bF)(s,{modelValue:e.indicadorCumplimiento[1].VALORMAXIMO,"onUpdate:modelValue":t[29]||(t[29]=function(t){return e.indicadorCumplimiento[1].VALORMAXIMO=t}),type:"number",step:"P"===e.form.TIPO_CUMPLIMIENTO?.5:1,style:{width:"90px","vertical-align":"middle"}},(0,r.eX)({_:2},["P"===e.form.TIPO_CUMPLIMIENTO?{name:"append",fn:(0,r.k6)(function(){return[t[59]||(t[59]=(0,r.eW)("%",-1))]}),key:"0"}:void 0]),1032,["modelValue","step"])])]),(0,r.Lk)("tr",uo,[(0,r.Lk)("td",po,[(0,r.bF)(s,{modelValue:e.indicadorCumplimiento[2].DESCRIPCION,"onUpdate:modelValue":t[30]||(t[30]=function(t){return e.indicadorCumplimiento[2].DESCRIPCION=t}),"bg-color":"positive"},null,8,["modelValue"])]),(0,r.Lk)("td",mo,[(0,r.bF)(s,{modelValue:e.indicadorCumplimiento[2].VALORMINIMO,"onUpdate:modelValue":t[31]||(t[31]=function(t){return e.indicadorCumplimiento[2].VALORMINIMO=t}),type:"number",step:"P"===e.form.TIPO_CUMPLIMIENTO?.5:1,style:{width:"90px","vertical-align":"middle"}},(0,r.eX)({_:2},["P"===e.form.TIPO_CUMPLIMIENTO?{name:"append",fn:(0,r.k6)(function(){return[t[60]||(t[60]=(0,r.eW)("%",-1))]}),key:"0"}:void 0]),1032,["modelValue","step"])]),(0,r.Lk)("td",fo,[(0,r.bF)(s,{modelValue:e.indicadorCumplimiento[2].VALORMAXIMO,"onUpdate:modelValue":t[32]||(t[32]=function(t){return e.indicadorCumplimiento[2].VALORMAXIMO=t}),type:"number",max:"100",step:"P"===e.form.TIPO_CUMPLIMIENTO?.5:1,style:{width:"90px","vertical-align":"middle"}},(0,r.eX)({_:2},["P"===e.form.TIPO_CUMPLIMIENTO?{name:"append",fn:(0,r.k6)(function(){return[t[61]||(t[61]=(0,r.eW)("%",-1))]}),key:"0"}:void 0]),1032,["modelValue","step"])])])])])])]}),_:1},8,["class"])]}),_:1},8,["modelValue","onSubmit"]),(0,r.bF)(E,{modelValue:e.modalColor,"onUpdate:modelValue":t[35]||(t[35]=function(t){return e.modalColor=t}),title:"Color",onSubmit:e.guardarColor},{default:(0,r.k6)(function(){return[(0,r.bF)(I,null,{default:(0,r.k6)(function(){return[(0,r.bF)(u,null,{default:(0,r.k6)(function(){return[(0,r.bF)(h,{modelValue:e.valueColor,"onUpdate:modelValue":t[34]||(t[34]=function(t){return e.valueColor=t}),"default-value":"#0a0a0a"},null,8,["modelValue"])]}),_:1})]}),_:1})]}),_:1},8,["modelValue","onSubmit"]),e.modalReporteSistemaSerieDetalle?((0,r.uX)(),(0,r.Wv)(E,{key:0,modelValue:e.modalReporteSistemaSerieDetalle,"onUpdate:modelValue":t[40]||(t[40]=function(t){return e.modalReporteSistemaSerieDetalle=t}),title:"create"===e.actionReporteSerieDetalle?"Registro nuevo":"Actualizar Registro",onSubmit:e.guardarReporteSerieDetalle},{default:(0,r.k6)(function(){return[(0,r.bF)(I,null,{default:(0,r.k6)(function(){return[(0,r.bF)(u,null,{default:(0,r.k6)(function(){return[(0,r.Lk)("div",Io,[(0,r.Lk)("div",Eo,[(0,r.bF)(s,{modelValue:e.formReporteSerieDetalle.ANO,"onUpdate:modelValue":t[36]||(t[36]=function(t){return e.formReporteSerieDetalle.ANO=t}),mask:"####",outlined:"",label:"Año"},null,8,["modelValue"])]),(0,r.Lk)("div",ho,[(0,r.bF)(a,{modelValue:e.formReporteSerieDetalle.IDSERIE,"onUpdate:modelValue":t[37]||(t[37]=function(t){return e.formReporteSerieDetalle.IDSERIE=t}),outlined:"",options:e.optionsSerie,label:"Serie"},null,8,["modelValue","options"])]),(0,r.Lk)("div",vo,[(0,r.bF)(s,{modelValue:e.formReporteSerieDetalle.META,"onUpdate:modelValue":t[38]||(t[38]=function(t){return e.formReporteSerieDetalle.META=t}),mask:"###############",outlined:"",label:"Meta"},null,8,["modelValue"])]),(0,r.Lk)("div",Ao,[(0,r.bF)(s,{modelValue:e.formReporteSerieDetalle.COMPETENCIA,"onUpdate:modelValue":t[39]||(t[39]=function(t){return e.formReporteSerieDetalle.COMPETENCIA=t}),mask:"###############",outlined:"",label:"Competencia"},null,8,["modelValue"])])])]}),_:1})]}),_:1})]}),_:1},8,["modelValue","title","onSubmit"])):(0,r.Q3)("v-if",!0),e.modalEncuesta?((0,r.uX)(),(0,r.Wv)(E,{key:1,modelValue:e.modalEncuesta,"onUpdate:modelValue":t[44]||(t[44]=function(t){return e.modalEncuesta=t}),css:{"min-height":0,"max-width":e.isSmall?"100vw":"60vw"},title:"Asignación de encuestas",ok:"update"===e.actionReporteEncuestaIndicador?"Reemplazar":"Agregar",onSubmit:e.guardarEncuesta},{default:(0,r.k6)(function(){return[(0,r.bF)(I,null,{default:(0,r.k6)(function(){return[(0,r.bF)(u,null,{default:(0,r.k6)(function(){return[(0,r.Lk)("div",Ro,[t[63]||(t[63]=(0,r.Lk)("div",{class:"col-xs-12"},[(0,r.Lk)("span",{class:"text-bold"},"Selección de filtros")],-1)),(0,r.Lk)("div",go,[(0,r.Lk)("div",Oo,[(0,r.Lk)("div",Co,[(0,r.bF)(a,{modelValue:e.filterEncuesta.ANO.model,"onUpdate:modelValue":t[41]||(t[41]=function(t){return e.filterEncuesta.ANO.model=t}),options:e.filterEncuesta.ANO.options,outlined:"",label:"Año",onInput:e.limpiarIdQuiz},null,8,["modelValue","options","onInput"])]),(0,r.Lk)("div",bo,[(0,r.bF)(s,{modelValue:e.filterEncuesta.GRUPO.model,"onUpdate:modelValue":t[42]||(t[42]=function(t){return e.filterEncuesta.GRUPO.model=t}),type:"number",outlined:"",label:"Grupo"},null,8,["modelValue"])]),(0,r.Lk)("div",Po,[(0,r.bF)(a,{ref:"refIDQUIZ",modelValue:e.filterEncuesta.IDQUIZASIGNA.model,"onUpdate:modelValue":t[43]||(t[43]=function(t){return e.filterEncuesta.IDQUIZASIGNA.model=t}),options:e.filterEncuesta.IDQUIZASIGNA.options,outlined:"",label:"Asignación / Encuesta",onInput:e.changeIdQuizAsigna},null,8,["modelValue","options","onInput"])])])]),(0,r.Lk)("div",So,[(0,r.bF)(p,{class:"full-width",data:e.rowsEncuestas,columns:e.fieldsEncuestas,config:e.configEncuestas,"load-selection":e.selectPreguntaEncuesta,context:o,showSearch:!1,showRefresh:!0,css:{height:"44vh"},onRowSelected:e.rowSelectedEncuestas,onRowSelectedDbl:e.rowSelectedDblEncuestas},null,8,["data","columns","config","load-selection","onRowSelected","onRowSelectedDbl"])])])]}),_:1})]}),_:1})]}),_:1},8,["modelValue","css","ok","onSubmit"])):(0,r.Q3)("v-if",!0),e.modalAdjunto?((0,r.uX)(),(0,r.Wv)(E,{key:2,modelValue:e.modalAdjunto,"onUpdate:modelValue":t[45]||(t[45]=function(t){return e.modalAdjunto=t}),title:"Adjunto",css:{"min-height":0,height:"100vh",width:"100vw"}},{default:(0,r.k6)(function(){return[(0,r.bF)(I,null,{default:(0,r.k6)(function(){return[(0,r.bF)(u,null,{default:(0,r.k6)(function(){return[(0,r.Lk)("div",Do,[(0,r.Lk)("div",wo,[(0,r.bF)(v,{name:"adjunto",style:{height:"calc(100vh - 252px) !important"}})])])]}),_:1})]}),_:1})]}),_:1},8,["modelValue"])):(0,r.Q3)("v-if",!0)]}),_:1})]}),_:1},8,["class"])]}),_:1},8,["modelValue","title","css","onSubmit"])}o(71225),o(85472),o(23513),o(45467),o(5962),o(90095),o(70199),o(49089),o(62692),o(13715);var ko=o(91768),No={data:function(){return{config:{ASIGNACIONES:{renderHtml:function(e,t,o,a){return e.ASIGNACIONES?a["$$background"]="white":a["$$background"]="#FFA49D",t("span",{},e.ASIGNACIONES.toString())}},ACCIONES:{component:"button",permisos:{edit:"> 1",delete:"=== 3"},icon:["edit"],tooltip:{edit:"Editar"},edit:function(e){console.log("row config formularioIndicador",e)},prevent:!0,flat:!0,dense:!0}},rows:[],fields:[{name:"IDINDICADOR",label:"Código",field:"IDINDICADOR",align:"center"},{name:"RUTA_PROCESO_ABR",label:"Ruta",field:"RUTA_PROCESO_ABR",align:"left",sortable:!0},{name:"TITULO",label:"Título",field:"TITULO",align:"left"},{name:"ORDEN",label:"Orden",field:"ORDEN",align:"center"},{name:"TIPO_REPORTE",label:"T.R",field:"TIPO_REPORTE",align:"left"},{name:"ASIGNACIONES",label:"Asignación Rep",field:"ASIGNACIONES",align:"center"},{name:"ACCIONES",label:"Editar",field:"ACCIONES",align:"center"}]}}},Lo={data:function(){return{configPerfiles:{},fieldsPerfiles:[{name:"TIPNOM",label:"Perfil",field:"TIPNOM",align:"left"}]}}},Mo={data:function(){return{configReportesManual:{ELIMINAR:{component:"button",icon:["delete"],tooltip:{delete:"Eliminar"},delete:function(e){},prevent:!0,flat:!0,dense:!0}},fieldsReportesManual:[{name:"ANIO",label:"Año",field:"ANIO",align:"center"},{name:"SERIE",label:"Serie",field:"SERIE",align:"left"},{name:"MOSTRAR",label:"Mostrar",field:"MOSTRAR",align:"center"},{name:"FORMATO_CANT",label:"Formato",field:"FORMATO_CANT",align:"left"},{name:"COLOR",label:"Color",field:"COLOR",align:"center"},{name:"CANTIDAD",label:"Cantidad",field:"CANTIDAD",align:"right"},{name:"CANTIDAD_TOTAL",label:"Cant. T",field:"CANTIDAD_TOTAL",align:"right"},{name:"META",label:"Meta",field:"META",align:"right"},{name:"COMPETENCIA",label:"Competencia",field:"COMPETENCIA",align:"right"},{name:"ELIMINAR",label:"Eliminar",field:"ELIMINAR",align:"left"}]}}},Vo={data:function(){return{configReportesManualDetalle:{ANIO:{component:"input",type:"string",autoFocus:!0,maxlength:4,input:function(e){}},IDAGRUPADOR:{component:"select",label:"Seleccione",options:[],optionValue:"IDAGRUPADOR",optionLabel:"DESCRIPCION"},NUMERADOR:{component:"input",type:"number",autoFocus:!0},CORFEP_EFQM:{component:"input",type:"decimal",autoFocus:!0},DENOMINADOR:{component:"input",type:"number",autoFocus:!0},MOSTRAR:{component:"select",label:"Seleccione",options:[],optionValue:"value",optionLabel:"label"},FORMATO_CANT:{component:"input",type:"string",autoFocus:!0,maxlength:10},COLOR:{renderHtml:function(e,t,o){return t("div",{style:{width:"100%",height:"100%",textAlign:"center",borderRadius:"2px",background:e.COLOR}})},renderAction:function(e){this.modalColor=!0,this.valueColor=e.COLOR}},CANTIDAD:{component:"input",type:"number",autoFocus:!0,maxlength:11},CANTIDAD_TOTAL:{component:"input",type:"number",autoFocus:!0,maxlength:11},META:{component:"input",type:"number",autoFocus:!0,maxlength:11},COMPETENCIA:{component:"input",type:"number",autoFocus:!0,maxlength:11},ELIMINAR:{component:"button",permisos:{delete:"=== 3"},icon:["delete"],tooltip:{delete:"Eliminar"},delete:function(e,t){var o=t.$$key;this.eliminarDetalle({row:e,key:o})},prevent:!0,flat:!0,dense:!0}}}}},_o={data:function(){return{configReportesSistema:{REPNOM:{}},fieldsReportesSistema:[{name:"REPCOD",label:"Código",field:"REPCOD",align:"center"},{name:"REPNOM",label:"Reporte",field:"REPNOM",align:"left"}]}}},Uo={data:function(){return{configReportesSistemaSerie:{REPNOM:{},ACCIONES:{component:"button",permisos:{edit:"> 1",delete:"=== 3"},icon:["edit","delete"],tooltip:{edit:"Editar",delete:"Eliminar"},edit:function(e,t){var o=this;return B()(X()().m(function t(){return X()().w(function(t){while(1)switch(t.n){case 0:try{o.rowSelectReportesSistemaSerie=e,o.actionReporteSerieDetalle="update",o.modaReporteSistemaSerieDetalle=!0,o.modalReporteSistemaSerieDetalle=!0,o.formReporteSerieDetalle.ANO=e.ANO,o.formReporteSerieDetalle.IDSERIE=e.IDSERIE,o.formReporteSerieDetalle.META=e.META,o.formReporteSerieDetalle.COMPETENCIA=e.COMPETENCIA}catch(e){o.$notify(e.message,"warning")}case 1:return t.a(2)}},t)}))()},delete:function(e){var t=this;return B()(X()().m(function o(){var a,n,r,i,l;return X()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,a="¿Desea eliminar el registro? <br>El proceso sera irreversible.",o.n=1,t.$confirmar(a,"delete",{html:!0});case 1:if(n=o.v,!n){o.n=3;break}return o.n=2,t.$http.delete("api/CcReporteSerieDetalleController/deleteCcReporteSerieDetalle",{params:{idseriedetalle:e.IDSERIEDETALLE}});case 2:r=o.v,i=r.message,t.optionsReportesSistemaSerie.map(function(o,a){o.IDSERIEDETALLE===e.IDSERIEDETALLE&&t.optionsReportesSistemaSerie.splice(a,1)}),t.$notify(i,"success");case 3:o.n=5;break;case 4:o.p=4,l=o.v,t.$notify(l.message,"warning");case 5:return o.a(2)}},o,null,[[0,4]])}))()},prevent:!0,flat:!0,dense:!0}},fieldsReportesSistemaSerie:[{name:"ANO",label:"Año",field:"ANO",align:"center"},{name:"DESCRIPCION",label:"Serie",field:"DESCRIPCION",align:"left"},{name:"META",label:"Meta",field:"META",align:"right"},{name:"COMPETENCIA",label:"Compentecia",field:"COMPETENCIA",align:"right"},{name:"ACCIONES",label:"Acciones",field:"ACCIONES",align:"center"}]}}},yo={data:function(){return{configReporteEncuesta:{TITULO_PREGUNTA:{renderHtml:function(e,t,o,a){return e.TITULO_PREGUNTA||""}},ACCIONES:{component:"button",permisos:{edit:"> 1",delete:"=== 3"},icon:["edit","delete"],tooltip:{edit:"Editar",delete:"Eliminar"},edit:function(e,t){var o=this;return B()(X()().m(function t(){var a;return X()().w(function(t){while(1)switch(t.p=t.n){case 0:return t.p=0,o.actionReporteEncuestaIndicador="update",o.modalEncuesta=!0,t.n=1,o.getListarPreguntasByIdQuiz({idquiz:e.IDQUIZ,origenencuesta:e.ORIGEN});case 1:return t.n=2,o.getListarAsignaEncuesta(e.ANO);case 2:o.filterEncuesta.IDQUIZASIGNA.model=o.rowSelectReporteEncuesta.IDQUIZASIGNA,o.filterEncuesta.ANO.model=o.rowSelectReporteEncuesta.ANO,o.filterEncuesta.GRUPO.model=o.rowSelectReporteEncuesta.GRUPO,o.selectPreguntaEncuesta.values=[e.IDPREGUNTA],t.n=4;break;case 3:t.p=3,a=t.v,o.$notify(a.message,"warning");case 4:return t.a(2)}},t,null,[[0,3]])}))()},delete:function(e){var t=this;return B()(X()().m(function o(){var a,n,r,i,l;return X()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,a={action:"delete",idencuesta_ind:e.IDENCUESTA_IND,origenencuesta:e.ORIGEN},o.n=1,t.$http.get("api/CcEncuestaIndicadorController/getMantenimientoEncuestaIndicador",{params:{params:a}});case 1:return n=o.v,r=n.message,o.n=2,t.getListaIndicador({idindicador:t.idIndicador,notLike:!0});case 2:i=o.v,t.optionsReporteEncuesta=i[0].DATA_REPORTE_ENCUESTA,t.$notify(r,"success"),o.n=4;break;case 3:o.p=3,l=o.v,t.$notify(l.message,"warning");case 4:return o.a(2)}},o,null,[[0,3]])}))()},flat:!0,dense:!0}},fieldsReporteEncuesta:[{name:"ANO",label:"Año",field:"ANO",align:"left"},{name:"GRUPO",label:"Grupo",field:"GRUPO",align:"left"},{name:"TITULO_ENCUESTA",label:"Encuesta",field:"TITULO_ENCUESTA",wrap:!0,align:"left"},{name:"TITULO_PREGUNTA",label:"Pregunta",field:"TITULO_PREGUNTA",wrap:!0,align:"left"},{name:"ACCIONES",label:"Acciones",field:"ACCIONES",align:"center"}]}}},Fo={data:function(){return{configReporteEncuestaDetalle:{META:{component:"input",type:"number",autoSelect:!0,autoFocus:!0,input:function(e,t){var o=this;return B()(X()().m(function t(){var a,n,r,i,l;return X()().w(function(t){while(1)switch(t.p=t.n){case 0:return t.p=0,e.META||(e.META=0),a="¿Está seguro que desea actualizar el registro?",t.n=1,o.$confirmar(a);case 1:if(n=t.v,!n){t.n=3;break}return t.n=2,o.$http.put("api/CcEncuestaIndicadorSerieController/putCcEncuestaIndicadorSerie",{datos:{meta:e.META},params:{idencuesta_ind:o.rowSelectDblReporteEncuesta.IDENCUESTA_IND,item:e.ITEM,origenencuesta:e.ORIGEN}});case 2:r=t.v,i=r.message,o.$notify(i,"success"),t.n=3;break;case 3:t.n=5;break;case 4:t.p=4,l=t.v,o.$notify(l.message,"warning");case 5:return t.a(2)}},t,null,[[0,4]])}))()}},COMPETENCIA:{component:"input",type:"number",autoFocus:!0,input:function(e){var t=this;return B()(X()().m(function o(){var a,n,r;return X()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,e.COMPETENCIA||(e.COMPETENCIA=0),o.n=1,t.$http.put("api/CcEncuestaIndicadorSerieController/putCcEncuestaIndicadorSerie",{datos:{competencia:e.COMPETENCIA},params:{idencuesta_ind:t.rowSelectDblReporteEncuesta.IDENCUESTA_IND,item:e.ITEM,origenencuesta:e.ORIGEN}});case 1:a=o.v,n=a.message,t.$notify(n,"success"),o.n=3;break;case 2:o.p=2,r=o.v,t.$notify(r.message,"warning");case 3:return o.a(2)}},o,null,[[0,2]])}))()}}},fieldsReporteEncuestaDetalle:[{name:"OPCION",label:"Serie",field:"OPCION",align:"left"},{name:"META",label:"Meta",field:"META",align:"right"},{name:"COMPETENCIA",label:"Comparativa",field:"COMPETENCIA",align:"right"}]}}},xo={data:function(){return{configEncuestas:{PREGUNTA:{renderHtml:function(e,t,o,a){return e.PREGUNTA||""}}},fieldsEncuestas:[{name:"IDPREGUNTA",label:"Código",field:"IDPREGUNTA",align:"center"},{name:"TIPO_PREGUNTA",label:"Tipo",field:"TIPO_PREGUNTA",align:"left",wrap:!0},{name:"PREGUNTA",label:"Pregunta",field:"PREGUNTA",align:"left"}]}}},$o={emits:["update:modelValue","input","agregar-indicador","actualizar-indicador","row-indicador","eliminar-adjunto"],name:"indicador",mixins:[No,Lo,Mo,Vo,_o,Uo,yo,Fo,xo],components:{QInput:J.A,QSelect:H.A,sieModal:de.A,QCard:te.A,QCardSection:oe.A,QRadio:Ue.A,QCheckbox:ye.A,QSeparator:Fe.A,QUploader:K.Iu,sieUpload:xe.A,siePdf:je.A,QColor:ko.A,date:K.p6,QBtn:K.Il,QTooltip:K.nC},props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:"Nuevo Indicador"},action:{type:String,default:"create"},options:{typeof:Object,default:function(){return{procesos:[],tipos:[],campos:[],criterios:[],perfiles:[]}}},idIndicador:{type:Number,default:0}},computed:{anosAvail:function(){var e=this,t=this.anos;return t.forEach(function(t){t.disable=e.yearLocked.includes(parseInt(t.ANO))}),t},modalIndicador:{get:function(){return this.modelValue},set:function(e){this.$emit("update:modelValue",e),this.$emit("input",e)}},titleModal:{get:function(){return this.titulo},set:function(e){this.$emit("update:modelValue",e),this.$emit("input",e)}},isSmall:function(){return Y.A.sm||Y.A.xs},visibleButtons:function(){var e=this.reportesVisibles.slice(this.startIndex,this.startIndex+this.visibleCount);return e},fieldsReportesManualDetalle:function(){var e=[{name:"ANIO",label:"Año",field:"ANIO",align:"center"},{name:"IDAGRUPADOR",label:"Agrupador",field:"IDAGRUPADOR",align:"center"},{name:"NUMERADOR",label:"Numerador",field:"NUMERADOR",align:"center"},{name:"DENOMINADOR",label:"Denominador",field:"DENOMINADOR",align:"center"}];return 1===this.dataReporteManual.IS_CORFEP_EFQM&&e.push({name:"CORFEP_EFQM",label:"CORFEP EFQM",field:"CORFEP_EFQM",align:"center"}),e.push({name:"META",label:"Meta",field:"META",align:"right"}),e.push({name:"ELIMINAR",label:"Eliminar",field:"ELIMINAR",align:"center"}),this.configReportesManualDetalle.IDAGRUPADOR.options=this.agrupadoresDetalle[this.form.AGRUPAMIENTO],e}},data:function(){return{yearLocked:[],sieInfo:(0,Z["default"])(),form:{IDINDICADOR:null,IDPROCESO:null,IDTIPO:null,IDCAMPO:null,IDCRITERIO:null,TITULO:null,ORDEN:null,TIPO_REPORTE:null,GRAFICO_DEFECTO:"barras3d",MOSTRAR_VALGRAF:"S",META_GLOBAL:0,FORMULA:null,TENDENCIA:0,FRECUENCIA:null,AGRUPAMIENTO:0,TIPO_CUMPLIMIENTO:"P"},formIndicadorAdjunto:{ANIO:null},formIndicadorComparativo:[],formAccesoIndicador:[],formReporteSerieDetalle:{ANO:null,IDSERIE:null,SERIE:null,META:null},filterEncuesta:{ANO:{options:[],model:null},GRUPO:{options:[],model:null},IDQUIZASIGNA:{options:[],model:null}},optionsGrafico:[{value:"barras3d",label:"Barras 3D"},{value:"barras",label:"Barras"},{value:"lineal",label:"Lineal"},{value:"barrasylineal",label:"Barras - Lineal"},{value:"linealybarras",label:"Lineal - Barras"}],optionsRotulo:[{value:"S",label:"Si"},{value:"N",label:"No"}],optionsTipoCalculo:[{value:"P",label:"Porcentaje"},{value:"C",label:"Cantidad"}],tipoReporteAnterior:"",showReporteSistemaSerie:!1,optionsReportesSistema:[],selectReporteSistema:{key:"REPCOD",values:[]},optionsReportesSistemaSerie:[],selectReporteSistemaSerie:{key:"REPCOD",values:[]},optionsReporteEncuesta:[],optionsReporteEncuestaDetalle:[],optionsReportesManual:[],optionsReportesManualDetalle:[],modalPerfil:!1,modalNiveles:!1,selectPerfiles:{key:"TIPCOD",values:[]},selectPreguntaEncuesta:{key:"IDPREGUNTA",values:[]},fileTmp:{},adjuntos:[],rowAdjunto:{},dataReporteManual:{TITULO:"",TIPO_CALCULO:"P",IS_CORFEP_EFQM:0},dataReporteManualDetalle:{},modalColor:!1,valueColor:"",modalEncuesta:!1,rowSelectReporteEncuesta:{},rowSelectDblReporteEncuesta:{},rowReporteManualdetalle:{},rowSelectReportesSistemaSerie:{},modalReporteSistemaSerieDetalle:!1,actionReporteSerieDetalle:"create",actionReporteEncuestaIndicador:"create",optionsSerie:[],rowsEncuestas:[],modalAdjunto:!1,dataTendencia:[],indicadorCumplimientoBase:{},reportesVisibles:[],startIndex:0,visibleCount:3,yearSelect:null,indicadorCumplimiento:{0:{TIPO_CUMPLIMIENTO:0,DESCRIPCION:"INSATISFACTORIO",VALORMINIMO:0},1:{TIPO_CUMPLIMIENTO:1,DESCRIPCION:"TOLERABLE"},2:{TIPO_CUMPLIMIENTO:2,DESCRIPCION:"SATISFACTORIO",VALORMAXIMO:100}},tiposReportes:{A:"Adjunto",M:"Reporte Manual",S:"Reporte del Sistema",E:"Reporte de Encuesta"},tiposReportesArr:[{value:"A",label:"Adjunto"},{value:"M",label:"Reporte Manual"},{value:"S",label:"Reporte del Sistema"},{value:"E",label:"Reporte de Encuesta"}],anos:[],anoSelect:{ANO:null,TIPO_REPORTE:null},openAnos:!1,agrupadoresDetalle:{},tiposAgrupamiento:[]}},methods:{next:function(){this.startIndex+this.visibleCount<this.reportesVisibles.length&&this.startIndex++},prev:function(){this.startIndex>0&&this.startIndex--},guardar:function(){var e=this;return B()(X()().m(function t(){var o;return X()().w(function(t){while(1)switch(t.p=t.n){case 0:if(t.p=0,"create"!==e.action){t.n=1;break}return t.n=1,e.agregarIndicador();case 1:if("update"!==e.action){t.n=2;break}return t.n=2,e.actualizarIndicador();case 2:t.n=4;break;case 3:t.p=3,o=t.v,e.$notify(o.message,"warning");case 4:return t.a(2)}},t,null,[[0,3]])}))()},validarTipo:function(){var e=this;return B()(X()().m(function t(){var o;return X()().w(function(t){while(1)switch(t.n){case 0:if(!e.tipoReporteAnterior||e.tipoReporteAnterior===e.anoSelect.TIPO_REPORTE){t.n=3;break}if(console.log(e.dataReporteManualDetalle[e.anoSelect.ANO].length>0,e.optionsReporteEncuesta.length>0),!(e.dataReporteManualDetalle[e.anoSelect.ANO].length>0||e.optionsReporteEncuesta.length>0)){t.n=2;break}return e.anoSelect.TIPO_REPORTE=e.tipoReporteAnterior,e.initAcion(),o="Existe data relacionada debe eliminarla antes de cambiar el tipo de reporte",t.n=1,e.$confirmar(o,"check");case 1:t.n=3;break;case 2:e.saveAno();case 3:return t.a(2)}},t)}))()},saveAno:function(){var e=this;return B()(X()().m(function t(){var o;return X()().w(function(t){while(1)switch(t.n){case 0:return o=G()(G()({},{IDINDICADOR:e.idIndicador}),e.anoSelect),e.anoSelect.TIPO_REPORTE||(o.TIPO_REPORTE="E"),t.n=1,e.$http.post("api/CcIndicadorReporteAnoController/addCcIndicadorReporteAno",{data:o});case 1:e.idIndicador&&e.initAcion();case 2:return t.a(2)}},t)}))()},addAno:function(){var e=this;return B()(X()().m(function t(){return X()().w(function(t){while(1)switch(t.n){case 0:e.openAnos=!0,e.anoSelect={ANO:null,TIPO_REPORTE:null};case 1:return t.a(2)}},t)}))()},eliminarDetalle:function(e){var t=this;return B()(X()().m(function o(){var a,n,r,i,l;return X()().w(function(o){while(1)switch(o.n){case 0:return a=e.row,n=e.key,r="¿Desea eliminar el registro?, el proceso sera irreversible.",o.n=1,t.$confirmar(r,"delete");case 1:if(i=o.v,console.log({key:n,data:e}),!i){o.n=5;break}if(a.IDDETALLE||a.ITEM){o.n=2;break}t.dataReporteManualDetalle.splice(n,1),o.n=5;break;case 2:return o.n=3,t.$http.delete("api/CcReporteManualDetalleController/deleteCcReporteManualDetalle",{params:{params:a}});case 3:return l=a.IDREPORTE,o.n=4,t.$http.get("api/CcReporteManualDetalleController/getCcReporteManualDetalle",{params:{parametros:{IDREPORTE:l}}});case 4:t.dataReporteManualDetalle=o.v;case 5:return o.a(2)}},o)}))()},validarFormIndicadorAdjunto:function(){try{if(Object.keys(this.fileTmp).length&&!this.formIndicadorAdjunto.ANIO)throw new Error("Por favor escribir el año para el archivo adjunto")}catch(e){throw new Error(e.message)}},validarForm:function(){try{if(console.log(this.form),!this.form.IDPROCESO)throw new Error("Por favor seleccionar una ubicación");if(!this.form.IDTIPO)throw new Error("Por favor seleccionar un tipo");if(!this.form.IDCAMPO)throw new Error("Por favor seleccionar un campo");if(!this.form.IDCRITERIO)throw new Error("Por favor seleccionar un criterio");if(!this.form.TITULO)throw new Error("Por favor escribir un título");if(!this.formIndicadorComparativo.length&&"A"!==this.form.TIPO_REPORTE)throw new Error("Por favor seleccione al menos un comparativo")}catch(e){throw new Error(e.message)}},agregarIndicador:function(){var e=this;return B()(X()().m(function t(){var o,a,n,r;return X()().w(function(t){while(1)switch(t.p=t.n){case 0:return t.p=0,e.validarForm(),e.validarFormIndicadorAdjunto(),e.formAccesoIndicador=e.selectPerfiles.values,o={formIndicador:e.form,idsTipcod:e.formAccesoIndicador,idsComparativo:e.formIndicadorComparativo,formIndicadorAdjunto:e.formIndicadorAdjunto,dataAdjuntos:e.adjuntos,dataReporteManual:e.dataReporteManual,dataReporteManualDetalle:e.dataReporteManualDetalle,repcod:e.selectReporteSistema.values.length?e.selectReporteSistema.values[0]:0},JSON.stringify(e.indicadorCumplimientoBase)!==JSON.stringify(e.indicadorCumplimiento)&&(o.nivelesCumplimiento=e.indicadorCumplimiento),t.n=1,e.$http.post("api/CcIndicadorController/postAgregarIndicador",{data:o});case 1:a=t.v,n=a.message,e.$emit("agregar-indicador",o),e.$notify(n,"success"),e.modalIndicador=!1,t.n=3;break;case 2:throw t.p=2,r=t.v,new Error(r.message);case 3:return t.a(2)}},t,null,[[0,2]])}))()},actualizarIndicador:function(){var e=this;return B()(X()().m(function t(){var o,a,n,r,i;return X()().w(function(t){while(1)switch(t.p=t.n){case 0:if(t.p=0,e.validarForm(),!Object.keys(e.fileTmp).length){t.n=1;break}if(e.formIndicadorAdjunto.ANIO){t.n=1;break}throw new Error("Por favor escribir el año para el archivo adjunto");case 1:return o=Object.values(e.dataReporteManualDetalle).flat(),"E"===e.form.TIPO_REPORTE&&(e.form.TIPO_REPORTE="M"),a={formIndicador:e.form,idsTipcod:e.formAccesoIndicador,idsComparativo:e.formIndicadorComparativo,formIndicadorAdjunto:e.formIndicadorAdjunto,dataAdjuntos:e.adjuntos,dataReporteManual:e.dataReporteManual,dataReporteManualDetalle:o,repcod:e.selectReporteSistema.values.length?e.selectReporteSistema.values[0]:0},a.nivelesCumplimiento={},JSON.stringify(e.indicadorCumplimientoBase)!==JSON.stringify(e.indicadorCumplimiento)&&(JSON.stringify(e.indicadorCumplimientoBase[0])!==JSON.stringify(e.indicadorCumplimiento[0])&&(a.nivelesCumplimiento[0]=e.indicadorCumplimiento[0]),JSON.stringify(e.indicadorCumplimientoBase[1])!==JSON.stringify(e.indicadorCumplimiento[1])&&(a.nivelesCumplimiento[1]=e.indicadorCumplimiento[1]),JSON.stringify(e.indicadorCumplimientoBase[2])!==JSON.stringify(e.indicadorCumplimiento[2])&&(a.nivelesCumplimiento[2]=e.indicadorCumplimiento[2])),t.n=2,e.$http.put("api/CcIndicadorController/putActualizarIndicador",{idindicador:e.idIndicador,data:a});case 2:n=t.v,r=n.message,e.$emit("actualizar-indicador",a),e.$notify(r,"success"),e.modalIndicador=!1,t.n=4;break;case 3:throw t.p=3,i=t.v,new Error(i.message);case 4:return t.a(2)}},t,null,[[0,3]])}))()},getAgrupadores:function(){var e=this;return B()(X()().m(function t(){return X()().w(function(t){while(1)switch(t.n){case 0:return t.a(2,e.agrupadoresDetalle[e.form.AGRUPAMIENTO])}},t)}))()},getDataTendencia:function(){var e=this;return B()(X()().m(function t(){var o;return X()().w(function(t){while(1)switch(t.n){case 0:return e.dataTendencia=[],t.n=1,e.$http.get("api/CcIndicadorTendenciaController/getCcIndicadorTendencia");case 1:o=t.v,o.map(function(t){var o=t.ID_TENDENCIA,a=t.DESCRIPCION;e.dataTendencia.push({label:a,value:o})});case 2:return t.a(2)}},t)}))()},rowSelect:function(e){this.modalIndicador=!0,this.titleModalIndicador=e.TITULO,this.$emit("row-indicador",e)},rowSelectPerfil:function(e,t){console.log("refs",this.$refs.refTablePerfiles.rowsSelected()),console.log("row",e)},rowSelectReportesSistema:function(e){this.selectReporteSistema.values=[e.REPCOD]},rowSelectedDblSistema:function(e){var t=this;return B()(X()().m(function o(){var a,n;return X()().w(function(o){while(1)switch(o.n){case 0:return t.showReporteSistemaSerie=!0,a={idindicador:t.idIndicador,repcod:e.REPCOD},o.n=1,t.$http.get("api/CcReporteSerieDetalleController/getListarSeriesPorReporteIndicador",{params:{parametros:a}});case 1:n=o.v,t.optionsReportesSistemaSerie=n,t.getListarSeries({repcod:e.REPCOD});case 2:return o.a(2)}},o)}))()},rowSelectedReporteManualDetalle:function(e,t){this.rowSelectReporteManualDetalleRef=t},rowSelectedReportesSistemaSerie:function(e){this.selectReporteSistemaSerie.values=[e.REPCOD]},rowSelectedReporteEncuesta:function(e){this.rowSelectReporteEncuesta=e},rowSelectedReporteEncuestaDetalle:function(e){},rowSelectedDblReporteEncuesta:function(e){var t=this;return B()(X()().m(function o(){var a,n;return X()().w(function(o){while(1)switch(o.n){case 0:return t.rowSelectDblReporteEncuesta=e,a={idindicador:t.idIndicador,idencuesta_ind:e.IDENCUESTA_IND,idquizasigna:e.IDQUIZASIGNA,idquiz:e.IDQUIZ,idpregunta:e.IDPREGUNTA,origen:e.ORIGEN},o.n=1,t.$http.get("api/CcEncuestaIndicadorSerieController/getDataSerieEncuesta",{params:{parametros:a}});case 1:n=o.v,t.optionsReporteEncuestaDetalle=n;case 2:return o.a(2)}},o)}))()},rowSelectedEncuestas:function(e){this.selectPreguntaEncuesta.values=[e.IDPREGUNTA]},rowSelectedDblEncuestas:function(e){},getListaIndicador:function(){var e=arguments,t=this;return B()(X()().m(function o(){var a;return X()().w(function(o){while(1)switch(o.n){case 0:return a=e.length>0&&void 0!==e[0]?e[0]:{},o.a(2,t.$http.get("api/CcIndicadorController/getListaIndicador",{params:{parametros:a}}))}},o)}))()},getReportes:function(){var e=this;return B()(X()().m(function t(){var o,a,n;return X()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,e.$http.get("api/CcReportesController/getReportes");case 1:return o=t.v,e.optionsReportesSistema=o,t.n=2,e.$http.get("api/HyoGradoNivs/obtGrados");case 2:return a=t.v,t.n=3,e.$http.get("api/HyoInstrus/obtInstru");case 3:n=t.v,a.json.forEach(function(e){e.GRADOCOD=e.INSTRUCOD+e.GRADOCOD}),e.niveles=n.json,e.grados=a.json;case 4:return t.a(2)}},t)}))()},getDataEncuestasIntranet:function(e){var t=this;return B()(X()().m(function o(){var a;return X()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,t.$http.get("api/CcEncuestaIndicadorController/getDataEncuestasIntranet",{params:{parametros:{idindicador:e}}});case 1:a=o.v,t.optionsReporteEncuesta=a;case 2:return o.a(2)}},o)}))()},getSerieSistema:function(e){return B()(X()().m(function t(){return X()().w(function(t){while(1)switch(t.n){case 0:console.log(e);case 1:return t.a(2)}},t)}))()},upload:function(e){var t=this;return B()(X()().m(function o(){var a,n;return X()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,o.n=1,(0,$e["default"])({file:e[0]});case 1:if(a=o.v,t.fileTmp=a,!(e.size>=1e6)){o.n=2;break}return o.a(2,t.$alert("El peso máximo del archivo debe ser de 1 Mb","warning"));case 2:if(Object.keys(t.fileTmp).length){o.n=3;break}throw new Error("Hubo un inconveniente al cargar el archivo");case 3:o.n=5;break;case 4:o.p=4,n=o.v,console.log(n);case 5:return o.a(2)}},o,null,[[0,4]])}))()},addFile:function(e){var t=this;return B()(X()().m(function o(){return X()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,t.upload(e);case 1:t.adjuntos.map(function(e){e.IDINDICADOR||t.adjuntos.splice(t.adjuntos.indexOf(e),1)}),t.adjuntos.push(t.fileTmp);case 2:return o.a(2)}},o)}))()},validaTipoReporte:function(){},getListarSeries:function(){var e=arguments,t=this;return B()(X()().m(function o(){var a,n;return X()().w(function(o){while(1)switch(o.n){case 0:return a=e.length>0&&void 0!==e[0]?e[0]:{repcod:0},a.repcod=t.selectReporteSistema.values.length?t.selectReporteSistema.values[0]:0,o.n=1,t.$http.get("api/CcReporteSerieController/getListarSeries",{params:{parametros:a}});case 1:n=o.v,t.optionsSerie=[],n.map(function(e){t.optionsSerie.push({value:e.IDSERIE,label:e.DESCRIPCION})});case 2:return o.a(2)}},o)}))()},openModalPerfiles:function(){var e=this;return B()(X()().m(function t(){return X()().w(function(t){while(1)switch(t.n){case 0:e.modalPerfil=!0,e.selectPerfiles.values=e.formAccesoIndicador;case 1:return t.a(2)}},t)}))()},openModalNiveles:function(){var e=this;return B()(X()().m(function t(){return X()().w(function(t){while(1)switch(t.n){case 0:e.modalNiveles=!0;case 1:return t.a(2)}},t)}))()},guardarPerfiles:function(){this.selectPerfiles.values=this.$refs.refTablePerfiles.rowsSelected().map(function(e){return e.TIPCOD}),this.formAccesoIndicador=this.selectPerfiles.values,this.modalPerfil=!1},verAdjunto:function(e){var t=this;return B()(X()().m(function o(){var a,n,r;return X()().w(function(o){while(1)switch(o.n){case 0:return t.modalAdjunto=!0,a={idindicador:t.idIndicador,tiporeporte:"A",anosession:t.sieInfo.ano,zoom:65},n=e.RUTA.split("cc_adjuntos/cc_indicador/")[1],r="/intranet/mapa-procesos/vista-previa-reporte",o.n=1,t.$nextTick();case 1:(0,W.exportFilePhp)(a,r,n,"adjunto");case 2:return o.a(2)}},o)}))()},validarNivelesCumplimiento:function(){for(var e=this.indicadorCumplimiento,t=0;t<3;t++){var o=e[t],a=o.VALORMINIMO,n=o.VALORMAXIMO;if(a=parseFloat(a),n=parseFloat(n),a>=n)return void this.$notify("El valor minimo debe ser menor al valor maximo","warning");if(t>0){var r=parseFloat(e[t-1].VALORMAXIMO);if(a!==r)return void this.$notify("Los rangos deben registrarse de forma secuencial","warning")}}this.modalNiveles=!1},agregarReporteManualDetalle:function(){var e={ANIO:this.yearSelect,SERIE:null,MOSTRAR:"S",FORMATO_CANT:null,COLOR:null,CANTIDAD:0,CANTIDAD_TOTAL:0,META:0,COMPETENCIA:0};this.dataReporteManualDetalle[this.yearSelect]||(this.dataReporteManualDetalle[this.yearSelect]=[]),this.dataReporteManualDetalle[this.yearSelect].push(e),console.log(this.dataReporteManualDetalle[this.yearSelect],this.dataReporteManualDetalle)},eliminarAdjunto:function(e){var t=this;return B()(X()().m(function o(){var a,n,r;return X()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,t.rowAdjunto=e,a="¿Desea eliminar el registro?, el proceso sera irreversible.",o.n=1,t.$confirmar(a,"delete");case 1:if(n=o.v,!n){o.n=3;break}return o.n=2,t.$http.delete("api/CcIndicadorAdjuntoController/deleteCcIndicadorAdjunto",{params:{idadjunto:t.rowAdjunto.IDADJUNTO}});case 2:t.adjuntos.splice(t.adjuntos.indexOf(e),1);case 3:t.$notify("Adjunto eliminado satisfactoriamente"),t.$emit("eliminar-adjunto"),o.n=5;break;case 4:o.p=4,r=o.v,t.$notify(r.message,"warning");case 5:return o.a(2)}},o,null,[[0,4]])}))()},openModalReporteSistemaSerieDetalle:function(){this.actionReporteSerieDetalle="create",this.formReporteSerieDetalle={ANO:null,IDSERIE:null,SERIE:null,META:null},this.rowSelectReportesSistemaSerie={},this.modalReporteSistemaSerieDetalle=!0},validarFormReporteSerieDetalle:function(e){try{if(!e.REPCOD)throw new Error("Por favor selecciona un reporte")}catch(e){throw new Error(e.message)}},agregarReporteSerieDetalle:function(){var e=this;return B()(X()().m(function t(){var o,a,n,r;return X()().w(function(t){while(1)switch(t.n){case 0:return o={REPCOD:e.selectReporteSistema.values[0],ANO:e.formReporteSerieDetalle.ANO,IDSERIE:e.formReporteSerieDetalle.IDSERIE,META:e.formReporteSerieDetalle.META,COMPETENCIA:e.formReporteSerieDetalle.COMPETENCIA},t.n=1,e.validarFormReporteSerieDetalle(o);case 1:return t.n=2,e.$http.post("api/CcReporteSerieDetalleController/postCcReporteSerieDetalle",{data:o});case 2:a=t.v,n=a.data,r=a.message,o.IDSERIEDETALLE=n.IDSERIEDETALLE,o.DESCRIPCION=e.optionsSerie.filter(function(e){return e.value===o.IDSERIE})[0].label,e.optionsReportesSistemaSerie.push(o),e.modalReporteSistemaSerieDetalle=!1,e.$notify(r,"success");case 3:return t.a(2)}},t)}))()},editarReporteSerieDetalle:function(){var e=this;return B()(X()().m(function t(){var o,a,n,r;return X()().w(function(t){while(1)switch(t.n){case 0:return o={ANO:e.formReporteSerieDetalle.ANO,IDSERIE:e.formReporteSerieDetalle.IDSERIE,META:e.formReporteSerieDetalle.META,COMPETENCIA:e.formReporteSerieDetalle.COMPETENCIA},a=e.rowSelectReportesSistemaSerie.IDSERIEDETALLE,t.n=1,e.$http.put("api/CcReporteSerieDetalleController/putCcReporteSerieDetalle",{params:o,idseriedetalle:a});case 1:n=t.v,r=n.message,e.optionsReportesSistemaSerie.map(function(t){t.IDSERIEDETALLE===e.rowSelectReportesSistemaSerie.IDSERIEDETALLE&&(t.ANO=e.formReporteSerieDetalle.ANO,t.IDSERIE=e.formReporteSerieDetalle.IDSERIE,t.DESCRIPCION=e.optionsSerie.filter(function(e){return e.value===t.IDSERIE})[0].label,t.META=e.formReporteSerieDetalle.META,t.COMPETENCIA=e.formReporteSerieDetalle.COMPETENCIA)}),e.modalReporteSistemaSerieDetalle=!1,e.$notify(r,"success");case 2:return t.a(2)}},t)}))()},guardarReporteSerieDetalle:function(){var e=this;return B()(X()().m(function t(){var o;return X()().w(function(t){while(1)switch(t.p=t.n){case 0:if(t.p=0,"create"!==e.actionReporteSerieDetalle){t.n=1;break}return t.n=1,e.agregarReporteSerieDetalle();case 1:if("update"!==e.actionReporteSerieDetalle){t.n=2;break}return t.n=2,e.editarReporteSerieDetalle();case 2:t.n=4;break;case 3:t.p=3,o=t.v,e.$notify(o.message,"warning");case 4:return t.a(2)}},t,null,[[0,3]])}))()},guardarColor:function(){var e=this;this.modalColor=!1,this.dataReporteManualDetalle.map(function(t,o){o===e.rowSelectReporteManualDetalleRef.$$key&&(e.rowSelectReporteManualDetalleRef.COLOR=e.valueColor)}),this.valueColor=""},getListarPreguntasByIdQuiz:function(e){var t=this;return B()(X()().m(function o(){var a;return X()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,t.$http.get("api/QuizController/getListarPreguntasByIdQuiz",{params:{params:e}});case 1:a=o.v,t.rowsEncuestas=a;case 2:return o.a(2)}},o)}))()},getListarAsignaEncuesta:function(e){var t=this;return B()(X()().m(function o(){var a,n,r,i;return X()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,o.n=1,t.$http.get("api/QuizAsignaController/getListarAsignaEncuesta",{params:{params:{ano:e}}});case 1:a=o.v,n=a.dataAnios,r=a.dataAsignaEncuesta,t.filterEncuesta.ANO.options=n.map(function(e){return{value:e.ANO,label:e.ANO}})||[],t.filterEncuesta.IDQUIZASIGNA.options=r.map(function(e){return{value:e.IDQUIZASIGNA,label:"".concat(e.IDQUIZASIGNA," | ").concat(e.TITULO,"  | ").concat(K.p6.formatDate(e.FH_INICIO,"DD/MM/YYYY")," - ").concat(K.p6.formatDate(e.FH_FIN,"DD/MM/YYYY")),idquiz:e.IDQUIZ,origen:e.ORIGEN}})||[],o.n=3;break;case 2:o.p=2,i=o.v,t.$notify(i.message,"warning");case 3:return o.a(2)}},o,null,[[0,2]])}))()},limpiarIdQuiz:function(){var e=this;return B()(X()().m(function t(){return X()().w(function(t){while(1)switch(t.n){case 0:e.filterEncuesta.IDQUIZASIGNA.model=null,e.rowsEncuestas=[],e.selectPreguntaEncuesta.values=[],e.getListarAsignaEncuesta(e.filterEncuesta.ANO.model);case 1:return t.a(2)}},t)}))()},changeIdQuizAsigna:function(){var e=this;this.filterEncuesta.IDQUIZASIGNA.options.filter(function(t){t.value===e.filterEncuesta.IDQUIZASIGNA.model&&e.getListarPreguntasByIdQuiz({idquiz:t.idquiz,origenencuesta:t.origen})})},cleanFilterEncuesta:function(){this.filterEncuesta.ANO.model=null,this.filterEncuesta.GRUPO.model=null,this.filterEncuesta.IDQUIZASIGNA.model=null},openModalAgregarEncuesta:function(){var e=this;return B()(X()().m(function t(){return X()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,e.getListarAsignaEncuesta(0);case 1:e.cleanFilterEncuesta(),e.rowsEncuestas=[],e.actionReporteEncuestaIndicador="create",e.modalEncuesta=!0;case 2:return t.a(2)}},t)}))()},agregarEncuesta:function(){var e=this;return B()(X()().m(function t(){var o,a,n,r,i,l;return X()().w(function(t){while(1)switch(t.p=t.n){case 0:return t.p=0,o={GRUPO:e.filterEncuesta.GRUPO.model,IDQUIZASIGNA:e.filterEncuesta.IDQUIZASIGNA.model,IDPREGUNTA:e.selectPreguntaEncuesta.values[0],ORIGENENCUESTA:e.filterEncuesta.IDQUIZASIGNA.options.filter(function(t){return t.value===e.filterEncuesta.IDQUIZASIGNA.model})[0].origen||null},console.log(o,e.filterEncuesta),a={action:"create",idindicador:e.idIndicador,dataEncuesta:o},t.n=1,e.$http.get("api/CcEncuestaIndicadorController/getMantenimientoEncuestaIndicador",{params:{params:a}});case 1:return n=t.v,r=n.message,t.n=2,e.getListaIndicador({idindicador:e.idIndicador,notLike:!0});case 2:i=t.v,e.optionsReporteEncuesta=i[0].DATA_REPORTE_ENCUESTA,e.modalEncuesta=!1,e.$notify(r,"success"),t.n=4;break;case 3:t.p=3,l=t.v,e.$notify(l.message,"warning");case 4:return t.a(2)}},t,null,[[0,3]])}))()},actualizarEncuesta:function(){var e=this;return B()(X()().m(function t(){var o,a,n,r,i,l;return X()().w(function(t){while(1)switch(t.p=t.n){case 0:return t.p=0,o={IDENCUESTA_IND:e.rowSelectReporteEncuesta.IDENCUESTA_IND,GRUPO:e.filterEncuesta.GRUPO.model,IDQUIZASIGNA:e.filterEncuesta.IDQUIZASIGNA.model,IDPREGUNTA:e.selectPreguntaEncuesta.values[0],ORIGENENCUESTA:e.filterEncuesta.IDQUIZASIGNA.options.filter(function(t){return t.value===e.filterEncuesta.IDQUIZASIGNA.model})[0].origen||null},console.log(o),a={action:"update",idindicador:e.idIndicador,dataEncuesta:o,idencuesta_ind:e.rowSelectReporteEncuesta.IDENCUESTA_IND,origenencuesta:e.rowSelectReporteEncuesta.ORIGEN},t.n=1,e.$http.get("api/CcEncuestaIndicadorController/getMantenimientoEncuestaIndicador",{params:{params:a}});case 1:return n=t.v,r=n.message,t.n=2,e.getListaIndicador({idindicador:e.idIndicador,notLike:!0});case 2:i=t.v,e.optionsReporteEncuesta=i[0].DATA_REPORTE_ENCUESTA,e.modalEncuesta=!1,e.$notify(r,"success"),t.n=4;break;case 3:t.p=3,l=t.v,e.$notify(l.message,"warning");case 4:return t.a(2)}},t,null,[[0,3]])}))()},eliminarEncuesta:function(){var e=this;return B()(X()().m(function t(){var o,a,n,r;return X()().w(function(t){while(1)switch(t.p=t.n){case 0:return t.p=0,o={action:"delete",dataEncuesta:{idencuesta_ind:e.rowSelectReporteEncuesta.IDENCUESTA_IND,origenencuesta:e.rowSelectReporteEncuesta.ORIGEN}},t.n=1,e.$http.get("api/CcEncuestaIndicadorController/getMantenimientoEncuestaIndicador",{params:{params:o}});case 1:a=t.v,n=a.message,e.$notify(n,"success"),t.n=3;break;case 2:t.p=2,r=t.v,e.$notify(r.message,"warning");case 3:return t.a(2)}},t,null,[[0,2]])}))()},guardarEncuesta:function(){var e=this;return B()(X()().m(function t(){var o;return X()().w(function(t){while(1)switch(t.p=t.n){case 0:if(t.p=0,e.selectPreguntaEncuesta.values.length){t.n=1;break}throw new Error("Debe seleccionar una pregunta");case 1:if("create"!==e.actionReporteEncuestaIndicador){t.n=2;break}return t.n=2,e.agregarEncuesta();case 2:if("update"!==e.actionReporteEncuestaIndicador){t.n=3;break}return t.n=3,e.actualizarEncuesta();case 3:t.n=5;break;case 4:t.p=4,o=t.v,e.$notify(o.message,"warning");case 5:return t.a(2)}},t,null,[[0,4]])}))()},selectBtn:function(e){this.yearSelect=e.year,this.anoSelect={ANO:e.year,TIPO_REPORTE:e.TIPO_REPORTE},this.dataReporteManualDetalle[this.yearSelect]||(this.dataReporteManualDetalle[this.yearSelect]=[])},initAcion:function(){var e=this;return B()(X()().m(function t(){var o,a,n,r;return X()().w(function(t){while(1)switch(t.p=t.n){case 0:if(e.anoSelect={ANO:null,TIPO_REPORTE:null},t.p=1,"update"!==e.action){t.n=10;break}if(e.idIndicador){t.n=2;break}throw new Error("El código del indicador es obligatorio");case 2:return e.fileTmp={},t.n=3,e.getListaIndicador({idindicador:e.idIndicador,notLike:!0});case 3:if(o=t.v,!o.length){t.n=7;break}e.form.IDINDICADOR=o[0].IDINDICADOR,e.form.IDPROCESO=o[0].IDPROCESO,e.form.IDTIPO=o[0].IDTIPO,e.form.IDCAMPO=o[0].IDCAMPO,e.form.IDCRITERIO=o[0].IDCRITERIO,e.form.TITULO=o[0].TITULO,e.form.ORDEN=o[0].ORDEN,e.form.TENDENCIA=o[0].TENDENCIA,e.form.FRECUENCIA=o[0].FRECUENCIA,e.form.META_GLOBAL=o[0].META_GLOBAL,e.form.TIPO_CUMPLIMIENTO=o[0].TIPO_CUMPLIMIENTO,e.form.FORMULA=o[0].FORMULA,e.form.TIPO_REPORTE=o[0].TIPO_REPORTE,e.form.AGRUPAMIENTO=o[0].AGRUPAMIENTO,e.tipoReporteAnterior=o[0].TIPO_REPORTE,e.form.GRAFICO_DEFECTO=o[0].GRAFICO_DEFECTO,e.form.MOSTRAR_VALGRAF=o[0].MOSTRAR_VALGRAF,e.formIndicadorComparativo=o[0].IDSCOMPARATIVO,e.formAccesoIndicador=o[0].IDSTIPCOD,e.adjuntos=o[0].INDICADOR_ADJUNTOS,e.dataReporteManual=o[0].DATA_REPORTE_MANUAL.length?o[0].DATA_REPORTE_MANUAL[0]:{TITULO:"",TIPO_CALCULO:"P",IS_CORFEP_EFQM:0},e.dataReporteManualDetalle=o[0].DATA_REPORTE_MANUAL_DETALLE,e.optionsReporteEncuesta=o[0].DATA_REPORTE_ENCUESTA,n=e.form.TIPO_REPORTE,t.n="S"===n?4:"M"===n?5:6;break;case 4:return a=o[0].IDREPORTESISTEMA?[o[0].IDREPORTESISTEMA]:[],e.selectReporteSistema.values=a,t.a(3,6);case 5:return e.form.AGRUPAMIENTO||(e.form.AGRUPAMIENTO=0),t.a(3,6);case 6:e.reportesVisibles=o[0].TIPO_REPORTES.map(function(t,a){var n=t.ANO,r=t.TIPO_REPORTE;return e.yearLocked.push(parseInt(n)),parseInt(n)===(new Date).getFullYear()&&(e.startIndex=a<2?0:a-2,e.selectBtn({year:parseInt(n),label:e.tiposReportes[r],TIPO_REPORTE:r}),e.form.TIPO_REPORTE=r),e.yearSelect||o[0].TIPO_REPORTES.length-1!==a||(e.startIndex=a<2?0:a-2,e.yearSelect=parseInt(n),e.form.TIPO_REPORTE=r,e.selectBtn({year:parseInt(n),label:e.tiposReportes[r],TIPO_REPORTE:r})),{year:parseInt(n),label:e.tiposReportes[r],TIPO_REPORTE:r}});case 7:return t.n=8,e.getDataEncuestasIntranet(e.idIndicador);case 8:return t.n=9,e.getListarSeries();case 9:return t.n=10,e.getIndicadorCumplimiento(e.idIndicador);case 10:return e.configReportesManualDetalle.MOSTRAR.options=[{value:"S",label:"Si"},{value:"N",label:"No"}],t.n=11,e.getReportes();case 11:t.n=13;break;case 12:t.p=12,r=t.v,e.$alert(r.message,"warning");case 13:return t.a(2)}},t,null,[[1,12]])}))()},llenarEncuestas:function(){var e=this;return B()(X()().m(function t(){var o,a;return X()().w(function(t){while(1)switch(t.n){case 0:return o={ANO:e.anoSelect.ANO,IDINDICADOR:e.idIndicador},t.n=1,e.$confirmar("¿Está seguro de ejecutar este proceso?","question");case 1:if(a=t.v,a)try{e.$http.post("api/CcIndicadorController/updateReporteManualIndicadores",o),e.initAcion(),e.$notify("Registros actualizados Correctamente")}catch(e){}console.log({confirmar:a,data:o});case 2:return t.a(2)}},t)}))()},getIndicadorCumplimiento:function(e){var t=this;return B()(X()().m(function o(){var a;return X()().w(function(o){while(1)switch(o.n){case 0:return t.indicadorCumplimientoBase={0:{TIPO_CUMPLIMIENTO:0,DESCRIPCION:"INSATISFACTORIO",VALORMINIMO:0,IDINDICADOR:e},1:{TIPO_CUMPLIMIENTO:1,DESCRIPCION:"TOLERABLE",IDINDICADOR:e},2:{TIPO_CUMPLIMIENTO:2,DESCRIPCION:"SATISFACTORIO",VALORMAXIMO:100,IDINDICADOR:e}},t.indicadorCumplimiento={0:{TIPO_CUMPLIMIENTO:0,DESCRIPCION:"INSATISFACTORIO",VALORMINIMO:0,IDINDICADOR:e},1:{TIPO_CUMPLIMIENTO:1,DESCRIPCION:"TOLERABLE",IDINDICADOR:e},2:{TIPO_CUMPLIMIENTO:2,DESCRIPCION:"SATISFACTORIO",VALORMAXIMO:100,IDINDICADOR:e}},o.n=1,t.$http.get("api/CcIndicadorCumplimientoController/getCcIndicadorCumplimiento",{params:{parametros:{idindicador:e}}});case 1:a=o.v,console.log(a),a.forEach(function(e){t.indicadorCumplimientoBase[e.TIPO_CUMPLIMIENTO]=G()({},e),t.indicadorCumplimiento[e.TIPO_CUMPLIMIENTO]=G()({},e)});case 2:return o.a(2)}},o)}))()}},mounted:function(){var e=this;return B()(X()().m(function t(){return X()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,e.initAcion();case 1:return t.n=2,e.$http.get("api/anioController/getAnios");case 2:return e.anos=t.v,e.getDataTendencia(),t.n=3,e.$http.get("api/CcAgrupadorController/getCcAgrupador",{params:{parametros:{hideHijos:!0}}});case 3:return e.tiposAgrupamiento=t.v,t.n=4,e.$http.get("api/CcAgrupadorController/getHijosNietos");case 4:e.agrupadoresDetalle=t.v;case 5:return t.a(2)}},t)}))()}};const jo=(0,Ge.A)($o,[["render",To]]);var Qo=jo,Go={data:function(){return{config:{META_GLOBAL:{renderHtml:function(e,t,o,a){var n="";return e.META_GLOBAL&&(n=e.META_GLOBAL.toString()+" %"),t("span",{},n)}},ASIGNACIONES:{renderHtml:function(e,t,o,a){return e.ASIGNACIONES?a["$$background"]="white":a["$$background"]="#FFA49D",t("span",{},e.ASIGNACIONES.toString())}},ACCIONES:{component:"button",permisos:{edit:"> 1",delete:"=== 3"},icon:["edit","delete"],tooltip:{edit:"Editar",delete:"Eliminar"},edit:function(e){this.modalIndicador=!0,this.idIndicador=e.IDINDICADOR},delete:function(e){var t=this;return B()(X()().m(function o(){var a,n,r,i,l;return X()().w(function(o){while(1)switch(o.p=o.n){case 0:if(o.p=0,e.IDINDICADOR){o.n=1;break}throw new Error("Por favor seleccione un registro");case 1:return a="¿Desea eliminar el registro con el código ".concat(e.IDINDICADOR,"? <br>El proceso sera irreversible."),o.n=2,t.$confirmar(a,"delete",{html:!0});case 2:if(n=o.v,!n){o.n=4;break}return o.n=3,t.$http.delete("api/CcIndicadorController/deleteIndicador",{params:{params:{tipo_reporte:e.TIPO_REPORTE,idindicador:e.IDINDICADOR}}});case 3:r=o.v,i=r.message,t.$emit("eliminar-indicador",e),t.$notify(i);case 4:o.n=6;break;case 5:o.p=5,l=o.v,t.$alert(l.message,"warning");case 6:return o.a(2)}},o,null,[[0,5]])}))()},flat:!0,dense:!0}},rows:[],fields:[{name:"IDINDICADOR",label:"Código",field:"IDINDICADOR",align:"center",sortable:!0},{name:"RUTA_PROCESO_ABR",label:"Ruta",field:"RUTA_PROCESO_ABR",align:"left",wrap:!0,sortable:!0},{name:"TITULO",label:"Título",field:"TITULO",align:"left",wrap:!0,sortable:!0},{name:"META_GLOBAL",label:"Meta Global",field:"META_GLOBAL",align:"center",sortable:!0},{name:"ORDEN",label:"Orden",field:"ORDEN",align:"center",sortable:!0},{name:"TIPO_REPORTE",label:"T.R",field:"TIPO_REPORTE",align:"left",sortable:!0},{name:"ASIGNACIONES",label:"Asignación Rep",field:"ASIGNACIONES",align:"center",wrap:!0,sortable:!0},{name:"ACCIONES",label:"Acciones",field:"ACCIONES",align:"center",sortable:!0}]}}},qo={emits:["row-indicador","actualizar-indicador","eliminar-adjunto"],name:"proceso",mixins:[Go],components:{formularioIndicador:Qo},props:{modelValue:{type:Boolean,default:!1},indicadores:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){}}},computed:{titleFormulario:function(){return"Editar Indicador (".concat(this.idIndicador,")")}},data:function(){return{modalIndicador:this.modelValue,idIndicador:0}},methods:{rowSelect:function(e){this.$emit("row-indicador",e)},actualizarIndicador:function(e){this.$emit("actualizar-indicador",e)},eliminarAdjunto:function(){this.$emit("eliminar-adjunto")}},mounted:function(){return B()(X()().m(function e(){return X()().w(function(e){while(1)switch(e.n){case 0:return e.a(2)}},e)}))()}};const Xo=(0,Ge.A)(qo,[["render",Je]]);var zo=Xo,Bo={class:"column"},Wo={class:"q-ma-xs"},Zo={class:"column q-gutter-sm"};function Jo(e,t){var o=(0,r.g2)("q-input"),a=(0,r.g2)("q-select"),n=(0,r.g2)("sie-modal"),i=(0,r.g2)("expansion"),l=(0,r.g2)("q-list");return(0,r.uX)(),(0,r.CE)("div",Bo,[(0,r.bF)(n,{modelValue:e.status,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.status=t}),label:"Agregar Agrupamiento",onClose:e.cerrarModal,title:"Nuevo Agrupamiento",onSubmit:e.saveAgrupador},{default:(0,r.k6)(function(){return[(0,r.Lk)("div",Wo,[(0,r.Lk)("div",Zo,[(0,r.bF)(o,{modelValue:e.dataPadre.DESCRIPCION,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.dataPadre.DESCRIPCION=t}),label:"Descripción"},null,8,["modelValue"]),(0,r.bF)(a,{modelValue:e.dataPadre.INSTRU_EQUIVALENCIA,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.dataPadre.INSTRU_EQUIVALENCIA=t}),label:"Nivel",options:e.niveles,"option-value":"INSTRUCOD","option-label":"INSTRUDES"},null,8,["modelValue","options"]),(0,r.bF)(a,{modelValue:e.dataPadre.GRADO_EQUIVALENCIA,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.dataPadre.GRADO_EQUIVALENCIA=t}),label:"Grado",options:e.grados[e.dataPadre.INSTRU_EQUIVALENCIA],"option-value":"GRADOCOD","option-label":"GRADODES"},null,8,["modelValue","options"])])])]}),_:1},8,["modelValue","onClose","onSubmit"]),(0,r.bF)(l,{bordered:""},{default:(0,r.k6)(function(){return[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.dataAgrupadores,function(t,o){return(0,r.uX)(),(0,r.Wv)(i,{data:t,onOpenModal:e.nuevoAgrupador,onEliminar:e.deleteAgrupador,niveles:e.niveles,grados:e.grados},null,8,["data","onOpenModal","onEliminar","niveles","grados"])}),256)),(0,r.Q3)('q-expansion-item(:label="item.DESCRIPCION")//template(slot="header")\n    span {{item}}'),(0,r.Q3)("span {{item}}"),(0,r.Q3)("q-expansion-item()")]}),_:1})])}var Ho={class:"col"},Ko={class:"column"},Yo={key:0,class:"row",style:{"font-size":"10px"}},ea={key:0},ta={class:"col"},oa={class:"row justify-end"},aa={class:"col"},na={class:"column"},ra={key:0,class:"row",style:{"font-size":"10px"}},ia={key:0},la={class:"row q-pr-lg"};function sa(e,t){var o=(0,r.g2)("q-btn"),a=(0,r.g2)("q-tooltip"),s=(0,r.g2)("agrupador"),c=(0,r.g2)("q-expansion-item"),u=(0,r.g2)("q-item");return(0,r.uX)(),(0,r.CE)("div",Ho,[e.data.HIJOS.length>0?((0,r.uX)(),(0,r.Wv)(c,{key:0},{header:(0,r.k6)(function(){return[(0,r.Lk)("div",Ko,[(0,r.Lk)("span",{class:(0,l.C4)(["label",{"text-bold":!e.data.IDAGRUPADOR_PADRE}])},(0,l.v_)(e.data.DESCRIPCION),3),e.data.INSTRUDES?((0,r.uX)(),(0,r.CE)("div",Yo,[t[6]||(t[6]=(0,r.Lk)("span",null,"( ",-1)),(0,r.Lk)("span",null,(0,l.v_)(e.data.INSTRUDES),1),e.data.GRADODES?((0,r.uX)(),(0,r.CE)("span",ea," - "+(0,l.v_)(e.data.GRADODES),1)):(0,r.Q3)("v-if",!0),t[7]||(t[7]=(0,r.Lk)("span",null," )",-1))])):(0,r.Q3)("v-if",!0)]),(0,r.RG)(e.$slots,"header-personalizado",{},function(){return[(0,r.Lk)("div",ta,[(0,r.Lk)("div",oa,[(0,r.bF)(o,{icon:"add",flat:"",dense:"",round:"",color:"secondary",onClick:t[0]||(t[0]=(0,i.D$)(function(t){return e.openEditar(e.data)},["stop"]))}),(0,r.bF)(o,{icon:"edit",flat:"",dense:"",round:"",color:"secondary",onClick:t[1]||(t[1]=(0,i.D$)(function(t){return e.openEditar(e.data,!0)},["stop"]))},{default:(0,r.k6)(function(){return[(0,r.bF)(a,null,{default:(0,r.k6)(function(){return n()(t[8]||(t[8]=[(0,r.Lk)("span",null,"Editar Proceso",-1)]))}),_:1})]}),_:1}),(0,r.bF)(o,{icon:"delete",flat:"",dense:"",round:"",color:"secondary",onClick:t[2]||(t[2]=(0,i.D$)(function(t){return e.deleteAgrupador(e.data)},["stop"]))},{default:(0,r.k6)(function(){return[(0,r.bF)(a,null,{default:(0,r.k6)(function(){return n()(t[9]||(t[9]=[(0,r.Lk)("span",null,"Eliminar Proceso",-1)]))}),_:1})]}),_:1})])])]})]}),default:(0,r.k6)(function(){return[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.data.HIJOS,function(t){return(0,r.uX)(),(0,r.Wv)(s,{class:"q-mx-sm",data:t,onOpenModal:e.openEditar,onEliminar:function(o){return e.deleteAgrupador(t)}},null,8,["data","onOpenModal","onEliminar"])}),256))]}),_:3})):((0,r.uX)(),(0,r.Wv)(u,{key:1},{default:(0,r.k6)(function(){return[(0,r.Lk)("div",aa,[(0,r.Lk)("div",na,[(0,r.Lk)("span",{class:(0,l.C4)({"text-bold":!e.data.IDAGRUPADOR_PADRE})},(0,l.v_)(e.data.DESCRIPCION),3),e.data.INSTRUDES?((0,r.uX)(),(0,r.CE)("div",ra,[t[10]||(t[10]=(0,r.Lk)("span",null,"( ",-1)),(0,r.Lk)("span",null,(0,l.v_)(e.data.INSTRUDES),1),e.data.GRADODES?((0,r.uX)(),(0,r.CE)("span",ia," - "+(0,l.v_)(e.data.GRADODES),1)):(0,r.Q3)("v-if",!0),t[11]||(t[11]=(0,r.Lk)("span",null," )",-1))])):(0,r.Q3)("v-if",!0)])]),(0,r.Lk)("div",la,[(0,r.bF)(o,{icon:"add",flat:"",dense:"",round:"",color:"secondary",onClick:t[3]||(t[3]=function(t){return e.openEditar(e.data)})}),(0,r.bF)(o,{icon:"edit",flat:"",dense:"",round:"",color:"secondary",onClick:t[4]||(t[4]=function(t){return e.openEditar(e.data,!0)})}),(0,r.bF)(o,{icon:"delete",flat:"",dense:"",round:"",color:"secondary",onClick:t[5]||(t[5]=function(t){return e.deleteAgrupador(e.data)})})])]}),_:1}))])}var ca={emits:["openModal","eliminar"],name:"agrupador",props:["data","niveles","grados"],components:{QExpansionItem:ue.A,QItem:me.A,QList:pe.A,QItemSection:fe.A,QBtn:K.Il,QTooltip:K.nC},methods:{openEditar:function(e,t){this.$emit("openModal",e,t)},deleteAgrupador:function(e){var t=e.IDAGRUPADOR;this.$emit("eliminar",t)}}};const ua=(0,Ge.A)(ca,[["render",sa]]);var da=ua,pa=o(69027),ma={emits:["cerrarModal"],components:{sieModal:de.A,QExpansionItem:ue.A,expansion:da,QInput:J.A,QList:pe.A,QSelect:H.A},props:["modal"],data:function(){return{dataAgrupadores:[],status:!1,dataPadre:{},niveles:[],grados:{}}},watch:{modal:function(e){e&&this.nuevoAgrupador({})}},methods:{obtenerAgrupador:function(){var e=this;return B()(X()().m(function t(){return X()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,e.$http.get("api/CcAgrupadorController/getCcAgrupador");case 1:e.dataAgrupadores=t.v;case 2:return t.a(2)}},t)}))()},cerrarModal:function(){this.$emit("cerrarModal")},saveAgrupador:function(){var e=this;return B()(X()().m(function t(){return X()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,e.$http.post("api/CcAgrupadorController/addCcAgrupador",{data:e.dataPadre});case 1:e.status=!1,e.obtenerAgrupador(),e.cerrarModal();case 2:return t.a(2)}},t)}))()},deleteAgrupador:function(e){var t=this;return B()(X()().m(function o(){return X()().w(function(o){while(1)switch(o.n){case 0:(0,pa.dialogDelete)().then(function(){var o=B()(X()().m(function o(a){return X()().w(function(o){while(1)switch(o.n){case 0:if(!a){o.n=2;break}return o.n=1,t.$http.delete("api/CcAgrupadorController/deleteCcAgrupador",{params:{id:e}});case 1:t.obtenerAgrupador();case 2:return o.a(2)}},o)}));return function(e){return o.apply(this,arguments)}}());case 1:return o.a(2)}},o)}))()},nuevoAgrupador:function(e,t){var o=e.IDAGRUPADOR,a=e.DESCRIPCION,n=void 0===a?null:a,r=e.GRADO_EQUIVALENCIA,i=void 0===r?null:r,l=e.INSTRU_EQUIVALENCIA,s=void 0===l?null:l;this.status=!0,t?this.dataPadre={DESCRIPCION:n,IDAGRUPADOR:o,INSTRU_EQUIVALENCIA:s,GRADO_EQUIVALENCIA:i}:(this.dataPadre={DESCRIPCION:null},this.dataPadre.IDAGRUPADOR_PADRE=o)}},mounted:function(){var e=this;return B()(X()().m(function t(){var o,a;return X()().w(function(t){while(1)switch(t.n){case 0:return e.obtenerAgrupador(),t.n=1,e.$http.get("api/HyoInstrus/obtInstru");case 1:return o=t.v,t.n=2,e.$http.get("api/HyoGradoNivs/obtGrados",{params:{agrupado:!0}});case 2:a=t.v,e.niveles=o.json,e.grados=a.json,e.niveles.unshift({INSTRUCOD:null,INSTRUDES:"Ninguno"});case 3:return t.a(2)}},t)}))()}};const fa=(0,Ge.A)(ma,[["render",Jo]]);var Ia=fa,Ea={class:"column"};function ha(e,t){var o=this,a=(0,r.g2)("sie-table"),n=(0,r.g2)("sie-modal");return(0,r.uX)(),(0,r.CE)("div",Ea,[(0,r.bF)(n,{modelValue:e.modalDetalle,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.modalDetalle=t}),title:e.titulo,onSubmit:e.saveSeleccionados},{default:(0,r.k6)(function(){return[(0,r.Q3)(':show-search="true'),(0,r.bF)(a,{class:"q-mt-xs",loadSelection:e.load,ref:"tablaDetalle",dense:"",flat:"",bordered:"","wrap-cells":"",css:"height: calc(60vh - 200px)",context:o,columns:e.columnsDetalle,data:e.dataDetalle,config:e.configDetalle,"check-all-position":"right",selection:"multiple","show-search":!0},null,8,["loadSelection","columns","data","config"])]}),_:1},8,["modelValue","title","onSubmit"]),(0,r.bF)(a,{class:"q-mt-xs",ref:"tablaProcesos",dense:"",flat:"",bordered:"","wrap-cells":"",css:"height: calc(100vh - 200px)","show-search":!0,context:this,columns:e.columns,data:e.listaProcesos,config:e.config},null,8,["columns","data","config"])])}var va=o(33777),Aa={component:{SieTable:va.A,sieModal:de.A},data:function(){return{listaProcesos:[],dataDetalle:[],modalDetalle:!1,titulo:null,columns:[{name:"IDPROCESO",label:this.$t("N°"),align:"center",field:"IDPROCESO"},{name:"TITULO",label:this.$t("Proceso"),align:"left",field:"TITULO"},{name:"PADRE",label:this.$t("P. Padre"),align:"left",field:"PADRE"},{name:"hasDetalle",align:"center",field:"hasDetalle"}],columnsDetalle:[{name:"IDPROCESO",label:this.$t("N°"),align:"center",field:"IDPROCESO"},{name:"TITULO",label:this.$t("Proceso"),align:"left",field:"TITULO"},{name:"PADRE",label:this.$t("P. Padre"),align:"left",field:"PADRE"}],configDetalle:{flat:!0,round:!0},colMarcados:{},colDisabled:{key:"IDPROCESO",values:[]},load:{},filaSelect:{},config:{flat:!0,round:!0,color:"primary",hasDetalle:{renderHtml:function(e,t,o){return o.icon({name:"remove_red_eye",color:e.hasDetalle?"secondary":"black"})},renderAction:function(e){this.verDetalles(e)}}}}},methods:{cargarData:function(){var e=this;return B()(X()().m(function t(){return X()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,e.$http.get("api/CcProcesosPadreController/getProcesosAsignar",{params:{nivelMin:3}});case 1:e.listaProcesos=t.v;case 2:return t.a(2)}},t)}))()},verDetalles:function(e){var t=this;return B()(X()().m(function o(){var a,n,r;return X()().w(function(o){while(1)switch(o.n){case 0:if(!(e&&Object.keys(e).length>0)){o.n=2;break}return t.filaSelect=e,t.colMarcados=[],t.colDisabled.values=[e.IDPROCESO_PADRE],t.modalDetalle=!0,t.titulo=e.TITULO,console.log(e),o.n=1,t.$http.get("api/CcProcesosPadreController/getProcesosConPadresDetalle",{params:{IDPROCESO:e.IDPROCESO,NIVEL_PROCESO:e.NIVEL_PROCESO,IDPROCESO_PADRE:e.IDPROCESO_PADRE}});case 1:a=o.v,n=a.data,r=a.detalles,t.load.values=[],t.load.key="IDPROCESO",r&&r.length>0&&r.forEach(function(e){t.colMarcados.push(e.IDPROCESO_PADRE),t.load.values.push(e.IDPROCESO_PADRE)}),t.dataDetalle=n;case 2:return o.a(2)}},o)}))()},saveSeleccionados:function(){var e=this;return B()(X()().m(function t(){var o,a,n;return X()().w(function(t){while(1)switch(t.n){case 0:if(o=e.$refs.tablaDetalle.rowsSelected().map(function(e){var t=e.IDPROCESO;return t}),a=[],n={add:[],del:[],proceso:e.filaSelect.IDPROCESO},o.forEach(function(t,o){t===e.filaSelect.IDPROCESO_PADRE?a.unshift(o):e.colMarcados.indexOf(t)<0&&n.add.push(t)}),e.colMarcados.forEach(function(t){console.log(o.indexOf(t),t,e.filaSelect.IDPROCESO_PADRE),t!==e.filaSelect.IDPROCESO_PADRE&&o.indexOf(t)<0&&n.del.push(t)}),a.forEach(function(e){o.splice(e,1)}),!(n.del.length>0||n.add.length>0)){t.n=2;break}return t.n=1,e.$http.post("api/CcProcesosPadreController/saveProcesosPadres",n);case 1:t.v,e.cargarData(),e.modalDetalle=!1,t.n=3;break;case 2:e.$notify("No hay cambios a realizar","error"),e.cargarData();case 3:console.log({data:o,filaBase:a,info:n},e.colMarcados);case 4:return t.a(2)}},t)}))()}},mounted:function(){var e=this;return B()(X()().m(function t(){return X()().w(function(t){while(1)switch(t.n){case 0:e.cargarData();case 1:return t.a(2)}},t)}))()}};const Ra=(0,Ge.A)(Aa,[["render",ha]]);var ga=Ra,Oa={class:"column"};function Ca(e,t){var o=(0,r.g2)("sie-table");return(0,r.uX)(),(0,r.CE)("div",Oa,[(0,r.bF)(o,{dense:"",flat:"",bordered:"","wrap-cells":"",css:"height: calc(100vh-150px)","show-search":!0,context:this,columns:e.columns,data:e.datosTabla,config:e.config,"show-refresh":!0},null,8,["columns","data","config"])])}var ba={component:{SieTable:va.A,sieModal:de.A},data:function(){return{dataAnos:[],datosTabla:[],tablaOriginal:{},columns:[{name:"ANO",label:this.$t("Año"),align:"center",field:"ANO"},{name:"INICIO",label:this.$t("Inicio"),align:"center",field:"INICIO"},{name:"FIN",label:this.$t("Fin"),align:"center",field:"FIN"}],config:{flat:!0,round:!0}}},methods:{cargarData:function(){var e=this;return B()(X()().m(function t(){var o,a,n,r;return X()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,e.$http.get("api/CcAnoController/getCcAno",{params:{parametros:{}}});case 1:o=t.v,a=o.anos,n=o.tabla,r=o.tablaOriginal,e.datosTabla=n,e.dataAnos=a,e.tablaOriginal=r,e.genConfig();case 2:return t.a(2)}},t)}))()},actualizarAno:function(e){var t=this;return B()(X()().m(function o(){var a,n,r,i,l,s,c,u;return X()().w(function(o){while(1)switch(o.p=o.n){case 0:return a=e.campo,n=e.valor,r=e.ano,o.p=1,i={},i[a]=n,l={params:i,ano:r},o.n=2,t.$http.post("api/CcAnoController/updateCcAno",l);case 2:s=o.v,c=s.message,t.$notify(c),t.cargarData(),o.n=4;break;case 3:o.p=3,u=o.v,console.log(u);case 4:return o.a(2)}},o,null,[[1,3]])}))()},genConfig:function(){this.config={flat:!0,round:!0,INICIO:{component:"select",options:this.dataAnos,optionValue:"ANO",optionLabel:"ANO",input:function(e,t){e.INICIO<e.FIN?this.actualizarAno({campo:"INICIO",valor:e.INICIO,ano:e.ANO}):(this.$notify("El año de inicio debe ser menor al final","error"),this.cargarData())}},FIN:{component:"select",options:this.dataAnos,optionValue:"ANO",optionLabel:"ANO",input:function(e){this.actualizarAno("FIN",e.FIN,e.ANO)}}}}},mounted:function(){var e=this;return B()(X()().m(function t(){return X()().w(function(t){while(1)switch(t.n){case 0:e.cargarData();case 1:return t.a(2)}},t)}))()}};const Pa=(0,Ge.A)(ba,[["render",Ca]]);var Sa=Pa,Da=o(78131),wa={components:{QSelect:H.A,QInput:J.A,QTooltip:K.nC,sieVacio:ee.A,QCard:te.A,QCardSection:oe.A,QTabs:ae.A,QTab:ne.A,mapaProceso:re.A,proceso:We,formularioProceso:Xe,indicador:zo,formularioIndicador:Qo,siePdf:je.A,agrupador:Ia,procesosAdicionales:ga,formularioAnos:Sa,QPage:K.Tu,QIcon:K.bP,QBtn:K.Il},computed:{isSmall:function(){return Y.A.sm||Y.A.xs},anioSesion:function(){return this.sieInfo.ano},buttonsByTab:function(){var e=this;return"vistaPrevia"===this.tab&&(this.buttons=[]),"procesos"===this.tab&&(this.buttons=[{icon:"addcircle",label:"Agregar",tooltip:"Agregar proceso",permiso:"> 1",click:function(){e.openModalAgregarProceso()}}]),"indicadores"===this.tab&&(this.buttons=[{icon:"addcircle",label:"Agregar",tooltip:"Agregar indicador",permiso:"> 1",click:function(){e.openModalAgregarIndicador()}},{icon:"cogs",label:"Procesar Encuestas",tooltip:"Procesar Encuestas",permiso:"> 2",click:function(){e.procesarEncuestas()}}]),"agrupadores"===this.tab&&(this.buttons=[{icon:"addcircle",label:"Agregar",tooltip:"Agregar",permiso:"> 2",click:function(){e.openModalAgrupador()}}]),"procesosAdicionales"===this.tab&&(this.buttons=[]),"formularioAnos"===this.tab&&(this.buttons=[]),this.buttons}},data:function(){return{sieInfo:(0,Z["default"])(),value:!1,item:{},filtroVistaPrevia:{tipcod:{model:0,data:[]},idindicador:{model:null},titulo:{model:null,data:[]},tipo:{model:0,data:[]},campo:{model:0,data:[]},criterio:{model:0,data:[]}},filtroIndicadores:{idindicador:{model:null},titulo:{model:null},proceso:{model:0,data:[]},tipo:{model:0,data:[]},campo:{model:0,data:[]},criterio:{model:0,data:[]},tipo_reporte:{model:null,data:[{value:null,label:"Todos"},{value:"A",label:"Adjunto"},{value:"S",label:"Sistema"},{value:"E",label:"Encuesta"},{value:"M",label:"Manual"}]}},tabs:[{CODIGO:"vistaPrevia",LABEL:"Vista previa"},{CODIGO:"procesos",LABEL:"Procesos"},{CODIGO:"indicadores",LABEL:"Indicadores"},{CODIGO:"agrupadores",LABEL:"Agrupadores"},{CODIGO:"procesosAdicionales",LABEL:"Procesos adicionales"},{CODIGO:"formularioAnos",LABEL:"Años"}],tab:"vistaPrevia",sistemaIntranetZend:"20",selectRowIndicador:{},selectRowProceso:{},buttonsProcesos:[],buttonsIndicadores:[],dataMapaProcesoIndicador:[],dataMapaProcesos:{},dataIndicadores:[],dataTendencia:[],esVistaPreviaConfig:!0,modalIndicadorAgregar:!1,options:{procesos:[],tipos:[],campos:[],criterios:[],perfiles:[]},modalAgregarProceso:!1,idIndicador:0,parametrosReporte:{}}},methods:{openModalAgrupador:function(){this.modelValue=!0},closeModalAgrupador:function(){this.modelValue=!1},clearFiltroVistaPrevia:function(){this.filtroVistaPrevia.titulo.model&&(this.filtroVistaPrevia.titulo.model=null),this.filtroVistaPrevia.tipo.model&&(this.filtroVistaPrevia.tipo.model=0),this.filtroVistaPrevia.campo.model&&(this.filtroVistaPrevia.campo.model=0),this.filtroVistaPrevia.criterio.model&&(this.filtroVistaPrevia.criterio.model=0),this.getDataMapaProcesosIndicador({tipcod:this.tipcod,esVistaPreviaConfig:this.esVistaPreviaConfig})},procesarEncuestas:function(){var e=this;return B()(X()().m(function t(){var o,a;return X()().w(function(t){while(1)switch(t.n){case 0:return o={ANO:e.anioSesion},t.n=1,e.$confirmar("¿Desea realizar este proceso?");case 1:if(a=t.v,a)try{e.$http.post("api/CcIndicadorController/updateReporteManualIndicadores",o),e.$notify("Registros actualizados Correctamente")}catch(e){}console.log({respuesta:a,data:o});case 2:return t.a(2)}},t)}))()},clearFiltroIndicadores:function(){this.filtroIndicadores.idindicador.model&&(this.filtroIndicadores.idindicador.model=null),this.filtroIndicadores.titulo.model&&(this.filtroIndicadores.titulo.model=null),this.filtroIndicadores.proceso.model&&(this.filtroIndicadores.proceso.model=0),this.filtroIndicadores.tipo.model&&(this.filtroIndicadores.tipo.model=0),this.filtroIndicadores.campo.model&&(this.filtroIndicadores.campo.model=0),this.filtroIndicadores.criterio.model&&(this.filtroIndicadores.criterio.model=0),this.getListarIndicadores({})},getDataMapaProcesosIndicador:function(){var e=arguments,t=this;return B()(X()().m(function o(){var a,n;return X()().w(function(o){while(1)switch(o.n){case 0:if(a=e.length>0&&void 0!==e[0]?e[0]:{tipcod:t.filtroVistaPrevia.tipcod.model,esVistaPreviaConfig:t.esVistaPreviaConfig},!t.filtroVistaPrevia.tipcod.model){o.n=2;break}return o.n=1,t.$http.get("api/CcIndicadorController/getDataMapaProcesosIndicador",{params:{parametros:a}});case 1:n=o.v,t.dataMapaProcesoIndicador=n,o.n=3;break;case 2:t.dataMapaProcesoIndicador=[];case 3:return o.a(2)}},o)}))()},getMapaProcesos:function(){var e=this;return B()(X()().m(function t(){var o;return X()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,e.$http.get("api/CcIndicadorController/getMapaProcesos");case 1:o=t.v,e.dataMapaProcesos=o;case 2:return t.a(2)}},t)}))()},buscarIndicador:function(){var e=this;return B()(X()().m(function t(){var o;return X()().w(function(t){while(1)switch(t.n){case 0:o={esVistaPreviaConfig:e.esVistaPreviaConfig,tipcod:e.filtroVistaPrevia.tipcod.model,idindicador:e.filtroVistaPrevia.idindicador.model,titulo:e.filtroVistaPrevia.titulo.model,idtipo:e.filtroVistaPrevia.tipo.model,idcampo:e.filtroVistaPrevia.campo.model,idcriterio:e.filtroVistaPrevia.criterio.model},e.getDataMapaProcesosIndicador(o);case 1:return t.a(2)}},t)}))()},getListarIndicadores:function(){var e=arguments,t=this;return B()(X()().m(function o(){var a,n;return X()().w(function(o){while(1)switch(o.n){case 0:return a=e.length>0&&void 0!==e[0]?e[0]:{},o.n=1,t.$http.get("api/CcIndicadorController/getListarIndicadores",{params:{parametros:a}});case 1:n=o.v,t.dataIndicadores=n;case 2:return o.a(2)}},o)}))()},filtraIndicadores:function(){var e=this;return B()(X()().m(function t(){var o;return X()().w(function(t){while(1)switch(t.n){case 0:return o={idindicador:e.filtroIndicadores.idindicador.model,titulo:e.filtroIndicadores.titulo.model,idproceso:e.filtroIndicadores.proceso.model,idtipo:e.filtroIndicadores.tipo.model,idcampo:e.filtroIndicadores.campo.model,idcriterio:e.filtroIndicadores.criterio.model,tipo_reporte:e.filtroIndicadores.tipo_reporte.model},t.n=1,e.getListarIndicadores(o);case 1:return t.a(2)}},t)}))()},getPerfiles:function(){var e=this;return B()(X()().m(function t(){var o,a;return X()().w(function(t){while(1)switch(t.n){case 0:return o={siscod:e.sistemaIntranetZend,order:{sidx:"tipnom",sord:"asc"}},t.n=1,e.$http.get("api/TipUsuController/getTipUsu",{params:{params:o}});case 1:a=t.v,e.filtroVistaPrevia.tipcod.data.push({value:0,label:"Seleccione un perfil"}),a.map(function(t){e.filtroVistaPrevia.tipcod.data.push({value:t.TIPCOD,label:t.TIPNOM}),e.options.perfiles.push({TIPCOD:t.TIPCOD,TIPNOM:t.TIPNOM})});case 2:return t.a(2)}},t)}))()},getListarProcesos:function(){var e=this;return B()(X()().m(function t(){var o,a;return X()().w(function(t){while(1)switch(t.n){case 0:return o={siscod:e.sistemaIntranetZend,order:{sidx:"tipnom",sord:"asc"}},t.n=1,e.$http.get("api/CcProcesoController/getListarProcesos",{params:{params:o}});case 1:a=t.v,e.filtroIndicadores.proceso.data.push({value:0,label:"Todos"}),a.map(function(t){e.filtroIndicadores.proceso.data.push({value:t.IDPROCESO,label:t.RUTA_PROCESO}),e.options.procesos.push({value:t.IDPROCESO,label:t.RUTA_PROCESO})});case 2:return t.a(2)}},t)}))()},getCcIndicadorTipo:function(){var e=this;return B()(X()().m(function t(){var o;return X()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,e.$http.get("api/CcIndicadorTipoController/getCcIndicadorTipo");case 1:o=t.v,e.filtroVistaPrevia.tipo.data.push({value:0,label:"Todos"}),e.filtroIndicadores.tipo.data.push({value:0,label:"Todos"}),o.map(function(t){e.filtroVistaPrevia.tipo.data.push({value:t.IDTIPO,label:t.TIPONOM}),e.filtroIndicadores.tipo.data.push({value:t.IDTIPO,label:t.TIPONOM}),e.options.tipos.push({value:t.IDTIPO,label:t.TIPONOM})});case 2:return t.a(2)}},t)}))()},getCcIndicadorCampo:function(){var e=this;return B()(X()().m(function t(){var o;return X()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,e.$http.get("api/CcIndicadorCampoController/getCcIndicadorCampo");case 1:o=t.v,e.filtroVistaPrevia.campo.data.push({value:0,label:"Todos"}),e.filtroIndicadores.campo.data.push({value:0,label:"Todos"}),o.map(function(t){e.filtroVistaPrevia.campo.data.push({value:t.IDCAMPO,label:t.CAMPONOM}),e.filtroIndicadores.campo.data.push({value:t.IDCAMPO,label:t.CAMPONOM}),e.options.campos.push({value:t.IDCAMPO,label:t.CAMPONOM})});case 2:return t.a(2)}},t)}))()},getCcIndicadorCriterio:function(){var e=this;return B()(X()().m(function t(){var o;return X()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,e.$http.get("api/CcIndicadorCriterioController/getCcIndicadorCriterio");case 1:o=t.v,e.filtroVistaPrevia.criterio.data.push({value:0,label:"Todos"}),e.filtroIndicadores.criterio.data.push({value:0,label:"Todos"}),o.map(function(t){e.filtroVistaPrevia.criterio.data.push({value:t.IDCRITERIO,label:t.CRITERIONOM}),e.filtroIndicadores.criterio.data.push({value:t.IDCRITERIO,label:t.CRITERIONOM}),e.options.criterios.push({value:t.IDCRITERIO,label:t.CRITERIONOM})});case 2:return t.a(2)}},t)}))()},openModalAgregarIndicador:function(){this.modalIndicadorAgregar=!0},rowIndicador:function(e){this.selectRowIndicador=e},openModalAgregarProceso:function(){this.modalAgregarProceso=!0},rowProceso:function(e){this.selectRowProceso=e},exportarOfVistaPrevia:function(e){try{if(!this.filtroVistaPrevia.tipcod.model)throw new Error("Por favor selecciona un perfil");if("pdf"===e){var t={tipcod:this.filtroVistaPrevia.tipcod.model,anosession:this.anioSesion,formato:e},o="/intranet/mapa-procesos-config/reporte-mapa-indicadores";(0,W.exportFilePhp)(t,o)}if("xls"===e){var a={tipcod:this.filtroVistaPrevia.tipcod.model,anosession:this.anioSesion,formato:e},n="/intranet/mapa-procesos/reporte-mapa-indicadores";(0,W.exportFilePhp)(a,n)}}catch(e){this.$alert(e.message,"info")}},exportarOfIndicadores:function(e){try{if("pdf"===e){var t={formato:e},o="intranet/mapa-procesos-config/reporte";(0,W.exportFilePhp)(t,o)}if("xls"===e){var a={formato:e},n="intranet/mapa-procesos-config/reporte";(0,W.exportFilePhp)(a,n)}}catch(e){this.$alert(e.message,"info")}},exportarTableroDeResultados:function(e){var t=this;return B()(X()().m(function o(){var a,n;return X()().w(function(o){while(1)switch(o.n){case 0:try{"pdf"===e&&(a={formato:e},n="intranet/mapa-procesos-config/reporte",(0,W.exportFilePhp)(a,n)),"xls"===e&&(0,W.exportFilePhp)({},"/intranet/mapa-procesos/reporte-tablero-resultados","reporte-tablero-resultados","mapaconfiguracion")}catch(e){t.$alert(e.message,"info")}case 1:return o.a(2)}},o)}))()},mostrarReporte:function(e){var t=this;return B()(X()().m(function o(){return X()().w(function(o){while(1)switch(o.n){case 0:return t.idIndicador=e.data.idindicador,t.parametrosReporte=e.parametros,t.item=G()({},e),o.n=1,t.$nextTick();case 1:(0,W.exportFilePhp)(e.data,e.action,"vista-previa-reporte","mapaconfiguracion");case 2:return o.a(2)}},o)}))()},descargarReporte:function(){var e=G()(G()({},this.item.data),{nomfile:this.item.parametros.titulo+".pdf"}),t=new URLSearchParams(e).toString(),o="".concat((0,Z["default"])().url,"/").concat(this.item.action,"?").concat(t,"&sie-token=").concat((0,Z["default"])().token);(0,Da["default"])(o,"TITULO.pdf")},mostrarParametro:function(){var e=this;return B()(X()().m(function t(){var o;return X()().w(function(t){while(1)switch(t.n){case 0:o={idindicador:e.parametrosReporte.idindicador,tipo_reporte:e.parametrosReporte.tipo_reporte,titulo:e.parametrosReporte.titulo},e.$refs.refProcesoVistaPrevia.openModalIndicador(o);case 1:return t.a(2)}},t)}))()},regresarVistaPrevia:function(){this.idIndicador=0},agregarProceso:function(){var e=this;return B()(X()().m(function t(){return X()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,e.getMapaProcesos();case 1:return t.a(2)}},t)}))()},actualizarProceso:function(){var e=this;return B()(X()().m(function t(){return X()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,e.getMapaProcesos();case 1:return t.a(2)}},t)}))()},eliminarProceso:function(){var e=this;return B()(X()().m(function t(){return X()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,e.getMapaProcesos();case 1:return t.a(2)}},t)}))()},agregarIndicador:function(){var e=this;return B()(X()().m(function t(){return X()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,e.filtraIndicadores();case 1:return t.a(2)}},t)}))()},actualizarIndicador:function(){var e=this;return B()(X()().m(function t(){return X()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,e.filtraIndicadores();case 1:return t.a(2)}},t)}))()},eliminarIndicador:function(){var e=this;return B()(X()().m(function t(){return X()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,e.filtraIndicadores();case 1:return t.a(2)}},t)}))()},eliminarAdjunto:function(){var e=this;return B()(X()().m(function t(){return X()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,e.filtraIndicadores();case 1:return t.a(2)}},t)}))()}},created:function(){var e=this;return B()(X()().m(function t(){return X()().w(function(t){while(1)switch(t.n){case 0:e.filtroVistaPrevia.tipcod.value&&e.getDataMapaProcesosIndicador(),e.getListarIndicadores(),e.getPerfiles(),e.getListarProcesos(),e.getCcIndicadorTipo(),e.getCcIndicadorCampo(),e.getCcIndicadorCriterio(),e.getMapaProcesos();case 1:return t.a(2)}},t)}))()}};const Ta=(0,Ge.A)(wa,[["render",j]]);var ka=Ta}}]);