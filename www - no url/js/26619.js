"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[26619],{26619:function(e,a,r){r.r(a),r.d(a,{default:function(){return te}});r(71225),r(39866),r(56285),r(50310),r(5962),r(83190);var o=r(61758),n=r(58790),t={class:"row items-center no-wrap"},i={class:"col"},s={class:"text-h6"},l={class:"col-auto"},c={class:"col-xs-12 col-sm-4"},d={class:"col-xs-12 col-sm-4"},u={key:0,class:"col-xs-12 col-sm-4"},m={key:1,class:"col-xs-12 col-sm-4"},A={key:2,class:"col-xs-12 col-sm-12"},O={key:3,class:"col-xs-12 col-sm-12"},D={class:"row items-center no-wrap"},P={class:"col"},f={class:"text-h6"},E={key:0,class:"col-xs-12 col-sm-4"},h={key:1,class:"col-xs-12 col-sm-4"},p={key:2,class:"col-xs-12 col-sm-4"},I={key:3,class:"col-xs-12 col-sm-4"},N={class:"col-xs-12 col-sm-4"};function C(e,a){var r=(0,o.g2)("crearBotones"),C=(0,o.g2)("q-card-section"),g=(0,o.g2)("q-separator"),M=(0,o.g2)("q-select"),R=(0,o.g2)("q-input"),T=(0,o.g2)("q-checkbox"),_=(0,o.g2)("q-card-main"),w=(0,o.g2)("q-card"),L=(0,o.g2)("sie-grid"),b=(0,o.g2)("footer-grid"),S=(0,o.g2)("sie-modal");return(0,o.uX)(),(0,o.Wv)(w,{class:"layout-v1 my-card",flat:"",bordered:""},{default:(0,o.k6)(function(){return[(0,o.bF)(C,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("div",t,[(0,o.Lk)("div",i,[(0,o.Lk)("div",s,(0,n.v_)(e.title),1)]),(0,o.Lk)("div",l,[(0,o.bF)(r,{option:e.name,buttons:e.buttons,nivelAcceso:e.nivelAcceso},null,8,["option","buttons","nivelAcceso"])])])]}),_:1}),(0,o.bF)(g),(0,o.bF)(C,null,{default:(0,o.k6)(function(){return[(0,o.bF)(w,{class:"col-12 q-card-legend"},{default:(0,o.k6)(function(){return[(0,o.bF)(_,{class:"row"},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",c,[(0,o.bF)(M,{"option-value":"value","option-label":"label",options:e.comboVistas,modelValue:e.vistaSeleccionada,"onUpdate:modelValue":a[0]||(a[0]=function(a){return e.vistaSeleccionada=a}),label:"Opción de vista",onInput:e.vistaFueSeleccionada,placeholder:"Seleccione una opción"},null,8,["options","modelValue","onInput"])]),(0,o.Lk)("div",d,[(0,o.bF)(R,{modelValue:e.filter.codigo,"onUpdate:modelValue":a[1]||(a[1]=function(a){return e.filter.codigo=a}),label:"Código",placeholder:"Ingrese el código",maxlength:20,onInput:e.filtrar},null,8,["modelValue","onInput"])]),e.vistaSeleccionada===e.optionsKeys.familias?((0,o.uX)(),(0,o.CE)("div",u,[(0,o.bF)(R,{modelValue:e.filter.nombre,"onUpdate:modelValue":a[2]||(a[2]=function(a){return e.filter.nombre=a}),label:"Familia",placeholder:"Ingrese el nombre de la familia",maxlength:100,onInput:e.filtrar},null,8,["modelValue","onInput"])])):((0,o.uX)(),(0,o.CE)("div",m,[(0,o.bF)(R,{modelValue:e.filter.nombre,"onUpdate:modelValue":a[3]||(a[3]=function(a){return e.filter.nombre=a}),label:"Nombre",placeholder:"Ingrese el nombre",maxlength:50,onInput:e.filtrar},null,8,["modelValue","onInput"])])),[1,4].includes(e.vistaSeleccionada)?((0,o.uX)(),(0,o.CE)("div",A,[(0,o.bF)(T,{modelValue:e.familiaProblemasChecked,"onUpdate:modelValue":a[4]||(a[4]=function(a){return e.familiaProblemasChecked=a}),label:"Ver solo familias con problemas",color:"primary",onInput:e.cargarDatos},null,8,["modelValue","onInput"])])):(0,o.Q3)("v-if",!0),[2].includes(e.vistaSeleccionada)?((0,o.uX)(),(0,o.CE)("div",O,[(0,o.bF)(T,{modelValue:e.alumnosProblemasChecked,"onUpdate:modelValue":a[5]||(a[5]=function(a){return e.alumnosProblemasChecked=a}),label:"Ver solo alumnos con problemas",color:"primary",onInput:e.vistaFueSeleccionada},null,8,["modelValue","onInput"])])):(0,o.Q3)("v-if",!0)]}),_:1})]}),_:1})]}),_:1}),(0,o.bF)(g),(0,o.bF)(C,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("div",null,[(0,o.bF)(L,{class:"ag-theme-quartz q-mt-xs fix-tab-height ag-theme-balham",columnDefs:e.columnDefs,rowData:e.rowData,frameworkComponents:e.frameworkComponents,onGridReady:e.onGridReady,enableCellTextSelection:!0,ensureDomOrder:"true",defaultColDef:e.defaultColDef,floatingFilter:!0,onCellValueChanged:e.cellValueChanged},null,8,["columnDefs","rowData","frameworkComponents","onGridReady","defaultColDef","onCellValueChanged"]),(0,o.bF)(b,{modelValue:e.pagina,"onUpdate:modelValue":a[6]||(a[6]=function(a){return e.pagina=a}),max:e.pages,onLoad:e.cargarDatos,rows:e.rowData},null,8,["modelValue","max","onLoad","rows"])])]}),_:1}),(0,o.bF)(S,{modelValue:e.modalAgregar,"onUpdate:modelValue":a[12]||(a[12]=function(a){return e.modalAgregar=a}),onSubmit:e.actualizar},{default:(0,o.k6)(function(){return[(0,o.bF)(C,null,{default:(0,o.k6)(function(){return[(0,o.Lk)("div",D,[(0,o.Lk)("div",P,[(0,o.Lk)("div",f,"Corregir "+(0,n.v_)(e.nombreRelacionAgregar),1)])]),[e.optionsKeys.familias].includes(e.tipoModal)||[e.optionsKeys.alumnos].includes(e.tipoModal)&&"Alumno"!==e.nombreRelacionAgregar?((0,o.uX)(),(0,o.CE)("div",E,[(0,o.bF)(R,{modelValue:e.formPersona.APELLIDO_PATERNO,"onUpdate:modelValue":a[7]||(a[7]=function(a){return e.formPersona.APELLIDO_PATERNO=a}),label:"Primer Apellido",placeholder:"Ingrese el primer apellido",maxlength:30,onInput:e.toUpperCase},null,8,["modelValue","onInput"])])):(0,o.Q3)("v-if",!0),[e.optionsKeys.familias].includes(e.tipoModal)||[e.optionsKeys.alumnos].includes(e.tipoModal)&&"Alumno"!==e.nombreRelacionAgregar?((0,o.uX)(),(0,o.CE)("div",h,[(0,o.bF)(R,{modelValue:e.formPersona.APELLIDO_MATERNO,"onUpdate:modelValue":a[8]||(a[8]=function(a){return e.formPersona.APELLIDO_MATERNO=a}),label:"Segundo Apellido",placeholder:"Ingrese el segundo apellido",maxlength:30,onInput:e.toUpperCase},null,8,["modelValue","onInput"])])):(0,o.Q3)("v-if",!0),[e.optionsKeys.familias].includes(e.tipoModal)||[e.optionsKeys.alumnos].includes(e.tipoModal)&&"Alumno"!==e.nombreRelacionAgregar?((0,o.uX)(),(0,o.CE)("div",p,[(0,o.bF)(R,{modelValue:e.formPersona.NOMBRES,"onUpdate:modelValue":a[9]||(a[9]=function(a){return e.formPersona.NOMBRES=a}),label:"Nombres",placeholder:"Ingrese los nombres",maxlength:60,onInput:e.toUpperCase},null,8,["modelValue","onInput"])])):(0,o.Q3)("v-if",!0),[e.optionsKeys.alumnos].includes(e.tipoModal)&&"Alumno"===e.nombreRelacionAgregar?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.CE)("div",I,[(0,o.bF)(M,{modelValue:e.formPersona.TIPO_DOCUMENTO,"onUpdate:modelValue":a[10]||(a[10]=function(a){return e.formPersona.TIPO_DOCUMENTO=a}),"option-label":"ABREVIATURA","option-value":"CODTABLA",label:"Tipo Documento Identidad",options:e.comboTipoDocumentos,placeholder:"Tipo de documento",onInput:e.setLenDocumento},null,8,["modelValue","options","onInput"])])),(0,o.Lk)("div",N,[(0,o.bF)(R,{modelValue:e.formPersona.NUMERO_DOCUMENTO,"onUpdate:modelValue":a[11]||(a[11]=function(a){return e.formPersona.NUMERO_DOCUMENTO=a}),label:"Numero de documento",placeholder:"Ingrese el número de documento",maxlength:e.lenDoc},null,8,["modelValue","maxlength"])])]}),_:1})]}),_:1},8,["modelValue","onSubmit"])]}),_:1})}var g=r(14794),M=r.n(g),R=r(8445),T=r.n(R),_=r(41562),w=r.n(_),L=r(57008),b=r.n(L),S=r(9504),v=r.n(S),F=r(76080),U=r.n(F),k=r(45254),B=r.n(k),V=r(99550),y=r.n(V),x=(r(12563),r(30683),r(74260),r(23825),r(10239),r(23513),r(32203),r(32408),r(515),r(44264),r(66307),r(68017),r(24066),r(6123)),$=r(95718),G=r(53380),K=r(3112),z=r(64208),Q=r(54489),q=r(75053),X=r(93616),H=r(80660),W=r(41615),j=r(27560),Y=r(36408),Z=r(6557),J=r(78840),ee=r(64303),ae=r(18105),re={components:{sieSelect:X.A,sieModal:q.A,QTable:x.kH,QTr:x.qh,QTd:x.Ef,QCard:x.C$,QPopupEdit:x.GT,QCardTitle:x.u0,QCheckbox:K.A,QBtn:x.Il,QCardMain:x.d1,QToggle:x.c5,QDatetime:x.T5,QCardSection:$.A,QSeparator:G.A,QSelect:Q.S,QInput:z.A,footerGrid:j.A,sieGrid:Y.A,actionButton:J.A,crearBotones:ee.A},data:function(){return{nivelAcceso:3,name:"Vistas",vistaSeleccionada:1,columnDefs:[],rowData:[],rowDataInitial:[],frameworkComponents:{actionButton:J.A},api:{},pagina:1,pages:1,title:"Vistas",comboVistas:[{value:1,label:"Familias"},{value:2,label:"Alumnos"},{value:3,label:"Alumnos Externo"},{value:6,label:"Personal"},{value:7,label:"Personas Duplicadas"}],optionsKeys:{familias:1,alumnos:2,alumnosExternos:3,familiasProblemas:4,alumnosProblemas:5,personal:6,personaDuplicadas:7},optionApiGet:{1:"api/TesoreriaServiciosController/getVistaFamilias",2:"api/TesoreriaServiciosController/getAlumnosTodos",3:"api/TesoreriaServiciosController/getVistaAlumnosExternos",4:"api/TesoreriaServiciosController/getVistaFamiliasConProblemas",5:"api/TesoreriaServiciosController/getVistaAlumnosConProblemas",6:"api/TesoreriaServiciosController/getVistaPersonal",7:"api/PersonaController/getPersonasDuplicadas"},filter:{codigo:"",nombre:""},parentescos:{Apoderado:"A",Madre:"M",Padre:"P"},modalAgregar:!1,tipoParentescoAgregar:"A",nombreRelacionAgregar:"Apoderado",familiaSeleccionada:"",formPersona:{APELLIDO_PATERNO:"",APELLIDO_MATERNO:"",NOMBRES:"",TIPO_DOCUMENTO:"01",NUMERO_DOCUMENTO:""},comboTipoDocumentos:[],familiaProblemasChecked:!0,alumnosProblemasChecked:!0,tipoModal:1,nroDocAnterior:null,tipDocAnterior:null,lenDoc:0,tipoDocumentos:[],buttons:[],defaultColDef:{suppressHeaderMenuButton:!0,filter:!0,floatingFilterComponentParams:{suppressFilterButton:!0},resizable:!0,sortable:!0},updDocumentos:{}}},computed:{},methods:{cellValueChanged:function(e){var a=e.colDef.field;return!!["PADDOC","MADDOC","APODOC"].includes(a)&&(e.newValue!==e.oldValue&&(this.updDocumentos[e.data.FAMCOD]||(this.updDocumentos[e.data.FAMCOD]={FAMDES:e.data.FAMDES}),this.updDocumentos[e.data.FAMCOD][a]=e.newValue,void("PADDOC"===a?(this.updDocumentos[e.data.FAMCOD]["PAD_ID_PERSONA"]=e.data.PAD_ID_PERSONA,this.updDocumentos[e.data.FAMCOD]["PADTIPDOC"]=e.data.PADTIPDOC):"MADDOC"===a?(this.updDocumentos[e.data.FAMCOD]["MAD_ID_PERSONA"]=e.data.MAD_ID_PERSONA,this.updDocumentos[e.data.FAMCOD]["MADTIPDOC"]=e.data.MADTIPDOC):"APODOC"===a&&(this.updDocumentos[e.data.FAMCOD]["APO_ID_PERSONA"]=e.data.APO_ID_PERSONA,this.updDocumentos[e.data.FAMCOD]["APOTIPDOC"]=e.data.APOTIPDOC))))},prepararDataDnis:function(){if(0===Object.keys(this.updDocumentos).length)throw new Error("No se encontro ningun registro para actualizar");var e=[];for(var a in this.updDocumentos){var r=this.updDocumentos[a],o={error:[],status:"rows"};Object.prototype.hasOwnProperty.call(r,"PADDOC")&&(r.PADTIPDOC.toString()===W["default"].TIPDOC_SIEWEB.DNI.toString()&&(W["default"].VALIDAR_DNI(r.PADDOC)||(o.error.push("El DNI (".concat(r.PADDOC,") del papá de la familia ").concat(r.FAMDES," es incorrecto")),o.status="rowErrors")),o.PADDOC=r.PADDOC,o.PAD_ID_PERSONA=r.PAD_ID_PERSONA),Object.prototype.hasOwnProperty.call(r,"MADDOC")&&(r.MADTIPDOC.toString()===W["default"].TIPDOC_SIEWEB.DNI.toString()&&(W["default"].VALIDAR_DNI(r.MADDOC)||(o.error.push("El DNI (".concat(r.MADDOC,") de la mamá de la familia ").concat(r.FAMDES," es incorrecto")),o.status="rowErrors")),o.MADDOC=r.MADDOC,o.MAD_ID_PERSONA=r.MAD_ID_PERSONA),Object.prototype.hasOwnProperty.call(r,"APODOC")&&(r.APOTIPDOC.toString()===W["default"].TIPDOC_SIEWEB.DNI.toString()&&(W["default"].VALIDAR_DNI(r.APODOC)||(o.error.push("El DNI (".concat(r.APODOC,") del apoderado de la familia ").concat(r.FAMDES," es incorrecto")),o.status="rowErrors")),o.APODOC=r.APODOC,o.APO_ID_PERSONA=r.APO_ID_PERSONA),o.FAMDES=r.FAMDES,o.FAMCOD=a,e.push(o)}var n=Object.groupBy(e,function(e){return e.status});return n},actualizarDnis:function(){var e=this;try{var a=this.prepararDataDnis(),r=a.rowErrors,o=a.rows;if(r&&Object.keys(r).length>0){var n=y()(r,1),t=n[0],i=y()(t.error,1),s=i[0];throw new Error(s)}this.$confirm("¿Esta seguro de actualizar los (".concat(o.length,") registros seleccionados?")).onOk(B()(U()().m(function a(){var r,n,t,i,s,l,c,d,u,m,A,O;return U()().w(function(a){while(1)switch(a.p=a.n){case 0:r=[],e.$q.loading.show(),m=v()(o);case 1:if((A=m()).done){a.n=6;break}return n=A.value,t=o[n],a.p=2,a.n=3,H.$http.post("api/FamiliaController/postActualzarDniFamilia",{params:t});case 3:t.status="success",r.push(t),a.n=5;break;case 4:a.p=4,O=a.v,t.status="error",t.error=O.error?O.error.message:O.message,r.push(t);case 5:a.n=1;break;case 6:i=Object.groupBy(r,function(e){return e.status}),s=i.error,l=i.success,c={message:"",icon:""},e.$q.loading.hide(),!s||1!==s.length||l&&0!==l.length||(d=y()(s,1),u=d[0],c.message=u.error,c.icon="warning"),s&&s.length>1&&(!l||0===l.length)&&(c.message="Proceso Finalizado: (".concat(s.length,") registros con problemas."),c.icon="warning"),l&&l.length>0&&(c.message="Proceso Finalizado (".concat(l.length,") registros actualizados"),c.icon="success"),l&&l.length>0&&s&&s.length>0&&(c.message="Proceso Finalizado: (".concat(l.length,") registros actualizados, y<br>(").concat(s.length,") con problemas"),c.icon="success"),e.$alert(c.message,c.icon,!0),e.cargarDatos();case 7:return a.a(2)}},a,null,[[2,4]])})))}catch(e){return this.$alert(e.error?e.error.message:e.message,"warning")}},vistaFueSeleccionada:function(e){var a=this;return B()(U()().m(function e(){var r;return U()().w(function(e){while(1)switch(e.n){case 0:r=a.comboVistas.find(function(e){return e.value===a.vistaSeleccionada}),a.title="Vistas de ".concat(r.label.charAt(0).toUpperCase()).concat(r.label.slice(1)),a.crearBotones(),a.setColumns(),a.cargarDatos();case 1:return e.a(2)}},e)}))()},eliminarIDPadre:function(e){var a=this,r=e.data,o={ID_PERFAM:r.ID_PERFAM,ID_PERSONA:r.PAD_ID_PERSONA,FAMILIAR:this.parentescos["Padre"],FAMCOD:r.FAMCOD};this.$confirm("¿Esta seguro de eliminar el ID del padre?").onOk(B()(U()().m(function e(){var r,n;return U()().w(function(e){while(1)switch(e.p=e.n){case 0:return e.p=0,e.n=1,H.$http.delete("api/personaController/deletePersonaFamiliaDet",{params:{parametros:o}});case 1:return r=e.v,e.n=2,a.cargarDatos();case 2:a.$alert(r.message,"success"),e.n=4;break;case 3:e.p=3,n=e.v,a.$alert(n.error.message,"warning");case 4:return e.a(2)}},e,null,[[0,3]])})))},agregarPadre:function(e){this.formPersona.APELLIDO_PATERNO=e.data.PADAPEPAT?e.data.PADAPEPAT:"",this.formPersona.APELLIDO_MATERNO=e.data.PADAPEMAT?e.data.PADAPEMAT:"",this.formPersona.NOMBRES=e.data.PADNOMBRE,this.formPersona.TIPO_DOCUMENTO=e.data.PADTIPDOC,this.formPersona.NUMERO_DOCUMENTO=e.data.PADDOC,this.familiaSeleccionada=e.data.FAMCOD,this.tipoParentescoAgregar=this.parentescos["Padre"],this.nombreRelacionAgregar="Padre",this.modalAgregar=!0,this.tipoModal=this.optionsKeys.familias},eliminarIDMadre:function(e){var a=this,r=e.data,o={ID_PERFAM:r.ID_PERFAM,ID_PERSONA:r.MAD_ID_PERSONA,FAMILIAR:this.parentescos["Madre"],FAMCOD:r.FAMCOD};this.$confirm("¿Esta seguro de eliminar el ID de la madre?").onOk(B()(U()().m(function e(){var r,n;return U()().w(function(e){while(1)switch(e.p=e.n){case 0:return e.p=0,e.n=1,H.$http.delete("api/personaController/deletePersonaFamiliaDet",{params:{parametros:o}});case 1:return r=e.v,e.n=2,a.cargarDatos();case 2:a.$alert(r.message,"success"),e.n=4;break;case 3:e.p=3,n=e.v,a.$alert(n.error.message,"warning");case 4:return e.a(2)}},e,null,[[0,3]])})))},agregarMadre:function(e){this.formPersona.APELLIDO_PATERNO=e.data.MADAPEPAT,this.formPersona.APELLIDO_MATERNO=e.data.MADAPEMAT?e.data.MADAPEMAT:"",this.formPersona.NOMBRES=e.data.MADNOMBRE,this.formPersona.TIPO_DOCUMENTO=e.data.MADTIPDOC,this.formPersona.NUMERO_DOCUMENTO=e.data.MADDOC,this.familiaSeleccionada=e.data.FAMCOD,this.tipoParentescoAgregar=this.parentescos["Madre"],this.nombreRelacionAgregar="Madre",this.modalAgregar=!0,this.tipoModal=this.optionsKeys.familias},eliminarIDApoderado:function(e){var a=this,r=e.data,o={ID_PERFAM:r.ID_PERFAM,ID_PERSONA:r.APO_ID_PERSONA,FAMILIAR:this.parentescos["Apoderado"],FAMCOD:r.FAMCOD};this.$confirm("¿Esta seguro de eliminar el ID del apoderado?").onOk(B()(U()().m(function e(){var r,n;return U()().w(function(e){while(1)switch(e.p=e.n){case 0:return e.p=0,e.n=1,H.$http.delete("api/personaController/deletePersonaFamiliaDet",{params:{parametros:o}});case 1:return r=e.v,e.n=2,a.cargarDatos();case 2:a.$alert(r.message,"success"),e.n=4;break;case 3:e.p=3,n=e.v,a.$alert(n.error.message,"warning");case 4:return e.a(2)}},e,null,[[0,3]])})))},agregarApoderado:function(e){this.formPersona.APELLIDO_PATERNO=e.data.APOAPEPAT,this.formPersona.APELLIDO_MATERNO=e.data.APOAPEMAT?e.data.APOAPEMAT:"",this.formPersona.NOMBRES=e.data.APONOMBRE,this.formPersona.TIPO_DOCUMENTO=e.data.APOTIPDOC,this.formPersona.NUMERO_DOCUMENTO=e.data.APODOC,this.familiaSeleccionada=e.data.FAMCOD,this.tipoParentescoAgregar=this.parentescos["Apoderado"],this.nombreRelacionAgregar="Apoderado",this.modalAgregar=!0,this.tipoModal=this.optionsKeys.familias},actualizarFamilia:function(){var e=this;return B()(U()().m(function a(){var r,o;return U()().w(function(a){while(1)switch(a.p=a.n){case 0:return r={APELLIDO_PATERNO:e.formPersona.APELLIDO_PATERNO?e.formPersona.APELLIDO_PATERNO:"",APELLIDO_MATERNO:e.formPersona.APELLIDO_MATERNO?e.formPersona.APELLIDO_MATERNO:"",NOMBRES:e.formPersona.NOMBRES?e.formPersona.NOMBRES:"",TIPO_DOCUMENTO:e.formPersona.TIPO_DOCUMENTO?e.formPersona.TIPO_DOCUMENTO:W["default"].TIPDOC_SIEWEB.DNI,NUMERO_DOCUMENTO:e.formPersona.NUMERO_DOCUMENTO?e.formPersona.NUMERO_DOCUMENTO:"",FAMCOD:e.familiaSeleccionada,FAMILIAR:e.tipoParentescoAgregar},a.p=1,a.n=2,H.$http.put("api/personaController/putVistaFamilias",{params:r});case 2:return a.n=3,e.cargarDatos();case 3:e.modalAgregar=!1,e.$alert(e.nombreRelacionAgregar+" agregado(a) con éxito","success"),a.n=5;break;case 4:a.p=4,o=a.v,e.$alert(o.error.message,"warning");case 5:return a.a(2)}},a,null,[[1,4]])}))()},eliminarIDAlumnoExterno:function(e){var a=this;return B()(U()().m(function r(){var o,n;return U()().w(function(r){while(1)switch(r.n){case 0:o=e.data,n={ALUCOD:o.ALUCOD},a.$confirm("¿Esta seguro de eliminar el ID del alumno externo?").onOk(B()(U()().m(function e(){var r;return U()().w(function(e){while(1)switch(e.p=e.n){case 0:return e.p=0,e.n=1,H.$http.delete("api/AlumnoController/deleteIdPersonaAlumnoExterno",{params:{params:n}});case 1:return e.n=2,a.cargarDatos();case 2:a.$alert("ID del alumno externo eliminado con éxito","success"),e.n=4;break;case 3:e.p=3,r=e.v,a.$alert(r.message,"warning");case 4:return e.a(2)}},e,null,[[0,3]])})));case 1:return r.a(2)}},r)}))()},agregarAlumnoExterno:function(e){var a=this;return B()(U()().m(function r(){return U()().w(function(r){while(1)switch(r.n){case 0:a.formPersona.APELLIDO_PATERNO=e.data.APEPAT,a.formPersona.APELLIDO_MATERNO=e.data.APEMAT?e.data.APEMAT:"",a.formPersona.NOMBRES=e.data.NOMBRES,a.formPersona.TIPO_DOCUMENTO=e.data.DOCIDECOD,a.formPersona.NUMERO_DOCUMENTO=e.data.DOCIDENRO,a.formPersona.CODIGO=e.data.ALUCOD,a.nroDocAnterior=a.formPersona.NUMERO_DOCUMENTO,a.tipDocAnterior=a.formPersona.TIPO_DOCUMENTO,a.modalAgregar=!0,a.nombreRelacionAgregar="Alumno Externo",a.tipoModal=a.optionsKeys.alumnosExternos;case 1:return r.a(2)}},r)}))()},actualizarAlumnoExterno:function(){var e=this;return B()(U()().m(function a(){var r,o;return U()().w(function(a){while(1)switch(a.p=a.n){case 0:if(e.nroDocAnterior!==e.formPersona.NUMERO_DOCUMENTO||e.tipDocAnterior!==e.formPersona.TIPO_DOCUMENTO){a.n=1;break}return a.a(2,e.$alert("Debe cambiar algún dato para agregar un nuevo alumno externo","warning"));case 1:return r={APELLIDO_PATERNO:e.formPersona.APELLIDO_PATERNO?e.formPersona.APELLIDO_PATERNO:"",APELLIDO_MATERNO:e.formPersona.APELLIDO_MATERNO?e.formPersona.APELLIDO_MATERNO:"",NOMBRES:e.formPersona.NOMBRES?e.formPersona.NOMBRES:"",TIPO_DOCUMENTO:e.formPersona.TIPO_DOCUMENTO?e.formPersona.TIPO_DOCUMENTO:W["default"].TIPDOC_SIEWEB.DNI,NUMERO_DOCUMENTO:e.formPersona.NUMERO_DOCUMENTO?e.formPersona.NUMERO_DOCUMENTO:"",CODIGO:e.formPersona.CODIGO},a.p=2,a.n=3,H.$http.put("api/AlumnoController/putVistaAlumnova",{params:r});case 3:return a.n=4,e.cargarDatos();case 4:e.modalAgregar=!1,e.$alert(e.nombreRelacionAgregar+" agregado con éxito","success"),a.n=6;break;case 5:a.p=5,o=a.v,e.$alert(o.error.message,"warning");case 6:return a.a(2)}},a,null,[[2,5]])}))()},actualizar:function(){var e=this;return B()(U()().m(function a(){return U()().w(function(a){while(1)switch(a.n){case 0:if(e.tipoModal!==e.optionsKeys.alumnosExternos){a.n=1;break}return a.a(2,e.actualizarAlumnoExterno());case 1:if(e.tipoModal!==e.optionsKeys.alumnos){a.n=3;break}if("Alumno"!==e.nombreRelacionAgregar){a.n=2;break}return a.a(2,e.actualizarAlumno());case 2:return a.a(2,e.actualizarFamiliarAlumno());case 3:return a.a(2,e.actualizarFamilia())}},a)}))()},corregirAlumno:function(e){var a=this;return B()(U()().m(function r(){return U()().w(function(r){while(1)switch(r.n){case 0:a.formPersona.CODIGO=e.data.ALUCOD,a.formPersona.APELLIDO_PATERNO=e.data.PADAPEPAT?e.data.PADAPEPAT:"",a.formPersona.APELLIDO_MATERNO=e.data.PADAPEMAT?e.data.PADAPEMAT:"",a.formPersona.NOMBRES=e.data.PADNOMBRE?e.data.PADNOMBRE:"",a.formPersona.TIPO_DOCUMENTO=e.data.PADTIPDOC?e.data.PADTIPDOC:2,a.formPersona.TELEFONO=e.data.PADTEL?e.data.PADTEL:"",a.formPersona.CELULAR=e.data.PADTEL2?e.data.PADTEL2:"",a.formPersona.ESTADO_CIVIL=e.data.PADESTCIV?e.data.PADESTCIV:1,a.formPersona.DIRECCION=e.data.PADDIR?e.data.PADDIR:"",a.formPersona.REFERENCIA=e.data.PADDIRREF?e.data.PADDIRREF:"",a.formPersona.CORREO=e.data.PADMAIL?e.data.PADMAIL:"",a.formPersona.SEXO=e.data.PADSEXO?e.data.PADSEXO:"",a.formPersona.FECHA_NACIMIENTO=e.data.PADFECNAC,a.formPersona.ANIO_INGRESO=e.data.ANOING,a.formPersona.CODIGO_UBIGEO=e.data.PADUBICOD,a.formPersona.URBANIZACION=e.data.PADURB?e.data.PADURB:"",a.formPersona.NOMBRE_COMPLETO=e.data.NOMCOMP?e.data.NOMCOMP:"",a.formPersona.NUMERO_DOCUMENTO_FAMILIAR=e.data.PADDOC,a.formPersona.NUMERO_DOCUMENTO=e.data.DOCIDENRO,a.formPersona.ID_PERSONA=e.data.ID_PERSONA_FAMILIAR,a.formPersona.ID_PERSONA_ALUMNO=e.data.ID_PERSONA,a.tipoParentescoAgregar=a.parentescos[e.data.FLAT.trim()],"P"===a.tipoParentescoAgregar?a.formPersona.PERFIL=W["default"].PERFIL_PADRE:"M"===a.tipoParentescoAgregar?a.formPersona.PERFIL=W["default"].PERFIL_MADRE:"A"===a.tipoParentescoAgregar&&(a.formPersona.PERFIL=W["default"].PERFIL_APODERADO_FAMILIA),a.modalAgregar=!0,a.nombreRelacionAgregar="Alumno",a.tipoModal=a.optionsKeys.alumnos,a.setLenDocumento();case 1:return r.a(2)}},r)}))()},corregirFamiliarAlumno:function(e){var a=this;return B()(U()().m(function r(){return U()().w(function(r){while(1)switch(r.n){case 0:a.formPersona.CODIGO=e.data.FAMCOD,a.formPersona.APELLIDO_PATERNO=e.data.PADAPEPAT?e.data.PADAPEPAT:"",a.formPersona.APELLIDO_MATERNO=e.data.PADAPEMAT?e.data.PADAPEMAT:"",a.formPersona.NOMBRES=e.data.PADNOMBRE?e.data.PADNOMBRE:"",a.formPersona.TIPO_DOCUMENTO=e.data.PADTIPDOC?e.data.PADTIPDOC:2,a.formPersona.TELEFONO=e.data.PADTEL?e.data.PADTEL:"",a.formPersona.CELULAR=e.data.PADTEL2?e.data.PADTEL2:"",a.formPersona.ESTADO_CIVIL=e.data.PADESTCIV?e.data.PADESTCIV:1,a.formPersona.DIRECCION=e.data.PADDIR?e.data.PADDIR:"",a.formPersona.REFERENCIA=e.data.PADDIRREF?e.data.PADDIRREF:"",a.formPersona.CORREO=e.data.PADMAIL?e.data.PADMAIL:"",a.formPersona.SEXO=e.data.PADSEXO?e.data.PADSEXO:"",a.formPersona.FECHA_NACIMIENTO=e.data.PADFECNAC,a.formPersona.ANIO_INGRESO=e.data.ANOING,a.formPersona.CODIGO_UBIGEO=e.data.PADUBICOD,a.formPersona.URBANIZACION=e.data.PADURB?e.data.PADURB:"",a.formPersona.NOMBRE_COMPLETO=e.data.NOMCOMP?e.data.NOMCOMP:"",a.formPersona.NUMERO_DOCUMENTO=e.data.PADDOC,a.formPersona.NUMERO_DOCUMENTO_ALUMNO=e.data.DOCIDENRO,a.formPersona.ID_PERSONA=e.data.ID_PERSONA_FAMILIAR,a.formPersona.ID_PERSONA_ALUMNO=e.data.ID_PERSONA,a.tipoParentescoAgregar=a.parentescos[e.data.FLAT.trim()],"P"===a.tipoParentescoAgregar?a.formPersona.PERFIL=W["default"].PERFIL_PADRE:"M"===a.tipoParentescoAgregar?a.formPersona.PERFIL=W["default"].PERFIL_MADRE:"A"===a.tipoParentescoAgregar&&(a.formPersona.PERFIL=W["default"].PERFIL_APODERADO_FAMILIA),a.modalAgregar=!0,a.nombreRelacionAgregar="Familiar de Alumno",a.tipoModal=a.optionsKeys.alumnos,a.setLenDocumento();case 1:return r.a(2)}},r)}))()},actualizarAlumno:function(){var e=this;return B()(U()().m(function a(){var r,o;return U()().w(function(a){while(1)switch(a.p=a.n){case 0:if(e.formPersona.NUMERO_DOCUMENTO_ALUMNO=e.formPersona.NUMERO_DOCUMENTO,e.formPersona.NUMERO_DOCUMENTO=e.formPersona.NUMERO_DOCUMENTO_FAMILIAR,e.formPersona.NUMERO_DOCUMENTO!==e.formPersona.NUMERO_DOCUMENTO_ALUMNO){a.n=1;break}return a.a(2,e.$alert("El alumno y el familiar no pueden tener el mismo número de documento","warning"));case 1:return r=b()(b()({},e.formPersona),{},{FAMILIAR:e.tipoParentescoAgregar}),a.p=2,a.n=3,H.$http.put("api/AlumnoController/putVistaAlumnoFamiliar",{params:r});case 3:return a.n=4,e.cargarDatos();case 4:e.modalAgregar=!1,e.$alert(e.nombreRelacionAgregar+" corregido con éxito","success"),a.n=6;break;case 5:a.p=5,o=a.v,e.$alert(o.error.message,"warning");case 6:return a.a(2)}},a,null,[[2,5]])}))()},actualizarFamiliarAlumno:function(){var e=this;return B()(U()().m(function a(){var r,o;return U()().w(function(a){while(1)switch(a.p=a.n){case 0:if(e.formPersona.NUMERO_DOCUMENTO!==e.formPersona.NUMERO_DOCUMENTO_ALUMNO){a.n=1;break}return a.a(2,e.$alert("El familiar y el alumno no pueden tener el mismo número de documento","warning"));case 1:return r=b()(b()({},e.formPersona),{},{FAMILIAR:e.tipoParentescoAgregar}),a.p=2,a.n=3,H.$http.put("api/AlumnoController/putVistaAlumnoFamiliar",{params:r});case 3:return a.n=4,e.cargarDatos();case 4:e.modalAgregar=!1,e.$alert(e.nombreRelacionAgregar+" corregido con éxito","success"),a.n=6;break;case 5:a.p=5,o=a.v,e.$alert(o.error.message,"warning");case 6:return a.a(2)}},a,null,[[2,5]])}))()},toUpperCase:function(){var e=this;return B()(U()().m(function a(){return U()().w(function(a){while(1)switch(a.n){case 0:e.formPersona.APELLIDO_PATERNO&&(e.formPersona.APELLIDO_PATERNO=String(e.formPersona.APELLIDO_PATERNO).toUpperCase()),e.formPersona.APELLIDO_MATERNO&&(e.formPersona.APELLIDO_MATERNO=String(e.formPersona.APELLIDO_MATERNO).toUpperCase()),e.formPersona.NOMBRES&&(e.formPersona.NOMBRES=String(e.formPersona.NOMBRES).charAt(0).toUpperCase()+String(e.formPersona.NOMBRES).slice(1));case 1:return a.a(2)}},a)}))()},setColumns:function(){var e=this,a={1:[{headerName:"FAMILIA",resizable:!0,children:[{headerName:"CODIGO",width:100,field:"FAMCOD"},{headerName:"FAMILIA",width:150,field:"FAMDES"}]},{headerName:"PADRE",children:[{headerName:"ID",width:75,field:"PAD_ID_PERSONA"},{width:40,filter:!1,cellRenderer:J.A,cellRendererParams:function(a){return a.data.PAD_ID_PERSONA?{icon:"delete",title:"Eliminar ID Padre",onClick:e.eliminarIDPadre}:{icon:"add",title:"Agregar Padre",onClick:e.agregarPadre}}},{headerName:"NOMBRE",width:170,field:"PADNOM"},{headerName:"NRO DOC",width:80,field:"PADDOC",editable:!0}]},{headerName:"MADRE",children:[{headerName:"ID",width:75,field:"MAD_ID_PERSONA"},{width:40,filter:!1,cellRenderer:J.A,cellRendererParams:function(a){return a.data.MAD_ID_PERSONA?{icon:"delete",title:"Eliminar ID Madre",onClick:e.eliminarIDMadre}:{icon:"add",title:"Agregar Madre",onClick:e.agregarMadre}}},{headerName:"NOMBRE",width:170,field:"MADNOM"},{headerName:"NRO DOC",width:100,field:"MADDOC",editable:!0}]},{headerName:"APODERADO",children:[{headerName:"ID",width:75,field:"APO_ID_PERSONA"},{width:40,filter:!1,cellRenderer:J.A,cellRendererParams:function(a){return a.data.APO_ID_PERSONA?{icon:"delete",title:"Eliminar ID Apoderado",onClick:e.eliminarIDApoderado}:{icon:"add",title:"Agregar Apoderado",onClick:e.agregarApoderado}}},{headerName:"NOMBRE",width:170,field:"APONOM"},{headerName:"NRO DOC",width:100,field:"APODOC",editable:!0}]}],2:[{headerName:"ID",width:80,field:"ID_PERSONA"},{headerName:"CÓDIGO",width:120,field:"ALUCOD"},{headerName:"NOMBRE",width:250,field:"NOMCOMP"},{headerName:"NRO DOC",width:150,field:"DOCIDENRO"},{headerName:"CODIGO DE FAMILIA",width:170,field:"FAMCOD"}],3:[{headerName:"ID",width:150,field:"ID_PERSONA"},{width:40,filter:!1,cellRenderer:J.A,cellRendererParams:function(a){return a.data.ID_PERSONA?{icon:"delete",title:"Eliminar ID",onClick:e.eliminarIDAlumnoExterno}:{icon:"add",title:"Agregar Alumno Externo",onClick:e.agregarAlumnoExterno}}},{headerName:"CÓDIGO",width:170,field:"ALUCOD"},{headerName:"NOMBRE",width:250,field:"NOMBRE"},{headerName:"TIPO DOCUMENTO",width:150,field:"TIPO_DOC"},{headerName:"NRO DOC",width:200,field:"DOCIDENRO",editable:!0},{headerName:"CODIGO DE FAMILIA",width:200,field:"FAMCOD"}],5:[{headerName:"CODIGO",width:100,field:"ALUCOD"},{headerName:"ID ALUMNO",width:100,field:"ID_PERSONA"},{headerName:"NOMBRE",width:250,field:"NOMCOMP"},{headerName:"NRO DOC",width:80,field:"DOCIDENRO"},{width:40,filter:!1,cellRenderer:J.A,cellRendererParams:{icon:"edit",title:"Corregir DNI Alumno",onClick:this.corregirAlumno}},{headerName:"ID FAMILIAR",width:100,field:"ID_PERSONA_FAMILIAR"},{headerName:"NOMBRE FAMILIAR",width:250,field:"PADNOM"},{headerName:"NRO DOC",width:80,field:"PADDOC",editable:!0},{width:40,filter:!1,cellRenderer:J.A,cellRendererParams:{icon:"edit",title:"Corregir DNI Familiar",onClick:this.corregirFamiliarAlumno}},{headerName:"PARENTESCO",width:150,field:"FLAT"}],6:[{headerName:"CÓDIGO",width:100,field:"CODIGO"},{headerName:"TIPO DOCUMENTO",width:150,field:"TIPDOCDES"},{headerName:"NRO DOC",width:100,field:"NRODOC"},{headerName:"APELLIDO PATERNO",width:150,field:"APEPAT"},{headerName:"APELLIDO MATERNO",width:150,field:"APEMAT"},{headerName:"NOMBRE",width:250,field:"NOMBRE"},{headerName:"CORREO",width:150,field:"CORREO"},{headerName:"DIRECCION",width:150,field:"DIRECCION"}],7:[{headerName:"ID_PERDOC",field:"ID_PERDOC",width:100},{headerName:"Tip. Doc.",field:"TIPODOC",width:100},{headerName:"Num. Doc.",field:"NUMERO",width:100},{headerName:"Cant. Casos",field:"CANT_CASOS",width:100},{headerName:"ID PERSONA",field:"ID_PERSONA",width:75},{headerName:"Tip. Persona",field:"TIPO_PERSONA",width:125},{headerName:"Nombre",field:"NOMBRE",width:320},{headerName:"Fecha Creación",field:"FECHA_CREACION",valueFormatter:function(e){return(0,ae.Ay)(e.value,"DD/MM/YYYY HH:mm:ss")},width:150},{headerName:"ID Perfil",field:"ID_PERFIL",width:75},{headerName:"Perfíl",field:"PERFIL",width:100},{headerName:"Código",field:"CODIGO",width:100},{headerName:"Usuario",field:"USUCOD",width:100},{headerName:"Id_perfam",field:"ID_PERFAM",width:75},{headerName:"Familia",field:"FAMILIA",width:320},{headerName:"Cant.Deudas",field:"DEUDAS",width:100},{headerName:"Cant.Pagos",field:"PAGOS",width:100},{headerName:"Cant.Pago Subcliente",field:"PAGOS_SUBCLIENTE",width:125}]};this.vistaSeleccionada===this.optionsKeys.alumnos&&this.alumnosProblemasChecked?this.columnDefs=a[this.optionsKeys.alumnosProblemas]:this.columnDefs=a[this.vistaSeleccionada]},setLenDocumento:function(){this.formPersona.TIPO_DOCUMENTO===W["default"].TIPDOC_SIEWEB.DNI?(this.lenDoc=8,this.formPersona.NUMERO_DOCUMENTO=this.formPersona.NUMERO_DOCUMENTO.slice(0,8)):this.formPersona.TIPO_DOCUMENTO===W["default"].TIPDOC_SIEWEB.FACTURA?(this.lenDoc=11,this.formPersona.NUMERO_DOCUMENTO=this.formPersona.NUMERO_DOCUMENTO.slice(0,11)):this.lenDoc=30},onGridReady:function(e){this.api=e.api},cargarDatos:function(){var e=this;return B()(U()().m(function a(){var r,o,n,t,i,s,l,c,d,u,m;return U()().w(function(a){while(1)switch(a.p=a.n){case 0:return e.$q.loading.show(),a.p=1,r={},e.updDocumentos={},o=e.vistaSeleccionada,e.vistaSeleccionada===e.optionsKeys.familias&&e.familiaProblemasChecked&&(o=e.optionsKeys.familiasProblemas),e.vistaSeleccionada===e.optionsKeys.alumnos&&e.alumnosProblemasChecked&&(o=e.optionsKeys.alumnosProblemas),a.n=2,H.$http.get(e.optionApiGet[o]);case 2:if(r=a.v,![e.optionsKeys.alumnos,e.optionsKeys.alumnosExternos].includes(e.vistaSeleccionada)){a.n=9;break}n=w()(r),a.p=3,i=U()().m(function a(){var r,o;return U()().w(function(a){while(1)switch(a.n){case 0:r=t.value,o=e.tipoDocumentos.find(function(e){return e.CODTABLA===r.DOCIDECOD}),r.TIPO_DOC=o?o.ABREVIATURA:"SIN DEFINIR";case 1:return a.a(2)}},a)}),n.s();case 4:if((t=n.n()).done){a.n=6;break}return a.d(M()(i()),5);case 5:a.n=4;break;case 6:a.n=8;break;case 7:a.p=7,d=a.v,n.e(d);case 8:return a.p=8,n.f(),a.f(8);case 9:if(![e.optionsKeys.personal].includes(e.vistaSeleccionada)){a.n=16;break}s=w()(r),a.p=10,c=U()().m(function a(){var r,o;return U()().w(function(a){while(1)switch(a.n){case 0:r=l.value,o=e.tipoDocumentos.find(function(e){return e.CODTABLA===r.TIPDOC}),r.TIPDOCDES=o?o.ABREVIATURA:"SIN DEFINIR";case 1:return a.a(2)}},a)}),s.s();case 11:if((l=s.n()).done){a.n=13;break}return a.d(M()(c()),12);case 12:a.n=11;break;case 13:a.n=15;break;case 14:a.p=14,u=a.v,s.e(u);case 15:return a.p=15,s.f(),a.f(15);case 16:e.rowData=r,e.rowDataInitial=T()(e.rowData),r.length>0&&e.filtrar(),a.n=18;break;case 17:a.p=17,m=a.v,e.$alert(m.message,"warning");case 18:e.$q.loading.hide();case 19:return a.a(2)}},a,null,[[10,14,15,16],[3,7,8,9],[1,17]])}))()},filtrar:function(){var e=this;return B()(U()().m(function a(){var r,o;return U()().w(function(a){while(1)switch(a.n){case 0:return r=T()(e.rowDataInitial),o={ALUCOD:e.filter.codigo,NOMBRE:e.filter.nombre},[e.optionsKeys.familias].includes(e.vistaSeleccionada)?o={FAMCOD:e.filter.codigo,FAMDES:e.filter.nombre}:[e.optionsKeys.personal].includes(e.vistaSeleccionada)&&(o={CODIGO:e.filter.codigo,NOMBRE:e.filter.nombre}),a.n=1,(0,Z.A)({keys:o,data:r});case 1:e.rowData=a.v;case 2:return a.a(2)}},a)}))()},getDocumentos:function(){var e=this;return B()(U()().m(function a(){return U()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,H.$http.get("api/personaController/getTipoDocumentoIdentidad");case 1:e.tipoDocumentos=a.v,e.comboTipoDocumentos=e.tipoDocumentos;case 2:return a.a(2)}},a)}))()},syncFamilias:function(){var e=this;return B()(U()().m(function a(){var r,o;return U()().w(function(a){while(1)switch(a.p=a.n){case 0:return a.p=0,a.n=1,H.$http.get("api/FamiliaController/getSincronizarFamilias");case 1:r=a.v,e.$alert("Familias Sincronizadas Satisfactoriamente: "+r.length+" procesados","success"),a.n=3;break;case 2:a.p=2,o=a.v,e.$alert(o.error?o.error.message:o.message,"warning");case 3:return a.a(2)}},a,null,[[0,2]])}))()},syncAlumnos:function(){var e=this;return B()(U()().m(function a(){var r,o;return U()().w(function(a){while(1)switch(a.p=a.n){case 0:return a.p=0,a.n=1,H.$http.get("api/AlumnoController/getSincronizarAlumnos");case 1:r=a.v,e.$alert("Alumnos Sincronizados Satisfactoriamente: "+r.length+" procesados","success"),a.n=3;break;case 2:a.p=2,o=a.v,e.$alert(o.error?o.error.message:o.message,"warning");case 3:return a.a(2)}},a,null,[[0,2]])}))()},getFechaExcel:function(){var e=new Date;return"".concat(W["default"].CURRENT_YEAR).concat(W["default"].CURRENT_MONTH).concat(e.getDate()).concat(String(e.getHours()).trim()).concat(String(e.getMinutes()).trim()).concat(String(e.getSeconds()).trim())},descargarExcel:function(){var e=this;return B()(U()().m(function a(){var r,o,n,t;return U()().w(function(a){while(1)switch(a.n){case 0:if(0!==e.rowData.length){a.n=1;break}return a.a(2,e.$alert("No se encontraron datos para exportar","warning"));case 1:return r=e.comboVistas.find(function(a){return a.value===e.vistaSeleccionada}),o="vistas_".concat(r.label,"_").concat(e.getFechaExcel()),a.n=2,H.$http.post("api/TesoreriaServiciosController/postExportarExcel",{datos:{data:e.rowData,filename:o}});case 2:n=a.v,t='{"name":"'.concat(n.ruta,'","ruta":"').concat(n.ruta,'","tipo":"xlsx"}'),W["default"].DESCARGAR_ARCHIVO(t),e.$alert("Archivo Exportado Satisfactoriamente","success");case 3:return a.a(2)}},a)}))()},crearBotones:function(){this.buttons=[{label:"Excel",icon:"file_excel",click:this.descargarExcel,minAcceso:W["default"].ACCESO_TOTAL}],[this.optionsKeys.familias,this.optionsKeys.familiasProblemas].includes(this.vistaSeleccionada)&&this.buttons.push({label:"Sincronizar familias",icon:"sync",click:this.syncFamilias,minAcceso:W["default"].ACCESO_TOTAL},{label:"Actualizar",icon:"autorenew",click:this.actualizarDnis,minAcceso:W["default"].ACCESO_TOTAL}),[this.optionsKeys.alumnos,this.optionsKeys.alumnosProblemas].includes(this.vistaSeleccionada)&&this.buttons.push({label:"Sincronizar alumnos",icon:"sync",click:this.syncAlumnos,minAcceso:W["default"].ACCESO_TOTAL})}},beforeMount:function(){var e=this;return B()(U()().m(function a(){var r;return U()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,H.$http.get("api/TesoreriaServiciosController/getVerificarUserAdmin",{params:{params:{sieweb:!0}}});case 1:r=a.v,r||e.$router.push({name:"tesoreria.home"}),e.crearBotones();case 2:return a.a(2)}},a)}))()},created:function(){var e=this;return B()(U()().m(function a(){return U()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,e.getDocumentos();case 1:return a.n=2,e.vistaFueSeleccionada();case 2:return a.n=3,e.setLenDocumento();case 3:return a.a(2)}},a)}))()}},oe=r(12807);const ne=(0,oe.A)(re,[["render",C]]);var te=ne}}]);