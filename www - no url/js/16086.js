"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[16086],{16086:function(e,n,a){a.r(n),a.d(n,{default:function(){return N}});var t=a(61758),l={class:"row q-col-gutter-sm"},o={class:"col-xs-12 col-sm-4"},s={class:"col-xs-12 col-sm-4"},i={class:"col-xs-12 col-sm-4"},r={class:"col-xs-12 col-sm-4"},c={class:"col-xs-12 col-sm-4"},u={class:"row"},d={class:"col-xs-12"},f={key:1,class:"column"};function m(e,n){var a=this,m=(0,t.g2)("header-btn"),p=(0,t.g2)("q-input"),b=(0,t.g2)("q-select"),g=(0,t.g2)("q-d"),h=(0,t.g2)("q-card-section"),v=(0,t.g2)("q-separator"),A=(0,t.g2)("q-spinner-oval"),D=(0,t.g2)("q-inner-loading"),C=(0,t.g2)("sie-table"),k=(0,t.g2)("sie-vacio"),F=(0,t.g2)("q-card"),P=(0,t.g2)("q-page");return(0,t.uX)(),(0,t.Wv)(P,{class:"academico-cursos q-pa-sm"},{default:(0,t.k6)(function(){return[(0,t.bF)(F,null,{default:(0,t.k6)(function(){return[(0,t.bF)(m,{name:"Accesos al Sistema",buttons:e.buttons},null,8,["buttons"]),(0,t.bF)(h,null,{default:(0,t.k6)(function(){return[(0,t.Lk)("div",l,[(0,t.Lk)("div",o,[(0,t.bF)(p,{modelValue:e.frm.usucod,"onUpdate:modelValue":n[0]||(n[0]=function(n){return e.frm.usucod=n}),label:"C贸digo","float-label":"C贸digo",onKeyup:e.buscarAccesoEnter},null,8,["modelValue","onKeyup"])]),(0,t.Lk)("div",s,[(0,t.bF)(p,{modelValue:e.frm.usunom,"onUpdate:modelValue":n[1]||(n[1]=function(n){return e.frm.usunom=n}),label:"Nombre de Usuario","float-label":"Nombre de Usuario",onKeyup:e.buscarAccesoEnter},null,8,["modelValue","onKeyup"])]),(0,t.Lk)("div",i,[(0,t.bF)(b,{modelValue:e.frm.tipcod,"onUpdate:modelValue":n[2]||(n[2]=function(n){return e.frm.tipcod=n}),options:e.perfiles,label:"Perfil",optionValue:"TIPCOD",optionLabel:"TIPNOM",onInput:n[3]||(n[3]=function(n){return e.buscarAcceso()})},null,8,["modelValue","options"])]),(0,t.Lk)("div",r,[(0,t.bF)(g,{class:"q-if-outlined",modelValue:e.frm.desde,"onUpdate:modelValue":n[4]||(n[4]=function(n){return e.frm.desde=n}),label:"Desde","float-label":"Desde",type:"date",format:"DD/MM/YYYY",onInput:n[5]||(n[5]=function(n){return e.buscarAcceso()})},null,8,["modelValue"])]),(0,t.Lk)("div",c,[(0,t.bF)(g,{class:"q-if-outlined",modelValue:e.frm.hasta,"onUpdate:modelValue":n[6]||(n[6]=function(n){return e.frm.hasta=n}),label:"Hasta","float-label":"Hasta",type:"date",format:"DD/MM/YYYY",onInput:n[7]||(n[7]=function(n){return e.buscarAcceso()})},null,8,["modelValue"])])])]}),_:1}),(0,t.bF)(v),(0,t.bF)(h,null,{default:(0,t.k6)(function(){return[(0,t.Lk)("div",u,[(0,t.Lk)("div",d,[(0,t.bF)(D,{visible:e.loadingDetalle},{default:(0,t.k6)(function(){return[(0,t.bF)(A,{size:"50px",color:"primary"})]}),_:1},8,["visible"]),e.dataDetalle.length>0?((0,t.uX)(),(0,t.Wv)(C,{key:0,selection:"single",showSearch:!1,context:a,css:"height:calc(100vh - 290px)",columns:e.configTbl.columnas,data:e.dataDetalle,config:e.dinamicos},null,8,["columns","data","config"])):((0,t.uX)(),(0,t.CE)("div",f,[(0,t.bF)(k,{icon:"info",style:{height:"calc(100vh - 290px)"}})]))])])]}),_:1})]}),_:1})]}),_:1})}var p=a(76080),b=a.n(p),g=a(45254),h=a.n(g),v=a(57008),A=a.n(v),D=a(6123),C=a(88567),k=a(95718),F=a(53380),P=a(9736),w=a(16648),I=a(30640),M=a(80340),S=a(57668),U=a(65229),y=a(81288),O=a(2739),T=a(33777),V={data:function(){return{dinamicos:{FECACC:{component:"datetime",edit:!1},FECSAL:{component:"datetime",edit:!1}},configTbl:{columnas:[]},dataDetalle:[]}}},x=a(18105),L=a(80660),Y=a(2819),E={directives:{sieActive:U.A},mixins:[V],components:{QD:D.T5,QCard:C.A,QCardSection:k.A,QSeparator:F.A,QInnerLoading:D.SQ,QSpinnerOval:D.VA,QSelect:w.A,QInput:P.A,QOptionGroup:D.EX,sieModal:I.A,sieVacio:M.A,QForm:O.A,sieTable:T.A,QPage:D.Tu},props:{},computed:{isLess:function(){return(0,y.isLess)()},claseBtn:function(){return this.configTbl.registrosSeleccionados.length>0?"text-secondary":"text-grey"}},data:function(){var e=this;return{buttons:[{icon:"file_pdf",label:"Pdf",click:function(){e.imprimir("pdf")},permiso:">= 1"},{icon:"file_excel",label:"Xls",click:function(){e.imprimir("xls")},permiso:">= 1"}],sie:(0,S["default"])(),config:{},loadingDetalle:!1,dataDetalle:[],perfiles:[{TIPCOD:"",TIPNOM:"Seleccione"}],frm:{usucod:"",usunom:"",tipcod:"",desde:new Date((new Date).setDate(1)),hasta:new Date}}},methods:{configurarTabla:function(){this.configTbl.columnas=[{name:"USUCOD",label:"codigo",field:"USUCOD",align:"left",sortable:!0},{name:"USUNOM",label:"Nombre de Usuario",field:"USUNOM",align:"left",sortable:!0},{name:"TIPNOM",label:"Perfil",field:"TIPNOM",align:"left",sortable:!0},{name:"FECACC",label:"Fecha / Hora Ingreso",field:"FECACC",align:"center",sortable:!0},{name:"FECSAL",label:"Fecha / Hora Salida",field:"FECSAL",align:"center",sortable:!0},{name:"DIREIP",label:"Direcci贸n IP",field:"DIREIP",align:"center",sortable:!0},{name:"MODULO",label:"M贸dulo",field:"MODULO",align:"left"}],this.configTbl.paginacion={page:1,rowsPerPage:500},this.dataDetalle=[]},imprimir:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pdf",n=A()({},this.frm);n["fecha1"]=(0,x.Ay)(n["desde"],"DD/MM/YYYY"),n["fecha2"]=(0,x.Ay)(n["hasta"],"DD/MM/YYYY"),n["formato"]=e,n["repcod"]="reporteAccesosSistema",(0,Y.exportFilePhp)(n,"intranet/reporte-node/reporte","ReporteAccesos")},getPerfiles:function(){var e=this;return h()(b()().m(function n(){var a,t;return b()().w(function(n){while(1)switch(n.n){case 0:return n.n=1,L.$http.get("api/HyoPerfiles/obtPerfilesExistentesUsuarios");case 1:a=n.v,t=a.json,t.unshift({TIPCOD:"",TIPNOM:"Seleccione"}),e.perfiles=t;case 2:return n.a(2)}},n)}))()},buscarAcceso:function(){var e=this;return h()(b()().m(function n(){return b()().w(function(n){while(1)switch(n.n){case 0:return n.n=1,L.$http.get("api/HyoWaccesos/obtAccesos",{params:{params:e.frm}});case 1:e.dataDetalle=n.v;case 2:return n.a(2)}},n)}))()},buscarAccesoEnter:function(){var e=h()(b()().m(function e(n){return b()().w(function(e){while(1)switch(e.n){case 0:if(13!==n.keyCode){e.n=1;break}return e.n=1,this.buscarAcceso();case 1:return e.a(2)}},e,this)}));function n(n){return e.apply(this,arguments)}return n}()},created:function(){var e=this;return h()(b()().m(function n(){return b()().w(function(n){while(1)switch(n.n){case 0:return n.n=1,e.configurarTabla();case 1:return n.n=2,e.buscarAcceso();case 2:e.getPerfiles();case 3:return n.a(2)}},n)}))()}},q=a(12807);const Q=(0,q.A)(E,[["render",m]]);var N=Q}}]);