"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[94196],{94196:function(e,o,n){n.r(o),n.d(o,{default:function(){return k}});var r=n(8445),t=n.n(r),i=n(61758),a=n(29104),l={class:"column content-stretch q-pt-lg"},u={class:"column content-stretch q-pt-lg"};function s(e,o){var n=(0,i.g2)("q-tab"),r=(0,i.g2)("q-input"),s=(0,i.g2)("q-field"),c=(0,i.g2)("q-btn"),d=(0,i.g2)("router-link"),m=(0,i.g2)("q-tab-pane"),f=(0,i.g2)("q-tabs");return(0,i.uX)(),(0,i.Wv)(f,{"q-tabs-flex":"",modelValue:e.tabSelected,"onUpdate:modelValue":o[7]||(o[7]=function(o){return e.tabSelected=o}),inverted:""},{title:(0,i.k6)(function(){return[(0,i.bF)(n,{default:"",name:"correo",label:"Por correo",onSelect:e.validarCorreo},null,8,["onSelect"]),(0,i.bF)(n,{name:"usuario",label:"Por usuario",onSelect:e.validarUsuario},null,8,["onSelect"])]}),default:(0,i.k6)(function(){return[(0,i.bF)(m,{class:"full-height",name:"correo"},{default:(0,i.k6)(function(){return[(0,i.Lk)("form",{class:"q-pa-sm",onSubmit:o[3]||(o[3]=(0,a.D$)(function(){return e.submit&&e.submit.apply(e,arguments)},["prevent"])),novalidate:""},[e.isMobil?((0,i.uX)(),(0,i.Wv)(s,{key:0,class:"icon-login",icon:"school","icon-color":"primary"},{default:(0,i.k6)(function(){return[(0,i.bF)(r,{class:"q-if-outlined",modelValue:e.v$.colname.$model,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.v$.colname.$model=o}),placeholder:"Nombre del colegio",error:e.v$.colname.$error,after:e.config.colname},null,8,["modelValue","error","after"])]}),_:1})):(0,i.Q3)("v-if",!0),(0,i.bF)(s,{class:"icon-login",icon:"at","icon-color":"primary"},{default:(0,i.k6)(function(){return[(0,i.bF)(r,{class:"q-if-outlined",modelValue:e.v$.email.$model,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.v$.email.$model=o}),placeholder:"Correo",error:e.v$.email.$error},null,8,["modelValue","error"])]}),_:1}),(0,i.bF)(s,{class:"icon-login",icon:"contact","icon-color":"primary"},{default:(0,i.k6)(function(){return[(0,i.bF)(r,{class:"q-if-outlined",modelValue:e.v$.dni.$model,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.v$.dni.$model=o}),placeholder:"Nro. Documento",error:e.v$.dni.$error},null,8,["modelValue","error"])]}),_:1}),(0,i.Lk)("div",l,[(0,i.bF)(c,{class:"text-bold",color:"primary",type:"submit"},{default:(0,i.k6)(function(){return t()(o[8]||(o[8]=[(0,i.eW)("Restablecer",-1)]))}),_:1}),(0,i.bF)(d,{class:"label-login",to:{name:"login"}},{default:(0,i.k6)(function(){return t()(o[9]||(o[9]=[(0,i.Lk)("span",null,"¿Usuario registrado?",-1),(0,i.Lk)("span",{class:"text-weight-bold"},"Iniciar Sesión",-1)]))}),_:1})])],32)]}),_:1}),(0,i.bF)(m,{class:"full-height",name:"usuario"},{default:(0,i.k6)(function(){return[(0,i.Lk)("form",{class:"q-pa-sm",onSubmit:o[6]||(o[6]=(0,a.D$)(function(){return e.submit&&e.submit.apply(e,arguments)},["prevent"])),novalidate:""},[(0,i.bF)(s,{class:"icon-login",icon:"person","icon-color":"primary"},{default:(0,i.k6)(function(){return[(0,i.bF)(r,{class:"q-if-outlined",modelValue:e.v$.usucod.$model,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.v$.usucod.$model=o}),placeholder:"Usuario",error:e.v$.usucod.$error},null,8,["modelValue","error"])]}),_:1}),(0,i.bF)(s,{class:"icon-login",icon:"contact","icon-color":"primary"},{default:(0,i.k6)(function(){return[(0,i.bF)(r,{class:"q-if-outlined",modelValue:e.v$.dni.$model,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.v$.dni.$model=o}),placeholder:"Nro. Documento",error:e.v$.dni.$error},null,8,["modelValue","error"])]}),_:1}),(0,i.Lk)("div",u,[(0,i.bF)(c,{class:"text-bold",color:"primary",type:"submit"},{default:(0,i.k6)(function(){return t()(o[10]||(o[10]=[(0,i.eW)("Restablecer",-1)]))}),_:1}),(0,i.bF)(d,{class:"label-login",to:{name:"login"}},{default:(0,i.k6)(function(){return t()(o[11]||(o[11]=[(0,i.Lk)("span",null,"¿Usuario registrado?",-1),(0,i.Lk)("span",{class:"text-weight-bold"},"Iniciar Sesión",-1)]))}),_:1})])],32)]}),_:1})]}),_:1},8,["modelValue"])}var c=n(57008),d=n.n(c),m=n(83972),f=n(69027),b=n(82640),g=n(81288),p=n(6123),v=n(36153),h=n(36980),$={email:{email:b.Rp},dni:{},usucod:{}};g.isMobil&&($.colname={required:b.mw});var C={setup:function(){var e=(0,m.fG)();return{v$:e}},components:{QTab:p.zu,QTabs:p.uw,QTabPane:p.dg,Loading:v.A,QField:p.Om,QInput:p.ie,QBtn:p.Il},data:function(){return{tabSelected:"correo",validateUsuario:!1,config:{colname:[{icon:"help_outline",condition:!0,handler:function(){(0,f.swal)("Información","Aquí debe colocar el nombre del colegio. Para mayor información ingresar a la plataforma web de su colegio.")}}]},login:{name:"login"},isMobil:g.isMobil}},computed:d()(d()({},(0,h.aH)("login",{colname_:function(e){return e.RECUPERACION.colname},email_:function(e){return e.RECUPERACION.email},dni_:function(e){return e.RECUPERACION.dni},usucod_:function(e){return e.RECUPERACION.usucod},isusuario_:function(e){return e.RECUPERACION.isusuario}})),{},{colname:{get:function(){return this.colname_},set:function(e){this.$store.state.login["RECUPERACION"].colname=e}},email:{get:function(){return this.email_},set:function(e){this.$store.state.login["RECUPERACION"].email=e}},dni:{get:function(){return this.dni_},set:function(e){this.$store.state.login["RECUPERACION"].dni=e}},usucod:{get:function(){return this.usucod_},set:function(e){this.$store.state.login["RECUPERACION"].usucod=e}},isusuario:{get:function(){return this.isusuario_},set:function(e){this.$store.state.login["RECUPERACION"].isusuario=e}}}),validations:$,methods:{submit:function(e){var o=this;if(this.v$.$touch(),this.validateUsuario?($.usucod={required:b.mw},this.$store.state.login["RECUPERACION"].isusuario=!0):($.email={required:b.mw},this.$store.state.login["RECUPERACION"].isusuario=!1),this.v$.$error)return(0,f.swal)("Advertencia","Debe llenar todos los campos").catch(function(){});var n={message:"",type:"warning"};v.A.show(),this.$store.dispatch("login/recuperar").then(function(e){var r=e.json;r?r.error?n.message=r.error:(n.message="Se envió un correo a ".concat(o.email,", verifíquelo en su bandeja de entrada por favor"),o.validateUsuario&&(n.message="Se envió un enlace a su correo, verifíquelo en su bandeja de entrada por favor"),n.type="success"):n.message="Datos incorrectos"}).catch(function(e){var o=e.custom&&e.message?e.message:"No se pudo enviar el correo";n.message=o}).then(function(){return v.A.hide(),(0,f.dialog)({title:"Notificación",message:n.message})}).catch(function(){})},validarCorreo:function(){this.validateUsuario=!1,$.usucod={}},validarUsuario:function(){this.validateUsuario=!0,$.email={email:b.Rp}}}},R=n(12807);const U=(0,R.A)(C,[["render",s]]);var k=U}}]);