(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[98079],{1544:function(t,e,i){var a,s,r,n=i(99550)["default"],o=i(57008)["default"],l=i(8445)["default"],h=i(63053)["default"],c=i(41562)["default"],d=i(49818)["default"],u=i(94660)["default"];i(12563),i(30683),i(71225),i(71587),i(39866),i(23825),i(77507),i(52133),i(10239),i(23513),i(25751),i(89571),i(49790),i(32740),i(33186),i(45531),i(15683),i(56285),i(50310),i(5962),i(90095),i(6724),i(92802),i(70199),i(32849),i(11777),i(42311),i(61882),i(48426),i(515),i(83190),i(76921),i(13600),i(52776),i(37406),i(84433),i(44264),i(39300),i(17225),i(28743),i(12858),i(32071),i(55520),i(2775),i(46203),i(96425),i(50948),i(34736),i(62692),i(66307),i(33092),i(38538),i(81813),i(34993),i(76213),i(68017),i(19460),i(41576),i(84379),i(72077),i(72954),i(52321),i(12421),i(5993),i(19477),i(23302),i(96351),i(2318),i(42452),i(13765),i(15995),i(74369),i(2022),i(39994),i(26992),i(69307),i(71376),i(47998),i(79901),i(67236),i(63018),i(93056),i(22092),i(29880),i(37275),i(93568),i(55516),i(48635),i(37179),i(9048),i(7346),i(89710),i(3208),i(48592),i(55130),i(13715),i(24066),i(55896),i(57053),i(94013),i(32701),i(67396),i(50923),i(59502),r=function(){var t=0,e=1,i=2,a=3,s=4,r=5,p=6,m=7,f=8,y=9,g=10,b=11,v=12;function x(t,e){e=e||0;var i=t.charCodeAt(e);if(55296<=i&&i<=56319&&e<t.length-1){var a=i,s=t.charCodeAt(e+1);return 56320<=s&&s<=57343?1024*(a-55296)+(s-56320)+65536:a}if(56320<=i&&i<=57343&&e>=1){var r=t.charCodeAt(e-1),n=i;return 55296<=r&&r<=56319?1024*(r-55296)+(n-56320)+65536:n}return i}function k(n,o){if((o=o||0)<0)return 0;if(o>=n.length-1)return n.length;for(var l,h,c=w(x(n,o)),d=o+1;d<n.length;d++)if(!(55296<=n.charCodeAt(d-1)&&n.charCodeAt(d-1)<=56319&&56320<=n.charCodeAt(d)&&n.charCodeAt(d)<=57343)){var u=w(x(n,d));if(h=u,!((l=c)===b&&h===v||l===a&&h===b||l===b&&h===a||l===t&&h===e||l!==i&&l!==t&&l!==e&&h!==i&&h!==t&&h!==e&&(l===p&&(h===p||h===m||h===y||h===g)||!(l!==y&&l!==m||h!==m&&h!==f)||(l===g||l===f)&&h===f||l===s&&h===s||h===a||h===r)))return d;c=u}return n.length}function w(n){return 13===n?t:10===n?e:0<=n&&n<=9||11<=n&&n<=12||14<=n&&n<=31||127<=n&&n<=159||173===n||1536<=n&&n<=1541||1564===n||1757===n||1807===n||6158===n||8203===n||8206<=n&&n<=8207||8232===n||8233===n||8234<=n&&n<=8238||8288<=n&&n<=8292||8293===n||8294<=n&&n<=8303||55296<=n&&n<=57343||65279===n||65520<=n&&n<=65528||65529<=n&&n<=65531||69821===n||113824<=n&&n<=113827||119155<=n&&n<=119162||917504===n||917505===n||917506<=n&&n<=917535||917536<=n&&n<=917631||917632<=n&&n<=917759||918e3<=n&&n<=921599?i:768<=n&&n<=879||1155<=n&&n<=1159||1160<=n&&n<=1161||1425<=n&&n<=1469||1471===n||1473<=n&&n<=1474||1476<=n&&n<=1477||1479===n||1552<=n&&n<=1562||1611<=n&&n<=1631||1648===n||1750<=n&&n<=1756||1759<=n&&n<=1764||1767<=n&&n<=1768||1770<=n&&n<=1773||1809===n||1840<=n&&n<=1866||1958<=n&&n<=1968||2027<=n&&n<=2035||2070<=n&&n<=2073||2075<=n&&n<=2083||2085<=n&&n<=2087||2089<=n&&n<=2093||2137<=n&&n<=2139||2275<=n&&n<=2306||2362===n||2364===n||2369<=n&&n<=2376||2381===n||2385<=n&&n<=2391||2402<=n&&n<=2403||2433===n||2492===n||2494===n||2497<=n&&n<=2500||2509===n||2519===n||2530<=n&&n<=2531||2561<=n&&n<=2562||2620===n||2625<=n&&n<=2626||2631<=n&&n<=2632||2635<=n&&n<=2637||2641===n||2672<=n&&n<=2673||2677===n||2689<=n&&n<=2690||2748===n||2753<=n&&n<=2757||2759<=n&&n<=2760||2765===n||2786<=n&&n<=2787||2817===n||2876===n||2878===n||2879===n||2881<=n&&n<=2884||2893===n||2902===n||2903===n||2914<=n&&n<=2915||2946===n||3006===n||3008===n||3021===n||3031===n||3072===n||3134<=n&&n<=3136||3142<=n&&n<=3144||3146<=n&&n<=3149||3157<=n&&n<=3158||3170<=n&&n<=3171||3201===n||3260===n||3263===n||3266===n||3270===n||3276<=n&&n<=3277||3285<=n&&n<=3286||3298<=n&&n<=3299||3329===n||3390===n||3393<=n&&n<=3396||3405===n||3415===n||3426<=n&&n<=3427||3530===n||3535===n||3538<=n&&n<=3540||3542===n||3551===n||3633===n||3636<=n&&n<=3642||3655<=n&&n<=3662||3761===n||3764<=n&&n<=3769||3771<=n&&n<=3772||3784<=n&&n<=3789||3864<=n&&n<=3865||3893===n||3895===n||3897===n||3953<=n&&n<=3966||3968<=n&&n<=3972||3974<=n&&n<=3975||3981<=n&&n<=3991||3993<=n&&n<=4028||4038===n||4141<=n&&n<=4144||4146<=n&&n<=4151||4153<=n&&n<=4154||4157<=n&&n<=4158||4184<=n&&n<=4185||4190<=n&&n<=4192||4209<=n&&n<=4212||4226===n||4229<=n&&n<=4230||4237===n||4253===n||4957<=n&&n<=4959||5906<=n&&n<=5908||5938<=n&&n<=5940||5970<=n&&n<=5971||6002<=n&&n<=6003||6068<=n&&n<=6069||6071<=n&&n<=6077||6086===n||6089<=n&&n<=6099||6109===n||6155<=n&&n<=6157||6313===n||6432<=n&&n<=6434||6439<=n&&n<=6440||6450===n||6457<=n&&n<=6459||6679<=n&&n<=6680||6683===n||6742===n||6744<=n&&n<=6750||6752===n||6754===n||6757<=n&&n<=6764||6771<=n&&n<=6780||6783===n||6832<=n&&n<=6845||6846===n||6912<=n&&n<=6915||6964===n||6966<=n&&n<=6970||6972===n||6978===n||7019<=n&&n<=7027||7040<=n&&n<=7041||7074<=n&&n<=7077||7080<=n&&n<=7081||7083<=n&&n<=7085||7142===n||7144<=n&&n<=7145||7149===n||7151<=n&&n<=7153||7212<=n&&n<=7219||7222<=n&&n<=7223||7376<=n&&n<=7378||7380<=n&&n<=7392||7394<=n&&n<=7400||7405===n||7412===n||7416<=n&&n<=7417||7616<=n&&n<=7669||7676<=n&&n<=7679||8204<=n&&n<=8205||8400<=n&&n<=8412||8413<=n&&n<=8416||8417===n||8418<=n&&n<=8420||8421<=n&&n<=8432||11503<=n&&n<=11505||11647===n||11744<=n&&n<=11775||12330<=n&&n<=12333||12334<=n&&n<=12335||12441<=n&&n<=12442||42607===n||42608<=n&&n<=42610||42612<=n&&n<=42621||42654<=n&&n<=42655||42736<=n&&n<=42737||43010===n||43014===n||43019===n||43045<=n&&n<=43046||43204===n||43232<=n&&n<=43249||43302<=n&&n<=43309||43335<=n&&n<=43345||43392<=n&&n<=43394||43443===n||43446<=n&&n<=43449||43452===n||43493===n||43561<=n&&n<=43566||43569<=n&&n<=43570||43573<=n&&n<=43574||43587===n||43596===n||43644===n||43696===n||43698<=n&&n<=43700||43703<=n&&n<=43704||43710<=n&&n<=43711||43713===n||43756<=n&&n<=43757||43766===n||44005===n||44008===n||44013===n||64286===n||65024<=n&&n<=65039||65056<=n&&n<=65071||65438<=n&&n<=65439||66045===n||66272===n||66422<=n&&n<=66426||68097<=n&&n<=68099||68101<=n&&n<=68102||68108<=n&&n<=68111||68152<=n&&n<=68154||68159===n||68325<=n&&n<=68326||69633===n||69688<=n&&n<=69702||69759<=n&&n<=69761||69811<=n&&n<=69814||69817<=n&&n<=69818||69888<=n&&n<=69890||69927<=n&&n<=69931||69933<=n&&n<=69940||70003===n||70016<=n&&n<=70017||70070<=n&&n<=70078||70090<=n&&n<=70092||70191<=n&&n<=70193||70196===n||70198<=n&&n<=70199||70367===n||70371<=n&&n<=70378||70400<=n&&n<=70401||70460===n||70462===n||70464===n||70487===n||70502<=n&&n<=70508||70512<=n&&n<=70516||70832===n||70835<=n&&n<=70840||70842===n||70845===n||70847<=n&&n<=70848||70850<=n&&n<=70851||71087===n||71090<=n&&n<=71093||71100<=n&&n<=71101||71103<=n&&n<=71104||71132<=n&&n<=71133||71219<=n&&n<=71226||71229===n||71231<=n&&n<=71232||71339===n||71341===n||71344<=n&&n<=71349||71351===n||71453<=n&&n<=71455||71458<=n&&n<=71461||71463<=n&&n<=71467||92912<=n&&n<=92916||92976<=n&&n<=92982||94095<=n&&n<=94098||113821<=n&&n<=113822||119141===n||119143<=n&&n<=119145||119150<=n&&n<=119154||119163<=n&&n<=119170||119173<=n&&n<=119179||119210<=n&&n<=119213||119362<=n&&n<=119364||121344<=n&&n<=121398||121403<=n&&n<=121452||121461===n||121476===n||121499<=n&&n<=121503||121505<=n&&n<=121519||125136<=n&&n<=125142||917760<=n&&n<=917999?a:127462<=n&&n<=127487?s:127995<=n&&n<=127999?v:2307===n||2363===n||2366<=n&&n<=2368||2377<=n&&n<=2380||2382<=n&&n<=2383||2434<=n&&n<=2435||2495<=n&&n<=2496||2503<=n&&n<=2504||2507<=n&&n<=2508||2563===n||2622<=n&&n<=2624||2691===n||2750<=n&&n<=2752||2761===n||2763<=n&&n<=2764||2818<=n&&n<=2819||2880===n||2887<=n&&n<=2888||2891<=n&&n<=2892||3007===n||3009<=n&&n<=3010||3014<=n&&n<=3016||3018<=n&&n<=3020||3073<=n&&n<=3075||3137<=n&&n<=3140||3202<=n&&n<=3203||3262===n||3264<=n&&n<=3265||3267<=n&&n<=3268||3271<=n&&n<=3272||3274<=n&&n<=3275||3330<=n&&n<=3331||3391<=n&&n<=3392||3398<=n&&n<=3400||3402<=n&&n<=3404||3458<=n&&n<=3459||3536<=n&&n<=3537||3544<=n&&n<=3550||3570<=n&&n<=3571||3635===n||3763===n||3902<=n&&n<=3903||3967===n||4145===n||4155<=n&&n<=4156||4182<=n&&n<=4183||4228===n||6070===n||6078<=n&&n<=6085||6087<=n&&n<=6088||6435<=n&&n<=6438||6441<=n&&n<=6443||6448<=n&&n<=6449||6451<=n&&n<=6456||6681<=n&&n<=6682||6741===n||6743===n||6765<=n&&n<=6770||6916===n||6965===n||6971===n||6973<=n&&n<=6977||6979<=n&&n<=6980||7042===n||7073===n||7078<=n&&n<=7079||7082===n||7143===n||7146<=n&&n<=7148||7150===n||7154<=n&&n<=7155||7204<=n&&n<=7211||7220<=n&&n<=7221||7393===n||7410<=n&&n<=7411||43043<=n&&n<=43044||43047===n||43136<=n&&n<=43137||43188<=n&&n<=43203||43346<=n&&n<=43347||43395===n||43444<=n&&n<=43445||43450<=n&&n<=43451||43453<=n&&n<=43456||43567<=n&&n<=43568||43571<=n&&n<=43572||43597===n||43755===n||43758<=n&&n<=43759||43765===n||44003<=n&&n<=44004||44006<=n&&n<=44007||44009<=n&&n<=44010||44012===n||69632===n||69634===n||69762===n||69808<=n&&n<=69810||69815<=n&&n<=69816||69932===n||70018===n||70067<=n&&n<=70069||70079<=n&&n<=70080||70188<=n&&n<=70190||70194<=n&&n<=70195||70197===n||70368<=n&&n<=70370||70402<=n&&n<=70403||70463===n||70465<=n&&n<=70468||70471<=n&&n<=70472||70475<=n&&n<=70477||70498<=n&&n<=70499||70833<=n&&n<=70834||70841===n||70843<=n&&n<=70844||70846===n||70849===n||71088<=n&&n<=71089||71096<=n&&n<=71099||71102===n||71216<=n&&n<=71218||71227<=n&&n<=71228||71230===n||71340===n||71342<=n&&n<=71343||71350===n||71456<=n&&n<=71457||71462===n||94033<=n&&n<=94078||119142===n||119149===n?r:4352<=n&&n<=4447||43360<=n&&n<=43388?p:4448<=n&&n<=4519||55216<=n&&n<=55238?m:4520<=n&&n<=4607||55243<=n&&n<=55291?f:44032===n||44060===n||44088===n||44116===n||44144===n||44172===n||44200===n||44228===n||44256===n||44284===n||44312===n||44340===n||44368===n||44396===n||44424===n||44452===n||44480===n||44508===n||44536===n||44564===n||44592===n||44620===n||44648===n||44676===n||44704===n||44732===n||44760===n||44788===n||44816===n||44844===n||44872===n||44900===n||44928===n||44956===n||44984===n||45012===n||45040===n||45068===n||45096===n||45124===n||45152===n||45180===n||45208===n||45236===n||45264===n||45292===n||45320===n||45348===n||45376===n||45404===n||45432===n||45460===n||45488===n||45516===n||45544===n||45572===n||45600===n||45628===n||45656===n||45684===n||45712===n||45740===n||45768===n||45796===n||45824===n||45852===n||45880===n||45908===n||45936===n||45964===n||45992===n||46020===n||46048===n||46076===n||46104===n||46132===n||46160===n||46188===n||46216===n||46244===n||46272===n||46300===n||46328===n||46356===n||46384===n||46412===n||46440===n||46468===n||46496===n||46524===n||46552===n||46580===n||46608===n||46636===n||46664===n||46692===n||46720===n||46748===n||46776===n||46804===n||46832===n||46860===n||46888===n||46916===n||46944===n||46972===n||47e3===n||47028===n||47056===n||47084===n||47112===n||47140===n||47168===n||47196===n||47224===n||47252===n||47280===n||47308===n||47336===n||47364===n||47392===n||47420===n||47448===n||47476===n||47504===n||47532===n||47560===n||47588===n||47616===n||47644===n||47672===n||47700===n||47728===n||47756===n||47784===n||47812===n||47840===n||47868===n||47896===n||47924===n||47952===n||47980===n||48008===n||48036===n||48064===n||48092===n||48120===n||48148===n||48176===n||48204===n||48232===n||48260===n||48288===n||48316===n||48344===n||48372===n||48400===n||48428===n||48456===n||48484===n||48512===n||48540===n||48568===n||48596===n||48624===n||48652===n||48680===n||48708===n||48736===n||48764===n||48792===n||48820===n||48848===n||48876===n||48904===n||48932===n||48960===n||48988===n||49016===n||49044===n||49072===n||49100===n||49128===n||49156===n||49184===n||49212===n||49240===n||49268===n||49296===n||49324===n||49352===n||49380===n||49408===n||49436===n||49464===n||49492===n||49520===n||49548===n||49576===n||49604===n||49632===n||49660===n||49688===n||49716===n||49744===n||49772===n||49800===n||49828===n||49856===n||49884===n||49912===n||49940===n||49968===n||49996===n||50024===n||50052===n||50080===n||50108===n||50136===n||50164===n||50192===n||50220===n||50248===n||50276===n||50304===n||50332===n||50360===n||50388===n||50416===n||50444===n||50472===n||50500===n||50528===n||50556===n||50584===n||50612===n||50640===n||50668===n||50696===n||50724===n||50752===n||50780===n||50808===n||50836===n||50864===n||50892===n||50920===n||50948===n||50976===n||51004===n||51032===n||51060===n||51088===n||51116===n||51144===n||51172===n||51200===n||51228===n||51256===n||51284===n||51312===n||51340===n||51368===n||51396===n||51424===n||51452===n||51480===n||51508===n||51536===n||51564===n||51592===n||51620===n||51648===n||51676===n||51704===n||51732===n||51760===n||51788===n||51816===n||51844===n||51872===n||51900===n||51928===n||51956===n||51984===n||52012===n||52040===n||52068===n||52096===n||52124===n||52152===n||52180===n||52208===n||52236===n||52264===n||52292===n||52320===n||52348===n||52376===n||52404===n||52432===n||52460===n||52488===n||52516===n||52544===n||52572===n||52600===n||52628===n||52656===n||52684===n||52712===n||52740===n||52768===n||52796===n||52824===n||52852===n||52880===n||52908===n||52936===n||52964===n||52992===n||53020===n||53048===n||53076===n||53104===n||53132===n||53160===n||53188===n||53216===n||53244===n||53272===n||53300===n||53328===n||53356===n||53384===n||53412===n||53440===n||53468===n||53496===n||53524===n||53552===n||53580===n||53608===n||53636===n||53664===n||53692===n||53720===n||53748===n||53776===n||53804===n||53832===n||53860===n||53888===n||53916===n||53944===n||53972===n||54e3===n||54028===n||54056===n||54084===n||54112===n||54140===n||54168===n||54196===n||54224===n||54252===n||54280===n||54308===n||54336===n||54364===n||54392===n||54420===n||54448===n||54476===n||54504===n||54532===n||54560===n||54588===n||54616===n||54644===n||54672===n||54700===n||54728===n||54756===n||54784===n||54812===n||54840===n||54868===n||54896===n||54924===n||54952===n||54980===n||55008===n||55036===n||55064===n||55092===n||55120===n||55148===n||55176===n?y:44033<=n&&n<=44059||44061<=n&&n<=44087||44089<=n&&n<=44115||44117<=n&&n<=44143||44145<=n&&n<=44171||44173<=n&&n<=44199||44201<=n&&n<=44227||44229<=n&&n<=44255||44257<=n&&n<=44283||44285<=n&&n<=44311||44313<=n&&n<=44339||44341<=n&&n<=44367||44369<=n&&n<=44395||44397<=n&&n<=44423||44425<=n&&n<=44451||44453<=n&&n<=44479||44481<=n&&n<=44507||44509<=n&&n<=44535||44537<=n&&n<=44563||44565<=n&&n<=44591||44593<=n&&n<=44619||44621<=n&&n<=44647||44649<=n&&n<=44675||44677<=n&&n<=44703||44705<=n&&n<=44731||44733<=n&&n<=44759||44761<=n&&n<=44787||44789<=n&&n<=44815||44817<=n&&n<=44843||44845<=n&&n<=44871||44873<=n&&n<=44899||44901<=n&&n<=44927||44929<=n&&n<=44955||44957<=n&&n<=44983||44985<=n&&n<=45011||45013<=n&&n<=45039||45041<=n&&n<=45067||45069<=n&&n<=45095||45097<=n&&n<=45123||45125<=n&&n<=45151||45153<=n&&n<=45179||45181<=n&&n<=45207||45209<=n&&n<=45235||45237<=n&&n<=45263||45265<=n&&n<=45291||45293<=n&&n<=45319||45321<=n&&n<=45347||45349<=n&&n<=45375||45377<=n&&n<=45403||45405<=n&&n<=45431||45433<=n&&n<=45459||45461<=n&&n<=45487||45489<=n&&n<=45515||45517<=n&&n<=45543||45545<=n&&n<=45571||45573<=n&&n<=45599||45601<=n&&n<=45627||45629<=n&&n<=45655||45657<=n&&n<=45683||45685<=n&&n<=45711||45713<=n&&n<=45739||45741<=n&&n<=45767||45769<=n&&n<=45795||45797<=n&&n<=45823||45825<=n&&n<=45851||45853<=n&&n<=45879||45881<=n&&n<=45907||45909<=n&&n<=45935||45937<=n&&n<=45963||45965<=n&&n<=45991||45993<=n&&n<=46019||46021<=n&&n<=46047||46049<=n&&n<=46075||46077<=n&&n<=46103||46105<=n&&n<=46131||46133<=n&&n<=46159||46161<=n&&n<=46187||46189<=n&&n<=46215||46217<=n&&n<=46243||46245<=n&&n<=46271||46273<=n&&n<=46299||46301<=n&&n<=46327||46329<=n&&n<=46355||46357<=n&&n<=46383||46385<=n&&n<=46411||46413<=n&&n<=46439||46441<=n&&n<=46467||46469<=n&&n<=46495||46497<=n&&n<=46523||46525<=n&&n<=46551||46553<=n&&n<=46579||46581<=n&&n<=46607||46609<=n&&n<=46635||46637<=n&&n<=46663||46665<=n&&n<=46691||46693<=n&&n<=46719||46721<=n&&n<=46747||46749<=n&&n<=46775||46777<=n&&n<=46803||46805<=n&&n<=46831||46833<=n&&n<=46859||46861<=n&&n<=46887||46889<=n&&n<=46915||46917<=n&&n<=46943||46945<=n&&n<=46971||46973<=n&&n<=46999||47001<=n&&n<=47027||47029<=n&&n<=47055||47057<=n&&n<=47083||47085<=n&&n<=47111||47113<=n&&n<=47139||47141<=n&&n<=47167||47169<=n&&n<=47195||47197<=n&&n<=47223||47225<=n&&n<=47251||47253<=n&&n<=47279||47281<=n&&n<=47307||47309<=n&&n<=47335||47337<=n&&n<=47363||47365<=n&&n<=47391||47393<=n&&n<=47419||47421<=n&&n<=47447||47449<=n&&n<=47475||47477<=n&&n<=47503||47505<=n&&n<=47531||47533<=n&&n<=47559||47561<=n&&n<=47587||47589<=n&&n<=47615||47617<=n&&n<=47643||47645<=n&&n<=47671||47673<=n&&n<=47699||47701<=n&&n<=47727||47729<=n&&n<=47755||47757<=n&&n<=47783||47785<=n&&n<=47811||47813<=n&&n<=47839||47841<=n&&n<=47867||47869<=n&&n<=47895||47897<=n&&n<=47923||47925<=n&&n<=47951||47953<=n&&n<=47979||47981<=n&&n<=48007||48009<=n&&n<=48035||48037<=n&&n<=48063||48065<=n&&n<=48091||48093<=n&&n<=48119||48121<=n&&n<=48147||48149<=n&&n<=48175||48177<=n&&n<=48203||48205<=n&&n<=48231||48233<=n&&n<=48259||48261<=n&&n<=48287||48289<=n&&n<=48315||48317<=n&&n<=48343||48345<=n&&n<=48371||48373<=n&&n<=48399||48401<=n&&n<=48427||48429<=n&&n<=48455||48457<=n&&n<=48483||48485<=n&&n<=48511||48513<=n&&n<=48539||48541<=n&&n<=48567||48569<=n&&n<=48595||48597<=n&&n<=48623||48625<=n&&n<=48651||48653<=n&&n<=48679||48681<=n&&n<=48707||48709<=n&&n<=48735||48737<=n&&n<=48763||48765<=n&&n<=48791||48793<=n&&n<=48819||48821<=n&&n<=48847||48849<=n&&n<=48875||48877<=n&&n<=48903||48905<=n&&n<=48931||48933<=n&&n<=48959||48961<=n&&n<=48987||48989<=n&&n<=49015||49017<=n&&n<=49043||49045<=n&&n<=49071||49073<=n&&n<=49099||49101<=n&&n<=49127||49129<=n&&n<=49155||49157<=n&&n<=49183||49185<=n&&n<=49211||49213<=n&&n<=49239||49241<=n&&n<=49267||49269<=n&&n<=49295||49297<=n&&n<=49323||49325<=n&&n<=49351||49353<=n&&n<=49379||49381<=n&&n<=49407||49409<=n&&n<=49435||49437<=n&&n<=49463||49465<=n&&n<=49491||49493<=n&&n<=49519||49521<=n&&n<=49547||49549<=n&&n<=49575||49577<=n&&n<=49603||49605<=n&&n<=49631||49633<=n&&n<=49659||49661<=n&&n<=49687||49689<=n&&n<=49715||49717<=n&&n<=49743||49745<=n&&n<=49771||49773<=n&&n<=49799||49801<=n&&n<=49827||49829<=n&&n<=49855||49857<=n&&n<=49883||49885<=n&&n<=49911||49913<=n&&n<=49939||49941<=n&&n<=49967||49969<=n&&n<=49995||49997<=n&&n<=50023||50025<=n&&n<=50051||50053<=n&&n<=50079||50081<=n&&n<=50107||50109<=n&&n<=50135||50137<=n&&n<=50163||50165<=n&&n<=50191||50193<=n&&n<=50219||50221<=n&&n<=50247||50249<=n&&n<=50275||50277<=n&&n<=50303||50305<=n&&n<=50331||50333<=n&&n<=50359||50361<=n&&n<=50387||50389<=n&&n<=50415||50417<=n&&n<=50443||50445<=n&&n<=50471||50473<=n&&n<=50499||50501<=n&&n<=50527||50529<=n&&n<=50555||50557<=n&&n<=50583||50585<=n&&n<=50611||50613<=n&&n<=50639||50641<=n&&n<=50667||50669<=n&&n<=50695||50697<=n&&n<=50723||50725<=n&&n<=50751||50753<=n&&n<=50779||50781<=n&&n<=50807||50809<=n&&n<=50835||50837<=n&&n<=50863||50865<=n&&n<=50891||50893<=n&&n<=50919||50921<=n&&n<=50947||50949<=n&&n<=50975||50977<=n&&n<=51003||51005<=n&&n<=51031||51033<=n&&n<=51059||51061<=n&&n<=51087||51089<=n&&n<=51115||51117<=n&&n<=51143||51145<=n&&n<=51171||51173<=n&&n<=51199||51201<=n&&n<=51227||51229<=n&&n<=51255||51257<=n&&n<=51283||51285<=n&&n<=51311||51313<=n&&n<=51339||51341<=n&&n<=51367||51369<=n&&n<=51395||51397<=n&&n<=51423||51425<=n&&n<=51451||51453<=n&&n<=51479||51481<=n&&n<=51507||51509<=n&&n<=51535||51537<=n&&n<=51563||51565<=n&&n<=51591||51593<=n&&n<=51619||51621<=n&&n<=51647||51649<=n&&n<=51675||51677<=n&&n<=51703||51705<=n&&n<=51731||51733<=n&&n<=51759||51761<=n&&n<=51787||51789<=n&&n<=51815||51817<=n&&n<=51843||51845<=n&&n<=51871||51873<=n&&n<=51899||51901<=n&&n<=51927||51929<=n&&n<=51955||51957<=n&&n<=51983||51985<=n&&n<=52011||52013<=n&&n<=52039||52041<=n&&n<=52067||52069<=n&&n<=52095||52097<=n&&n<=52123||52125<=n&&n<=52151||52153<=n&&n<=52179||52181<=n&&n<=52207||52209<=n&&n<=52235||52237<=n&&n<=52263||52265<=n&&n<=52291||52293<=n&&n<=52319||52321<=n&&n<=52347||52349<=n&&n<=52375||52377<=n&&n<=52403||52405<=n&&n<=52431||52433<=n&&n<=52459||52461<=n&&n<=52487||52489<=n&&n<=52515||52517<=n&&n<=52543||52545<=n&&n<=52571||52573<=n&&n<=52599||52601<=n&&n<=52627||52629<=n&&n<=52655||52657<=n&&n<=52683||52685<=n&&n<=52711||52713<=n&&n<=52739||52741<=n&&n<=52767||52769<=n&&n<=52795||52797<=n&&n<=52823||52825<=n&&n<=52851||52853<=n&&n<=52879||52881<=n&&n<=52907||52909<=n&&n<=52935||52937<=n&&n<=52963||52965<=n&&n<=52991||52993<=n&&n<=53019||53021<=n&&n<=53047||53049<=n&&n<=53075||53077<=n&&n<=53103||53105<=n&&n<=53131||53133<=n&&n<=53159||53161<=n&&n<=53187||53189<=n&&n<=53215||53217<=n&&n<=53243||53245<=n&&n<=53271||53273<=n&&n<=53299||53301<=n&&n<=53327||53329<=n&&n<=53355||53357<=n&&n<=53383||53385<=n&&n<=53411||53413<=n&&n<=53439||53441<=n&&n<=53467||53469<=n&&n<=53495||53497<=n&&n<=53523||53525<=n&&n<=53551||53553<=n&&n<=53579||53581<=n&&n<=53607||53609<=n&&n<=53635||53637<=n&&n<=53663||53665<=n&&n<=53691||53693<=n&&n<=53719||53721<=n&&n<=53747||53749<=n&&n<=53775||53777<=n&&n<=53803||53805<=n&&n<=53831||53833<=n&&n<=53859||53861<=n&&n<=53887||53889<=n&&n<=53915||53917<=n&&n<=53943||53945<=n&&n<=53971||53973<=n&&n<=53999||54001<=n&&n<=54027||54029<=n&&n<=54055||54057<=n&&n<=54083||54085<=n&&n<=54111||54113<=n&&n<=54139||54141<=n&&n<=54167||54169<=n&&n<=54195||54197<=n&&n<=54223||54225<=n&&n<=54251||54253<=n&&n<=54279||54281<=n&&n<=54307||54309<=n&&n<=54335||54337<=n&&n<=54363||54365<=n&&n<=54391||54393<=n&&n<=54419||54421<=n&&n<=54447||54449<=n&&n<=54475||54477<=n&&n<=54503||54505<=n&&n<=54531||54533<=n&&n<=54559||54561<=n&&n<=54587||54589<=n&&n<=54615||54617<=n&&n<=54643||54645<=n&&n<=54671||54673<=n&&n<=54699||54701<=n&&n<=54727||54729<=n&&n<=54755||54757<=n&&n<=54783||54785<=n&&n<=54811||54813<=n&&n<=54839||54841<=n&&n<=54867||54869<=n&&n<=54895||54897<=n&&n<=54923||54925<=n&&n<=54951||54953<=n&&n<=54979||54981<=n&&n<=55007||55009<=n&&n<=55035||55037<=n&&n<=55063||55065<=n&&n<=55091||55093<=n&&n<=55119||55121<=n&&n<=55147||55149<=n&&n<=55175||55177<=n&&n<=55203?g:b}var S={splitGraphemes:function(t){if(/^[\x20-\xFF]*$/.test(t))return t;for(var e,i=[],a=0;(e=k(t,a))<t.length;)i.push(t.slice(a,e)),a=e;return a<t.length&&i.push(t.slice(a)),i},countGraphemes:function(t){for(var e,i=0,a=0;(e=k(t,a))<t.length;)a=e,i++;return a<t.length&&i++,i},nextBreak:k},A=d(function t(e,i){"use strict";u(this,t),this.type=e,this.value=i}),M=function(){"use strict";function t(e){u(this,t),this.s=S.splitGraphemes(e),this.pos=0}return d(t,[{key:"end",value:function(){return this.pos>=this.s.length}},{key:"get",value:function(){return this.pos<this.s.length?this.s[this.pos++]:null}},{key:"peek",value:function(){return this.s[this.pos]}},{key:"scan",value:function(t){var e;return e="string"==typeof this.s?t.exec(this.s.slice(this.pos)):t.exec(this.s.slice(this.pos).join("")),e?(this.pos+=e[0].length,e[0]):null}},{key:"isWhiteSpace",value:function(){return/[ \f\n\r\t\v\xA0\u2028\u2029]/.test(this.s[this.pos])}},{key:"makeToken",value:function(){if(this.end())return null;if(this.isWhiteSpace())return this.get(),new A("space");var t=null;if("\\"===this.peek()){if(this.get(),!this.end()){var e=this.scan(/^[a-zA-Z*]+/);"bgroup"===e?t=new A("{"):"egroup"===e?t=new A("}"):(e||(e=this.get()),t=new A("command",e))}}else if("{"===this.peek()||"}"===this.peek())t=new A(this.get());else if("#"===this.peek()){if(this.get(),!this.end()){var i=!1,a=this.peek();if(/[0-9?]/.test(a)&&(i=!0,this.pos+1<this.s.length)){var s=this.s[this.pos+1];i=/[^0-9A-Za-z]/.test(s)}i?(t=new A("#"),a=this.get(),t.value=a>="0"&&a<="9"?parseInt(a):"?"):t=new A("literal","#")}}else"~"===this.peek()?(this.get(),t=new A("command","space")):"$"===this.peek()?(this.get(),"$"===this.peek()?(this.get(),t=new A("$$")):t=new A("$")):t=new A("literal",this.get());return t}}])}(),C={tokenize:function(t){var e,i=[],a=t.toString().split(/\r?\n/),s="",r="",n=c(a);try{for(n.s();!(e=n.n()).done;){var o=e.value;s+=r,r=" ";var l=o.match(/((?:\\%)|[^%])*/);l&&(s+=l[0])}}catch(t){n.e(t)}finally{n.f()}for(var h=new M(s);!h.end();){var d=h.makeToken();d&&i.push(d)}return i}},_={"AMS-Regular":{65:[0,.68889,0,0],66:[0,.68889,0,0],67:[0,.68889,0,0],68:[0,.68889,0,0],69:[0,.68889,0,0],70:[0,.68889,0,0],71:[0,.68889,0,0],72:[0,.68889,0,0],73:[0,.68889,0,0],74:[.16667,.68889,0,0],75:[0,.68889,0,0],76:[0,.68889,0,0],77:[0,.68889,0,0],78:[0,.68889,0,0],79:[.16667,.68889,0,0],80:[0,.68889,0,0],81:[.16667,.68889,0,0],82:[0,.68889,0,0],83:[0,.68889,0,0],84:[0,.68889,0,0],85:[0,.68889,0,0],86:[0,.68889,0,0],87:[0,.68889,0,0],88:[0,.68889,0,0],89:[0,.68889,0,0],90:[0,.68889,0,0],107:[0,.68889,0,0],165:[0,.675,.025,0],174:[.15559,.69224,0,0],240:[0,.68889,0,0],295:[0,.68889,0,0],710:[0,.825,0,0],732:[0,.9,0,0],770:[0,.825,0,0],771:[0,.9,0,0],989:[.08167,.58167,0,0],1008:[0,.43056,.04028,0],8245:[0,.54986,0,0],8463:[0,.68889,0,0],8487:[0,.68889,0,0],8498:[0,.68889,0,0],8502:[0,.68889,0,0],8503:[0,.68889,0,0],8504:[0,.68889,0,0],8513:[0,.68889,0,0],8592:[-.03598,.46402,0,0],8594:[-.03598,.46402,0,0],8602:[-.13313,.36687,0,0],8603:[-.13313,.36687,0,0],8606:[.01354,.52239,0,0],8608:[.01354,.52239,0,0],8610:[.01354,.52239,0,0],8611:[.01354,.52239,0,0],8619:[0,.54986,0,0],8620:[0,.54986,0,0],8621:[-.13313,.37788,0,0],8622:[-.13313,.36687,0,0],8624:[0,.69224,0,0],8625:[0,.69224,0,0],8630:[0,.43056,0,0],8631:[0,.43056,0,0],8634:[.08198,.58198,0,0],8635:[.08198,.58198,0,0],8638:[.19444,.69224,0,0],8639:[.19444,.69224,0,0],8642:[.19444,.69224,0,0],8643:[.19444,.69224,0,0],8644:[.1808,.675,0,0],8646:[.1808,.675,0,0],8647:[.1808,.675,0,0],8648:[.19444,.69224,0,0],8649:[.1808,.675,0,0],8650:[.19444,.69224,0,0],8651:[.01354,.52239,0,0],8652:[.01354,.52239,0,0],8653:[-.13313,.36687,0,0],8654:[-.13313,.36687,0,0],8655:[-.13313,.36687,0,0],8666:[.13667,.63667,0,0],8667:[.13667,.63667,0,0],8669:[-.13313,.37788,0,0],8672:[-.064,.437,0,0],8674:[-.064,.437,0,0],8705:[0,.825,0,0],8708:[0,.68889,0,0],8709:[.08167,.58167,0,0],8717:[0,.43056,0,0],8722:[-.03598,.46402,0,0],8724:[.08198,.69224,0,0],8726:[.08167,.58167,0,0],8733:[0,.69224,0,0],8736:[0,.69224,0,0],8737:[0,.69224,0,0],8738:[.03517,.52239,0,0],8739:[.08167,.58167,0,0],8740:[.25142,.74111,0,0],8741:[.08167,.58167,0,0],8742:[.25142,.74111,0,0],8756:[0,.69224,0,0],8757:[0,.69224,0,0],8764:[-.13313,.36687,0,0],8765:[-.13313,.37788,0,0],8769:[-.13313,.36687,0,0],8770:[-.03625,.46375,0,0],8774:[.30274,.79383,0,0],8776:[-.01688,.48312,0,0],8778:[.08167,.58167,0,0],8782:[.06062,.54986,0,0],8783:[.06062,.54986,0,0],8785:[.08198,.58198,0,0],8786:[.08198,.58198,0,0],8787:[.08198,.58198,0,0],8790:[0,.69224,0,0],8791:[.22958,.72958,0,0],8796:[.08198,.91667,0,0],8806:[.25583,.75583,0,0],8807:[.25583,.75583,0,0],8808:[.25142,.75726,0,0],8809:[.25142,.75726,0,0],8812:[.25583,.75583,0,0],8814:[.20576,.70576,0,0],8815:[.20576,.70576,0,0],8816:[.30274,.79383,0,0],8817:[.30274,.79383,0,0],8818:[.22958,.72958,0,0],8819:[.22958,.72958,0,0],8822:[.1808,.675,0,0],8823:[.1808,.675,0,0],8828:[.13667,.63667,0,0],8829:[.13667,.63667,0,0],8830:[.22958,.72958,0,0],8831:[.22958,.72958,0,0],8832:[.20576,.70576,0,0],8833:[.20576,.70576,0,0],8840:[.30274,.79383,0,0],8841:[.30274,.79383,0,0],8842:[.13597,.63597,0,0],8843:[.13597,.63597,0,0],8847:[.03517,.54986,0,0],8848:[.03517,.54986,0,0],8858:[.08198,.58198,0,0],8859:[.08198,.58198,0,0],8861:[.08198,.58198,0,0],8862:[0,.675,0,0],8863:[0,.675,0,0],8864:[0,.675,0,0],8865:[0,.675,0,0],8872:[0,.69224,0,0],8873:[0,.69224,0,0],8874:[0,.69224,0,0],8876:[0,.68889,0,0],8877:[0,.68889,0,0],8878:[0,.68889,0,0],8879:[0,.68889,0,0],8882:[.03517,.54986,0,0],8883:[.03517,.54986,0,0],8884:[.13667,.63667,0,0],8885:[.13667,.63667,0,0],8888:[0,.54986,0,0],8890:[.19444,.43056,0,0],8891:[.19444,.69224,0,0],8892:[.19444,.69224,0,0],8901:[0,.54986,0,0],8903:[.08167,.58167,0,0],8905:[.08167,.58167,0,0],8906:[.08167,.58167,0,0],8907:[0,.69224,0,0],8908:[0,.69224,0,0],8909:[-.03598,.46402,0,0],8910:[0,.54986,0,0],8911:[0,.54986,0,0],8912:[.03517,.54986,0,0],8913:[.03517,.54986,0,0],8914:[0,.54986,0,0],8915:[0,.54986,0,0],8916:[0,.69224,0,0],8918:[.0391,.5391,0,0],8919:[.0391,.5391,0,0],8920:[.03517,.54986,0,0],8921:[.03517,.54986,0,0],8922:[.38569,.88569,0,0],8923:[.38569,.88569,0,0],8926:[.13667,.63667,0,0],8927:[.13667,.63667,0,0],8928:[.30274,.79383,0,0],8929:[.30274,.79383,0,0],8934:[.23222,.74111,0,0],8935:[.23222,.74111,0,0],8936:[.23222,.74111,0,0],8937:[.23222,.74111,0,0],8938:[.20576,.70576,0,0],8939:[.20576,.70576,0,0],8940:[.30274,.79383,0,0],8941:[.30274,.79383,0,0],8994:[.19444,.69224,0,0],8995:[.19444,.69224,0,0],9416:[.15559,.69224,0,0],9484:[0,.69224,0,0],9488:[0,.69224,0,0],9492:[0,.37788,0,0],9496:[0,.37788,0,0],9585:[.19444,.68889,0,0],9586:[.19444,.74111,0,0],9632:[0,.675,0,0],9633:[0,.675,0,0],9650:[0,.54986,0,0],9651:[0,.54986,0,0],9654:[.03517,.54986,0,0],9660:[0,.54986,0,0],9661:[0,.54986,0,0],9664:[.03517,.54986,0,0],9674:[.11111,.69224,0,0],9733:[.19444,.69224,0,0],10003:[0,.69224,0,0],10016:[0,.69224,0,0],10731:[.11111,.69224,0,0],10846:[.19444,.75583,0,0],10877:[.13667,.63667,0,0],10878:[.13667,.63667,0,0],10885:[.25583,.75583,0,0],10886:[.25583,.75583,0,0],10887:[.13597,.63597,0,0],10888:[.13597,.63597,0,0],10889:[.26167,.75726,0,0],10890:[.26167,.75726,0,0],10891:[.48256,.98256,0,0],10892:[.48256,.98256,0,0],10901:[.13667,.63667,0,0],10902:[.13667,.63667,0,0],10933:[.25142,.75726,0,0],10934:[.25142,.75726,0,0],10935:[.26167,.75726,0,0],10936:[.26167,.75726,0,0],10937:[.26167,.75726,0,0],10938:[.26167,.75726,0,0],10949:[.25583,.75583,0,0],10950:[.25583,.75583,0,0],10955:[.28481,.79383,0,0],10956:[.28481,.79383,0,0],57350:[.08167,.58167,0,0],57351:[.08167,.58167,0,0],57352:[.08167,.58167,0,0],57353:[0,.43056,.04028,0],57356:[.25142,.75726,0,0],57357:[.25142,.75726,0,0],57358:[.41951,.91951,0,0],57359:[.30274,.79383,0,0],57360:[.30274,.79383,0,0],57361:[.41951,.91951,0,0],57366:[.25142,.75726,0,0],57367:[.25142,.75726,0,0],57368:[.25142,.75726,0,0],57369:[.25142,.75726,0,0],57370:[.13597,.63597,0,0],57371:[.13597,.63597,0,0]},"Caligraphic-Regular":{48:[0,.43056,0,0],49:[0,.43056,0,0],50:[0,.43056,0,0],51:[.19444,.43056,0,0],52:[.19444,.43056,0,0],53:[.19444,.43056,0,0],54:[0,.64444,0,0],55:[.19444,.43056,0,0],56:[0,.64444,0,0],57:[.19444,.43056,0,0],65:[0,.68333,0,.19445],66:[0,.68333,.03041,.13889],67:[0,.68333,.05834,.13889],68:[0,.68333,.02778,.08334],69:[0,.68333,.08944,.11111],70:[0,.68333,.09931,.11111],71:[.09722,.68333,.0593,.11111],72:[0,.68333,.00965,.11111],73:[0,.68333,.07382,0],74:[.09722,.68333,.18472,.16667],75:[0,.68333,.01445,.05556],76:[0,.68333,0,.13889],77:[0,.68333,0,.13889],78:[0,.68333,.14736,.08334],79:[0,.68333,.02778,.11111],80:[0,.68333,.08222,.08334],81:[.09722,.68333,0,.11111],82:[0,.68333,0,.08334],83:[0,.68333,.075,.13889],84:[0,.68333,.25417,0],85:[0,.68333,.09931,.08334],86:[0,.68333,.08222,0],87:[0,.68333,.08222,.08334],88:[0,.68333,.14643,.13889],89:[.09722,.68333,.08222,.08334],90:[0,.68333,.07944,.13889]},"Fraktur-Regular":{33:[0,.69141,0,0],34:[0,.69141,0,0],38:[0,.69141,0,0],39:[0,.69141,0,0],40:[.24982,.74947,0,0],41:[.24982,.74947,0,0],42:[0,.62119,0,0],43:[.08319,.58283,0,0],44:[0,.10803,0,0],45:[.08319,.58283,0,0],46:[0,.10803,0,0],47:[.24982,.74947,0,0],48:[0,.47534,0,0],49:[0,.47534,0,0],50:[0,.47534,0,0],51:[.18906,.47534,0,0],52:[.18906,.47534,0,0],53:[.18906,.47534,0,0],54:[0,.69141,0,0],55:[.18906,.47534,0,0],56:[0,.69141,0,0],57:[.18906,.47534,0,0],58:[0,.47534,0,0],59:[.12604,.47534,0,0],61:[-.13099,.36866,0,0],63:[0,.69141,0,0],65:[0,.69141,0,0],66:[0,.69141,0,0],67:[0,.69141,0,0],68:[0,.69141,0,0],69:[0,.69141,0,0],70:[.12604,.69141,0,0],71:[0,.69141,0,0],72:[.06302,.69141,0,0],73:[0,.69141,0,0],74:[.12604,.69141,0,0],75:[0,.69141,0,0],76:[0,.69141,0,0],77:[0,.69141,0,0],78:[0,.69141,0,0],79:[0,.69141,0,0],80:[.18906,.69141,0,0],81:[.03781,.69141,0,0],82:[0,.69141,0,0],83:[0,.69141,0,0],84:[0,.69141,0,0],85:[0,.69141,0,0],86:[0,.69141,0,0],87:[0,.69141,0,0],88:[0,.69141,0,0],89:[.18906,.69141,0,0],90:[.12604,.69141,0,0],91:[.24982,.74947,0,0],93:[.24982,.74947,0,0],94:[0,.69141,0,0],97:[0,.47534,0,0],98:[0,.69141,0,0],99:[0,.47534,0,0],100:[0,.62119,0,0],101:[0,.47534,0,0],102:[.18906,.69141,0,0],103:[.18906,.47534,0,0],104:[.18906,.69141,0,0],105:[0,.69141,0,0],106:[0,.69141,0,0],107:[0,.69141,0,0],108:[0,.69141,0,0],109:[0,.47534,0,0],110:[0,.47534,0,0],111:[0,.47534,0,0],112:[.18906,.52396,0,0],113:[.18906,.47534,0,0],114:[0,.47534,0,0],115:[0,.47534,0,0],116:[0,.62119,0,0],117:[0,.47534,0,0],118:[0,.52396,0,0],119:[0,.52396,0,0],120:[.18906,.47534,0,0],121:[.18906,.47534,0,0],122:[.18906,.47534,0,0],8216:[0,.69141,0,0],8217:[0,.69141,0,0],58112:[0,.62119,0,0],58113:[0,.62119,0,0],58114:[.18906,.69141,0,0],58115:[.18906,.69141,0,0],58116:[.18906,.47534,0,0],58117:[0,.69141,0,0],58118:[0,.62119,0,0],58119:[0,.47534,0,0]},"Main-Bold":{33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.13333,.63333,0,0],44:[.19444,.15556,0,0],45:[0,.44444,0,0],46:[0,.15556,0,0],47:[.25,.75,0,0],48:[0,.64444,0,0],49:[0,.64444,0,0],50:[0,.64444,0,0],51:[0,.64444,0,0],52:[0,.64444,0,0],53:[0,.64444,0,0],54:[0,.64444,0,0],55:[0,.64444,0,0],56:[0,.64444,0,0],57:[0,.64444,0,0],58:[0,.44444,0,0],59:[.19444,.44444,0,0],60:[.08556,.58556,0,0],61:[-.10889,.39111,0,0],62:[.08556,.58556,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.68611,0,0],66:[0,.68611,0,0],67:[0,.68611,0,0],68:[0,.68611,0,0],69:[0,.68611,0,0],70:[0,.68611,0,0],71:[0,.68611,0,0],72:[0,.68611,0,0],73:[0,.68611,0,0],74:[0,.68611,0,0],75:[0,.68611,0,0],76:[0,.68611,0,0],77:[0,.68611,0,0],78:[0,.68611,0,0],79:[0,.68611,0,0],80:[0,.68611,0,0],81:[.19444,.68611,0,0],82:[0,.68611,0,0],83:[0,.68611,0,0],84:[0,.68611,0,0],85:[0,.68611,0,0],86:[0,.68611,.01597,0],87:[0,.68611,.01597,0],88:[0,.68611,0,0],89:[0,.68611,.02875,0],90:[0,.68611,0,0],91:[.25,.75,0,0],92:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.31,.13444,.03194,0],96:[0,.69444,0,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[0,.69444,.10903,0],103:[.19444,.44444,.01597,0],104:[0,.69444,0,0],105:[0,.69444,0,0],106:[.19444,.69444,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,0,0],114:[0,.44444,0,0],115:[0,.44444,0,0],116:[0,.63492,0,0],117:[0,.44444,0,0],118:[0,.44444,.01597,0],119:[0,.44444,.01597,0],120:[0,.44444,0,0],121:[.19444,.44444,.01597,0],122:[0,.44444,0,0],123:[.25,.75,0,0],124:[.25,.75,0,0],125:[.25,.75,0,0],126:[.35,.34444,0,0],168:[0,.69444,0,0],172:[0,.44444,0,0],175:[0,.59611,0,0],176:[0,.69444,0,0],177:[.13333,.63333,0,0],180:[0,.69444,0,0],215:[.13333,.63333,0,0],247:[.13333,.63333,0,0],305:[0,.44444,0,0],567:[.19444,.44444,0,0],710:[0,.69444,0,0],711:[0,.63194,0,0],713:[0,.59611,0,0],714:[0,.69444,0,0],715:[0,.69444,0,0],728:[0,.69444,0,0],729:[0,.69444,0,0],730:[0,.69444,0,0],732:[0,.69444,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.69444,0,0],772:[0,.59611,0,0],774:[0,.69444,0,0],775:[0,.69444,0,0],776:[0,.69444,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.63194,0,0],824:[.19444,.69444,0,0],915:[0,.68611,0,0],916:[0,.68611,0,0],920:[0,.68611,0,0],923:[0,.68611,0,0],926:[0,.68611,0,0],928:[0,.68611,0,0],931:[0,.68611,0,0],933:[0,.68611,0,0],934:[0,.68611,0,0],936:[0,.68611,0,0],937:[0,.68611,0,0],8211:[0,.44444,.03194,0],8212:[0,.44444,.03194,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0],8224:[.19444,.69444,0,0],8225:[.19444,.69444,0,0],8242:[0,.55556,0,0],8407:[0,.72444,.15486,0],8463:[0,.69444,0,0],8465:[0,.69444,0,0],8467:[0,.69444,0,0],8472:[.19444,.44444,0,0],8476:[0,.69444,0,0],8501:[0,.69444,0,0],8592:[-.10889,.39111,0,0],8593:[.19444,.69444,0,0],8594:[-.10889,.39111,0,0],8595:[.19444,.69444,0,0],8596:[-.10889,.39111,0,0],8597:[.25,.75,0,0],8598:[.19444,.69444,0,0],8599:[.19444,.69444,0,0],8600:[.19444,.69444,0,0],8601:[.19444,.69444,0,0],8636:[-.10889,.39111,0,0],8637:[-.10889,.39111,0,0],8640:[-.10889,.39111,0,0],8641:[-.10889,.39111,0,0],8656:[-.10889,.39111,0,0],8657:[.19444,.69444,0,0],8658:[-.10889,.39111,0,0],8659:[.19444,.69444,0,0],8660:[-.10889,.39111,0,0],8661:[.25,.75,0,0],8704:[0,.69444,0,0],8706:[0,.69444,.06389,0],8707:[0,.69444,0,0],8709:[.05556,.75,0,0],8711:[0,.68611,0,0],8712:[.08556,.58556,0,0],8715:[.08556,.58556,0,0],8722:[.13333,.63333,0,0],8723:[.13333,.63333,0,0],8725:[.25,.75,0,0],8726:[.25,.75,0,0],8727:[-.02778,.47222,0,0],8728:[-.02639,.47361,0,0],8729:[-.02639,.47361,0,0],8730:[.18,.82,0,0],8733:[0,.44444,0,0],8734:[0,.44444,0,0],8736:[0,.69224,0,0],8739:[.25,.75,0,0],8741:[.25,.75,0,0],8743:[0,.55556,0,0],8744:[0,.55556,0,0],8745:[0,.55556,0,0],8746:[0,.55556,0,0],8747:[.19444,.69444,.12778,0],8764:[-.10889,.39111,0,0],8768:[.19444,.69444,0,0],8771:[.00222,.50222,0,0],8776:[.02444,.52444,0,0],8781:[.00222,.50222,0,0],8801:[.00222,.50222,0,0],8804:[.19667,.69667,0,0],8805:[.19667,.69667,0,0],8810:[.08556,.58556,0,0],8811:[.08556,.58556,0,0],8826:[.08556,.58556,0,0],8827:[.08556,.58556,0,0],8834:[.08556,.58556,0,0],8835:[.08556,.58556,0,0],8838:[.19667,.69667,0,0],8839:[.19667,.69667,0,0],8846:[0,.55556,0,0],8849:[.19667,.69667,0,0],8850:[.19667,.69667,0,0],8851:[0,.55556,0,0],8852:[0,.55556,0,0],8853:[.13333,.63333,0,0],8854:[.13333,.63333,0,0],8855:[.13333,.63333,0,0],8856:[.13333,.63333,0,0],8857:[.13333,.63333,0,0],8866:[0,.69444,0,0],8867:[0,.69444,0,0],8868:[0,.69444,0,0],8869:[0,.69444,0,0],8900:[-.02639,.47361,0,0],8901:[-.02639,.47361,0,0],8902:[-.02778,.47222,0,0],8968:[.25,.75,0,0],8969:[.25,.75,0,0],8970:[.25,.75,0,0],8971:[.25,.75,0,0],8994:[-.13889,.36111,0,0],8995:[-.13889,.36111,0,0],9651:[.19444,.69444,0,0],9657:[-.02778,.47222,0,0],9661:[.19444,.69444,0,0],9667:[-.02778,.47222,0,0],9711:[.19444,.69444,0,0],9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:[0,.75,0,0],9838:[.19444,.69444,0,0],9839:[.19444,.69444,0,0],10216:[.25,.75,0,0],10217:[.25,.75,0,0],10815:[0,.68611,0,0],10927:[.19667,.69667,0,0],10928:[.19667,.69667,0,0]},"Main-Italic":{33:[0,.69444,.12417,0],34:[0,.69444,.06961,0],35:[.19444,.69444,.06616,0],37:[.05556,.75,.13639,0],38:[0,.69444,.09694,0],39:[0,.69444,.12417,0],40:[.25,.75,.16194,0],41:[.25,.75,.03694,0],42:[0,.75,.14917,0],43:[.05667,.56167,.03694,0],44:[.19444,.10556,0,0],45:[0,.43056,.02826,0],46:[0,.10556,0,0],47:[.25,.75,.16194,0],48:[0,.64444,.13556,0],49:[0,.64444,.13556,0],50:[0,.64444,.13556,0],51:[0,.64444,.13556,0],52:[.19444,.64444,.13556,0],53:[0,.64444,.13556,0],54:[0,.64444,.13556,0],55:[.19444,.64444,.13556,0],56:[0,.64444,.13556,0],57:[0,.64444,.13556,0],58:[0,.43056,.0582,0],59:[.19444,.43056,.0582,0],61:[-.13313,.36687,.06616,0],63:[0,.69444,.1225,0],64:[0,.69444,.09597,0],65:[0,.68333,0,0],66:[0,.68333,.10257,0],67:[0,.68333,.14528,0],68:[0,.68333,.09403,0],69:[0,.68333,.12028,0],70:[0,.68333,.13305,0],71:[0,.68333,.08722,0],72:[0,.68333,.16389,0],73:[0,.68333,.15806,0],74:[0,.68333,.14028,0],75:[0,.68333,.14528,0],76:[0,.68333,0,0],77:[0,.68333,.16389,0],78:[0,.68333,.16389,0],79:[0,.68333,.09403,0],80:[0,.68333,.10257,0],81:[.19444,.68333,.09403,0],82:[0,.68333,.03868,0],83:[0,.68333,.11972,0],84:[0,.68333,.13305,0],85:[0,.68333,.16389,0],86:[0,.68333,.18361,0],87:[0,.68333,.18361,0],88:[0,.68333,.15806,0],89:[0,.68333,.19383,0],90:[0,.68333,.14528,0],91:[.25,.75,.1875,0],93:[.25,.75,.10528,0],94:[0,.69444,.06646,0],95:[.31,.12056,.09208,0],97:[0,.43056,.07671,0],98:[0,.69444,.06312,0],99:[0,.43056,.05653,0],100:[0,.69444,.10333,0],101:[0,.43056,.07514,0],102:[.19444,.69444,.21194,0],103:[.19444,.43056,.08847,0],104:[0,.69444,.07671,0],105:[0,.65536,.1019,0],106:[.19444,.65536,.14467,0],107:[0,.69444,.10764,0],108:[0,.69444,.10333,0],109:[0,.43056,.07671,0],110:[0,.43056,.07671,0],111:[0,.43056,.06312,0],112:[.19444,.43056,.06312,0],113:[.19444,.43056,.08847,0],114:[0,.43056,.10764,0],115:[0,.43056,.08208,0],116:[0,.61508,.09486,0],117:[0,.43056,.07671,0],118:[0,.43056,.10764,0],119:[0,.43056,.10764,0],120:[0,.43056,.12042,0],121:[.19444,.43056,.08847,0],122:[0,.43056,.12292,0],126:[.35,.31786,.11585,0],163:[0,.69444,0,0],305:[0,.43056,0,.02778],567:[.19444,.43056,0,.08334],768:[0,.69444,0,0],769:[0,.69444,.09694,0],770:[0,.69444,.06646,0],771:[0,.66786,.11585,0],772:[0,.56167,.10333,0],774:[0,.69444,.10806,0],775:[0,.66786,.11752,0],776:[0,.66786,.10474,0],778:[0,.69444,0,0],779:[0,.69444,.1225,0],780:[0,.62847,.08295,0],915:[0,.68333,.13305,0],916:[0,.68333,0,0],920:[0,.68333,.09403,0],923:[0,.68333,0,0],926:[0,.68333,.15294,0],928:[0,.68333,.16389,0],931:[0,.68333,.12028,0],933:[0,.68333,.11111,0],934:[0,.68333,.05986,0],936:[0,.68333,.11111,0],937:[0,.68333,.10257,0],8211:[0,.43056,.09208,0],8212:[0,.43056,.09208,0],8216:[0,.69444,.12417,0],8217:[0,.69444,.12417,0],8220:[0,.69444,.1685,0],8221:[0,.69444,.06961,0],8463:[0,.68889,0,0]},"Main-Regular":{32:[0,0,0,0],33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.08333,.58333,0,0],44:[.19444,.10556,0,0],45:[0,.43056,0,0],46:[0,.10556,0,0],47:[.25,.75,0,0],48:[0,.64444,0,0],49:[0,.64444,0,0],50:[0,.64444,0,0],51:[0,.64444,0,0],52:[0,.64444,0,0],53:[0,.64444,0,0],54:[0,.64444,0,0],55:[0,.64444,0,0],56:[0,.64444,0,0],57:[0,.64444,0,0],58:[0,.43056,0,0],59:[.19444,.43056,0,0],60:[.0391,.5391,0,0],61:[-.13313,.36687,0,0],62:[.0391,.5391,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.68333,0,0],66:[0,.68333,0,0],67:[0,.68333,0,0],68:[0,.68333,0,0],69:[0,.68333,0,0],70:[0,.68333,0,0],71:[0,.68333,0,0],72:[0,.68333,0,0],73:[0,.68333,0,0],74:[0,.68333,0,0],75:[0,.68333,0,0],76:[0,.68333,0,0],77:[0,.68333,0,0],78:[0,.68333,0,0],79:[0,.68333,0,0],80:[0,.68333,0,0],81:[.19444,.68333,0,0],82:[0,.68333,0,0],83:[0,.68333,0,0],84:[0,.68333,0,0],85:[0,.68333,0,0],86:[0,.68333,.01389,0],87:[0,.68333,.01389,0],88:[0,.68333,0,0],89:[0,.68333,.025,0],90:[0,.68333,0,0],91:[.25,.75,0,0],92:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.31,.12056,.02778,0],96:[0,.69444,0,0],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,0],100:[0,.69444,0,0],101:[0,.43056,0,0],102:[0,.69444,.07778,0],103:[.19444,.43056,.01389,0],104:[0,.69444,0,0],105:[0,.66786,0,0],106:[.19444,.66786,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.19444,.43056,0,0],113:[.19444,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.61508,0,0],117:[0,.43056,0,0],118:[0,.43056,.01389,0],119:[0,.43056,.01389,0],120:[0,.43056,0,0],121:[.19444,.43056,.01389,0],122:[0,.43056,0,0],123:[.25,.75,0,0],124:[.25,.75,0,0],125:[.25,.75,0,0],126:[.35,.31786,0,0],160:[0,0,0,0],168:[0,.66786,0,0],172:[0,.43056,0,0],175:[0,.56778,0,0],176:[0,.69444,0,0],177:[.08333,.58333,0,0],180:[0,.69444,0,0],215:[.08333,.58333,0,0],247:[.08333,.58333,0,0],305:[0,.43056,0,0],567:[.19444,.43056,0,0],710:[0,.69444,0,0],711:[0,.62847,0,0],713:[0,.56778,0,0],714:[0,.69444,0,0],715:[0,.69444,0,0],728:[0,.69444,0,0],729:[0,.66786,0,0],730:[0,.69444,0,0],732:[0,.66786,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.66786,0,0],772:[0,.56778,0,0],774:[0,.69444,0,0],775:[0,.66786,0,0],776:[0,.66786,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.62847,0,0],824:[.19444,.69444,0,0],915:[0,.68333,0,0],916:[0,.68333,0,0],920:[0,.68333,0,0],923:[0,.68333,0,0],926:[0,.68333,0,0],928:[0,.68333,0,0],931:[0,.68333,0,0],933:[0,.68333,0,0],934:[0,.68333,0,0],936:[0,.68333,0,0],937:[0,.68333,0,0],8211:[0,.43056,.02778,0],8212:[0,.43056,.02778,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0],8224:[.19444,.69444,0,0],8225:[.19444,.69444,0,0],8230:[0,.12,0,0],8242:[0,.55556,0,0],8407:[0,.71444,.15382,0],8463:[0,.68889,0,0],8465:[0,.69444,0,0],8467:[0,.69444,0,.11111],8472:[.19444,.43056,0,.11111],8476:[0,.69444,0,0],8501:[0,.69444,0,0],8592:[-.13313,.36687,0,0],8593:[.19444,.69444,0,0],8594:[-.13313,.36687,0,0],8595:[.19444,.69444,0,0],8596:[-.13313,.36687,0,0],8597:[.25,.75,0,0],8598:[.19444,.69444,0,0],8599:[.19444,.69444,0,0],8600:[.19444,.69444,0,0],8601:[.19444,.69444,0,0],8614:[.011,.511,0,0],8617:[.011,.511,0,0],8618:[.011,.511,0,0],8636:[-.13313,.36687,0,0],8637:[-.13313,.36687,0,0],8640:[-.13313,.36687,0,0],8641:[-.13313,.36687,0,0],8652:[.011,.671,0,0],8656:[-.13313,.36687,0,0],8657:[.19444,.69444,0,0],8658:[-.13313,.36687,0,0],8659:[.19444,.69444,0,0],8660:[-.13313,.36687,0,0],8661:[.25,.75,0,0],8704:[0,.69444,0,0],8706:[0,.69444,.05556,.08334],8707:[0,.69444,0,0],8709:[.05556,.75,0,0],8711:[0,.68333,0,0],8712:[.0391,.5391,0,0],8715:[.0391,.5391,0,0],8722:[.08333,.58333,0,0],8723:[.08333,.58333,0,0],8725:[.25,.75,0,0],8726:[.25,.75,0,0],8727:[-.03472,.46528,0,0],8728:[-.05555,.44445,0,0],8729:[-.05555,.44445,0,0],8730:[.2,.8,0,0],8733:[0,.43056,0,0],8734:[0,.43056,0,0],8736:[0,.69224,0,0],8739:[.25,.75,0,0],8741:[.25,.75,0,0],8743:[0,.55556,0,0],8744:[0,.55556,0,0],8745:[0,.55556,0,0],8746:[0,.55556,0,0],8747:[.19444,.69444,.11111,0],8764:[-.13313,.36687,0,0],8768:[.19444,.69444,0,0],8771:[-.03625,.46375,0,0],8773:[-.022,.589,0,0],8776:[-.01688,.48312,0,0],8781:[-.03625,.46375,0,0],8784:[-.133,.67,0,0],8800:[.215,.716,0,0],8801:[-.03625,.46375,0,0],8804:[.13597,.63597,0,0],8805:[.13597,.63597,0,0],8810:[.0391,.5391,0,0],8811:[.0391,.5391,0,0],8826:[.0391,.5391,0,0],8827:[.0391,.5391,0,0],8834:[.0391,.5391,0,0],8835:[.0391,.5391,0,0],8838:[.13597,.63597,0,0],8839:[.13597,.63597,0,0],8846:[0,.55556,0,0],8849:[.13597,.63597,0,0],8850:[.13597,.63597,0,0],8851:[0,.55556,0,0],8852:[0,.55556,0,0],8853:[.08333,.58333,0,0],8854:[.08333,.58333,0,0],8855:[.08333,.58333,0,0],8856:[.08333,.58333,0,0],8857:[.08333,.58333,0,0],8866:[0,.69444,0,0],8867:[0,.69444,0,0],8868:[0,.69444,0,0],8869:[0,.69444,0,0],8872:[.249,.75,0,0],8900:[-.05555,.44445,0,0],8901:[-.05555,.44445,0,0],8902:[-.03472,.46528,0,0],8904:[.005,.505,0,0],8942:[.03,.9,0,0],8943:[-.19,.31,0,0],8945:[-.1,.82,0,0],8968:[.25,.75,0,0],8969:[.25,.75,0,0],8970:[.25,.75,0,0],8971:[.25,.75,0,0],8994:[-.14236,.35764,0,0],8995:[-.14236,.35764,0,0],9136:[.244,.744,0,0],9137:[.244,.744,0,0],9651:[.19444,.69444,0,0],9657:[-.03472,.46528,0,0],9661:[.19444,.69444,0,0],9667:[-.03472,.46528,0,0],9711:[.19444,.69444,0,0],9824:[.12963,.69444,0,0],9825:[.12963,.69444,0,0],9826:[.12963,.69444,0,0],9827:[.12963,.69444,0,0],9837:[0,.75,0,0],9838:[.19444,.69444,0,0],9839:[.19444,.69444,0,0],10216:[.25,.75,0,0],10217:[.25,.75,0,0],10222:[.244,.744,0,0],10223:[.244,.744,0,0],10229:[.011,.511,0,0],10230:[.011,.511,0,0],10231:[.011,.511,0,0],10232:[.024,.525,0,0],10233:[.024,.525,0,0],10234:[.024,.525,0,0],10236:[.011,.511,0,0],10815:[0,.68333,0,0],10927:[.13597,.63597,0,0],10928:[.13597,.63597,0,0]},"Math-BoldItalic":{47:[.19444,.69444,0,0],65:[0,.68611,0,0],66:[0,.68611,.04835,0],67:[0,.68611,.06979,0],68:[0,.68611,.03194,0],69:[0,.68611,.05451,0],70:[0,.68611,.15972,0],71:[0,.68611,0,0],72:[0,.68611,.08229,0],73:[0,.68611,.07778,0],74:[0,.68611,.10069,0],75:[0,.68611,.06979,0],76:[0,.68611,0,0],77:[0,.68611,.11424,0],78:[0,.68611,.11424,0],79:[0,.68611,.03194,0],80:[0,.68611,.15972,0],81:[.19444,.68611,0,0],82:[0,.68611,.00421,0],83:[0,.68611,.05382,0],84:[0,.68611,.15972,0],85:[0,.68611,.11424,0],86:[0,.68611,.25555,0],87:[0,.68611,.15972,0],88:[0,.68611,.07778,0],89:[0,.68611,.25555,0],90:[0,.68611,.06979,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[.19444,.69444,.11042,0],103:[.19444,.44444,.03704,0],104:[0,.69444,0,0],105:[0,.69326,0,0],106:[.19444,.69326,.0622,0],107:[0,.69444,.01852,0],108:[0,.69444,.0088,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,.03704,0],114:[0,.44444,.03194,0],115:[0,.44444,0,0],116:[0,.63492,0,0],117:[0,.44444,0,0],118:[0,.44444,.03704,0],119:[0,.44444,.02778,0],120:[0,.44444,0,0],121:[.19444,.44444,.03704,0],122:[0,.44444,.04213,0],915:[0,.68611,.15972,0],916:[0,.68611,0,0],920:[0,.68611,.03194,0],923:[0,.68611,0,0],926:[0,.68611,.07458,0],928:[0,.68611,.08229,0],931:[0,.68611,.05451,0],933:[0,.68611,.15972,0],934:[0,.68611,0,0],936:[0,.68611,.11653,0],937:[0,.68611,.04835,0],945:[0,.44444,0,0],946:[.19444,.69444,.03403,0],947:[.19444,.44444,.06389,0],948:[0,.69444,.03819,0],949:[0,.44444,0,0],950:[.19444,.69444,.06215,0],951:[.19444,.44444,.03704,0],952:[0,.69444,.03194,0],953:[0,.44444,0,0],954:[0,.44444,0,0],955:[0,.69444,0,0],956:[.19444,.44444,0,0],957:[0,.44444,.06898,0],958:[.19444,.69444,.03021,0],959:[0,.44444,0,0],960:[0,.44444,.03704,0],961:[.19444,.44444,0,0],962:[.09722,.44444,.07917,0],963:[0,.44444,.03704,0],964:[0,.44444,.13472,0],965:[0,.44444,.03704,0],966:[.19444,.44444,0,0],967:[.19444,.44444,0,0],968:[.19444,.69444,.03704,0],969:[0,.44444,.03704,0],977:[0,.69444,0,0],981:[.19444,.69444,0,0],982:[0,.44444,.03194,0],1009:[.19444,.44444,0,0],1013:[0,.44444,0,0]},"Math-Italic":{47:[.19444,.69444,0,0],65:[0,.68333,0,.13889],66:[0,.68333,.05017,.08334],67:[0,.68333,.07153,.08334],68:[0,.68333,.02778,.05556],69:[0,.68333,.05764,.08334],70:[0,.68333,.13889,.08334],71:[0,.68333,0,.08334],72:[0,.68333,.08125,.05556],73:[0,.68333,.07847,.11111],74:[0,.68333,.09618,.16667],75:[0,.68333,.07153,.05556],76:[0,.68333,0,.02778],77:[0,.68333,.10903,.08334],78:[0,.68333,.10903,.08334],79:[0,.68333,.02778,.08334],80:[0,.68333,.13889,.08334],81:[.19444,.68333,0,.08334],82:[0,.68333,.00773,.08334],83:[0,.68333,.05764,.08334],84:[0,.68333,.13889,.08334],85:[0,.68333,.10903,.02778],86:[0,.68333,.22222,0],87:[0,.68333,.13889,0],88:[0,.68333,.07847,.08334],89:[0,.68333,.22222,0],90:[0,.68333,.07153,.08334],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,.05556],100:[0,.69444,0,.16667],101:[0,.43056,0,.05556],102:[.19444,.69444,.10764,.16667],103:[.19444,.43056,.03588,.02778],104:[0,.69444,0,0],105:[0,.65952,0,0],106:[.19444,.65952,.05724,0],107:[0,.69444,.03148,0],108:[0,.69444,.01968,.08334],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,.05556],112:[.19444,.43056,0,.08334],113:[.19444,.43056,.03588,.08334],114:[0,.43056,.02778,.05556],115:[0,.43056,0,.05556],116:[0,.61508,0,.08334],117:[0,.43056,0,.02778],118:[0,.43056,.03588,.02778],119:[0,.43056,.02691,.08334],120:[0,.43056,0,.02778],121:[.19444,.43056,.03588,.05556],122:[0,.43056,.04398,.05556],915:[0,.68333,.13889,.08334],916:[0,.68333,0,.16667],920:[0,.68333,.02778,.08334],923:[0,.68333,0,.16667],926:[0,.68333,.07569,.08334],928:[0,.68333,.08125,.05556],931:[0,.68333,.05764,.08334],933:[0,.68333,.13889,.05556],934:[0,.68333,0,.08334],936:[0,.68333,.11,.05556],937:[0,.68333,.05017,.08334],945:[0,.43056,.0037,.02778],946:[.19444,.69444,.05278,.08334],947:[.19444,.43056,.05556,0],948:[0,.69444,.03785,.05556],949:[0,.43056,0,.08334],950:[.19444,.69444,.07378,.08334],951:[.19444,.43056,.03588,.05556],952:[0,.69444,.02778,.08334],953:[0,.43056,0,.05556],954:[0,.43056,0,0],955:[0,.69444,0,0],956:[.19444,.43056,0,.02778],957:[0,.43056,.06366,.02778],958:[.19444,.69444,.04601,.11111],959:[0,.43056,0,.05556],960:[0,.43056,.03588,0],961:[.19444,.43056,0,.08334],962:[.09722,.43056,.07986,.08334],963:[0,.43056,.03588,0],964:[0,.43056,.1132,.02778],965:[0,.43056,.03588,.02778],966:[.19444,.43056,0,.08334],967:[.19444,.43056,0,.05556],968:[.19444,.69444,.03588,.11111],969:[0,.43056,.03588,0],977:[0,.69444,0,.08334],981:[.19444,.69444,0,.08334],982:[0,.43056,.02778,0],1009:[.19444,.43056,0,.08334],1013:[0,.43056,0,.05556]},"Math-Regular":{65:[0,.68333,0,.13889],66:[0,.68333,.05017,.08334],67:[0,.68333,.07153,.08334],68:[0,.68333,.02778,.05556],69:[0,.68333,.05764,.08334],70:[0,.68333,.13889,.08334],71:[0,.68333,0,.08334],72:[0,.68333,.08125,.05556],73:[0,.68333,.07847,.11111],74:[0,.68333,.09618,.16667],75:[0,.68333,.07153,.05556],76:[0,.68333,0,.02778],77:[0,.68333,.10903,.08334],78:[0,.68333,.10903,.08334],79:[0,.68333,.02778,.08334],80:[0,.68333,.13889,.08334],81:[.19444,.68333,0,.08334],82:[0,.68333,.00773,.08334],83:[0,.68333,.05764,.08334],84:[0,.68333,.13889,.08334],85:[0,.68333,.10903,.02778],86:[0,.68333,.22222,0],87:[0,.68333,.13889,0],88:[0,.68333,.07847,.08334],89:[0,.68333,.22222,0],90:[0,.68333,.07153,.08334],97:[0,.43056,0,0],98:[0,.69444,0,0],99:[0,.43056,0,.05556],100:[0,.69444,0,.16667],101:[0,.43056,0,.05556],102:[.19444,.69444,.10764,.16667],103:[.19444,.43056,.03588,.02778],104:[0,.69444,0,0],105:[0,.65952,0,0],106:[.19444,.65952,.05724,0],107:[0,.69444,.03148,0],108:[0,.69444,.01968,.08334],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,.05556],112:[.19444,.43056,0,.08334],113:[.19444,.43056,.03588,.08334],114:[0,.43056,.02778,.05556],115:[0,.43056,0,.05556],116:[0,.61508,0,.08334],117:[0,.43056,0,.02778],118:[0,.43056,.03588,.02778],119:[0,.43056,.02691,.08334],120:[0,.43056,0,.02778],121:[.19444,.43056,.03588,.05556],122:[0,.43056,.04398,.05556],915:[0,.68333,.13889,.08334],916:[0,.68333,0,.16667],920:[0,.68333,.02778,.08334],923:[0,.68333,0,.16667],926:[0,.68333,.07569,.08334],928:[0,.68333,.08125,.05556],931:[0,.68333,.05764,.08334],933:[0,.68333,.13889,.05556],934:[0,.68333,0,.08334],936:[0,.68333,.11,.05556],937:[0,.68333,.05017,.08334],945:[0,.43056,.0037,.02778],946:[.19444,.69444,.05278,.08334],947:[.19444,.43056,.05556,0],948:[0,.69444,.03785,.05556],949:[0,.43056,0,.08334],950:[.19444,.69444,.07378,.08334],951:[.19444,.43056,.03588,.05556],952:[0,.69444,.02778,.08334],953:[0,.43056,0,.05556],954:[0,.43056,0,0],955:[0,.69444,0,0],956:[.19444,.43056,0,.02778],957:[0,.43056,.06366,.02778],958:[.19444,.69444,.04601,.11111],959:[0,.43056,0,.05556],960:[0,.43056,.03588,0],961:[.19444,.43056,0,.08334],962:[.09722,.43056,.07986,.08334],963:[0,.43056,.03588,0],964:[0,.43056,.1132,.02778],965:[0,.43056,.03588,.02778],966:[.19444,.43056,0,.08334],967:[.19444,.43056,0,.05556],968:[.19444,.69444,.03588,.11111],969:[0,.43056,.03588,0],977:[0,.69444,0,.08334],981:[.19444,.69444,0,.08334],982:[0,.43056,.02778,0],1009:[.19444,.43056,0,.08334],1013:[0,.43056,0,.05556]},"SansSerif-Regular":{33:[0,.69444,0,0],34:[0,.69444,0,0],35:[.19444,.69444,0,0],36:[.05556,.75,0,0],37:[.05556,.75,0,0],38:[0,.69444,0,0],39:[0,.69444,0,0],40:[.25,.75,0,0],41:[.25,.75,0,0],42:[0,.75,0,0],43:[.08333,.58333,0,0],44:[.125,.08333,0,0],45:[0,.44444,0,0],46:[0,.08333,0,0],47:[.25,.75,0,0],48:[0,.65556,0,0],49:[0,.65556,0,0],50:[0,.65556,0,0],51:[0,.65556,0,0],52:[0,.65556,0,0],53:[0,.65556,0,0],54:[0,.65556,0,0],55:[0,.65556,0,0],56:[0,.65556,0,0],57:[0,.65556,0,0],58:[0,.44444,0,0],59:[.125,.44444,0,0],61:[-.13,.37,0,0],63:[0,.69444,0,0],64:[0,.69444,0,0],65:[0,.69444,0,0],66:[0,.69444,0,0],67:[0,.69444,0,0],68:[0,.69444,0,0],69:[0,.69444,0,0],70:[0,.69444,0,0],71:[0,.69444,0,0],72:[0,.69444,0,0],73:[0,.69444,0,0],74:[0,.69444,0,0],75:[0,.69444,0,0],76:[0,.69444,0,0],77:[0,.69444,0,0],78:[0,.69444,0,0],79:[0,.69444,0,0],80:[0,.69444,0,0],81:[.125,.69444,0,0],82:[0,.69444,0,0],83:[0,.69444,0,0],84:[0,.69444,0,0],85:[0,.69444,0,0],86:[0,.69444,.01389,0],87:[0,.69444,.01389,0],88:[0,.69444,0,0],89:[0,.69444,.025,0],90:[0,.69444,0,0],91:[.25,.75,0,0],93:[.25,.75,0,0],94:[0,.69444,0,0],95:[.35,.09444,.02778,0],97:[0,.44444,0,0],98:[0,.69444,0,0],99:[0,.44444,0,0],100:[0,.69444,0,0],101:[0,.44444,0,0],102:[0,.69444,.06944,0],103:[.19444,.44444,.01389,0],104:[0,.69444,0,0],105:[0,.67937,0,0],106:[.19444,.67937,0,0],107:[0,.69444,0,0],108:[0,.69444,0,0],109:[0,.44444,0,0],110:[0,.44444,0,0],111:[0,.44444,0,0],112:[.19444,.44444,0,0],113:[.19444,.44444,0,0],114:[0,.44444,.01389,0],115:[0,.44444,0,0],116:[0,.57143,0,0],117:[0,.44444,0,0],118:[0,.44444,.01389,0],119:[0,.44444,.01389,0],120:[0,.44444,0,0],121:[.19444,.44444,.01389,0],122:[0,.44444,0,0],126:[.35,.32659,0,0],305:[0,.44444,0,0],567:[.19444,.44444,0,0],768:[0,.69444,0,0],769:[0,.69444,0,0],770:[0,.69444,0,0],771:[0,.67659,0,0],772:[0,.60889,0,0],774:[0,.69444,0,0],775:[0,.67937,0,0],776:[0,.67937,0,0],778:[0,.69444,0,0],779:[0,.69444,0,0],780:[0,.63194,0,0],915:[0,.69444,0,0],916:[0,.69444,0,0],920:[0,.69444,0,0],923:[0,.69444,0,0],926:[0,.69444,0,0],928:[0,.69444,0,0],931:[0,.69444,0,0],933:[0,.69444,0,0],934:[0,.69444,0,0],936:[0,.69444,0,0],937:[0,.69444,0,0],8211:[0,.44444,.02778,0],8212:[0,.44444,.02778,0],8216:[0,.69444,0,0],8217:[0,.69444,0,0],8220:[0,.69444,0,0],8221:[0,.69444,0,0]},"Script-Regular":{65:[0,.7,.22925,0],66:[0,.7,.04087,0],67:[0,.7,.1689,0],68:[0,.7,.09371,0],69:[0,.7,.18583,0],70:[0,.7,.13634,0],71:[0,.7,.17322,0],72:[0,.7,.29694,0],73:[0,.7,.19189,0],74:[.27778,.7,.19189,0],75:[0,.7,.31259,0],76:[0,.7,.19189,0],77:[0,.7,.15981,0],78:[0,.7,.3525,0],79:[0,.7,.08078,0],80:[0,.7,.08078,0],81:[0,.7,.03305,0],82:[0,.7,.06259,0],83:[0,.7,.19189,0],84:[0,.7,.29087,0],85:[0,.7,.25815,0],86:[0,.7,.27523,0],87:[0,.7,.27523,0],88:[0,.7,.26006,0],89:[0,.7,.2939,0],90:[0,.7,.24037,0]},"Size1-Regular":{40:[.35001,.85,0,0],41:[.35001,.85,0,0],47:[.35001,.85,0,0],91:[.35001,.85,0,0],92:[.35001,.85,0,0],93:[.35001,.85,0,0],123:[.35001,.85,0,0],125:[.35001,.85,0,0],710:[0,.72222,0,0],732:[0,.72222,0,0],770:[0,.72222,0,0],771:[0,.72222,0,0],8214:[-99e-5,.601,0,0],8593:[1e-5,.6,0,0],8595:[1e-5,.6,0,0],8657:[1e-5,.6,0,0],8659:[1e-5,.6,0,0],8719:[.25001,.75,0,0],8720:[.25001,.75,0,0],8721:[.25001,.75,0,0],8730:[.35001,.85,0,0],8739:[-.00599,.606,0,0],8741:[-.00599,.606,0,0],8747:[.30612,.805,.19445,0],8748:[.306,.805,.19445,0],8749:[.306,.805,.19445,0],8750:[.30612,.805,.19445,0],8896:[.25001,.75,0,0],8897:[.25001,.75,0,0],8898:[.25001,.75,0,0],8899:[.25001,.75,0,0],8968:[.35001,.85,0,0],8969:[.35001,.85,0,0],8970:[.35001,.85,0,0],8971:[.35001,.85,0,0],9168:[-99e-5,.601,0,0],10216:[.35001,.85,0,0],10217:[.35001,.85,0,0],10752:[.25001,.75,0,0],10753:[.25001,.75,0,0],10754:[.25001,.75,0,0],10756:[.25001,.75,0,0],10758:[.25001,.75,0,0]},"Size2-Regular":{40:[.65002,1.15,0,0],41:[.65002,1.15,0,0],47:[.65002,1.15,0,0],91:[.65002,1.15,0,0],92:[.65002,1.15,0,0],93:[.65002,1.15,0,0],123:[.65002,1.15,0,0],125:[.65002,1.15,0,0],710:[0,.75,0,0],732:[0,.75,0,0],770:[0,.75,0,0],771:[0,.75,0,0],8719:[.55001,1.05,0,0],8720:[.55001,1.05,0,0],8721:[.55001,1.05,0,0],8730:[.65002,1.15,0,0],8747:[.86225,1.36,.44445,0],8748:[.862,1.36,.44445,0],8749:[.862,1.36,.44445,0],8750:[.86225,1.36,.44445,0],8896:[.55001,1.05,0,0],8897:[.55001,1.05,0,0],8898:[.55001,1.05,0,0],8899:[.55001,1.05,0,0],8968:[.65002,1.15,0,0],8969:[.65002,1.15,0,0],8970:[.65002,1.15,0,0],8971:[.65002,1.15,0,0],10216:[.65002,1.15,0,0],10217:[.65002,1.15,0,0],10752:[.55001,1.05,0,0],10753:[.55001,1.05,0,0],10754:[.55001,1.05,0,0],10756:[.55001,1.05,0,0],10758:[.55001,1.05,0,0]},"Size3-Regular":{40:[.95003,1.45,0,0],41:[.95003,1.45,0,0],47:[.95003,1.45,0,0],91:[.95003,1.45,0,0],92:[.95003,1.45,0,0],93:[.95003,1.45,0,0],123:[.95003,1.45,0,0],125:[.95003,1.45,0,0],710:[0,.75,0,0],732:[0,.75,0,0],770:[0,.75,0,0],771:[0,.75,0,0],8730:[.95003,1.45,0,0],8968:[.95003,1.45,0,0],8969:[.95003,1.45,0,0],8970:[.95003,1.45,0,0],8971:[.95003,1.45,0,0],10216:[.95003,1.45,0,0],10217:[.95003,1.45,0,0]},"Size4-Regular":{40:[1.25003,1.75,0,0],41:[1.25003,1.75,0,0],47:[1.25003,1.75,0,0],91:[1.25003,1.75,0,0],92:[1.25003,1.75,0,0],93:[1.25003,1.75,0,0],123:[1.25003,1.75,0,0],125:[1.25003,1.75,0,0],710:[0,.825,0,0],732:[0,.825,0,0],770:[0,.825,0,0],771:[0,.825,0,0],8730:[1.25003,1.75,0,0],8968:[1.25003,1.75,0,0],8969:[1.25003,1.75,0,0],8970:[1.25003,1.75,0,0],8971:[1.25003,1.75,0,0],9115:[.64502,1.155,0,0],9116:[1e-5,.6,0,0],9117:[.64502,1.155,0,0],9118:[.64502,1.155,0,0],9119:[1e-5,.6,0,0],9120:[.64502,1.155,0,0],9121:[.64502,1.155,0,0],9122:[-99e-5,.601,0,0],9123:[.64502,1.155,0,0],9124:[.64502,1.155,0,0],9125:[-99e-5,.601,0,0],9126:[.64502,1.155,0,0],9127:[1e-5,.9,0,0],9128:[.65002,1.15,0,0],9129:[.90001,0,0,0],9130:[0,.3,0,0],9131:[1e-5,.9,0,0],9132:[.65002,1.15,0,0],9133:[.90001,0,0,0],9143:[.88502,.915,0,0],10216:[1.25003,1.75,0,0],10217:[1.25003,1.75,0,0],57344:[-.00499,.605,0,0],57345:[-.00499,.605,0,0],57680:[0,.12,0,0],57681:[0,.12,0,0],57682:[0,.12,0,0],57683:[0,.12,0,0]},"Typewriter-Regular":{33:[0,.61111,0,0],34:[0,.61111,0,0],35:[0,.61111,0,0],36:[.08333,.69444,0,0],37:[.08333,.69444,0,0],38:[0,.61111,0,0],39:[0,.61111,0,0],40:[.08333,.69444,0,0],41:[.08333,.69444,0,0],42:[0,.52083,0,0],43:[-.08056,.53055,0,0],44:[.13889,.125,0,0],45:[-.08056,.53055,0,0],46:[0,.125,0,0],47:[.08333,.69444,0,0],48:[0,.61111,0,0],49:[0,.61111,0,0],50:[0,.61111,0,0],51:[0,.61111,0,0],52:[0,.61111,0,0],53:[0,.61111,0,0],54:[0,.61111,0,0],55:[0,.61111,0,0],56:[0,.61111,0,0],57:[0,.61111,0,0],58:[0,.43056,0,0],59:[.13889,.43056,0,0],60:[-.05556,.55556,0,0],61:[-.19549,.41562,0,0],62:[-.05556,.55556,0,0],63:[0,.61111,0,0],64:[0,.61111,0,0],65:[0,.61111,0,0],66:[0,.61111,0,0],67:[0,.61111,0,0],68:[0,.61111,0,0],69:[0,.61111,0,0],70:[0,.61111,0,0],71:[0,.61111,0,0],72:[0,.61111,0,0],73:[0,.61111,0,0],74:[0,.61111,0,0],75:[0,.61111,0,0],76:[0,.61111,0,0],77:[0,.61111,0,0],78:[0,.61111,0,0],79:[0,.61111,0,0],80:[0,.61111,0,0],81:[.13889,.61111,0,0],82:[0,.61111,0,0],83:[0,.61111,0,0],84:[0,.61111,0,0],85:[0,.61111,0,0],86:[0,.61111,0,0],87:[0,.61111,0,0],88:[0,.61111,0,0],89:[0,.61111,0,0],90:[0,.61111,0,0],91:[.08333,.69444,0,0],92:[.08333,.69444,0,0],93:[.08333,.69444,0,0],94:[0,.61111,0,0],95:[.09514,0,0,0],96:[0,.61111,0,0],97:[0,.43056,0,0],98:[0,.61111,0,0],99:[0,.43056,0,0],100:[0,.61111,0,0],101:[0,.43056,0,0],102:[0,.61111,0,0],103:[.22222,.43056,0,0],104:[0,.61111,0,0],105:[0,.61111,0,0],106:[.22222,.61111,0,0],107:[0,.61111,0,0],108:[0,.61111,0,0],109:[0,.43056,0,0],110:[0,.43056,0,0],111:[0,.43056,0,0],112:[.22222,.43056,0,0],113:[.22222,.43056,0,0],114:[0,.43056,0,0],115:[0,.43056,0,0],116:[0,.55358,0,0],117:[0,.43056,0,0],118:[0,.43056,0,0],119:[0,.43056,0,0],120:[0,.43056,0,0],121:[.22222,.43056,0,0],122:[0,.43056,0,0],123:[.08333,.69444,0,0],124:[.08333,.69444,0,0],125:[.08333,.69444,0,0],126:[0,.61111,0,0],127:[0,.61111,0,0],305:[0,.43056,0,0],567:[.22222,.43056,0,0],768:[0,.61111,0,0],769:[0,.61111,0,0],770:[0,.61111,0,0],771:[0,.61111,0,0],772:[0,.56555,0,0],774:[0,.61111,0,0],776:[0,.61111,0,0],778:[0,.61111,0,0],780:[0,.56597,0,0],915:[0,.61111,0,0],916:[0,.61111,0,0],920:[0,.61111,0,0],923:[0,.61111,0,0],926:[0,.61111,0,0],928:[0,.61111,0,0],931:[0,.61111,0,0],933:[0,.61111,0,0],934:[0,.61111,0,0],936:[0,.61111,0,0],937:[0,.61111,0,0],2018:[0,.61111,0,0],2019:[0,.61111,0,0],8242:[0,.61111,0,0]}},T=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u4E00-\u9FAF]|[\uAC00-\uD7AF]/,L={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25]},F={defaultRuleThickness:.04,bigOpSpacing1:.111,bigOpSpacing2:.166,bigOpSpacing3:.2,bigOpSpacing4:.6,bigOpSpacing5:.1,ptPerEm:10,pxPerEm:40/3,doubleRuleSep:.2,arraycolsep:.5,baselineskip:1.2,arrayrulewidth:.04,fboxsep:.3,fboxrule:.04},D={" ":" ","":" ","":"A","":"C","":"D","":"o","":"a","":"c","":"d","":"o","":"A","":"B","":"B","":"F","":"A","":"E","":"K","":"3","":"N","":"N","":"K","":"N","":"M","":"H","":"O","":"N","":"P","":"C","":"T","":"y","":"O","":"X","":"U","":"h","":"W","":"W","":"B","":"X","":"B","":"3","":"X","":"R","":"a","":"b","":"a","":"r","":"y","":"e","":"m","":"e","":"n","":"n","":"n","":"n","":"m","":"n","":"o","":"n","":"p","":"c","":"o","":"y","":"b","":"x","":"n","":"n","":"w","":"w","":"a","":"m","":"a","":"e","":"m","":"r"};function z(t,e,i){if("string"==typeof t){var a=t.match(/([-+]?[0-9.]*)\s*([a-zA-Z]+)/);a?(t=parseFloat(a[1]),e=a[2].toLowerCase()):t=parseFloat(t)}var s={pt:1,mm:7227/2540,cm:7227/254,ex:35271/8192,px:.75,em:F.ptPerEm,bp:1.00375,dd:1238/1157,pc:12,in:72.27,mu:10/18}[e]||1;if(isFinite(i)){var r=Math.pow(10,i);return Math.round(t/F.ptPerEm*s*r)/r}return t/F.ptPerEm*s}var E,q={toEm:z,toPx:function(t,e){return z(t,e)*(4/3)*F.ptPerEm},METRICS:F,SIGMAS:L,getCharacterMetrics:function(t,e){var i={cal:"Caligraphic-Regular",ams:"AMS-Regular",frak:"Fraktur-Regular",bb:"AMS-Regular",scr:"Script-Regular",cmr:"Main-Regular",cmtt:"Typewriter-Regular",cmss:"SansSerif-Regular"}[e]||e,a=t.charCodeAt(0);t[0]in D?a=D[t[0]].charCodeAt(0):T.test(t[0])&&(a=77);var s=_[i][a];return s?s?{depth:s[0],height:s[1],italic:s[2],skew:s[3]}:null:{defaultMetrics:!0,depth:.2,height:.7,italic:0,skew:0}}},I=[{},{},{}];for(var P in L)if(Object.prototype.hasOwnProperty.call(L,P))for(E=0;E<3;E++)I[E][P]=L[P][E];for(E=0;E<3;E++)I[E].emPerEx=L.xHeight[E]/L.quad[E];var B=function(){"use strict";function t(e,i,a,s){u(this,t),this.id=e,this.size=i,this.cramped=s,this.sizeMultiplier=a,this.metrics=I[i>0?i-1:0]}return d(t,[{key:"sup",value:function(){return O[N[this.id]]}},{key:"sub",value:function(){return O[W[this.id]]}},{key:"fracNum",value:function(){return O[$[this.id]]}},{key:"fracDen",value:function(){return O[H[this.id]]}},{key:"cramp",value:function(){return O[V[this.id]]}},{key:"cls",value:function(){return R[this.size]}},{key:"adjustTo",value:function(t){var e=K[this.size][t.size];return e.length>0&&(e=" "+e),e}},{key:"isTight",value:function(){return this.size>=2}}])}(),O=[new B(0,0,1,!1),new B(1,0,1,!0),new B(2,1,1,!1),new B(3,1,1,!0),new B(4,2,.7,!1),new B(5,2,.7,!0),new B(6,3,.5,!1),new B(7,3,.5,!0)],R=["displaystyle textstyle","textstyle","scriptstyle","scriptscriptstyle"],K=[["","","reset-textstyle scriptstyle","reset-textstyle scriptscriptstyle"],["reset-textstyle displaystyle textstyle","","reset-textstyle scriptstyle","reset-textstyle scriptscriptstyle"],["reset-scriptstyle textstyle displaystyle","reset-scriptstyle textstyle","","reset-scriptstyle scriptscriptstyle"],["reset-scriptscriptstyle textstyle displaystyle","reset-scriptscriptstyle textstyle","reset-scriptscriptstyle scriptstyle",""]],N=[4,5,4,5,6,7,6,7],W=[5,5,5,5,7,7,7,7],$=[2,3,4,5,6,7,6,7],H=[3,3,5,5,7,7,7,7],V=[1,1,3,3,5,5,7,7],U={DISPLAY:O[0],TEXT:O[2],SCRIPT:O[4],SCRIPTSCRIPT:O[6],toMathstyle:function(t){return t?"object"==h(t)?t:{displaystyle:O[0],textstyle:O[2],scriptstyle:O[4],scriptscriptstyle:O[6]}[t]:t}},j=function(){"use strict";function t(e){u(this,t),this.macros=e.macros||{},this.generateID=!!e.generateID&&e.generateID,this.mathstyle=U.toMathstyle(e.mathstyle||"displaystyle"),this.size=e.size||"size5",this.parentMathstyle=e.parentMathstyle||this.mathstyle,this.parentSize=e.parentSize||this.size,this.opacity=e.opacity}return d(t,[{key:"clone",value:function(e){var i=new t(this);return i.parentMathstyle=this.mathstyle,i.parentSize=this.size,i.macros=this.macros,e&&("auto"!==e.mathstyle&&e.mathstyle||delete e.mathstyle,Object.assign(i,e),"string"==typeof e.mathstyle&&(i.mathstyle=U.toMathstyle(e.mathstyle))),i}},{key:"setMathstyle",value:function(t){t&&"auto"!==t&&(this.mathstyle=U.toMathstyle(t))}},{key:"cramp",value:function(){return this.clone({mathstyle:this.mathstyle.cramp()})}},{key:"sup",value:function(){return this.clone({mathstyle:this.mathstyle.sup()})}},{key:"sub",value:function(){return this.clone({mathstyle:this.mathstyle.sup()})}}])}(),G={Context:j};function Z(t){var e="";if("number"==typeof t)e+=Math.floor(100*t)/100;else if("string"==typeof t)e+=t;else if(Array.isArray(t)){var i,a=c(t);try{for(a.s();!(i=a.n()).done;){var s=i.value;e+=Z(s)}}catch(t){a.e(t)}finally{a.f()}}else t&&(e+=t.toString());return e}var X=function(){"use strict";function t(e,i){u(this,t),this.classes=i||"",Array.isArray(e)?this.children=[].concat.apply([],e):"string"==typeof e?this.body=e:e&&"object"==h(e)&&(this.children=[e]),this.style=null,this.updateDimensions()}return d(t,[{key:"updateDimensions",value:function(){var t=0,e=0,i=1;this.children&&this.children.forEach(function(a){a.height>t&&(t=a.height),a.depth>e&&(e=a.depth),a.maxFontSize>i&&(i=a.maxFontSize)}),this.height=t,this.depth=e,this.maxFontSize=i}},{key:"selected",value:function(t){t&&!/ML__selected/.test(this.classes)&&(this.classes.length>0&&(this.classes+=" "),this.classes+="ML__selected"),!t&&/ML__selected/.test(this.classes)&&(this.classes=this.classes.replace("ML__selected","")),this.children&&this.children.forEach(function(e){return e.selected(t)})}},{key:"applyStyle",value:function(t){if(t&&(t.color&&("none"!==t.color?this.setStyle("color",t.color):this.setStyle("color","")),t.backgroundColor&&("none"!==t.backgroundColor?this.setStyle("background-color",t.backgroundColor):this.setStyle("background-color","")),t.cssClass&&(this.classes+=" "+t.cssClass),this.body)){var e=t.fontFamily;"math"===e&&"n"===t.fontShape&&(e="cmr");var i="Main-Regular";if(e&&(i=function(t,e){if("string"!=typeof t||t.length>1||""===t)return ot[e];if("bb"===e||"scr"===e){if(!/^[A-Z ]$/.test(t))return null}else if("cal"===e){if(!/^[0-9A-Z ]$/.test(t))return null}else if("frak"===e){if(!/^[0-9A-Za-z ]$|^[!"#$%&'()*+,\-./:;=?[]^]$/.test(t))return null}else if(("cmtt"===e||"cmss"===e)&&!/^[0-9A-Za-z ]$|^[!"&'()*+,\-./:;=?@[]^_~\u0131\u0237\u0393\u0394\u0398\u039b\u039e\u03A0\u03A3\u03A5\u03A8\u03a9]$/.test(t))return null;return ot[e]}(this.body,e)),t.fontShape&&(this.classes+=" "+({it:"ML__it",sl:"ML__shape_sl",sc:"ML__shape_sc",ol:"ML__shape_ol"}[t.fontShape]||"")),t.fontSeries){var a=t.fontSeries.match(/(.?[lbm])?(.?[cx])?/);a&&(this.classes+=" "+({ul:"ML__series_ul",el:"ML__series_el",l:"ML__series_l",sl:"ML__series_sl",m:"",sb:"ML__series_sb",b:"ML__bold",eb:"ML__series_eb",ub:"ML__series_ub"}[a[1]||""]||""),this.classes+=" "+({uc:"ML__series_uc",ec:"ML__series_ec",c:"ML__series_c",sc:"ML__series_sc",n:"",sx:"ML__series_sx",x:"ML__series_x",ex:"ML__series_ex",ux:"ML__series_ux"}[a[2]||""]||""))}if(lt[e]?this.classes+=" "+lt[e]:e&&this.setStyle("font-family",e),this.body&&this.body.length>0&&i){this.height=0,this.depth=0,this.maxFontSize={size1:.5,size2:.7,size3:.8,size4:.9,size5:1,size6:1.2,size7:1.44,size8:1.73,size9:2.07,size10:2.49}[t.fontSize]||1,this.skew=0,this.italic=0;for(var s=0;s<this.body.length;s++){var r=q.getCharacterMetrics(this.body.charAt(s),i);r&&(this.height=Math.max(this.height,r.height),this.depth=Math.max(this.depth,r.depth),this.skew=r.skew,this.italic=r.italic)}}}}},{key:"setStyle",value:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),a=1;a<e;a++)i[a-1]=arguments[a];var s=Z(i);s.length>0&&(this.style||(this.style={}),this.style[t]=s)}},{key:"setTop",value:function(t){t&&0!==t&&(this.style||(this.style={}),this.style.top=Z(t)+"em",this.height-=t,this.depth+=t)}},{key:"setLeft",value:function(t){t&&0!==t&&(this.style||(this.style={}),this.style["margin-left"]=Z(t)+"em")}},{key:"setRight",value:function(t){t&&0!==t&&(this.style||(this.style={}),this.style["margin-right"]=Z(t)+"em")}},{key:"setWidth",value:function(t){t&&0!==t&&(this.style||(this.style={}),this.style.width=Z(t)+"em")}},{key:"addMarginRight",value:function(t){if(t&&0!==t){if(!this.style&&!/qquad|quad|enspace|thickspace|mediumspace|thinspace|negativethinspace/.test(this.classes)){var e={2:"qquad",1:"quad",".5":"enspace",.277778:"thickspace",.222222:"mediumspace",.166667:"thinspace","-0.166667":"negativethinspace"}[t.toString()];if(e)return void(this.classes+=" rspace "+e)}this.style||(this.style={});var i=parseFloat(this.style["margin-right"]||"0");this.style["margin-right"]=Z(i+t)+"em"}}},{key:"toMarkup",value:function(t,e){t=t||0,e=e||1;var i="",a=this.body||"";if(this.children){var s,r="none",n=c(this.children);try{for(n.s();!(s=n.n()).done;){var o=s.value,l=0;if(r){var h=o.type;h&&("textord"===h&&(h="mord"),"first"===h&&(h="none"),l=o.isTight?tt[r+"+"+h]||0:J[r+"+"+h]||0,l=Math.floor(e*l))}a+=o.toMarkup(l,e),r=et(o)}}catch(t){n.e(t)}finally{n.f()}}if(""!==a&&a||this.classes&&"ML__selected"!==this.classes){if(i="<span",this.cssId&&(i+=' id="'+this.cssId+'" '),this.svgOverlay&&(this.setStyle("position","relative"),this.setStyle("height",this.height+this.depth,"em"),this.setStyle("vertical-align",-this.depth,"em")),this.attributes)for(var d in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,d)&&(i+=" "+d+'="'+this.attributes[d]+'"');var u=this.classes.split(" ");this.type&&(/command|placeholder|error/.test(this.type)&&u.push({command:"ML__command",placeholder:"ML__placeholder",error:"ML__error"}[this.type]),this.caret&&"command"===this.type&&u.push("ML__command-caret"));var p="";if(p=u.length>1?u.filter(function(t,e,i){return t.length>0&&i.indexOf(t)===e}).join(" "):u[0],p.length>0&&(i+=' class="'+p+'"'),t&&(this.style&&this.style["margin-left"]?this.style["margin-left"]=Z(parseFloat(this.style["margin-left"])+t/18)+"em":t<0&&Q[-t]?a=Q[-t]+a:Y[t]?a=Y[t]+a:(this.style||(this.style={}),this.style["margin-left"]=Z(t/18)+"em")),this.style){var m="",f=/ML__selected/.test(this.classes);for(var y in this.style)Object.prototype.hasOwnProperty.call(this.style,y)&&("background-color"===y&&f||(m+=y+":"+this.style[y]+";"));m.length>0&&(i+=' style="'+m+'"')}i+=">",this.svgOverlay?(i+='<span style="',i+="display: inline-block;",i+="height:"+(this.height+this.depth)+"em;",i+="vertical-align:"+this.depth+"em;",i+='">',i+=a,i+="</span>",i+="<svg ",i+='style="position:absolute;',i+="overflow:overlay;",i+="height:"+(this.height+this.depth)+"em;",i+="transform:translateY(-"+Math.round(q.toPx(this.depth,"em")+q.toPx(this.style.padding))+"px);",this.style&&this.style.padding?(i+="top:"+this.style.padding+";",i+="left:"+this.style.padding+";",i+="width:calc(100% - 2 * "+this.style.padding+" );"):(i+="top:0;",i+="left:0;",i+="width:100%;"),i+="z-index:2;",i+='"',this.svgStyle&&(i+=' style="'+this.svgStyle+'"'),i+=">",i+=this.svgOverlay,i+="</svg>"):i+=a,i+="</span>"}else i="";return this.caret&&"command"!==this.type&&("text"===this.caret?i+='<span class="ML__text-caret"></span>':i+='<span class="ML__caret"></span>'),i}},{key:"tryCoalesceWith",value:function(t){if(this.tag!==t.tag)return!1;if(this.type!==t.type)return!1;if("error"===this.type||"placeholder"===this.type||"command"===this.type)return!1;var e=this.children&&this.children.length>0,i=t.children&&t.children.length>0;if(e||i)return!1;if((this.style?this.style.length:0)!==(t.style?t.style.length:0))return!1;var a=this.classes.trim().replace(/\s+/g," ").split(" "),s=t.classes.trim().replace(/\s+/g," ").split(" ");if(a.length!==s.length)return!1;a.sort(),s.sort();for(var r=0;r<a.length;r++){if("vertical-separator"===a[r])return!1;if(a[r]!==s[r])return!1}if(this.style&&t.style)for(var n in this.style)if(Object.prototype.hasOwnProperty.call(this.style,n)&&Object.prototype.hasOwnProperty.call(t.style,n)&&this.style[n]!==t.style[n])return!1;return this.body+=t.body,this.height=Math.max(this.height,t.height),this.depth=Math.max(this.depth,t.depth),this.maxFontSize=Math.max(this.maxFontSize,t.maxFontSize),this.italic=t.italic,!0}}])}(),J={"mord+mop":3,"mord+mbin":4,"mord+mrel":5,"mord+minner":3,"mop+mord":3,"mop+mop":3,"mop+mbin":5,"mop+minner":3,"mbin+mord":4,"mbin+mop":4,"mbin+mopen":4,"mbin+minner":4,"mrel+mord":5,"mrel+mop":5,"mrel+mopen":5,"mrel+minner":5,"mclose+mop":3,"mclose+mbin":4,"mclose+mrel":5,"mclose+minner":3,"mpunct+mord":3,"mpunct+mop":3,"mpunct+mbin":4,"mpunct+mrel":5,"mpunct+mopen":3,"mpunct+mpunct":3,"mpunct+minner":3},Y=["","","","","","","","","",""],Q=["","","","","",""],tt={"mord+mop":3,"mop+mord":3,"mop+mop":3,"mclose+mop":3,"minner+mop":3};function et(t){var e=t.type;return"first"===e?"none":"textord"===e?"mord":e}function it(t){return t?Array.isArray(t)?t.reduce(function(t,e){return Math.max(t,e.height)},0):t.height:0}function at(t){return t?Array.isArray(t)?t.reduce(function(t,e){return Math.max(t,e.depth)},0):t.depth:0}function st(t,e){if(Array.isArray(t)){var i,a=[],s=c(t);try{for(s.s();!(i=s.n()).done;){var r=i.value;r&&a.push(r)}}catch(t){s.e(t)}finally{s.f()}if(1===a.length)return st(a[0],e)}return new X(t,e)}function rt(t,e,i){var a=st(e,i);return a.type=t,a}function nt(t,e){if(!e||0===e.length){if(t instanceof X)return t;if(Array.isArray(t)&&1===t.length)return t[0]}var i=new X(t,e),a=1;return a=t instanceof X?t.maxFontSize:t.reduce(function(t,e){return Math.max(t,e.maxFontSize)},0),i.height*=a,i.depth*=a,i}var ot={ams:"AMS-Regular",bb:"AMS-Regular",cal:"Caligraphic-Regular",frak:"Fraktur-Regular",scr:"Script-Regular",cmr:"Main-Regular",cmss:"SansSerif-Regular",cmtt:"Typewriter-Regular",math:"Math-Regular",mainit:"Main-Italic"},lt={ams:"ML__ams",bb:"ML__bb",cal:"ML__cal",frak:"ML__frak",scr:"ML__script",cmr:"ML__mathrm",cmss:"ML__sans",cmtt:"ML__tt",math:"ML__mathit",mainit:"ML__mainit"},ht={coalesce:function t(e){if(!e||0===e.length)return[];e[0].children=t(e[0].children);for(var i=[e[0]],a=1;a<e.length;a++)i[i.length-1].tryCoalesceWith(e[a])||(e[a].children=t(e[a].children),i.push(e[a]));return i},makeSpan:st,makeOp:function(t,e){return rt("mop",t,e)},makeOrd:function(t,e){return rt("mord",t,e)},makeRel:function(t,e){return rt("mrel",t,e)},makeClose:function(t,e){return rt("mclose",t,e)},makeOpen:function(t,e){return rt("mopen",t,e)},makeInner:function(t,e){return rt("minner",t,e)},makePunct:function(t,e){return rt("mpunct",t,e)},makeSpanOfType:rt,makeSymbol:function(t,e,i){var a=new X(e,i),s=q.getCharacterMetrics(e,t);return a.height=s.height,a.depth=s.depth,a.skew=s.skew,a.italic=s.italic,a.setRight(a.italic),a},makeVlist:function(t,e,i,a){var s=0,r=0;i=i||"shift",a=a||0;for(var n=0;n<e.length;n++)Array.isArray(e[n])&&(1===e[n].length?e[n]=e[n][0]:e[n]=st(e[n]));if("shift"===i)s=-e[0].depth-a;else if("bottom"===i)s=-a;else if("top"===i){var o,l=a,h=c(e);try{for(h.s();!(o=h.n()).done;){var d=o.value;l-=d instanceof X?d.height+d.depth:d}}catch(t){h.e(t)}finally{h.f()}s=l}else if("individualShift"===i){var u=e;e=[u[0]],s=-u[1]-u[0].depth,r=s;for(var p=2;p<u.length;p+=2){var m=-u[p+1]-r-u[p].depth;r+=m;var f=m-(u[p-2].height+u[p-2].depth);e.push(f),e.push(u[p])}}var y,g=1,b=c(e);try{for(b.s();!(y=b.n()).done;){var v=y.value;v instanceof X&&(g=Math.max(g,v.maxFontSize))}}catch(t){b.e(t)}finally{b.f()}var x=function(t,e){var i=e?e/t.mathstyle.sizeMultiplier:0,a=new X("");return 1!==i&&(a.setStyle("font-size",i,i>0?"em":""),a.attributes={"aria-hidden":!0}),"size5"!==t.size?new X(a,"fontsize-ensurer reset-"+t.size+" size5"):0!==i?a:null}(t,g),k=[];r=s;var w,S=c(e);try{for(S.s();!(w=S.n()).done;){var A=w.value;if("number"==typeof A)r+=A;else{var M=st([x,A]);M.setTop(-A.depth-r),k.push(M),r+=A.height+A.depth}}}catch(t){S.e(t)}finally{S.f()}var C=st(k,"vlist");return C.depth=Math.max(s,at(C)||0),C.height=Math.max(-r,it(C)||0),C},makeHlist:nt,makeStyleWrap:function(t,e,i,a,s){s=s||"";var r=nt(e,(s+=" style-wrap ")+i.adjustTo(a));r.type=t;var n=a.sizeMultiplier/i.sizeMultiplier;return r.height*=n,r.depth*=n,r.maxFontSize=a.sizeMultiplier,r},makeSVG:function(t,e,i){return t.svgOverlay=e,t.svgStyle=i,t},height:it,depth:at,skew:function(t){if(!t)return 0;if(Array.isArray(t)){var e,i=0,a=c(t);try{for(a.s();!(e=a.n()).done;){var s=e.value;i+=s.skew||0}}catch(t){a.e(t)}finally{a.f()}return i}return t.skew},italic:function(t){return t?Array.isArray(t)?t[t.length-1].italic:t.italic:0}},ct="",dt={},ut={},pt={},mt="CRYPTIC",ft="COMMON",yt="SUPERCOMMON",gt={CRYPTIC:0,ARCANE:200,VERY_RARE:600,RARE:1200,UNCOMMON:2e3,COMMON:3e3,SUPERCOMMON:4e3};function bt(t){for(var e="string"==typeof t?gt[t]:t,i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];for(var r=0,n=a;r<n.length;r++){var o=n[r];dt[o]&&(dt[o].frequency=e),ut[o]&&(ut[o]=Object.assign({},ut[o]),ut[o].frequency=e)}}function vt(t,e,i,a,s){e&&/^(ams|cmr|bb|cal|frak|scr)$/.test(e),"string"==typeof s&&(s=gt[s]),dt[t]={type:i===Tt?Lt:i,baseFontFamily:e,value:a,category:ct,frequency:s}}function xt(t,e){for(var i=t;i<=e;i++){var a=String.fromCodePoint(i);vt(a,"","mord",a)}}var kt={8739:"|",183:"\\cdot",188:"\\frac{1}{4}",189:"\\frac{1}{2}",190:"\\frac{3}{4}",8304:"^{0}",8305:"^{i}",185:"^{1}",178:"^{2}",179:"^{3}",8308:"^{4}",8309:"^{5}",8310:"^{6}",8311:"^{7}",8312:"^{8}",8313:"^{9}",8314:"^{+}",8315:"^{-}",8316:"^{=}",8319:"^{n}",8320:"_{0}",8321:"_{1}",8322:"_{2}",8323:"_{3}",8324:"_{4}",8325:"_{5}",8326:"_{6}",8327:"_{7}",8328:"_{8}",8329:"_{9}",8330:"_{+}",8331:"_{-}",8332:"_{=}",8336:"_{a}",8337:"_{e}",8338:"_{o}",8339:"_{x}",8242:"\\prime",8243:"\\doubleprime",8736:"\\angle",8450:"\\C",8469:"\\N",8473:"\\P",8474:"\\Q",8477:"\\R",8484:"\\Z"};function wt(t,e){var i=String.fromCodePoint(e);if("math"===t&&kt[i])return kt[i];if(e>32&&e<127)return i;var a="";if("math"===t){for(var s in dt)if(Object.prototype.hasOwnProperty.call(dt,s)&&dt[s].value===i){a=s;break}}else for(var r in Wt)if(Object.prototype.hasOwnProperty.call(Wt,r)&&Wt[r]===i){a=r;break}return a||i}var St={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},At=[{start:119808,len:26,offset:65,style:"bold"},{start:119834,len:26,offset:97,style:"bold"},{start:119860,len:26,offset:65,style:"italic"},{start:119886,len:26,offset:97,style:"italic"},{start:119912,len:26,offset:65,style:"bolditalic"},{start:119938,len:26,offset:97,style:"bolditalic"},{start:119964,len:26,offset:65,variant:"script"},{start:119990,len:26,offset:97,variant:"script"},{start:120016,len:26,offset:65,variant:"script",style:"bold"},{start:120042,len:26,offset:97,variant:"script",style:"bold"},{start:120068,len:26,offset:65,variant:"fraktur"},{start:120094,len:26,offset:97,variant:"fraktur"},{start:120172,len:26,offset:65,variant:"fraktur",style:"bold"},{start:120198,len:26,offset:97,variant:"fraktur",style:"bold"},{start:120120,len:26,offset:65,variant:"double-struck"},{start:120146,len:26,offset:97,variant:"double-struck"},{start:120224,len:26,offset:65,variant:"sans-serif"},{start:120250,len:26,offset:97,variant:"sans-serif"},{start:120276,len:26,offset:65,variant:"sans-serif",style:"bold"},{start:120302,len:26,offset:97,variant:"sans-serif",style:"bold"},{start:120328,len:26,offset:65,variant:"sans-serif",style:"italic"},{start:120354,len:26,offset:97,variant:"sans-serif",style:"italic"},{start:120380,len:26,offset:65,variant:"sans-serif",style:"bolditalic"},{start:120406,len:26,offset:97,variant:"sans-serif",style:"bolditalic"},{start:120432,len:26,offset:65,variant:"monospace"},{start:120458,len:26,offset:97,variant:"monospace"},{start:120488,len:25,offset:913,style:"bold"},{start:120514,len:25,offset:945,style:"bold"},{start:120546,len:25,offset:913,style:"italic"},{start:120572,len:25,offset:945,style:"italic"},{start:120604,len:25,offset:913,style:"bolditalic"},{start:120630,len:25,offset:945,style:"bolditalic"},{start:120662,len:25,offset:913,variant:"sans-serif",style:"bold"},{start:120688,len:25,offset:945,variant:"sans-serif",style:"bold"},{start:120720,len:25,offset:913,variant:"sans-serif",style:"bolditalic"},{start:120746,len:25,offset:945,variant:"sans-serif",style:"bolditalic"},{start:120782,len:10,offset:48,variant:"",style:"bold"},{start:120792,len:10,offset:48,variant:"double-struck"},{start:120803,len:10,offset:48,variant:"sans-serif"},{start:120812,len:10,offset:48,variant:"sans-serif",style:"bold"},{start:120822,len:10,offset:48,variant:"monospace"}];function Mt(t){var e=t;if("string"==typeof t&&(e=t.codePointAt(0)),(e<119808||e>120831)&&(e<8448||e>8527))return{char:t};for(var i in St)if(Object.prototype.hasOwnProperty.call(St,i)&&St[i]===e){e=i;break}for(var a=0;a<At.length;a++)if(e>=At[a].start&&e<At[a].start+At[a].len)return{char:String.fromCodePoint(e-At[a].start+At[a].offset),variant:At[a].variant,style:At[a].style};return{char:t}}function Ct(t,e){if("text"===t)return String.fromCodePoint(e);var i;if(kt[e])return kt[e];var a=Mt(e);return a.style||a.variant?(i=a.char,a.variant&&(i="\\"+a.variant+"{"+i+"}"),"bold"===a.style?i="\\mathbf{"+i+"}":"italic"===a.style?i="\\mathit{"+i+"}":"bolditalic"===a.style&&(i="\\mathbf{\\mathit{"+i+"}}"),"\\mathord{"+i+"}"):wt(t,e)}var _t="ams",Tt="mord",Lt="mord",Ft="mbin",Dt="mrel",zt="mopen",Et="mclose",qt="spacing";function It(t,e){var i=t.match(/=(.+)/),a="{}",s="auto",r=null;return i&&(a=i[1]),i=t.match(/:([^=]+)/),i&&(s=i[1].trim()),i=t.match(/^([^:=]+)/),i&&(r=i[1].trim()),{optional:e,type:s,defaultValue:a,placeholder:r}}function Pt(t){if(!t||0===t.length)return[];var e=[],i=t.split("]");if("["===i[0].charAt(0)){e.push(It(i[0].slice(1),!0));for(var a=1;a<=i.length;a++)e=e.concat(Pt(i[a]))}else if(i=t.split("}"),"{"===i[0].charAt(0)){e.push(It(i[0].slice(1),!1));for(var s=1;s<=i.length;s++)e=e.concat(Pt(i[s]))}return e}function Bt(t){return t.map(function(t){return t.body}).join("")}function Ot(t,e,i,a){"string"==typeof t&&(t=[t]),i||(i={});var s,r=Pt(e),n={category:ct,params:r,parser:a,mathstyle:"displaystyle",tabular:i.tabular||!0,colFormat:i.colFormat||[]},o=c(t);try{for(o.s();!(s=o.n()).done;){var l=s.value;pt[l]=n}}catch(t){o.e(t)}finally{o.f()}}function Rt(t,e,i,a){"string"==typeof t&&(t=[t]),i||(i={});var s,r={category:ct,baseFontFamily:i.fontFamily,params:Pt(e),allowedInText:!!i.allowedInText,infix:!!i.infix,parse:a},n=c(t);try{for(n.s();!(s=n.n()).done;){var o=s.value;ut[o]=r}}catch(t){n.e(t)}finally{n.f()}}ct="Environments",Ot("math","",{frequency:0},function(){return{mathstyle:"textstyle"}}),Ot("displaymath","",{frequency:8},function(){return{mathstyle:"displaystyle"}}),Ot("array","{columns:colspec}",{frequency:ft},function(t,e){return{colFormat:e[0],mathstyle:"textstyle"}}),Ot("eqnarray","",{},function(){return{}}),Ot("equation","",{},function(){return{colFormat:[{align:"c"}]}}),Ot("subequations","",{},function(){return{colFormat:[{align:"c"}]}}),Ot("multline","",{},function(){return{firstRowFormat:[{align:"l"}],colFormat:[{align:"c"}],lastRowFormat:[{align:"r"}]}}),Ot(["align","aligned"],"",{},function(t,e,i){var a,s=0,r=c(i);try{for(r.s();!(a=r.n()).done;){var n=a.value;s=Math.max(s,n.length)}}catch(t){r.e(t)}finally{r.f()}for(var o=[{gap:0},{align:"r"},{gap:0},{align:"l"}],l=2;l<s;)o.push({gap:1}),o.push({align:"r"}),o.push({gap:0}),o.push({align:"l"}),l+=2;return o.push({gap:0}),{colFormat:o,jot:.3}}),Ot("split","",{},function(){return{}}),Ot(["gather","gathered"],"",{},function(){return{colFormat:[{gap:.25},{align:"c"},{gap:0}],jot:.3}}),Ot(["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","smallmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*","smallmatrix*"],"[columns:colspec]",{},function(t,e){var i={mathstyle:"textstyle"};switch(t){case"pmatrix":case"pmatrix*":i.lFence="(",i.rFence=")";break;case"bmatrix":case"bmatrix*":i.lFence="[",i.rFence="]";break;case"Bmatrix":case"Bmatrix*":i.lFence="\\lbrace",i.rFence="\\rbrace";break;case"vmatrix":case"vmatrix*":i.lFence="\\vert",i.rFence="\\vert";break;case"Vmatrix":case"Vmatrix*":i.lFence="\\Vert",i.rFence="\\Vert";break;case"smallmatrix":case"smallmatrix*":i.mathstyle="scriptstyle";break;case"matrix":case"matrix*":i.lFence=".",i.rFence="."}return i.colFormat=e[0]||[{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"},{align:"c"}],i}),Ot("cases","",{},function(){return{arraystretch:1.2,lFence:"\\lbrace",rFence:".",colFormat:[{align:"l"},{gap:1},{align:"l"}]}}),Ot("theorem","",{},function(){return{}}),Ot("center","",{},function(){return{colFormat:[{align:"c"}]}}),ct="",function(){for(var t=0;t<13;t++){var e="0123456789/@.".charAt(t);vt(e,"",Lt,e)}}(),xt(65,90),xt(97,122),ct="Trigonometry",Rt(["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],"",null,function(t){return{type:"mop",limits:"nolimits",symbol:!1,isFunction:!0,body:t.slice(1),baseFontFamily:"cmr"}}),bt(yt,"\\cos","\\sin","\\tan"),bt("UNCOMMON","\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arcsec","\\arccsc"),bt("UNCOMMON","\\arsinh","\\arccosh","\\arctanh","\\arcsech","\\arccsch"),bt("UNCOMMON","\\arg","\\ch","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\lg","\\lb","\\sec","\\sinh","\\sh","\\tanh","\\tg","\\th"),ct="Functions",Rt(["\\deg","\\dim","\\exp","\\hom","\\ker","\\lb","\\lg","\\ln","\\log"],"",null,function(t){return{type:"mop",limits:"nolimits",symbol:!1,isFunction:!0,body:t.slice(1),baseFontFamily:"cmr"}}),bt(yt,"\\ln","\\log","\\exp"),bt(292,"\\hom"),bt(ft,"\\dim"),bt(ft,"\\ker","\\deg"),Rt(["\\lim","\\mod"],"",null,function(t){return{type:"mop",limits:"limits",symbol:!1,body:t.slice(1),baseFontFamily:"cmr"}}),Rt(["\\det","\\max","\\min"],"",null,function(t){return{type:"mop",limits:"limits",symbol:!1,isFunction:!0,body:t.slice(1),baseFontFamily:"cmr"}}),bt(yt,"\\lim"),bt(ft,"\\det"),bt(ft,"\\mod"),bt(ft,"\\min"),bt(ft,"\\max"),ct="Decoration",Rt("\\rule","[raise:dimen]{width:dimen}{thickness:dimen}",null,function(t,e){return{type:"rule",shift:e[0],width:e[1],height:e[2]}}),Rt("\\color","{:color}",{allowedInText:!0},function(t,e){return{color:e[0]}}),Rt("\\textcolor","{:color}{content:auto*}",{allowedInText:!0},function(t,e){return{color:e[0]}}),bt(3,"\\textcolor"),Rt("\\overline","{:auto}",null,function(t,e){return{type:"line",position:"overline",skipBoundary:!0,body:e[0]}}),bt(ft,"\\overline"),Rt("\\underline","{:auto}",null,function(t,e){return{type:"line",position:"underline",skipBoundary:!0,body:e[0]}}),bt(ft,"\\underline"),Rt("\\overset","{annotation:auto}{symbol:auto}",null,function(t,e){return{type:"overunder",overscript:e[0],skipBoundary:!0,body:e[1]}}),bt(ft,"\\overset"),Rt("\\underset","{annotation:auto}{symbol:auto}",null,function(t,e){return{type:"overunder",underscript:e[0],skipBoundary:!0,body:e[1]}}),bt(ft,"\\underset"),Rt(["\\stackrel","\\stackbin"],"{annotation:auto}{symbol:auto}",null,function(t,e){return{type:"overunder",overscript:e[0],skipBoundary:!0,body:e[1],mathtype:"\\stackrel"===t?"mrel":"mbin"}}),bt(ft,"\\stackrel"),bt(0,"\\stackbin"),Rt("\\rlap","{:auto}",null,function(t,e){return{type:"overlap",align:"right",skipBoundary:!0,body:e[0]}}),bt(270,"\\rlap"),Rt("\\llap","{:auto}",null,function(t,e){return{type:"overlap",align:"left",skipBoundary:!0,body:e[0]}}),bt(18,"\\llap"),Rt("\\mathrlap","{:auto}",null,function(t,e){return{type:"overlap",mode:"math",align:"right",skipBoundary:!0,body:e[0]}}),bt(mt,"\\mathrlap"),Rt("\\mathllap","{:auto}",null,function(t,e){return{type:"overlap",mode:"math",align:"left",skipBoundary:!0,body:e[0]}}),bt(mt,"\\mathllap"),Rt("\\boxed","{content:math}",null,function(t,e){return{type:"box",framecolor:"black",skipBoundary:!0,body:e[0]}}),bt(1236,"\\boxed"),Rt("\\colorbox","{background-color:color}{content:auto}",{allowedInText:!0},function(t,e){return{type:"box",backgroundcolor:e[0],skipBoundary:!0,body:e[1]}}),bt(mt,"\\colorbox"),Rt("\\fcolorbox","{frame-color:color}{background-color:color}{content:auto}",{allowedInText:!0},function(t,e){return{type:"box",framecolor:e[0],backgroundcolor:e[1],skipBoundary:!0,body:e[2]}}),bt(mt,"\\fcolorbox"),Rt("\\bbox","[:bbox]{body:auto}",{allowedInText:!0},function(t,e){return e[0]?{type:"box",padding:e[0].padding,border:e[0].border,backgroundcolor:e[0].backgroundcolor,skipBoundary:!0,body:e[1]}:{type:"box",skipBoundary:!0,body:e[1]}}),bt(mt,"\\bbox"),Rt("\\enclose","{notation:string}[style:string]{body:auto}",null,function(t,e){var i=e[0]||[],a={type:"enclose",strokeColor:"currentColor",strokeWidth:1,strokeStyle:"solid",backgroundcolor:"transparent",padding:"auto",shadow:"auto",captureSelection:!0,body:e[2]};if(e[1]){var s,r=e[1].split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/),n=c(r);try{for(n.s();!(s=n.n()).done;){var o=s.value,l=o.match(/\s*(\S+)\s+(\S+)\s+(.*)/);if(l)a.strokeWidth=q.toPx(l[1],"px"),isFinite(a.strokeWidth)||(a.strokeWidth=1),a.strokeStyle=l[2],a.strokeColor=l[3];else{var h=o.match(/\s*([a-z]*)\s*=\s*"(.*)"/);h&&("mathbackground"===h[1]?a.backgroundcolor=h[2]:"mathcolor"===h[1]?a.strokeColor=h[2]:"padding"===h[1]?a.padding=q.toPx(h[2],"px"):"shadow"===h[1]&&(a.shadow=h[2]))}}}catch(t){n.e(t)}finally{n.f()}"dashed"===a.strokeStyle?a.svgStrokeStyle="5,5":"dotted"===a.strokeStyle&&(a.svgStrokeStyle="1,5")}a.borderStyle=a.strokeWidth+"px "+a.strokeStyle+" "+a.strokeColor,i=i.toString().split(/[, ]/).filter(function(t){return t.length>0}).map(function(t){return t.toLowerCase()}),a.notation={};var d,u=c(i);try{for(u.s();!(d=u.n()).done;){var p=d.value;a.notation[p]=!0}}catch(t){u.e(t)}finally{u.f()}return a.notation.updiagonalarrow&&(a.notation.updiagonalstrike=!1),a.notation.box&&(a.notation.left=!1,a.notation.right=!1,a.notation.bottom=!1,a.notation.top=!1),a}),bt(mt,"\\enclose"),Rt("\\cancel","{body:auto}",null,function(t,e){return{type:"enclose",strokeColor:"currentColor",strokeWidth:1,strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",notation:{updiagonalstrike:!0},body:e[0]}}),Rt("\\bcancel","{body:auto}",null,function(t,e){return{type:"enclose",strokeColor:"currentColor",strokeWidth:1,strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",notation:{downdiagonalstrike:!0},body:e[0]}}),Rt("\\xcancel","{body:auto}",null,function(t,e){return{type:"enclose",strokeColor:"currentColor",strokeWidth:1,strokeStyle:"solid",borderStyle:"1px solid currentColor",backgroundcolor:"transparent",padding:"auto",shadow:"auto",notation:{updiagonalstrike:!0,downdiagonalstrike:!0},body:e[0]}}),bt(mt,"\\cancel","\\bcancel","\\xcancel"),ct="Styling",Rt(["\\tiny","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],"",{allowedInText:!0},function(t,e){return{fontSize:{tiny:"size1",scriptsize:"size2",footnotesize:"size3",small:"size4",normalsize:"size5",large:"size6",Large:"size7",LARGE:"size8",huge:"size9",Huge:"size10"}[t.slice(1)]}}),Rt("\\fontseries","{:text}",{allowedInText:!0},function(t,e){return{fontSeries:Bt(e[0])}}),Rt("\\bf","",{allowedInText:!0},function(t,e){return{fontSeries:"b"}}),Rt("\\bm","{:math*}",{allowedInText:!0},function(t,e){return{fontSeries:"b"}}),Rt("\\bold","",{allowedInText:!0},function(t,e){return{mode:"math",fontSeries:"b"}}),Rt(["\\mathbf","\\boldsymbol"],"{:math*}",{allowedInText:!0},function(t,e){return{mode:"math",fontSeries:"b",fontShape:"n"}}),Rt("\\bfseries","",{allowedInText:!0},function(t,e){return{fontSeries:"b"}}),Rt("\\textbf","{:text*}",{allowedInText:!0},function(t,e){return{fontSeries:"b"}}),Rt("\\mathmd","{:math*}",{allowedInText:!0},function(t,e){return{mode:"math",fontSeries:"m",fontShape:"n"}}),Rt("\\mdseries","",{allowedInText:!0},function(t,e){return{fontSeries:"m"}}),Rt("\\textmd","{:math*}",{allowedInText:!0},function(t,e){return{fontSeries:"m"}}),Rt("\\fontshape","{:text}",{allowedInText:!0},function(t,e){return{fontShape:Bt(e[0])}}),Rt("\\it","",{allowedInText:!0},function(t,e){return{fontShape:"it"}}),Rt("\\mathit","{:math*}",{allowedInText:!0},function(t,e){return{mode:"math",fontSeries:"m",fontShape:"it"}}),Rt("\\upshape","",{allowedInText:!0},function(t,e){return{fontShape:"n"}}),Rt("\\textup","{:text*}",{allowedInText:!0},function(t,e){return{fontShape:"n"}}),Rt("\\textit","{:text*}",{allowedInText:!0},function(t,e){return{fontShape:"it"}}),Rt("\\slshape","",{allowedInText:!0},function(t,e){return{fontShape:"sl"}}),Rt("\\textsl","{:text*}",{allowedInText:!0},function(t,e){return{fontShape:"sl"}}),Rt("\\scshape","",{allowedInText:!0},function(t,e){return{mode:"text",fontShape:"sc"}}),Rt("\\textsc","{:text*}",{allowedInText:!0},function(t,e){return{fontShape:"sc"}}),Rt("\\fontfamily","{:text}",{allowedInText:!0},function(t,e){return{fontFamily:Bt(e[0])}}),Rt("\\mathrm","{:math*}",{allowedInText:!0},function(t,e){return{mode:"math",fontFamily:"cmr",fontSeries:"m",fontShape:"n"}}),Rt("\\rmfamily","",{allowedInText:!0},function(t,e){return{fontFamily:"cmr"}}),Rt("\\textrm","{:text*}",{allowedInText:!0},function(t,e){return{fontFamily:"cmr"}}),Rt("\\mathsf","{:math*}",{allowedInText:!0},function(t,e){return{mode:"math",baseFontFamily:"cmss",fontSeries:"m",fontShape:"n"}}),Rt("\\sffamily","",{allowedInText:!0},function(t,e){return{fontFamily:"cmss"}}),Rt("\\textsf","{:text*}",{allowedInText:!0},function(t,e){return{fontFamily:"cmss"}}),Rt("\\mathtt","{:math*}",{allowedInText:!0},function(t,e){return{mode:"math",baseFontFamily:"cmtt",fontSeries:"m",fontShape:"n"}}),Rt("\\ttfamily","",{allowedInText:!0},function(t,e){return{fontFamily:"cmtt"}}),Rt("\\texttt","{:text*}",{allowedInText:!0},function(t,e){return{fontFamily:"cmtt"}}),Rt(["\\Bbb","\\mathbb"],"{:math*}",{allowedInText:!0},function(t,e){return{mode:"math",baseFontFamily:"bb"}}),Rt(["\\frak","\\mathfrak"],"{:math*}",{allowedInText:!0},function(t,e){return{baseFontFamily:"frak"}}),Rt("\\mathcal","{:math*}",{allowedInText:!0},function(t,e){return{mode:"math",baseFontFamily:"cal",fontSeries:"m",fontShape:"n"}}),Rt("\\mathscr","{:math*}",{allowedInText:!0},function(t,e){return{mode:"math",baseFontFamily:"scr",fontSeries:"m",fontShape:"n"}}),bt(yt,"\\mathbb"),bt(1081,"\\Bbb"),bt(0,"\\mathcal"),bt(ft,"\\mathfrak"),bt(271,"\\frak"),bt(ft,"\\mathscr"),bt("UNCOMMON","\\mathsf"),bt(ft,"\\mathtt"),bt(ft,"\\boldsymbol"),Rt("\\textnormal","{:text*}",{allowedInText:!0},function(t,e){return{fontFamily:"cmr",fontShape:"n",fontSeries:"n"}}),Rt("\\mbox","{:text*}",null,function(t,e){return{fontFamily:"cmr"}}),Rt("\\text","{:text*}",{allowedInText:!0},function(t,e){return{}}),Rt("\\class","{name:text}{content:auto*}",{allowedInText:!0},function(t,e){return{cssClass:Bt(e[0])}}),Rt("\\cssId","{id:text}{content:auto}",{allowedInText:!0},function(t,e){return{cssId:Bt(e[0]),body:e[1],type:"group"}}),Rt("\\em","",{allowedInText:!0},function(t,e){return{cssClass:"ML__emph",type:"group"}}),Rt("\\emph","{:auto}",{allowedInText:!0},function(t,e){return{cssClass:"ML__emph",body:e[0],type:"group",skipBoundary:!0}}),bt(ft,"\\textrm"),bt(ft,"\\textit"),bt(ft,"\\textsf"),bt(ft,"\\texttt"),bt(433,"\\textnormal"),bt(ft,"\\textbf"),bt(421,"\\textup"),bt(819,"\\emph"),bt(49,"\\em"),ct="Operators",Rt("\\sqrt","[index:auto]{radicand:auto}",null,function(t,e){return{type:"surd",body:e[1],index:e[0]}}),bt(yt,"\\sqrt"),ct="Fractions",Rt(["\\frac","\\dfrac","\\tfrac","\\cfrac","\\binom","\\dbinom","\\tbinom"],"{numerator}{denominator}",null,function(t,e){var i={type:"genfrac",numer:e[0],denom:e[1],mathstyle:"auto"};switch(t){case"\\dfrac":case"\\frac":case"\\tfrac":case"\\cfrac":i.hasBarLine=!0;break;case"\\\\atopfrac":i.hasBarLine=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":i.hasBarLine=!1,i.leftDelim="(",i.rightDelim=")"}switch(t){case"\\dfrac":case"\\dbinom":i.mathstyle="displaystyle";break;case"\\tfrac":case"\\tbinom":i.mathstyle="textstyle"}return"\\cfrac"===t&&(i.continuousFraction=!0),i}),Rt(["\\over","\\atop","\\choose"],"",{infix:!0},function(t,e){var i=e[0],a=e[1],s=!1,r=null,n=null;switch(t){case"\\atop":break;case"\\over":s=!0;break;case"\\choose":s=!1,r="(",n=")";break;default:throw new Error("Unrecognized genfrac command")}return{type:"genfrac",numer:i,denom:a,hasBarLine:s,leftDelim:r,rightDelim:n,mathstyle:"auto"}}),bt(21,"\\over"),bt(12,"\\atop"),bt(1968,"\\choose"),Rt(["\\overwithdelims","\\atopwithdelims"],"{left-delim:delim}{right-delim:delim}",{infix:!0},function(t,e){return{type:"genfrac",numer:e[0],denom:e[1],hasBarLine:!1,leftDelim:e[2],rightDelim:e[3],mathstyle:"auto"}}),bt(15,"\\overwithdelims"),bt(ft,"\\atopwithdelims"),ct="Fractions",Rt("\\pdiff","{numerator}{denominator}",null,function(t,e){return{type:"genfrac",numer:e[0],denom:e[1],numerPrefix:"",denomPrefix:"",hasBarLine:!0,leftDelim:null,rightDelim:null,mathstyle:"auto"}}),ct="Quantifiers",vt("\\forall","",Lt,"",yt),vt("\\exists","",Lt,"",yt),vt("\\nexists",_t,Lt,"",yt),vt("\\mid","",Dt,"",ft),vt("\\top","",Lt,"","RARE"),vt("\\bot","",Lt,"","RARE"),ct="Variable Sized Symbols",Rt(["\\sum","\\prod","\\bigcup","\\bigcap","\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\\intop"],"",null,function(t){return{type:"mop",limits:"auto",symbol:!0,baseFontFamily:"cmr",body:{coprod:"",bigvee:"",bigwedge:"",biguplus:"",bigcap:"",bigcup:"",intop:"",prod:"",sum:"",bigotimes:"",bigoplus:"",bigodot:"",bigsqcup:"",smallint:""}[t.slice(1)]}}),Rt(["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\\intclockwise","\\varointclockwise","\\ointctrclockwise","\\intctrclockwise"],"",null,function(t){return{type:"mop",limits:"nolimits",symbol:!0,body:{int:"",iint:"",iiint:"",oint:"",oiint:"",oiiint:"",intclockwise:"",varointclockwise:"",ointctrclockwise:"",intctrclockwise:""}[t.slice(1)]}}),bt(yt,"\\sum","\\prod","\\bigcap","\\bigcup","\\int"),bt(ft,"\\bigoplus","\\smallint","\\iint","\\oint"),bt("RARE","\\bigwedge","\\bigvee"),bt(756,"\\coprod"),bt(723,"\\bigsqcup"),bt(1241,"\\bigotimes"),bt(150,"\\bigodot"),bt(174,"\\biguplus"),bt(878,"\\iiint"),bt(97,"\\intop"),ct="Various",vt("\\sharp","",Lt,"",ft),vt("\\flat","",Lt,"",590),vt("\\natural","",Lt,"",278),vt("\\#","",Lt,"#","RARE"),vt("\\&","",Lt,"&","RARE"),vt("\\clubsuit","",Lt,"",172),vt("\\heartsuit","",Lt,"","ARCANE"),vt("\\spadesuit","",Lt,"","ARCANE"),vt("\\diamondsuit","",Lt,"",mt),vt("\\differencedelta","",Dt,"",ft),ct="Letters and Letter Like Forms",Rt("\\unicode","{charcode:number}",null,function(t,e){var i=parseInt(e[0]);return isFinite(i)||(i=10067),{type:"mord",body:String.fromCodePoint(i)}}),vt("\\backslash","",Lt,"\\"),vt("?","",Lt,"?"),vt("!","",Lt,"!"),vt("\\nabla","",Lt,"",yt),vt("\\partial","",Lt,"",yt),vt("\\ell","",Lt,"",ft),vt("\\imaginaryI","",Lt,"i"),vt("\\imaginaryJ","",Lt,"j"),Rt(["\\Re","\\Im"],"",null,function(t){return{type:"mop",limits:"nolimits",symbol:!1,isFunction:!0,body:{"\\Re":"","\\Im":""}[t],baseFontFamily:"frak"}}),vt("\\hbar","",Lt,"",ft),vt("\\hslash",_t,Lt,"",ft),vt("\\differentialD","cmr",Lt,"d"),vt("\\rd","cmr",Lt,"d"),vt("\\capitalDifferentialD","cmr",Lt,"D"),vt("\\rD","cmr",Lt,"D"),vt("\\exponentialE","cmr",Lt,"e"),vt("\\Finv",_t,Lt,"",3),vt("\\Game",_t,Lt,"",1),vt("\\wp","",Lt,"",1306),vt("\\eth",_t,Lt,"",77),vt("\\mho",_t,Lt,"",138),vt("\\Bbbk",_t,Lt,"k"),vt("\\doubleStruckCapitalN","bb",Lt,"N"),vt("\\N","bb",Lt,"N"),vt("\\doubleStruckCapitalR","bb",Lt,"R"),vt("\\R","bb",Lt,"R"),vt("\\doubleStruckCapitalQ","bb",Lt,"Q"),vt("\\Q","bb",Lt,"Q"),vt("\\doubleStruckCapitalC","bb",Lt,"C"),vt("\\C","bb",Lt,"C"),vt("\\doubleStruckCapitalZ","bb",Lt,"Z"),vt("\\Z","bb",Lt,"Z"),vt("\\doubleStruckCapitalP","bb",Lt,"P"),vt("\\P","bb",Lt,"P"),vt("\\scriptCapitalE","scr",Lt,"E"),vt("\\scriptCapitalH","scr",Lt,"H"),vt("\\scriptCapitalL","scr",Lt,"L"),vt("\\gothicCapitalC","frak",Lt,"C"),vt("\\gothicCapitalH","frak",Lt,"H"),vt("\\gothicCapitalI","frak",Lt,"I"),vt("\\gothicCapitalR","frak",Lt,"R"),vt("\\pounds","",Lt,"",509),vt("\\yen",_t,Lt,"",57),vt("\\euro","",Lt,"",4),ct="Crosses",vt("\\textdagger","",Ft,""),vt("\\dagger","",Ft,"",ft),vt("\\dag","",Ft,"",ft),vt("\\ddag","",Ft,"",500),vt("\\textdaggerdbl","",Ft,""),vt("\\ddagger","",Ft,"",353),vt("\\maltese",_t,Lt,"",24),ct="Arrows",vt("\\longrightarrow","",Dt,"",yt),vt("\\rightarrow","",Dt,"",yt),vt("\\Longrightarrow","",Dt,"",yt),vt("\\Rightarrow","",Dt,"",yt),vt("\\longmapsto","",Dt,"",ft),vt("\\mapsto","",Dt,"",ft),vt("\\Longleftrightarrow","",Dt,"",ft),vt("\\rightleftarrows",_t,Dt,"",ft),vt("\\leftarrow","",Dt,"",ft),vt("\\curvearrowleft",_t,Dt,"",ft),vt("\\uparrow","",Dt,"",ft),vt("\\downarrow","",Dt,"",ft),vt("\\hookrightarrow","",Dt,"",ft),vt("\\rightharpoonup","",Dt,"",ft),vt("\\rightleftharpoons","",Dt,"",ft),vt("\\Leftarrow","",Dt,"",1695),vt("\\longleftrightarrow","",Dt,"",1599),vt("\\longleftarrow","",Dt,"",878),vt("\\Longleftarrow","",Dt,"",296),vt("\\searrow","",Dt,"",1609),vt("\\nearrow","",Dt,"",1301),vt("\\swarrow","",Dt,"",167),vt("\\nwarrow","",Dt,"",108),vt("\\Uparrow","",Dt,"",257),vt("\\Downarrow","",Dt,"",556),vt("\\updownarrow","",Dt,"",192),vt("\\Updownarrow","",Dt,"",161),vt("\\hookleftarrow","",Dt,"",115),vt("\\leftharpoonup","",Dt,"",93),vt("\\leftharpoondown","",Dt,"",42),vt("\\rightharpoondown","",Dt,"",80),vt("\\leftrightarrows",_t,Dt,"",765),vt("\\dashrightarrow",_t,Dt,"",311),vt("\\dashleftarrow",_t,Dt,"",5),vt("\\leftleftarrows",_t,Dt,"",8),vt("\\Lleftarrow",_t,Dt,"",7),vt("\\twoheadleftarrow",_t,Dt,"",32),vt("\\leftarrowtail",_t,Dt,"",25),vt("\\looparrowleft",_t,Dt,"",6),vt("\\leftrightharpoons",_t,Dt,"",205),vt("\\circlearrowleft",_t,Dt,"",105),vt("\\Lsh",_t,Dt,"",11),vt("\\upuparrows",_t,Dt,"",15),vt("\\downharpoonleft",_t,Dt,"",21),vt("\\multimap",_t,Dt,"",108),vt("\\leftrightsquigarrow",_t,Dt,"",31),vt("\\twoheadrightarrow",_t,Dt,"",835),vt("\\rightarrowtail",_t,Dt,"",195),vt("\\looparrowright",_t,Dt,"",37),vt("\\curvearrowright",_t,Dt,"",209),vt("\\circlearrowright",_t,Dt,"",63),vt("\\Rsh",_t,Dt,"",18),vt("\\downdownarrows",_t,Dt,"",6),vt("\\upharpoonright",_t,Dt,"",579),vt("\\downharpoonright",_t,Dt,"",39),vt("\\rightsquigarrow",_t,Dt,"",674),vt("\\leadsto",_t,Dt,"",709),vt("\\Rrightarrow",_t,Dt,"",62),vt("\\restriction",_t,Dt,"",29),vt("\\upharpoonleft",_t,Dt,"",mt),vt("\\rightrightarrows",_t,Dt,"",mt),ct="Negated Arrows",vt("\\nrightarrow",_t,Dt,"",324),vt("\\nRightarrow",_t,Dt,"",107),vt("\\nleftrightarrow",_t,Dt,"",36),vt("\\nLeftrightarrow",_t,Dt,"",20),vt("\\nleftarrow",_t,Dt,"",7),vt("\\nLeftarrow",_t,Dt,"",5),ct="Negated Relations",vt("\\nless",_t,Dt,"",146),vt("\\nleqslant",_t,Dt,"",58),vt("\\lneq",_t,Dt,"",54),vt("\\lneqq",_t,Dt,"",36),vt("\\nleqq",_t,Dt,"",18),vt("\\unlhd",_t,Ft,"",253),vt("\\unrhd",_t,Ft,"",66),vt("\\lvertneqq",_t,Dt,"",6),vt("\\lnsim",_t,Dt,"",4),vt("\\lnapprox",_t,Dt,"",mt),vt("\\nprec",_t,Dt,"",71),vt("\\npreceq",_t,Dt,"",57),vt("\\precnsim",_t,Dt,"",4),vt("\\precnapprox",_t,Dt,"",2),vt("\\nsim",_t,Dt,"",40),vt("\\nshortmid",_t,Dt,"",1),vt("\\nmid",_t,Dt,"",417),vt("\\nvdash",_t,Dt,"",266),vt("\\nvDash",_t,Dt,"",405),vt("\\ngtr",_t,Dt,"",90),vt("\\ngeqslant",_t,Dt,"",23),vt("\\ngeqq",_t,Dt,"",12),vt("\\gneq",_t,Dt,"",29),vt("\\gneqq",_t,Dt,"",35),vt("\\gvertneqq",_t,Dt,"",6),vt("\\gnsim",_t,Dt,"",3),vt("\\gnapprox",_t,Dt,"",mt),vt("\\nsucc",_t,Dt,"",44),vt("\\nsucceq",_t,Dt,"",mt),vt("\\succnsim",_t,Dt,"",4),vt("\\succnapprox",_t,Dt,"",mt),vt("\\ncong",_t,Dt,"",128),vt("\\nshortparallel",_t,Dt,"",6),vt("\\nparallel",_t,Dt,"",54),vt("\\nVDash",_t,Dt,"",5),vt("\\nsupseteqq",_t,Dt,"",1),vt("\\supsetneq",_t,Dt,"",286),vt("\\varsupsetneq",_t,Dt,"",2),vt("\\supsetneqq",_t,Dt,"",49),vt("\\varsupsetneqq",_t,Dt,"",3),vt("\\nVdash",_t,Dt,"",179),vt("\\precneqq",_t,Dt,"",11),vt("\\succneqq",_t,Dt,"",3),vt("\\nsubseteqq",_t,Dt,"",16),ct="Various",vt("\\checkmark",_t,Lt,"",1025),vt("\\diagup",_t,Lt,"",440),vt("\\diagdown",_t,Lt,"",175),vt("\\measuredangle",_t,Lt,"",271),vt("\\sphericalangle",_t,Lt,"",156),vt("\\backprime",_t,Lt,"",104),vt("\\backdoubleprime",_t,Lt,"",mt),ct="Shapes",vt("\\ast","",Ft,"",yt),vt("\\star","",Ft,"",ft),vt("\\diamond","",Ft,"",1356),vt("\\Diamond",_t,Lt,"",695),vt("\\lozenge",_t,Lt,"",422),vt("\\blacklozenge",_t,Lt,"",344),vt("\\bigstar",_t,Lt,"",168),ct="Hebrew",vt("\\aleph","",Lt,"",1381),vt("\\beth",_t,Lt,"",54),vt("\\daleth",_t,Lt,"",43),vt("\\gimel",_t,Lt,"",36),ct="Fences",vt("\\lbrace","",zt,"{",yt),vt("\\rbrace","",Et,"}",yt),vt("\\langle","",zt,"",ft),vt("\\rangle","",Et,"",ft),vt("\\lfloor","",zt,"",ft),vt("\\rfloor","",Et,"",ft),vt("\\lceil","",zt,"",ft),vt("\\rceil","",Et,"",ft),vt("\\vert","",Lt,"",yt),vt("\\mvert","",Dt,""),vt("\\lvert","",zt,"",496),vt("\\rvert","",Et,"",496),vt("\\|","",Lt,""),vt("\\Vert","",Lt,"",yt),vt("\\mVert","",Lt,""),vt("\\lVert","",zt,"",287),vt("\\rVert","",Et,"",mt),vt("\\lbrack","",zt,"[",574),vt("\\rbrack","",Et,"]",213),vt("\\{","",zt,"{"),vt("\\}","",Et,"}"),vt("(","",zt,"("),vt(")","",Et,")"),vt("[","",zt,"["),vt("]","",Et,"]"),vt("\\ulcorner",_t,zt,"",296),vt("\\urcorner",_t,Et,"",310),vt("\\llcorner",_t,zt,"",137),vt("\\lrcorner",_t,Et,"",199),vt("\\lgroup","",zt,"",24),vt("\\rgroup","",Et,"",24),vt("\\lmoustache","",zt,"",mt),vt("\\rmoustache","",Et,"",mt),Rt(["\\middle"],"{:delim}",null,function(t,e){return{type:"delim",delim:e[0]}}),ct="Sizing";var Kt={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}};function Nt(t){var e,i="",a=!0,s=c(t);try{for(s.s();!(e=s.n()).done;){var r=e.value;"string"==typeof r.body?i+=r.body:a=!1}}catch(t){s.e(t)}finally{s.f()}return a?i:""}Rt(["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],"{:delim}",null,function(t,e){return{type:"sizeddelim",size:Kt[t].size,cls:Kt[t].mclass,delim:e[0]}}),ct="Relations",vt("=","",Dt,"=",yt),vt("\\ne","",Dt,"",yt),vt("\\neq","",Dt,"",ft),vt("<","",Dt,"<",yt),vt("\\lt","",Dt,"<",ft),vt(">","",Dt,">",yt),vt("\\gt","",Dt,">",ft),vt("\\le","",Dt,"",ft),vt("\\ge","",Dt,"",ft),vt("\\leqslant",_t,Dt,"",yt),vt("\\geqslant",_t,Dt,"",yt),vt("\\leq","",Dt,"",ft),vt("\\geq","",Dt,"",ft),vt("\\ll","",Dt,""),vt("\\gg","",Dt,"",ft),vt("\\coloneq","",Dt,"",5),vt("\\measeq","",Dt,""),vt("\\eqdef","",Dt,""),vt("\\questeq","",Dt,""),vt(":","",Dt,":"),vt("\\cong","",Dt,"",ft),vt("\\equiv","",Dt,"",ft),vt("\\prec","",Dt,"",ft),vt("\\preceq","",Dt,"",ft),vt("\\succ","",Dt,"",ft),vt("\\succeq","",Dt,"",1916),vt("\\perp","",Dt,"",ft),vt("\\parallel","",Dt,"",ft),vt("\\propto","",Dt,"",ft),vt("\\Colon","",Dt,""),vt("\\smile","",Dt,"",ft),vt("\\frown","",Dt,"",ft),vt("\\sim","",Dt,"",ft),vt("\\gtrsim",_t,Dt,"",ft),vt("\\approx","",Dt,"",yt),vt("\\approxeq",_t,Dt,"",147),vt("\\thickapprox",_t,Dt,"",377),vt("\\lessapprox",_t,Dt,"",146),vt("\\gtrapprox",_t,Dt,"",95),vt("\\precapprox",_t,Dt,"",50),vt("\\succapprox",_t,Dt,"",mt),vt("\\thicksim",_t,Dt,"",779),vt("\\succsim",_t,Dt,"",251),vt("\\precsim",_t,Dt,"",104),vt("\\backsim",_t,Dt,"",251),vt("\\eqsim",_t,Dt,"",62),vt("\\backsimeq",_t,Dt,"",91),vt("\\simeq","",Dt,"",mt),vt("\\lesssim",_t,Dt,"",mt),vt("\\nleq",_t,Dt,"",369),vt("\\ngeq",_t,Dt,"",164),vt("\\smallsmile",_t,Dt,"",31),vt("\\smallfrown",_t,Dt,"",71),vt("\\bowtie","",Dt,"",558),vt("\\asymp","",Dt,"",755),vt("\\sqsubseteq","",Dt,"",1255),vt("\\sqsupseteq","",Dt,"",183),vt("\\leqq",_t,Dt,"",1356),vt("\\eqslantless",_t,Dt,"",15),vt("\\lll",_t,Dt,"",157),vt("\\lessgtr",_t,Dt,"",281),vt("\\lesseqgtr",_t,Dt,"",134),vt("\\lesseqqgtr",_t,Dt,"",mt),vt("\\risingdotseq",_t,Dt,"",8),vt("\\fallingdotseq",_t,Dt,"",99),vt("\\subseteqq",_t,Dt,"",82),vt("\\Subset",_t,Dt,""),vt("\\sqsubset",_t,Dt,"",309),vt("\\preccurlyeq",_t,Dt,"",549),vt("\\curlyeqprec",_t,Dt,"",14),vt("\\vDash",_t,Dt,"",646),vt("\\Vvdash",_t,Dt,"",20),vt("\\bumpeq",_t,Dt,"",13),vt("\\Bumpeq",_t,Dt,"",12),vt("\\geqq",_t,Dt,"",972),vt("\\eqslantgtr",_t,Dt,"",13),vt("\\ggg",_t,Dt,"",127),vt("\\gtrless",_t,Dt,"",417),vt("\\gtreqless",_t,Dt,"",190),vt("\\gtreqqless",_t,Dt,"",91),vt("\\supseteqq",_t,Dt,"",6),vt("\\Supset",_t,Dt,"",34),vt("\\sqsupset",_t,Dt,"",71),vt("\\succcurlyeq",_t,Dt,"",442),vt("\\curlyeqsucc",_t,Dt,"",10),vt("\\Vdash",_t,Dt,"",276),vt("\\shortmid",_t,Dt,"",67),vt("\\shortparallel",_t,Dt,"",17),vt("\\between",_t,Dt,"",110),vt("\\pitchfork",_t,Dt,"",66),vt("\\varpropto",_t,Dt,"",203),vt("\\backepsilon",_t,Dt,"",176),vt("\\llless",_t,Dt,"",mt),vt("\\gggtr",_t,Dt,"",mt),vt("\\lhd",_t,Ft,"",447),vt("\\rhd",_t,Ft,"",338),vt("\\Join","",Dt,"",35),vt("\\doteq","",Dt,"",1450),vt("\\doteqdot",_t,Dt,"",60),vt("\\Doteq",_t,Dt,"",mt),vt("\\eqcirc",_t,Dt,"",6),vt("\\circeq",_t,Dt,"",31),vt("\\lessdot",_t,Ft,"",88),vt("\\gtrdot",_t,Ft,"",45),vt("\\~","",Dt,"~"),ct="Logic",vt("\\leftrightarrow","",Dt,"",yt),vt("\\Leftrightarrow","",Dt,"",yt),vt("\\to","",Dt,"",yt),vt("\\models","",Dt,"",ft),vt("\\vdash","",Dt,"",ft),vt("\\therefore",_t,Dt,"",1129),vt("\\because",_t,Dt,"",388),vt("\\implies","",Dt,"",1858),vt("\\gets","",Dt,"",150),vt("\\dashv","",Dt,"",299),vt("\\impliedby","",Dt,"",mt),vt("\\biconditional","",Dt,"",mt),vt("\\roundimplies","",Dt,"",mt),ct="Operators",vt("+","",Ft,"+",yt),vt("-","",Ft,"",yt),vt("","",Ft,"",yt),vt("\\pm","",Ft,"",ft),vt("\\mp","",Ft,"",ft),vt("*","",Ft,"",ft),vt("\\times","",Ft,"",ft),vt("\\div","",Ft,"",ft),vt("\\surd","",Lt,"",ft),vt("\\divides","",Ft,"",mt),vt("\\ltimes",_t,Ft,"",576),vt("\\rtimes",_t,Ft,"",946),vt("\\leftthreetimes",_t,Ft,"",34),vt("\\rightthreetimes",_t,Ft,"",14),vt("\\intercal",_t,Ft,"",478),vt("\\dotplus",_t,Ft,"",81),vt("\\centerdot",_t,Ft,"",271),vt("\\doublebarwedge",_t,Ft,"",5),vt("\\divideontimes",_t,Ft,"",51),vt("\\cdot","",Ft,"",mt),ct="Others",vt("\\infty","",Lt,"",yt),vt("\\prime","",Tt,"",yt),vt("\\doubleprime","",Lt,""),vt("\\angle","",Lt,"",ft),vt("`","",Lt,""),vt("\\$","",Lt,"$"),vt("\\%","",Lt,"%"),vt("\\_","",Lt,"_"),ct="Greek",vt("\\alpha","",Tt,"",ft),vt("\\beta","",Tt,"",ft),vt("\\gamma","",Tt,"",ft),vt("\\delta","",Tt,"",ft),vt("\\epsilon","",Tt,"",ft),vt("\\varepsilon","",Tt,""),vt("\\zeta","",Tt,"",ft),vt("\\eta","",Tt,"",ft),vt("\\theta","",Tt,"",ft),vt("\\vartheta","",Tt,"",ft),vt("\\iota","",Tt,"",ft),vt("\\kappa","",Tt,"",ft),vt("\\varkappa",_t,Tt,"",ft),vt("\\lambda","",Tt,"",ft),vt("\\mu","",Tt,"",ft),vt("\\nu","",Tt,"",ft),vt("\\xi","",Tt,"",ft),vt("\\omicron","",Tt,"o"),vt("\\pi","",Tt,"",ft),vt("\\varpi","",Tt,"",ft),vt("\\rho","",Tt,"",ft),vt("\\varrho","",Tt,"",ft),vt("\\sigma","",Tt,"",ft),vt("\\varsigma","",Tt,"",ft),vt("\\tau","",Tt,"",ft),vt("\\phi","",Tt,"",ft),vt("\\varphi","",Tt,"",ft),vt("\\upsilon","",Tt,"",ft),vt("\\chi","",Tt,"",ft),vt("\\psi","",Tt,"",ft),vt("\\omega","",Tt,"",ft),vt("\\Gamma","",Tt,"",ft),vt("\\Delta","",Tt,"",ft),vt("\\Theta","",Tt,"",ft),vt("\\Lambda","",Tt,"",ft),vt("\\Xi","",Tt,"",ft),vt("\\Pi","",Tt,"",ft),vt("\\Sigma","",Tt,"",ft),vt("\\Upsilon","",Tt,"",ft),vt("\\Phi","",Tt,"",ft),vt("\\Psi","",Tt,"",ft),vt("\\Omega","",Tt,"",ft),vt("\\digamma",_t,Tt,"",248),ct="Others",vt("\\emptyset","",Lt,"",yt),vt("\\varnothing",_t,Lt,"",yt),ct="Set Operators",vt("\\cap","",Ft,"",yt),vt("\\cup","",Ft,"",yt),vt("\\setminus","",Ft,"",ft),vt("\\smallsetminus",_t,Ft,"",254),vt("\\complement",_t,Lt,"",200),ct="Set Relations",vt("\\in","",Dt,"",yt),vt("\\notin","",Dt,"",yt),vt("\\not","",Dt,"",ft),vt("\\ni","",Dt,"",ft),vt("\\owns","",Dt,"",18),vt("\\subset","",Dt,"",yt),vt("\\supset","",Dt,"",yt),vt("\\subseteq","",Dt,"",yt),vt("\\supseteq","",Dt,"",yt),vt("\\subsetneq",_t,Dt,"",1945),vt("\\varsubsetneq",_t,Dt,"",198),vt("\\subsetneqq",_t,Dt,"",314),vt("\\varsubsetneqq",_t,Dt,"",55),vt("\\nsubset",_t,Dt,"",mt),vt("\\nsupset",_t,Dt,"",mt),vt("\\nsubseteq",_t,Dt,"",950),vt("\\nsupseteq",_t,Dt,"",49),ct="Spacing",vt("\\ ","",qt," "),vt("~","",qt," "),vt("\\space","",qt," "),vt("\\!","",qt,null),vt("\\,","",qt,null),vt("\\:","",qt,null),vt("\\;","",qt,null),vt("\\enskip","",qt,null),vt("\\enspace","",qt,null,672),vt("\\quad","",qt,null,ft),vt("\\qquad","",qt,null,ft),Rt(["\\hspace","\\hspace*"],"{width:skip}",{allowedInText:!0},function(t,e){return{type:"spacing",width:e[0]||0}}),Rt(["\\mathop","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathord","\\mathinner"],"{:auto}",null,function(t,e){var i={type:{"\\mathop":"mop","\\mathbin":"mbin","\\mathrel":"mrel","\\mathopen":"mopen","\\mathclose":"mclose","\\mathpunct":"mpunct","\\mathord":"mord","\\mathinner":"minner"}[t],body:Nt(e[0])||e[0],captureSelection:!0,baseFontFamily:"\\mathop"===t?"math":""};return"\\mathop"===t&&(i.limits="nolimits",i.isFunction=!0),i}),Rt(["\\operatorname","\\operatorname*"],"{operator:string}",null,function(t,e){var i={type:"mop",skipBoundary:!0,body:e[0],isFunction:!0,baseFontFamily:"cmr"};return"\\operatorname"===t?i.limits="nolimits":"\\operatorname*"===t&&(i.limits="limits"),i}),ct="Punctuation",vt("\\colon","","mpunct",":",ft),vt("\\cdotp","","mpunct","",ft),vt("\\ldots","","minner","",ft),vt("\\cdots","","minner","",ft),vt("\\ddots","","minner","",ft),vt("\\mathellipsis","","minner","",91),vt("\\vdots","",Lt,"",ft),vt("\\ldotp","","mpunct",".",18),vt(",","","mpunct",","),vt(";","","mpunct",";"),ct="Logical Operators",vt("\\wedge","",Ft,"",yt),vt("\\vee","",Ft,"",yt),vt("\\lnot","",Lt,"",ft),vt("\\neg","",Lt,"",yt),vt("\\land","",Ft,"",659),vt("\\lor","",Ft,"",364),vt("\\barwedge",_t,Ft,"",21),vt("\\veebar",_t,Ft,"",43),vt("\\nor",_t,Ft,"",7),vt("\\curlywedge",_t,Ft,"",58),vt("\\curlyvee",_t,Ft,"",57),ct="Boxes",vt("\\square",_t,Lt,"",ft),vt("\\Box",_t,Lt,"",ft),vt("\\blacksquare",_t,Lt,"",1679),vt("\\boxminus",_t,Ft,"",79),vt("\\boxplus",_t,Ft,"",276),vt("\\boxtimes",_t,Ft,"",457),vt("\\boxdot",_t,Ft,"",120),ct="Circles",vt("\\circ","",Ft,"",yt),vt("\\bigcirc","",Ft,"",903),vt("\\bullet","",Ft,"",ft),vt("\\circleddash",_t,Ft,"",ft),vt("\\circledast",_t,Ft,"",339),vt("\\oplus","",Ft,"",ft),vt("\\ominus","",Ft,"",1568),vt("\\otimes","",Ft,"",ft),vt("\\odot","",Ft,"",ft),vt("\\circledcirc",_t,Ft,"",93),vt("\\oslash","",Ft,"",497),vt("\\circledS",_t,Lt,"",31),vt("\\circledR",_t,Lt,"",1329),ct="Triangles",vt("\\triangle","",Lt,"",ft),vt("\\triangleq",_t,Dt,"",ft),vt("\\bigtriangleup","",Ft,"",1773),vt("\\vartriangle",_t,Dt,"",762),vt("\\triangledown",_t,Lt,"",520),vt("\\bigtriangledown","",Ft,"",661),vt("\\triangleleft","",Ft,"",534),vt("\\vartriangleleft",_t,Dt,"",281),vt("\\trianglelefteq",_t,Dt,"",176),vt("\\ntriangleleft",_t,Dt,"",13),vt("\\ntrianglelefteq",_t,Dt,"",22),vt("\\triangleright","",Ft,"",516),vt("\\vartriangleright",_t,Dt,"",209),vt("\\trianglerighteq",_t,Dt,"",45),vt("\\ntriangleright",_t,Dt,"",15),vt("\\ntrianglerighteq",_t,Dt,"",6),vt("\\blacktriangle",_t,Lt,"",360),vt("\\blacktriangledown",_t,Lt,"",159),vt("\\blacktriangleleft",_t,Dt,"",101),vt("\\blacktriangleright",_t,Dt,"",271),ct="Others",vt("\\/","",Tt,"/"),vt("|","","textord",""),ct="Big Operators",vt("\\sqcup","",Ft,"",1717),vt("\\sqcap","",Ft,"",735),vt("\\uplus","",Ft,"",597),vt("\\wr","",Ft,"",286),vt("\\Cap",_t,Ft,"",2),vt("\\Cup",_t,Ft,"",2),vt("\\doublecap",_t,Ft,"",1),vt("\\doublecup",_t,Ft,"",1),vt("\\amalg","",Ft,"",mt),vt("\\And","",Ft,"&"),ct="Accents",Rt(["\\acute","\\grave","\\dot","\\ddot","\\mathring","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec"],"{body:auto}",null,function(t,e){return{type:"accent",accent:{"\\acute":"","\\grave":"","\\dot":"","\\ddot":"","\\mathring":"","\\tilde":"~","\\bar":"","\\breve":"","\\check":"","\\hat":"^","\\vec":""}[t],limits:"accent",skipBoundary:!0,body:e[0]}}),bt(ft,"\\bar","\\ddot","\\acute","\\tilde","\\check"),bt(1548,"\\breve"),bt(735,"\\grave"),bt(yt,"\\vec"),ct="Letters and Letter Like Forms",vt("\\imath","",Lt,""),vt("\\jmath","",Lt,""),ct="Others",vt("\\degree","",Lt,"",46),ct="Others",vt("'","",Lt,""),vt('"',"",Lt,""),ct="Others",Rt("\\^","{:string}",{allowedInText:!0},function(t,e){return{type:"mord",limits:"nolimits",symbol:!0,isFunction:!1,body:e[0]&&{a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[e[0]]||"^",baseFontFamily:"cmr"}}),Rt("\\`","{:string}",{allowedInText:!0},function(t,e){return{type:"mord",limits:"nolimits",symbol:!0,isFunction:!1,body:e[0]&&{a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[e[0]]||"`",baseFontFamily:"cmr"}}),Rt("\\'","{:string}",{allowedInText:!0},function(t,e){return{type:"mord",limits:"nolimits",symbol:!0,isFunction:!1,body:e[0]&&{a:"",e:"",i:"",o:"",u:"",A:"",E:"",I:"",O:"",U:""}[e[0]]||"^",baseFontFamily:"cmr"}}),Rt("\\~","{:string}",{allowedInText:!0},function(t,e){return{type:"mord",limits:"nolimits",symbol:!0,isFunction:!1,body:e[0]&&{n:"",N:"",a:"",o:"",A:"",O:""}[e[0]]||"",baseFontFamily:"cmr"}}),Rt("\\c","{:string}",{allowedInText:!0},function(t,e){return{type:"mord",limits:"nolimits",symbol:!0,isFunction:!1,body:e[0]&&{c:"",C:""}[e[0]]||"",baseFontFamily:"cmr"}});var Wt={"\\#":"#","\\&":"&","\\$":"$","\\%":"%","\\_":"_","\\euro":"","\\maltese":"","\\{":"{","\\}":"}","\\nobreakspace":" ","\\ldots":"","\\textellipsis":"","\\backslash":"\\","`":"","'":"","``":"","''":"","\\degree":"","\\textasciicircum":"^","\\textasciitilde":"~","\\textasteriskcentered":"*","\\textbackslash":"\\","\\textbraceleft":"{","\\textbraceright":"}","\\textbullet":"","\\textdollar":"$","\\textsterling":"","":"","":"","":"","":"","":"","":"",'"':"","\\ss":"","\\ae":"","\\oe":"","\\AE":"","\\OE":"","\\O":"","\\i":"","\\j":"","\\aa":"","\\AA":""},$t="undefined"!=typeof navigator&&/firefox|edge/i.test(navigator.userAgent)?/[a-zA-Z]/:new RegExp("\\p{Letter}","u"),Ht="undefined"!=typeof navigator&&/firefox|edge/i.test(navigator.userAgent)?/[0-9a-zA-Z]/:new RegExp("[0-9\\p{Letter}]","u"),Vt={matchCodepoint:wt,commandAllowed:function(t,e){return!(!ut[e]||"text"===t&&!ut[e].allowedInText)||!!{text:Wt,math:dt}[t][e]},unicodeToMathVariant:Mt,mathVariantToUnicode:function(t,e,i){if(!/[A-Za-z0-9]/.test(t))return t;if(!e&&!i)return t;for(var a=t.codePointAt(0),s=0;s<At.length;s++)if((!e||At[s].variant===e)&&(!i||At[s].style===i)&&a>=At[s].offset&&a<At[s].offset+At[s].len){var r=At[s].start+a-At[s].offset;return String.fromCodePoint(St[r]||r)}return t},unicodeStringToLatex:function(t,e){var i,a="",s=c(e);try{for(s.s();!(i=s.n()).done;){var r=i.value;a+=Ct(t,r.codePointAt(0))}}catch(t){s.e(t)}finally{s.f()}return a},getInfo:function(t,e,i){if(0===t.length)return null;var a=null;if("\\"===t.charAt(0)){if(a=ut[t],a)return"math"===e||a.allowedInText?a:null;if(a||("math"===e?a=dt[t]:Wt[t]&&(a={value:Wt[t]})),!a){var s=t.slice(1);if(i&&i[s]){var r=i[s];"object"==h(r)&&(r=r.def);var n=0;for(/(^|[^\\])#1/.test(r)&&(n=1),/(^|[^\\])#2/.test(r)&&(n=2),/(^|[^\\])#3/.test(r)&&(n=3),/(^|[^\\])#4/.test(r)&&(n=4),/(^|[^\\])#5/.test(r)&&(n=5),/(^|[^\\])#6/.test(r)&&(n=6),/(^|[^\\])#7/.test(r)&&(n=7),/(^|[^\\])#8/.test(r)&&(n=8),/(^|[^\\])#9/.test(r)&&(n=9),a={type:"group",allowedInText:!1,params:[],infix:!1};n>=1;)a.params.push({optional:!1,type:"math",defaultValue:null,placeholder:null}),n-=1}}}else"math"===e?a=dt[t]:Wt[t]&&(a={value:Wt[t]});return!a||"mord"!==a.type||"f"!==a.value&&"g"!==a.value&&"h"!==a.value||(a.isFunction=!0),a},getValue:function(t,e){return"math"===t?dt[e]&&dt[e].value?dt[e].value:e:Wt[e]?Wt[e]:e},getEnvironmentInfo:function(t){var e=pt[t];return e||(e={params:"",parser:null,mathstyle:"displaystyle",tabular:!0,colFormat:[],lFence:".",rFence:"."}),e},suggest:function(t){if(t.length<=1)return[];var e=[];for(var i in ut)Object.prototype.hasOwnProperty.call(ut,i)&&i.startsWith(t)&&!ut[i].infix&&e.push({match:i,frequency:ut[i].frequency});for(var a in dt)Object.prototype.hasOwnProperty.call(dt,a)&&a.startsWith(t)&&e.push({match:a,frequency:dt[a].frequency});return e.sort(function(t,e){return t.frequency===e.frequency?t.match.length-e.match.length:(e.frequency||0)-(t.frequency||0)}),e},FREQUENCY_VALUE:gt,TEXT_SYMBOLS:Wt,MATH_SYMBOLS:dt,ENVIRONMENTS:pt,RIGHT_DELIM:{"(":")","{":"}","[":"]","|":"|","\\lbrace":"\\rbrace","\\{":"\\}","\\langle":"\\rangle","\\lfloor":"\\rfloor","\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache"},FUNCTIONS:ut,MACROS:{iff:"\\;\\;",nicefrac:"^{#1}\\!\\!/\\!_{#2}",bra:"\\mathinner{\\langle{#1}|}",ket:"\\mathinner{|{#1}\\rangle}",braket:"\\mathinner{\\langle{#1}\\rangle}",set:"\\mathinner{\\lbrace #1 \\rbrace}",Bra:"\\left\\langle #1\\right|",Ket:"\\left|#1\\right\\rangle",Braket:"\\left\\langle{#1}\\right\\rangle",Set:"\\left\\lbrace #1 \\right\\rbrace"},COMMAND_MODE_CHARACTERS:/[a-zA-Z0-9!@*()-=+{}[\]\\';:?/.,~<>`|'$%#&^_" ]/,LETTER:$t,LETTER_AND_DIGITS:Ht},Ut=ht.makeSymbol,jt=ht.makeSpan,Gt=ht.makeVlist;function Zt(t,e,i,a,s,r){var n=Ut("Size"+i+"-Regular",Vt.getValue("math",e)),o=ht.makeStyleWrap(t,jt(n,"delimsizing size"+i),s.mathstyle,U.TEXT,r);return a&&o.setTop((1-s.mathstyle.sizeMultiplier)*s.mathstyle.metrics.axisHeight),o.setStyle("color",s.color),"number"==typeof s.opacity&&o.setStyle("opacity",s.opacity),o}function Xt(t,e){var i="";return"Size1-Regular"===e?i=" delim-size1":"Size4-Regular"===e&&(i=" delim-size4"),jt(Ut(e,Vt.getValue("math",t)),"delimsizinginner"+i)}function Jt(t,e,i,a,s,r){var n,o,l,h;n=l=h=Vt.getValue("math",e),o=null;var c="Size1-Regular";"\\vert"===e||"\\lvert"===e||"\\rvert"===e||"\\mvert"===e||"\\mid"===e?l=n=h="":"\\Vert"===e||"\\lVert"===e||"\\rVert"===e||"\\mVert"===e||"\\|"===e?l=n=h="":"\\uparrow"===e?l=h="":"\\Uparrow"===e?l=h="":"\\downarrow"===e?n=l="":"\\Downarrow"===e?n=l="":"\\updownarrow"===e?(n="",l="",h=""):"\\Updownarrow"===e?(n="",l="",h=""):"["===e||"\\lbrack"===e?(n="",l="",h="",c="Size4-Regular"):"]"===e||"\\rbrack"===e?(n="",l="",h="",c="Size4-Regular"):"\\lfloor"===e?(l=n="",h="",c="Size4-Regular"):"\\lceil"===e?(n="",l=h="",c="Size4-Regular"):"\\rfloor"===e?(l=n="",h="",c="Size4-Regular"):"\\rceil"===e?(n="",l=h="",c="Size4-Regular"):"("===e?(n="",l="",h="",c="Size4-Regular"):")"===e?(n="",l="",h="",c="Size4-Regular"):"\\{"===e||"\\lbrace"===e?(n="",o="",h="",l="",c="Size4-Regular"):"\\}"===e||"\\rbrace"===e?(n="",o="",h="",l="",c="Size4-Regular"):"\\lgroup"===e?(n="",h="",l="",c="Size4-Regular"):"\\rgroup"===e?(n="",h="",l="",c="Size4-Regular"):"\\lmoustache"===e?(n="",h="",l="",c="Size4-Regular"):"\\rmoustache"===e?(n="",h="",l="",c="Size4-Regular"):"\\surd"===e?(n="",h="",l="",c="Size4-Regular"):"\\ulcorner"===e?(n="",l=h=" "):"\\urcorner"===e?(n="",l=h=" "):"\\llcorner"===e?(h="",l=n=" "):"\\lrcorner"===e&&(n="",l=n=" ");var d=q.getCharacterMetrics(Vt.getValue("math",n),c),u=d.height+d.depth,p=q.getCharacterMetrics(Vt.getValue("math",l),c),m=p.height+p.depth,f=q.getCharacterMetrics(Vt.getValue("math",h),c),y=f.height+f.depth,g=0,b=1;if(null!==o){var v=q.getCharacterMetrics(Vt.getValue("math",o),c);g=v.height+v.depth,b=2}var x=u+y+g,k=Math.ceil((i-x)/(b*m)),w=x+k*b*m,S=s.mathstyle.metrics.axisHeight;a&&(S*=s.mathstyle.sizeMultiplier);var A=w/2-S,M=[];if(M.push(Xt(h,c)),null===o)for(var C=0;C<k;C++)M.push(Xt(l,c));else{for(var _=0;_<k;_++)M.push(Xt(l,c));M.push(Xt(o,c));for(var T=0;T<k;T++)M.push(Xt(l,c))}M.push(Xt(n,c));var L=Gt(s,M,"bottom",A);return L.setStyle("color",s.color),"number"==typeof s.opacity&&L.setStyle("opacity",s.opacity),ht.makeStyleWrap(t,jt(L,"delimsizing mult"),s.mathstyle,U.TEXT,r)}var Yt=["(",")","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\\lceil","\\rceil","\\surd"],Qt=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\mvert","\\mid","\\lgroup","\\rgroup","\\lmoustache","\\rmoustache"],te=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],ee=[0,1.2,1.8,2.4,3],ie=[{type:"small",mathstyle:U.SCRIPTSCRIPT},{type:"small",mathstyle:U.SCRIPT},{type:"small",mathstyle:U.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],ae=[{type:"small",mathstyle:U.SCRIPTSCRIPT},{type:"small",mathstyle:U.SCRIPT},{type:"small",mathstyle:U.TEXT},{type:"stack"}],se=[{type:"small",mathstyle:U.SCRIPTSCRIPT},{type:"small",mathstyle:U.SCRIPT},{type:"small",mathstyle:U.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}];function re(t,e,i,a,s,r){if(!e||0===e.length||"."===e)return ne(t,s,t);var n;"<"===e||"\\lt"===e?e="\\langle":">"!==e&&"\\gt"!==e||(e="\\rangle"),n=te.includes(e)?ie:Yt.includes(e)?se:ae;var o=function(t,e,i,a){for(var s=Math.min(2,3-a.mathstyle.size);s<i.length&&"stack"!==i[s].type;s++){var r=q.getCharacterMetrics(t,"small"===(o=i[s]).type?"Main-Regular":"large"===o.type?"Size"+o.size+"-Regular":"Size4-Regular");if(r.defaultMetrics)return{type:"small",mathstyle:U.SCRIPT};var n=r.height+r.depth;if("small"===i[s].type&&(n*=i[s].mathstyle.sizeMultiplier),n>e)return i[s]}var o;return i[i.length-1]}(Vt.getValue("math",e),i,n,s);return"small"===o.type?function(t,e,i,a,s,r){var n=Ut("AMS-Regular",Vt.getValue("math",e)),o=ht.makeStyleWrap(t,n,s.mathstyle,i,r);return a&&o.setTop((1-s.mathstyle.sizeMultiplier/i.sizeMultiplier)*s.mathstyle.metrics.axisHeight),o.setStyle("color",s.color),"number"==typeof s.opacity&&o.setStyle("opacity",s.opacity),o}(t,e,o.mathstyle,a,s,r):"large"===o.type?Zt(t,e,o.size,a,s,r):Jt(t,e,i,a,s,r)}function ne(t,e,i){return ht.makeSpanOfType(t,"","sizing"+e.mathstyle.adjustTo(U.TEXT)+" nulldelimiter "+(i||""))}var oe={makeSizedDelim:function(t,e,i,a,s){return"."===e?ne(t,a,s):("<"===e||"\\lt"===e?e="\\langle":">"!==e&&"\\gt"!==e||(e="\\rangle"),Yt.includes(e)||te.includes(e)?Zt(t,e,i,!1,a,s):Qt.includes(e)?Jt(t,e,ee[i],!1,a,s):null)},makeCustomSizedDelim:re,makeLeftRightDelim:function(t,e,i,a,s,r){if("."===e)return ne(t,s,r);var n=s.mathstyle.metrics.axisHeight*s.mathstyle.sizeMultiplier,o=5/q.METRICS.ptPerEm,l=a+n,h=i-n;h=Math.max(l,h);var c=901*h/500;return l=2*h-o,c=Math.max(c,l),re(t,e,c,!0,s,r)}},le=ht.makeSpan,he=ht.makeOrd,ce=ht.makeInner,de=ht.makeHlist,ue=ht.makeVlist,pe=/\u0393|\u0394|\u0398|\u039b|\u039E|\u03A0|\u03A3|\u03a5|\u03a6|\u03a8|\u03a9|[\u03b1-\u03c9]|\u03d1|\u03d5|\u03d6|\u03f1|\u03f5/,me=/^([A-Za-z]|[\u03b1-\u03c9]|\u03d1|\u03d5|\u03d6|\u03f1|\u03f5)$/,fe={size1:.5,size2:.7,size3:.8,size4:.9,size5:1,size6:1.2,size7:1.44,size8:1.73,size9:2.07,size10:2.49},ye=function(){"use strict";function t(e,i,a,s){u(this,t),this.mode=e,this.type=i,this.body=a,this.applyStyle(s)}return d(t,[{key:"getStyle",value:function(){return{color:this.phantom?"transparent":this.color,backgroundColor:this.phantom?"transparent":this.backgroundColor,fontFamily:this.baseFontFamily||this.fontFamily||this.autoFontFamily,fontShape:this.fontShape,fontSeries:this.fontSeries,fontSize:this.fontSize,cssId:this.cssId,cssClass:this.cssClass}}},{key:"applyStyle",value:function(t){if(Object.assign(this,t),"none"===this.fontFamily&&(this.fontFamily=""),"auto"===this.fontShape&&(this.fontShape=""),"auto"===this.fontSeries&&(this.fontSeries=""),"none"===this.color&&(this.color=""),"none"===this.backgroundColor&&(this.backgroundColor=""),"auto"===this.fontSize&&(this.fontSize=""),this.fontSize&&(this.maxFontSize=fe[this.fontSize]),"math"===this.mode){var e="string"==typeof this.body?this.body:"";this.autoFontFamily="cmr",me.test(e)?this.autoFontFamily="math":/\\imath|\\jmath|\\pounds/.test(e)?this.autoFontFamily="mainit":pe.test(e)||"math"!==this.baseFontFamily||(this.autoFontFamily="cmr")}else"text"===this.mode&&("root"!==this.type&&(this.type=""),delete this.baseFontFamily,delete this.autoFontFamily)}},{key:"getInitialBaseElement",value:function(){var t=this;return Array.isArray(this.body)&&this.body.length>0&&("first"!==this.body[0].type?t=this.body[0].getInitialBaseElement():this.body[1]&&(t=this.body[1].getInitialBaseElement())),t}},{key:"getFinalBaseElement",value:function(){return Array.isArray(this.body)&&this.body.length>0?this.body[this.body.length-1].getFinalBaseElement():this}},{key:"isCharacterBox",value:function(){var t=this.getInitialBaseElement();return/minner|mbin|mrel|mpunct|mopen|mclose|textord/.test(t.type)}},{key:"forEach",value:function(t){if(t(this),Array.isArray(this.body)){var e,i=c(this.body);try{for(i.s();!(e=i.n()).done;){var a=e.value;a&&a.forEach(t)}}catch(t){i.e(t)}finally{i.f()}}else this.body&&"object"==h(this.body)&&t(this.body);if(this.superscript){var s,r=c(this.superscript);try{for(r.s();!(s=r.n()).done;){var n=s.value;n&&n.forEach(t)}}catch(t){r.e(t)}finally{r.f()}}if(this.subscript){var o,l=c(this.subscript);try{for(l.s();!(o=l.n()).done;){var d=o.value;d&&d.forEach(t)}}catch(t){l.e(t)}finally{l.f()}}if(this.overscript){var u,p=c(this.overscript);try{for(p.s();!(u=p.n()).done;){var m=u.value;m&&m.forEach(t)}}catch(t){p.e(t)}finally{p.f()}}if(this.underscript){var f,y=c(this.underscript);try{for(y.s();!(f=y.n()).done;){var g=f.value;g&&g.forEach(t)}}catch(t){y.e(t)}finally{y.f()}}if(this.numer){var b,v=c(this.numer);try{for(v.s();!(b=v.n()).done;){var x=b.value;x&&x.forEach(t)}}catch(t){v.e(t)}finally{v.f()}}if(this.denom){var k,w=c(this.denom);try{for(w.s();!(k=w.n()).done;){var S=k.value;S&&S.forEach(t)}}catch(t){w.e(t)}finally{w.f()}}if(this.index){var A,M=c(this.index);try{for(M.s();!(A=M.n()).done;){var C=A.value;C&&C.forEach(t)}}catch(t){M.e(t)}finally{M.f()}}if(this.array){var _,T=c(this.array);try{for(T.s();!(_=T.n()).done;){var L,F=_.value,D=c(F);try{for(D.s();!(L=D.n()).done;){var z,E=L.value,q=c(E);try{for(q.s();!(z=q.n()).done;){var I=z.value;I.forEach(t)}}catch(t){q.e(t)}finally{q.f()}}}catch(t){D.e(t)}finally{D.f()}}}catch(t){T.e(t)}finally{T.f()}}}},{key:"filter",value:function(t){var e=[];t(this)&&e.push(this);for(var i=0,a=["body","superscript","subscript","overscript","underscript","numer","denom","index"];i<a.length;i++){var s=a[i];if(Array.isArray(this[s])){var r,n=c(this[s]);try{for(n.s();!(r=n.n()).done;){var o=r.value;o&&(e=e.concat(o.filter(t)))}}catch(t){n.e(t)}finally{n.f()}}}if(Array.isArray(this.array)){var l,h=c(this.array);try{for(h.s();!(l=h.n()).done;){var d,u=l.value,p=c(u);try{for(p.s();!(d=p.n()).done;){var m=d.value;m&&(e=e.concat(m.filter(t)))}}catch(t){p.e(t)}finally{p.f()}}}catch(t){h.e(t)}finally{h.f()}}return e}},{key:"decomposeGroup",value:function(t){var e=t.clone({mathstyle:this.mathstyle}),i=he(xe(e,this.body));return this.cssId&&(i.cssId=this.cssId),i.applyStyle({backgroundColor:this.backgroundColor,cssClass:this.cssClass}),i}},{key:"decomposeArray",value:function(t){var e=this.colFormat;e&&0===e.length&&(e=[{align:"l"}]),e||(e=[{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"},{align:"l"}]);var i,a=[],s=0,r=c(e);try{for(r.s();!(i=r.n()).done;){var n=i.value;n.align&&s++}}catch(t){r.e(t)}finally{r.f()}var o,l=c(this.array);try{for(l.s();!(o=l.n()).done;)for(var h=o.value,d=0;d<h.length;){for(var u=[],p=Math.min(h.length,d+s);d<p;)u.push(h[d++]);a.push(u)}}catch(t){l.e(t)}finally{l.f()}1===a[a.length-1].length&&0===a[a.length-1][0].length&&a.pop();for(var m=U.toMathstyle(this.mathstyle)||t.mathstyle,f=(this.arraystretch||1)*F.baselineskip,y=.7*f,g=.3*f,b=0,v=0,x=[],k=a.length,w=0;w<k;++w){var S=a[w];v=Math.max(v,S.length);for(var A=y,M=g,C=[],_=0;_<S.length;++_){var T=xe(t.clone({mathstyle:this.mathstyle}),S[_])||[],L=[he(null)].concat(T);M=Math.max(M,ht.depth(L)),A=Math.max(A,ht.height(L)),C.push(L)}var D=w===k-1?0:this.jot||0;this.rowGaps&&this.rowGaps[w]&&(D=this.rowGaps[w],D>0&&(D+=g,M<D&&(M=D),D=0)),C.height=A,C.depth=M,b+=A,C.pos=b,b+=M+D,x.push(C)}for(var z=b/2+m.metrics.axisHeight,E=[],q=0;q<v;q++){var I,P=[],B=c(x);try{for(B.s();!(I=B.n()).done;){var O=I.value,R=O[q];R&&(R.depth=O.depth,R.height=O.height,P.push(R),P.push(O.pos-z))}}catch(t){B.e(t)}finally{B.f()}P.length>0&&E.push(ue(t,P,"individualShift"))}var K,N=[],W=!1,$=!1,H=0,V=!this.lFence,j=c(e);try{for(j.s();!(K=j.n()).done;){var G=K.value;if(G.align&&H>=E.length)break;if(G.align&&H<E.length)W?N.push(ge(2*F.arraycolsep)):($||V)&&N.push(ge(F.arraycolsep)),N.push(le(E[H],"col-align-"+G.align)),H++,W=!0,$=!1,V=!1;else if(void 0!==G.gap)"number"==typeof G.gap?N.push(ge(G.gap)):N.push(be(t,x,z,G.gap)),W=!1,$=!1,V=!1;else if(G.rule){var Z=le(null,"vertical-separator");Z.setStyle("height",b,"em"),Z.setStyle("margin-top",3*t.mathstyle.metrics.axisHeight-z,"em"),Z.setStyle("vertical-align","top");var X=0;$?X=F.doubleRuleSep-F.arrayrulewidth:W&&(X=F.arraycolsep-F.arrayrulewidth),Z.setLeft(X,"em"),N.push(Z),W=!1,$=!0,V=!1}}}catch(t){j.e(t)}finally{j.f()}if(W&&!this.rFence&&N.push(ge(F.arraycolsep)),!(this.lFence&&"."!==this.lFence||this.rFence&&"."!==this.rFence))return he(N,"mtable");var J=le(N,"mtable"),Y=ht.height(J),Q=ht.depth(J);return he([this.bind(t,oe.makeLeftRightDelim("mopen",this.lFence,Y,Q,t)),J,this.bind(t,oe.makeLeftRightDelim("mclose",this.rFence,Y,Q,t))])}},{key:"decomposeGenfrac",value:function(t){var e="auto"===this.mathstyle?t.mathstyle:U.toMathstyle(this.mathstyle),i=t.clone({mathstyle:e}),a=[];this.numerPrefix&&a.push(he(this.numerPrefix));var s=this.continuousFraction?e:e.fracNum();a=a.concat(xe(i.clone({mathstyle:s}),this.numer));var r=de(a,t.mathstyle.adjustTo(s)),n=[];this.denomPrefix&&n.push(he(this.denomPrefix));var o=this.continuousFraction?e:e.fracDen();n=n.concat(xe(i.clone({mathstyle:o}),this.denom));var l,h,c,d=de(n,t.mathstyle.adjustTo(o)),u=this.hasBarLine?F.defaultRuleThickness/e.sizeMultiplier:0;e.size===U.DISPLAY.size?(l=e.metrics.num1,h=u>0?3*u:7*F.defaultRuleThickness,c=e.metrics.denom1):(u>0?(l=e.metrics.num2,h=u):(l=e.metrics.num3,h=3*F.defaultRuleThickness),c=e.metrics.denom2);var p,m=r?r.depth:0,f=d?d.height:0;if(0===u){var y=l-m-(f-c);y<h&&(l+=.5*(h-y),c+=.5*(h-y)),p=ue(i,[r,-l,d,c],"individualShift")}else{var g=e.metrics.axisHeight;l-m-(g+.5*u)<h&&(l+=h-(l-m-(g+.5*u))),g-.5*u-(f-c)<h&&(c+=h-(g-.5*u-(f-c)));var b=le(null," frac-line");b.applyStyle(this.getStyle()),b.height=u;var v=[];r&&(v.push(r),v.push(-l)),v.push(b),v.push(u/2-g),d&&(v.push(d),v.push(c)),p=ue(i,v,"individualShift")}p.classes+=" mfrac",p.height*=e.sizeMultiplier/t.mathstyle.sizeMultiplier,p.depth*=e.sizeMultiplier/t.mathstyle.sizeMultiplier;var x=e.size===U.DISPLAY.size?e.metrics.delim1:e.metrics.delim2,k=this.bind(t,oe.makeCustomSizedDelim("mopen",this.leftDelim,x,!0,t.clone({mathstyle:e}))),w=this.bind(t,oe.makeCustomSizedDelim("mclose",this.rightDelim,x,!0,t.clone({mathstyle:e})));k.applyStyle(this.getStyle()),w.applyStyle(this.getStyle());var S=he([k,p,w],t.parentSize!==t.size?"sizing reset-"+t.parentSize+" "+t.size:"");return this.bind(t,S)}},{key:"decomposeLeftright",value:function(e){if(!this.body)return this.leftDelim?new t("math","mopen",this.leftDelim).decompose(e):this.rightDelim?new t("math","mclose",this.rightDelim).decompose(e):null;var i=e.clone(),a=xe(i,this.body),s=i.mathstyle,r=0,n=0,o=[];if(r=ht.height(a)*s.sizeMultiplier,n=ht.depth(a)*s.sizeMultiplier,this.leftDelim&&(o.push(this.bind(e,oe.makeLeftRightDelim("mopen",this.leftDelim,r,n,i))),o[o.length-1].applyStyle(this.getStyle())),a){for(var l=0;l<a.length;l++)if(a[l].delim){var h=a[l].caret,c=/ML__selected/.test(a[l].classes);a[l]=this.bind(e,oe.makeLeftRightDelim("minner",a[l].delim,r,n,i)),a[l].caret=h,a[l].selected(c)}o=o.concat(a)}if(this.rightDelim){var d,u=this.rightDelim;"?"===u&&(u={"(":")","\\{":"\\}","\\[":"\\]","\\lbrace":"\\rbrace","\\langle":"\\rangle","\\lfloor":"\\rfloor","\\lceil":"\\rceil","\\vert":"\\vert","\\lvert":"\\rvert","\\Vert":"\\Vert","\\lVert":"\\rVert","\\lbrack":"\\rbrack","\\ulcorner":"\\urcorner","\\llcorner":"\\lrcorner","\\lgroup":"\\rgroup","\\lmoustache":"\\rmoustache"}[this.leftDelim],u=u||this.leftDelim,d="ML__smart-fence__close"),o.push(this.bind(e,oe.makeLeftRightDelim("mclose",u,r,n,i,d))),o[o.length-1].applyStyle(this.getStyle())}return this.inner?ce(o,s.cls()):o}},{key:"decomposeSurd",value:function(t){var e=t.mathstyle,i=xe(t.cramp(),this.body),a=F.defaultRuleThickness/e.sizeMultiplier,s=a;e.id<U.TEXT.id&&(s=e.metrics.xHeight);var r=a+s/4,n=Math.max(2*s,(ht.height(i)+ht.depth(i))*e.sizeMultiplier)+(r+a),o=le(oe.makeCustomSizedDelim("","\\surd",n,!1,t),"sqrt-sign");o.applyStyle(this.getStyle());var l=o.height+o.depth-a;l>ht.height(i)+ht.depth(i)+r&&(r=(r+l-(ht.height(i)+ht.depth(i)))/2),o.setTop(o.height-ht.height(i)-(r+a));var h=le(null,t.mathstyle.adjustTo(U.TEXT)+" sqrt-line");h.applyStyle(this.getStyle()),h.height=a;var c=ue(t,[i,r,h,a]);if(!this.index)return this.bind(t,he([o,c],"sqrt"));var d=t.clone({mathstyle:U.SCRIPTSCRIPT}),u=le(xe(d,this.index),e.adjustTo(U.SCRIPTSCRIPT)),p=Math.max(o.height,c.height),m=Math.max(o.depth,c.depth),f=ue(t,[u],"shift",-.6*(p-m));return this.bind(t,he([le(f,"root"),o,c],"sqrt"))}},{key:"decomposeAccent",value:function(t){var e=t.mathstyle,i=xe(t.cramp(),this.body);(this.superscript||this.subscript)&&(i=this.attachSupsub(t,he(i),"mord"));var a=0;Array.isArray(this.body)&&1===this.body.length&&this.body[0].isCharacterBox()&&(a=ht.skew(i));var s=Math.min(ht.height(i),e.metrics.xHeight),r=ht.makeSymbol("Main-Regular",this.accent,"math");r.italic=0;var n=""===this.accent?" accent-vec":"",o=le(le(r),"accent-body"+n);return o=ue(t,[i,-s,o]),o.children[1].setLeft(2*a),he(o,"accent")}},{key:"decomposeLine",value:function(t){var e,i=t.mathstyle,a=xe(t.cramp(),this.body),s=F.defaultRuleThickness/i.sizeMultiplier,r=le(null,t.mathstyle.adjustTo(U.TEXT)+" "+this.position+"-line");if(r.height=s,r.maxFontSize=1,"overline"===this.position)e=ue(t,[a,3*s,r,s]);else{var n=le(a);e=ue(t,[s,r,3*s,n],"top",ht.height(n))}return he(e,this.position)}},{key:"decomposeOverunder",value:function(t){var e=xe(t,this.body),i=t.clone({mathstyle:"scriptstyle"}),a=this.overscript?le(xe(i,this.overscript),t.mathstyle.adjustTo(i.mathstyle)):null,s=this.underscript?le(xe(i,this.underscript),t.mathstyle.adjustTo(i.mathstyle)):null;return ve(t,e,0,0,a,s,this.mathtype||"mrel")}},{key:"decomposeOverlap",value:function(t){var e=le(xe(t,this.body),"inner");return he([e,le(null,"fix")],"left"===this.align?"llap":"rlap")}},{key:"decomposeRule",value:function(t){var e=t.mathstyle,i=he("","rule"),a=this.shift&&!isNaN(this.shift)?this.shift:0;a/=e.sizeMultiplier;var s=this.width/e.sizeMultiplier,r=this.height/e.sizeMultiplier;return i.setStyle("border-right-width",s,"em"),i.setStyle("border-top-width",r,"em"),i.setStyle("margin-top",-(r-a),"em"),i.setStyle("border-color",t.color),i.width=s,i.height=r+a,i.depth=-a,i}},{key:"decomposeOp",value:function(t){var e,i=t.mathstyle,a=!1;i.size===U.DISPLAY.size&&"string"==typeof this.body&&"\\smallint"!==this.body&&(a=!0);var s=0,r=0;if(this.symbol){var n=a?"Size2-Regular":"Size1-Regular";e=ht.makeSymbol(n,this.body,"op-symbol "+(a?"large-op":"small-op")),e.type="mop",s=(e.height-e.depth)/2-i.metrics.axisHeight*i.sizeMultiplier,r=e.italic,this.bind(t,e)}else Array.isArray(this.body)?(e=ht.makeOp(xe(t,this.body)),this.bind(t,e)):e=this.makeSpan(t,this.body);if(this.superscript||this.subscript){var o=this.limits||"auto";return this.alwaysHandleSupSub||"limits"===o||"auto"===o&&i.size===U.DISPLAY.size?this.attachLimits(t,e,s,r):this.attachSupsub(t,e,"mop")}return this.symbol&&e.setTop(s),e}},{key:"decomposeBox",value:function(t){var e=he(xe(t,this.body)),i=le();i.setStyle("position","absolute");var a="number"==typeof this.padding?this.padding:F.fboxsep;i.setStyle("height",e.height+e.depth+2*a,"em"),0!==a?i.setStyle("width","calc(100% + "+2*a+"em)"):i.setStyle("width","100%"),i.setStyle("top",-a,"em"),i.setStyle("left",-a,"em"),i.setStyle("z-index","-1"),this.backgroundcolor&&i.setStyle("background-color",this.backgroundcolor),this.framecolor&&i.setStyle("border",F.fboxrule+"em solid "+this.framecolor),this.border&&i.setStyle("border",this.border),e.setStyle("display","inline-block"),e.setStyle("height",e.height+e.depth,"em"),e.setStyle("vertical-align",-e.depth+a,"em");var s=le([i,e]);return s.setStyle("position","relative"),s.setStyle("vertical-align",-a+e.depth,"em"),s.height=e.height+a,s.depth=e.depth+a,s.setLeft(a),s.setRight(a),s}},{key:"decomposeEnclose",value:function(t){var e=he(xe(t,this.body)),i="auto"===this.padding?.2:this.padding;e.setStyle("padding",i,"em"),e.setStyle("display","inline-block"),e.setStyle("height",e.height+e.depth,"em"),e.setStyle("left",-i,"em"),this.backgroundcolor&&"transparent"!==this.backgroundcolor&&e.setStyle("background-color",this.backgroundcolor);var a,s="";return this.notation.box&&e.setStyle("border",this.borderStyle),this.notation.actuarial&&(e.setStyle("border-top",this.borderStyle),e.setStyle("border-right",this.borderStyle)),this.notation.madruwb&&(e.setStyle("border-bottom",this.borderStyle),e.setStyle("border-right",this.borderStyle)),this.notation.roundedbox&&(e.setStyle("border-radius",(ht.height(e)+ht.depth(e))/2,"em"),e.setStyle("border",this.borderStyle)),this.notation.circle&&(e.setStyle("border-radius","50%"),e.setStyle("border",this.borderStyle)),this.notation.top&&e.setStyle("border-top",this.borderStyle),this.notation.left&&e.setStyle("border-left",this.borderStyle),this.notation.right&&e.setStyle("border-right",this.borderStyle),this.notation.bottom&&e.setStyle("border-bottom",this.borderStyle),this.notation.horizontalstrike&&(s+='<line x1="3%"  y1="50%" x2="97%" y2="50%"',s+=' stroke-width="'.concat(this.strokeWidth,'" stroke="').concat(this.strokeColor,'"'),s+=' stroke-linecap="round"',this.svgStrokeStyle&&(s+=' stroke-dasharray="'.concat(this.svgStrokeStyle,'"')),s+="/>"),this.notation.verticalstrike&&(s+='<line x1="50%"  y1="3%" x2="50%" y2="97%"',s+=' stroke-width="'.concat(this.strokeWidth,'" stroke="').concat(this.strokeColor,'"'),s+=' stroke-linecap="round"',this.svgStrokeStyle&&(s+=' stroke-dasharray="'.concat(this.svgStrokeStyle,'"')),s+="/>"),this.notation.updiagonalstrike&&(s+='<line x1="3%"  y1="97%" x2="97%" y2="3%"',s+=' stroke-width="'.concat(this.strokeWidth,'" stroke="').concat(this.strokeColor,'"'),s+=' stroke-linecap="round"',this.svgStrokeStyle&&(s+=' stroke-dasharray="'.concat(this.svgStrokeStyle,'"')),s+="/>"),this.notation.downdiagonalstrike&&(s+='<line x1="3%"  y1="3%" x2="97%" y2="97%"',s+=' stroke-width="'.concat(this.strokeWidth,'" stroke="').concat(this.strokeColor,'"'),s+=' stroke-linecap="round"',this.svgStrokeStyle&&(s+=' stroke-dasharray="'.concat(this.svgStrokeStyle,'"')),s+="/>"),s?("none"!==this.shadow&&(a="auto"===this.shadow?"filter: drop-shadow(0 0 .5px rgba(255, 255, 255, .7)) drop-shadow(1px 1px 2px #333)":"filter: drop-shadow("+this.shadow+")"),ht.makeSVG(e,s,a)):e}},{key:"decompose",value:function(t,e){var i=null;if(!this.type||/mord|minner|mbin|mrel|mpunct|mopen|mclose|textord/.test(this.type))i="string"==typeof this.body?this.makeSpan(t,this.body):this.makeSpan(t,xe(t,this.body)),i.type=this.type;else if("group"===this.type||"root"===this.type)i=this.decomposeGroup(t);else if("array"===this.type)i=this.decomposeArray(t);else if("genfrac"===this.type)i=this.decomposeGenfrac(t);else if("surd"===this.type)i=this.decomposeSurd(t);else if("accent"===this.type)i=this.decomposeAccent(t);else if("leftright"===this.type)i=this.decomposeLeftright(t);else if("delim"===this.type)i=le(null,""),i.delim=this.delim;else if("sizeddelim"===this.type)i=this.bind(t,oe.makeSizedDelim(this.cls,this.delim,this.size,t));else if("line"===this.type)i=this.decomposeLine(t);else if("overunder"===this.type)i=this.decomposeOverunder(t);else if("overlap"===this.type)i=this.decomposeOverlap(t);else if("rule"===this.type)i=this.decomposeRule(t);else if("styling"===this.type);else if("msubsup"===this.type)i=he(""),e&&(i.height=e[0].height,i.depth=e[0].depth);else if("mop"===this.type)i=this.decomposeOp(t);else if("space"===this.type)i=this.makeSpan(t," ");else if("spacing"===this.type)if(""===this.body)i=this.makeSpan(t,"");else if(" "===this.body)this.mode,i=this.makeSpan(t," ");else if(this.width)i=le("","mspace "),this.width>0?i.setWidth(this.width):i.setStyle("margin-left",this.width,"em");else{var a={qquad:"qquad",quad:"quad",enspace:"enspace",";":"thickspace",":":"mediumspace",",":"thinspace","!":"negativethinspace"}[this.body]||"quad";i=le("","mspace "+a)}else"mathstyle"===this.type?t.setMathstyle(this.mathstyle):"box"===this.type?i=this.decomposeBox(t):"enclose"===this.type?i=this.decomposeEnclose(t):"command"===this.type||"error"===this.type?(i=this.makeSpan(t,this.body),i.classes="",this.error&&(i.classes+=" ML__error"),this.suggestion&&(i.classes+=" ML__suggestion")):"placeholder"===this.type?i=this.makeSpan(t,""):"first"===this.type&&(i=this.makeSpan(t,""));if(!i)return i;if(this.caret&&"styling"!==this.type&&"msubsup"!==this.type&&"command"!==this.type&&"placeholder"!==this.type&&"first"!==this.type&&(Array.isArray(i)?i[i.length-1].caret=this.caret:i.caret=this.caret),!this.limits&&(this.superscript||this.subscript))if(Array.isArray(i)){var s=i[i.length-1];i[i.length-1]=this.attachSupsub(t,s,s.type)}else i=[this.attachSupsub(t,i,i.type)];return Array.isArray(i)?i:[i]}},{key:"attachSupsub",value:function(t,e,i){if(!this.superscript&&!this.subscript)return e;var a=t.mathstyle,s=null,r=null;if(this.superscript){var n=xe(t.sup(),this.superscript);s=le(n,a.adjustTo(a.sup()))}if(this.subscript){var o=xe(t.sub(),this.subscript);r=le(o,a.adjustTo(a.sub()))}var l,h=0,c=0;this.isCharacterBox()||(h=ht.height(e)-a.metrics.supDrop,c=ht.depth(e)+a.metrics.subDrop),l=a===U.DISPLAY?a.metrics.sup1:a.cramped?a.metrics.sup3:a.metrics.sup2;var d=U.TEXT.sizeMultiplier*a.sizeMultiplier,u=.5/F.ptPerEm/d,p=null;if(r&&s){h=Math.max(h,l,s.depth+.25*a.metrics.xHeight),c=Math.max(c,a.metrics.sub2);var m=F.defaultRuleThickness;if(h-ht.depth(s)-(ht.height(r)-c)<4*m){c=4*m-(h-s.depth)+ht.height(r);var f=.8*a.metrics.xHeight-(h-ht.depth(s));f>0&&(h+=f,c-=f)}p=ue(t,[r,c,s,-h],"individualShift"),this.symbol&&p.children[0].setLeft(-ht.italic(e))}else r&&!s?(c=Math.max(c,a.metrics.sub1,ht.height(r)-.8*a.metrics.xHeight),p=ue(t,[r],"shift",c),p.children[0].setRight(u),this.isCharacterBox()&&p.children[0].setLeft(-ht.italic(e))):!r&&s&&(h=Math.max(h,l,s.depth+.25*a.metrics.xHeight),p=ue(t,[s],"shift",-h),p.children[0].setRight(u));var y=le(p,"msubsup");return this.caret&&(y.caret=this.caret),ht.makeSpanOfType(i,[e,y])}},{key:"attachLimits",value:function(t,e,i,a){var s=this.superscript?le(xe(t.sup(),this.superscript),t.mathstyle.adjustTo(t.mathstyle.sup())):null,r=this.subscript?le(xe(t.sub(),this.subscript),t.mathstyle.adjustTo(t.mathstyle.sub())):null;return ve(t,e,i,a,s,r,"mop")}},{key:"bind",value:function(t,e){return"first"!==this.type&&""!==this.body&&(this.id=function(t){var e;return"boolean"==typeof t.generateID&&t.generateID?e=Date.now().toString(36).slice(-2)+Math.floor(1e5*Math.random()).toString(36):"object"==h(t.generateID)&&(t.generateID.overrideID?e=t.generateID.overrideID:(e=t.generateID.seed.toString(36),t.generateID.seed+=1)),e}(t),this.id&&(e.attributes||(e.attributes={}),e.attributes["data-atom-id"]=this.id)),e}},{key:"makeSpan",value:function(t,e){var i="textord"===this.type?"mord":this.type,a=ht.makeSpanOfType(i,e),s=this.getStyle();a.applyStyle(s);var r=s&&s.fontSize?s.fontSize:"size5";return r!==t.parentSize?(a.classes+=" sizing reset-"+t.parentSize,a.classes+=" "+r):t.parentSize!==t.size&&(a.classes+=" sizing reset-"+t.parentSize,a.classes+=" "+t.size),a.maxFontSize=Math.max(a.maxFontSize,t.sizeMultiplier||1),"text"===this.mode&&(a.classes+=" ML__text"),t.mathstyle.isTight()&&(a.isTight=!0),"math"!==this.mode&&(a.italic=0),a.setRight(a.italic),"number"==typeof t.opacity&&a.setStyle("opacity",t.opacity),this.bind(t,a),this.caret&&(this.superscript||this.subscript||(a.caret=this.caret,t.mathstyle.isTight()&&(a.isTight=!0))),a}}])}();function ge(t){var e=le("","arraycolsep");return e.setWidth(t,"em"),e}function be(t,e,i,a){var s,r=[],n=c(e);try{for(n.s();!(s=n.n()).done;){var o=s.value,l=le(xe(t,a));l.depth=o.depth,l.height=o.height,r.push(l),r.push(o.pos-i)}}catch(t){n.e(t)}finally{n.f()}return ue(t,r,"individualShift")}function ve(t,e,i,a,s,r,n){if(!s&&!r)return e;e=le(e);var o=0,l=0;s&&(o=Math.max(F.bigOpSpacing1,F.bigOpSpacing3-s.depth)),r&&(l=Math.max(F.bigOpSpacing2,F.bigOpSpacing4-r.height));var h=null;if(r&&s){var c=F.bigOpSpacing5+ht.height(r)+ht.depth(r)+l+ht.depth(e)+i;h=ue(t,[F.bigOpSpacing5,r,l,e,o,s,F.bigOpSpacing5],"bottom",c),h.children[0].setLeft(-a),h.children[2].setLeft(a)}else if(r&&!s){var d=ht.height(e)-i;h=ue(t,[F.bigOpSpacing5,r,l,e],"top",d),h.children[0].setLeft(-a)}else if(!r&&s){var u=ht.depth(e)+i;h=ue(t,[e,o,s,F.bigOpSpacing5],"bottom",u),h.children[1].setLeft(a)}return ht.makeSpanOfType(n,h,"op-limits")}function xe(t,e){t instanceof G.Context||(t=new G.Context(t));var i=!t.generateID||!t.generateID.groupNumbers,a=[];if(Array.isArray(e)){if(0===e.length)return a;if(1===e.length)a=e[0].decompose(t),a&&i&&e[0].isSelected&&a.forEach(function(t){return t.selected(!0)});else{for(var s="none",r=e[1].type,n=[],o=null,h=null,d=0;d<e.length;d++){"mbin"===e[d].type&&(/first|none|mrel|mpunct|mopen|mbin|mop/.test(s)||/none|mrel|mpunct|mclose/.test(r))&&(e[d].type="mord"),""===e[d].body&&(e[d].superscript||e[d].subscript)||(h=null),t.generateID.groupNumbers&&o&&"mord"===e[d].type&&/[0-9,.]/.test(e[d].latex)&&(t.generateID.overrideID=o);var u=e[d].decompose(t,h);if(t.generateID&&(t.generateID.overrideID=null),u){var p=[].concat.apply([],u);h=p,t.generateID&&t.generateID.groupNumbers&&("mord"===e[d].type&&/[0-9,.]/.test(e[d].latex)&&(o||(o=e[d].id)),("mord"!==e[d].type||/[0-9,.]/.test(e[d].latex)||e[d].superscript||e[d].subscript)&&o&&(o=null)),i&&e[d].isSelected?(n=n.concat(p),n.forEach(function(t){return t.selected(!0)})):(n.length>0&&(a=[].concat(l(a),l(n)),n=[]),a=a.concat(p))}s=e[d].getFinalBaseElement().type,r=e[d+1]?e[d+1].getInitialBaseElement().type:"none"}n.length>0&&(a=[].concat(l(a),l(n)),n=[])}}else e&&(a=e.decompose(t),a&&i&&e.isSelected&&a.forEach(function(t){return t.selected(!0)}));if(!a||0===a.length)return null;if(t.mathstyle!==t.parentMathstyle){var m,f=t.mathstyle.sizeMultiplier/t.parentMathstyle.sizeMultiplier,y=c(a);try{for(y.s();!(m=y.n()).done;){var g=m.value;g.height*=f,g.depth*=f}}catch(t){y.e(t)}finally{y.f()}}if(t.size!==t.parentSize){var b,v=fe[t.size]/fe[t.parentSize],x=c(a);try{for(x.s();!(b=x.n()).done;){var k=b.value;k.height*=v,k.depth*=v}}catch(t){x.e(t)}finally{x.f()}}return a}var ke={MathAtom:ye,decompose:xe,makeRoot:function(t,e){var i=new ye(t=t||"math","root",e||[]);return 0!==i.body.length&&"first"===i.body[0].type||i.body.unshift(new ye("","first")),i},GREEK_REGEX:pe},we={m0:"#3f3d99",m1:"#993d71",m2:"#998b3d",m3:"#3d9956",m4:"#3d5a99",m5:"#993d90",m6:"#996d3d",m7:"#43993d",m8:"#3d7999",m9:"#843d99"},Se={apricot:"#FBB982",aquamarine:"#00B5BE",bittersweet:"#C04F17",black:"#221E1F",blue:"#2D2F92",bluegreen:"#00B3B8",blueviolet:"#473992",brickred:"#B6321C",brown:"#792500",burntorange:"#F7921D",cadetblue:"#74729A",carnationpink:"#F282B4",cerulean:"#00A2E3",cornflowerblue:"#41B0E4",cyan:"#00AEEF",dandelion:"#FDBC42",darkorchid:"#A4538A",emerald:"#00A99D",forestgreen:"#009B55",fuchsia:"#8C368C",goldenrod:"#FFDF42",gray:"#949698",green:"#00A64F",greenyellow:"#DFE674",junglegreen:"#00A99A",lavender:"#F49EC4",limegreen:"#8DC73E",magenta:"#EC008C",mahogany:"#A9341F",maroon:"#AF3235",melon:"#F89E7B",midnightblue:"#006795",mulberry:"#A93C93",navyblue:"#006EB8",olivegreen:"#3C8031",orange:"#F58137",orangered:"#ED135A",orchid:"#AF72B0",peach:"#F7965A",periwinkle:"#7977B8",pinegreen:"#008B72",plum:"#92268F",processblue:"#00B0F0",purple:"#99479B",rawsienna:"#974006",red:"#ED1B23",redorange:"#F26035",redviolet:"#A1246B",rhodamine:"#EF559F",royalblue:"#0071BC",royalpurple:"#613F99",rubinered:"#ED017D",salmon:"#F69289",seagreen:"#3FBC9D",sepia:"#671800",skyblue:"#46C5DD",springgreen:"#C6DC67",tan:"#DA9D76",tealblue:"#00AEB3",thistle:"#D883B7",turquoise:"#00B4CE",violet:"#58429B",violetred:"#EF58A0",white:"#FFFFFF",wildstrawberry:"#EE2967",yellow:"#FFF200",yellowgreen:"#98CC70",yelloworange:"#FAA21A"},Ae={stringToColor:function(t){var e,i,a,s=t.toLowerCase().split("!"),r=255,n=255,o=255,l=-1,h=s.length>0&&"-"===s[0].charAt(0);h&&(s[0]=s[0].slice(1));for(var c=0;c<s.length;c++){e=r,i=n,a=o;var d=s[c].match(/([a-z0-9]*)/);d&&(d=d[1]);var u=Se[d]||we[d];u||(u=s[c]);var p=u.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i);if(p&&p[1]&&p[2]&&p[3])r=Math.max(0,Math.min(255,parseInt(p[1],16))),n=Math.max(0,Math.min(255,parseInt(p[2],16))),o=Math.max(0,Math.min(255,parseInt(p[3],16)));else if(p=u.match(/^#([0-9a-f]{3})$/i),p&&p[1]){var m=parseInt(p[1][0],16),f=parseInt(p[1][1],16),y=parseInt(p[1][2],16);r=Math.max(0,Math.min(255,16*m+m)),n=Math.max(0,Math.min(255,16*f+f)),o=Math.max(0,Math.min(255,16*y+y))}else{if(p=u.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i),!(p&&p[1]&&p[2]&&p[3]))return null;r=Math.max(0,Math.min(255,parseInt(p[1]))),n=Math.max(0,Math.min(255,parseInt(p[2]))),o=Math.max(0,Math.min(255,parseInt(p[3])))}l>=0&&(r=(1-l)*r+l*e,n=(1-l)*n+l*i,o=(1-l)*o+l*a,l=-1),c+1<s.length&&(l=Math.max(0,Math.min(100,parseInt(s[++c])))/100)}return l>=0&&(r=l*r+(1-l)*e,n=l*n+(1-l)*i,o=l*o+(1-l)*a),h&&(r=255-r,n=255-n,o=255-o),"#"+("00"+Math.round(r).toString(16)).slice(-2)+("00"+Math.round(n).toString(16)).slice(-2)+("00"+Math.round(o).toString(16)).slice(-2)},colorToString:function(t){var e=t.toUpperCase();for(var i in Se)if(Se[i]===e){e=i;break}for(var a in we)if(we[a]===e){e=a;break}return e},AREA_COLORS:["#d35d60","#7293cb","#e1974d","#84bb5d","#9066a7","#aD6a58","#f5a4ce","#fff590","#212121","#818787","#d4d5d2","#ffffff"],LINE_COLORS:["#cc2428","#3769b1","#da7e30","#409852","#6b4c9a","#922426","#e7298a","#ffe907","#000000","#525055","#adafaa","#ffffff"]},Me=ke.MathAtom,Ce=function(){"use strict";function t(e,i,a){u(this,t),this.tokens=e,this.index=0,this.args=i,this.macros=a,this.mathList=[],this.style={},this.parseMode="math",this.tabularMode=!1,this.endCount=0}return d(t,[{key:"swapMathList",value:function(t){var e=this.mathList;return this.mathList=t||[],e}},{key:"swapParseMode",value:function(t){var e=this.parseMode;return this.parseMode=t,e}},{key:"end",value:function(){return this.endCount++,this.index>=this.tokens.length||this.endCount>1e3}},{key:"get",value:function(){return this.endCount=0,this.index<this.tokens.length?this.tokens[this.index++]:null}},{key:"peek",value:function(t){var e=this.index+(t||0);return e<this.tokens.length?this.tokens[e]:null}},{key:"lastMathAtom",value:function(){var t=0===this.mathList.length?"none":this.mathList[this.mathList.length-1].type;if("mop"!==t&&"msubsup"!==t){var e=new Me(this.parseMode,"msubsup","");e.attributes={"aria-hidden":!0},this.mathList.push(e)}return this.mathList[this.mathList.length-1]}},{key:"hasToken",value:function(t){var e=this.index;return e<this.tokens.length&&this.tokens[e].type===t}},{key:"hasLiteral",value:function(t){var e=this.index;return e<this.tokens.length&&"literal"===this.tokens[e].type&&(!t||this.tokens[e].value===t)}},{key:"hasLiteralPattern",value:function(t){return this.hasToken("literal")&&t.test(this.tokens[this.index].value)}},{key:"hasCommand",value:function(t){var e=this.index;return e<this.tokens.length&&"command"===this.tokens[e].type&&this.tokens[e].value===t}},{key:"hasInfixCommand",value:function(){var t=this.index;if(t<this.tokens.length&&"command"===this.tokens[t].type){var e=Vt.getInfo("\\"+this.tokens[t].value,this.parseMode,this.macros);return e&&e.infix}return!1}},{key:"hasColumnSeparator",value:function(){var t=this.index;return!!(this.tabularMode&&t<this.tokens.length)&&"literal"===this.tokens[t].type&&"&"===this.tokens[t].value}},{key:"hasRowSeparator",value:function(){var t=this.index;return!!(this.tabularMode&&t<this.tokens.length)&&"command"===this.tokens[t].type&&("\\"===this.tokens[t].value||"cr"===this.tokens[t].value)}},{key:"parseColumnSeparator",value:function(){return!!this.hasColumnSeparator()&&(this.index++,!0)}},{key:"placeholder",value:function(){if(this.args&&"string"==typeof this.args["?"])return _e(C.tokenize(this.args["?"]),this.parseMode,null,this.macros);var t=new Me(this.parseMode,"placeholder","?",this.style);return t.captureSelection=!0,[t]}},{key:"hasImplicitCommand",value:function(t){if(this.index<this.tokens.length){var e=this.tokens[this.index];if("command"===e.type)return t.includes(e.value)}return!1}},{key:"parseRowSeparator",value:function(){return!!this.hasRowSeparator()&&(this.index++,!0)}},{key:"parseToken",value:function(t){return!!this.hasToken(t)&&(this.index++,!0)}},{key:"skipWhitespace",value:function(){for(var t=!1;this.hasToken("space");)this.index++,t=!0;return t}},{key:"skipUntilToken",value:function(t){for(;!this.end()&&!this.parseToken(t);)this.get()}},{key:"parseCommand",value:function(t){return!!this.hasCommand(t)&&(this.index++,!0)}},{key:"parseLiteral",value:function(t){return!!this.hasLiteral(t)&&(this.index++,!0)}},{key:"parseFiller",value:function(){var t=!1,e=!1;do{var i=this.skipWhitespace(),a=this.parseCommand("relax");t=t||i||a,e=!i&&!a}while(!e);return t}},{key:"parseKeyword",value:function(t){for(var e=this.index,i=this.end(),a="";!i;){var s=this.get();"literal"===s.type&&(a+=s.value),i=this.end()||"literal"!==s.type||a.length>=t.length}var r=t.toUpperCase()===a.toUpperCase();return r||(this.index=e),r}},{key:"scanString",value:function(){for(var t="",e=this.end();!e;){if(this.hasLiteral("]"))e=!0;else if(this.hasToken("literal"))t+=this.get().value;else if(this.skipWhitespace())t+=" ";else if(this.hasToken("command")){var i=this.get();"space"===i.value?t+=" ":t+=i.value}else e=!0;e=e||this.end()}return t}},{key:"scanColor",value:function(){return Ae.stringToColor(this.scanString())}},{key:"scanNumber",value:function(t){var e=this.parseLiteral("-");e||this.parseLiteral("+"),this.skipWhitespace(),t=!!t;var i=10,a=/[0-9]/;this.parseLiteral("'")?(i=8,a=/[0-7]/,t=!0):(this.parseLiteral('"')||this.parseLiteral("x"))&&(i=16,a=/[0-9A-F]/,t=!0);for(var s="";this.hasLiteralPattern(a);)s+=this.get().value;if(!t&&(this.parseLiteral(".")||this.parseLiteral(",")))for(s+=".";this.hasLiteralPattern(a);)s+=this.get().value;var r=t?parseInt(s,i):parseFloat(s);return e?-r:r}},{key:"scanDimen",value:function(){var t,e=this.scanNumber(!1);return this.skipWhitespace(),t=this.parseKeyword("pt")?q.toEm(e,"pt"):this.parseKeyword("mm")?q.toEm(e,"mm"):this.parseKeyword("cm")?q.toEm(e,"cm"):this.parseKeyword("ex")?q.toEm(e,"ex"):this.parseKeyword("px")?q.toEm(e,"px"):this.parseKeyword("em")?q.toEm(e,"em"):this.parseKeyword("bp")?q.toEm(e,"bp"):this.parseKeyword("dd")?q.toEm(e,"dd"):this.parseKeyword("pc")?q.toEm(e,"pc"):this.parseKeyword("in")?q.toEm(e,"in"):this.parseKeyword("mu")?q.toEm(e,"mu"):q.toEm(e,"pt"),t}},{key:"scanSkip",value:function(){var t=this.scanDimen();return this.skipWhitespace(),this.parseKeyword("plus")&&this.scanDimen(),this.skipWhitespace(),this.parseKeyword("minus")&&this.scanDimen(),t}},{key:"scanColspec",value:function(){this.skipWhitespace();for(var t=[];!this.end()&&!this.hasToken("}")&&!this.hasLiteral("]");)if(this.hasLiteral()){var e=this.get().value;if("lcr".includes(e))t.push({align:e});else if("|"===e)t.push({rule:!0});else if("@"===e){if(this.parseToken("{")){var i=this.swapParseMode("math");t.push({gap:this.scanImplicitGroup(function(t){return"}"===t.type})}),this.swapParseMode(i)}this.parseToken("}")}}return t}},{key:"scanModeSet",value:function(){var t;if(this.parseCommand("(")&&(t=")"),!t&&this.parseCommand("[")&&(t="]"),!t)return null;var e=this.swapParseMode("math"),i=new Me("math","group");return i.mathstyle=")"===t?"textstyle":"displaystyle",i.body=this.scanImplicitGroup(function(e){return"command"===e.type&&e.value===t}),this.parseCommand(t),this.swapParseMode(e),i.body&&0!==i.body.length?i:null}},{key:"scanModeShift",value:function(){if(!this.hasToken("$")&&!this.hasToken("$$"))return null;var t=this.get().type,e=new Me("math","group");e.mathstyle="$"===t?"textstyle":"displaystyle",e.latexOpen="textstyle"===e.mathstyle?"$":"$$",e.latexClose=e.latexOpen;var i=this.swapParseMode("math");return e.body=this.scanImplicitGroup(function(e){return e.type===t}),this.parseToken(t),this.swapParseMode(i),e.body&&0!==e.body.length?e:null}},{key:"scanEnvironment",value:function(){if(!this.parseCommand("begin"))return null;var t=this.scanArg("string"),e=Vt.getEnvironmentInfo(t),i=[];if(e&&e.params){var a,s=c(e.params);try{for(s.s();!(a=s.n()).done;){var r=a.value;if(r.optional){var n=this.scanOptionalArg(r.type);i.push(n)}else i.push(this.scanArg(r.type))}}catch(t){s.e(t)}finally{s.f()}}var l=this.parseMode,h=this.tabularMode,d=this.swapMathList([]);this.tabularMode=e.tabular;var u=[],p=[],m=[],f=!1;do{if(f=this.end(),!f&&this.parseCommand("end")&&(f=this.scanArg("string")===t),!f)if(this.parseColumnSeparator())m.push(this.swapMathList([]));else if(this.parseRowSeparator()){m.push(this.swapMathList([]));var y=0;this.skipWhitespace(),this.parseLiteral("[")&&(y=this.scanDimen(),this.skipWhitespace(),this.parseLiteral("]")),p.push(y||0),u.push(m),m=[]}else this.mathList=this.mathList.concat(this.scanImplicitGroup())}while(!f);m.push(this.swapMathList([])),m.length>0&&u.push(m);var g=this.swapMathList(d);if(this.parseMode=l,this.tabularMode=h,!e.tabular&&0===g.length)return null;if(e.tabular&&0===u.length)return null;var b=new Me(this.parseMode,"array",g,e.parser?e.parser(t,i,u):{});return b.array=u,b.rowGaps=p,b.env=o({},e),b.env.name=t,b}},{key:"scanImplicitGroup",value:function(t){var e=this.style;t||(t=function(t){return"}"===t.type||"literal"===t.type&&"&"===t.value||"command"===t.type&&/^(end|cr|\\)$/.test(t.value)});for(var i,a=null,s=null,r=this.swapMathList([]);!this.end()&&!t(this.peek());)if(this.hasImplicitCommand(["displaystyle","textstyle","scriptstyle","scriptscriptstyle"])){this.parseMode="math";var n=new Me("math","mathstyle");n.mathstyle=this.get().value,this.mathList.push(n)}else this.hasInfixCommand()&&!a?(a=this.get(),s=this.swapMathList([])):this.parseAtom();if(a){var o=this.swapMathList(r),l=Vt.getInfo("\\"+a.value,"math",this.macros);i=l?[new Me(this.parseMode,l.type,l.value||a.value,l.parse?l.parse("\\"+a.value,[s,o]):null)]:[new Me(this.parseMode,"mop",a.value)]}else i=this.swapMathList(r);return this.style=e,i}},{key:"scanGroup",value:function(){if(!this.parseToken("{"))return null;var t=new Me(this.parseMode,"group");return t.body=this.scanImplicitGroup(function(t){return"}"===t.type}),this.parseToken("}"),t.latexOpen="{",t.latexClose="}",t}},{key:"scanSmartFence",value:function(){if(this.skipWhitespace(),!this.parseLiteral("("))return null;var t=new Me(this.parseMode,"leftright");t.leftDelim="(",t.inner=!1;for(var e=this.swapMathList([]),i=1;!this.end()&&0!==i;)this.hasLiteral("(")&&(i+=1),this.hasLiteral(")")&&(i-=1),0!==i&&this.parseAtom();return 0===i&&this.parseLiteral(")"),t.rightDelim=0===i?")":"?",t.body=this.swapMathList(e),t}},{key:"scanDelim",value:function(){this.skipWhitespace();var t=this.get();if(!t)return null;var e=".";"command"===t.type?e="\\"+t.value:"literal"===t.type&&(e=t.value);var i=Vt.getInfo(e,"math",this.macros);return i&&("mopen"===i.type||"mclose"===i.type||/^(\?|\||<|>|\\vert|\\Vert|\\\||\\surd|\\uparrow|\\downarrow|\\Uparrow|\\Downarrow|\\updownarrow|\\Updownarrow|\\mid|\\mvert|\\mVert)$/.test(e))?e:null}},{key:"scanLeftRight",value:function(){if(this.parseCommand("right")||this.parseCommand("mright")){var t=new Me(this.parseMode,"leftright");return t.rightDelim=this.scanDelim()||".",t}var e=this.style,i="right";if(!this.parseCommand("left")){if(!this.parseCommand("mleft"))return null;i="mright"}for(var a=this.scanDelim()||".",s=this.swapMathList([]);!this.end()&&!this.parseCommand(i);)this.parseAtom();this.style=e;var r=this.scanDelim(),n=new Me(this.parseMode,"leftright");return n.leftDelim=a,n.rightDelim=r,n.inner="right"===i,n.body=this.swapMathList(s),n}},{key:"parseSupSub",value:function(){if("math"!==this.parseMode)return!1;for(var t=!1;this.hasLiteral("^")||this.hasLiteral("_")||this.hasLiteral("'");){var e=void 0;if(this.hasLiteral("^")?e="superscript":this.hasLiteral("_")&&(e="subscript"),this.parseLiteral("^")||this.parseLiteral("_")){var i=this.scanArg();if(i){var a=this.lastMathAtom();a[e]=a[e]||[],a[e]=a[e].concat(i),t=!0}}else if(this.parseLiteral("'")){var s=this.lastMathAtom();s.superscript=s.superscript||[],s.superscript.push(new Me(s.parseMode,"mord","")),t=!0}}return t}},{key:"parseLimits",value:function(){if(this.parseCommand("limits")){var t=this.lastMathAtom();return t.limits="limits",t.explicitLimits=!0,!0}if(this.parseCommand("nolimits")){var e=this.lastMathAtom();return e.limits="nolimits",e.explicitLimits=!0,!0}return!1}},{key:"scanOptionalArg",value:function(t){if(t=t&&"auto"!==t?t:this.parseMode,this.skipWhitespace(),!this.parseLiteral("["))return null;var e=this.parseMode;this.parseMode=t;for(var i,a=this.swapMathList();!this.end()&&!this.parseLiteral("]");)if("string"===t)i=this.scanString();else if("number"===t)i=this.scanNumber();else if("dimen"===t)i=this.scanDimen();else if("skip"===t)i=this.scanSkip();else if("colspec"===t)i=this.scanColspec();else if("color"===t)i=this.scanColor()||"#ffffff";else if("bbox"===t){var s,r=this.scanString().toLowerCase().trim().split(/,(?![^(]*\)(?:(?:[^(]*\)){2})*[^"]*$)/),n=c(r);try{for(n.s();!(s=n.n()).done;){var o=s.value,l=Ae.stringToColor(o);if(l)i=i||{},i.backgroundcolor=l;else{var h=o.match(/^\s*([0-9.]+)\s*([a-z][a-z])/);if(h)i=i||{},i.padding=q.toEm(h[1],h[2]);else{var d=o.match(/^\s*border\s*:\s*(.*)/);d&&(i=i||{},i.border=d[1])}}}}catch(t){n.e(t)}finally{n.f()}}else this.mathList=this.mathList.concat(this.scanImplicitGroup(function(t){return"literal"===t.type&&"]"===t.value}));this.parseMode=e;var u=this.swapMathList(a);return i||u}},{key:"scanArg",value:function(t){var e;if(t=t&&"auto"!==t?t:this.parseMode,this.parseFiller(),!this.parseToken("{")){if("delim"===t)return this.scanDelim()||".";if(/^(math|text)$/.test(t)){var i=this.parseMode;this.parseMode=t;var a=this.scanToken();return this.parseMode=i,Array.isArray(a)?a:a?[a]:null}}if(this.hasToken("#")){var s=this.get();return this.skipUntilToken("}"),"?"===s.value?this.placeholder():this.args?void 0===this.args[s.value]&&void 0!==this.args["?"]?this.placeholder():this.args[s.value]||null:null}var r=this.parseMode;this.parseMode=t;var n=this.swapMathList([]);if("string"===t)e=this.scanString(),this.skipUntilToken("}");else if("number"===t)e=this.scanNumber(),this.skipUntilToken("}");else if("dimen"===t)e=this.scanDimen(),this.skipUntilToken("}");else if("skip"===t)e=this.scanSkip(),this.skipUntilToken("}");else if("colspec"===t)e=this.scanColspec(),this.skipUntilToken("}");else if("color"===t)e=this.scanColor()||"#ffffff",this.skipUntilToken("}");else if("delim"===t)e=this.scanDelim()||".",this.skipUntilToken("}");else do{this.mathList=this.mathList.concat(this.scanImplicitGroup())}while(!this.parseToken("}")&&!this.end());this.parseMode=r;var o=this.swapMathList(n);return e||o}},{key:"scanToken",value:function(){var t=this.get();if(!t)return null;var e=null;if("space"===t.type)"text"===this.parseMode&&(e=new Me("text",""," ",this.style));else if("placeholder"===t.type)e=new Me(this.parseMode,"placeholder",t.value),e.captureSelection=!0;else if("command"===t.type){if("placeholder"===t.value)e=new Me(this.parseMode,"placeholder",this.scanArg("string"),this.style),e.captureSelection=!0;else if("char"===t.value){var i=Math.floor(this.scanNumber(!0));(!isFinite(i)||i<0||i>1114111)&&(i=10067),e=new Me(this.parseMode,"math"===this.parseMode?"mord":"",String.fromCodePoint(i)),e.latex='{\\char"'+("000000"+i.toString(16)).toUpperCase().substr(-6)+"}"}else if("hskip"===t.value||"kern"===t.value){var a=this.scanSkip();isFinite(a)&&(e=new Me(this.parseMode,"spacing",null,this.style),e.width=a),e.latex="\\"+t.value}else if(e=this.scanMacro(t.value),!e){var s=Vt.getInfo("\\"+t.value,this.parseMode,this.macros),r=[],n="",l="";if(s&&s.params){var h,d=c(s.params);try{for(d.s();!(h=d.n()).done;){var u=h.value;if(u.optional){var p=this.scanOptionalArg(u.type);r.push(p)}else if(u.type.endsWith("*"))l=u.type.slice(0,-1);else{var m=this.scanArg(u.type);if(m&&1===m.length&&"placeholder"===m[0].type&&u.placeholder&&(m[0].value=u.placeholder),m)r.push(m);else if(u.placeholder){var f=new Me(this.parseMode,"placeholder",u.placeholder);f.captureSelection=!0,r.push([f])}else r.push(this.placeholder());"math"!==u.type&&"string"==typeof m&&(n+=m)}}}catch(t){d.e(t)}finally{d.f()}}if(s&&!s.infix){if(s.parse){var y=s.parse("\\"+t.value,r);if(y.type)e=new Me(this.parseMode,s.type,l?this.scanArg(l):null,o(o({},this.style),y));else{var g=this.parseMode;if(y.mode&&(this.parseMode=y.mode,delete y.mode),l){var b=this.style;this.style=o(o({},this.style),y),e=this.scanArg(l),this.style=b}else this.style=o(o({},this.style),y);this.parseMode=g}}else{var v=o({},this.style);s.baseFontFamily&&(v.baseFontFamily=s.baseFontFamily),e=new Me(this.parseMode,s.type||"mop",s.value||t.value,v),s.skipBoundary&&(e.skipBoundary=!0)}if(e&&!/^(llap|rlap|class|cssId)$/.test(t.value)&&(e.latex="\\"+t.value,n&&(e.latex+="{"+n+"}"),e.isFunction&&this.smartFence)){var x=this.scanSmartFence();x&&(e=[e,x])}}s||(e=new Me(this.parseMode,"error","\\"+t.value),e.latex="\\"+t.value)}}else if("literal"===t.type){var k=Vt.getInfo(t.value,this.parseMode,this.macros);if(k){var w=o({},this.style);k.baseFontFamily&&(w.baseFontFamily=k.baseFontFamily),e=new Me(this.parseMode,k.type,k.value||t.value,w),k.isFunction&&(e.isFunction=!0)}else e=new Me(this.parseMode,"math"===this.parseMode?"mord":"",t.value,this.style);if(e.latex=Vt.matchCodepoint(this.parseMode,t.value.codePointAt(0)),k&&k.isFunction&&this.smartFence){var S=this.scanSmartFence();S&&(e=[e,S])}}else if("#"===t.type)if("?"===t.value)e=this.placeholder();else if(this.args)if(e=this.args[t.value]||null,Array.isArray(e)&&1===e.length)e=e[0];else if(Array.isArray(e)){var A=new Me(this.parseMode,"group");A.body=e,e=A}else e=this.placeholder();return e}},{key:"scanMacro",value:function(t){if(!this.macros||!this.macros[t])return null;var e,i={},a=0;"string"==typeof this.macros[t]?(e=this.macros[t],/(^|[^\\])#1/.test(e)&&(a=1),/(^|[^\\])#2/.test(e)&&(a=2),/(^|[^\\])#3/.test(e)&&(a=3),/(^|[^\\])#4/.test(e)&&(a=4),/(^|[^\\])#5/.test(e)&&(a=5),/(^|[^\\])#6/.test(e)&&(a=6),/(^|[^\\])#7/.test(e)&&(a=7),/(^|[^\\])#8/.test(e)&&(a=8),/(^|[^\\])#9/.test(e)&&(a=9)):(e=this.macros[t].def,a=this.macros[t].args||0);for(var s=1;s<=a;s++)i[s]=this.scanArg();this.args&&"string"==typeof this.args["?"]&&(i["?"]=this.args["?"]);var r=new Me(this.parseMode,"group",_e(C.tokenize(e),this.parseMode,i,this.macros));r.captureSelection=!0,r.latex="\\"+t;for(var n="",o=1;o<=a;o++){if(n+="{",Array.isArray(i[o]))for(var l=0;l<i[o].length;l++)n+=i[o][l].latex;n+="}"}return r.latex+=n||"",r}},{key:"parseAtom",value:function(){var t=this.scanEnvironment()||this.scanModeShift()||this.scanModeSet()||this.scanGroup()||this.scanLeftRight();return!(t||!this.parseSupSub()&&!this.parseLimits())||(t||(t=this.scanToken()),Array.isArray(t)?this.mathList=this.mathList.concat(t):t&&this.mathList.push(t),null!==t)}}])}();function _e(t,e,i,a,s){var r=[],n=new Ce(t,i,a);for(n.parseMode=e||"math",s&&(n.smartFence=!0);!n.end();)r=r.concat(n.scanImplicitGroup());return r}var Te={Parser:Ce,parseTokens:_e};function Le(t,e){var i,a="",s=c(t);try{for(s.s();!(i=s.n()).done;){var r=i.value;a+=r.relation+":"+r.offset+"/"}}catch(t){s.e(t)}finally{s.f()}return e&&(a+="#"+e),a}function Fe(t){var e={path:[],extent:0},i=t.split("#");i.length>1&&(e.extent=parseInt(i[1]));var a,s=i[0].split("/"),r=c(s);try{for(r.s();!(a=r.n()).done;){var n=a.value,o=n.match(/([^:]*):(.*)/);o&&e.path.push({relation:o[1],offset:parseInt(o[2])})}}catch(t){r.e(t)}finally{r.f()}return e}var De={pathFromString:Fe,pathToString:Le,pathDistance:function(t,e){for(var i=0,a=-1,s=!1;!s;)a+=1,s=a>=t.length||a>=e.length,s=s||!(t[a].relation===e[a].relation&&t[a].offset===e[a].offset);return i=a===t.length&&a===e.length?0:a+1===t.length&&a+1===e.length&&t[a].relation===e[a].relation?1:2,i},pathCommonAncestor:function(t,e){for(var i=[],a=Math.min(t.length-1,e.length-1),s=0;s<=a&&t[s].relation===e[s].relation&&t[s].offset===e[s].offset;)i.push(t[s]),s+=1;return i},clone:function(t){return Fe(Le(t)).path}},ze={Left:"moveToPreviousChar",Right:"moveToNextChar",Up:"moveUp",Down:"moveDown","Shift-Left":"extendToPreviousChar","Shift-Right":"extendToNextChar","Shift-Up":"extendUp","Shift-Down":"extendDown",Backspace:"deletePreviousChar","Alt-Del":"deletePreviousChar",Del:"deleteNextChar","Alt-Backspace":"deleteNextChar","Alt-Left":"moveToPreviousWord","Alt-Right":"moveToNextWord","Alt-Shift-Left":"extendToPreviousWord","Alt-Shift-Right":"extendToNextWord","Ctrl-Left":"moveToGroupStart","Ctrl-Right":"moveToGroupEnd","Ctrl-Shift-Left":"extendToGroupStart","Ctrl-Shift-Right":"extendToGroupEnd","math:Spacebar":"moveAfterParent","math:Shift-Spacebar":"moveBeforeParent",Home:"moveToMathFieldStart","mac:Meta-Left":"moveToMathFieldStart","Shift-Home":"extendToMathFieldStart","mac:Meta-Shift-Left":"extendToMathFieldStart",End:"moveToMathFieldEnd","mac:Meta-Right":"moveToMathFieldEnd","Shift-End":"extendToMathFieldEnd","mac:Meta-Shift-Right":"extendToMathFieldEnd",PageUp:"moveToGroupStart",PageDown:"moveToGroupEnd","math:Tab":"moveToNextPlaceholder","math:F8":"moveToNextPlaceholder","math:Shift-Tab":"moveToPreviousPlaceholder","math:Shift-F8":"moveToPreviousPlaceholder","text:Tab":"moveToNextPlaceholder","text:F8":"moveToNextPlaceholder","text:Shift-Tab":"moveToPreviousPlaceholder","text:Shift-F8":"moveToPreviousPlaceholder","math:Esc":["switch-mode","command"],"math:Backslash":["switch-mode","command"],"math:IntlBackslash":["switch-mode","command"],"math:Alt-Equal":["apply-style",{mode:"text"}],"text:Alt-Equal":["apply-style",{mode:"math"}],"command:Esc":["complete",{discard:!0}],"command:Tab":["complete",{acceptSuggestion:!0}],"command:Return":"complete","command:Enter":"complete","command:Shift-Esc":["complete",{discard:!0}],"command:Down":"nextSuggestion","ios:command:Tab":"nextSuggestion","command:Up":"previousSuggestion","!mac:Ctrl-KeyA":"selectAll","mac:Meta-KeyA":"selectAll",Cut:"cut",Copy:"copy",Paste:"paste",Clear:"delete","!mac:Ctrl-KeyZ":"undo","mac:Meta-KeyZ":"undo",Undo:"undo","!mac:Ctrl-KeyY":"redo","mac:Meta-Shift-KeyY":"redo","!mac:Ctrl-Shift-KeyZ":"redo","mac:Meta-Shift-KeyZ":"redo",Redo:"redo",EraseEof:"deleteToGroupEnd","mac:Ctrl-KeyB":"moveToPreviousChar","mac:Ctrl-KeyF":"moveToNextChar","mac:Ctrl-KeyP":"moveUp","mac:Ctrl-KeyN":"moveDown","mac:Ctrl-KeyA":"moveToMathFieldStart","mac:Ctrl-KeyE":"moveToMathFieldEnd","mac:Ctrl-Shift-KeyB":"extendToPreviousChar","mac:Ctrl-Shift-KeyF":"extendToNextChar","mac:Ctrl-Shift-KeyP":"extendUp","mac:Ctrl-Shift-KeyN":"extendDown","mac:Ctrl-Shift-KeyA":"extendToMathFieldStart","mac:Ctrl-Shift-KeyE":"extendToMathFieldEnd","mac:Ctrl-Alt-KeyB":"moveToPreviousWord","mac:Ctrl-Alt-KeyF":"moveToNextWord","mac:Ctrl-Shift-Alt-KeyB":"extendToPreviousWord","mac:Ctrl-Shift-Alt-KeyF":"extendToNextWord","mac:Ctrl-KeyH":"deletePreviousChar","mac:Ctrl-KeyD":"deleteNextChar","mac:Ctrl-KeyL":"scrollIntoView","mac:Ctrl-KeyT":"transpose","math:Shift-Quote":["switch-mode","text","",""],"text:Shift-Quote":["switch-mode","math","",""],"math:Ctrl-Digit2":["insert","\\sqrt{#0}"],"math:Ctrl-Digit5":"moveToOpposite","math:Ctrl-Digit6":"moveToSuperscript","math:Ctrl-Minus":"moveToSubscript","math:Alt-BracketLeft":["insert","\\left\\lbrack #0 \\right\\rbrack"],"math:Alt-Shift-BracketLeft":["insert","\\left\\lbrace #0 \\right\\rbrace"],"math:Return":"addRowAfter","math:Enter":"addRowAfter","math:Ctrl-Comma":"addColumnAfter","math:Alt-KeyQ":["insert","\\theta"],"math:Alt-KeyP":["insert","\\pi"],"math:Alt-KeyV":["insert","\\sqrt{#0}"],"math:Alt-KeyW":["insert","\\sum_{i=#?}^{#?}"],"math:Alt-KeyB":["insert","\\int_{#?}^{#?}"],"math:Alt-KeyU":["insert","\\cup"],"math:Alt-KeyN":["insert","\\cap"],"math:Alt-KeyO":["insert","\\emptyset"],"math:Alt-KeyD":["insert","\\differentialD"],"math:Alt-Shift-KeyO":["insert","\\varnothing"],"math:Alt-Shift-KeyD":["insert","\\partial"],"math:Alt-Shift-KeyP":["insert","\\prod_{i=#?}^{#?}"],"math:Alt-Shift-KeyU":["insert","\\bigcup"],"math:Alt-Shift-KeyN":["insert","\\bigcap"],"math:Alt-Shift-KeyA":["insert","\\forall"],"math:Alt-Shift-KeyE":["insert","\\exists"],"math:Alt-Digit5":["insert","\\infty"],"math:Alt-Digit6":["insert","\\wedge"],"math:Alt-Shift-Digit6":["insert","\\vee"],"math:Alt-Digit9":["insert","("],"math:Alt-Digit0":["insert",")"],"math:Alt-Shift-Backslash":["insert","|"],"math:Alt-Backslash":["insert","\\backslash"],"math:Slash":["insert","\\frac{#@}{#?}"],"math:Alt-Slash":["insert","\\frac{#?}{#@}"],"math:NumpadDivide":["insert","\\frac{#@}{#?}"],"math:Alt-NumpadDivide":["insert","\\frac{#?}{#@}"],"math:Shift-Backquote":["insert","\\~"],"math:Alt-Shift-Slash":["insert","\\/"],"Alt-Shift-KeyK":"toggleKeystrokeCaption","Alt-Space":"toggleVirtualKeyboard","mac:Ctrl-Meta-Up":["speak","parent",{withHighlighting:!1}],"!mac:Ctrl-Alt-Up":["speak","parent",{withHighlighting:!1}],"mac:Ctrl-Meta-Down":["speak","all",{withHighlighting:!1}],"!mac:Ctrl-Alt-Down":["speak","all",{withHighlighting:!1}],"mac:Ctrl-Meta-Left":["speak","left",{withHighlighting:!1}],"!mac:Ctrl-Alt-Left":["speak","left",{withHighlighting:!1}],"mac:Ctrl-Meta-Right":["speak","right",{withHighlighting:!1}],"!mac:Ctrl-Alt-Right":["speak","right",{withHighlighting:!1}],"!mac:Ctrl-Alt-Period":["speak","selection",{withHighlighting:!1}],"mac:Ctrl-Meta-Period":["speak","selection",{withHighlighting:!1}],"mac:Ctrl-Meta-Shift-Up":["speak","parent",{withHighlighting:!0}],"!mac:Ctrl-Alt-Shift-Up":["speak","parent",{withHighlighting:!0}],"mac:Ctrl-Meta-Shift-Down":["speak","all",{withHighlighting:!0}],"!mac:Ctrl-Alt-Shift-Down":["speak","all",{withHighlighting:!0}],"mac:Ctrl-Meta-Shift-Left":["speak","left",{withHighlighting:!0}],"!mac:Ctrl-Alt-Shift-Left":["speak","left",{withHighlighting:!0}],"mac:Ctrl-Meta-Shift-Right":["speak","right",{withHighlighting:!0}],"!mac:Ctrl-Alt-Shift-Right":["speak","right",{withHighlighting:!0}],"!mac:Ctrl-Alt-Shift-Period":["speak","selection",{withHighlighting:!0}],"mac:Ctrl-Meta-Shift-Period":["speak","selection",{withHighlighting:!0}]},Ee={"\\theta":"Alt-KeyQ","\\sqrt":["Alt-KeyV","Ctrl-Digit2"],"\\pi":"Alt-KeyP","\\prod":"Alt-Shift-KeyP","\\sum":"Alt-KeyW","\\int":"Alt-KeyB","\\cup":"Alt-KeyU","\\cap":"Alt-KeyN","\\bigcup":"Alt-Shift-KeyU","\\bigcap":"Alt-Shift-KeyN","\\forall":"Alt-Shift-KeyA","\\exists":"Alt-Shift-KeyE","\\infty":"Alt-Digit5","\\wedge":"Alt-Digit5","\\vee":"Alt-Shift-Digit6","\\differentialD":"Alt-keyD","\\partial":"Alt-Shift-KeyD","\\frac":"Slash","\\emptyset":"Alt-KeyO","\\varnothing":"Alt-Shift-KeyO","\\~":"~"},qe={"''":{mode:"math",value:"^{\\doubleprime}"},alpha:"\\alpha",delta:"\\delta",Delta:"\\Delta",pi:{mode:"math",value:"\\pi"},"pi ":{mode:"text",value:"\\pi "},Pi:{mode:"math",value:"\\Pi"},theta:"\\theta",Theta:"\\Theta",ii:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryI"},jj:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\imaginaryJ"},ee:{mode:"math",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\exponentialE"},nabla:{mode:"math",value:"\\nabla"},grad:{mode:"math",value:"\\nabla"},del:{mode:"math",value:"\\partial"},"":"\\infty",oo:{mode:"math",after:"nothing+digit+frac+surd+binop+relop+punct+array+openfence+closefence+space",value:"\\infty"},"":{mode:"math",value:"\\sum"},sum:{mode:"math",value:"\\sum_{#?}^{#?}"},prod:{mode:"math",value:"\\prod_{#?}^{#?}"},sqrt:{mode:"math",value:"\\sqrt"},"":{mode:"math",value:"\\differentialD"},"":{mode:"math",value:"\\differentialD"},sin:{mode:"math",value:"\\sin"},cos:{mode:"math",value:"\\cos"},tan:{mode:"math",value:"\\tan"},tanh:{mode:"math",value:"\\tanh"},log:{mode:"math",value:"\\log"},ln:{mode:"math",value:"\\ln"},exp:{mode:"math",value:"\\exp"},lim:{mode:"math",value:"\\lim_{#?}"},dx:"\\differentialD x",dy:"\\differentialD y",dt:"\\differentialD t",AA:{mode:"math",value:"\\forall"},EE:{mode:"math",value:"\\exists"},"!EE":{mode:"math",value:"\\nexists"},"&&":{mode:"math",value:"\\land"},xin:{mode:"math",after:"nothing+text+relop+punct+openfence+space",value:"x \\in"},in:{mode:"math",after:"nothing+letter+closefence",value:"\\in"},"!in":{mode:"math",value:"\\notin"},NN:"\\N",ZZ:"\\Z",QQ:"\\Q",RR:"\\R",CC:"\\C",PP:"\\P",xx:"\\times","+-":"\\pm","!=":"\\ne",">=":"\\ge","<=":"\\le","<<":"\\ll",">>":"\\gg","~~":"\\approx","":"\\approx","?=":"\\questeq","":"\\div","":"\\neg",":=":"\\coloneq","::":"\\Colon","(:":"\\langle",":)":"\\rangle",beta:"\\beta",chi:"\\chi",epsilon:"\\epsilon",varepsilon:"\\varepsilon",eta:{mode:"math",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\eta"},"eta ":{mode:"text",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\eta "},gamma:"\\gamma",Gamma:"\\Gamma",iota:"\\iota",kappa:"\\kappa",lambda:"\\lambda",Lambda:"\\Lambda",mu:{mode:"math",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\mu"},"mu ":{mode:"text",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\mu "},nu:{mode:"math",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\nu"},"nu ":{mode:"text",after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\nu "},"":"\\mu",phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\phi"},Phi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Phi"},varphi:"\\varphi",psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\psi"},Psi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Psi"},rho:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\rho"},sigma:"\\sigma",Sigma:"\\Sigma",tau:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\tau"},vartheta:"\\vartheta",upsilon:"\\upsilon",xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\xi"},Xi:{after:"nothing+digit+function+frac+surd+binop+relop+punct+array+openfence+closefence+space+text",value:"\\Xi"},zeta:"\\zeta",omega:"\\omega",Omega:"\\Omega","":"\\omega",forall:"\\forall",exists:{mode:"math",value:"\\exists"},"!exists":{mode:"math",value:"\\nexists"},":.":{mode:"math",value:"\\therefore"},liminf:"\\operatorname*{lim~inf}_{#?}",limsup:"\\operatorname*{lim~sup}_{#?}",argmin:"\\operatorname*{arg~min}_{#?}",argmax:"\\operatorname*{arg~max}_{#?}",det:"\\det",mod:{mode:"math",value:"\\mod"},max:{mode:"math",value:"\\max"},min:{mode:"math",value:"\\min"},erf:"\\operatorname{erf}",erfc:"\\operatorname{erfc}",bessel:{mode:"math",value:"\\operatorname{bessel}"},mean:{mode:"math",value:"\\operatorname{mean}"},median:{mode:"math",value:"\\operatorname{median}"},fft:{mode:"math",value:"\\operatorname{fft}"},lcm:{mode:"math",value:"\\operatorname{lcm}"},gcd:{mode:"math",value:"\\operatorname{gcd}"},randomReal:"\\operatorname{randomReal}",randomInteger:"\\operatorname{randomInteger}",Re:{mode:"math",value:"\\operatorname{Re}"},Im:{mode:"math",value:"\\operatorname{Im}"},mm:{mode:"math",after:"nothing+digit",value:"\\operatorname{mm}"},cm:{mode:"math",after:"nothing+digit",value:"\\operatorname{cm}"},km:{mode:"math",after:"nothing+digit",value:"\\operatorname{km}"},kg:{mode:"math",after:"nothing+digit",value:"\\operatorname{kg}"},"...":"\\ldots","+...":"+\\cdots","-...":"-\\cdots","->...":"\\to\\cdots","->":"\\to","|->":"\\mapsto","--\x3e":"\\longrightarrow","<--":"\\longleftarrow","=>":"\\Rightarrow","==>":"\\Longrightarrow","<=>":"\\Leftrightarrow","<->":"\\leftrightarrow","(.)":"\\odot","(+)":"\\oplus","(/)":"\\oslash","(*)":"\\otimes","(-)":"\\ominus","||":"\\Vert","{":"\\{","}":"\\}","*":"\\cdot"};function Ie(t,e,i){if(!i)return i;if("string"==typeof i)return i;if("string"==typeof i.mode&&i.mode!==t)return null;if(!e)return i?i.value:void 0;for(var a=!1,s=!1,r=!1,n=!1,o=!1,l=!1,h=!1,c=!1,d=!1,u=!1,p=!1,m=!1,f=!1,y=!1,g=e[e.length-1],b=e.length-1;g&&/msubsup|placeholder/.test(g.type);)b-=1,g=e[b];return a=!g||"first"===g.type,g&&(f="text"===g.mode,s=!f&&"mord"===g.type&&Vt.LETTER.test(g.body),r=!f&&"mord"===g.type&&/[0-9]+$/.test(g.body),n=!f&&g.isFunction,o="genfrac"===g.type,l="surd"===g.type,h="mbin"===g.type,c="mrel"===g.type,d="mpunct"===g.type||"minner"===g.type,u=g.array,p="mopen"===g.type,m="mclose"===g.type||"leftright"===g.type,y="space"===g.type),void 0!==i.after?/nothing/.test(i.after)&&a||/letter/.test(i.after)&&s||/digit/.test(i.after)&&r||/function/.test(i.after)&&n||/frac/.test(i.after)&&o||/surd/.test(i.after)&&l||/binop/.test(i.after)&&h||/relop/.test(i.after)&&c||/punct/.test(i.after)&&d||/array/.test(i.after)&&u||/openfence/.test(i.after)&&p||/closefence/.test(i.after)&&m||/text/.test(i.after)&&f||/space/.test(i.after)&&y?i.value:null:i.value}function Pe(t){var e="other";return navigator&&navigator.platform&&navigator.userAgent&&(/^(mac)/i.test(navigator.platform)?e="mac":/^(win)/i.test(navigator.platform)?e="win":/(android)/i.test(navigator.userAgent)?e="android":/(iphone)/i.test(navigator.userAgent)||/(ipod)/i.test(navigator.userAgent)||/(ipad)/i.test(navigator.userAgent)?e="ios":/\bCrOS\b/i.test(navigator.userAgent)&&(e="chromeos")),e===t?t:"!"+t}function Be(t){var e=t;return Array.isArray(e)&&e.length>0&&(e=e[0]+"("+e.slice(1).join("")+")"),e}function Oe(t,e){var i="";Array.isArray(t)||(t=[t]);var a,s=c(t);try{for(s.s();!(a=s.n()).done;){var r=a.value,n=void 0,o=r.match(/(^[^:]*):/),l=o?o[1]:"";if(l===Pe("mac")||l===Pe("win")||l===Pe("ios")||l===Pe("android")||l===Pe("chromeos")||l===Pe("other")){var h=r.match(/:([^:]*)$/);n=h?h[1]:r}else if(!["mac","!mac","win","!win","ios","!ios","android","!android","chromeos","!chromeos","other","!other"].includes(l)){var d=r.match(/:([^:]*)$/);n=d?d[1]:r}if(n){var u,p="mac"===Pe("mac")||"ios"===Pe("ios"),m=n.length>1?n.split("-"):[n],f="",y=c(m);try{for(y.s();!(u=y.n()).done;){var g=u.value;!p&&f.length>0&&(f+='<span class="ML__shortcut-join">+</span>'),"Key"===g.substr(0,3)?f+=g.substr(3,1):"Digit"===g.substr(0,5)?f+=g.substr(5,1):f+={Meta:p?"":"command",Shift:p?"":"shift",Alt:p?"":"alt",Ctrl:p?"":"control","\n":p?"":"return",Return:p?"":"return",Enter:p?"":"enter",Tab:p?"":"tab",Esc:"esc",Backspace:p?"":"backspace",Del:p?"":"del",PageUp:p?"":"page up",PageDown:p?"":"page down",Home:p?"":"home",End:p?"":"end",Spacebar:"space",Semicolon:";",Period:".",Comma:",",Minus:"-",Equal:"=",Quote:"'",BracketLeft:"[",BracketRight:"]",Backslash:"\\",IntlBackslash:"\\",Backquote:"`",Slash:"/",NumpadMultiply:"* &#128290;",NumpadDivide:"/ &#128290;",NumpadSubtract:"- &#128290;",NumpadAdd:"+ &#128290;",NumpadDecimal:". &#128290;",NumpadComma:", &#128290;",Help:"help",Left:"",Up:"",Right:"",Down:""}[g]||g}}catch(t){y.e(t)}finally{y.f()}i.length>0&&(i+=e||" or "),i+=f}}}catch(t){s.e(t)}finally{s.f()}return i}var Re={KEYBOARD_SHORTCUTS:ze,INLINE_SHORTCUTS:qe,stringify:Oe,startsWithString:function(t,e){for(var i=[],a=function(){var a=t.substring(s);e&&e.overrideDefaultInlineShortcuts||Object.keys(qe).forEach(function(t){t.startsWith(a)&&!i.includes(t)&&i.push(t)});var r=e&&e.inlineShortcuts?e.inlineShortcuts:null;r&&Object.keys(r).forEach(function(t){t.startsWith(a)&&i.push(t)})},s=0;s<=t.length-1;s++)a();return i},forString:function(t,e,i,a){var s="";a&&a.overrideDefaultInlineShortcuts||(s=Ie(t,e,qe[i]));var r,n=a&&a.inlineShortcuts?a.inlineShortcuts:null;return n&&(r=Ie(t,e,n[i])),r||s},selectorForKeystroke:function(t,e){for(var i=0,a=[Pe("mac")+":"+t+":"+e,Pe("win")+":"+t+":"+e,Pe("ios")+":"+t+":"+e,Pe("android")+":"+t+":"+e,Pe("chromeos")+":"+t+":"+e,Pe("other")+":"+t+":"+e,Pe("mac")+":"+e,Pe("win")+":"+e,Pe("ios")+":"+e,Pe("android")+":"+e,Pe("chromeos")+":"+e,t+":"+e,e];i<a.length;i++){var s=a[i];if(ze[s])return ze[s]}return""},forCommand:function(t){var e=[];if("string"==typeof t){var i=Ee[t];Array.isArray(i)?e=i.slice():i&&e.push(i)}t=Be(t);var a=new RegExp("^"+t.replace("\\","\\\\").replace("|","\\|").replace("*","\\*").replace("$","\\$").replace("^","\\^")+"([^*a-zA-Z]|$)");return Object.keys(ze).forEach(function(t){if(a.test(Be(ze[t]))){var i=t.match(/:([^:]*)$/);i&&e.push(i[1])}}),Oe(e)}};function Ke(t,e){this.root=ke.makeRoot(),this.path=[{relation:"body",offset:0}],this.extent=0,this.config=t?o({},t):{},this.target=e,this.suppressChangeNotifications=!1}function Ne(t){var e=Object.assign(new Ke(t.config,t.target),t);return e.path=De.clone(t.path),e}function We(t,e){for(var i=0,a=0;a<e.row;a++)for(var s=0;s<t[a].length;s++)i+=1;return i+=e.col,i}function $e(t,e){if("string"==typeof e){var i=e.match(/cell([0-9]*)$/);i&&(e=parseInt(i[1]))}for(var a={row:0,col:0};e>0;)a.col+=1,(!t[a.row]||a.col>=t[a.row].length)&&(a.col=0,a.row+=1),e-=1;return a}function He(t,e){var i;return"object"!=h(e)&&(e=$e(t,e)),Array.isArray(t[e.row])&&(i=t[e.row][e.col]||null),!i||0!==i.length&&"first"===i[0].type||i.unshift(ei()),i}function Ve(t){var e,i=0,a=0,s=1,r=c(t);try{for(r.s();!(e=r.n()).done;){var n=e.value;a+=1,n.length>s&&(s=n.length)}}catch(t){r.e(t)}finally{r.f()}return i=a*s,i}function Ue(t,e,i){if(!t)return[];e||(e=",");var a,s,r=[],n=c(t);try{for(n.s();!(s=n.n()).done;){var o=s.value;o&&o.length>0&&"first"===o[0].type&&(o=o.slice(1)),o&&o.length>0&&(a?r.push(a):a=new ke.MathAtom("math","mpunct",e,i),r=r.concat(o))}}catch(t){n.e(t)}finally{n.f()}return r}function je(t,e,i){var a=o({},e);if(a.row+=i,a.row<0){if(a.col+=i,a.row=t.length-1,a.col<0)return null;for(;a.row>=0&&!He(t,a);)a.row-=1;if(a.row<0)return null}else if(a.row>=t.length){for(a.col+=i,a.row=0;a.row<t.length&&!He(t,a);)a.row+=1;if(a.row>t.length-1)return null}return a}function Ge(t){return!!t&&("mord"===t.type&&/[0-9.]/.test(t.body)||"mpunct"===t.type&&","===t.body)}function Ze(t,e){if(!t)return!1;if(Array.isArray(t)){var i,a=c(t);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(Ze(s,e))return!0}}catch(t){a.e(t)}finally{a.f()}}else{if(t===e)return!0;if(["body","numer","denom","index","subscript","superscript","underscript","overscript"].some(function(i){return i===e||Ze(t[i],e)}))return!0;if(t.array)for(var r=Ve(t.array);r>=0;r--)if(Ze(He(t.array,r),e))return!0}return!1}function Xe(t){if(t)return 1===t.length&&"leftright"===t[0].type&&"("===t[0].leftDelim&&(t=t[0].body),t}function Je(t,e){return t?t.length<=1?t:(e&&"ASCIIMath"===e.format||(t=t.replace(/\\\\([^\s\n])/g,"\\$1")),e&&"ASCIIMath"===e.format||!/\\/.test(t)?Ye(t=(t=(t=(t=(t=(t=t.replace(/\u2061/g,"")).replace(/\u3016/g,"{")).replace(/\u3017/g,"}")).replace(/([^\\])sinx/g,"$1\\sin x")).replace(/([^\\])cosx/g,"$1\\cos x ")).replace(/\u2013/g,"-"),e):t):""}function Ye(t,e){if(!t)return"";var i,a=!1;if(a||"^"!==t[0]&&"_"!==t[0]||(i=Qe(t.substr(1),o(o({},e),{},{noWrap:!0})),t=t[0]+"{"+i.match+"}",t+=Ye(i.rest,e),a=!0),a||(i=t.match(/^(sqrt|\u221a)(.*)/),i&&(i=Qe(i[2],o(o({},e),{},{noWrap:!0})),t="\\sqrt{"+i.match+"}",t+=Ye(i.rest,e),a=!0)),a||(i=t.match(/^(\\cbrt|\u221b)(.*)/),i&&(i=Qe(i[2],o(o({},e),{},{noWrap:!0})),t="\\sqrt[3]{"+i.match+"}",t+=Ye(i.rest,e),a=!0)),a||(i=t.match(/^abs(.*)/),i&&(i=Qe(i[1],o(o({},e),{},{noWrap:!0})),t="\\left|"+i.match+"\\right|",t+=Ye(i.rest,e),a=!0)),a||(i=t.match(/^["](.*?)["](.*)/),i&&(t="\\text{"+i[1]+"}",t+=Ye(i[2],e),a=!0)),a||(i=t.match(/^([^a-zA-Z({[_^\\\s"]+)(.*)/),i&&(t=ti(i[1],e),t+=Ye(i[2],e),a=!0)),!a&&/^(f|g|h)[^a-zA-Z]/.test(t)&&(i=Qe(t.substring(1),e),t=t[0],t+=i.match,t+=Ye(i.rest,e),a=!0),a||(i=t.match(/^([a-zA-Z]+)(.*)/),i&&(t=ti(i[1],e),t+=Ye(i[2],e),a=!0)),!a)if(i=Qe(t,o(o({},e),{},{noWrap:!0})),i.match&&"/"===i.rest[0]){var s=Qe(i.rest.substr(1),o(o({},e),{},{noWrap:!0}));s.match&&(t="\\frac{"+i.match+"}{"+s.match+"}"+Ye(s.rest,e)),a=!0}else i.match&&/^(\(|\{|\[)$/.test(t[0])?(t="\\left"+t[0]+i.match+"\\right"+{"(":")","{":"}","[":"]"}[t[0]]+Ye(i.rest,e),a=!0):i.match&&(t=i.match,t+=Ye(i.rest,e),a=!0);return a||(i=t.match(/^(\s+)(.*)$/),i&&(t=" "+Ye(i[2],e),a=!0)),t}function Qe(t,e){var i="",a=t=t.trim(),s=t.charAt(0),r={"(":")","{":"}","[":"]"}[s];if(r){for(var n=1,o=1;o<t.length&&n>0;)t[o]===s&&n++,t[o]===r&&n--,o++;0===n?(i=e.noWrap&&"("===s&&")"===r?Ye(t.substring(1,o-1),e):"\\mleft"+s+Ye(t.substring(1,o-1),e)+"\\mright"+r,a=t.substring(o)):(i=t.substring(1,o),a="")}else{var l=t.match(/^([a-zA-Z]+)/);if(l){var h=Re.forString("math",null,t,e);if(h)return h=h.replace("_{#?}",""),h=h.replace("^{#?}",""),{match:h,rest:t.substring(h.length)}}if(l=t.match(/^([a-zA-Z])/),l)return{match:l[1],rest:t.substring(1)};if(l=t.match(/^(-)?\d+(\.\d*)?/),l)return{match:l[0],rest:t.substring(l[0].length)};/^\\(left|right)/.test(t)||(l=t.match(/^(\\[a-zA-Z]+)/),l&&(a=t.substring(l[1].length),i=l[1]))}return{match:i,rest:a}}function ti(t,e){var i=Re.forString("math",null,t,e);return i?(i=i.replace("_{#?}",""),i=i.replace("^{#?}",""),i+=" "):i=t,i}function ei(){return new ke.MathAtom("","first")}Ke.prototype._announce=function(t,e,i){"function"==typeof this.config.onAnnounce&&this.config.onAnnounce(this.target,t,e,i)},Ke.prototype.filter=function(t,e){e=e<0?-1:1;var i=[],a=new Ke;a.path=De.clone(this.path),a.extent=this.extent,a.root=this.root,e>=0?a.collapseForward():(a.collapseBackward(),a.move(1));var s=a.anchor();do{t.bind(a)(a.path,a.anchor())&&i.push(a.toString()),e>=0?a.next({iterateAll:!0}):a.previous({iterateAll:!0})}while(s!==a.anchor());return i},Ke.prototype.forEach=function(t){this.root.forEach(t)},Ke.prototype.forEachSelected=function(t,e){(e=e||{}).recursive=void 0!==e.recursive&&e.recursive;var i=this.siblings(),a=this.startOffset()+1,s=this.endOffset()+1;if(e.recursive)for(var r=a;r<s;r++)i[r]&&"first"!==i[r].type&&i[r].forEach(t);else for(var n=a;n<s;n++)i[n]&&"first"!==i[n].type&&t(i[n])},Ke.prototype.toString=function(){return De.pathToString(this.path,this.extent)},Ke.prototype.adjustPlaceholder=function(){var t=this.siblings();if(t&&t.length<=1){var e,i=this.relation();if("numer"===i?e="numerator":"denom"===i?e="denominator":"surd"===this.parent().type&&"body"===i?e="radicand":"overunder"===this.parent().type&&"body"===i?e="base":"underscript"!==i&&"overscript"!==i||(e="annotation"),e){var a=[new ke.MathAtom("math","placeholder","",this.anchorStyle())];Array.prototype.splice.apply(t,[1,0].concat(a))}}},Ke.prototype.selectionWillChange=function(){"function"!=typeof this.config.onSelectionWillChange||this.suppressChangeNotifications||this.config.onSelectionWillChange(this.target)},Ke.prototype.selectionDidChange=function(){"function"!=typeof this.config.onSelectionDidChange||this.suppressChangeNotifications||this.config.onSelectionDidChange(this.target)},Ke.prototype.contentWillChange=function(){"function"!=typeof this.config.onContentWillChange||this.suppressChangeNotifications||this.config.onContentWillChange(this.target)},Ke.prototype.contentDidChange=function(){"function"!=typeof this.config.onContentDidChange||this.suppressChangeNotifications||this.config.onContentDidChange(this.target)},Ke.prototype.setPath=function(t,e){if("string"==typeof t)t=De.pathFromString(t);else if(Array.isArray(t)){var i=De.clone(t),a=this.path;this.path=i,0===e&&"placeholder"===this.anchor().type&&(i[i.length-1].offset=0,e=1),t={path:i,extent:e||0},this.path=a}var s=0!==De.pathDistance(this.path,t.path),r=t.extent!==this.extent;return(s||r)&&(s&&this.adjustPlaceholder(),this.selectionWillChange(),this.path=De.clone(t.path),this.siblings().length<this.anchorOffset()?(this.path=[{relation:"body",offset:0}],this.extent=0):this.setExtent(t.extent),this.selectionDidChange()),s||r},Ke.prototype.wordBoundary=function(t,e){e=e<0?-1:1;var i=new Ke;i.path=De.clone(t),i.root=this.root;for(var a=0;i.sibling(a)&&"text"===i.sibling(a).mode&&Vt.LETTER_AND_DIGITS.test(i.sibling(a).body);)a+=e;return i.sibling(a)||(a-=e),i.path[i.path.length-1].offset+=a,i.path},Ke.prototype.wordBoundaryOffset=function(t,e){e=e<0?-1:1;var i,a=this.siblings();if(!a[t])return t;if("text"!==a[t].mode)return t;if(Vt.LETTER_AND_DIGITS.test(a[t].body)){var s,r=t;do{s="text"===a[r].mode&&Vt.LETTER_AND_DIGITS.test(a[r].body),r+=e}while(a[r]&&s);i=a[r]?r-2*e:r-e}else if(/\s/.test(a[t].body)){for(var n=t;a[n]&&"text"===a[n].mode&&/\s/.test(a[n].body);)n+=e;if(a[n]){var o=!0;do{o="text"===a[n].mode&&!/\s/.test(a[n].body),n+=e}while(a[n]&&o);i=a[n]?n-2*e:n-e}else i=n-e}else{for(var l=t;a[l]&&"text"===a[l].mode&&!/\s/.test(a[l].body);)l+=e;i=a[l]?l:l-e;for(var h=!0;a[l]&&h;)h="text"===a[l].mode&&/\s/.test(a[l].body),h&&(i=l),l+=e;i=a[l]?l-2*e:l-e}return i-(e>0?0:1)},Ke.prototype.setRange=function(t,e,i){i=i||{};var a=De.pathDistance(t,e);if(0===a)return i.extendToWordBoundary?(t=this.wordBoundary(t,-1),e=this.wordBoundary(e,1),this.setRange(t,e)):this.setPath(De.clone(t),0);if(1===a){var s=e[e.length-1].offset-t[t.length-1].offset;return i.extendToWordBoundary?(t=this.wordBoundary(t,s<0?1:-1),e=this.wordBoundary(e,s<0?-1:1),this.setRange(t,e)):this.setPath(De.clone(t),s)}var r=De.pathCommonAncestor(t,e),n=r.length;if(t.length===n||e.length===n||t[n].relation!==e[n].relation)return this.setPath(r,-1);r.push(t[n]),r=De.clone(r);var o=e[n].offset-t[n].offset+1;return o<=0?e.length>n+1?(r[n].relation=e[n].relation,r[n].offset=e[n].offset,r[r.length-1].offset-=1,o=2-o):(r[n].relation=e[n].relation,r[n].offset=e[n].offset,o=1-o):e.length<=t.length?r[r.length-1].offset-=1:e.length>t.length&&(r[n].offset-=1),this.setPath(r,o)},Ke.prototype.ancestor=function(t){if(t>this.path.length)return null;for(var e=this.root,i=0;i<this.path.length-t;i++){var a=this.path[i];if(e.array)e=He(e.array,a.relation)[a.offset];else{if(!e[a.relation])return null;0!==e[a.relation].length&&"first"===e[a.relation][0].type||e[a.relation].unshift(ei());var s=Math.min(a.offset,e[a.relation].length-1);e=e[a.relation][s]}}return e},Ke.prototype.anchor=function(){if(this.parent().array)return He(this.parent().array,this.relation())[this.anchorOffset()];var t=this.siblings();return t[Math.min(t.length-1,this.anchorOffset())]},Ke.prototype.parent=function(){return this.ancestor(1)},Ke.prototype.relation=function(){return this.path.length>0?this.path[this.path.length-1].relation:""},Ke.prototype.anchorOffset=function(){return this.path.length>0?this.path[this.path.length-1].offset:0},Ke.prototype.focusOffset=function(){return this.path.length>0?this.path[this.path.length-1].offset+this.extent:0},Ke.prototype.startOffset=function(){return Math.min(this.focusOffset(),this.anchorOffset())},Ke.prototype.endOffset=function(){return Math.max(this.focusOffset(),this.anchorOffset())},Ke.prototype.insertFirstAtom=function(){this.siblings()},Ke.prototype.siblings=function(){return 0===this.path.length?[]:(this.parent().array?t=He(this.parent().array,this.relation()):(t=this.parent()[this.relation()]||[],"string"==typeof t&&(t=[])),0!==t.length&&"first"===t[0].type||t.unshift(ei()),t);var t},Ke.prototype.sibling=function(t){return this.siblings()[this.startOffset()+t]},Ke.prototype.isCollapsed=function(){return 0===this.extent},Ke.prototype.setExtent=function(t){this.extent=t},Ke.prototype.collapseForward=function(){return 0!==this.extent&&(this.setSelection(this.endOffset()),!0)},Ke.prototype.collapseBackward=function(){return 0!==this.extent&&(this.setSelection(this.startOffset()),!0)},Ke.prototype.selectGroup_=function(){var t=this.siblings();if("text"===this.anchorMode()){for(var e=this.startOffset(),i=this.endOffset();t[e]&&"text"===t[e].mode&&Vt.LETTER_AND_DIGITS.test(t[e].body);)e-=1;for(;t[i]&&"text"===t[i].mode&&Vt.LETTER_AND_DIGITS.test(t[i].body);)i+=1;if(i-=1,e>=i)return void this.setSelection(this.endOffset()-1,1);this.setSelection(e,i-e)}else if("mord"===this.sibling(0).type&&/[0-9,.]/.test(this.sibling(0).body)){for(var a=this.startOffset(),s=this.endOffset();Ge(t[a]);)a-=1;for(;Ge(t[s]);)s+=1;s-=1,this.setSelection(a,s-a)}else this.setSelection(0,"end")},Ke.prototype.selectAll_=function(){this.path=[{relation:"body",offset:0}],this.setSelection(0,"end")},Ke.prototype.deleteAll_=function(){this.selectAll_(),this.delete_()},Ke.prototype.contains=function(t){if(this.isCollapsed())return!1;for(var e=this.siblings(),i=this.startOffset(),a=this.endOffset(),s=i;s<a;s++)if(Ze(e[s],t))return!0;return!1},Ke.prototype.getSelectedAtoms=function(){if(this.isCollapsed())return null;for(var t=[],e=this.siblings(),i=this.startOffset()+1,a=this.endOffset()+1,s=i;s<a;s++)e[s]&&"first"!==e[s].type&&t.push(e[s]);return t},Ke.prototype.commandOffsets=function(){var t=this.siblings();if(t.length<=1)return null;var e=Math.min(this.endOffset(),t.length-1);if("command"!==t[e].type)return null;for(;e>0&&"command"===t[e].type;)e-=1;for(var i=this.startOffset()+1;i<=t.length-1&&"command"===t[i].type;)i+=1;return i>e?{start:e+1,end:i}:null},Ke.prototype.extractCommandStringAroundInsertionPoint=function(t){var e="",i=this.commandOffsets();if(i)for(var a=t?this.anchorOffset()+1:i.end,s=this.siblings(),r=i.start;r<a;r++)e+=s[r].body||"";return e},Ke.prototype.decorateCommandStringAroundInsertionPoint=function(t){var e=this.commandOffsets();if(e)for(var i=this.siblings(),a=e.start;a<e.end;a++)i[a].error=t},Ke.prototype.commitCommandStringBeforeInsertionPoint=function(){var t=this.commandOffsets();if(t)for(var e=this.siblings(),i=this.anchorOffset()+1,a=t.start;a<i;a++)e[a]&&(e[a].suggestion=!1)},Ke.prototype.spliceCommandStringAroundInsertionPoint=function(t){var e=this.commandOffsets();if(e){if(this.contentWillChange(),t){Array.prototype.splice.apply(this.siblings(),[e.start,e.end-e.start].concat(t));var i,a=[],s=c(t);try{for(s.s();!(i=s.n()).done;){var r=i.value;a=a.concat(r.filter(function(t){return"placeholder"===t.type}))}}catch(t){s.e(t)}finally{s.f()}this.setExtent(0),this.path[this.path.length-1].offset=e.start-1,0!==a.length&&this.leap(1,!1)||this.setSelection(e.start+t.length-1)}else this.siblings().splice(e.start,e.end-e.start),this.setSelection(e.start-1,0);this.contentDidChange()}},Ke.prototype.removeCommandString=function(){this.contentWillChange();var t=this.suppressChangeNotifications;this.suppressChangeNotifications=!0,function t(e){if(e)if(Array.isArray(e))for(var i=e.length-1;i>=0;i--)"command"===e[i].type?e.splice(i,1):t(e[i]);else if(t(e.body),t(e.superscript),t(e.subscript),t(e.underscript),t(e.overscript),t(e.numer),t(e.denom),t(e.index),e.array)for(var a=Ve(e.array);a>=0;a--)t(He(e.array,a))}(this.root.body),this.suppressChangeNotifications=t,this.contentDidChange()},Ke.prototype.extractArgBeforeInsertionPoint=function(){var t=this.siblings();if(t.length<=1)return[];var e=[],i=this.startOffset();if("text"===t[i].mode)for(;i>=1&&"text"===t[i].mode;)e.unshift(t[i]),i--;else for(;i>=1&&/^(mord|surd|msubsup|leftright|mop)$/.test(t[i].type);)e.unshift(t[i]),i--;return e},Ke.prototype.setSelection=function(t,e,i){t=t||0,e=e||0;var a=this.path[this.path.length-1].relation;i||(i=a);var s=this.parent();if(!s&&"body"!==i)return!1;var r=i.startsWith("cell");if(!r&&!s[i]||r&&!s.array)return!1;var n=i!==a;this.path[this.path.length-1].relation=i;var o=this.siblings().length;this.path[this.path.length-1].relation=a;var l=this.extent;"end"===e?e=o-t-1:"start"===e&&(e=-t),this.setExtent(e);var h=this.extent!==l;this.setExtent(l),t<0&&(t=o+t),t=Math.max(0,Math.min(t,o-1));var c=this.path[this.path.length-1].offset;return(n||c!==t||h)&&(n&&this.adjustPlaceholder(),this.selectionWillChange(),this.path[this.path.length-1].relation=i,this.path[this.path.length-1].offset=t,this.setExtent(e),this.selectionDidChange()),!0},Ke.prototype.next=function(t){t=t||{};var e={body:"numer",numer:"denom",denom:"index",index:"overscript",overscript:"underscript",underscript:"subscript",subscript:"superscript"};if(this.anchorOffset()!==this.siblings().length-1){this.setSelection(this.anchorOffset()+1);var i=this.anchor();if(i&&!i.captureSelection){var a;if(i.array){var s=0;a="";for(var r=Ve(i.array);!a&&s<r;)He(i.array,s)&&(a="cell"+s.toString()),s+=1;return this.path.push({relation:a,offset:0}),void this.setSelection(0,0,a)}for(a="body";a;){if(Array.isArray(i[a]))return this.path.push({relation:a,offset:0}),this.insertFirstAtom(),void(!t.iterateAll&&i.skipBoundary&&this.next(t));a=e[a]}}}else{this.adjustPlaceholder();for(var n=e[this.relation()],o=this.parent();n&&!o[n];)n=e[n];if(n)return void this.setSelection(0,0,n);if(this.parent().array)for(var l=Ve(this.parent().array),h=parseInt(this.relation().match(/cell([0-9]*)$/)[1])+1;h<l;){if(He(this.parent().array,h)&&this.setSelection(0,0,"cell"+h))return void this.selectionDidChange();h+=1}if(1===this.path.length)(this.suppressChangeNotifications||!this.config.onMoveOutOf||this.config.onMoveOutOf(this,"forward"))&&(this.path[0].offset=0);else{var c=!t.iterateAll&&this.parent().skipBoundary;this.path.pop(),c&&this.next(t)}this.selectionDidChange()}},Ke.prototype.previous=function(t){var e={numer:"body",denom:"numer",index:"denom",overscript:"index",underscript:"overscript",subscript:"underscript",superscript:"subscript"};if(!(t=t||{}).iterateAll&&1===this.anchorOffset()&&this.parent()&&this.parent().skipBoundary&&this.setSelection(0),this.anchorOffset()<1){for(var i=e[this.relation()];i&&!this.setSelection(-1,0,i);)i=e[i];var a=this.parent()?this.parent().type:"none";if("body"!==i||"msubsup"!==a&&"mop"!==a||(i=null),i)return;if(this.adjustPlaceholder(),this.selectionWillChange(),this.relation().startsWith("cell"))for(var s=parseInt(this.relation().match(/cell([0-9]*)$/)[1])-1;s>=0;){if(He(this.parent().array,s)&&this.setSelection(-1,0,"cell"+s))return void this.selectionDidChange();s-=1}return 1===this.path.length?(this.suppressChangeNotifications||!this.config.onMoveOutOf||this.config.onMoveOutOf.bind(this)(-1))&&(this.path[0].offset=this.root.body.length-1):(this.path.pop(),this.setSelection(this.anchorOffset()-1)),void this.selectionDidChange()}var r=this.anchor();if(!r.captureSelection){var n;if(r.array){n="";for(var o=Ve(r.array),l=o-1;!n&&l<o;)He(r.array,l)&&(n="cell"+l.toString()),l-=1;return l+=1,this.path.push({relation:n,offset:He(r.array,l).length-1}),void this.setSelection(-1,0,n)}for(n="superscript";n;){if(Array.isArray(r[n]))return this.path.push({relation:n,offset:r[n].length-1}),void this.setSelection(-1,0,n);n=e[n]}}this.setSelection(this.anchorOffset()-1),!t.iterateAll&&this.sibling(0)&&this.sibling(0).skipBoundary&&this.previous(t)},Ke.prototype.move=function(t,e){var i=(e=e||{extend:!1}).extend||!1;if(this.removeSuggestion(),i)this.extend(t,e);else{var a=Ne(this);if(t>0)for(this.collapseForward()&&t--;t>0;)this.next(),t--;else if(t<0)for(this.collapseBackward()&&t++;0!==t;)this.previous(),t++;this._announce("move",a)}},Ke.prototype.up=function(t){var e=(t=t||{extend:!1}).extend||!1;this.collapseBackward();var i=this.relation();if("denom"===i)e?(this.selectionWillChange(),this.path.pop(),this.path[this.path.length-1].offset-=1,this.setExtent(1),this.selectionDidChange()):this.setSelection(this.anchorOffset(),0,"numer"),this._announce("moveUp");else if(this.parent().array){var a=$e(this.parent().array,i);a=je(this.parent().array,a,-1),a&&He(a)?(this.path[this.path.length-1].relation="cell"+We(this.parent().array,a),this.setSelection(this.anchorOffset()),this._announce("moveUp")):this.move(-1,t)}else this._announce("line")},Ke.prototype.down=function(t){var e=(t=t||{extend:!1}).extend||!1;this.collapseForward();var i=this.relation();if("numer"===i)e?(this.selectionWillChange(),this.path.pop(),this.path[this.path.length-1].offset-=1,this.setExtent(1),this.selectionDidChange()):this.setSelection(this.anchorOffset(),0,"denom"),this._announce("moveDown");else if(this.parent().array){var a=$e(this.parent().array,i);a=je(this.parent().array,a,1),a&&He(a)?(this.path[this.path.length-1].relation="cell"+We(this.parent().array,a),this.setSelection(this.anchorOffset()),this._announce("moveDown")):this.move(1,t)}else this._announce("line")},Ke.prototype.extend=function(t){var e=this.path[this.path.length-1].offset,i=0,a=Ne(this);i=this.extent+t;var s=e+i;if(s<0&&0!==i){if(this.path.length>1)return this.selectionWillChange(),this.path.pop(),this.setExtent(-1),this.selectionDidChange(),void this._announce("move",a);e=this.path[this.path.length-1].offset,i=this.extent}else if(s>=this.siblings().length){if(this.path.length>1)return this.selectionWillChange(),this.path.pop(),this.path[this.path.length-1].offset-=1,this.setExtent(1),this.selectionDidChange(),void this._announce("move",a);this.isCollapsed()&&(e-=1),i-=1}this.setSelection(e,i),this._announce("move",a)},Ke.prototype.skip=function(t,e){var i=(e=e||{extend:!1}).extend||!1;t=t<0?-1:1;var a=Ne(this),s=this.siblings(),r=this.focusOffset(),n=r+t;if(i&&(n=Math.min(Math.max(0,n),s.length-1)),n<0||n>=s.length)this.move(t,e);else{if(s[n]&&"text"===s[n].mode){if(n=this.wordBoundaryOffset(n,t),n<0&&!i)return void this.setSelection(0);if(n>s.length)return this.setSelection(s.length-1),void this.move(t,e)}else{var o=s[n]?s[n].type:"";if("mopen"===o&&t>0||"mclose"===o&&t<0){var l="mopen"===o?1:-1;for(n+=t>0?1:-1;n>=0&&n<s.length&&0!==l;)"mopen"===s[n].type?l+=1:"mclose"===s[n].type&&(l-=1),n+=t;0!==l&&(n=r+t),t>0&&(n-=1)}else{for(;s[n]&&"math"===s[n].mode&&s[n].type===o;)n+=t;n-=t>0?1:0}}if(i){var h=this.anchorOffset();this.setSelection(h,n-h)}else this.setSelection(n);this._announce("move",a)}},Ke.prototype.jump=function(t,e){var i=(e=e||{extend:!1}).extend||!1;t=t<0?-1:1;var a=this.siblings(),s=this.focusOffset();t>0&&(s=Math.min(s+1,a.length-1));var r=t<0?0:a.length-1;i?this.extend(r-s):this.move(r-s)},Ke.prototype.jumpToMathFieldBoundary=function(t,e){var i=(e=e||{extend:!1}).extend||!1;t=(t=t||1)<0?-1:1;var a,s=Ne(this),r=[{relation:"body",offset:this.path[0].offset}];i?t<0?r[0].offset>0&&(a=-r[0].offset):r[0].offset<this.siblings().length-1&&(a=this.siblings().length-1-r[0].offset):(r[0].offset=t<0?0:this.root.body.length-1,a=0),this.setPath(r,a),this._announce("move",s)},Ke.prototype.leap=function(t,e){var i=this;t=(t=t||1)<0?-1:1,e=e||!0;var a=this.suppressChangeNotifications;this.suppressChangeNotifications=!0;var s=Ne(this),r=this.extent;this.move(t),"placeholder"===this.anchor().type&&this.move(t);var n=this.filter(function(t,e){return"placeholder"===e.type||t.length>1&&1===i.siblings().length},t);if(0===n.length){if(this.setPath(s,r),e)if(this.config.onTabOutOf)this.config.onTabOutOf(this.target,t>0?"forward":"backward");else if(document.activeElement){var o='a[href]:not([disabled]),\n                    button:not([disabled]),\n                    textarea:not([disabled]),\n                    input[type=text]:not([disabled]),\n                    select:not([disabled]),\n                    [contentEditable="true"],\n                    [tabindex]:not([disabled]):not([tabindex="-1"])',l=Array.prototype.filter.call(document.querySelectorAll(o),function(t){return(t.offsetWidth>0||t.offsetHeight>0)&&!t.contains(document.activeElement)||t===document.activeElement}),h=l.indexOf(document.activeElement)+t;h<0&&(h=l.length-1),h>=l.length&&(h=0),l[h].focus()}return this.suppressChangeNotifications=a,!1}return this.selectionWillChange(),this.setPath(n[0]),"placeholder"===this.anchor().type&&this.setExtent(-1),this._announce("move",s),this.selectionDidChange(),this.suppressChangeNotifications=a,!0},Ke.prototype.anchorMode=function(){var t,e=this.isCollapsed()?this.anchor():this.sibling(1);if(e){if("commandliteral"===e.type||"command"===e.type)return"command";t=e.mode}for(var i=1,a=this.ancestor(i);!t&&a;)a&&(t=a.mode),i+=1,a=this.ancestor(i);return t},Ke.prototype.anchorStyle=function(){var t,e=this.isCollapsed()?this.anchor():this.sibling(1);if(e&&"first"!==e.type){if("commandliteral"===e.type||"command"===e.type)return{};t={color:e.color,backgroundColor:e.backgroundColor,fontFamily:e.fontFamily,fontShape:e.fontShape,fontSeries:e.fontSeries,fontSize:e.fontSize}}for(var i=1,a=this.ancestor(i);!t&&a;)a&&(t={color:a.color,backgroundColor:a.backgroundColor,fontFamily:a.fontFamily,fontShape:a.fontShape,fontSeries:a.fontSeries,fontSize:a.fontSize}),i+=1,a=this.ancestor(i);return t},Ke.prototype.simplifyParen=function(t){var e=this;if(t&&this.config.removeExtraneousParentheses){for(var i=0;t[i];i++)if("leftright"===t[i].type&&"("===t[i].leftDelim&&Array.isArray(t[i].body)){for(var a=0,s=0,r=0,n=0;t[i].body[n];n++)"genfrac"===t[i].body[n].type&&(a++,s=n),"first"!==t[i].body[n].type&&r++;0===r&&1===a&&(t[i]=t[i].body[s])}t.forEach(function(t){if("genfrac"===t.type&&(e.simplifyParen(t.numer),e.simplifyParen(t.denom),t.numer=Xe(t.numer),t.denom=Xe(t.denom)),t.superscript&&(e.simplifyParen(t.superscript),t.superscript=Xe(t.superscript)),t.subscript&&(e.simplifyParen(t.subscript),t.subscript=Xe(t.subscript)),t.underscript&&(e.simplifyParen(t.underscript),t.underscript=Xe(t.underscript)),t.overscript&&(e.simplifyParen(t.overscript),t.overscript=Xe(t.overscript)),t.index&&(e.simplifyParen(t.index),t.index=Xe(t.index)),"surd"===t.type?(e.simplifyParen(t.body),t.body=Xe(t.body)):t.body&&Array.isArray(t.body)&&e.simplifyParen(t.body),t.array)for(var i=Ve(t.array);i>=0;i--)e.simplifyParen(He(t.array,i))})}},Ke.prototype.insert=function(t,e){if(!(e=e||{}).smartFence||!this._insertSmartFence(t,e.style)){var i=this.suppressChangeNotifications;e.suppressChangeNotifications&&(this.suppressChangeNotifications=!0),this.contentWillChange();var a=this.suppressChangeNotifications;this.suppressChangeNotifications=!0,e.insertionMode||(e.insertionMode="replaceSelection"),e.selectionMode||(e.selectionMode="placeholder"),e.format||(e.format="auto"),e.macros=e.macros||this.config.macros;var s,r=e.mode||this.anchorMode(),n=[this.getSelectedAtoms()];void 0!==e.placeholder&&(n["?"]=e.placeholder),"replaceSelection"!==e.insertionMode||this.isCollapsed()?"replaceAll"===e.insertionMode?(this.root.body.splice(1),this.path=[{relation:"body",offset:0}],this.extent=0):"insertBefore"===e.insertionMode?this.collapseBackward():"insertAfter"===e.insertionMode&&this.collapseForward():this.delete_();var l=this.siblings(),d=this.startOffset();if(d+1<l.length&&l[d+1]&&"placeholder"===l[d+1].type?this.delete_(1):d>0&&l[d]&&"placeholder"===l[d].type&&this.delete_(-1),"math"===r&&"ASCIIMath"===e.format)t=Je(t,o(o({},this.config),{},{format:"ASCIIMath"})),s=Te.parseTokens(C.tokenize(t),"math",null,e.macros,!1),this.simplifyParen(s);else if("text"!==r&&"auto"===e.format)if("command"===r){s=[];var u,p=c(t);try{for(p.s();!(u=p.n()).done;){var m=u.value;Vt.COMMAND_MODE_CHARACTERS.test(m)&&s.push(new ke.MathAtom("command","command",m))}}catch(t){p.e(t)}finally{p.f()}}else""===t?s=[new ke.MathAtom("command","command","\\")]:(t=Je(t,this.config),n[0]?t=t.replace(/(^|[^\\])#@/g,"$1#0"):/(^|[^\\])#@/.test(t)?(t=t.replace(/(^|[^\\])#@/g,"$1#0"),n[0]=this.extractArgBeforeInsertionPoint(),this._deleteAtoms(-n[0].length),Array.isArray(n[0])&&0===n[0].length&&(n[0]=void 0)):t=t.replace(/(^|[^\\])#@/g,"$1#?"),s=Te.parseTokens(C.tokenize(t),r,n,e.macros,e.smartFence),this.simplifyParen(s));else"latex"===e.format?s=Te.parseTokens(C.tokenize(t),r,n,e.macros,e.smartFence):"text"!==r&&"text"!==e.format||(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/\\/g,"\\textbackslash ")).replace(/#/g,"\\#")).replace(/\$/g,"\\$")).replace(/%/g,"\\%")).replace(/&/g,"\\&")).replace(/_/g,"\\_")).replace(/{/g,"\\textbraceleft ")).replace(/}/g,"\\textbraceright ")).replace(/\^/g,"\\textasciicircum ")).replace(/~/g,"\\textasciitilde ")).replace(//g,"\\textsterling "),s=Te.parseTokens(C.tokenize(t),"text",n,e.macros,!1));!function t(e,i){e&&i&&(Array.isArray(e)?e.forEach(function(e){return t(e,i)}):"object"==h(e)&&(e.color||e.backgroundColor||e.fontFamily||e.fontShape||e.fontSeries||e.fontSize||(e.applyStyle(i),t(e.body,i),t(e.numer,i),t(e.denom,i),t(e.index,i),t(e.overscript,i),t(e.underscript,i),t(e.subscript,i),t(e.superscript,i))))}(s,e.style);var f=this.parent();if(this.config.removeExtraneousParentheses&&f&&"leftright"===f.type&&"("===f.leftDelim&&function(t){return 0===t.length||1===t.length&&"first"===t[0].type}(f.body)&&s&&1===s.length&&"genfrac"===s[0].type?(this.path.pop(),this.siblings()[this.anchorOffset()]=s[0]):Array.prototype.splice.apply(this.siblings(),[this.anchorOffset()+1,0].concat(s)),this.insertFirstAtom(),this.suppressChangeNotifications=a,"placeholder"===e.selectionMode){var y,g=[],b=c(s);try{for(b.s();!(y=b.n()).done;){var v=y.value;g=g.concat(v.filter(function(t){return"placeholder"===t.type}))}}catch(t){b.e(t)}finally{b.f()}0!==g.length&&this.leap(1,!1)?this._announce("move"):this.setSelection(this.anchorOffset()+s.length)}else"before"===e.selectionMode||("after"===e.selectionMode?this.setSelection(this.anchorOffset()+s.length):"item"===e.selectionMode&&this.setSelection(this.anchorOffset(),s.length));this.contentDidChange(),this.suppressChangeNotifications=i}},Ke.prototype._insertSmartFence=function(t,e){var i=this.parent();if("leftright"===i.type&&"|"!==i.leftDelim&&/\||\\vert|\\Vert|\\mvert|\\mid/.test(t))return this.insert("\\,\\middle"+t+"\\, ",{mode:"math",format:"latex",style:e}),!0;"{"!==t&&"\\{"!==t||(t="\\lbrace"),"}"!==t&&"\\}"!==t||(t="\\rbrace"),"["!==t&&"\\["!==t||(t="\\lbrack"),"]"!==t&&"\\]"!==t||(t="\\rbrack");var a,s=Vt.RIGHT_DELIM[t];if(s&&("leftright"!==i.type||"|"!==i.leftDelim)){var r="",n=this.isCollapsed()||"placeholder"===this.anchor().type;r=this.sibling(0).isFunction?"\\mleft"+t+"\\mright":"\\left"+t+"\\right",r+=n?"?":s;var o=[];return n&&(o=this.siblings().splice(this.anchorOffset()+1,this.siblings().length)),this.insert(r,{mode:"math",format:"latex",style:e}),n&&(this.sibling(0).body=o,this.move(-1)),!0}if(Object.keys(Vt.RIGHT_DELIM).forEach(function(e){t===Vt.RIGHT_DELIM[e]&&(a=e)}),a){if(i&&"leftright"===i.type&&this.endOffset()===this.siblings().length-1)return this.contentWillChange(),i.rightDelim=t,this.move(1),this.contentDidChange(),!0;var l,h=this.siblings();for(l=this.endOffset();l>=0&&("leftright"!==h[l].type||"?"!==h[l].rightDelim);l--);if(l>=0)return this.contentWillChange(),h[l].rightDelim=t,h[l].body=h[l].body.concat(h.slice(l+1,this.endOffset()+1)),h.splice(l+1,this.endOffset()-l),this.setSelection(l),this.contentDidChange(),!0;if(i&&"leftright"===i.type&&"?"===i.rightDelim){this.contentWillChange(),i.rightDelim=t;var c=h.slice(this.endOffset()+1);return h.splice(this.endOffset()+1),this.path.pop(),Array.prototype.splice.apply(this.siblings(),[this.endOffset()+1,0].concat(c)),this.contentDidChange(),!0}var d=this.ancestor(2);return d&&"leftright"===d.type&&"?"===d.rightDelim&&this.endOffset()===h.length-1?(this.move(1),this._insertSmartFence(t,e)):(this.insert(t,{mode:"math",format:"latex",style:e}),!0)}return!1},Ke.prototype.positionInsertionPointAfterCommitedCommand=function(){for(var t=this.siblings(),e=this.commandOffsets(),i=e.start;i<e.end&&!t[i].suggestion;)i++;this.setSelection(i-1)},Ke.prototype.removeSuggestion=function(){for(var t=this.siblings(),e=t.length-1;e>=0;e--)t[e].suggestion&&t.splice(e,1)},Ke.prototype.insertSuggestion=function(t,e){this.removeSuggestion();var i,a=[],s=t.substr(e),r=c(s);try{for(r.s();!(i=r.n()).done;){var n=i.value,o=new ke.MathAtom("command","command",n);o.suggestion=!0,a.push(o)}}catch(t){r.e(t)}finally{r.f()}Array.prototype.splice.apply(this.siblings(),[this.anchorOffset()+1,0].concat(a))},Ke.prototype._deleteAtoms=function(t){t>0?this.siblings().splice(this.anchorOffset()+1,t):(this.siblings().splice(this.anchorOffset()+t+1,-t),this.setSelection(this.anchorOffset()+t))},Ke.prototype.delete=function(t){if(0===(t=t||0))this.delete_(0);else if(t>0)for(;t>0;)this.delete_(1),t--;else for(;t<0;)this.delete_(-1),t++},Ke.prototype.delete_=function(t){this.contentWillChange(),this.selectionWillChange();var e=this.suppressChangeNotifications;if(this.suppressChangeNotifications=!0,t=(t=t||0)<0?-1:t>0?1:t,this.removeSuggestion(),this.parent().array&&t<0&&0===this.startOffset()){var i=this.parent().array;if(function(t){for(var e={col:0,row:0};e.row<t.length&&!He(t,e);)e.row+=1;return He(t,e)?"cell"+We(t,e):""}(i)===this.relation()){var a,s=function(t,e){e||(e=[";",","]);var i,a,s=[],r=c(t);try{for(r.s();!(a=r.n()).done;){var n=a.value;i?s.push(i):i=new ke.MathAtom("math","mpunct",e[0],void 0),s=s.concat(Ue(n,e[1]))}}catch(t){r.e(t)}finally{r.f()}return s}(i);this.path.pop(),(a=this.siblings()).splice.apply(a,[this.anchorOffset(),1].concat(l(s))),this.setSelection(this.anchorOffset()-1,s.length)}else{var r=$e(i,this.relation());if(0===r.col){var n=je(i,r,-1);n.col=i[n.row].length-1,this.path[this.path.length-1].relation="cell"+We(i,n);var o=i[n.row][n.col].length,h=Ue(i[r.row]);i[n.row][n.col]=i[n.row][n.col].concat(h),this.setSelection(o-1,h.length),function(t,e){t.splice(e,1)}(i,r.row)}else if(0===function(t,e){for(var i=0,a={col:e,row:0};a.row<t.length;){var s=He(t,a);if(s&&s.length>0){var r=s.length;"first"===s[0].type&&(r-=1),r>0&&(i+=1)}a.row+=1}return i}(i,r.col)){!function(t,e){for(var i=0;i<t.length;)t[i][e]&&t[i].splice(e,1),i+=1}(i,r.col),r.col-=1,this.path[this.path.length-1].relation="cell"+We(i,r);var d=i[r.row][r.col];this.setSelection(d.length-1,0)}}return this.suppressChangeNotifications=e,this.selectionDidChange(),void this.contentDidChange()}var u=this.siblings();if(this.isCollapsed()){var p=this.anchorOffset();if(t<0)if(0!==p){var m=this.sibling(0);"leftright"===m.type?(m.rightDelim="?",this.move(-1)):!m.captureSelection&&/^(group|array|genfrac|surd|leftright|overlap|overunder|box|mathstyle|sizing)$/.test(m.type)?this.move(-1):(this._announce("delete",null,u.slice(p,p+1)),u.splice(p,1),this.setSelection(p-1))}else{var f=this.relation();if("superscript"===f||"subscript"===f){var y=this.parent()[f].filter(function(t){return"placeholder"!==t.type&&"first"!==t.type});this.parent()[f]=null,this.path.pop(),Array.prototype.splice.apply(this.siblings(),[this.anchorOffset(),0].concat(y)),this.setSelection(this.anchorOffset()-1),this._announce("deleted: "+f)}else if("denom"===f){var g=this.parent().numer.filter(function(t){return"placeholder"!==t.type&&"first"!==t.type}),b=this.parent().denom.filter(function(t){return"placeholder"!==t.type&&"first"!==t.type});this.path.pop(),Array.prototype.splice.apply(this.siblings(),[this.anchorOffset(),1].concat(b)),Array.prototype.splice.apply(this.siblings(),[this.anchorOffset(),0].concat(g)),this.setSelection(this.anchorOffset()+g.length-1),this._announce("deleted: denominator")}else if("body"===f){var v=this.siblings().filter(function(t){return"placeholder"!==t.type});this.path.length>1&&(v.shift(),this.path.pop(),Array.prototype.splice.apply(this.siblings(),[this.anchorOffset(),1].concat(v)),this.setSelection(this.anchorOffset()-1),this._announce("deleted: root"))}else this.move(-1),this.delete(-1)}else if(t>0)if(p!==u.length-1)/^(group|array|genfrac|surd|leftright|overlap|overunder|box|mathstyle|sizing)$/.test(this.sibling(1).type)?this.move(1):(this._announce("delete",null,u.slice(p+1,p+2)),u.splice(p+1,1));else if("numer"===this.relation()){var x=this.parent().numer.filter(function(t){return"placeholder"!==t.type&&"first"!==t.type}),k=this.parent().denom.filter(function(t){return"placeholder"!==t.type&&"first"!==t.type});this.path.pop(),Array.prototype.splice.apply(this.siblings(),[this.anchorOffset(),1].concat(k)),Array.prototype.splice.apply(this.siblings(),[this.anchorOffset(),0].concat(x)),this.setSelection(this.anchorOffset()+x.length-1),this._announce("deleted: numerator")}else this.move(1),this.delete(-1)}else{var w=this.startOffset()+1,S=this.endOffset()+1;this._announce("deleted",null,u.slice(w,S)),u.splice(w,S-w),this.setSelection(w-1)}this.suppressChangeNotifications=e,this.selectionDidChange(),this.contentDidChange()},Ke.prototype.moveToNextPlaceholder_=function(){this.leap(1)},Ke.prototype.moveToPreviousPlaceholder_=function(){this.leap(-1)},Ke.prototype.moveToNextChar_=function(){this.move(1)},Ke.prototype.moveToPreviousChar_=function(){this.move(-1)},Ke.prototype.moveUp_=function(){this.up()},Ke.prototype.moveDown_=function(){this.down()},Ke.prototype.moveToNextWord_=function(){this.skip(1)},Ke.prototype.moveToPreviousWord_=function(){this.skip(-1)},Ke.prototype.moveToGroupStart_=function(){this.setSelection(0)},Ke.prototype.moveToGroupEnd_=function(){this.setSelection(-1)},Ke.prototype.moveToMathFieldStart_=function(){this.jumpToMathFieldBoundary(-1)},Ke.prototype.moveToMathFieldEnd_=function(){this.jumpToMathFieldBoundary(1)},Ke.prototype.deleteNextChar_=function(){this.delete_(1)},Ke.prototype.deletePreviousChar_=function(){this.delete_(-1)},Ke.prototype.deleteNextWord_=function(){this.extendToNextBoundary(),this.delete_()},Ke.prototype.deletePreviousWord_=function(){this.extendToPreviousBoundary(),this.delete_()},Ke.prototype.deleteToGroupStart_=function(){this.extendToGroupStart(),this.delete_()},Ke.prototype.deleteToGroupEnd_=function(){this.extendToMathFieldStart(),this.delete_()},Ke.prototype.deleteToMathFieldEnd_=function(){this.extendToMathFieldEnd(),this.delete_()},Ke.prototype.transpose_=function(){},Ke.prototype.extendToNextChar_=function(){this.extend(1)},Ke.prototype.extendToPreviousChar_=function(){this.extend(-1)},Ke.prototype.extendToNextWord_=function(){this.skip(1,{extend:!0})},Ke.prototype.extendToPreviousWord_=function(){this.skip(-1,{extend:!0})},Ke.prototype.extendUp_=function(){this.up({extend:!0})},Ke.prototype.extendDown_=function(){this.down({extend:!0})},Ke.prototype.extendToNextBoundary_=function(){this.skip(1,{extend:!0})},Ke.prototype.extendToPreviousBoundary_=function(){this.skip(-1,{extend:!0})},Ke.prototype.extendToGroupStart_=function(){this.setExtent(-this.anchorOffset())},Ke.prototype.extendToGroupEnd_=function(){this.setExtent(this.siblings().length-this.anchorOffset())},Ke.prototype.extendToMathFieldStart_=function(){this.jumpToMathFieldBoundary(-1,{extend:!0})},Ke.prototype.extendToMathFieldEnd_=function(){this.jumpToMathFieldBoundary(1,{extend:!0})},Ke.prototype.moveToSuperscript_=function(){if(this.collapseForward(),!this.anchor().superscript)if(this.anchor().subscript)this.anchor().superscript=[ei()];else{var t=this.sibling(1);t&&t.superscript?this.path[this.path.length-1].offset+=1:t&&t.subscript?(this.path[this.path.length-1].offset+=1,this.anchor().superscript=[ei()]):("limits"!==this.anchor().limits&&(this.siblings().splice(this.anchorOffset()+1,0,new ke.MathAtom(this.parent().anchorMode,"msubsup","",this.anchorStyle())),this.path[this.path.length-1].offset+=1),this.anchor().superscript=[ei()])}this.path.push({relation:"superscript",offset:0}),this.selectGroup_()},Ke.prototype.moveToSubscript_=function(){if(this.collapseForward(),!this.anchor().subscript)if(this.anchor().superscript)this.anchor().subscript=[ei()];else{var t=this.sibling(1);t&&t.subscript?this.path[this.path.length-1].offset+=1:t&&t.superscript?(this.path[this.path.length-1].offset+=1,this.anchor().subscript=[ei()]):("limits"!==this.anchor().limits&&(this.siblings().splice(this.anchorOffset()+1,0,new ke.MathAtom(this.parent().anchorMode,"msubsup","",this.anchorStyle())),this.path[this.path.length-1].offset+=1),this.anchor().subscript=[ei()])}this.path.push({relation:"subscript",offset:0}),this.selectGroup_()},Ke.prototype.moveToOpposite_=function(){var t={superscript:"subscript",subscript:"superscript",denom:"numer",numer:"denom"}[this.relation()];t||this.moveToSuperscript_(),this.parent()[t]||(this.parent()[t]=[ei()]),this.setSelection(0,"end",t)},Ke.prototype.moveBeforeParent_=function(){this.path.length>1?(this.path.pop(),this.setSelection(this.anchorOffset()-1)):this._announce("plonk")},Ke.prototype.moveAfterParent_=function(){if(this.path.length>1){var t=Ne(this);this.path.pop(),this.setExtent(0),this._announce("move",t)}else this._announce("plonk")},Ke.prototype._addCell=function(t){var e=this.parent();if(e&&"array"===e.type&&Array.isArray(e.array)){var i=this.relation();if(e.array){var a=$e(e.array,i);"after row"===t||"before row"===t?(a.col=0,a.row=a.row+("after row"===t?1:0),e.array.splice(a.row,0,[[]])):(a.col+="after column"===t?1:0,e.array[a.row].splice(a.col,0,[]));var s=We(e.array,a);this.path.pop(),this.path.push({relation:"cell"+s.toString(),offset:0}),this.insertFirstAtom()}}},Ke.prototype.convertParentToArray=function(){var t=this.parent();if("leftright"===t.type){t.type="array";var e={"(":"pmatrix","\\lbrack":"bmatrix","\\lbrace":"cases"}[t.leftDelim]||"matrix",i=Vt.getEnvironmentInfo(e),a=[[t.body]];i.parser&&Object.assign(t,i.parser(e,[],a)),t.tabularMode=i.tabular,t.parseMode=this.anchorMode(),t.env=o({},i),t.env.name=e,t.array=a,t.rowGaps=[0],delete t.body,this.path[this.path.length-1].relation="cell0"}},Ke.prototype.addRowAfter_=function(){this.contentWillChange(),this.convertParentToArray(),this._addCell("after row"),this.contentDidChange()},Ke.prototype.addRowBefore_=function(){this.contentWillChange(),this.convertParentToArray(),this._addCell("before row"),this.contentDidChange()},Ke.prototype.addColumnAfter_=function(){this.contentWillChange(),this.convertParentToArray(),this._addCell("after column"),this.contentDidChange()},Ke.prototype.addColumnBefore_=function(){this.contentWillChange(),this.convertParentToArray(),this._addCell("before column"),this.contentDidChange()},Ke.prototype._applyStyle=function(t){if(!this.isCollapsed()){var e=this;t.color&&i("color",t.color)&&(t.color="none"),t.backgroundColor&&i("backgroundColor",t.backgroundColor)&&(t.backgroundColor="none"),t.fontFamily&&i("fontFamily",t.fontFamily)&&(t.fontFamily="none"),t.series&&(t.fontSeries=t.series),t.fontSeries&&i("fontSeries",t.fontSeries)&&(t.fontSeries="auto"),t.shape&&(t.fontShape=t.shape),t.fontShape&&i("fontShape",t.fontShape)&&(t.fontShape="auto"),t.size&&(t.fontSize=t.size),t.fontSize&&i("fontSize",t.fontSize)&&(t.fontSize="size5"),this.contentWillChange(),this.forEachSelected(function(e){return e.applyStyle(t)},{recursive:!0}),this.contentDidChange()}function i(t,i){var a=!0;return e.forEachSelected(function(e){a=a&&e[t]===i},{recursive:!0}),a}};var ii={EditableMathlist:Ke,parseMathString:Je},ai={"#":"#","|":"|","[":"BracketLeft","]":"BracketRight","-":"Minus","+":"Plus","=":"Equal","/":"Slash","\\":"Backslash"},si={Space:"Spacebar"," ":"Spacebar",Escape:"Esc",ArrowLeft:"Left",ArrowUp:"Up",ArrowRight:"Right",ArrowDown:"Down",Delete:"Del"},ri={q:"KeyQ",w:"KeyW",e:"KeyE",r:"KeyR",t:"KeyT",y:"KeyY",u:"KeyU",i:"KeyI",o:"KeyO",p:"KeyP",a:"KeyA",s:"KeyS",d:"KeyD",f:"KeyF",g:"KeyG",h:"KeyH",j:"KeyJ",k:"KeyK",l:"KeyL",z:"KeyZ",x:"KeyX",c:"KeyC",v:"KeyV",b:"KeyB",n:"KeyN",m:"KeyM",1:"Digit1",2:"Digit2",3:"Digit3",4:"Digit4",5:"Digit5",6:"Digit6",7:"Digit7",8:"Digit8",9:"Digit9",0:"Digit0","!":"Shift-Digit1","@":"Shift-Digit2","#":"Shift-Digit3",$:"Shift-Digit4","%":"Shift-Digit5","^":"Shift-Digit6","&":"Shift-Digit7","*":"Shift-Digit8","(":"Shift-Digit9",")":"Shift-Digit0","-":"Minus",_:"Shift-Minus","/":"Slash","\\":"Backslash","|":"Shift-Backslash","?":"Shift-Slash"," ":"Spacebar"};function ni(t){var e,i=!0;"Unidentified"===t.key&&t.target&&(e=ri[t.target.value]||t.target.value),e||(ai[t.key]?(e=ai[t.key],i=!1):e=si[t.key],e||(e=ri[t.key.toLowerCase()]||t.key)),!e&&t.code&&(e=si[t.code]||t.code);var a=[];return t.ctrlKey&&a.push("Ctrl"),t.metaKey&&a.push("Meta"),i&&t.altKey&&a.push("Alt"),i&&t.shiftKey&&a.push("Shift"),0===a.length?e:(a.push(e),a.join("-"))}function oi(t,e){var i,a=null,s=null,r=!1,n=!1;function o(t){clearTimeout(i),i=setTimeout(function(){clearTimeout(i),t()})}function l(){if(!function(t){return t.selectionStart!==t.selectionEnd}(t)){var i=t.value;t.value="",i.length>0&&e.typedText(i)}}var h=t||e.container;h.addEventListener("keydown",function(i){if("function"==typeof e.allowDeadKey&&e.allowDeadKey()||"Dead"!==i.key&&"Unidentified"!==i.key&&229!==i.keyCode)n=!1;else{n=!0,r=!1;var o=e.blur,l=e.focus;e.blur=null,e.focus=null,t.blur(),t.focus(),e.blur=o,e.focus=l}return!(!r&&"CapsLock"!==i.code&&!/(Control|Meta|Alt|Shift)(Right|Left)/.test(i.code))||(a=i,s=null,e.keystroke(ni(i),i))},!0),h.addEventListener("keypress",function(t){r||(a&&s&&e.keystroke(ni(a),a),s=t,o(l))},!0),h.addEventListener("keyup",function(){r||!a||s||l()},!0),h.addEventListener("paste",function(){t.focus();var i=t.value;t.value="",i.length>0&&e.paste(i)},!0),h.addEventListener("copy",function(t){e.copy&&e.copy(t)},!0),h.addEventListener("cut",function(t){e.cut&&e.cut(t)},!0),h.addEventListener("blur",function(){a=null,s=null,e.blur&&e.blur()},!0),h.addEventListener("focus",function(){e.focus&&e.focus()},!0),h.addEventListener("compositionstart",function(){r=!0},!0),h.addEventListener("compositionend",function(){r=!1,o(l)},!0),h.addEventListener("input",function(){if(n){var i=e.blur,a=e.focus;e.blur=null,e.focus=null,t.blur(),t.focus(),e.blur=i,e.focus=a,n=!1,r=!1,o(l)}else r||o(l)})}var li={delegateKeyboardEvents:oi,select:oi.select,keyboardEventToString:ni,eventToChar:function(t){return t?("Unidentified"===t.key&&t.target&&(e=t.target.value),e=e||t.key||t.code,/^(Return|Enter|Tab|Escape|Delete|PageUp|PageDown|Home|End|Help|ArrowLeft|ArrowRight|ArrowUp|ArrowDown)$/.test(e)&&(e=""),e):"";var e},charToEvent:function(t){return{key:t,metaKey:!1,ctrlKey:!1,altKey:!1,shiftKey:!1}}},hi={UndoManager:function(){"use strict";function t(e){u(this,t),this.mathlist=e,this.maximumDepth=1e3,this.record=!1,this.canCoalesce=!1,this.reset()}return d(t,[{key:"reset",value:function(){this.stack=[],this.index=-1}},{key:"startRecording",value:function(){this.record=!0}},{key:"canUndo",value:function(){return this.index>0}},{key:"canRedo",value:function(){return this.index!==this.stack.length-1}},{key:"undo",value:function(t){this.canUndo()&&(t&&"function"==typeof t.onUndoStateWillChange&&t.onUndoStateWillChange(this.mathlist.target,"undo"),this.restore(this.stack[this.index-1],t),this.index-=1,t&&"function"==typeof t.onUndoStateDidChange&&t.onUndoStateDidChange(this.mathlist.target,"undo"),this.canCoalesce=!1)}},{key:"redo",value:function(t){this.canRedo()&&(t&&"function"===t.onUndoStateWillChange&&t.onUndoStateWillChange(this.mathlist.target,"redo"),this.index+=1,this.restore(this.stack[this.index],t),t&&"function"==typeof t.onUndoStateDidChange&&t.onUndoStateDidChange(this.mathlist.target,"redo"),this.canCoalesce=!1)}},{key:"pop",value:function(){this.canUndo()&&(this.index-=1,this.stack.pop())}},{key:"snapshot",value:function(t){this.record&&(t&&"function"===t.onUndoStateWillChange&&t.onUndoStateWillChange(this.mathlist.target,"snapshot"),this.stack.splice(this.index+1,this.stack.length-this.index-1),this.stack.push({latex:this.mathlist.root.toLatex(),selection:this.mathlist.toString()}),this.index++,this.stack.length>this.maximumDepth&&this.stack.shift(),t&&"function"==typeof t.onUndoStateDidChange&&t.onUndoStateDidChange(this.mathlist.target,"snapshot"),this.canCoalesce=!1)}},{key:"snapshotAndCoalesce",value:function(t){this.canCoalesce&&this.pop(),this.snapshot(t),this.canCoalesce=!0}},{key:"save",value:function(){return{latex:this.mathlist.root.toLatex(),selection:this.mathlist.toString()}}},{key:"restore",value:function(t,e){var i=this.mathlist.suppressChangeNotifications;void 0!==e.suppressChangeNotifications&&(this.mathlist.suppressChangeNotifications=e.suppressChangeNotifications),this.mathlist.insert(t?t.latex:"",o({mode:"math",insertionMode:"replaceAll",selectionMode:"after",format:"latex"},e)),this.mathlist.setPath(t?t.selection:[{relation:"body",offset:0}]),this.mathlist.suppressChangeNotifications=i}}])}()},ci={"\\mathrm":"\\mathrm{x=+3.14, x\\in A}","\\mathbf":"\\mathbf{x=+3.14, x\\in A}","\\bf":"\\bf{x=+3.14, x\\in A}","\\bm":"\\bm{x=+3.14, x\\in A}","\\bold":"\\bold{x=+3.14, x\\in A}","\\mathit":"\\mathbb{x=+3.14}","\\mathbb":"\\mathbb{ABCD}","\\Bbb":"\\mathbb{ABCD}","\\frak":"\\frak{ABCD}","\\mathfrak":"\\mathfrak{ABCD}","\\mathscr":"\\mathscr{ABCD}","\\mathsf":"\\mathsf{ABab01}","\\mathtt":"\\mathtt{x=+3.14, x\\in A}","\\mathcal":"\\mathcal{ABCD}","\\boldsymbol":"\\boldsymbol{ABab01+=}","\\text":"\\text{ABC abc}","\\textrm":"\\textrm{ABC abc}","\\textnormal":"\\textnormal{ABC abc}","\\textit":"\\textit{ABC abc}","\\textbf":"\\textbf{ABC abc}","\\texttt":"\\texttt{ABC abc}","\\textsf":"\\textsf{ABC abc}","\\textcolor":"{\\textcolor{m0}A}{\\textcolor{m1}B}{\\textcolor{m2}C }{\\textcolor{m3}a}{\\textcolor{m4}b}{\\textcolor{m5}c}{\\textcolor{m6}8}","\\color":"{\\color{m0}A}{\\color{m1}B}{\\color{m2}C}{\\color{m3}a}{\\color{m4}b}{\\color{m5}c}{\\color{m6}8}","\\underline":'\\underline{\\unicode{"2B1A}}',"\\overline":'\\overline{\\unicode{"2B1A}}',"\\vec":'\\vec{\\unicode{"25CC}}',"\\check":'\\check{\\unicode{"25CC}}',"\\acute":'\\acute{\\unicode{"25CC}}',"\\breve":'\\breve{\\unicode{"25CC}}',"\\tilde":'\\tilde{\\unicode{"25CC}}',"\\hat":'\\hat{\\unicode{"25CC}}',"\\ddot":'\\ddot{\\unicode{"25CC}}',"\\dot":'\\dot{\\unicode{"25CC}}',"\\bar":'\\bar{\\unicode{"25CC}}',"\\!":'\\unicode{"203A}\\!\\unicode{"2039}',"\\,":'\\unicode{"203A}\\,\\unicode{"2039}',"\\:":'\\unicode{"203A}\\:\\unicode{"2039}',"\\;":'\\unicode{"203A}\\;\\unicode{"2039}',"\\quad":'\\unicode{"203A}\\quad\\unicode{"2039}',"\\qquad":'\\unicode{"203A}\\qquad\\unicode{"2039}',"\\enskip":'\\unicode{"203A}\\enskip\\unicode{"2039}',"\\space":'\\unicode{"203A}\\space\\unicode{"2039}',"\\frac":'\\frac{\\unicode{"2B1A}}{\\unicode{"2B1A}}',"\\dfrac":'\\dfrac{\\unicode{"2B1A}}{\\unicode{"2B1A}}',"\\cfrac":'\\cfrac{\\unicode{"2B1A}}{\\unicode{"2B1A}}',"\\tfrac":'\\tfrac{\\unicode{"2B1A}}{\\unicode{"2B1A}}',"\\dbinom":'\\dbinom{\\unicode{"2B1A}}{\\unicode{"2B1A}}',"\\tbinom":'\\tbinom{\\unicode{"2B1A}}{\\unicode{"2B1A}}',"\\binom":'\\binom{\\unicode{"2B1A}}{\\unicode{"2B1A}}',"\\pdiff":'\\pdiff{\\unicode{"2B1A}}{\\unicode{"2B1A}}',"\\in":"n\\in\\N","\\notin":"n\\notin\\N","\\not":"B \\not A","\\ni":"N\\in n","\\owns":"N\\owns n","\\subset":"A\\subset B","\\supset":"B\\supset A","\\subseteq":"A\\subseteq B","\\supseteq":"B\\supseteq A","\\nsubseteq":"A\\nsubseteq B","\\nsupseteq":"B\\nsupseteq A","\\subsetneq":"A\\subsetneq B","\\supsetneq":"B\\supsetneq A","\\varsubsetneq":"A\\varsubsetneq B","\\varsupsetneq":"B\\varsupsetneq A","\\nsubseteqq":"A\\varsupsetneq B","\\subsetneqq":"A\\subsetneqq B","\\varsubsetneqq":"A\\varsubsetneqq B","\\nsubset":"A\\nsubset B","\\nsupset":"B\\nsupset A","\\complement":"A^\\complement","\\bigcup":'\\bigcup_{\\unicode{"2B1A}}',"\\bigcap":'\\bigcap_{\\unicode{"2B1A}}',"\\sqrt":'\\sqrt{\\unicode{"2B1A}}',"\\prod":'\\prod_{\\unicode{"2B1A}}^{\\unicode{"2B1A}}',"\\sum":'\\sum_{\\unicode{"2B1A}}^{\\unicode{"2B1A}}',"\\int":'\\int_{\\unicode{"2B1A}}^{\\unicode{"2B1A}}',"\\stackrel":'\\stackrel{\\unicode{"2B1A}}{\\unicode{"2B1A}}',"\\stackbin":'\\stackbin{\\unicode{"2B1A}}{\\unicode{"2B1A}}',"\\underset":'\\underset{\\unicode{"2B1A}}{\\unicode{"2B1A}}',"\\overset":'\\overset{\\unicode{"2B1A}}{\\unicode{"2B1A}}',"\\prime":'\\unicode{"2B1A}^{\\prime}',"\\boxed":'\\boxed{\\unicode{"2B1A}}',"\\colorbox":'\\colorbox{#fbc0bd}{\\unicode{"2B1A}}',"\\bbox":'\\bbox[#ffd400, solid 2px #ffd400]{\\unicode{"2B1A}}',"\\enclose":'\\enclose{updiagonalstrike,roundedbox}[1px solid red, mathbackground="#fbc0bd"]{23+45}',"\\fcolorbox":'\\fcolorbox{#cd0030}{#ffd400}{\\unicode{"2B1A}}',"\\ ":'\\char"2423',"\\top":"{\\color{red}P}\\top","\\bot":"{\\color{#0F0}P}\\bot","\\mid":"P(p\\mid q)","\\rlap":"\\rlap{x}o","\\llap":"o\\llap{/}"},di={"\\text":"roman text","\\textrm":"roman text","\\textnormal":"roman text","\\textit":"italic text","\\textbf":"bold text","\\texttt":"monospaced text","\\textsf":"sans-serif text","\\mathrm":["roman","(upright)"],"\\mathbf":"bold","\\bf":"bold","\\bold":"bold","\\mathit":"italic","\\mathbb":"blackboard","\\Bbb":"blackboard","\\mathscr":"script","\\mathtt":["typewriter","(monospaced)"],"\\mathsf":"sans-serif","\\mathcal":"caligraphic","\\frak":["fraktur","(gothic)"],"\\mathfrak":["fraktur","(gothic)"],"\\textcolor":"text color","\\color":"color","\\forall":"for all","\\exists":"there exists","\\nexists":"there does not exist","\\frac":"fraction","\\dfrac":"display fraction","\\cfrac":"continuous fraction","\\tfrac":"text fraction","\\binom":"binomial coefficient","\\dbinom":"display binomial coefficient","\\tbinom":"text binomial coefficient","\\pdiff":"partial differential","\\vec":"vector","\\check":"caron","\\acute":"acute","\\breve":"breve","\\tilde":"tilde","\\dot":"dot","\\hat":["hat","circumflex"],"\\ddot":"double dot","\\bar":"bar","\\prime":"prime","\\doubleprime":"double prime","\\varnothing":"empty set","\\emptyset":"empty set","\\subseteq":"subset of or <br>equal to","\\supseteq":"superset of or <br>equal to","\\supset":"superset of","\\subset":"subset of","\\partial":"partial derivative","\\bigcup":"union","\\bigcap":"intersection","\\approx":"approximately equal to","\\notin":"not an element of","\\in":["element of","included in"],"\\infty":"infinity","\\land":"logical and","\\sqrt":"square root","\\prod":"product","\\sum":"summation","\\amalg":["amalgamation","coproduct","free product","disjoint union"],"\\cup":"union with","\\cap":"intersection with","\\int":"integral","\\iint":"surface integral","\\oint":"curve integral","\\iiint":"volume integral","\\iff":"if and only if","\\ln":"natural logarithm","\\boldsymbol":"bold","\\setminus":"set subtraction","\\stackrel":"relation with symbol above","\\stackbin":"operator with symbol above","\\underset":"symbol with annotation below","\\overset":"symbol with annotation above","\\hslash":["h-bar","Planck constant"],"\\gtrsim":"greater than or <br>similar to","\\propto":"proportional to","\\equiv":"equivalent to","\\!":["negative thin space","(-3 mu)"],"\\ ":["space","(6 mu)"],"\\,":["thin space","(3 mu)"],"\\:":["medium space","(4 mu)"],"\\;":["thick space","(5 mu)"],"\\quad":["1 em space","(18 mu)"],"\\qquad":["2 em space","(36 mu)"],"\\enskip":["&#189; em space","(9 mu)"],"\\mp":"minus or plus","\\pm":"plus or minus","\\Im":"Imaginary part of","\\Re":"Real part of","\\gothicCapitalR":"Real part of","\\gothicCapitalI":"Imaginary part part of","\\differentialD":"differential d","\\aleph":["aleph","infinite cardinal",'<a target="_blank" href="https://en.wikipedia.org/wiki/Cardinal_number">Wikipedia <big>&#x203A;</big></a>'],"\\beth":["beth","beth number",'<a target="_blank" href="https://en.wikipedia.org/wiki/Beth_number">Wikipedia <big>&#x203A;</big></a>'],"\\gimel":["gimel","gimel function",'<a target="_blank" href="https://en.wikipedia.org/wiki/Gimel_function">Wikipedia <big>&#x203A;</big></a>'],"\\O":"empty set","\\N":"set of <br>natural numbers","\\Z":"set of <br>integers","\\Q":"set of <br>rational numbers","\\C":"set of <br>complex numbers","\\R":"set of <br>real numbers","\\P":"set of <br>prime numbers","\\lesseqqgtr":"less than, equal to or<br> greater than","\\gnapprox":"greater than and <br>not approximately","\\lnapprox":"lesser than and <br>not approximately","\\j":"dotless j","\\i":"dotless i","\\cdot":"centered dot","\\lmoustache":"left moustache","\\rmoustache":"right moustache","\\nabla":["nabla","del","differential vector operator"],"\\square":["square","dAlembert operator",'<a target="_blank" href="https://en.wikipedia.org/wiki/D%27Alembert_operator">Wikipedia <big>&#x203A;</big></a>'],"\\blacksquare":["black square","end of proof","tombstone","Halmos symbol"],"\\Box":"end of proof","\\colon":["such that","ratio"],"\\coloneq":["is defined by","is assigned"],"\\Colon":["is defined by","as"],"\\_":["underbar","underscore"],"\\ll":"much less than","\\gg":"much greater than","\\doteq":"approximately equal to","\\Doteq":"approximately equal to","\\doteqdot":"approximately equal to","\\cong":["isomorphism of","(for algebras, modules...)"],"\\det":["determinant of","(of a matrix)"],"\\dotplus":"Cartesian product algebra","\\otimes":["tensor product","(of algebras)","Kronecker product","(of matrices)"],"\\oplus":["direct sum","(of modules)"],"\\lb":"base-2 logarithm","\\lg":"base-10 logarithm","\\wp":["Weierstrass P",'<a target="_blank" href="https://en.wikipedia.org/wiki/Weierstrass%27s_elliptic_functions">Wikipedia <big>&#x203A;</big></a>'],"\\wr":["wreath product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Wreath_product">Wikipedia <big>&#x203A;</big></a>'],"\\top":["tautology","Proposition P is universally true"],"\\bot":["contradiction","Proposition P is contradictory"],"\\mid":["probability","of event A given B"],"\\mho":["Siemens","electrical conductance in SI unit",'<a target="_blank" href="https://en.wikipedia.org/wiki/Siemens_(unit)">Wikipedia <big>&#x203A;</big></a>'],"\\Longrightarrow":"implies","\\Longleftrightarrow":"if, and only if,","\\prec":"precedes","\\preceq":"precedes or is equal to","\\succ":"succeedes","\\succeq":"succeedes or is equal to","\\perp":["is perpendicular to","is independent of"],"\\models":["entails","double-turnstyle, models","is a semantic consequence of",'<a target="_blank" href="https://en.wikipedia.org/wiki/Double_turnstile">Wikipedia <big>&#x203A;</big></a>'],"\\vdash":["satisfies","turnstyle, assertion sign","syntactic inference",'<a target="_blank" href="https://en.wikipedia.org/wiki/Turnstile_(symbol)">Wikipedia <big>&#x203A;</big></a>'],"\\implies":["implies","logical consequence"],"\\impliedby":["implied by","logical consequence"],"\\surd":["surd","root of","checkmark"],"\\ltimes":["semi direct product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Semidirect_product">Wikipedia <big>&#x203A;</big></a>'],"\\rtimes":["semi direct product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Semidirect_product">Wikipedia <big>&#x203A;</big></a>'],"\\leftthreetimes":["semi direct product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Semidirect_product">Wikipedia <big>&#x203A;</big></a>'],"\\rightthreetimes":["semi direct product",'<a target="_blank" href="https://en.wikipedia.org/wiki/Semidirect_product">Wikipedia <big>&#x203A;</big></a>'],"\\divideontimes":["divide on times"],"\\curlywedge":"nor","\\curlyvee":"nand","\\simeq":"is group isomorphic with","\\vartriangleleft":["is a normal subgroup of","is an ideal ring of"],"\\circ":["circle","ring","function composition"],"\\rlap":["overlap right","\\rlap{x}o"],"\\llap":["overlap left","o\\llap{/}"],"\\colorbox":["color box","\\colorbox{#fbc0bd}{...}"],"\\ast":["asterisk","reflexive closure (as a superscript)"],"\\bullet":"bullet","\\lim":"limit"};function ui(t){var e=di[t]||"";return Array.isArray(e)&&(e=e.join("<br>")),e}function pi(t,e){t.popover.innerHTML=e;var i=t._getCaretPosition();i&&mi(t,i),t.popover.classList.add("is-visible")}function mi(t,e){var i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,a=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,s=window.innerWidth-document.documentElement.clientWidth,r=window.innerHeight-document.documentElement.clientHeight,n=t.virtualKeyboardVisible?t.virtualKeyboard.offsetHeight:0;e.x+t.popover.offsetWidth/2>a-s?t.popover.style.left=a-t.popover.offsetWidth-s+"px":e.x-t.popover.offsetWidth/2<0?t.popover.style.left=0:t.popover.style.left=e.x-t.popover.offsetWidth/2+"px",e.y+t.popover.offsetHeight+5>i-r-n?(t.popover.classList.add("reverse-direction"),t.popover.style.top=e.y-e.height-t.popover.offsetHeight-5+"px"):(t.popover.classList.remove("reverse-direction"),t.popover.style.top=e.y+5+"px")}function fi(t){t.popover.classList.remove("is-visible")}var yi={getNote:ui,SAMPLES:ci,NOTES:di,showPopoverWithLatex:function(t,e,i){if(e&&0!==e.length){var a=e,s=function(t,e){var i=Te.parseTokens(C.tokenize(t),"math",null,e.config.macros),a=ke.decompose({mathstyle:"displaystyle",macros:e.config.macros},i),s=ht.makeSpan(a,"ML__base"),r=ht.makeSpan("","ML__strut");r.setStyle("height",s.height,"em");var n=ht.makeSpan("","ML__strut--bottom");return n.setStyle("height",s.height+s.depth,"em"),n.setStyle("vertical-align",-s.depth,"em"),ht.makeSpan([r,n,s],"ML__mathlive").toMarkup()}(ci[a]||e,t),r=ui(a),n=Re.forCommand(a),o=i?'<div class="ML__popover__prev-shortcut" role="button" aria-label="Previous suggestion"><span><span>&#x25B2;</span></span></div>':"";o+='<span class="ML__popover__content" role="button">',o+='<div class="ML__popover__command">'+s+"</div>",r&&(o+='<div class="ML__popover__note">'+r+"</div>"),n&&(o+='<div class="ML__popover__shortcut">'+n+"</div>"),o+="</span>",o+=i?'<div class="ML__popover__next-shortcut" role="button" aria-label="Next suggestion"><span><span>&#x25BC;</span></span></div>':"",pi(t,o);var l=t.popover.getElementsByClassName("ML__popover__content");l&&l.length>0&&t._attachButtonHandlers(l[0],["complete",{acceptSuggestion:!0}]),l=t.popover.getElementsByClassName("ML__popover__prev-shortcut"),l&&l.length>0&&t._attachButtonHandlers(l[0],"previousSuggestion"),l=t.popover.getElementsByClassName("ML__popover__next-shortcut"),l&&l.length>0&&t._attachButtonHandlers(l[0],"nextSuggestion")}else fi(t)},showPopover:pi,hidePopover:fi,updatePopoverPosition:function t(e,i){if(e.element&&e.element.mathfield===e&&e.popover.classList.contains("is-visible"))if(i&&i.deferred)window.requestAnimationFrame(function(){return t(e)});else if(e.mathlist.anchor()&&"command"===e.mathlist.anchor().type){var a=e._getCaretPosition();a&&mi(e,a)}else fi(e)}};function gi(t,e,i){var a="";if(Array.isArray(e)&&e.length>0){if("first"===e[0].type&&0===(e=e.slice(1)).length)return"";a=function t(e,i,a,s){if(0===a.length)return"";if(0===i.length)return a.map(function(t){return t.toLatex(s)}).join("");var r="",n="",o="",l=i[0],h=a[0][l];"fontFamily"===l&&(h=a[0].fontFamily||a[0].baseFontFamily);var c=function(t,e,i){var a=0;if("fontFamily"===e)for(;t[a]&&("mop"===t[a].type||(t[a].fontFamily||t[a].baseFontFamily)===i);)a++;else for(;t[a]&&("mop"===t[a].type||t[a][e]===i);)a++;return a}(a,l,h);if("text"===a[0].mode){if("fontShape"===l&&a[0].fontShape)"it"===a[0].fontShape?(n="\\textit{",o="}"):"sl"===a[0].fontShape?(n="\\textsl{",o="}"):"sc"===a[0].fontShape?(n="\\textsc{",o="}"):"n"===a[0].fontShape?(n="\\textup{",o="}"):(n="\\text{\\fontshape{"+a[0].fontShape+"}",o="}");else if("fontSeries"===l&&a[0].fontSeries)"b"===a[0].fontSeries?(n="\\textbf{",o="}"):"l"===a[0].fontSeries?(n="\\textlf{",o="}"):"m"===a[0].fontSeries?(n="\\textmd{",o="}"):(n="\\text{\\fontseries{"+a[0].fontSeries+"}",o="}");else if("mode"===l){for(var d=!0,u=0;u<c;u++)if(!(a[u].fontSeries||a[u].fontShape||a[u].fontFamily||a[u].baseFontFamily)){d=!1;break}d||(n="\\text{",o="}")}else if("fontSize"===l&&a[0].fontSize)n="{\\"+({size1:"tiny",size2:"scriptsize",size3:"footnotesize",size4:"small",size5:"normalsize",size6:"large",size7:"Large",size8:"LARGE",size9:"huge",size10:"Huge"}[a[0].fontSize]||"")+" ",o="}";else if("fontFamily"===l&&(a[0].fontFamily||a[0].baseFontFamily)){var p={cmr:"textrm",cmtt:"texttt",cmss:"textsf"}[a[0].fontFamily||a[0].baseFontFamily]||"";p?(n="\\"+p+"{",o="}"):(n+="{\\fontfamily{"+(a[0].fontFamily||a[0].baseFontFamily)+"}",o="}")}}else if("math"===a[0].mode)if("fontSeries"===l)"b"===a[0].fontSeries?(n="\\mathbf{",o="}"):a[0].fontSeries&&"n"!==a[0].fontSeries&&(n="{\\fontSeries{"+a[0].fontSeries+"}",o="}");else if("fontShape"===l)"it"===a[0].fontShape?(n="\\mathit{",o="}"):"n"===a[0].fontShape?(n="{\\upshape ",o="}"):a[0].fontShape&&"n"!==a[0].fontShape&&(n="{\\fontShape{"+a[0].fontShape+"}",o="}");else if("fontSize"===l&&a[0].fontSize)n="{\\"+({size1:"tiny",size2:"scriptsize",size3:"footnotesize",size4:"small",size5:"normalsize",size6:"large",size7:"Large",size8:"LARGE",size9:"huge",size10:"Huge"}[a[0].fontSize]||"")+" ",o="}";else if("fontFamily"===l&&a[0].fontFamily){if(!/^(math|main)$/.test(a[0].fontFamily)){var m={cal:"mathcal",frak:"mathfrak",bb:"mathbb",scr:"mathscr",cmr:"mathrm",cmtt:"mathtt",cmss:"mathsf"}[a[0].fontFamily]||"";if(m){if(/^\\operatorname{/.test(a[0].latex))return a[0].latex+t(e,i,a.slice(c),s);a[0].isFunction||(n="\\"+m+"{",o="}"),i=[]}else n+="{\\fontfamily{"+a[0].fontFamily+"}",o="}"}}else if("fontFamily"===l&&a[0].baseFontFamily)if(a[0].latex&&a[0].latex.startsWith("\\"))n="",o="";else{var f={cal:"mathcal",frak:"mathfrak",bb:"mathbb",scr:"mathscr",cmr:"mathrm",cmtt:"mathtt",cmss:"mathsf"}[a[0].baseFontFamily]||"";f&&(n="\\"+f+"{",o="}")}return"color"!==l||!a[0].color||"none"===a[0].color||e&&e.color===a[0].color||(n="\\textcolor{"+Ae.colorToString(a[0].color)+"}{",o="}"),"backgroundColor"!==l||!a[0].backgroundColor||"none"===a[0].backgroundColor||e&&e.backgroundColor===a[0].backgroundColor||(n="\\colorbox{"+Ae.colorToString(a[0].backgroundColor)+"}{",o="}"),r+=n,r+=t(e,i.slice(1),a.slice(0,c),s),r+=o,r+=t(e,i,a.slice(c),s),r}(t,["mode","color","backgroundColor","fontSize","fontFamily","fontShape","fontSeries"],e,i)}else"number"==typeof e||"boolean"==typeof e?a=e.toString():"string"==typeof e?a=e.replace(/\s/g,"~"):e&&"function"==typeof e.toLatex&&(a=e.toLatex(i));return a}function bi(t){var e=bi.locale.substring(0,2),i="";return bi.strings[bi.locale]&&(i=bi.strings[bi.locale][t]),!i&&bi.strings[e]&&(i=bi.strings[e][t]),i||(i=bi.strings.en[t]),i||(i=t),i}ke.MathAtom.prototype.toLatex=function(t){t=void 0!==t&&t;var e,i="",a=0,s=0,r=this.latex?this.latex.match(/^(\\[^{\s0-9]+)/):null,n=r?r[1]:null;switch(this.type){case"group":i+=this.latexOpen||(this.cssId||this.cssClass?"":"{"),this.cssId&&(i+="\\cssId{"+this.cssId+"}{"),"ML__emph"===this.cssClass?i+="\\emph{"+gi(this,this.body,t)+"}":(this.cssClass&&(i+="\\class{"+this.cssClass+"}{"),i+=t?gi(this,this.body,!0):this.latex||gi(this,this.body,!1),this.cssClass&&(i+="}")),this.cssId&&(i+="}"),i+=this.latexClose||(this.cssId||this.cssClass?"":"}");break;case"array":if(i+="\\begin{"+this.env.name+"}","array"===this.env.name){if(i+="{",this.colFormat)for(s=0;s<this.colFormat.length;s++)this.colFormat[s].align?i+=this.colFormat[s].align:this.colFormat[s].rule&&(i+="|");i+="}"}for(a=0;a<this.array.length;a++){for(e=0;e<this.array[a].length;e++)e>0&&(i+=" & "),i+=gi(this,this.array[a][e],t);a<this.array.length-1&&(i+=" \\\\ ")}i+="\\end{"+this.env.name+"}";break;case"root":i=gi(this,this.body,t);break;case"genfrac":/^(choose|atop|over)$/.test(this.body)?(i+="{",i+=gi(this,this.numer,t),i+="\\"+this.body+" ",i+=gi(this,this.denom,t),i+="}"):(i+=n,i+="{".concat(gi(this,this.numer,t),"}{").concat(gi(this,this.denom,t),"}"));break;case"surd":i+="\\sqrt",this.index&&(i+="[",i+=gi(this,this.index,t),i+="]"),i+="{".concat(gi(this,this.body,t),"}");break;case"leftright":this.inner?(i+="\\left"+(this.leftDelim||"."),this.leftDelim&&this.leftDelim.length>1&&(i+=" "),i+=gi(this,this.body,t),i+="\\right"+(this.rightDelim||"."),this.rightDelim&&this.rightDelim.length>1&&(i+=" ")):(i+="\\mleft"+(this.leftDelim||"."),this.leftDelim&&this.leftDelim.length>1&&(i+=" "),i+=gi(this,this.body,t),i+="\\mright"+(this.rightDelim||"."),this.rightDelim&&this.rightDelim.length>1&&(i+=" "));break;case"delim":case"sizeddelim":i+=n+"{"+this.delim+"}";break;case"rule":i+=n,this.shift&&(i+="[".concat(gi(this,this.shift,t),"em]")),i+="{".concat(gi(this,this.width,t),"em}{").concat(gi(this,this.height,t),"em}");break;case"line":case"overlap":case"accent":i+="".concat(n,"{").concat(gi(this,this.body,t),"}");break;case"overunder":i+="".concat(n,"{").concat(gi(this,this.overscript||this.underscript,t),"}{").concat(gi(parent,this.body,t),"}");break;case"mord":case"minner":case"mbin":case"mrel":case"mpunct":case"mopen":case"mclose":case"textord":case"":/^\\(mathbin|mathrel|mathopen|mathclose|mathpunct|mathord|mathinner)/.test(n)?i+=n+"{"+gi(this,this.body,t)+"}":'\\char"'===n?i+=this.latex+" ":"\\unicode"===n?(i+='\\unicode{"',i+=("000000"+this.body.charCodeAt(0).toString(16)).toUpperCase().substr(-6),i+="}"):(this.latex||"string"==typeof this.body)&&(this.latex&&"\\"===this.latex[0]?(i+=this.latex,/[a-zA-Z0-9]$/.test(this.latex)&&(i+=" ")):i+=n||(""!==this.body?this.latex||this.body:""));break;case"mop":""!==this.body&&("\\mathop"===n?i+=n+"{"+gi(this,this.body,t)+"}":"\\operatorname"===n?i+=n+"{"+this.body+"}":this.latex&&"\\"===this.latex[0]?(i+=this.latex,/[a-zA-Z0-9]$/.test(this.latex)&&(i+=" ")):i+=n||(""!==this.body?this.latex||this.body:"")),this.explicitLimits&&("limits"===this.limits&&(i+="\\limits "),"nolimits"===this.limits&&(i+="\\nolimits "));break;case"box":if("\\bbox"===n){if(i+=n,isFinite(this.padding)||void 0!==this.border||void 0!==this.backgroundcolor){var o=[];isFinite(this.padding)&&o.push(Math.floor(100*this.padding)/100+"em"),this.border&&o.push("border:"+this.border),this.backgroundcolor&&o.push(Ae.colorToString(this.backgroundcolor)),i+="[".concat(o.join(","),"]")}i+="{".concat(gi(this,this.body,t),"}")}else"\\boxed"===n?i+="\\boxed{".concat(gi(this,this.body,t),"}"):(i+=n,this.framecolor&&(i+="{".concat(Ae.colorToString(this.framecolor),"}")),this.backgroundcolor&&(i+="{".concat(Ae.colorToString(this.backgroundcolor),"}")),i+="{".concat(gi(this,this.body,t),"}"));break;case"spacing":i+=n,"\\hspace"===n||"\\hspace*"===n?(i+="{",this.width?i+=this.width+"em":i+="0em",i+="}"):(i+=" ",this.width&&(i+=this.width+"em "));break;case"enclose":if(i+=n,"\\enclose"===n){i+="{";var l="";for(var h in this.notation)Object.prototype.hasOwnProperty.call(this.notation,h)&&this.notation[h]&&(i+=l+h,l=" ");i+="}";var c="";l="",this.backgroundcolor&&"transparent"!==this.backgroundcolor&&(c+=l+'mathbackground="'+Ae.colorToString(this.backgroundcolor)+'"',l=","),this.shadow&&"auto"!==this.shadow&&(c+=l+'shadow="'+this.shadow+'"',l=","),1!==this.strokeWidth||"solid"!==this.strokeStyle?(c+=l+this.borderStyle,l=","):this.strokeColor&&"currentColor"!==this.strokeColor&&(c+=l+'mathcolor="'+Ae.colorToString(this.strokeColor)+'"',l=","),c&&(i+="[".concat(c,"]"))}i+="{".concat(gi(this,this.body,t),"}");break;case"mathstyle":i+="\\"+this.mathstyle+" ";break;case"space":i+=this.latex;break;case"placeholder":i+="\\placeholder{"+(this.value||"")+"}";break;case"first":case"command":case"msubsup":break;case"error":i+=this.latex}if(this.superscript){var d=gi(this,this.superscript,t);1===d.length?(""===d?d="\\prime ":""===d&&(d="\\doubleprime "),i+="^"+d):i+="^{"+d+"}"}if(this.subscript){var u=gi(this,this.subscript,t);1===u.length?i+="_"+u:i+="_{"+u+"}"}return i},bi.plural=function(t,e,i){(i=i||{}).type=i.type||"cardinal";var a,s=bi.locale.substring(0,2),r="ordinal"===i.type?bi.ordinal:bi.cardinal,n="ordinal"===i.type?bi._ordinalPluralCategories.indexOf(r.select(t)):bi._cardinalPluralCategories.indexOf(r.select(t));return bi.strings[bi.locale]&&(a=bi.strings[bi.locale][e]),!a&&bi.strings[s]&&(a=bi.strings[s][e]),a||(a=bi.strings.en[e],a||(a=e),n="ordinal"===i.type?bi._ordinalPluralCategories.indexOf(bi._ordinalEnglish.select(t)):bi._cardinalPluralCategories.indexOf(bi._cardinalEnglish.select(t))),a.split(";")[n]||a.split(";")[0]},bi.merge=function(t,e){if(t&&e){var i=bi._locale;bi.locale=t,bi.strings[t]=o(o({},bi.strings[t]),e),bi.locale=i}else t&&!e&&(e=t,Object.keys(e).forEach(function(t){return bi.merge(t,e[t])}))},Object.defineProperty(bi,"locale",{set:function(t){bi._locale=t,bi._ordinal=null,bi._cardinal=null},get:function(){return bi._locale||(bi._locale="undefined"==typeof navigator?"en":navigator.language.slice(0,5)),bi._locale}}),Object.defineProperty(bi,"ordinal",{get:function(){return bi._ordinal||(bi._ordinalEnglish=new Intl.PluralRules("en",{type:"ordinal"}),bi._ordinalEnglishPluralCategories=bi._ordinalEnglish.resolvedOptions().pluralCategories,bi._ordinal=new Intl.PluralRules(bi.locale,{type:"ordinal"}),bi._ordinalPluralCategories=bi._ordinal.resolvedOptions().pluralCategories),bi._ordinal}}),Object.defineProperty(bi,"cardinal",{get:function(){return bi._cardinal||(bi._cardinalEnglish=new Intl.PluralRules("en",{type:"cardinal"}),bi._cardinalEnglishPluralCategories=bi._cardinalEnglish.resolvedOptions().pluralCategories,bi._cardinal=new Intl.PluralRules(bi.locale,{type:"cardinal"}),bi._cardinaPluralCategories=bi._ordinal.resolvedOptions().pluralCategories),bi._cardinal}}),bi.strings={en:{"keyboard.tooltip.functions":"Functions","keyboard.tooltip.greek":"Greek Letters","keyboard.tooltip.command":"LaTeX Command Mode","keyboard.tooltip.numeric":"Numeric","keyboard.tooltip.roman":"Symbols and Roman Letters","tooltip.copy to clipboard":"Copy to Clipboard","tooltip.redo":"Redo","tooltip.toggle virtual keyboard":"Toggle Virtual Keyboard","tooltip.undo":"Undo"},ar:{"keyboard.tooltip.functions":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"   ","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":"  ","tooltip.copy to clipboard":"  ","tooltip.redo":"","tooltip.toggle virtual keyboard":"   ","tooltip.undo":""},de:{"keyboard.tooltip.functions":"Funktionen","keyboard.tooltip.greek":"Griechische Buchstaben","keyboard.tooltip.command":"LaTeX-Befehlsmodus","keyboard.tooltip.numeric":"Numerisch","keyboard.tooltip.roman":"Symbole und rmische Buchstaben","tooltip.copy to clipboard":"In die Zwischenablage kopieren","tooltip.redo":"Wiederholen","tooltip.toggle virtual keyboard":"Virtuelle Tastatur umschalten","tooltip.undo":"Widerrufen"},el:{"keyboard.tooltip.functions":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"  LaTeX","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":"   ","tooltip.copy to clipboard":"  ","tooltip.redo":"","tooltip.toggle virtual keyboard":"  ","tooltip.undo":""},es:{"keyboard.tooltip.functions":"Funciones","keyboard.tooltip.greek":"Letras griegas","keyboard.tooltip.command":"Modo Comando LaTeX","keyboard.tooltip.numeric":"Numrico","keyboard.tooltip.roman":"Smbolos y letras romanas","tooltip.copy to clipboard":"Copiar al portapapeles","tooltip.redo":"Rehacer","tooltip.toggle virtual keyboard":"Alternar teclado virtual","tooltip.undo":"Deshacer"},fa:{"keyboard.tooltip.functions":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"  ","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":"   ","tooltip.copy to clipboard":"  ","tooltip.redo":"  ","tooltip.toggle virtual keyboard":"/  ","tooltip.undo":"  "},fr:{"keyboard.tooltip.functions":"Fonctions","keyboard.tooltip.greek":"Lettres grecques","keyboard.tooltip.command":"Mode de commandes LaTeX","keyboard.tooltip.numeric":"Numrique","keyboard.tooltip.roman":"Lettres et symboles romains","tooltip.copy to clipboard":"Copier dans le presse-papiers","tooltip.redo":"Rtablir","tooltip.toggle virtual keyboard":"Afficher/Masquer le clavier virtuel","tooltip.undo":"Annuler"},it:{"keyboard.tooltip.functions":"Funzioni","keyboard.tooltip.greek":"Lettere greche","keyboard.tooltip.command":"Modalit di comando LaTeX","keyboard.tooltip.numeric":"Numerico","keyboard.tooltip.roman":"Simboli e lettere romane","tooltip.copy to clipboard":"Copia negli appunti","tooltip.redo":"Rifare","tooltip.toggle virtual keyboard":"Attiva / disattiva la tastiera virtuale","tooltip.undo":"Disfare"},ja:{"keyboard.tooltip.functions":"","keyboard.tooltip.greek":"","keyboard.tooltip.command":"LaTeX","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":"","tooltip.copy to clipboard":"","tooltip.redo":"","tooltip.toggle virtual keyboard":"","tooltip.undo":""},pl:{"keyboard.tooltip.functions":"Funkcje","keyboard.tooltip.greek":"Litery greckie","keyboard.tooltip.command":"Tryb polece LaTeX","keyboard.tooltip.numeric":"Numeryczne","keyboard.tooltip.roman":"Symbole i litery rzymskie","tooltip.copy to clipboard":"Kopiuj do Schowka","tooltip.redo":"Przywr","tooltip.toggle virtual keyboard":"Przecz wirtualn klawiatur","tooltip.undo":"Cofnij"},ru:{"keyboard.tooltip.functions":"","keyboard.tooltip.greek":" ","keyboard.tooltip.command":"   LaTeX","keyboard.tooltip.numeric":"","keyboard.tooltip.roman":"   ","tooltip.copy to clipboard":"   ","tooltip.redo":"","tooltip.toggle virtual keyboard":"  ","tooltip.undo":""}};var vi={numeric:{tooltip:"keyboard.tooltip.numeric",layer:"math",label:"123",layers:["math"]},roman:{tooltip:"keyboard.tooltip.roman",layer:"lower-roman",label:"ABC",layers:["lower-roman","upper-roman","symbols"]},greek:{tooltip:"keyboard.tooltip.greek",layer:"lower-greek",label:"&alpha;&beta;&gamma;",classes:"tex-math",layers:["lower-greek","upper-greek"]},functions:{tooltip:"keyboard.tooltip.functions",layer:"functions",label:"<i>f</i>&thinsp;()",classes:"tex",layers:["functions"]},command:{tooltip:"keyboard.tooltip.command",command:"enterCommandMode",label:"<svg><use xlink:href='#svg-command' /></svg>",layers:["lower-command","upper-command","symbols-command"]},style:{tooltip:"keyboard.tooltip.style",layer:"style",label:"<b>b</b><i>i</i>"}},xi={"\\varphi ":{label:"&Phi;",insert:"\\Phi "},"\\varsigma ":{label:"&Sigma;",insert:"\\Sigma "},"\\epsilon ":{label:"&#x0190;",insert:'{\\char"0190}'},"\\rho ":{label:"&#x3A1",insert:'{\\char"3A1}'},"\\tau ":{label:"&#x3A4;",insert:'{\\char"3A4}'},"\\upsilon ":{label:"&Upsilon;",insert:"\\Upsilon "},"\\theta ":{label:"&Theta;",insert:"\\Theta "},"\\iota ":{label:"&Iota;",insert:'{\\char"399}'},"\\omicron ":{label:"&#x039F;",insert:'{\\char"39F}'},"\\pi ":{label:"&Pi;",insert:"\\Pi "},"\\alpha ":{label:"&Alpha;",insert:'{\\char"391}'},"\\sigma ":{label:"&Sigma;",insert:"\\Sigma "},"\\delta ":{label:"&Delta;",insert:"\\Delta "},"\\phi ":{label:"&#x03a6;",insert:"\\Phi "},"\\gamma ":{label:"&Gamma;",insert:"\\Gamma "},"\\eta ":{label:"&Eta;",insert:'{\\char"397}'},"\\xi ":{label:"&Xi;",insert:"\\Xi "},"\\kappa ":{label:"&Kappa;",insert:'{\\char"39A}'},"\\lambda ":{label:"&Lambda;",insert:"\\Lambda "},"\\zeta ":{label:"&Zeta;",insert:'{\\char"396}'},"\\chi ":{label:"&Chi;",insert:'{\\char"3A7}'},"\\psi ":{label:"&Psi;",insert:"\\Psi "},"\\omega ":{label:"&Omega;",insert:"\\Omega "},"\\beta ":{label:"&Beta;",insert:'{\\char"392}'},"\\nu ":{label:"&Nu;",insert:'{\\char"39D}'},"\\mu ":{label:"&Mu;",insert:'{\\char"39C}'}},ki={0:["\\emptyset","\\varnothing","\\infty",{latex:"#?_0",insert:"#@_0"},"\\circ","\\bigcirc","\\bullet"],2:["\\frac{1}{2}",{latex:"#?^2",insert:"#@^2"}],3:["\\frac{1}{3}",{latex:"#?^3",insert:"#@^3"}],".":[",",";","\\colon",{latex:":",aside:"ratio"},{latex:"\\cdotp",aside:"center dot",classes:"box"},{latex:"\\cdots",aside:"center ellipsis",classes:"box"},{latex:"\\ldotp",aside:"low dot",classes:"box"},{latex:"\\ldots",aside:"low ellipsis",classes:"box"},{latex:"\\vdots",aside:"",classes:"box"},{latex:"\\ddots",aside:"",classes:"box"},"\\odot","\\oslash","\\circledcirc"],"*":["\\cdot","\\ast","\\star","\\bigstar","\\ltimes","\\rtimes","\\rightthreetimes","\\leftthreetimes","\\intercal","\\prod",{latex:"\\prod_{n\\mathop=0}^{\\infty}",classes:"small"}],"+":["\\pm","\\mp","\\sum",{latex:"\\sum_{n\\mathop=0}^{\\infty}",classes:"small"},"\\dotplus","\\oplus"],"-":["\\pm","\\mp","\\ominus","\\vert #0  \\vert"],"/":["\\divideontimes","/","\\div"],"(":["\\left( #0\\right)","\\left[ #0\\right]","\\left\\{ #0\\right\\}","\\left\\langle #0\\right\\rangle","\\lfloor","\\llcorner","(","\\lbrack","\\lvert","\\lVert","\\lgroup","\\langle","\\lceil","\\ulcorner","\\lmoustache","\\lbrace"],")":["\\rfloor","\\lrcorner",")","\\rbrack","\\rvert","\\rVert","\\rgroup","\\rangle","\\rceil","\\urcorner","\\rmoustache","\\rbrace"],"=":["\\cong","\\asymp","\\equiv","\\differencedelta","\\varpropto","\\thickapprox","\\approxeq","\\thicksim","\\backsim","\\eqsim","\\simeq","\\Bumpeq","\\bumpeq","\\doteq","\\Doteq","\\fallingdotseq","\\risingdotseq","\\coloneq","\\eqcirc","\\circeq","\\triangleq","\\between"],"!=":["\\neq","\\ncong","","\\nsim"],"<":["\\leq","\\leqq","\\lneqq","\\ll","\\nless","\\nleq","\\precsim","\\lesssim","\\lessgtr","\\prec","\\preccurlyeq","\\lessdot","\\nprec"],">":["\\geq","\\geqq","\\gneqq","\\gg","\\ngtr","\\ngeq","\\succsim","\\gtrsim","\\gtrless","\\succ","\\succcurlyeq","\\gtrdot","\\nsucc"],set:["\\in","\\owns","\\subset","\\nsubset","\\supset","\\nsupset"],"!set":["\\notin","\\backepsilon"],subset:[],supset:[],infinity:["\\aleph_0","\\aleph_1","\\omega","\\mathfrak{m}"],"numeric-pi":["\\prod","\\theta","\\rho","\\sin","\\cos","\\tan"],ee:["\\times 10^{#?}","\\ln","\\ln_{10}","\\log"],"^":["_{#?}"],int:[{latex:"\\int_{#?}^{#?}",classes:"small"},{latex:"\\int",classes:"small"},{latex:"\\smallint",classes:"small"},{latex:"\\iint",classes:"small"},{latex:"\\iiint",classes:"small"},{latex:"\\oint",classes:"small"},{latex:"\\dfrac{\\rd}{\\rd x}",classes:"small"},{latex:"\\frac{\\partial}{\\partial x}",classes:"small"},"\\capitalDifferentialD","\\rd","\\partial"],nabla:["\\nabla\\times","\\nabla\\cdot","\\nabla^{2}"],"!":["!!","\\Gamma","\\Pi"],accents:["\\bar{#@}","\\vec{#@}","\\hat{#@}","\\check{#@}","\\dot{#@}","\\ddot{#@}","\\mathring{#@}","\\breve{#@}","\\acute{#@}","\\tilde{#@}","\\grave{#@}"],A:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"}],a:[{latex:"\\aleph",aside:"aleph"},{latex:"\\forall",aside:"for all"}],b:[{latex:"\\beth",aside:"beth"}],B:[{latex:"\\beth",aside:"beth"}],c:[{latex:"\\C",aside:"set of complex numbers"}],d:[{latex:"\\daleth",aside:"daleth"}],D:[{latex:"\\daleth",aside:"daleth"}],e:[{latex:"\\exponentialE",aside:"exponential e"},{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isnt"}],g:[{latex:"\\gimel",aside:"gimel"}],G:[{latex:"\\gimel",aside:"gimel"}],h:[{latex:"\\hbar",aside:"h bar"},{latex:"\\hslash",aside:"h slash"}],i:[{latex:"\\imaginaryI",aside:"imaginary i"}],j:[{latex:"\\imaginaryJ",aside:"imaginary j"}],l:[{latex:"\\ell",aside:"ell"}],n:[{latex:"\\N",aside:"set of natural numbers"}],p:[{latex:"\\P",aside:"set of primes"}],q:[{latex:"\\Q",aside:"set of rational numbers"}],r:[{latex:"\\R",aside:"set of real numbers"}],z:[{latex:"\\Z",aside:"set of integers"}],"x-var":["y","z","t","r",{latex:"f(#?)",classes:"small"},{latex:"g(#?)",classes:"small"},"x^2","x^n","x_n","x_{n+1}","x_i","x_{i+1}"],"n-var":["i","j","p","k","a","u"],ii:["\\Re","\\Im","\\imaginaryJ","\\Vert #0 \\Vert"],logic:[{latex:"\\exists",aside:"there is"},{latex:"\\nexists",aside:"there isnt"},{latex:"\\ni",aside:"such that"},{latex:"\\Colon",aside:"such that"},{latex:"\\implies",aside:"implies"},{latex:"\\impliedby",aside:"implied by"},{latex:"\\iff",aside:"if and only if"},{latex:"\\land",aside:"and"},{latex:"\\lor",aside:"or"},{latex:"\\oplus",aside:"xor"},{latex:"\\lnot",aside:"not"},{latex:"\\downarrow",aside:"nor"},{latex:"\\uparrow",aside:"nand"},{latex:"\\curlywedge",aside:"nor"},{latex:"\\bar\\curlywedge",aside:"nand"},{latex:"\\therefore",aside:"therefore"},{latex:"\\because",aside:"because"},{latex:"^\\biconditional",aside:"biconditional"},"\\leftrightarrow","\\Leftrightarrow","\\to","\\models","\\vdash","\\gets","\\dashv","\\roundimplies"],"set-operators":["\\cap","\\cup","\\setminus","\\smallsetminus","\\complement"],"set-relations":["\\in","\\notin","\\ni","\\owns","\\subset","\\supset","\\subseteq","\\supseteq","\\subsetneq","\\supsetneq","\\varsubsetneq","\\subsetneqq","\\nsubset","\\nsupset","\\nsubseteq","\\nsupseteq"],space:[{latex:'\\char"203A\\!\\char"2039',insert:"\\!",aside:"negative thin space<br> em"},{latex:'\\unicode{"203A}\\,\\unicode{"2039}',insert:"\\,",aside:"thin space<br> em"},{latex:'\\unicode{"203A}\\:\\unicode{"2039}',insert:"\\:",aside:"medium space<br> em"},{latex:'\\unicode{"203A}\\;\\unicode{"2039}',insert:"\\;",aside:"thick space<br> em"},{latex:'\\unicode{"203A}\\ \\unicode{"2039}',insert:"\\ ",aside:" em"},{latex:'\\unicode{"203A}\\enspace\\unicode{"2039}',insert:"\\enspace",aside:" em"},{latex:'\\unicode{"203A}\\quad\\unicode{"2039}',insert:"\\quad",aside:"1 em"},{latex:'\\unicode{"203A}\\qquad\\unicode{"2039}',insert:"\\qquad",aside:"2 em"}],delete:[{label:'<span class="warning"><svg><use xlink:href="#svg-trash" /></svg></span>',command:'"deleteAll"'}],"->|":[]},wi={},Si={math:"\n        <div class='rows'>\n            <ul>\n                <li class='keycap tex' data-alt-keys='x-var'><i>x</i></li>\n                <li class='keycap tex' data-alt-keys='n-var'><i>n</i></li>\n                <li class='separator w5'></li>\n                <row name='numpad-1'/>\n                <li class='separator w5'></li>\n                <li class='keycap tex' data-key='ee' data-alt-keys='ee'>e</li>\n                <li class='keycap tex' data-key='ii' data-alt-keys='ii'>i</li>\n                <li class='keycap tex' data-latex='\\pi' data-alt-keys='numeric-pi'></li>\n            </ul>\n            <ul>\n                <li class='keycap tex' data-key='<' data-alt-keys='<'>&lt;</li>\n                <li class='keycap tex' data-key='>' data-alt-keys='>'>&gt;</li>\n                <li class='separator w5'></li>\n                <row name='numpad-2'/>\n                <li class='separator w5'></li>\n                <li class='keycap tex' data-alt-keys='x2' data-insert='#@^{2}'><span><i>x</i>&thinsp;</span></li>\n                <li class='keycap tex' data-alt-keys='^' data-insert='#@^{#?}'><span><i>x</i><sup>&thinsp;<small>&#x2b1a;</small></sup></span></li>\n                <li class='keycap tex' data-alt-keys='sqrt' data-insert='\\sqrt{#0}' data-latex='\\sqrt{#0}'></li>\n            </ul>\n            <ul>\n                <li class='keycap tex' data-alt-keys='(' >(</li>\n                <li class='keycap tex' data-alt-keys=')' >)</li>\n                <li class='separator w5'></li>\n                <row name='numpad-3'/>\n                <li class='separator w5'></li>\n                <li class='keycap tex small' data-alt-keys='int' data-latex='\\int_0^\\infty'><span></span></li>\n                <li class='keycap tex' data-latex='\\forall' data-alt-keys='logic' ></li>\n                <li class='action font-glyph bottom right' data-alt-keys='delete' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'>&#x232b;</li></ul>\n            </ul>\n            <ul>\n                <li class='keycap' data-alt-keys='foreground-color' data-command='[\"applyStyle\",{\"color\":\"#cc2428\"}]'><span style='border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428; box-sizing: border-box'></span></li>\n                <li class='keycap' data-alt-keys='background-color' data-command='[\"applyStyle\",{\"backgroundColor\":\"#fff590\"}]'><span style='border-radius: 50%;width:22px;height:22px; background:#fff590; box-sizing: border-box'></span></li>\n                <li class='separator w5'></li>\n                <row name='numpad-4'/>\n                <li class='separator w5'></li>\n                <arrows/>\n            </ul>\n        </div>\n    ","lower-roman":"\n        <div class='rows'>\n            <ul>\n                <row name='numpad-1' class='if-wide'/>\n                <row name='lower-1' shift-layer='upper-roman'/>\n            </ul>\n            <ul>\n                <row name='numpad-2' class='if-wide'/>\n                <row name='lower-2'  shift-layer='upper-roman''/>\n            </ul>\n            <ul>\n                <row name='numpad-3' class='if-wide'/>\n                <row name='lower-3'  shift-layer='upper-roman''/>\n            </ul>\n            <ul>\n                <row name='numpad-4' class='if-wide'/>\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='symbols'>&infin;</li>\n                <li class='keycap' data-alt-keys=','>,</li>\n                <li class='keycap w50' data-key=' ' data-alt-keys='space'>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>","upper-roman":"\n        <div class='rows'>\n            <ul>\n                <row name='numpad-1' class='if-wide'/>\n                <row name='upper-1'  shift-layer='lower-roman'/>\n            </ul>\n            <ul>\n                <row name='numpad-2' class='if-wide'/>\n                <row name='upper-2' shift-layer='lower-roman'/>\n            </ul>\n            <ul>\n                <row name='numpad-3' class='if-wide'/>\n                <row name='upper-3' shift-layer='lower-roman'/>\n            </ul>\n            <ul>\n                <row name='numpad-4' class='if-wide'/>\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='symbols'>&infin;</li>\n                <li class='keycap' data-alt-keys='.'>;</li>\n                <li class='keycap w50' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>",symbols:"\n        <div class='rows'>\n            <ul>\n                <row name='numpad-1' class='if-wide'/>\n                <li class='keycap tex' data-alt-keys='(' data-insert='\\lbrace '>{</li>\n                <li class='keycap tex' data-alt-keys=')' data-insert='\\rbrace '>}</li>\n                <li class='separator w5'></li>\n                <li class='keycap tex' data-alt-keys='set' data-insert='\\in '>&#x2208;</li>\n                <li class='keycap tex' data-alt-keys='!set' data-insert='\\notin '>&#x2209;</li>\n                <li class='keycap tex' data-insert='\\Re '>&#x211c;<aside>Real</aside></li>\n                <li class='keycap tex' data-insert='\\Im '>&#x2111;<aside>Imaginary</aside></li>\n                <li class='keycap w15' data-insert='\\ulcorner#0\\urcorner '><span><sup>&#x250c;</sup><span><span style='color:#ddd'>o</span><sup>&#x2510;</sup></span><aside>ceil</aside></li>\n                <li class='keycap tex' data-alt-keys='nabla' data-insert='\\nabla '>&#x2207;<aside>nabla</aside></li>\n                <li class='keycap tex' data-alt-keys='infinity' data-insert='\\infty '>&#x221e;</li>\n\n            </ul>\n            <ul>\n                <row name='numpad-2' class='if-wide'/>\n                <li class='keycap tex' data-alt-keys='(' data-insert='\\lbrack '>[</li>\n                <li class='keycap tex' data-alt-keys=')' data-insert='\\rbrack '>]</li>\n                <li class='separator w5'></li>\n                <li class='keycap tex' data-alt-keys='subset' data-insert='\\subset '>&#x2282;</li>\n                <li class='keycap tex' data-alt-keys='supset' data-insert='\\supset '>&#x2283;</li>\n                <li class='keycap tex' data-key='!' data-alt-keys='!'>!<aside>factorial</aside></li>\n                <li class='keycap' data-insert='^{\\prime} '><span><sup><span><span style='color:#ddd'>o</span>&#x2032</sup></span><aside>prime</aside></li>\n                <li class='keycap w15' data-insert='\\llcorner#0\\lrcorner '><span><sub>&#x2514;</sub><span style='color:#ddd'>o</span><sub>&#x2518;</sub></span><aside>floor</aside></li>\n                <li class='keycap tex' data-insert='\\partial '>&#x2202;<aside>partial<br>derivative</aside></li>\n                <li class='keycap tex' data-insert='\\emptyset '>&#x2205;<aside>empty set</aside></li>\n\n            </ul>\n            <ul>\n                <row name='numpad-3' class='if-wide'/>\n                <li class='keycap tex' data-alt-keys='(' data-insert='\\langle '>&#x27e8;</li>\n                <li class='keycap tex' data-alt-keys=')' data-insert='\\rangle '>&#x27e9;</li>\n                <li class='separator w5'></li>\n                <li class='keycap tex' data-insert='\\subseteq '>&#x2286;</li>\n                <li class='keycap tex' data-insert='\\supseteq '>&#x2287;</li>\n                <li class='keycap tex' data-alt-keys='accents' data-insert='\\vec{#@}' data-latex='\\vec{#?}' data-aside='vector'></li>\n                <li class='keycap tex' data-alt-keys='accents' data-insert='\\bar{#@}' data-latex='\\bar{#?}' data-aside='bar'></li>\n                <li class='keycap tex' data-alt-keys='absnorm' data-insert='\\lvert #@ \\rvert ' data-latex='\\lvert #? \\rvert' data-aside='abs'></li>\n                <li class='keycap tex' data-insert='\\ast '>&#x2217;<aside>asterisk</aside></li>\n\n                <li class='action font-glyph bottom right w15'\n                    data-shifted='<span class=\"warning\"><svg><use xlink:href=\"#svg-trash\" /></svg></span>'\n                    data-shifted-command='\"deleteAll\"'\n                    data-alt-keys='delete' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'\n                >&#x232b;</li>\n            </ul>\n            <ul>\n                <row name='numpad-4' class='if-wide'/>\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='lower-roman'>abc</li>\n                <li class='keycap tex' data-insert='\\cdot '>&#x22c5;<aside>centered dot</aside></li>\n                <li class='keycap tex' data-insert='\\colon '>:<aside>colon</aside></li>\n                <li class='keycap tex' data-insert='\\circ '>&#x2218;<aside>circle</aside></li>\n                <li class='keycap tex' data-insert='\\approx '>&#x2248;<aside>approx.</aside></li>\n                <li class='keycap tex' data-insert='\\ne '>&#x2260;</li>\n                <li class='keycap tex' data-insert='\\pm '>&#x00b1;</li>\n                <arrows/>\n            </ul>\n        </div>","lower-greek":"\n        <div class='rows'>\n            <ul><li class='keycap tex' data-insert='\\varphi '><i>&#x03c6;</i><aside>phi var.</aside></li>\n                <li class='keycap tex' data-insert='\\varsigma '><i>&#x03c2;</i><aside>sigma var.</aside></li>\n                <li class='keycap tex' data-insert='\\epsilon '><i>&#x03f5;</i></li>\n                <li class='keycap tex' data-insert='\\rho '><i>&rho;</i></li>\n                <li class='keycap tex' data-insert='\\tau '><i>&tau;</i></li>\n                <li class='keycap tex' data-insert='\\upsilon '><i>&upsilon;</i></li>\n                <li class='keycap tex' data-insert='\\theta '><i>&theta;</i></li>\n                <li class='keycap tex' data-insert='\\iota '><i>&iota;</i></li>\n                <li class='keycap tex' data-insert='\\omicron '>&omicron;</i></li>\n                <li class='keycap tex' data-insert='\\pi '><i>&pi;</i></li>\n            </ul>\n            <ul><li class='keycap tex' data-insert='\\alpha ' data-shifted='&Alpha;' data-shifted-command='[\"insert\",\"{\\\\char\\\"391}\"]'><i>&alpha;</i></li>\n                <li class='keycap tex' data-insert='\\sigma '><i>&sigma;</i></li>\n                <li class='keycap tex' data-insert='\\delta '><i>&delta;</i></li>\n                <li class='keycap tex' data-insert='\\phi '><i>&#x03d5;</i></i></li>\n                <li class='keycap tex' data-insert='\\gamma '><i>&gamma;</i></li>\n                <li class='keycap tex' data-insert='\\eta '><i>&eta;</i></li>\n                <li class='keycap tex' data-insert='\\xi '><i>&xi;</i></li>\n                <li class='keycap tex' data-insert='\\kappa '><i>&kappa;</i></li>\n                <li class='keycap tex' data-insert='\\lambda '><i>&lambda;</i></li>\n            </ul>\n            <ul><li class='shift modifier font-glyph bottom left w15 layer-switch' data-layer='upper-greek'>&#x21e7;</li>\n                <li class='keycap tex' data-insert='\\zeta '><i>&zeta;</i></li>\n                <li class='keycap tex' data-insert='\\chi '><i>&chi;</i></li>\n                <li class='keycap tex' data-insert='\\psi '><i>&psi;</i></li>\n                <li class='keycap tex' data-insert='\\omega '><i>&omega;</i></li>\n                <li class='keycap tex' data-insert='\\beta '><i>&beta;</i></li>\n                <li class='keycap tex' data-insert='\\nu '><i>&nu;</i></li>\n                <li class='keycap tex' data-insert='\\mu '><i>&mu;</i></li>\n                <li class='action font-glyph bottom right w15'\n                    data-shifted='<span class=\"warning\"><svg><use xlink:href=\"#svg-trash\" /></svg></span>'\n                    data-shifted-command='\"deleteAll\"'\n                    data-alt-keys='delete' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'\n                >&#x232b;</li>\n            </ul>\n            <ul>\n                <li class='keycap ' data-key=' '>&nbsp;</li>\n                <li class='keycap'>,</li>\n                <li class='keycap tex' data-insert='\\varepsilon '><i>&#x03b5;</i><aside>epsilon var.</aside></li>\n                <li class='keycap tex' data-insert='\\vartheta '><i>&#x03d1;</i><aside>theta var.</aside></li>\n                <li class='keycap tex' data-insert='\\varkappa '><i>&#x3f0;</i><aside>kappa var.</aside></li>\n                <li class='keycap tex' data-insert='\\varpi '><i>&#x03d6;<aside>pi var.</aside></i></li>\n                <li class='keycap tex' data-insert='\\varrho '><i>&#x03f1;</i><aside>rho var.</aside></li>\n                <arrows/>\n            </ul>\n        </div>","upper-greek":"\n        <div class='rows'>\n            <ul><li class='keycap tex' data-insert='\\Phi '>&Phi;<aside>phi</aside></li>\n                <li class='keycap tex' data-insert='\\Sigma '>&Sigma;<aside>sigma</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"0190}'>&#x0190;<aside>epsilon</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"3A1}'>&#x3A1;<aside>rho</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"3A4}'>&#x3A4;<aside>tau</aside></li>\n                <li class='keycap tex' data-insert='\\Upsilon '>&Upsilon;<aside>upsilon</aside></li>\n                <li class='keycap tex' data-insert='\\Theta '>&Theta;<aside>theta</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"399}'>&Iota;<aside>iota</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"39F}'>&#x039F;<aside>omicron</aside></li>\n                <li class='keycap tex' data-insert='\\Pi '>&Pi;<aside>pi</aside></li></ul>\n            <ul><li class='keycap tex' data-insert='{\\char\"391}'>&#x391;<aside>alpha</aside></li>\n                <li class='keycap tex' data-insert='\\Sigma '>&Sigma;<aside>sigma</aside></li>\n                <li class='keycap tex' data-insert='\\Delta '>&Delta;<aside>delta</aside></li>\n                <li class='keycap tex' data-insert='\\Phi '>&#x03a6;<aside>phi</aside></li>\n                <li class='keycap tex' data-insert='\\Gamma '>&Gamma;<aside>gamma</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"397}'>&Eta;<aside>eta</aside></li>\n                <li class='keycap tex' data-insert='\\Xi '>&Xi;<aside>xi</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"39A}'>&Kappa;<aside>kappa</aside></li>\n                <li class='keycap tex' data-insert='\\Lambda '>&Lambda;<aside>lambda</aside></li></ul>\n            <ul><li class='shift modifier font-glyph bottom left selected w15 layer-switch' data-layer='lower-greek'>&#x21e7;</li>\n                <li class='keycap tex' data-insert='{\\char\"396}'>&Zeta;<aside>zeta</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"3A7}'>&Chi;<aside>chi</aside></li>\n                <li class='keycap tex' data-insert='\\Psi '>&Psi;<aside>psi</aside></li>\n                <li class='keycap tex' data-insert='\\Omega '>&Omega;<aside>omega</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"392}'>&Beta;<aside>beta</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"39D}'>&Nu;<aside>nu</aside></li>\n                <li class='keycap tex' data-insert='{\\char\"39C}'>&Mu;<aside>mu</aside></li>\n                <li class='action font-glyph bottom right w15' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'>&#x232b;</li></ul>\n            <ul>\n                <li class='separator w10'>&nbsp;</li>\n                <li class='keycap'>.</li>\n                <li class='keycap w50' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>","lower-command":"\n        <div class='rows'>\n            <ul><row name='lower-1' class='tt' shift-layer='upper-command'/></ul>\n            <ul><row name='lower-2' class='tt' shift-layer='upper-command'/></ul>\n            <ul><row name='lower-3' class='tt' shift-layer='upper-command'/></ul>\n            <ul>\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='symbols-command'>01#</li>\n                <li class='keycap tt' data-shifted='[' data-shifted-command='[\"insertAndUnshiftKeyboardLayer\", \"[\"]'>{</li>\n                <li class='keycap tt' data-shifted=']' data-shifted-command='[\"insertAndUnshiftKeyboardLayer\", \"]\"]'>}</li>\n                <li class='keycap tt' data-shifted='(' data-shifted-command='[\"insertAndUnshiftKeyboardLayer\", \"(\"]'>^</li>\n                <li class='keycap tt' data-shifted=')' data-shifted-command='[\"insertAndUnshiftKeyboardLayer\", \")\"]'>_</li>\n                <li class='keycap w20' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>","upper-command":"\n        <div class='rows'>\n            <ul><row name='upper-1' class='tt' shift-layer='lower-command'/></ul>\n            <ul><row name='upper-2' class='tt' shift-layer='lower-command'/></ul>\n            <ul><row name='upper-3' class='tt' shift-layer='lower-command'/></ul>\n            <ul>\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='symbols-command'01#</li>\n                <li class='keycap tt'>[</li>\n                <li class='keycap tt'>]</li>\n                <li class='keycap tt'>(</li>\n                <li class='keycap tt'>)</li>\n                <li class='keycap w20' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>","symbols-command":"\n        <div class='rows'>\n            <ul><li class='keycap tt'>1</li><li class='keycap tt'>2</li><li class='keycap tt'>3</li><li class='keycap tt'>4</li><li class='keycap tt'>5</li><li class='keycap tt'>6</li><li class='keycap tt'>7</li><li class='keycap tt'>8</li><li class='keycap tt'>9</li><li class='keycap tt'>0</li></ul>\n            <ul><li class='keycap tt'>!</li><li class='keycap tt'>@</li><li class='keycap tt'>#</li><li class='keycap tt'>$</li><li class='keycap tt'>%</li><li class='keycap tt'>^</li><li class='keycap tt'>&</li><li class='keycap tt'>*</li><li class='keycap tt'>+</li><li class='keycap tt'>=</li></ul>\n            <ul>\n                <li class='keycap tt'>\\</li>\n                <li class='keycap tt'>|</li>\n                <li class='keycap tt'>/</li>\n                <li class='keycap tt'>`</li>\n                <li class='keycap tt'>;</li>\n                <li class='keycap tt'>:</li>\n                <li class='keycap tt'>?</li>\n                <li class='keycap tt'>'</li>\n                <li class='keycap tt'>\"</li>\n                <li class='action font-glyph bottom right'\n                    data-shifted='<span class=\"warning\"><svg><use xlink:href=\"#svg-trash\" /></svg></span>'\n                    data-shifted-command='\"deleteAll\"'\n                    data-alt-keys='delete' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'\n                >&#x232b;</li>\n            </ul>\n            <ul>\n                <li class='layer-switch font-glyph modifier bottom left' data-layer='lower-command'>abc</li>\n                <li class='keycap tt'>&lt;</li>\n                <li class='keycap tt'>&gt;</li>\n                <li class='keycap tt'>~</li>\n                <li class='keycap tt'>,</li>\n                <li class='keycap tt'>.</li>\n                <li class='keycap' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>",functions:"\n        <div class='rows'>\n            <ul><li class='separator'></li>\n                <li class='fnbutton' data-insert='\\sin'></li>\n                <li class='fnbutton' data-insert='\\sin^{-1}'></li>\n                <li class='fnbutton' data-insert='\\ln'></li>\n                <li class='fnbutton' data-insert='\\exponentialE^{#?}'></li>\n                <li class='bigfnbutton' data-insert='\\operatorname{lcm}(#?)' data-latex='\\operatorname{lcm}()'></li>\n                <li class='bigfnbutton' data-insert='\\operatorname{ceil}(#?)' data-latex='\\operatorname{ceil}()'></li>\n                <li class='bigfnbutton' data-insert='\\lim_{n\\to\\infty}'></li>\n                <li class='bigfnbutton' data-insert='\\int'></li>\n                <li class='bigfnbutton' data-insert='\\operatorname{abs}(#?)' data-latex='\\operatorname{abs}()'></li>\n            </ul>\n            <ul><li class='separator'></li>\n                <li class='fnbutton' data-insert='\\cos'></li>\n                <li class='fnbutton' data-insert='\\cos^{-1}'></li>\n                <li class='fnbutton' data-insert='\\ln_{10}'></li>\n                <li class='fnbutton' data-insert='10^{#?}'></li>\n                <li class='bigfnbutton' data-insert='\\operatorname{gcd}(#?)' data-latex='\\operatorname{gcd}()'></li>\n                <li class='bigfnbutton' data-insert='\\operatorname{floor}(#?)' data-latex='\\operatorname{floor}()'></li>\n                <li class='bigfnbutton' data-insert='\\sum_{n\\mathop=0}^{\\infty}'></li>\n                <li class='bigfnbutton' data-insert='\\int_{0}^{\\infty}'></li>\n                <li class='bigfnbutton' data-insert='\\operatorname{sign}(#?)' data-latex='\\operatorname{sign}()'></li>\n            </ul>\n            <ul><li class='separator'></li>\n                <li class='fnbutton' data-insert='\\tan'></li>\n                <li class='fnbutton' data-insert='\\tan^{-1}'></li>\n                <li class='fnbutton' data-insert='\\log_{#?}'></li>\n                <li class='fnbutton' data-insert='\\sqrt[#?]{#0}'></li>\n                <li class='bigfnbutton' data-insert='#0 \\mod' data-latex='\\mod'></li>\n                <li class='bigfnbutton' data-insert='\\operatorname{round}(#?) ' data-latex='\\operatorname{round}()'></li>\n                <li class='bigfnbutton' data-insert='\\prod_{n\\mathop=0}^{\\infty}' data-latex='{\\tiny \\prod_{n=0}^{\\infty}}'></li>\n                <li class='bigfnbutton' data-insert='\\frac{\\differentialD #0}{\\differentialD x}'></li>\n                <li class='action font-glyph bottom right' data-command='[\"performWithFeedback\",\"deletePreviousChar\"]'>&#x232b;</li></ul>\n            <ul><li class='separator'></li>\n                <li class='fnbutton'>(</li>\n                <li class='fnbutton'>)</li>\n                <li class='fnbutton' data-insert='^{#?} ' data-latex='x^{#?} '></li>\n                <li class='fnbutton' data-insert='_{#?} ' data-latex='x_{#?} '></li>\n                <li class='keycap w20 ' data-key=' '>&nbsp;</li>\n                <arrows/>\n            </ul>\n        </div>",style:"\n        <div class='rows'>\n            <ul>\n                <li class='keycap' data-alt-keys='foreground-color' data-command='[\"applyStyle\",{\"color\":\"#cc2428\"}]'><span style='border-radius: 50%;width:22px;height:22px; border: 3px solid #cc2428'></span></li>\n                <li class='keycap' data-alt-keys='background-color' data-command='[\"applyStyle\",{\"backgroundColor\":\"#fff590\"}]'><span style='border-radius: 50%;width:22px;height:22px; background:#fff590'></span></li>\n                <li class='separator w5'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"size\":\"size3\"}]' data-latex='\\scriptsize\\text{small}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"size\":\"size5\"}]' data-latex='\\scriptsize\\text{normal}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"size\":\"size9\"}]' data-latex='\\huge\\text{big}'></li>\n                <li class='separator w5'></li>\n                <li class='keycap' data-latex='\\langle' data-command='[\"insert\", \"\\\\langle\", {\"smartFence\":true}]'></li>\n            </ul>\n            <ul>\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"l\"}]' data-latex='\\fontseries{l}\\text{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"m\"}]' data-latex='\\fontseries{m}\\text{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"b\"}]' data-latex='\\fontseries{b}\\text{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"bx\"}]' data-latex='\\fontseries{bx}\\text{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"sb\"}]' data-latex='\\fontseries{sb}\\text{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"series\":\"c\"}]' data-latex='\\fontseries{c}\\text{Ab}'></li>\n            </ul>\n            <ul>\n                <li class='keycap' data-command='[\"applyStyle\",{\"shape\":\"up\"}]' data-latex='\\textup{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"shape\":\"it\"}]' data-latex='\\textit{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"shape\":\"sl\"}]' data-latex='\\textsl{Ab}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"shape\":\"sc\"}]' data-latex='\\textsc{Ab}'></li>\n                <li class='separator w5'></li>\n                <li class='keycap' data-insert='\\emph{#?} ' data-latex='\\text{\\emph{emph}}'></li>\n            </ul>\n            <ul>\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"cmr\"}]' data-latex='\\textrm{Az}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"cmtt\"}]' data-latex='\\texttt{Az}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"cmss\"}]' data-latex='\\textsf{Az}'></li>\n\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"bb\"}]'  data-latex='\\mathbb{AZ}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"scr\"}]'  data-latex='\\mathscr{AZ}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"cal\"}]' data-latex='\\mathcal{A1}'></li>\n                <li class='keycap' data-command='[\"applyStyle\",{\"fontFamily\":\"frak\"}]' data-latex='\\mathfrak{Az}'></li>\n            </ul>\n        </div>"};function Ai(t,e,i){t=t.replace(/(^|[^\\])#@/g,"$1#?");var a=Te.parseTokens(C.tokenize(t),"math",e,i.config.macros),s=ke.decompose({mathstyle:"displaystyle",macros:i.config.macros},a),r=ht.makeSpan(s,"ML__base"),n=ht.makeSpan("","ML__strut");n.setStyle("height",r.height,"em");var o=ht.makeSpan("","ML__strut--bottom");return o.setStyle("height",r.height+r.depth,"em"),o.setStyle("vertical-align",-r.depth,"em"),ht.makeSpan([n,o,r],"ML__mathlive").toMarkup()}function Mi(t,e,i){var a="<div class='left'>",s=e.replace(/\s+/g," ").split(" ");if(s.length>1){var r,n=Object.assign({},vi,t.config.customVirtualKeyboards||{}),o=c(s);try{for(o.s();!(r=o.n()).done;){var l=r.value;if(!n[l])break;a+="<div class='",l===i?a+="selected ":n[l].command?a+="action ":a+="layer-switch ",a+=(n[l].classes||"")+"'",n[l].tooltip&&(a+="data-tooltip='"+bi(n[l].tooltip)+"' ",a+="data-placement='top' data-delay='1s'"),l!==i&&(n[l].command&&(a+="data-command='\""+n[l].command+"\"'"),n[l].layer&&(a+="data-layer='"+n[l].layer+"'")),a+=">"+n[l].label+"</div>"}}catch(t){o.e(t)}finally{o.f()}}return a+="</div>",a+="\n        <div class='right'>\n            <div class='action'\n                data-command='\"copyToClipboard\"'\n                data-tooltip='".concat(bi("tooltip.copy to clipboard"),"' data-placement='top' data-delay='1s'>\n                <svg><use xlink:href='#svg-copy' /></svg>\n            </div>\n            <div class='action disabled'\n                data-command='\"undo\"'\n                data-tooltip='").concat(bi("tooltip.undo"),"' data-placement='top' data-delay='1s'>\n                <svg><use xlink:href='#svg-undo' /></svg>\n            </div>\n            <div class='action disabled'\n                data-command='\"redo\"'\n                data-tooltip='").concat(bi("tooltip.redo"),"' data-placement='top' data-delay='1s'>\n                <svg><use xlink:href='#svg-redo' /></svg>\n            </div>\n        </div>\n    "),"<div class='keyboard-toolbar' role='toolbar'>"+a+"</div>"}function Ci(t,e,i){for(var a=0;a<e.length;++a){var s=e[a];s.getAttribute("data-latex")?s.innerHTML=Ai(s.getAttribute("data-latex").replace(/&quot;/g,'"'),{"?":'{\\color{#555}{\\tiny \\char"2B1A}}'},t):""===s.innerHTML&&s.getAttribute("data-insert")?s.innerHTML=Ai(s.getAttribute("data-insert").replace(/&quot;/g,'"'),{"?":'{\\color{#555}{\\tiny \\char"2B1A}}'},t):s.getAttribute("data-content")&&(s.innerHTML=s.getAttribute("data-content").replace(/&quot;/g,'"')),s.getAttribute("data-aside")&&(s.innerHTML+="<aside>"+s.getAttribute("data-aside").replace(/&quot;/g,'"')+"</aside>"),s.getAttribute("data-classes")&&s.classList.add(s.getAttribute("data-classes"));var r=void 0,n=s.getAttribute("data-insert");if(n&&(n=n.replace(/&quot;/g,'"')),n&&xi[n]&&(s.setAttribute("data-shifted",xi[n].label),s.setAttribute("data-shifted-command",JSON.stringify(["insertAndUnshiftKeyboardLayer",xi[n].insert]))),r=s.getAttribute("data-command")?JSON.parse(s.getAttribute("data-command")):s.getAttribute("data-insert")?["insert",s.getAttribute("data-insert"),{focus:!0,feedback:!0,mode:"math",format:"auto",resetStyle:!0}]:s.getAttribute("data-latex")?["insert",s.getAttribute("data-latex"),{focus:!0,feedback:!0,mode:"math",format:"auto",resetStyle:!0}]:["typedText",s.getAttribute("data-key")||s.textContent,{focus:!0,feedback:!0,simulateKeystroke:!0}],i&&(r=[i,r]),s.getAttribute("data-alt-keys")){var o=wi[s.getAttribute("data-alt-keys")];o&&(r={default:r,pressAndHoldStart:["showAlternateKeys",s.getAttribute("data-alt-keys"),o],pressAndHoldEnd:"hideAlternateKeys"})}t._attachButtonHandlers(s,r)}}function _i(t,e){var i,a={qwerty:{"lower-1":"qwertyuiop","lower-2":" asdfghjkl ","lower-3":"^zxcvbnm~","upper-1":"QWERTYUIOP","upper-2":" ASDFGHJKL ","upper-3":"^ZXCVBNM~","numpad-1":"789/","numpad-2":"456*","numpad-3":"123-","numpad-4":"0.=+"},azerty:{"lower-1":"azertyuiop","lower-2":"qsdfghjklm","lower-3":"^ wxcvbn ~","upper-1":"AZERTYUIOP","upper-2":"QSDFGHJKLM","upper-3":"^ WXCVBN ~"},qwertz:{"lower-1":"qwertzuiop","lower-2":" asdfghjkl ","lower-3":"^yxcvbnm~","upper-1":"QWERTZUIOP","upper-2":" ASDFGHJKL","upper-3":"^YXCVBNM~"},dvorak:{"lower-1":"^  pyfgcrl ","lower-2":"aoeuidhtns","lower-3":"qjkxbmwvz~","upper-1":"^  PYFGCRL ","upper-2":"AOEUIDHTNS","upper-3":"QJKXBMWVZ~"},colemak:{"lower-1":" qwfpgjluy ","lower-2":"arstdhneio","lower-3":"^zxcvbkm~","upper-1":" QWFPGNLUY ","upper-2":"ARSTDHNEIO","upper-3":"^ZXCVBKM~"}},s=a[t.config.virtualKeyboardLayout]?a[t.config.virtualKeyboardLayout]:a.qwerty,r=e;r=r.replace(/<arrows\/>/g,"\n        <li class='action' data-command='[\"performWithFeedback\",\"moveToPreviousChar\"]'\n            data-shifted='<svg><use xlink:href=\"#svg-angle-double-left\" /></svg>'\n            data-shifted-command='[\"performWithFeedback\",\"extendToPreviousChar\"]'>\n            <svg><use xlink:href='#svg-arrow-left' /></svg>\n        </li>\n        <li class='action' data-command='[\"performWithFeedback\",\"moveToNextChar\"]'\n            data-shifted='<svg><use xlink:href=\"#svg-angle-double-right\" /></svg>'\n            data-shifted-command='[\"performWithFeedback\",\"extendToNextChar\"]'>\n            <svg><use xlink:href='#svg-arrow-right' /></svg>\n        </li>\n        <li class='action' data-command='[\"performWithFeedback\",\"moveToNextPlaceholder\"]'>\n        <svg><use xlink:href='#svg-tab' /></svg></li>");for(var n=r.match(/(<row\s+)(.*)((?:<\/row|\/)>)/);n;){i="";var o,l=n[2].match(/[a-zA-Z][a-zA-Z0-9-]*=(['"])(.*?)\1/g),h={},d=c(l);try{for(d.s();!(o=d.n()).done;){var u=o.value,p=u.match(/([a-zA-Z][a-zA-Z0-9-]*)=(['"])(.*?)\2/);h[p[1]]=p[3]}}catch(t){d.e(t)}finally{d.f()}var m=s[h.name];if(m||(m=a.qwerty[h.name]),m){var f,y=c(m);try{for(y.s();!(f=y.n()).done;){var g=f.value,b=h.class||"";b&&(b=" "+b),"~"===g?(i+="<li class='action font-glyph bottom right ",i+=m.length-(m.match(/ /g)||[]).length/2==10?"w10":"w15",i+='\' data-shifted=\'<span class="warning"><svg><use xlink:href="#svg-trash" /></svg></span>\'\n                        data-shifted-command=\'"deleteAll"\'\n                        data-alt-keys=\'delete\' data-command=\'["performWithFeedback","deletePreviousChar"]\'\n                        >&#x232b;</li>'):" "===g?i+="<li class='separator w5'></li>":"^"===g?i+="<li class='shift modifier font-glyph bottom left w15 layer-switch' data-layer='"+h["shift-layer"]+"'>&#x21e7;</li>":"/"===g?i+="<li class='keycap"+b+"' data-alt-keys='/' data-insert='\\frac{#0}{#?}'>&divide;</li>":"*"===g?i+="<li class='keycap"+b+"' data-alt-keys='*' data-insert='\\times '>&times;</li>":"-"===g?i+="<li class='keycap"+b+"' data-alt-keys='*' data-key='-' data-alt-keys='-'>&#x2212;</li>":/tt/.test(b)?i+="<li class='keycap"+b+"' data-alt-keys='"+g+'\' data-command=\'["typedText","'+g+'",{"commandMode":true, "focus":true, "feedback":true}]\'>'+g+"</li>":i+="<li class='keycap"+b+"' data-alt-keys='"+g+"'>"+g+"</li>"}}catch(t){y.e(t)}finally{y.f()}}r=r.replace(new RegExp(n[1]+n[2]+n[3]),i),n=r.match(/(<row\s+)(.*)((?:<\/row|\/)>)/)}return r}var Ti={make:function(t,e){var i='<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">\n\n            <symbol id="svg-command" viewBox="0 0 640 512">\n                <path d="M34.495 36.465l211.051 211.05c4.686 4.686 4.686 12.284 0 16.971L34.495 475.535c-4.686 4.686-12.284 4.686-16.97 0l-7.071-7.07c-4.686-4.686-4.686-12.284 0-16.971L205.947 256 10.454 60.506c-4.686-4.686-4.686-12.284 0-16.971l7.071-7.07c4.686-4.687 12.284-4.687 16.97 0zM640 468v-10c0-6.627-5.373-12-12-12H300c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h328c6.627 0 12-5.373 12-12z"/>\n            </symbol>\n\n            <symbol id="svg-undo" viewBox="0 0 512 512">\n                <path d="M20 8h10c6.627 0 12 5.373 12 12v110.625C85.196 57.047 165.239 7.715 256.793 8.001 393.18 8.428 504.213 120.009 504 256.396 503.786 393.181 392.834 504 256 504c-63.926 0-122.202-24.187-166.178-63.908-5.113-4.618-5.354-12.561-.482-17.433l7.069-7.069c4.503-4.503 11.749-4.714 16.482-.454C150.782 449.238 200.935 470 256 470c117.744 0 214-95.331 214-214 0-117.744-95.331-214-214-214-82.862 0-154.737 47.077-190.289 116H180c6.627 0 12 5.373 12 12v10c0 6.627-5.373 12-12 12H20c-6.627 0-12-5.373-12-12V20c0-6.627 5.373-12 12-12z"/>\n            </symbol>\n            <symbol id="svg-redo" viewBox="0 0 512 512">\n                <path d="M492 8h-10c-6.627 0-12 5.373-12 12v110.625C426.804 57.047 346.761 7.715 255.207 8.001 118.82 8.428 7.787 120.009 8 256.396 8.214 393.181 119.166 504 256 504c63.926 0 122.202-24.187 166.178-63.908 5.113-4.618 5.354-12.561.482-17.433l-7.069-7.069c-4.503-4.503-11.749-4.714-16.482-.454C361.218 449.238 311.065 470 256 470c-117.744 0-214-95.331-214-214 0-117.744 95.331-214 214-214 82.862 0 154.737 47.077 190.289 116H332c-6.627 0-12 5.373-12 12v10c0 6.627 5.373 12 12 12h160c6.627 0 12-5.373 12-12V20c0-6.627-5.373-12-12-12z"/>\n            </symbol>\n            <symbol id="svg-arrow-left" viewBox="0 0 192 512">\n                <path d="M25.1 247.5l117.8-116c4.7-4.7 12.3-4.7 17 0l7.1 7.1c4.7 4.7 4.7 12.3 0 17L64.7 256l102.2 100.4c4.7 4.7 4.7 12.3 0 17l-7.1 7.1c-4.7 4.7-12.3 4.7-17 0L25 264.5c-4.6-4.7-4.6-12.3.1-17z"/>\n            </symbol>\n            <symbol id="svg-arrow-right" viewBox="0 0 192 512">\n                    <path d="M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17z"/>\n            </symbol>\n            <symbol id="svg-tab" viewBox="0 0 448 512">\n                    <path d="M32 217.1c0-8.8 7.2-16 16-16h144v-93.9c0-7.1 8.6-10.7 13.6-5.7l143.5 143.1c6.3 6.3 6.3 16.4 0 22.7L205.6 410.4c-5 5-13.6 1.5-13.6-5.7v-93.9H48c-8.8 0-16-7.2-16-16v-77.7m-32 0v77.7c0 26.5 21.5 48 48 48h112v61.9c0 35.5 43 53.5 68.2 28.3l143.6-143c18.8-18.8 18.8-49.2 0-68L228.2 78.9c-25.1-25.1-68.2-7.3-68.2 28.3v61.9H48c-26.5 0-48 21.6-48 48zM436 64h-8c-6.6 0-12 5.4-12 12v360c0 6.6 5.4 12 12 12h8c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12z"/>\n            </symbol>\n            <symbol id="svg-copy" viewBox="0 0 448 512">\n                <path d="M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM352 32.491a15.88 15.88 0 0 1 7.431 4.195l51.882 51.883A15.885 15.885 0 0 1 415.508 96H352V32.491zM288 464c0 8.822-7.178 16-16 16H48c-8.822 0-16-7.178-16-16V144c0-8.822 7.178-16 16-16h80v240c0 26.51 21.49 48 48 48h112v48zm128-96c0 8.822-7.178 16-16 16H176c-8.822 0-16-7.178-16-16V48c0-8.822 7.178-16 16-16h144v72c0 13.2 10.8 24 24 24h72v240z"/>\n            </symbol>\n            <symbol id="svg-angle-double-right" viewBox="0 0 320 512">\n                <path d="M166.9 264.5l-117.8 116c-4.7 4.7-12.3 4.7-17 0l-7.1-7.1c-4.7-4.7-4.7-12.3 0-17L127.3 256 25.1 155.6c-4.7-4.7-4.7-12.3 0-17l7.1-7.1c4.7-4.7 12.3-4.7 17 0l117.8 116c4.6 4.7 4.6 12.3-.1 17zm128-17l-117.8-116c-4.7-4.7-12.3-4.7-17 0l-7.1 7.1c-4.7 4.7-4.7 12.3 0 17L255.3 256 153.1 356.4c-4.7 4.7-4.7 12.3 0 17l7.1 7.1c4.7 4.7 12.3 4.7 17 0l117.8-116c4.6-4.7 4.6-12.3-.1-17z"/>\n            </symbol>\n            <symbol id="svg-angle-double-left" viewBox="0 0 320 512">\n                <path d="M153.1 247.5l117.8-116c4.7-4.7 12.3-4.7 17 0l7.1 7.1c4.7 4.7 4.7 12.3 0 17L192.7 256l102.2 100.4c4.7 4.7 4.7 12.3 0 17l-7.1 7.1c-4.7 4.7-12.3 4.7-17 0L153 264.5c-4.6-4.7-4.6-12.3.1-17zm-128 17l117.8 116c4.7 4.7 12.3 4.7 17 0l7.1-7.1c4.7-4.7 4.7-12.3 0-17L64.7 256l102.2-100.4c4.7-4.7 4.7-12.3 0-17l-7.1-7.1c-4.7-4.7-12.3-4.7-17 0L25 247.5c-4.6 4.7-4.6 12.3.1 17z"/>\n            </symbol>\n            <symbol id="svg-trash" viewBox="0 0 448 512">\n                <path d="M336 64l-33.6-44.8C293.3 7.1 279.1 0 264 0h-80c-15.1 0-29.3 7.1-38.4 19.2L112 64H24C10.7 64 0 74.7 0 88v2c0 3.3 2.7 6 6 6h26v368c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V96h26c3.3 0 6-2.7 6-6v-2c0-13.3-10.7-24-24-24h-88zM184 32h80c5 0 9.8 2.4 12.8 6.4L296 64H152l19.2-25.6c3-4 7.8-6.4 12.8-6.4zm200 432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V96h320v368zm-176-44V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm-80 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12zm160 0V156c0-6.6 5.4-12 12-12h8c6.6 0 12 5.4 12 12v264c0 6.6-5.4 12-12 12h-8c-6.6 0-12-5.4-12-12z"/>\n            </symbol>\n        </svg>\n        ';ki["foreground-color"]=[];var a,s=c(Ae.LINE_COLORS);try{for(s.s();!(a=s.n()).done;){var r=a.value;ki["foreground-color"].push({classes:"small-button",content:'<span style="border-radius:50%;width:32px;height:32px; box-sizing: border-box; border: 3px solid '+r+'"></span>',command:'["applyStyle",{"color":"'+r+'"}]'})}}catch(t){s.e(t)}finally{s.f()}ki["background-color"]=[];var n,l=c(Ae.AREA_COLORS);try{for(l.s();!(n=l.n()).done;){var d=n.value;ki["background-color"].push({classes:"small-button",content:'<span style="border-radius:50%;width:32px;height:32px; background:'+d+'"></span>',command:'["applyStyle",{"backgroundColor":"'+d+'"}]'})}}catch(t){l.e(t)}finally{l.f()}wi=o({},ki),Object.keys(wi).forEach(function(t){wi[t]=wi[t].slice()});for(var u="abcdefghijklmnopqrstuvwxyz",p=0;p<26;p++){var m="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[p];wi[m]||(wi[m]=[]),wi[m].unshift({latex:"\\mathbb{"+m+"}",aside:"blackboard",insert:"\\mathbb{"+m+"}"}),wi[m].unshift({latex:"\\mathbf{"+m+"}",aside:"bold",insert:"\\mathbf{"+m+"}"}),wi[m].unshift({latex:"\\mathsf{"+m+"}",aside:"sans",insert:"\\mathsf{"+m+"}"}),wi[m].unshift({latex:"\\mathtt{"+m+"}",aside:"monospace",insert:"\\mathtt{"+m+"}"}),wi[m].unshift({latex:"\\mathcal{"+m+"}",aside:"script",insert:"\\mathcal{"+m+"}"}),wi[m].unshift({latex:"\\mathfrak{"+m+"}",aside:"fraktur",insert:"\\mathfrak{"+m+"}"}),wi[m].unshift({latex:"\\mathbb{"+u[p]+"}",aside:"blackboard",insert:"\\mathbb{"+u[p]+"}"}),wi[m].unshift({latex:"\\mathbf{"+u[p]+"}",aside:"bold",insert:"\\mathbf{"+u[p]+"}"}),wi[m].unshift({latex:"\\mathsf{"+u[p]+"}",aside:"sans",insert:"\\mathsf{"+u[p]+"}"}),wi[m].unshift({latex:"\\mathcal{"+u[p]+"}",aside:"script",insert:"\\mathcal{"+u[p]+"}"}),wi[m].unshift({latex:"\\mathfrak{"+u[p]+"}",aside:"fraktur",insert:"\\mathfrak{"+u[p]+"}"})}for(var f=0;f<=26;f++){var y=u[f];wi[y]||(wi[y]=[]),wi[y].unshift({latex:"\\mathsf{"+y+"}",aside:"sans",insert:"\\mathbb{"+y+"}"}),wi[y].unshift({latex:"\\mathbf{"+y+"}",aside:"bold",insert:"\\mathbf{"+y+"}"}),wi[y].unshift({latex:"\\mathtt{"+y+"}",aside:"monospace",insert:"\\mathtt{"+y+"}"}),wi[y].unshift({latex:"\\mathfrak{"+y+"}",aside:"fraktur",insert:"\\mathfrak{"+y+"}"})}for(var g=0;g<10;g++){var b="0123456789"[g];wi[b]||(wi[b]=[]),wi[b].unshift({latex:"\\mathbf{"+b+"}",aside:"bold",insert:"\\mathbf{"+b+"}"}),wi[b].unshift({latex:"\\mathsf{"+b+"}",aside:"sans",insert:"\\mathsf{"+b+"}"}),wi[b].unshift({latex:"\\mathtt{"+b+"}",aside:"monospace",insert:"\\mathtt{"+b+"}"}),wi[b].unshift({latex:"\\mathcal{"+b+"}",aside:"script",insert:"\\mathcal{"+b+"}"}),wi[b].unshift({latex:"\\mathfrak{"+b+"}",aside:"fraktur",insert:"\\mathfrak{"+b+"}"})}var v=t.config.virtualKeyboards;v||(v="all"),v=v.replace(/\ball\b/i,"numeric roman greek functions command");var x,k=Object.assign({},Si,t.config.customVirtualKeyboardLayers||{}),w=Object.assign({},vi,t.config.customVirtualKeyboards||{}),S=v.replace(/\s+/g," ").split(" "),A=c(S);try{for(A.s();!(x=A.n()).done;){var M=x.value;if(!w[M])break;var C=w[M].layers||[];w[M].layer&&C.push(w[M].layer),C=Array.from(new Set(C));var _,T=c(C);try{for(T.s();!(_=T.n()).done;){var L=_.value;if(!k[L])break;if("object"==h(k[L])){var F="";if(k[L].styles&&(F+="<style>".concat(k[L].styles,"</style>")),k[L].backdrop&&(F+="<div class='".concat(k[L].backdrop,"'>")),k[L].container&&(F+="<div class='".concat(k[L].container,"'>")),k[L].rows){F+="<div class='rows'>";var D,z=c(k[L].rows);try{for(z.s();!(D=z.n()).done;){var E=D.value;F+="<ul>";var q,I=c(E);try{for(I.s();!(q=I.n()).done;){var P=q.value;F+="<li",P.class&&(F+=' class="'.concat(P.class,'"')),P.key&&(F+=' data-key="'.concat(P.key,'"')),P.command&&("string"==typeof P.command?F+=" data-command='\"".concat(P.command,"\"'"):(F+=" data-command='",F+=JSON.stringify(P.command),F+="'")),P.insert&&(F+=' data-insert="'.concat(P.insert,'"')),P.latex&&(F+=' data-latex="'.concat(P.latex,'"')),P.aside&&(F+=' data-aside="'.concat(P.aside,'"')),P.altKeys&&(F+=' data-alt-keys="'.concat(P.altKeys,'"')),P.shifted&&(F+=' data-shifted="'.concat(P.shifted,'"')),P.shiftedCommand&&(F+=' data-shifted-command="'.concat(P.shiftedCommand,'"')),F+=">".concat(P.label?P.label:"","</li>")}}catch(t){I.e(t)}finally{I.f()}F+="</ul>"}}catch(t){z.e(t)}finally{z.f()}F+="</div>",k[L].container&&(F+="</div'>"),k[L].backdrop&&(F+="</div'>")}k[L]=F}i+="<div tabindex=\"-1\" class='keyboard-layer' data-layer='"+L+"'>",i+=Mi(t,v,M);var B="function"==typeof k[L]?k[L]():k[L];i+=_i(t,B),i+="</div>"}}catch(t){T.e(t)}finally{T.f()}}}catch(t){A.e(t)}finally{A.f()}var O=document.createElement("div");O.className="ML__keyboard",e?O.classList.add(e):t.config.virtualKeyboardTheme?O.classList.add(t.config.virtualKeyboardTheme):/android|cros/i.test(navigator.userAgent)&&O.classList.add("material"),O.innerHTML=i,Ci(t,O.querySelectorAll(".keycap, .action, .fnbutton, .bigfnbutton"));for(var R=O.getElementsByClassName("layer-switch"),K=0;K<R.length;++K)R[K].classList.contains("shift")?t._attachButtonHandlers(R[K],{pressed:["shiftKeyboardLayer","shift"],default:["switchKeyboardLayer",R[K].getAttribute("data-layer")],pressAndHoldEnd:"unshiftKeyboardLayer"}):t._attachButtonHandlers(R[K],{default:["switchKeyboardLayer",R[K].getAttribute("data-layer")]});var N=O.getElementsByClassName("keyboard-layer");return Array.from(N).forEach(function(t){t.addEventListener("mousedown",function(t){t.preventDefault(),t.stopPropagation()}),t.addEventListener("touchstart",function(t){t.preventDefault(),t.stopPropagation()})}),N[0].classList.add("is-visible"),window.addEventListener("mouseup",function(){t.hideAlternateKeys_(),t.unshiftKeyboardLayer_()}),window.addEventListener("blur",function(){t.hideAlternateKeys_(),t.unshiftKeyboardLayer_()}),window.addEventListener("touchend",function(){t.hideAlternateKeys_(),t.unshiftKeyboardLayer_()}),window.addEventListener("touchcancel",function(){t.hideAlternateKeys_(),t.unshiftKeyboardLayer_()}),O},makeKeycap:Ci},Li={"":"-","-":"-","\\alpha":"alpha","\\beta":"beta","\\gamma":"gamma","\\delta":"delta","\\epsilon":"epsilon","\\varepsilon":"varepsilon","\\zeta":"zeta","\\eta":"eta","\\theta":"theta","\\vartheta":"vartheta","\\iota":"iota","\\kappa":"kappa","\\lambda":"lambda","\\mu":"mu","\\nu":"nu","\\xi":"xi","\\pi":"pi","\\rho":"rho","\\sigma":"sigma","\\tau":"tau","\\upsilon":"upsilon","\\phi":"phi","\\varphi":"varphi","\\chi":"chi","\\psi":"psi","\\omega":"omega","\\Gamma":"Gamma","\\Delta":"Delta","\\Theta":"Theta","\\Lambda":"Lambda","\\Xi":"Xi","\\Pi":"Pi","\\Sigma":"Sigma","\\Phi":"Phi","\\Psi":"Psi","\\Omega":"Omega"},Fi={"\\pm":"+-","\\times":"xx","\\colon":":","\\vert":"|","\\Vert":"||","\\mid":"|","\\lbrace":"{","\\rbrace":"}","\\langle":"(:","\\rangle":":)"},Di={"\\pm":"&PlusMinus;","\\times":"&times;","\\colon":":","\\vert":"|","\\Vert":"","\\mid":"","\\lbrace":"{","\\rbrace":"}","\\langle":"","\\rangle":"","\\lfloor":"","\\rfloor":"","\\lceil":"","\\rceil":"","\\vec":"&#x20d7;","\\acute":"&#x00b4;","\\grave":"&#x0060;","\\dot":"&#x02d9;","\\ddot":"&#x00a8;","\\tilde":"&#x007e;","\\bar":"&#x00af;","\\breve":"&#x02d8;","\\check":"&#x02c7;","\\hat":"&#x005e;"};function zi(t){return t.replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ei(t,e){return t&&e.generateID?' extid="'+t+'"':""}function qi(t,e,i){var a=!1;e=e||t.atoms.length;var s="",r="",n=-1,o=-1,l=t.atoms[t.index];if(t.index<e&&("mord"===l.type||"textord"===l.type)&&"0123456789,.".indexOf(l.body)<0&&(r=l.toMathML(i),l.superscript&&(n=t.index),l.subscript&&(o=t.index),t.index+=1),r.length>0){if(a=!0,Ii(t)&&(n=t.index,t.index+=1),Pi(t)&&(o=t.index,t.index+=1),n>=0&&o>=0)s="<msubsup>"+r,s+=Wi(t.atoms[o].subscript,0,0,i).mathML,s+=Wi(t.atoms[n].superscript,0,0,i).mathML,s+="</msubsup>";else if(n>=0){if(s="<msup>"+r,Ii(t)){var h=Wi(t.atoms[n].superscript,0,0,i).mathML,c=Wi(t.atoms[n+1].superscript,0,0,i).mathML;s+="<mi></mi>"!==h&&"<mi>&#x2032;</mi>"!==h||"<mi></mi>"!==c&&"<mi>&#x2032;</mi>"!==c?"<mi></mi>"===h||"<mi>&#x2032;</mi>"===h?"<mi>&#x2032;</mi>":h:"<mi>&#x2033;</mi>"}else s+=Wi(t.atoms[n].superscript,0,0,i).mathML;s+="</msup>"}else o>=0?(s="<msub>"+r,s+=Wi(t.atoms[o].subscript,0,0,i).mathML,s+="</msub>"):s=r;"mi"!==t.lastType&&"mn"!==t.lastType&&"mtext"!==t.lastType&&"fence"!==t.lastType||/^<mo>(.*)<\/mo>$/.test(s)||(s="<mo>&InvisibleTimes;</mo>"+s),r.endsWith(">f</mi>")||r.endsWith(">g</mi>")?(s+="<mo> &ApplyFunction; </mo>",t.lastType="applyfunction"):t.lastType=/^<mo>(.*)<\/mo>$/.test(s)?"mo":"mi",t.mathML+=s}return a}function Ii(t){return t.index<t.atoms.length&&t.atoms[t.index].superscript&&"msubsup"===t.atoms[t.index].type}function Pi(t){return t.index<t.atoms.length&&t.atoms[t.index].subscript&&"msubsup"===t.atoms[t.index].type}function Bi(t,e,i){var a=!1,s="",r=e.atoms[e.index-1];return!!r&&(r.superscript||r.subscript||(Ii(e)||Pi(e))&&(r=e.atoms[e.index],e.index+=1),!!r&&(r.superscript&&r.subscript?(s="<msubsup>"+t,s+=Wi(r.subscript,0,0,i).mathML,s+=Wi(r.superscript,0,0,i).mathML,s+="</msubsup>"):r.superscript?(s="<msup>"+t,s+=Wi(r.superscript,0,0,i).mathML,s+="</msup>"):r.subscript&&(s="<msub>"+t,s+=Wi(r.subscript,0,0,i).mathML,s+="</msub>"),s.length>0&&(a=!0,e.mathML+=s,e.lastType=""),a))}function Oi(t,e,i){var a=!1;e=e||t.atoms.length;for(var s=t.index,r="";t.index<e&&"text"===t.atoms[t.index].mode;)r+=t.atoms[t.index].body?t.atoms[t.index].body:" ",t.index+=1;return r.length>0&&(a=!0,r="<mtext"+Ei(t.atoms[s].id,i)+">"+r+"</mtext>",t.mathML+=r,t.lastType="mtext"),a}function Ri(t,e,i){var a=!1;e=e||t.atoms.length;var s=t.index,r="",n=function(t){for(var e=-1,i=t.index,a=!1,s=!1;i<t.atoms.length&&!a&&!s;)a="mord"!==t.atoms[i].type||"0123456789,.".indexOf(t.atoms[i].body)<0,s=!a&&t.atoms[i].superscript,i++;return s&&(e=i-1),e}(t);for(n>=0&&n<e&&(e=n);t.index<e&&"mord"===t.atoms[t.index].type&&"0123456789,.".indexOf(t.atoms[t.index].body)>=0;)r+=t.atoms[t.index].body,t.index+=1;return r.length>0&&(a=!0,r="<mn"+Ei(t.atoms[s].id,i)+">"+r+"</mn>",n<0&&Ii(t)&&(n=t.index,t.index+=1),n>=0&&(r="<msup>"+r,r+=Wi(t.atoms[n].superscript,0,0,i).mathML,r+="</msup>"),t.mathML+=r,t.lastType="mn"),a}function Ki(t,e,i){var a=!1;e=e||t.atoms.length;var s="",r="";if(t.index<e&&"mopen"===t.atoms[t.index].type){for(var n=!1,o=0,l=t.index,h=-1,c=l+1;c<e&&!n;)"mopen"===t.atoms[c].type?o+=1:"mclose"===t.atoms[c].type&&(o-=1),-1===o&&(n=!0,h=c),c+=1;n&&(s="<mrow>",s+=$i(t.atoms[l],i),s+=Wi(t.atoms,l+1,h,i).mathML,s+=$i(t.atoms[h],i),s+="</mrow>","mi"!==t.lastType&&"mn"!==t.lastType&&"mfrac"!==t.lastType&&"fence"!==t.lastType||(s="<mo>&InvisibleTimes;</mo>"+s),t.index=h+1,Bi(s,t,i)&&(a=!0,t.lastType="",s=""),r="fence")}return s.length>0&&(a=!0,t.mathML+=s,t.lastType=r),a}function Ni(t,e,i){var a=!1;e=e||t.atoms.length;var s="",r="",n=t.atoms[t.index];if(t.index<e&&("mbin"===n.type||"mrel"===n.type))s+=t.atoms[t.index].toMathML(i),t.index+=1,r="mo";else if(t.index<e&&"mop"===n.type){if("limits"===n.limits&&(n.superscript||n.subscript)){var o=$i(n,i);n.superscript&&n.subscript?(s+=("nolimits"!==n.limits?"<munderover>":"<msubsup>")+o,s+=Wi(n.subscript,0,0,i).mathML,s+=Wi(n.superscript,0,0,i).mathML,s+="nolimits"!==n.limits?"</munderover>":"</msubsup>"):n.superscript?(s+=("nolimits"!==n.limits?"<mover>":"<msup>")+o,s+=Wi(n.superscript,0,0,i).mathML,s+="nolimits"!==n.limits?"</mover>":"</msup>"):(s+=("nolimits"!==n.limits?"<munder>":"<msub>")+o,s+=Wi(n.subscript,0,0,i).mathML,s+="nolimits"!==n.limits?"</munder>":"</msub>"),r="mo"}else{var l=t.atoms[t.index],h=0===l.latex.indexOf("\\operatorname"),c=h?'<mi class="MathML-Unit"'+Ei(l.id,i)+">"+Hi(l.body)+"</mi>":$i(l,i);s+=c,t.index+=1,Bi(s,t,i)&&(a=!0,t.lastType="",s=""),t.index-=1,h||/^<mo>(.*)<\/mo>$/.test(c)?r=h?"mi":"mo":(s+="<mo>&#x2061;</mo>",r="applyfunction")}"mi"!==t.lastType&&"mn"!==t.lastType||/^<mo>(.*)<\/mo>$/.test(s)||(s="<mo>&InvisibleTimes;</mo>"+s),t.index+=1}return s.length>0&&(a=!0,t.mathML+=s,t.lastType=r),a}function Wi(t,e,i,a){var s={atoms:t,index:e||0,mathML:"",lastType:""};if(i=i||(t?t.length:0),"number"==typeof t||"boolean"==typeof t)s.mathML=t.toString();else if("string"==typeof t)s.mathML=t;else if(t&&"function"==typeof t.toMathML)s.mathML=t.toMathML(a);else if(Array.isArray(t)){for(var r=0;s.index<i;)if(Oi(s,i,a)||Ri(s,i,a)||qi(s,i,a)||Ni(s,i,a)||Ki(s,i,a))r+=1;else if(s.index<i){var n=s.atoms[s.index].toMathML(a);"mn"===s.lastType&&n.length>0&&"genfrac"===s.atoms[s.index].type&&(n="<mo>&#x2064;</mo>"+n),"genfrac"===s.atoms[s.index].type?s.lastType="mfrac":s.lastType="",n.length>0&&(s.mathML+=n,r+=1),s.index+=1}r>1&&(s.mathML="<mrow>"+s.mathML+"</mrow>")}return s}function $i(t,e){var i="",a=Hi(t.body);return a&&(i="<mo"+Ei(t.id,e)+">"+a+"</mo>"),i}function Hi(t){if(!t)return"";if("string"==typeof t)return zi(t);if(!Array.isArray(t)&&"string"==typeof t.body)return zi(t.body);var e,i="",a=c(t);try{for(a.s();!(e=a.n()).done;){var s=e.value;"string"==typeof s.body&&(i+=s.body)}}catch(t){a.e(t)}finally{a.f()}return zi(i)}ke.MathAtom.prototype.toMathML=function(t){var e,i,a,s,r,n,o={"\\exponentialE":"&#x02147;","\\imaginaryI":"&#x2148;","\\differentialD":"&#x2146;","\\capitalDifferentialD":"&#x2145;","\\alpha":"&#x03b1;","\\pi":"&#x03c0;","\\infty":"&#x221e;","\\forall":"&#x2200;","\\nexists":"&#x2204;","\\exists":"&#x2203;","\\hbar":"","\\cdotp":"","\\ldots":"","\\cdots":"","\\ddots":"","\\vdots":"","\\ldotp":"."},l={"\\!":-3/18,"\\ ":6/18,"\\,":3/18,"\\:":4/18,"\\;":5/18,"\\enspace":.5,"\\quad":1,"\\qquad":2,"\\enskip":.5},h="",c="",d={cal:"script",frak:"fraktur",bb:"double-struck",scr:"script",cmtt:"monospace",cmss:"sans-serif"}[this.fontFamily||this.font]||"";d&&(d=' mathvariant="'+d+'"');var u=this.latex?this.latex.trim():null;if("text"===this.mode)h="<mi"+Ei(this.id,t)+">"+this.body+"</mi>";else switch(this.type){case"first":break;case"group":case"root":h=Wi(this.body,0,0,t).mathML;break;case"array":if((this.lFence&&"."!==this.lFence||this.rFence&&"."!==this.rFence)&&(h+="<mrow>",this.lFence&&"."!==this.lFence&&(h+="<mo>"+(Di[this.lFence]||this.lFence)+"</mo>")),h+="<mtable",this.colFormat){for(h+=' columnalign="',a=0;a<this.colFormat.length;a++)this.colFormat[a].align&&(h+={l:"left",c:"center",r:"right"}[this.colFormat[a].align]+" ");h+='"'}for(h+=">",i=0;i<this.array.length;i++){for(h+="<mtr>",e=0;e<this.array[i].length;e++)h+="<mtd>"+Wi(this.array[i][e],0,0,t).mathML+"</mtd>";h+="</mtr>"}h+="</mtable>",(this.lFence&&"."!==this.lFence||this.rFence&&"."!==this.rFence)&&(this.rFence&&"."!==this.rFence&&(h+="<mo>"+(Di[this.lFence]||this.rFence)+"</mo>"),h+="</mrow>");break;case"genfrac":(this.leftDelim||this.rightDelim)&&(h+="<mrow>"),this.leftDelim&&"."!==this.leftDelim&&(h+="<mo"+Ei(this.id,t)+">"+(Di[this.leftDelim]||this.leftDelim)+"</mo>"),this.hasBarLine?(h+="<mfrac>",h+=Wi(this.numer,0,0,t).mathML||"<mi>&nbsp;</mi>",h+=Wi(this.denom,0,0,t).mathML||"<mi>&nbsp;</mi>",h+="</mfrac>"):(h+="<mtable"+Ei(this.id,t)+">",h+="<mtr>"+Wi(this.numer,0,0,t).mathML+"</mtr>",h+="<mtr>"+Wi(this.denom,0,0,t).mathML+"</mtr>",h+="</mtable>"),this.rightDelim&&"."!==this.rightDelim&&(h+="<mo"+Ei(this.id,t)+">"+(Di[this.rightDelim]||this.rightDelim)+"</mo>"),(this.leftDelim||this.rightDelim)&&(h+="</mrow>");break;case"surd":this.index?(h+="<mroot"+Ei(this.id,t)+">",h+=Wi(this.body,0,0,t).mathML,h+=Wi(this.index,0,0,t).mathML,h+="</mroot>"):(h+="<msqrt"+Ei(this.id,t)+">",h+=Wi(this.body,0,0,t).mathML,h+="</msqrt>");break;case"leftright":h="<mrow>",this.leftDelim&&"."!==this.leftDelim&&(h+="<mo"+Ei(this.id,t)+">"+(Di[this.leftDelim]||this.leftDelim)+"</mo>"),this.body&&(h+=Wi(this.body,0,0,t).mathML),this.rightDelim&&"."!==this.rightDelim&&(h+="<mo"+Ei(this.id,t)+">"+(Di[this.rightDelim]||this.rightDelim)+"</mo>"),h+="</mrow>";break;case"sizeddelim":case"delim":h+='<mo separator="true"'+Ei(this.id,t)+">"+(Di[this.delim]||this.delim)+"</mo>";break;case"accent":h+='<mover accent="true"'+Ei(this.id,t)+">",h+=Wi(this.body,0,0,t).mathML,h+="<mo>"+(Di[u]||this.accent)+"</mo>",h+="</mover>";break;case"line":case"overlap":break;case"overunder":r=this.overscript,s=this.underscript,r&&s?n=this.body:r?(n=this.body,this.body[0]&&this.body[0].underscript?(s=this.body[0].underscript,n=this.body[0].body):this.body[0]&&"first"===this.body[0].type&&this.body[1]&&this.body[1].underscript&&(s=this.body[1].underscript,n=this.body[1].body)):s&&(n=this.body,this.body[0]&&this.body[0].overscript?(r=this.body[0].overscript,n=this.body[0].body):this.body[0]&&"first"===this.body[0].type&&this.body[1]&&this.body[1].overscript&&(r=this.body[1].overscript,n=this.body[1].body)),r&&s?(h+="<munderover"+d+Ei(this.id,t)+">"+Wi(n,0,0,t).mathML,h+=Wi(s,0,0,t).mathML,h+=Wi(r,0,0,t).mathML,h+="</munderover>"):r?(h+="<mover"+d+Ei(this.id,t)+">"+Wi(n,0,0,t).mathML,h+=Wi(r,0,0,t).mathML,h+="</mover>"):s&&(h+="<munder"+d+Ei(this.id,t)+">"+Wi(n,0,0,t).mathML,h+=Wi(s,0,0,t).mathML,h+="</munder>");break;case"placeholder":case"mord":h=o[u]||u||("string"==typeof this.body?this.body:"");var p=u?u.match(/[{]?\\char"([0-9abcdefABCDEF]*)[}]?/):null;p?h="&#x"+p[1]+";":h.length>0&&"\\"===h.charAt(0)&&(h="string"==typeof this.body&&this.body.charCodeAt(0)>255?"&#x"+("000000"+this.body.charCodeAt(0).toString(16)).substr(-4)+";":"string"==typeof this.body?this.body.charAt(0):this.body);var m=/\d/.test(h)?"mn":"mi";h="<"+m+d+Ei(this.id,t)+">"+zi(h)+"</"+m+">";break;case"mbin":case"mrel":case"textord":case"minner":h=u&&o[u]?"<mi"+Ei(this.id,t)+">"+o[u]+"</mi>":u&&Di[u]?"<mo"+Ei(this.id,t)+">"+Di[u]+"</mo>":$i(this,t);break;case"mpunct":h='<mo separator="true"'+Ei(this.id,t)+">"+(Di[u]||u)+"</mo>";break;case"mop":""!==this.body&&(h="<mo"+Ei(this.id,t)+">",h+="\\operatorname"===u?this.body:u||this.body,h+="</mo>");break;case"mathstyle":break;case"box":h='<menclose notation="box"',this.backgroundcolor&&(h+=' mathbackground="'+Ae.stringToColor(this.backgroundcolor)+'"'),h+=Ei(this.id,t)+">"+Wi(this.body,0,0,t).mathML+"</menclose>";break;case"spacing":h+='<mspace width="'+(l[u]||0)+'em"/>';break;case"enclose":for(var f in h='<menclose notation="',this.notation)Object.prototype.hasOwnProperty.call(this.notation,f)&&this.notation[f]&&(h+=c+f,c=" ");h+=Ei(this.id,t)+'">'+Wi(this.body,0,0,t).mathML+"</menclose>";break;case"space":h+="&nbsp;"}return h},ke.toMathML=function(t,e){return Wi(t,0,0,e).mathML};var Vi={"\\imaginaryI":"","\\imaginaryJ":"","\\pi":"","\\exponentialE":"","":"+","":"+","":"-","-":"-","":"-","":"-","\\times":"*","\\cdot":"*","":"*","":"*","":"*",".":"*","":"/","":"/","":"/","!":"factorial","\\mp":"minusplus","\\ne":"!=","\\coloneq":":=","\\questeq":"?=","\\approx":"approx","\\cong":"congruent","\\sim":"similar","\\equiv":"equiv","\\pm":"plusminus","\\land":"and","\\wedge":"and","\\lor":"or","\\vee":"or","\\oplus":"xor","\\veebar":"xor","\\lnot":"not","\\neg":"not","\\exists":"exists","\\nexists":"!exists","\\forall":"forAll","\\backepsilon":"suchThat","\\therefore":"therefore","\\because":"because","\\nabla":"nabla","\\circ":"circle","\\ominus":"ominus","\\odot":"odot","\\otimes":"otimes","\\zeta":"Zeta","\\Gamma":"Gamma","\\min":"min","\\max":"max","\\mod":"mod","\\lim":"lim","\\sum":"sum","\\prod":"prod","\\int":"integral","\\iint":"integral2","\\iiint":"integral3","\\Re":"Re","\\gothicCapitalR":"Re","\\Im":"Im","\\gothicCapitalI":"Im","\\binom":"nCr","\\partial":"partial","\\differentialD":"differentialD","\\capitalDifferentialD":"capitalDifferentialD","\\Finv":"Finv","\\Game":"Game","\\wp":"wp","\\ast":"ast","\\star":"star","\\asymp":"asymp","\\to":"to","\\gets":"gets","\\in":"elementof","\\notin":"!elementof","\\ni":"ownedby","\\owns":"ownedby","\\subset":"subset","\\supset":"superset","\\complement":"complement","\\rightarrow":"shortLogicalImplies","\\leftarrow":"shortLogicalImpliedBy","\\leftrightarrow":"shortLogicalEquivalent","\\longrightarrow":"logicalImplies","\\longleftarrow":"logicalImpliedBy","\\longleftrightarrow":"logicalEquivalent","\\Rightarrow":"shortImplies","\\Leftarrow":"shortImpliedBy","\\Leftrightarrow":"shortEquivalent","\\implies":"implies","\\Longrightarrow":"implies","\\impliedby":"impliedBy","\\Longleftarrow":"impliedBy","\\iff":"equivalent","\\Longleftrightarrow":"equivalent"},Ui={"+":"add","*":"multiply","-":"subtract","/":"divide","=":"equal",":=":"assign","!=":"ne","?=":"questeq",approx:"approx",congruent:"congruent",similar:"similar",equiv:"equiv","<":"lt",">":"gt","<=":"le",">=":"ge","":"le","":"ge",">>":"gg","<<":"ll","**":"pow","++":"increment","--":"decrement"},ji={equal:"%0 = %1",ne:"%0 \\ne %1",questeq:"%0 \\questeq %1",approx:"%0 \\approx %1",congruent:"%0 \\cong %1",similar:"%0 \\sim %1",equiv:"%0 \\equiv %1",assign:"%0 := %1",lt:"%0 < %1",gt:"%0 > %1",le:"%0 \\le %1",ge:"%0 \\ge %1",sin:"\\sin%_%^ %0",cos:"\\cos%_%^ %0",tan:"\\tan%_%^ %0",cot:"\\cot%_%^ %0",sec:"\\sec%_%^ %0",csc:"\\csc%_%^ %0",sinh:"\\sinh %0",cosh:"\\cosh %0",tanh:"\\tanh %0",csch:"\\csch %0",sech:"\\sech %0",coth:"\\coth %0",arcsin:"\\arcsin %0",arccos:"\\arccos %0",arctan:"\\arctan %0",arccot:"\\arcctg %0",arcsec:"\\arcsec %0",arccsc:"\\arccsc %0",arsinh:"\\arsinh %0",arcosh:"\\arcosh %0",artanh:"\\artanh %0",arcsch:"\\arcsch %0",arsech:"\\arsech %0",arcoth:"\\arcoth %0",ln:"\\ln%_%^ %",log:"\\log%_%^ %",lg:"\\lg %",lb:"\\lb %",sum:"\\sum%_%^ %0",prod:"\\prod%_%^ %0",Zeta:"\\zeta%_%^ %",Gamma:"\\Gamma %",min:"\\min%_%^ %",max:"\\max%_%^ %",mod:"\\mod%_%^ %",lim:"\\lim%_%^ %",binom:"\\binom %",nabla:"\\nabla %",curl:"\\nabla\\times %0",div:"\\nabla\\cdot %0",floor:"\\lfloor %0 \\rfloor%_%^",ceil:"\\lceil %0 \\rceil%_%^",abs:"\\left| %0 \\right|%_%^",norm:"\\lVert %0 \\rVert%_%^",ucorner:"\\ulcorner %0 \\urcorner%_%^",lcorner:"\\llcorner %0 \\lrcorner%_%^",angle:"\\langle %0 \\rangle%_%^",group:"\\lgroup %0 \\rgroup%_%^",moustache:"\\lmoustache %0 \\rmoustache%_%^",brace:"\\lbrace %0 \\rbrace%_%^","sqrt[]":"\\sqrt[%^]{%0}",sqrt:"\\sqrt{%0}",lcm:"\\operatorname{lcm}%",gcd:"\\operatorname{gcd}%",erf:"\\operatorname{erf}%",erfc:"\\operatorname{erfc}%",randomReal:"\\operatorname{randomReal}%",randomInteger:"\\operatorname{randomInteger}%",and:"%0 \\land %1",or:"%0 \\lor %1",xor:"%0 \\oplus %1",not:"%0 \\lnot %1",circle:"%0 \\circ %1",ast:"%0 \\ast %1",star:"%0 \\star %1",asymp:"%0 \\asymp %1","/":"\\frac{%0}{%1}",Re:"\\Re{%0}",Im:"\\Im{%0}",factorial:"%0!",factorial2:"%0!!"},Gi={degree:880,nabla:740,curl:740,partial:740,differentialD:740,capitalDifferentialD:740,"**":720,odot:710,not:680,div:660,solidus:660,"/":660,setminus:650,"%":640,otimes:410,union:350,intersection:350,"*":390,ast:390,".":390,oplus:300,ominus:300,"+":275,"-":275,"+-":275,"-+":275,circle:265,circledast:265,circledcirc:265,star:265,"..":263,to:262,in:262,"|":261,congruent:265,equiv:260,"=":260,"!=":255,"?=":255,similar:250,approx:247,"<":245,">":243,">=":242,"":242,"<=":241,complement:240,subset:240,superset:240,elementof:240,"!elementof":240,exists:230,"!exists":230,forall:230,and:200,xor:195,or:190,suchThat:110,":":100,assign:80,":=":80,therefore:70,because:70,shortLogicalImplies:52,shortImplies:51,logicalImplies:50,implies:49,shortLogicalImpliedBy:48,shortImpliedBy:47,logicalImpliedBy:46,impliedBy:45,shortLogicalEquivalent:44,shortEquivalent:43,logicalEquivalent:42,equivalent:41,",":40,";":30};function Zi(t,e){return Array.isArray(t.arg)?t.arg[e]:void 0}function Xi(t){return t&&Gi[t]||-1}function Ji(t){return/=|=>/.test(t)?"right":"left"}function Yi(t){if("f"===t||"g"===t)return!0;var e=ji[t];return!!e&&!!/%[^01_^]?/.test(e)}function Qi(t){t=(t||"").trim();var e=Vi[t];if(!e)if(/^\\[^{}]+$/.test(t)){var i=Vt.getInfo(t,"math",{});e=i&&i.value||t.slice(1)}else e=t;return e}function ta(t){if(!t)return null;var e=Qi(na(t)),i=[Xi(e),Ji(e)];return i[0]<=0?null:i}function ea(t){return null!==ta(t)}var ia={"\\lfloor\\rfloor":"floor","\\lceil\\rceil":"ceil","\\vert\\vert":"abs","\\lvert\\rvert":"abs","||":"abs","\\Vert\\Vert":"norm","\\lVert\\rVert":"norm","\\ulcorner\\urcorner":"ucorner","\\llcorner\\lrcorner":"lcorner","\\langle\\rangle":"angle","\\lgroup\\rgroup":"group","\\lmoustache\\rmoustache":"moustache","\\lbrace\\rbrace":"brace"},aa={"!":"factorial","\\dag":"dagger","\\dagger":"dagger","\\ddagger":"dagger2","\\maltese":"maltese","\\backprime":"backprime","\\backdoubleprime":"backprime2","\\prime":"prime","\\doubleprime":"prime2","\\$":"$","\\%":"%","\\_":"_","\\degree":"degree"},sa={"+":"add","-":"add","*":"multiply","=":"equal",",":"list",";":"list2",and:"and",or:"or",xor:"xor",union:"union",shortLogicalEquivalent:"logicalEquivalent",logicalEquivalent:"logicalEquivalent",shortEquivalent:"equivalent",equivalent:"equivalent"},ra={",":"list",";":"list2"};function na(t){if(Array.isArray(t)){var e,i="",a=c(t);try{for(a.s();!(e=a.n()).done;){var s=e.value;i+=na(s)}}catch(t){a.e(t)}finally{a.f()}return i}if(t.latex&&!/^\\math(op|bin|rel|open|punct|ord|inner)/.test(t.latex))return t.latex.trim();if("leftright"===t.type)return"";if("string"==typeof t.body)return t.body;if(Array.isArray(t.body)){var r,n="",o=c(t.body);try{for(o.s();!(r=o.n()).done;){var l=r.value;n+=na(l)}}catch(t){o.e(t)}finally{o.f()}return n}return""}function oa(t){return"string"==typeof t.sym?function(t){var e=ji[t];if(e)return e.replace("%1","").replace("%0","").replace("%","");if(t.length>1){var i=Vt.getInfo("\\"+t,"math");!i||i.fontFamily&&"cmr"!==i.fontFamily&&"ams"!==i.fontFamily||(e="\\"+t)}return e||(e=Vt.unicodeStringToLatex("math",t)),e}(t.sym)||t.sym:""}function la(t){return parseFloat(t.num)}function ha(t){return"object"==h(t)&&void 0!==t.num}function ca(t){var e=0;return ha(t)&&(e="object"==h(t.num)?void 0!==t.num.re?La(t.num.re):0:parseFloat(t.num)),e}function da(t){var e=0;return ha(t)&&"object"==h(t.num)&&(e=void 0!==t.num.im?La(t.num.im):0),e}function ua(t){return t&&void 0!==t.sup}function pa(t){return t&&void 0!==t.sub}function ma(t,e,i){var a=!1,s=t.atoms[t.index];return s&&s.type===e&&(a=void 0===i||na(s)===i),a}function fa(t){for(var e={fn:t},i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];if(a){var r,n=[],o=c(a);try{for(o.s();!(r=o.n()).done;){var l=r.value;l&&n.push(l)}}catch(t){o.e(t)}finally{o.f()}n.length>0&&(e.arg=n)}return e}function ya(t){return"number"==typeof t?{num:t.toString()}:"string"==typeof t||"object"==h(t)?{num:t}:void 0}function ga(t){if(ha(t)){var e=ca(t),i=da(t);return 0!==i?(0!==e&&(t.num.re=(-e).toString()),t.num.im=(-i).toString()):t.num=(-e).toString(),t}return fa("negate",t)}function ba(t){var e=t.atoms[t.index+1];return e&&"msubsup"===e.type}function va(t,e){var i=t.atoms[t.index];return!i||void 0===i.superscript&&void 0===i.subscript?i=null:t.index+=1,i||(i=t.atoms[t.index+1],i&&"msubsup"===i.type&&(i.superscript||i.subscript)?t.index+=2:i=null),i?(void 0!==i.subscript&&(t.ast.sub=Ca(i.subscript,e)),void 0!==i.superscript&&("msubsup"===i.type?/['\u2032]|\\prime/.test(na(i.superscript))?(t.index+=1,i=t.atoms[t.index+1],i&&"msubsup"===i.type&&/['\u2032]|\\prime/.test(na(i.superscript))?t.ast.sup={sym:""}:(t.ast.sup={sym:""},t.index-=1)):/['\u2033]|\\doubleprime/.test(na(i.superscript))?t.ast.sup={sym:""}:t.ast&&(t.ast.sup=Ca(i.superscript,e)):t.ast.sup=Ca(i.superscript,e))):t.index+=1,t}function xa(t,e){var i=t.ast;if(wa(t,"!!"))return t.index+=1,t.ast=fa("factorial2",i),xa(t=va(t,e),e);if(wa(t,"++"))return t.index+=1,t.ast=fa("increment",i),xa(t=va(t,e),e);if(wa(t,"--"))return t.index+=1,t.ast=fa("decrement",i),xa(t=va(t,e),e);var a=t.atoms[t.index];return a&&a.latex&&aa[a.latex.trim()]&&(t.ast=fa(aa[a.latex.trim()],i),t=xa(t=va(t,e),e)),t}function ka(t,e,i,a){if(t.index=t.index||0,0===t.atoms.length||t.index>=t.atoms.length)return t.ast=void 0,t;var s=t.minPrec;t.minPrec=0;var r=t.atoms[t.index];if(e){if("mopen"===r.type&&na(r)===e)t.index+=1,r=(t=Aa(t,a)).atoms[t.index],r&&"mclose"===r.type&&na(r)===i&&(ba(t)&&(t.ast={group:t.ast}),t=xa(t=va(t,a),a));else if("textord"===r.type&&na(r)===e)t.index+=1,r=(t=Aa(t,a)).atoms[t.index],r&&"textord"===r.type&&na(r)===i&&(t.index+=1,t=xa(t=va(t,a),a));else if("\\lVert"===e&&"textord"===r.type&&"|"===r.latex){if(r=t.atoms[t.index+1],r&&"textord"===r.type&&"|"===r.latex){t.index+=2,r=(t=Aa(t,a)).atoms[t.index];var n=t.atoms[t.index+1];r&&"textord"===r.type&&"|"===r.latex&&n&&"textord"===n.type&&"|"===n.latex&&(t.index+=2,t=xa(t=va(t,a),a))}}else if("sizeddelim"===r.type&&r.delim===e)t.index+=1,r=(t=Aa(t,a)).atoms[t.index],r&&"sizeddelim"===r.type&&r.delim===i&&(t.index+=1,t=xa(t=va(t,a),a));else{if("leftright"!==r.type||r.leftDelim!==e||"?"!==r.rightDelim&&r.rightDelim!==i)return;t.ast=Ca(r.body,a),ba(t)&&(t.ast={group:t.ast}),t=xa(t=va(t,a),a)}return t.minPrec=s,t}var o=!0;if("mopen"===r.type?(e=r.latex.trim(),i=Vt.RIGHT_DELIM[e]):"sizeddelim"===r.type?(e=r.delim,i=Vt.RIGHT_DELIM[e]):"leftright"===r.type?(o=!1,e=r.leftDelim,"?"===(i=r.rightDelim)&&(i=Vt.RIGHT_DELIM[e])):"textord"===r.type&&(e=r.latex.trim(),i=Vt.RIGHT_DELIM[e]),e&&i){if("|"===e&&"|"===i){var l=t.atoms[t.index+1];l&&"textord"===l.type&&"|"===l.latex&&(e="\\lVert",i="\\rVert")}if(t=ka(t,e,i))return o&&(t.index+=1),t.ast={fn:ia[e+i]||e+i,arg:[t.ast]},t.minPrec=s,t}}function wa(t,e){return t.index=t.index||0,!(t.atoms.length<=1||t.index>=t.atoms.length-1)&&e===na(t.atoms[t.index])+na(t.atoms[t.index+1])}function Sa(t){if(t.index=t.index||0,!(t.atoms.length<=1||t.index>=t.atoms.length-1)){if(!ma(t,"textord","\\nabla")){var e=t.atoms[t.index].latex+t.atoms[t.index+1].latex,i=/^(>=|<=|>>|<<|:=|!=|\*\*|\+\+|--)$/.test(e)?e:"";return i&&(t.index+=1),i}return t.index+=1,ma(t,"mbin","\\times")?(t.index+=1,t.ast="curl",t):ma(t,"mbin","\\cdot")?(t.index+=1,t.ast="div",t):void(t.index-=1)}}function Aa(t,e){if(t.index=t.index||0,t.ast=void 0,0===t.atoms.length||t.index>=t.atoms.length)return t;t.minPrec=t.minPrec||0;for(var i=function t(e,i){if(e.index=e.index||0,e.ast=void 0,0===e.atoms.length||e.index>=e.atoms.length)return e;var a=e.atoms[e.index];if("text"===a.mode){for(var s="";e.atoms[e.index]&&"text"===e.atoms[e.index].mode;)s+=e.atoms[e.index].body,e.index+=1;return e.ast={text:s},e}var r=Qi(na(a));if(Sa(e))e.ast=fa(e.ast,t(e,i).ast);else{if("root"===a.type)return e.index=0,e.atoms=a.body,t(e,i);if("mbin"===a.type&&"-"===r)e.index+=1,(e=t(e,i)).ast=ga(e.ast);else if("mbin"===a.type&&"+"===r)e.index+=1,(e=t(e,i)).ast=fa("add",e.ast);else if("mord"===a.type&&/^[0-9.]$/.test(a.latex)){for(var n="",o=!1,l=/^[0-9.eEdD]$/;e.index<e.atoms.length&&!o&&(ma(e,"spacing")||(ma(e,"mord")||ma(e,"mpunct",",")||ma(e,"mbin"))&&l.test(e.atoms[e.index].latex));)if("spacing"===e.atoms[e.index].type)e.index+=1;else if(void 0!==e.atoms[e.index].superscript||void 0!==e.atoms[e.index].subscript)o=!0;else{var h=e.atoms[e.index].latex;"d"===h||"D"===h?(h="e",l=/^[0-9+-.]$/):("e"===h||"E"===h)&&(ba(e)?(h="",e.index-=1,o=!0):(h="E",l=/^[0-9+-.]$/)),n+=","===h?"":h,e.index+=1}if(e.ast=n?ya(n):void 0,a=e.atoms[e.index],a&&"genfrac"===a.type&&!isNaN(e.ast.num)){var c=e.ast;(e=t(e,i)).ast=fa("add",c,e.ast)}if(a&&"group"===a.type&&a.latex&&a.latex.startsWith("\\nicefrac")){var d=e.ast;(e=t(e,i)).ast=fa("add",d,e.ast)}a&&"msubsup"===a.type&&(e=va(e,i)),e=xa(e,i)}else if("genfrac"===a.type||"surd"===a.type)e.ast=a.toAST(i),e=xa(e=va(e,i),i);else if("mord"===a.type||"mbin"===a.type){if(Yi(r)&&!ea(a)){e.ast={fn:r};var u=(e=va(e,i)).ast,p=t(e,i).ast;p&&/^(list0|list|list2)$/.test(p.fn)?u.arg=p.arg:p&&(u.arg=[p]),e.ast=u}else e.ast=a.toAST(i),""===e.ast.sym&&(e.ast=ya({im:"1"})),e=va(e);e=xa(e,i)}else if("textord"===a.type){if(!ea(a)&&!Vt.RIGHT_DELIM[a.latex?a.latex.trim():a.body])if(Yi(r)){e.ast={fn:r};var m=(e=va(e,i)).ast;e.index+=1,m.arg=[t(e,i).ast],e.ast=m,e=xa(e,i)}else e.ast=a.toAST(i),void 0===a.superscript&&(e.index+=1),e=xa(e=va(e,i),i)}else if("mop"===a.type){if((/^\\(mathop|operatorname|operatorname\*)/.test(a.latex)||Yi(r))&&!ea(a))if(e.ast={fn:/^\\(mathop|operatorname|operatorname\*)/.test(a.latex)?a.body:r},ua((e=va(e,i)).ast)){var f={sin:"arcsin",cos:"arccos",tan:"arctan",cot:"arccot",sec:"arcsec",csc:"arccsc",sinh:"arsinh",cosh:"arcosh",tanh:"artanh",csch:"arcsch",sech:"arsech",coth:"arcoth"};if(-1===la(e.ast.sup)&&f[r])e.ast=fa(f[r],t(e,i).ast);else{var y=e.ast;y.arg=[t(e,i).ast],e.ast=y}}else{var g=e.ast,b=t(e,i).ast;b&&/^(list0|list|list2)$/.test(b.fn)?g.arg=b.arg:b&&(g.arg=[b]),e.ast=g}}else if("array"===a.type)e.index+=1,e.ast=a.toAST(i);else if("group"===a.type)e.index+=1,e.ast=a.toAST(i);else{if("mclose"===a.type)return e;if("error"===a.type)return e.index+=1,e.ast={error:a.latex},e}}if(void 0===e.ast){var v=ka(e,"(",")",i)||ka(e,null,null,i);v?e=v:ea(a)||("placeholder"===a.type?e.ast=ya(0):(e.ast={text:"?"},e.ast.error="Unexpected token '"+a.type+"'",a.latex?e.ast.latex=a.latex:a.body&&a.toLatex&&(e.ast.latex=a.toLatex())),e.index+=1)}if(a=e.atoms[e.index],a&&("mord"===a.type||"surd"===a.type||"mop"===a.type||"mopen"===a.type||"sizeddelim"===a.type||"leftright"===a.type)){if("sizeddelim"===a.type)for(var x in Vt.RIGHT_DELIM)if(a.delim===Vt.RIGHT_DELIM[x])return e.index+=1,e;if(("mord"===a.type||"textord"===a.type||"mop"===a.type)&&ea(a))return e;var k=e.ast;e.ast={},(e=t(e,i))&&e.ast&&k?Yi(k.fn)&&void 0===k.arg||Array.isArray(k.arg)&&0===k.arg.length?"list2"===e.ast.fn||"list"===e.ast.fn?e.ast=fa(k.fn,e.ast.arg):e.ast=fa("multiply",k,e.ast):"multiply"===e.ast.fn?e.ast.arg.unshift(k):0===da(k)&&0!==ca(k)&&1===da(e.ast)&&0===ca(e.ast)?e.ast=ya({im:ca(k).toString()}):e.ast=fa("multiply",k,e.ast):e.ast=k}return e}(t,e).ast,a=!1,s=t.minPrec;!a;){var r,o,h=t.atoms[t.index],c=Sa(t),d=void 0,u=void 0;if(a=!h||"text"===h.mode||!c&&!ea(h),a||(r=c?[Xi(c),Ji(c)]:ta(h),o=n(r,2),d=o[0],u=o[1],a=d<s),!a){var p=c||Qi(na(h));if(t.minPrec="left"===u?d+1:d,t.index+=1,"|"===p)if(void 0!==h.subscript||t.atoms[t.index]&&void 0!==t.atoms[t.index].subscript&&"msubsup"===t.atoms[t.index].type){t.ast={};var m=va(t,e).ast.sub;if(i=fa("bind",i),m&&"equal"===m.fn&&i.arg)i.arg.push(Zi(m,0)),i.arg.push(Zi(m,1));else if(m&&i.arg&&("list"===m.fn||"list2"===m.fn))for(var f={sym:"x"},y=0;y<m.arg.length;y++)"equal"===m.arg[y].fn?(f=Zi(m.arg[y],0),i.arg.push(f),i.arg.push(Zi(m.arg[y],1))):(i.arg.push(f),i.arg.push(m.arg[y]));else m&&(i.arg.push({sym:"x"}),i.arg.push(m))}else a=!0;else{var g=Aa(t,e).ast,b=ra[p];b&&i&&i.fn!==b&&(i=fa(b,i)),"-"===p?i&&i.arg&&"add"===i.fn?void 0!==g&&i.arg.push(ga(g)):i=i&&"subtract"===i.fn?fa("add",Zi(i,0),ga(Zi(i,1)),ga(g)):!ha(i)||ua(i)||!ha(g)||ua(g)||void 0!==g.num.re&&"0"!==g.num.re||void 0===g.num.im?fa("subtract",i,g):{num:{re:i.num,im:(-parseFloat(g.num.im)).toString()}}:(b=sa[p],"add"===b&&i&&"subtract"===i.fn?i=fa("add",Zi(i,0),ga(Zi(i,1)),g):b&&i&&i.fn===b&&!ua(i)?void 0!==g&&(g.fn===b&&!ua(g)&&g.arg?i.arg=[].concat(l(i.arg),l(g.arg)):i.arg&&i.arg.push(g)):b&&g&&g.arg&&g.fn===b?(g.arg.unshift(i),i=g):i="multiply"===b&&ha(i)&&!ua(i)&&g&&10===la(g)&&ha(g.sup)?ya(la(i)*Math.pow(10,la(g.sup))):"add"===b&&ha(i)&&!ua(i)&&g&&0!==da(g)&&!ua(g)?{num:{re:i.num,im:g.num.im}}:fa(b||Ui[p]||p,i,g))}}}return t.ast=i,t}function Ma(t){if(!t)return[];var e;if(Array.isArray(t)){e=[];var i,a=c(t);try{for(a.s();!(i=a.n()).done;){var s=i.value,r=Ma(s);e=e.concat(r)}}catch(t){a.e(t)}finally{a.f()}}else{if("spacing"===t.type)return[];"first"===t.type||"box"===t.type?e=Ma(t.body):(t.body&&Array.isArray(t.body)&&(t.body=Ma(t.body)),t.superscript&&Array.isArray(t.superscript)&&(t.superscript=Ma(t.superscript)),t.subscript&&Array.isArray(t.subscript)&&(t.subscript=Ma(t.subscript)),t.index&&Array.isArray(t.index)&&(t.index=Ma(t.index)),t.denom&&Array.isArray(t.denom)&&(t.denom=Ma(t.denom)),t.numer&&Array.isArray(t.numer)&&(t.numer=Ma(t.numer)),t.array&&Array.isArray(t.array)&&(t.array=t.array.map(function(t){return t.map(function(t){return Ma(t)})})),e=[t])}return e}function Ca(t,e){return function(t,e){t.index=t.index||0,t.ast=void 0;for(var i=[];t.atoms[t.index];)if("text"===t.atoms[t.index].mode){for(var a="";t.atoms[t.index]&&"text"===t.atoms[t.index].mode;)a+=t.atoms[t.index].body,t.index+=1;i.push(a)}else{var s=Aa(t,e).ast;if(!s)return;i.push(s)}return i.length>1?fa.apply(void 0,["text"].concat(i)):i[0]||void 0}({atoms:Ma(t)},e)}function _a(t){var e=Array.prototype.slice.call(arguments);e.shift(),t=t||".. ";var i="";if(e.length>0){"."!==t[0]&&(i+=t[0]);var a,s="",r=c(e);try{for(r.s();!(a=r.n()).done;){var n=a.value;i+=s+n,s=t[2]}}catch(t){r.e(t)}finally{r.f()}"."!==t[1]&&(i+=t[1])}return i}function Ta(t,e){var i=t.length;t=t.substr(0,e.precision-2);for(var a=0;a<t.length-16;a++)for(var s=t.substr(0,a),r=0;r<17;r++){var n=t.substr(a,r+1),o=Math.floor((t.length-s.length)/n.length);if(o>1&&(s+n.repeat(o+1)).startsWith(t))return"0"===n?s.replace(/(\d{3})/g,"$1"+e.groupSeparator):s.replace(/(\d{3})/g,"$1"+e.groupSeparator)+e.beginRepeatingDigits+n.replace(/(\d{3})/g,"$1"+e.groupSeparator)+e.endRepeatingDigits}return i!==t.length&&(t+="\\ldots"),t.replace(/(\d{3})/g,"$1"+e.groupSeparator)}function La(t){return parseFloat(parseFloat(t).toPrecision(15))}function Fa(t,e){var i="";if("number"==typeof e.precision){if("number"!=typeof t){var a="",s="";if("-"===t[0]?(a="-",t=t.substr(1)):"+"===t[0]&&(t=t.substr(1)),t.indexOf(".")>=0){var r=t.match(/(\d*).(\d*)([e|E]([-+]?[0-9]*))?/),n=r[1],o=r[2].substring(0,Math.min(e.precision-n.length,r[2].length));if(s=r[4]||"","0"===n){for(var l=0;"0"===o[l]&&l<o.length;)l+=1;var h="";if(l<=4)h="0"+e.decimalMarker,h+=o.substr(0,l),h+=Ta(t.substr(h.length),e);else if(l+1>=e.precision)h="0",a="";else{h=t[l];var c=Ta(t.substr(l+1),e);c&&(h+=e.decimalMarker+c)}"0"!==h&&(t.length-1>e.precision&&!h.endsWith("}")&&!h.endsWith("\\ldots")&&(h+="\\ldots"),l>4&&(h+=e.exponentProduct,e.exponentMarker?h+=e.exponentMarker+(1-l).toString():h+="10^{"+(1-l).toString()+"}")),t=h}else{t=n.replace(/\B(?=(\d{3})+(?!\d))/g,e.groupSeparator);var d=Ta(o,e);d&&(t+=e.decimalMarker+d)}}else if(t.length>e.precision){var u=t.length,p=t[0],m=Ta(t.substr(2),e);m&&(p+=e.decimalMarker+m,"}"!==p[p.length-1]&&(p+="\\ldots")),"1"!==p?p+=e.exponentProduct:p="",e.exponentMarker?p+=e.exponentMarker+(u-2).toString():p+="10^{"+(u-2).toString()+"}",t=p}else t=t.replace(/\B(?=(\d{3})+(?!\d))/g,e.groupSeparator);return s&&(s=e.exponentMarker?e.exponentMarker+s:e.exponentProduct+" 10^{"+s+"}"),a+t+s}t=La(t)}if("engineering"===e.scientificNotation)if(0===t)i="0";else{var f=Math.abs(t),y=Math.round(Math.log10(f));y-=y%3,f<1e3&&(y=0);var g=f/Math.pow(10,y),b=g.toString().match(/^(.*)\.(.*)$/);b&&b[1]&&b[2]&&(g=b[1]+e.decimalMarker+b[2]),e.groupSeparator&&(g=Ta(g.toExponential(),e)),y=0===y?"":e.exponentMarker?e.exponentMarker+y:e.exponentProduct+" 10^{"+y+"}",i=(t<0?"-":"")+g+y}else{var v,x,k,w="string"==typeof t?t:t.toString(),S=w.match(/^(.*)[e|E]([-+]?[0-9]*)$/i);v=w,k="",S&&S[1]&&S[2]&&(v=S[1],x=e.exponentMarker?e.exponentMarker+S[2]:e.exponentProduct+" 10^{"+S[2]+"}"),S=v.match(/^(.*)\.(.*)$/),S&&S[1]&&S[2]&&(v=S[1],k=S[2]),e.groupSeparator&&(v=v.replace(/\B(?=(\d{3})+(?!\d))/g,e.groupSeparator),k=Ta(k,e)),k&&(k=e.decimalMarker+k),i=v+k+(x||"")}return i}ke.MathAtom.prototype.toAST=function(t){var e,i,a,s,r={},n="",o={bb:"double-struck",cal:"script",scr:"script",frak:"fraktur",cmrss:"sans-serif",cmrtt:"monospace"}[this.baseFontFamily||this.fontFamily],l="";"b"===this.fontSeries&&(l+="bold"),"it"===this.fontShape&&(l+="italic");var h=this.latex?this.latex.trim():null;switch(this.type){case"root":case"group":this.latex&&this.latex.startsWith("\\nicefrac")?(e=this.latex.slice(9).match(/({.*}|[^}])({.*}|[^}])/),e?(i=1===e[1].length?e[1]:e[1].substr(1,e[1].length-2),i=Te.parseTokens(C.tokenize(i),"math",null,t.macros),a=1===e[2].length?e[2]:e[2].substr(1,e[2].length-2),a=Te.parseTokens(C.tokenize(a),"math",null,t.macros),r=fa("divide",Ca(i,t),Ca(a,t))):r.fn="divide"):r.group=Ca(this.body,t);break;case"genfrac":r=fa("divide",Ca(this.numer,t),this.denom&&this.denom[0]&&"placeholder"===this.denom[0].type?ya(1):Ca(this.denom,t));break;case"surd":r=this.index?fa("pow",Ca(this.body,t),fa("divide",1,Ca(this.index,t))):fa("sqrt",Ca(this.body,t));break;case"rule":break;case"line":case"overlap":case"accent":case"overunder":break;case"mord":case"textord":case"mbin":e=h?h.match(/[{]?\\char"([0-9abcdefABCDEF]*)[}]?/):void 0,e?n=String.fromCodePoint(parseInt(e[1],16)):(n=Qi(na(this)),n.length>0&&"\\"===n.charAt(0)&&"string"==typeof this.body&&(n=this.body)),s=Vt.mathVariantToUnicode(n,o,l).replace(/[\\]/g,"\\\\").replace(/["]/g,'\\"').replace(/[\b]/g,"\\b").replace(/[\f]/g,"\\f").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\t]/g,"\\t"),s!==n?(r={sym:s},o="normal"):r={sym:n};break;case"minner":case"mop":break;case"box":r=Ca(this.body,t);break;case"enclose":break;case"array":if("cardinality"===this.env.name)r=fa("card",Ca(this.array,t));else if(/array|matrix|pmatrix|bmatrix/.test(this.env.name)){r={fn:"array",args:[]};var d,u=c(this.array);try{for(u.s();!(d=u.n()).done;){var p=d.value;r.args.push(p.map(function(e){return Ca(e,t)}))}}catch(t){u.e(t)}finally{u.f()}}else if("cases"===this.env.name){r={fn:"cases",args:[]};var m,f=c(this.array);try{for(f.s();!(m=f.n()).done;){var y=m.value;if(y[0]){var g=[];g.push(Ca(y[0],t));var b=Ca(y[1],t);b&&"text"===b.fn&&b.arg&&/^(if|when|for)$/i.test(b.arg[0].trim())&&(b=b.arg.filter(function(t){return"string"!=typeof t})),g.push(b||{}),r.args.push(g)}}}catch(t){f.e(t)}finally{f.f()}}break;case"spacing":case"space":case"mathstyle":break;default:r=void 0}return r&&o&&"normal"!==o&&(r.variant=o),r&&"string"==typeof this.cssClass&&(r.class=this.cssClass),r&&"string"==typeof this.cssId&&(r.id=this.cssId),r},ke.toAST=function(t,e){return Ca(t,e)};var Da=function t(e,i){var a,s=Object.assign({precision:14,decimalMarker:".",groupSeparator:"\\, ",product:"\\cdot ",exponentProduct:"\\cdot ",exponentMarker:"",arcSeparator:"\\,",scientificNotation:"auto",beginRepeatingDigits:"\\overline{",endRepeatingDigits:"}"},i),r="";if(void 0===e)return"";if("string"==typeof e&&(e=JSON.parse(e)),e.latex)r=e.latex;else if(ha(e)){var n=la(e);if(n===-1/0)r="-\\infty ";else if(n===1/0)r="\\infty ";else if("object"!=h(e.num)||"string"!=typeof e.num.re&&"string"!=typeof e.num.im)r=isNaN(n)?"\\text{NaN}":Fa(e.num,s);else{var o=ca(e),d=da(e);isNaN(o)||isNaN(d)?r="\\text{NaN}":Math.abs(d)<=Number.EPSILON&&Math.abs(o)<=Number.EPSILON?r="0":(Math.abs(o)>Number.EPSILON&&(r=Fa(o,s)),Math.abs(d)>Number.EPSILON&&(Math.abs(o)>Number.EPSILON&&(r+=d>0?"+":""),r+=(1!==Math.abs(d)?Fa(d,s):"")+"\\imaginaryI "))}ua(e)&&(r+="^{"+t(e.sup,s)+"}"),pa(e)&&(r+="_{"+t(e.sub,s)+"}")}else if(e.group)r=t(e.group,s),ha(e.group)||oa(e.group)?0!==da(e.group)&&(r=_a(e.fence||"(),",r)):r=_a(e.fence||"(),",r),ua(e)&&(r+="^{"+t(e.sup,s)+"}"),pa(e)&&(r+="_{"+t(e.sub,s)+"}");else if(e.fn)if("bind"===e.fn){if(r=t(Zi(e,0),s)+"|_{",e.arg&&2===e.arg.length)r+=t(Zi(e,1));else for(var u="",p=1;p<e.arg.length;p+=2)r+=u+t(Zi(e,p))+" = "+t(Zi(e,p+1)),u=", ";r+="}"}else if("divide"===e.fn)r="\\frac{"+t(Zi(e,0),s)+"}{"+t(Zi(e,1),s)+"}";else if("negate"===e.fn)r="-"+t(Zi(e,0),s);else if("subtract"===e.fn)r=t(Zi(e,0),s)+" - "+t(Zi(e,1),s);else if("add"!==e.fn&&"multiply"!==e.fn||!Array.isArray(e.arg))if("list"===e.fn||"list2"===e.fn){var m,f=[],y=c(e.arg);try{for(y.s();!(m=y.n()).done;){var g=m.value;f.push(t(g,s))}}catch(t){y.e(t)}finally{y.f()}r=f.join("list2"===e.fn?"; ":", ")}else if("pow"===e.fn&&Array.isArray(e.arg)&&e.arg.length>=2)r=t(Zi(e,0),s),ha(Zi(e,0))||oa(Zi(e,0))||(r=_a(e.fence||"(),",r)),r+="^{"+t(Zi(e,1),s)+"}";else if("equal"===e.fn&&e.arg&&e.arg.length>2)r=e.arg.map(function(e){return t(e,s)}).join(" = ");else{var b=function(t){var e=ji[t];return e||(e=t.length>1?"\\operatorname{"+t+"}%^%_ %":t+"%^%_ %"),e}(e.fn);r=b;var v="";if(/%(?![01_^])/.test(b)&&Array.isArray(e.arg)&&e.arg.length>1)r+=_a.apply(void 0,[e.fence||"(),"].concat(l(e.arg.map(function(e){return t(e,s)}))));else if(Array.isArray(e.arg)&&e.arg.length>0){var x=t(Zi(e,0),s),k=t(Zi(e,1),s),w=l(e.arg);/%0/.test(b)&&(r=r.replace("%0",x),w.shift()),/%1/.test(b)&&(r=r.replace("%1",k),w.shift()),w.length>0&&(v=_a.apply(void 0,[e.fence||"(),"].concat(l(w.map(function(e){return t(e,s)})))))}else v=_a(e.fence||"(),","");r=ua(e)?r.replace("%^","^{"+t(e.sup,s)+"}"):r.replace("%^",""),r=pa(e)?r.replace("%_","_{"+t(e.sub,s)+"}"):r.replace("%_",""),r=r.replace(/%(?![01_^])/,v),r=r.replace("%0","").replace("%1","")}else{var S,A=[],M=c(e.arg);try{for(M.s();!(S=M.n()).done;){var C=S.value;"add"===C.fn||"subtract"===C.fn||0!==ca(a=C)&&0!==da(a)||ua(e)&&0!==da(C)&&1!==da(C)?A.push(_a("() ",t(C,s))):A.push(t(C,s))}}catch(t){M.e(t)}finally{M.f()}if("multiply"===e.fn)r=!e.arg||2!==e.arg.length||!ha(e.arg[0])&&"divide"!==e.arg[0].fn||ha(e.arg[1])&&(0!==ca(e.arg[1])||1!==da(e.arg[1]))?A.join(" \\times "):A[0]+A[1];else if(e.arg&&1===e.arg.length)r="negate"===e.arg[0].fn||ha(e.arg[0])&&la(e.arg[0])<0?A[0]:"+"+A[0];else{r=A[0];for(var _=1;_<e.arg.length;_++)"negate"===e.arg[_].fn||ha(e.arg[_])&&la(e.arg[_])<0?r+=A[_]:r+=" + "+A[_]}}else if("string"==typeof e.sym){r=oa(e);var T=r.match(/^&#x([0-9a-f]+);$/i);T&&T[1]?r=String.fromCodePoint(parseInt(T[1],16)):(T=r.match(/^&#([0-9]+);$/i),T&&T[1]&&(r=String.fromCodePoint(parseInt(T[1])))),"string"==typeof e.variant&&(r="\\"+{normal:"mathrm","double-struck":"mathbb",bold:"mathbf",fraktur:"mathfrak",script:"mathscr","sans-serif":"mathsf",monospace:"mathtt"}[e.variant]+"{"+r+"}"),ua(e)&&(r+="^{"+t(e.sup,s)+"}"),pa(e)&&(r+="_{"+t(e.sub,s)+"}")}else"string"==typeof e.text&&(r="\\text{"+e.text+"}");return"string"==typeof e.error&&(r="\\bbox[#F56165]{"+r+"}"),r},za={"\\alpha":"alpha ","\\mu":"mew ","\\sigma":"sigma ","\\pi":"pie ","\\imaginaryI":"eye ","\\sum":"Summation ","\\prod":"Product ",a:'<phoneme alphabet="ipa" ph="e">a</phoneme>',A:'capital <phoneme alphabet="ipa" ph="e">A</phoneme>',"+":"plus ","-":"minus ",";":'<break time="150ms"/> semi-colon <break time="150ms"/>',",":'<break time="150ms"/> comma  <break time="150ms"/>',"|":'<break time="150ms"/>Vertical bar<break time="150ms"/>',"(":'<break time="150ms"/>Open paren. <break time="150ms"/>',")":'<break time="150ms"/> Close paren. <break time="150ms"/>',"=":"equals ","<":"is less than ","\\lt":"is less than ","<=":"is less than or equal to ","\\le":"is less than or equal to ","\\gt":"is greater than ",">":"is greater than ","\\ge":"is greater than or equal to ","\\geq":"is greater than or equal to ","\\leq":"is less than or equal to ","!":"factorial ","\\sin":"sine ","\\cos":"cosine ","":"","":"minus ",":":'<break time="150ms"/> such that <break time="200ms"/> ',"\\colon":'<break time="150ms"/> such that <break time="200ms"/> ',"\\hbar":"etch bar ","\\iff":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\Longleftrightarrow":'<break time="200ms"/>if, and only if, <break time="200ms"/>',"\\land":"and ","\\lor":"or ","\\neg":"not ","\\div":"divided by ","\\forall":"for all ","\\exists":"there exists ","\\nexists":"there does not exists ","\\in":"element of ","\\N":'the set <break time="150ms"/><say-as interpret-as="character">n</say-as>',"\\C":'the set <break time="150ms"/><say-as interpret-as="character">c</say-as>',"\\Z":'the set <break time="150ms"/><say-as interpret-as="character">z</say-as>',"\\Q":'the set <break time="150ms"/><say-as interpret-as="character">q</say-as>',"\\infty":"infinity ","\\nabla":"nabla ","\\partial":"partial derivative of ","\\cdots":"dot dot dot ","\\Rightarrow":"implies ","\\lbrace":'<break time="150ms"/>open brace<break time="150ms"/>',"\\{":'<break time="150ms"/>open brace<break time="150ms"/>',"\\rbrace":'<break time="150ms"/>close brace<break time="150ms"/>',"\\}":'<break time="150ms"/>close brace<break time="150ms"/>',"\\langle":'<break time="150ms"/>left angle bracket<break time="150ms"/>',"\\rangle":'<break time="150ms"/>right angle bracket<break time="150ms"/>',"\\lfloor":'<break time="150ms"/>open floor<break time="150ms"/>',"\\rfloor":'<break time="150ms"/>close floor<break time="150ms"/>',"\\lceil":'<break time="150ms"/>open ceiling<break time="150ms"/>',"\\rceil":'<break time="150ms"/>close ceiling<break time="150ms"/>',"\\vert":'<break time="150ms"/>vertical bar<break time="150ms"/>',"\\mvert":'<break time="150ms"/>divides<break time="150ms"/>',"\\lvert":'<break time="150ms"/>left vertical bar<break time="150ms"/>',"\\rvert":'<break time="150ms"/>right vertical bar<break time="150ms"/>',"\\lbrack":'<break time="150ms"/> open square bracket <break time="150ms"/>',"\\rbrack":'<break time="150ms"/> close square bracket <break time="150ms"/>',mm:"millimeters",cm:"centimeters",km:"kilometers",kg:"kilograms"};function Ea(t){var e=0;if(t&&Array.isArray(t)){var i,a=c(t);try{for(a.s();!(i=a.n()).done;){var s=i.value;"first"!==s.type&&(e+=1)}}catch(t){a.e(t)}finally{a.f()}}return 1===e}function qa(t){var e="";if(t&&Array.isArray(t)){var i,a=c(t);try{for(a.s();!(i=a.n()).done;){var s=i.value;"first"!==s.type&&"string"==typeof s.body&&(e+=s.body)}}catch(t){a.e(t)}finally{a.f()}}return e}ke.toSpeakableFragment=function(t,e){function i(t){return"<emphasis>"+t+"</emphasis>"}if(!t)return"";var a="";if(t.id&&"math"===e.speechMode&&(a+='<mark name="'+t.id.toString()+'"/>'),Array.isArray(t))for(var s=!1,r=0;r<t.length;r++)r<t.length-2&&"mopen"===t[r].type&&"mclose"===t[r+2].type&&"mord"===t[r+1].type?(a+=" of ",a+=i(ke.toSpeakableFragment(t[r+1],e)),r+=2):"text"===t[r].mode?a+=t[r].body?t[r].body:" ":"mord"===t[r].type&&/[0123456789,.]/.test(t[r].body)?s?a+=t[r].body:(s=!0,a+=ke.toSpeakableFragment(t[r],e)):(s=!1,a+=ke.toSpeakableFragment(t[r],e));else if("text"===t.mode)a=t.body;else{var n="",o="",l="",h=!1;switch(t.type){case"group":case"root":a+=ke.toSpeakableFragment(t.body,e);break;case"genfrac":if(n=ke.toSpeakableFragment(t.numer,e),o=ke.toSpeakableFragment(t.denom,e),Ea(t.numer)&&Ea(t.denom)){var d={"1/2":" half ","1/3":" one third ","2/3":" two third","1/4":" one quarter ","3/4":" three quarter ","1/5":" one fifth ","2/5":" two fifths ","3/5":" three fifths ","4/5":" four fifths ","1/6":" one sixth ","5/6":" five sixths ","1/8":" one eight ","3/8":" three eights ","5/8":" five eights ","7/8":" seven eights ","1/9":" one ninth ","2/9":" two ninths ","4/9":" four ninths ","5/9":" five ninths ","7/9":" seven ninths ","8/9":" eight ninths "}[qa(t.numer)+"/"+qa(t.denom)];d?a=d:a+=n+" over "+o}else a+=' the fraction <break time="150ms"/>'+n+', over <break time="150ms"/>'+o+'.<break time="150ms"/> End fraction.<break time="150ms"/>';break;case"surd":if(l=ke.toSpeakableFragment(t.body,e),t.index){var u=ke.toSpeakableFragment(t.index,e);u=u.trim();var p=u.replace(/<mark([^/]*)\/>/g,"");a+="3"===p?' the cube root of <break time="200ms"/>'+l+'. <break time="200ms"/> End cube root':"n"===p?' the nth root of <break time="200ms"/>'+l+'. <break time="200ms"/> End root':' the root with index: <break time="200ms"/>'+u+', of <break time="200ms"/>'+l+'. <break time="200ms"/> End root'}else Ea(t.body)?a+=" the square root of "+l+" , ":a+=' the square root of <break time="200ms"/>'+l+'. <break time="200ms"/> End square root';break;case"accent":break;case"leftright":a+=za[t.leftDelim]||t.leftDelim,a+=ke.toSpeakableFragment(t.body,e),a+=za[t.rightDelim]||t.rightDelim;break;case"line":case"rule":case"overunder":case"overlap":break;case"placeholder":a+="placeholder "+t.body;break;case"delim":case"sizeddelim":case"mord":case"minner":case"mbin":case"mrel":case"mpunct":case"mopen":case"mclose":case"textord":var m=t.latex?t.latex.trim():"";if("\\mathbin"===m||"\\mathrel"===m||"\\mathopen"===m||"\\mathclose"===m||"\\mathpunct"===m||"\\mathord"===m||"\\mathinner"===m){a=ke.toSpeakableFragment(t.body,e);break}var f=t.body,y=t.latex;if("delim"!==t.type&&"sizeddelim"!==t.type||(f=y=t.delim),"text"===e.speechMode)a+=f;else{if("mbin"===t.type&&(a+='<break time="150ms"/>'),f){var g=za[f]||(y?za[y.trim()]:"");if(g)a+=" "+g;else{var b=y?function(t){var e=yi.NOTES[t];return e||"\\"!==t.charAt(0)||(e=" "+t.replace("\\","")+" "),Array.isArray(e)&&(e=e[0]),e}(y.trim()):"";a+=b||function(t){var i="";return e.textToSpeechMarkup?/[a-z]/.test(t)?i+=' <say-as interpret-as="character">'+t+"</say-as>":/[A-Z]/.test(t)?i+="capital "+t.toLowerCase():i+=t:/[a-z]/.test(t)?i+=" '"+t.toUpperCase()+"'":/[A-Z]/.test(t)?i+=" 'capital "+t.toUpperCase()+"'":i+=t,i}(f)}}else a+=ke.toSpeakableFragment(t.body,e);"mbin"===t.type&&(a+='<break time="150ms"/>')}break;case"mop":if(""!==t.body){var v=t.latex?t.latex.trim():"";if("\\sum"===v)if(t.superscript&&t.subscript){var x=ke.toSpeakableFragment(t.superscript,e);x=x.trim();var k=ke.toSpeakableFragment(t.subscript,e);k=k.trim(),a+=' the summation from <break time="200ms"/>'+k+'<break time="200ms"/> to  <break time="200ms"/>'+x+'<break time="200ms"/> of <break time="150ms"/>',h=!0}else if(t.subscript){var w=ke.toSpeakableFragment(t.subscript,e);w=w.trim(),a+=' the summation from <break time="200ms"/>'+w+'<break time="200ms"/> of <break time="150ms"/>',h=!0}else a+=" the summation of";else if("\\prod"===v)if(t.superscript&&t.subscript){var S=ke.toSpeakableFragment(t.superscript,e);S=S.trim();var A=ke.toSpeakableFragment(t.subscript,e);A=A.trim(),a+=' the product from <break time="200ms"/>'+A+'<break time="200ms"/> to <break time="200ms"/>'+S+'<break time="200ms"/> of <break time="150ms"/>',h=!0}else if(t.subscript){var M=ke.toSpeakableFragment(t.subscript,e);M=M.trim(),a+=' the product from <break time="200ms"/>'+M+'<break time="200ms"/> of <break time="150ms"/>',h=!0}else a+=" the product  of ";else if("\\int"===v)if(t.superscript&&t.subscript){var C=ke.toSpeakableFragment(t.superscript,e);C=C.trim();var _=ke.toSpeakableFragment(t.subscript,e);_=_.trim(),a+=' the integral from <break time="200ms"/>'+i(_)+'<break time="200ms"/> to <break time="200ms"/>'+i(C)+' <break time="200ms"/> of ',h=!0}else a+=' the integral of <break time="200ms"/> ';else"string"==typeof t.body?a+=za[t.body]||za[t.latex.trim()]||" "+t.body:t.latex&&t.latex.length>0&&("\\"===t.latex[0]?a+=" "+t.latex.substr(1):a+=" "+t.latex)}break;case"enclose":l=ke.toSpeakableFragment(t.body,e),Ea(t.body)?a+=" crossed out "+l+" , ":a+=" crossed out "+l+". End cross out"}if(!h&&t.superscript){var T=ke.toSpeakableFragment(t.superscript,e);T=T.trim();var L=T.replace(/<[^>]*>/g,"");if(Ea(t.superscript)){if("math"===e.speechMode){var F=function(t){if(t&&Array.isArray(t)){var e,i=c(t);try{for(i.s();!(e=i.n()).done;){var a=e.value;if("first"!==a.type&&a.id)return a.id.toString()}}catch(t){i.e(t)}finally{i.f()}}return""}(t.superscript);F&&(a+='<mark name="'+F+'"/>')}""===L?a+=" prime ":"2"===L?a+=" squared ":"3"===L?a+=" cubed ":isNaN(parseInt(L))?a+=" to the "+T+"; ":a+=' to the <say-as interpret-as="ordinal">'+L+"</say-as> power; "}else isNaN(parseInt(L))?a+=" raised to the "+T+"; ":a+=' raised to the <say-as interpret-as="ordinal">'+L+"</say-as> power; "}if(!h&&t.subscript){var D=ke.toSpeakableFragment(t.subscript,e);D=D.trim(),Ea(t.subscript)?a+=" sub "+D:a+=" subscript "+D+". End subscript. "}}return a},ke.toSpeakableText=function(t,e){var i=e?JSON.parse(JSON.stringify(e)):{textToSpeechMarkup:"",textToSpeechRules:"mathlive"};if(i.speechMode="math",window.sre&&"sre"===i.textToSpeechRules){i.generateID=!0;var a=ke.toMathML(t,i);return a?(i.textToSpeechMarkup&&(i.textToSpeechRulesOptions=i.textToSpeechRulesOptions||{},i.textToSpeechRulesOptions.markup=i.textToSpeechMarkup,"ssml"===i.textToSpeechRulesOptions.markup&&(i.textToSpeechRulesOptions.markup="ssml_step"),i.textToSpeechRulesOptions.rate=i.speechEngineRate),i.textToSpeechRulesOptions&&window.sre.System.getInstance().setupEngine(i.textToSpeechRulesOptions),window.sre.System.getInstance().toSpeech(a)):""}var s=ke.toSpeakableFragment(t,i);if("ssml"===i.textToSpeechMarkup){var r="";i.speechEngineRate&&(r='<prosody rate="'+i.speechEngineRate+'">'),s='<?xml version="1.0"?><speak version="1.1" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="en-US"><amazon:auto-breaths>'+r+"<p><s>"+s+"</s></p>"+(r?"</prosody>":"")+"</amazon:auto-breaths></speak>"}else s="mac"===i.textToSpeechMarkup&&"mac"===function(t){var e="other";return navigator&&navigator.platform&&navigator.userAgent&&(/^(mac)/i.test(navigator.platform)?e="mac":/^(win)/i.test(navigator.platform)?e="win":/(android)/i.test(navigator.userAgent)?e="android":/(iphone)/i.test(navigator.userAgent)||/(ipod)/i.test(navigator.userAgent)||/(ipad)/i.test(navigator.userAgent)?e="ios":/\bCrOS\b/i.test(navigator.userAgent)&&(e="chromeos")),e===t?t:"!"+t}("mac")?s.replace(/<mark([^/]*)\/>/g,"").replace(/<emphasis>/g,"[[emph+]]").replace(/<\/emphasis>/g,"").replace(/<break time="([0-9]*)ms"\/>/g,"[[slc $1]]").replace(/<say-as[^>]*>/g,"").replace(/<\/say-as>/g,""):s.replace(/<[^>]*>/g,"").replace(/\s{2,}/g," ");return s};var Ia=3,Pa=.5;function Ba(t,e,i,a){e=e.split(" ");var s,r=c(e);try{for(r.s();!(s=r.n()).done;){var n=s.value,o=n.match(/(.*):(.*)/);if(o){var l=a||{};"active"===o[2]?l.passive=!1:l[o[2]]=!0,t.addEventListener(o[1],i,l)}else t.addEventListener(n,i,a)}}catch(t){r.e(t)}finally{r.f()}}function Oa(t,e,i,a){e=e.split(" ");var s,r=c(e);try{for(r.s();!(s=r.n()).done;){var n=s.value,o=n.match(/(.*):(.*)/);if(o){var l=a||{};"active"===o[2]?l.passive=!1:l[o[2]]=!0,t.removeEventListener(o[1],i,l)}else t.removeEventListener(n,i,a)}}catch(t){r.e(t)}finally{r.f()}}function Ra(t,e){var i=document.getElementById(t);return i?i.setAttribute("data-refcount",parseInt(i.getAttribute("data-refcount"))+1):(i=document.createElement("div"),i.setAttribute("aria-hidden","true"),i.setAttribute("data-refcount","1"),i.className=e,i.id=t,document.body.appendChild(i)),i}function Ka(t){if(!t)return null;var e=parseInt(t.getAttribute("data-refcount"));return e&&1!==e?t.setAttribute("data-refcount",e-1):t.remove(),t}function Na(t){return t.element&&t.element.mathfield===t}var Wa,$a=function(){"use strict";function t(e,i){var a=this;u(this,t),this.$setConfig(i||{}),this.element=e,e.mathfield=this,this.originalContent=e.innerHTML;var s=this.element.textContent;s&&(s=s.trim());var r="";this.config.substituteTextArea?"string"==typeof this.config.substituteTextArea?r+=this.config.substituteTextArea:r+="<span></span>":/android|ipad|ipod|iphone/i.test(navigator.userAgent)?r+="<span class='ML__textarea'>\n                <span class='ML__textarea__textarea'\n                    tabindex=\"0\" role=\"textbox\"\n                    style='display:inline-block;height:1px;width:1px' >\n                </span>\n            </span>":r+='<span class="ML__textarea"><textarea class="ML__textarea__textarea" autocapitalize="off" autocomplete="off" autocorrect="off" spellcheck="false" aria-hidden="true" tabindex="0"></textarea></span>',r+='<span class="ML__fieldcontainer"><span class="ML__fieldcontainer__field"></span>',this.config.virtualKeyboardMode||(this.config.virtualKeyboardMode=window.matchMedia&&window.matchMedia("(any-pointer: coarse)").matches?"onfocus":"off"),"manual"===this.config.virtualKeyboardMode?(r+='<button class="ML__virtual-keyboard-toggle" data-tooltip="'.concat(bi("tooltip.toggle virtual keyboard"),'">'),this.config.virtualKeyboardToggleGlyph?r+=this.config.virtualKeyboardToggleGlyph:r+='<span style="width: 21px; margin-top: 4px;"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M528 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h480c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm16 336c0 8.823-7.177 16-16 16H48c-8.823 0-16-7.177-16-16V112c0-8.823 7.177-16 16-16h480c8.823 0 16 7.177 16 16v288zM168 268v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-336 80v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm384 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zM120 188v-24c0-6.627-5.373-12-12-12H84c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm96 0v-24c0-6.627-5.373-12-12-12h-24c-6.627 0-12 5.373-12 12v24c0 6.627 5.373 12 12 12h24c6.627 0 12-5.373 12-12zm-96 152v-8c0-6.627-5.373-12-12-12H180c-6.627 0-12 5.373-12 12v8c0 6.627 5.373 12 12 12h216c6.627 0 12-5.373 12-12z"/></svg></span>',r+="</button>"):r+="<span ></span>",r+="</span>",r+='\n        <div class="sr-only">\n            <span aria-live="assertive" aria-atomic="true"></span>\n            <span></span>\n        </div>\n    ',this.element.innerHTML=r;var n=0;"function"==typeof this.config.substituteTextArea?this.textarea=this.config.substituteTextArea():this.textarea=this.element.children[n++].firstElementChild,this.field=this.element.children[n].children[0],this.field.addEventListener("wheel",function(t){t.preventDefault(),t.stopPropagation();var e=void 0===t.deltaX?t.detail:-t.deltaX;isFinite(e)||(e=t.wheelDelta/10),a.field.scroll({top:0,left:a.field.scrollLeft-5*e})},{passive:!1}),this.virtualKeyboardToggleDOMNode=this.element.children[n++].children[1],this._attachButtonHandlers(this.virtualKeyboardToggleDOMNode,{default:"toggleVirtualKeyboard",alt:"toggleVirtualKeyboardAlt",shift:"toggleVirtualKeyboardShift"}),this.ariaLiveText=this.element.children[n].children[0],this.accessibleNode=this.element.children[n++].children[1],this.popover=Ra("mathlive-popover-panel","ML__popover"),this.keystrokeCaption=Ra("mathlive-keystroke-caption-panel","ML__keystroke-caption"),this.keystrokeCaptionVisible=!1,this.virtualKeyboardVisible=!1,this.keystrokeBuffer="",this.keystrokeBufferStates=[],this.keystrokeBufferResetTimer=null,this.suggestionIndex=0,this.mode=i.defaultMode||"math",this.smartModeSuppressed=!1,this.style={},this.blurred=!0,Ba(this.element,"focus",this),Ba(this.element,"blur",this),Ba(this.textarea,"cut",this),Ba(this.textarea,"copy",this),Ba(this.textarea,"paste",this),li.delegateKeyboardEvents(this.textarea,{container:this.element,allowDeadKey:function(){return"text"===a.mode},typedText:this._onTypedText.bind(this),paste:this._onPaste.bind(this),keystroke:this._onKeystroke.bind(this),focus:this._onFocus.bind(this),blur:this._onBlur.bind(this)}),window.PointerEvent?Ba(this.field,"pointerdown",this):Ba(this.field,"touchstart:active mousedown",this),Ba(window,"resize",this);var l=o({},i);l.onSelectionDidChange=t.prototype._onSelectionDidChange.bind(this),l.onContentDidChange=t.prototype._onContentDidChange.bind(this),l.onAnnounce=this.config.onAnnounce,l.macros=this.config.macros,l.removeExtraneousParentheses=this.config.removeExtraneousParentheses,this.mathlist=new ii.EditableMathlist(l,this),this.undoManager=new hi.UndoManager(this.mathlist),s.length>0&&this.$latex(s),this.undoManager.startRecording(),this.undoManager.snapshot(this.config)}return d(t,[{key:"handleEvent",value:function(t){var e=this;switch(t.type){case"focus":this._onFocus(t);break;case"blur":this._onBlur(t);break;case"touchstart":case"mousedown":case"pointerdown":this._onPointerDown(t);break;case"resize":this._resizeTimer&&window.cancelAnimationFrame(this._resizeTimer),this._resizeTimer=window.requestAnimationFrame(function(){return Na(e)&&e._onResize()});break;case"cut":this._onCut(t);break;case"copy":this._onCopy(t);break;case"paste":this._onPaste(t)}}},{key:"$revertToOriginalContent",value:function(){this.element.innerHTML=this.originalContent,this.element.mathfield=null,delete this.accessibleNode,delete this.ariaLiveText,delete this.field,Oa(this.textarea,"cut",this),Oa(this.textarea,"copy",this),Oa(this.textarea,"paste",this),this.textarea.remove(),delete this.textarea,this.virtualKeyboardToggleDOMNode.remove(),delete this.virtualKeyboardToggleDOMNode,Ka(this.popover),Ka(this.keystrokeCaption),Ka(this.virtualKeyboard),Ka(document.getElementById("mathlive-alternate-keys-panel")),Oa(this.element,"pointerdown",this),Oa(this.element,"touchstart:active mousedown",this),Oa(this.element,"focus",this),Oa(this.element,"blur",this),Oa(window,"resize",this),delete this.element}},{key:"_resetKeystrokeBuffer",value:function(){this.keystrokeBuffer="",this.keystrokeBufferStates=[],clearTimeout(this.keystrokeBufferResetTimer)}},{key:"_getCaretPosition",value:function(){var t=function t(e){return e.classList.contains("ML__caret")||e.classList.contains("ML__text-caret")||e.classList.contains("ML__command-caret")?e:(Array.from(e.children).forEach(function(e){i=i||t(e)}),i);var i}(this.field);if(t){var e=t.getBoundingClientRect();return{x:e.right,y:e.bottom,height:e.height}}return null}},{key:"_getSelectionBounds",value:function(){var t=this.field.querySelectorAll(".ML__selected");if(t&&t.length>0){var e={top:1/0,bottom:-1/0,left:1/0,right:-1/0};t.forEach(function(t){var i=t.getBoundingClientRect();i.left<e.left&&(e.left=i.left),i.right>e.right&&(e.right=i.right),i.bottom>e.bottom&&(e.bottom=i.bottom),i.top<e.top&&(e.top=i.top)});var i=this.field.getBoundingClientRect(),a=e.right-e.left,s=e.bottom-e.top;return e.left=Math.ceil(e.left-i.left+this.field.scrollLeft),e.right=e.left+a,e.top=Math.ceil(e.top-i.top),e.bottom=e.top+s,e}return null}},{key:"_pathFromPoint",value:function(t,e,i){var a;(i=i||{}).bias=i.bias||0;var s=function t(e,i,a){var s={element:null,distance:Number.POSITIVE_INFINITY},r=!0;if(e.getAttribute("data-atom-id")){s.element=e;var n=e.getBoundingClientRect(),o=i-(n.left+n.right)/2,l=a-(n.top+n.bottom)/2;s.distance=o*o+l*l,r=i>=n.left&&i<=n.right}return r&&e.children&&Array.from(e.children).forEach(function(e){var r=t(e,i,a);r.element&&r.distance<=s.distance&&(s=r)}),s}(this.field,t,e).element,r=s?s.getAttribute("data-atom-id"):null;if(r){var n=this.mathlist.filter(function(t,e){return e.captureSelection?e.filter(function(t){return t.id===r}).length>0:e.id===r});if(n&&n.length>0)if(a=De.pathFromString(n[0]).path,0===i.bias){var o=s.getBoundingClientRect();t<o.left+o.width/2&&!s.classList.contains("ML__placeholder")&&(a[a.length-1].offset=Math.max(0,a[a.length-1].offset-1))}else i.bias<0&&(a[a.length-1].offset=Math.min(this.mathlist.siblings().length-1,Math.max(0,a[a.length-1].offset+i.bias)))}return a}},{key:"_onPointerDown",value:function(t){var e,i=this,a=!1,s=!1,r=!1;if(1===t.buttons){var n=!1,o=!1,l=setInterval(function(){n?i.field.scroll({top:0,left:i.field.scrollLeft-16}):o&&i.field.scroll({top:0,left:i.field.scrollLeft+16})},32),h=t.touches?t.touches[0].clientX:t.clientX,c=t.touches?t.touches[0].clientY:t.clientY,d=Date.now();Wa&&Math.abs(Wa.x-h)<5&&Math.abs(Wa.y-c)<5&&Date.now()<Wa.time+500?(Ha+=1,Wa.time=d):(Wa={x:h,y:c,time:d},Ha=1);var u=this.field.getBoundingClientRect();if(h>=u.left&&h<=u.right&&c>=u.top&&c<=u.bottom){if(this.$hasFocus()||(r=!0,this.textarea.focus&&this.textarea.focus()),this._resetKeystrokeBuffer(),this.smartModeSuppressed=!1,e=this._pathFromPoint(h,c,{bias:0}),e){var p=document.createElement("div");p.className="ML__scroller",this.element.appendChild(p),p.style.left=u.left-200+"px",p=document.createElement("div"),p.className="ML__scroller",this.element.appendChild(p),p.style.left=u.right+"px",t.shiftKey?(this.mathlist.setRange(this.mathlist.path,e),e=De.clone(this.mathlist.path),e[e.length-1].offset-=1):this.mathlist.setPath(e,0),r=!0,this.style={},3===t.detail||Ha>2?(m(t),3!==t.detail&&3!==Ha||this.mathlist.selectAll_()):a||(a=!0,window.PointerEvent?(Ba(i.field,"pointermove",f),Ba(i.field,"pointerend pointercancel pointerup",m),i.field.setPointerCapture(t.pointerId)):(Ba(window,"blur",m),t.touches?(Ba(t.target,"touchmove",f),Ba(t.target,"touchend",m)):(Ba(window,"mousemove",f),Ba(window,"mouseup",m))),2!==t.detail&&2!==Ha||(s=!0,this.mathlist.selectGroup_()))}}else Wa=null;r&&this._requestUpdate(),t.preventDefault()}function m(t){window.PointerEvent?(Oa(i.field,"pointermove",f),Oa(i.field,"pointerend pointerleave pointercancel",m),i.field.releasePointerCapture(t.pointerId)):(Oa(i.field,"touchmove",f),Oa(i.field,"touchend touchleave",m),Oa(window,"mousemove",f),Oa(window,"mouseup blur",m)),a=!1,clearInterval(l),i.element.querySelectorAll(".ML__scroller").forEach(function(t){return t.parentNode.removeChild(t)}),t.preventDefault(),t.stopPropagation()}function f(t){var a=t.touches?t.touches[0].clientX:t.clientX,r=t.touches?t.touches[0].clientY:t.clientY,l="touch"===t.pointerType?20:5;if(Date.now()<d+500&&Math.abs(h-a)<l&&Math.abs(c-r)<l)return t.preventDefault(),void t.stopPropagation();var u=i.field.getBoundingClientRect();o=a>u.right,n=a<u.left;var p=e;window.PointerEvent?t.isPrimary||(p=i._pathFromPoint(t.clientX,t.clientY,{bias:0})):t.touches&&2===t.touches.length&&(p=i._pathFromPoint(t.touches[1].clientX,t.touches[1].clientY,{bias:0}));var m=i._pathFromPoint(a,r,{bias:a<=h?a===h?0:-1:1});m&&i.mathlist.setRange(p,m,{extendToWordBoundary:s})&&i._requestUpdate(),t.preventDefault(),t.stopPropagation()}}},{key:"_onSelectionDidChange",value:function(){this.mathlist.commitCommandStringBeforeInsertionPoint();var t="";this.mathlist.forEachSelected(function(e){t+=e.toLatex()}),t?(this.textarea.value=t,this.$hasFocus()&&this.textarea.select&&this.textarea.select()):(this.textarea.value="",this.textarea.setAttribute("aria-label",""));var e=this.mode;this.mode=this.mathlist.anchorMode()||this.config.defaultMode,this.mode!==e&&"function"==typeof this.config.onModeChange&&this.config.onModeChange(this,this.mode),"command"===e&&"command"!==this.mode&&(yi.hidePopover(this),this.mathlist.removeCommandString()),yi.updatePopoverPosition(this,{deferred:!0}),"function"==typeof this.config.onSelectionDidChange&&this.config.onSelectionDidChange(this)}},{key:"_onContentDidChange",value:function(){this.undoManager.canRedo()?this.element.classList.add("can-redo"):this.element.classList.remove("can-redo"),this.undoManager.canUndo()?this.element.classList.add("can-undo"):this.element.classList.remove("can-undo"),"function"==typeof this.config.onContentDidChange&&this.config.onContentDidChange(this)}},{key:"_nextAtomSpeechText",value:function(t){function e(t,e){return"body"===e.relation?{enclose:"cross out",leftright:"fence",surd:"square root",root:"math field"}[t.type]:{numer:"numerator",denom:"denominator",index:"index",body:"parent",subscript:"subscript",superscript:"superscript"}[e.relation]}for(var i=t?t.path:[],a=this.mathlist.path,s=a[a.length-1],r="";i.length>a.length;)r+="out of "+e(t.parent(),i[i.length-1])+"; ",i.pop();if(!this.mathlist.isCollapsed())return Va(this,"",this.mathlist.getSelectedAtoms());var n=e(this.mathlist.parent(),s);0===s.offset&&(r+=(n?"start of "+n:"unknown")+": ");var o=this.mathlist.sibling(Math.max(1,this.mathlist.extent));return o?r+=Va(this,"",o):0!==s.offset&&(r+=n?"end of "+n:"unknown"),r}},{key:"_announce",value:function(t,e,i){"function"==typeof this.config.onAnnounce&&this.config.onAnnounce(this,t,e,i)}},{key:"_onFocus",value:function(){this.blurred&&(this.blurred=!1,this.textarea.focus&&this.textarea.focus(),"onfocus"===this.config.virtualKeyboardMode&&this.showVirtualKeyboard_(),yi.updatePopoverPosition(this),this.config.onFocus&&this.config.onFocus(this),this._requestUpdate())}},{key:"_onBlur",value:function(){this.blurred||(this.blurred=!0,this.ariaLiveText.textContent="","onfocus"===this.config.virtualKeyboardMode&&this.hideVirtualKeyboard_(),this.complete_({discard:!0}),this._requestUpdate(),this.config.onBlur&&this.config.onBlur(this))}},{key:"_onResize",value:function(){this.element.classList.remove("ML__isNarrowWidth","ML__isWideWidth","ML__isExtendedWidth"),window.innerWidth>=1024?this.element.classList.add("ML__isExtendedWidth"):window.innerWidth>=768?this.element.classList.add("ML__isWideWidth"):this.element.classList.add("ML__isNarrowWidth"),yi.updatePopoverPosition(this)}},{key:"toggleKeystrokeCaption_",value:function(){this.keystrokeCaptionVisible=!this.keystrokeCaptionVisible,this.keystrokeCaption.innerHTML="",this.keystrokeCaptionVisible||(this.keystrokeCaption.style.visibility="hidden")}},{key:"_showKeystroke",value:function(t){var e=this.keystrokeCaption;if(e&&this.keystrokeCaptionVisible){var i=this.element.getBoundingClientRect();e.style.left=i.left+"px",e.style.top=i.top-64+"px",e.innerHTML="<span>"+(Re.stringify(t)||t)+"</span>"+e.innerHTML,e.style.visibility="visible",setTimeout(function(){e.childNodes.length>0&&e.removeChild(e.childNodes[e.childNodes.length-1]),0===e.childNodes.length&&(e.style.visibility="hidden")},3e3)}}},{key:"$perform",value:function(t){if(!t)return!1;var e,i=!1,a=[],s=!1;if(Array.isArray(t)?(e=t[0],a=t.slice(1)):e=t,e=e.replace(/-\w/g,function(t){return t[1].toUpperCase()}),e+="_","function"==typeof this.mathlist[e]){var r;if(/^(delete|transpose|add)/.test(e)&&this._resetKeystrokeBuffer(),/^(delete|transpose|add)/.test(e)&&"command"!==this.mode&&(this.undoManager.pop(),this.undoManager.snapshot(this.config)),(r=this.mathlist)[e].apply(r,l(a)),/^(delete|transpose|add)/.test(e)&&"command"!==this.mode&&this.undoManager.snapshot(this.config),/^(delete)/.test(e)&&"command"===this.mode){var n=this.mathlist.extractCommandStringAroundInsertionPoint(),o=Vt.suggest(n);0===o.length?yi.hidePopover(this):yi.showPopoverWithLatex(this,o[0].match,o.length>1)}s=!0,i=!0}else"function"==typeof this[e]&&(s=this[e].apply(this,l(a)),i=!0);return this.mathlist.isCollapsed()&&!/^(transpose|paste|complete|((moveToNextChar|moveToPreviousChar|extend).*))_$/.test(e)||(this._resetKeystrokeBuffer(),this.style={}),s&&this._requestUpdate(),i}},{key:"performWithFeedback_",value:function(t){return this.$focus(),this.config.keypressVibration&&navigator.vibrate&&navigator.vibrate(Ia),"moveToNextPlaceholder"===(t=t.replace(/-\w/g,function(t){return t[1].toUpperCase()}))||"moveToPreviousPlaceholder"===t||"complete"===t?this.returnKeypressSound?(this.returnKeypressSound.load(),this.returnKeypressSound.play().catch(function(t){})):this.keypressSound&&(this.keypressSound.load(),this.keypressSound.play().catch(function(t){})):"deletePreviousChar"!==t&&"deleteNextChar"!==t&&"deletePreviousWord"!==t&&"deleteNextWord"!==t&&"deleteToGroupStart"!==t&&"deleteToGroupEnd"!==t&&"deleteToMathFieldStart"!==t&&"deleteToMathFieldEnd"!==t||!this.deleteKeypressSound?this.keypressSound&&(this.keypressSound.load(),this.keypressSound.play().catch(function(t){})):(this.deleteKeypressSound.load(),this.deleteKeypressSound.play().catch(function(t){})),this.$perform(t)}},{key:"convertLastAtomsToText_",value:function(t,e){"function"==typeof t&&(e=t,t=1/0),void 0===t&&(t=1/0);var i=0,a=!1;for(this.mathlist.contentWillChange();!a;){var s=this.mathlist.sibling(i);a=0===t||!s||"math"!==s.mode||!(/mord|textord|mpunct/.test(s.type)||"mop"===s.type&&/[a-zA-Z]+/.test(s.body))||s.superscript||s.subscript||e&&!e(s),a||(s.applyStyle({mode:"text"}),s.latex=s.body),i-=1,t-=1}this.mathlist.contentDidChange()}},{key:"convertLastAtomsToMath_",value:function(t,e){"function"==typeof t&&(e=t,t=1/0),void 0===t&&(t=1/0),this.mathlist.contentWillChange();for(var i=0,a=!1;!a;){var s=this.mathlist.sibling(i);a=0===t||!s||"text"!==s.mode||" "===s.body||e&&!e(s),a||s.applyStyle({mode:"math",type:"mord"}),i-=1,t-=1}this.removeIsolatedSpace_(),this.mathlist.contentDidChange()}},{key:"removeIsolatedSpace_",value:function(){for(var t=0;this.mathlist.sibling(t)&&"math"===this.mathlist.sibling(t).mode;)t-=1;if(this.mathlist.sibling(t)&&"text"===this.mathlist.sibling(t).mode&&" "===this.mathlist.sibling(t).body&&(!this.mathlist.sibling(t-1)||"math"===this.mathlist.sibling(t-1).mode)){this.mathlist.contentWillChange(),this.mathlist.siblings().splice(t-1,1),this.mathlist.contentDidChange();var e=this.mathlist.suppressChangeNotifications;this.mathlist.suppressChangeNotifications=!0,this.mathlist.setSelection(this.mathlist.anchorOffset()-1),this.mathlist.suppressChangeNotifications=e}}},{key:"getTextBeforeAnchor_",value:function(){for(var t="",e=0,i=!1;!i;){var a=this.mathlist.sibling(e);i=!(a&&("text"===a.mode&&!a.type||"math"===a.mode&&/mord|textord|mpunct/.test(a.type))),i||(t=a.body+t),e-=1}return t}},{key:"smartMode_",value:function(t,e){if(this.smartModeSuppressed)return!1;if(this.mathlist.endOffset()<this.mathlist.siblings().length-1)return!1;if(!e||e.ctrlKey||e.metaKey)return!1;var i=li.eventToChar(e);if(i.length>1)return!1;if(!this.mathlist.isCollapsed())return!("text"!==this.mode||!/[/_^]/.test(i));var a=this.getTextBeforeAnchor_()+i;if("text"===this.mode){if("Esc"===t||/[/\\]/.test(i))return!0;if(/[\^_]/.test(i))return/(^|\s)[a-zA-Z][^_]$/.test(a)&&this.convertLastAtomsToMath_(1),!0;var s={")":"(","}":"{","]":"["}[i];if(s&&this.mathlist.parent()&&"leftright"===this.mathlist.parent().type&&this.mathlist.parent().leftDelim===s)return!0;if(/(^|[^a-zA-Z])(a|I)[ ]$/.test(a))return!1;if(/[\$\xA2-\xA5\u0E3F\u20A1\u20A4\u20A7-\u20A9\u20AC\u20B1\u20B9\u20BA]/.test(i))return!0;if(/(^|[^a-zA-Z'])[a-zA-Z][ ]$/.test(a))return this.convertLastAtomsToMath_(1),!1;if(/[^0-9]\.[^0-9\s]$/.test(a)){this.convertLastAtomsToMath_(1);var r=this.mathlist.sibling(0);return r.body="",r.autoFontFamily="cmr",r.latex="\\cdot",!0}if(/(^|\s)[a-zA-Z][^a-zA-Z]$/.test(a))return this.convertLastAtomsToMath_(1),!0;if(/\.[0-9]$/.test(a))return this.convertLastAtomsToMath_(1),!0;if(/[(][0-9+\-.]$/.test(a))return this.convertLastAtomsToMath_(1),!0;if(/[(][a-z][,;]$/.test(a))return this.convertLastAtomsToMath_(2),!0;if(/[0-9+\-=><*|]$/.test(i))return this.removeIsolatedSpace_(),!0}else{if("Spacebar"===t)return this.convertLastAtomsToText_(function(t){return/[a-z][:,;.]$/.test(t.body)}),!0;if(/[a-zA-Z]{3,}$/.test(a)&&!/(dxd|abc|xyz|uvw)$/.test(a))return this.convertLastAtomsToText_(function(t){return/[a-zA-Z:,;.]/.test(t.body)}),!0;if(/(^|\W)(if|If)$/i.test(a))return this.convertLastAtomsToText_(1),!0;if(/(\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5){3,}$/.test(a)&&!/()$/.test(a))return this.convertLastAtomsToText_(function(t){return/(:|,|;|(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])|\u0393|\u0394|\u0398|\u039B|\u039E|\u03A0|\u03A3|\u03A5|\u03A6|\u03A8|\u03A9|[\u03B1-\u03C9]|\u03D1|\u03D5|\u03D6|\u03F1|\u03F5)/.test(t.body)}),!0;if(/\?|\./.test(i))return!0}return!1}},{key:"_onKeystroke",value:function(t,e){var i=this;if(this._showKeystroke(t),clearTimeout(this.keystrokeBufferResetTimer),this.config.onKeystroke&&!this.config.onKeystroke(this,t,e))return e&&e.preventDefault&&(e.preventDefault(),e.stopPropagation()),!1;var a,s,r,n=!1;if("command"!==this.mode&&(!e||!e.ctrlKey&&!e.metaKey)){var l=li.eventToChar(e);if("Backspace"!==l)if(!l||l.length>1)this._resetKeystrokeBuffer();else{for(var h=this.keystrokeBuffer+l,c=0;!a&&c<h.length;){var d=void 0;if(this.keystrokeBufferStates[c]){var u=new ii.EditableMathlist;u.root=ke.makeRoot("math",Te.parseTokens(C.tokenize(this.keystrokeBufferStates[c].latex),this.config.default,null,this.config.macros)),u.setPath(this.keystrokeBufferStates[c].selection),d=u.siblings()}else d=this.mathlist.siblings();a=Re.forString(this.mode,d,h.slice(c),this.config),c+=1}s=c-1,this.keystrokeBuffer+=l,this.keystrokeBufferStates.push(this.undoManager.save()),Re.startsWithString(h,this.config).length<=1?n=!0:this.config.inlineShortcutTimeout&&(this.keystrokeBufferResetTimer=setTimeout(function(){i._resetKeystrokeBuffer()},this.config.inlineShortcutTimeout))}}if(this.config.smartMode){var p=this.mode;a?this.mode="math":this.smartMode_(t,e)&&(this.mode={math:"text",text:"math"}[this.mode],r=""),this.mode!==p&&"function"==typeof this.config.onModeChange&&this.config.onModeChange(this,this.mode)}if(a||r||(r=Re.selectorForKeystroke(this.mode,t)),!a&&!r)return!0;this.mathlist.decorateCommandStringAroundInsertionPoint(!1);var m=this.mathlist.parent();if("moveAfterParent"===r&&m&&"leftright"===m.type&&this.mathlist.endOffset()===this.mathlist.siblings().length-1&&this.config.smartFence&&this.mathlist._insertSmartFence(".")&&(r="",this._requestUpdate()),"math"===this.mode&&"Spacebar"===t&&!a){var f=this.mathlist.sibling(1),y=this.mathlist.sibling(-1);(f&&"text"===f.mode||y&&"text"===y.mode)&&this.mathlist.insert(" ",{mode:"text"})}if((r&&!this.$perform(r)||a)&&a){if(!/^(\\{|\\}|\\[|\\]|\\@|\\#|\\$|\\%|\\^|\\_|\\backslash)$/.test(a)){var g=o(o({},this.mathlist.anchorStyle()),this.style);this.mathlist.insert(li.eventToChar(e),{suppressChangeNotifications:!0,mode:this.mode,style:g});var b=this.mode;this.undoManager.snapshotAndCoalesce(this.config),this.undoManager.restore(this.keystrokeBufferStates[s],o(o({},this.config),{},{suppressChangeNotifications:!0})),this.mode=b}this.mathlist.contentWillChange();var v=this.mathlist.suppressChangeNotifications;this.mathlist.suppressChangeNotifications=!0;var x=o(o({},this.mathlist.anchorStyle()),this.style);this.mathlist.insert(a,{format:"latex",mode:this.mode,style:x,smartFence:!0}),this.removeIsolatedSpace_(),a.endsWith(" ")&&(this.mode="text",this.mathlist.insert(" ",{mode:"text",style:x})),this.mathlist.suppressChangeNotifications=v,this.mathlist.contentDidChange(),this.undoManager.snapshot(this.config),this._requestUpdate(),this._announce("replacement"),n&&this._resetKeystrokeBuffer()}return this.scrollIntoView(),e&&e.preventDefault&&(e.preventDefault(),e.stopPropagation()),!1}},{key:"_onTypedText",value:function(t,e){if((e=e||{}).focus&&this.$focus(),e.feedback&&(this.config.keypressVibration&&navigator.vibrate&&navigator.vibrate(Ia),this.keypressSound&&(this.keypressSound.load(),this.keypressSound.play().catch(function(t){}))),e.commandMode&&"command"!==this.mode&&this.switchMode_("command"),this.mathlist.decorateCommandStringAroundInsertionPoint(!1),e.simulateKeystroke){var i=t.charAt(0),a=li.charToEvent(i);if(!this.$keystroke(li.keyboardEventToString(a),a))return}var s="",r=!1;if(this.pasteInProgress)this.pasteInProgress=!1,this.mathlist.insert(t,{smartFence:this.config.smartFence,mode:"math"});else{var n,l=o(o({},this.mathlist.anchorStyle()),this.style),h=S.splitGraphemes(t),d=c(h);try{for(d.s();!(n=d.n()).done;){var u=n.value;if("command"===this.mode){this.mathlist.removeSuggestion(),this.suggestionIndex=0;var p=this.mathlist.extractCommandStringAroundInsertionPoint(),m=Vt.suggest(p+u);r=m.length>1,0===m.length?(this.mathlist.insert(u,{mode:"command"}),/^\\[a-zA-Z\\*]+$/.test(p+u)&&this.mathlist.decorateCommandStringAroundInsertionPoint(!0),yi.hidePopover(this)):(this.mathlist.insert(u,{mode:"command"}),m[0].match!==p+u&&this.mathlist.insertSuggestion(m[0].match,-m[0].match.length+p.length+1),s=m[0].match)}else if("math"===this.mode){var f={"^":"moveToSuperscript",_:"moveToSubscript"," ":"moveAfterParent"}[u];if(f){if("moveToSuperscript"===f){if(this._superscriptDepth()>=this.config.scriptDepth[1])return void this._announce("plonk")}else if("moveToSubscript"===f&&this._subscriptDepth()>=this.config.scriptDepth[0])return void this._announce("plonk");this.$perform(f)}else this.config.smartSuperscript&&"superscript"===this.mathlist.relation()&&/[0-9]/.test(u)&&0===this.mathlist.siblings().filter(function(t){return"first"!==t.type}).length?(this.mathlist.insert(u,{mode:"math",style:l}),this.mathlist.moveAfterParent_()):this.mathlist.insert(u,{mode:"math",style:l,smartFence:this.config.smartFence})}else"text"===this.mode&&this.mathlist.insert(u,{mode:"text",style:l})}}catch(t){d.e(t)}finally{d.f()}}"command"!==this.mode&&this.undoManager.snapshotAndCoalesce(this.config),this._requestUpdate(),this.scrollIntoView(),yi.showPopoverWithLatex(this,s,r)}},{key:"_hash",value:function(){for(var t=0,e=this.mathlist.root.toLatex(!1),i=0;i<e.length;i++)t=31*t+e.charCodeAt(i),t|=0;return Math.abs(t)}},{key:"_requestUpdate",value:function(){var t=this;this.dirty||(this.dirty=!0,requestAnimationFrame(function(e){return Na(t)&&t._render()}))}},{key:"_render",value:function(t){t=t||{},this.dirty=!1,window.mathlive||(window.mathlive={}),this.mathlist.anchor()||(this.mathlist.path=[{relation:"body",offset:0}]),this.mathlist.forEach(function(t){t.caret="",t.isSelected=!1});var e=this.$hasFocus();this.mathlist.isCollapsed()?this.mathlist.anchor().caret=e?this.mode:"":this.mathlist.forEachSelected(function(t){t.isSelected=!0});var i=ke.decompose({mathstyle:"displaystyle",generateID:{seed:this._hash(),groupNumbers:t.forHighlighting},macros:this.config.macros},this.mathlist.root),a=ht.makeSpan(i,"ML__base");a.attributes={translate:"no","aria-hidden":"true"};var s=ht.makeSpan("","ML__strut");s.setStyle("height",a.height,"em");var r=[s];if(0!==a.depth){var n=ht.makeSpan("","ML__strut--bottom");n.setStyle("height",a.height+a.depth,"em"),n.setStyle("vertical-align",-a.depth,"em"),r.push(n)}r.push(a);var o=ht.makeSpan(r,"ML__mathlive");this.field.innerHTML=o.toMarkup(0,this.config.horizontalSpacingScale),this.field.classList.toggle("ML__focused",e),this.accessibleNode.innerHTML="<math xmlns='http://www.w3.org/1998/Math/MathML'>"+ke.toMathML(this.mathlist.root,this.config)+"</math>";var l=this._getSelectionBounds();if(l){var h=document.createElement("div");h.classList.add("ML__selection"),h.style.position="absolute",h.style.left=l.left+"px",h.style.top=l.top+"px",h.style.width=Math.ceil(l.right-l.left)+"px",h.style.height=Math.ceil(l.bottom-l.top-1)+"px",this.field.insertBefore(h,this.field.childNodes[0])}}},{key:"_onPaste",value:function(){return this.pasteInProgress=!0,!0}},{key:"_onCut",value:function(){return setTimeout(function(){this.$clearSelection(),this._requestUpdate()}.bind(this),0),!0}},{key:"_onCopy",value:function(t){this.mathlist.isCollapsed()?(t.clipboardData.setData("text/plain",this.$text("latex-expanded")),t.clipboardData.setData("application/json",this.$text("json")),t.clipboardData.setData("application/xml",this.$text("mathML"))):(t.clipboardData.setData("text/plain",this.$selectedText("latex-expanded")),t.clipboardData.setData("application/json",this.$selectedText("json")),t.clipboardData.setData("application/xml",this.$selectedText("mathML"))),t.preventDefault()}},{key:"formatMathlist",value:function(t,e){var i="";if("latex"===(e=e||"latex")||"latex-expanded"===e)i=t.toLatex("latex-expanded"===e);else if("mathML"===e)i=t.toMathML(this.config);else if("spoken"===e)i=ke.toSpeakableText(t,this.config);else if("spoken-text"===e){var a=this.config.textToSpeechMarkup;this.config.textToSpeechMarkup="",i=ke.toSpeakableText(t,this.config),this.config.textToSpeechMarkup=a}else if("spoken-ssml"===e||"spoken-ssml-withHighlighting"===e){var s=this.config.textToSpeechMarkup,r=this.config.generateID;this.config.textToSpeechMarkup="ssml","spoken-ssml-withHighlighting"===e&&(this.config.generateID=!0),i=ke.toSpeakableText(t,this.config),this.config.textToSpeechMarkup=s,this.config.generateID=r}else if("json"===e){var n=ke.toAST(t,this.config);i=JSON.stringify(n)}else"ASCIIMath"===e&&(i=function t(e,i){if(!e)return"";if(Array.isArray(e)){var a="";if(0===e.length)return"";if("first"===e[0].type&&e.shift(),"text"===e[0].mode){var s=0;for(a='"';e[s]&&"text"===e[s].mode;)a+=e[s].body,s++;a+='"'+t(e.slice(s))}else{for(var r=0;e[r]&&"math"===e[r].mode;)a+=t(e[r]),r++;a+=t(e.slice(r))}return a.trim()}var n,o="",l=e.latex?e.latex.trim():null;switch(e.type){case"group":case"root":o=t(e.body);break;case"array":break;case"genfrac":(e.leftDelim||e.rightDelim)&&(o+="."!==e.leftDelim&&e.leftDelim?e.leftDelim:"{:"),e.hasBarLine?(o+="(",o+=t(e.numer),o+=")/(",o+=t(e.denom),o+=")"):(o+="("+t(e.numer)+"),",o+="("+t(e.denom)+")"),(e.leftDelim||e.rightDelim)&&(o+="."!==e.rightDelim&&e.rightDelim?e.rightDelim:"{:");break;case"surd":e.index?o+="root("+t(e.index)+")("+t(e.body)+")":o+="sqrt("+t(e.body)+")";break;case"leftright":o+="."!==e.leftDelim&&e.leftDelim?e.leftDelim:"{:",o+=t(e.body),o+="."!==e.rightDelim&&e.rightDelim?e.rightDelim:"{:";break;case"sizeddelim":case"delim":case"accent":break;case"line":case"overlap":case"overunder":break;case"mord":o=Li[l]||l||("string"==typeof e.body?e.body:""),"\\"===o[0]&&(o+=""),n=l?l.match(/[{]?\\char"([0-9abcdefABCDEF]*)[}]?/):null,n?o=String.fromCharCode(parseInt("0x"+n[1])):o.length>0&&"\\"===o.charAt(0)&&(o="string"==typeof e.body?e.body.charAt(0):e.latex);break;case"mbin":case"mrel":case"textord":case"minner":o=l&&Li[l]?Li[l]:l&&Fi[l]?Fi[l]:e.body;break;case"mopen":case"mclose":o+=e.body;break;case"mpunct":o=Fi[l]||l;break;case"mop":""!==e.body&&(o="",o+="\\operatorname"===l?e.body:e.body||l,o+=" ");break;case"mathstyle":case"box":case"spacing":case"enclose":break;case"space":o=" "}if(e.subscript){o+="_";var h=t(e.subscript);h.length>1&&!/^(-)?\d+(\.\d*)?$/.test(h)?o+="("+h+")":o+=h}if(e.superscript){o+="^";var c=t(e.superscript);c.length>1&&!/^(-)?\d+(\.\d*)?$/.test(c)?o+="("+c+")":o+=c}return o}(t,this.config));return i}},{key:"$text",value:function(t){return this.formatMathlist(this.mathlist.root,t)}},{key:"$selectedText",value:function(t){var e=this.mathlist.getSelectedAtoms();if(!e)return"";var i=ke.makeRoot("math",e);return this.formatMathlist(i,t)}},{key:"$selectionIsCollapsed",value:function(){return this.mathlist.isCollapsed()}},{key:"$selectionDepth",value:function(){return this.mathlist.path.length}},{key:"_superscriptDepth",value:function(){for(var t=0,e=0,i=this.mathlist.ancestor(e),a=!1;i;)(i.superscript||i.subscript)&&(t+=1),i.superscript?a=!0:i.subscript&&(a=!1),e+=1,i=this.mathlist.ancestor(e);return a?t:0}},{key:"_subscriptDepth",value:function(){for(var t=0,e=0,i=this.mathlist.ancestor(e),a=!1;i;)(i.superscript||i.subscript)&&(t+=1),i.superscript?a=!1:i.subscript&&(a=!0),e+=1,i=this.mathlist.ancestor(e);return a?t:0}},{key:"$selectionAtStart",value:function(){return 0===this.mathlist.startOffset()}},{key:"$selectionAtEnd",value:function(){return this.mathlist.endOffset()>=this.mathlist.siblings().length-1}},{key:"groupIsSelected",value:function(){return 0===this.mathlist.startOffset()&&this.mathlist.endOffset()>=this.mathlist.siblings().length-1}},{key:"$latex",value:function(t,e){return t?(t!==this.mathlist.root.toLatex()&&(e=e||{},this.mathlist.insert(t,Object.assign({},this.config,{insertionMode:"replaceAll",selectionMode:"after",format:"latex",mode:"math",suppressChangeNotifications:e.suppressChangeNotifications})),this.undoManager.snapshot(this.config),this._requestUpdate()),t):this.mathlist.root.toLatex()}},{key:"$el",value:function(){return this.element}},{key:"undo",value:function(){return this.complete_(),this.undoManager.undo(this.config),!0}},{key:"redo",value:function(){return this.complete_(),this.undoManager.redo(this.config),!0}},{key:"scrollIntoView",value:function(){this.dirty&&this._render();var t=this._getCaretPosition(),e=this.field.getBoundingClientRect();if(!t){var i=this._getSelectionBounds();i&&(t={x:i.right+e.left-this.field.scrollLeft,y:i.top+e.top-this.field.scrollTop})}if(t){var a=t.x-window.scrollX;a<e.left?this.field.scroll({top:0,left:a-e.left+this.field.scrollLeft-20,behavior:"smooth"}):a>e.right&&this.field.scroll({top:0,left:a-e.right+this.field.scrollLeft+20,behavior:"smooth"})}}},{key:"scrollToStart",value:function(){this.field.scroll(0,0)}},{key:"scrollToEnd",value:function(){var t=this.field.getBoundingClientRect();this.field.scroll(t.left-window.scrollX,0)}},{key:"enterCommandMode_",value:function(){this.switchMode_("command")}},{key:"copyToClipboard_",value:function(){return this.$focus(),this.mathlist.isCollapsed()&&this.$select(),document.execCommand("copy"),!1}},{key:"cutToClipboard_",value:function(){return this.$focus(),document.execCommand("cut"),!0}},{key:"pasteFromClipboard_",value:function(){return this.$focus(),document.execCommand("paste"),!0}},{key:"$insert",value:function(t,e){if("string"==typeof t&&t.length>0){if((e=e||{}).focus&&this.$focus(),e.feedback&&(this.config.keypressVibration&&navigator.vibrate&&navigator.vibrate(Ia),this.keypressSound&&(this.keypressSound.load(),this.keypressSound.play())),"\\\\"===t)this.mathlist.addRowAfter_();else if("&"===t)this.mathlist.addColumnAfter_();else{var i=this.style;this.mathlist.insert(t,o({mode:this.mode,style:this.mathlist.anchorStyle()},e)),e.resetStyle&&(this.style=i)}return this.undoManager.snapshot(this.config),this._requestUpdate(),!0}return!1}},{key:"switchMode_",value:function(t,e,i){this._resetKeystrokeBuffer(),this.smartModeSuppressed=/text|math/.test(this.mode)&&/text|math/.test(t),e&&this.$insert(e,{format:"latex",mode:{math:"text",text:"math"}[t]}),this.mathlist.decorateCommandStringAroundInsertionPoint(!1),"command"===t?(this.mathlist.removeSuggestion(),yi.hidePopover(this),this.suggestionIndex=0,this.virtualKeyboardVisible&&this.switchKeyboardLayer_("lower-command"),this.mathlist.insert("",{mode:"math"})):this.mode=t,i&&this.$insert(i,{format:"latex",mode:t}),"function"==typeof this.config.onModeChange&&this.config.onModeChange(this,this.mode),this._requestUpdate()}},{key:"complete_",value:function(t){if(t=t||{},yi.hidePopover(this),t.discard)return this.mathlist.spliceCommandStringAroundInsertionPoint(null),this.switchMode_("math"),!0;var e=this.mathlist.extractCommandStringAroundInsertionPoint(!t.acceptSuggestion);if(e){if("\\("===e||"\\)"===e)this.mathlist.spliceCommandStringAroundInsertionPoint([]),this.mathlist.insert(e.slice(1),{mode:this.mode});else{var i="math";if(Vt.commandAllowed(i,e)){var a=Te.parseTokens(C.tokenize(e),i,null,this.config.macros);this.mathlist.spliceCommandStringAroundInsertionPoint(a)}else{var s=Te.parseTokens(C.tokenize(e),i,null,this.config.macros);s?this.mathlist.spliceCommandStringAroundInsertionPoint(s):this.mathlist.decorateCommandStringAroundInsertionPoint(!0)}}return this.undoManager.snapshot(this.config),this._announce("replacement"),!0}return!1}},{key:"_updateSuggestion",value:function(){this.mathlist.positionInsertionPointAfterCommitedCommand(),this.mathlist.removeSuggestion();var t=this.mathlist.extractCommandStringAroundInsertionPoint(),e=Vt.suggest(t);if(0===e.length)yi.hidePopover(this),this.mathlist.decorateCommandStringAroundInsertionPoint(!0);else{var i=this.suggestionIndex%e.length,a=t.length-e[i].match.length;0!==a&&this.mathlist.insertSuggestion(e[i].match,a),yi.showPopoverWithLatex(this,e[i].match,e.length>1)}this._requestUpdate()}},{key:"nextSuggestion_",value:function(){return this.suggestionIndex+=1,this._updateSuggestion(),!1}},{key:"previousSuggestion_",value:function(){if(this.suggestionIndex-=1,this.suggestionIndex<0){this.mathlist.removeSuggestion();var t=this.mathlist.extractCommandStringAroundInsertionPoint(),e=Vt.suggest(t);this.suggestionIndex=e.length-1}return this._updateSuggestion(),!1}},{key:"_attachButtonHandlers",value:function(t,e){var i,a,s,r,n,o=this;"object"==h(e)&&(e.default||e.pressed)?(e.default&&t.setAttribute("data-"+this.config.namespace+"command",JSON.stringify(e.default)),e.alt&&t.setAttribute("data-"+this.config.namespace+"command-alt",JSON.stringify(e.alt)),e.altshift&&t.setAttribute("data-"+this.config.namespace+"command-altshift",JSON.stringify(e.altshift)),e.shift&&t.setAttribute("data-"+this.config.namespace+"command-shift",JSON.stringify(e.shift)),e.pressed&&t.setAttribute("data-"+this.config.namespace+"command-pressed",JSON.stringify(e.pressed)),e.pressAndHoldStart&&t.setAttribute("data-"+this.config.namespace+"command-pressAndHoldStart",JSON.stringify(e.pressAndHoldStart)),e.pressAndHoldEnd&&t.setAttribute("data-"+this.config.namespace+"command-pressAndHoldEnd",JSON.stringify(e.pressAndHoldEnd))):t.setAttribute("data-"+this.config.namespace+"command",JSON.stringify(e)),Ba(t,"mousedown touchstart:passive",function(e){if("mousedown"!==e.type||1===e.buttons){e.stopPropagation(),e.preventDefault(),t.classList.add("pressed"),i=Date.now(),"touchstart"===e.type&&(s=e.changedTouches[0].identifier);var r=t.getAttribute("data-"+o.config.namespace+"command-pressed");r&&o.$perform(JSON.parse(r));var l=t.getAttribute("data-"+o.config.namespace+"command-pressAndHoldStart");l&&(a=t,n&&clearTimeout(n),n=window.setTimeout(function(){t.classList.contains("pressed")&&o.$perform(JSON.parse(l))},300))}}),Ba(t,"mouseleave touchcancel",function(){t.classList.remove("pressed")}),Ba(t,"touchmove:passive",function(t){t.preventDefault();for(var e=0;e<t.changedTouches.length;e++)if(t.changedTouches[e].identifier===s){var i=document.elementFromPoint(t.changedTouches[e].clientX,t.changedTouches[e].clientY);i!==r&&r&&(r.dispatchEvent(new MouseEvent("mouseleave"),{bubbles:!0}),r=null),i&&(r=i,i.dispatchEvent(new MouseEvent("mouseenter",{bubbles:!0,buttons:1})))}}),Ba(t,"mouseenter",function(e){1===e.buttons&&t.classList.add("pressed")}),Ba(t,"mouseup touchend click",function(e){if(r){e.stopPropagation(),e.preventDefault();var s=r;return r=null,void s.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0}))}if(t.classList.remove("pressed"),t.classList.add("active"),"click"===e.type&&0!==e.detail)return e.stopPropagation(),void e.preventDefault();window.setTimeout(function(){t.classList.remove("active")},150);var n=t.getAttribute("data-"+o.config.namespace+"command-pressAndHoldEnd"),l=Date.now();(t!==a||l<i+300)&&(n=void 0),!n&&e.altKey&&e.shiftKey&&(n=t.getAttribute("data-"+o.config.namespace+"command-altshift")),!n&&e.altKey&&(n=t.getAttribute("data-"+o.config.namespace+"command-alt")),!n&&e.shiftKey&&(n=t.getAttribute("data-"+o.config.namespace+"command-shift")),n||(n=t.getAttribute("data-"+o.config.namespace+"command")),n&&o.$perform(JSON.parse(n)),e.stopPropagation(),e.preventDefault()})}},{key:"_makeButton",value:function(t,e,i,a){var s=document.createElement("span");return s.innerHTML=t,e&&s.classList.add([].slice.call(e.split(" "))),i&&s.setAttribute("aria-label",i),this._attachButtonHandlers(s,a),s}},{key:"showAlternateKeys_",value:function(t,e){var i=Ra("mathlive-alternate-keys-panel","ML__keyboard alternate-keys");this.virtualKeyboard.classList.contains("material")&&i.classList.add("material"),e.length>=7?i.style.width="286px":4===e.length||2===e.length?i.style.width="146px":1===e.length?i.style.width="86px":i.style.width="146px",i.style.height="auto";var a,s="",r=c(e);try{for(r.s();!(a=r.n()).done;){var n=a.value;s+="<li","string"==typeof n?s+=' data-latex="'+n.replace(/"/g,"&quot;")+'"':(n.latex&&(s+=' data-latex="'+n.latex.replace(/"/g,"&quot;")+'"'),n.content&&(s+=' data-content="'+n.content.replace(/"/g,"&quot;")+'"'),n.insert&&(s+=' data-insert="'+n.insert.replace(/"/g,"&quot;")+'"'),n.command&&(s+=" data-command='"+n.command.replace(/"/g,"&quot;")+"'"),n.aside&&(s+=' data-aside="'+n.aside.replace(/"/g,"&quot;")+'"'),n.classes&&(s+=' data-classes="'+n.classes+'"')),s+=">",s+=n.label||"",s+="</li>"}}catch(t){r.e(t)}finally{r.f()}s="<ul>"+s+"</ul>",i.innerHTML=s,Ti.makeKeycap(this,i.getElementsByTagName("li"),"performAlternateKeys");var o=this.virtualKeyboard.querySelector('div.keyboard-layer.is-visible div.rows ul li[data-alt-keys="'+t+'"]').getBoundingClientRect();if(o){o.top-i.clientHeight<0&&(i.style.width="auto",e.length<=6?i.style.height="56px":e.length<=12?i.style.height="108px":i.style.height="205px");var l=(o.top-i.clientHeight+5).toString()+"px",h=Math.max(0,Math.min(window.innerWidth-i.offsetWidth,(o.left+o.right-i.offsetWidth)/2))+"px";i.style.transform="translate("+h+","+l+")",i.classList.add("is-visible")}return!1}},{key:"hideAlternateKeys_",value:function(){var t=document.getElementById("mathlive-alternate-keys-panel");return t&&(t.classList.remove("is-visible"),t.innerHTML="",Ka(t)),!1}},{key:"performAlternateKeys_",value:function(t){return this.hideAlternateKeys_(),this.$perform(t)}},{key:"switchKeyboardLayer_",value:function(t){if("off"!==this.config.virtualKeyboardMode){"lower-command"!==t&&"upper-command"!==t&&"symbols-command"!==t&&this.complete_(),this.showVirtualKeyboard_(),this.hideAlternateKeys_(),this.unshiftKeyboardLayer_();for(var e=this.virtualKeyboard.getElementsByClassName("keyboard-layer"),i=!1,a=0;a<e.length;a++)if(e[a].dataset.layer===t){i=!0;break}if(i)for(var s=0;s<e.length;s++)e[s].dataset.layer===t?e[s].classList.add("is-visible"):e[s].classList.remove("is-visible");this.$focus()}return!0}},{key:"shiftKeyboardLayer_",value:function(){var t=this.virtualKeyboard.querySelectorAll("div.keyboard-layer.is-visible .rows .keycap, div.keyboard-layer.is-visible .rows .action");if(t)for(var e=0;e<t.length;e++){var i=t[e],a=i.getAttribute("data-shifted");if(a||/^[a-z]$/.test(i.innerHTML)){i.setAttribute("data-unshifted-content",i.innerHTML),a||(a=i.innerHTML.toUpperCase()),i.innerHTML=a;var s=i.getAttribute("data-"+this.config.namespace+"command");if(s){i.setAttribute("data-unshifted-command",s);var r=i.getAttribute("data-shifted-command");if(r)i.setAttribute("data-"+this.config.namespace+"command",r);else{var n=JSON.parse(s);Array.isArray(n)&&(n[1]=n[1].toUpperCase()),i.setAttribute("data-"+this.config.namespace+"command",JSON.stringify(n))}}}}return!1}},{key:"unshiftKeyboardLayer_",value:function(){var t=this.virtualKeyboard.querySelectorAll("div.keyboard-layer.is-visible .rows .keycap, div.keyboard-layer.is-visible .rows .action");if(t)for(var e=0;e<t.length;e++){var i=t[e],a=i.getAttribute("data-unshifted-content");a&&(i.innerHTML=a);var s=i.getAttribute("data-unshifted-command");s&&i.setAttribute("data-"+this.config.namespace+"command",s)}return!1}},{key:"insertAndUnshiftKeyboardLayer_",value:function(t){return this.$insert(t),this.unshiftKeyboardLayer_(),!0}},{key:"toggleVirtualKeyboardAlt_",value:function(){var t=!1;return this.virtualKeyboard&&(t=this.virtualKeyboard.classList.contains("material"),this.virtualKeyboard.remove(),delete this.virtualKeyboard,this.virtualKeyboard=null),this.showVirtualKeyboard_(t?"":"material"),!1}},{key:"toggleVirtualKeyboardShift_",value:function(){this.config.virtualKeyboardLayout={qwerty:"azerty",azerty:"qwertz",qwertz:"dvorak",dvorak:"colemak",colemak:"qwerty"}[this.config.virtualKeyboardLayout];var t=this.virtualKeyboard?this.virtualKeyboard.querySelector("div.keyboard-layer.is-visible"):null;return t=t?t.id:"",this.virtualKeyboard&&(this.virtualKeyboard.remove(),delete this.virtualKeyboard,this.virtualKeyboard=null),this.showVirtualKeyboard_(),t&&this.switchKeyboardLayer_(t),!1}},{key:"showVirtualKeyboard_",value:function(t){return this.virtualKeyboardVisible=!1,this.toggleVirtualKeyboard_(t),!1}},{key:"hideVirtualKeyboard_",value:function(){return this.virtualKeyboardVisible=!0,this.toggleVirtualKeyboard_(),!1}},{key:"toggleVirtualKeyboard_",value:function(t){if(this.virtualKeyboardVisible=!this.virtualKeyboardVisible,this.virtualKeyboardVisible){this.virtualKeyboard?this.virtualKeyboard.classList.add("is-visible"):(this.virtualKeyboard=Ti.make(this,t),Ba(this.virtualKeyboard,"touchstart:passive mousedown",function(){e.$focus()}),document.body.appendChild(this.virtualKeyboard));var e=this;window.setTimeout(function(){e.virtualKeyboard.classList.add("is-visible")},1)}else this.virtualKeyboard&&this.virtualKeyboard.classList.remove("is-visible");return"function"==typeof this.config.onVirtualKeyboardToggle&&this.config.onVirtualKeyboardToggle(this,this.virtualKeyboardVisible,this.virtualKeyboard),!1}},{key:"$applyStyle",value:function(t){if(this._resetKeystrokeBuffer(),(t=function(t){var e={};return"string"==typeof t.mode&&(e.mode=t.mode.toLowerCase()),"string"==typeof t.color&&(e.color=t.color),"string"==typeof t.backgroundColor&&(e.backgroundColor=t.backgroundColor),"string"==typeof t.fontFamily&&(e.fontFamily=t.fontFamily),"string"==typeof t.series&&(e.fontSeries=t.series),"string"==typeof t.fontSeries&&(e.fontSeries=t.fontSeries.toLowerCase()),e.fontSeries&&(e.fontSeries={bold:"b",medium:"m",normal:"mn"}[e.fontSeries]||e.fontSeries),"string"==typeof t.shape&&(e.fontShape=t.shape),"string"==typeof t.fontShape&&(e.fontShape=t.fontShape.toLowerCase()),e.fontShape&&(e.fontShape={italic:"it",up:"n",upright:"n",normal:"n"}[e.fontShape]||e.fontShape),"string"==typeof t.size?e.fontSize=t.size:"number"==typeof t.size&&(e.fontSize="size"+Math.min(0,Math.max(10,t.size))),"string"==typeof t.fontSize&&(e.fontSize=t.fontSize.toLowerCase()),e.fontSize&&(e.fontSize={tiny:"size1",scriptsize:"size2",footnotesize:"size3",small:"size4",normal:"size5",normalsize:"size5",large:"size6",Large:"size7",LARGE:"size8",huge:"size9",Huge:"size10"}[e.fontSize]||e.fontSize),e}(t)).mode){if(this.mathlist.isCollapsed())this.switchMode_(t.mode);else{var e=this.mode,i="math"===(this.mathlist.anchorMode()||this.config.default)?"text":"math",a=this.$selectedText("ASCIIMath");if("math"===i&&/^"[^"]+"$/.test(a)&&(a=a.slice(1,-1)),this.$insert(a,{mode:i,selectionMode:"item",format:"text"===i?"text":"ASCIIMath"}),this.mode=i,this.groupIsSelected()){var s=this.mathlist.parent();!s||"group"!==s.type&&"root"!==s.type||(s.mode=i)}this.mode!==e&&"function"==typeof this.config.onModeChange&&this.config.onModeChange(this,this.mode)}delete t.mode}return this.mathlist.isCollapsed()?(this.style.fontSeries&&t.fontSeries===this.style.fontSeries&&(t.fontSeries="auto"),t.fontShape&&t.fontShape===this.style.fontShape&&(t.fontShape="auto"),t.color&&t.color===this.style.color&&(t.color="none"),t.backgroundColor&&t.backgroundColor===this.style.backgroundColor&&(t.backgroundColor="none"),t.fontSize&&t.fontSize===this.style.fontSize&&(t.fontSize="auto"),this.style=o(o({},this.style),t)):(this.mathlist._applyStyle(t),this.undoManager.snapshot(this.config)),!0}},{key:"$hasFocus",value:function(){return document.hasFocus()&&document.activeElement===this.textarea}},{key:"$focus",value:function(){this.$hasFocus()||(this.textarea.focus&&this.textarea.focus(),this._announce("line"))}},{key:"$blur",value:function(){this.$hasFocus()&&this.textarea.blur&&this.textarea.blur()}},{key:"$select",value:function(){this.mathlist.selectAll_()}},{key:"$clearSelection",value:function(){this.mathlist.delete_()}},{key:"$keystroke",value:function(t,e){return this._onKeystroke(t,e)}},{key:"$typedText",value:function(t){this._onTypedText(t)}},{key:"typedText_",value:function(t,e){return this._onTypedText(t,e)}},{key:"$setConfig",value:function(t){if(this.config||(this.config={smartFence:!0,smartSuperscript:!0,scriptDepth:[1/0,1/0],removeExtraneousParentheses:!0,overrideDefaultInlineShortcuts:!1,virtualKeyboard:"",virtualKeyboardLayout:"qwerty",namespace:""}),this.config=o(o({},this.config),t),void 0!==this.config.scriptDepth&&!Array.isArray(this.config.scriptDepth)){var e=parseInt(this.config.scriptDepth);this.config.scriptDepth=[e,e]}if(void 0===this.config.removeExtraneousParentheses&&(this.config.removeExtraneousParentheses=!0),this.config.onAnnounce=t.onAnnounce||Ua,this.config.macros=Object.assign({},Vt.MACROS,this.config.macros),!/^[a-z]*[-]?$/.test(this.config.namespace))throw Error("options.namespace must be a string of lowercase characters only");/-$/.test(this.config.namespace)||(this.config.namespace+="-"),bi.locale=this.config.locale||bi.locale,bi.merge(this.config.strings),this.config.virtualKeyboardLayout=t.virtualKeyboardLayout||{fr:"azerty",be:"azerty",al:"qwertz",ba:"qwertz",cz:"qwertz",de:"qwertz",hu:"qwertz",sk:"qwertz",ch:"qwertz"}[bi.locale.substring(0,2)]||"qwerty",this.keypressSound=void 0,this.spacebarKeypressSound=void 0,this.returnKeypressSound=void 0,this.deleteKeypressSound=void 0,this.config.keypressSound&&("string"==typeof this.config.keypressSound?(this.keypressSound=new Audio,this.keypressSound.preload="none",this.keypressSound.src=this.config.keypressSound,this.keypressSound.volume=Pa,this.spacebarKeypressSound=this.keypressSound,this.returnKeypressSound=this.keypressSound,this.deleteKeypressSound=this.keypressSound):(this.keypressSound=new Audio,this.keypressSound.preload="none",this.keypressSound.src=this.config.keypressSound.default,this.keypressSound.volume=Pa,this.spacebarKeypressSound=this.keypressSound,this.returnKeypressSound=this.keypressSound,this.deleteKeypressSound=this.keypressSound,this.config.keypressSound.spacebar&&(this.spacebarKeypressSound=new Audio,this.spacebarKeypressSound.preload="none",this.spacebarKeypressSound.src=this.config.keypressSound.spacebar,this.spacebarKeypressSound.volume=Pa),this.config.keypressSound.return&&(this.returnKeypressSound=new Audio,this.returnKeypressSound.preload="none",this.returnKeypressSound.src=this.config.keypressSound.return,this.returnKeypressSound.volume=Pa),this.config.keypressSound.delete&&(this.deleteKeypressSound=new Audio,this.deleteKeypressSound.preload="none",this.deleteKeypressSound.src=this.config.keypressSound.delete,this.deleteKeypressSound.volume=Pa))),this.config.plonkSound&&(this.plonkSound=new Audio,this.plonkSound.preload="none",this.plonkSound.src=this.config.plonkSound,this.plonkSound.volume=Pa)}},{key:"speak_",value:function(t,e){e=e||{withHighlighting:!1};var i=function(t,e){var i=null;switch(e){case"all":i=t.mathlist.root;break;case"selection":t.mathlist.isCollapsed()||(i=t.mathlist.getSelectedAtoms());break;case"left":var a=t.mathlist.siblings(),s=t.mathlist.startOffset();if(s>=1){i=[];for(var r=1;r<=s;r++)i.push(a[r])}break;case"right":var n=t.mathlist.siblings(),o=t.mathlist.endOffset()+1;if(o<=n.length-1){i=[];for(var l=o;l<=n.length-1;l++)i.push(n[l])}break;case"start":case"end":break;case"group":i=t.mathlist.siblings();break;case"parent":var h=t.mathlist.parent();h&&"root"!==h.type&&(i=t.mathlist.parent());break}return i}(this,t);if(null===i)return this.config.handleSpeak(function(t){var e="";switch(t){case"all":break;case"selection":e="no selection";break;case"left":e="at start";break;case"right":e="at end";break;case"group":break;case"parent":e="no parent"}return e}(t)),!1;var a=o({},this.config);(e.withHighlighting||"amazon"===a.speechEngine)&&(a.textToSpeechMarkup=window.sre&&"sre"===a.textToSpeechRules?"ssml_step":"ssml",e.withHighlighting&&(a.generateID=!0));var s=ke.toSpeakableText(i,a);return e.withHighlighting?(window.mathlive.readAloudMathField=this,this._render({forHighlighting:!0}),this.config.handleReadAloud&&this.config.handleReadAloud(this.field,s,this.config)):this.config.handleSpeak&&this.config.handleSpeak(s,a),!1}}])}(),Ha=0;function Va(t,e,i){var a=Object.assign({},t.config);return a.textToSpeechMarkup="",a.textToSpeechRulesOptions=a.textToSpeechRulesOptions||{},a.textToSpeechRulesOptions.markup="none",e+ke.toSpeakableText(i,a)}function Ua(t,e,i,a){var s="";"plonk"===e?(t.plonkSound&&(t.plonkSound.load(),t.plonkSound.play().catch(function(t){})),t._resetKeystrokeBuffer()):"delete"===e?s=Va(t,"deleted: ",a):"focus"===e||/move/.test(e)?s=(t.mathlist.isCollapsed()?"":"selected: ")+t._nextAtomSpeechText(i):"replacement"===e?s=Va(t,"",t.mathlist.sibling(0)):"line"===e?(s=Va(t,"",t.mathlist.root),t.accessibleNode.innerHTML='<math xmlns="http://www.w3.org/1998/Math/MathML">'+ke.toMathML(t.mathlist.root,t.config)+"</math>",t.textarea.setAttribute("aria-label","after: "+s)):s=a?Va(t,e+" ",a):e;var r=/\u00a0/.test(t.ariaLiveText.textContent)?"  ":"   ";t.ariaLiveText.textContent=s+r}$a.prototype.undo_=$a.prototype.undo,$a.prototype.redo_=$a.prototype.redo,$a.prototype.scrollIntoView_=$a.prototype.scrollIntoView,$a.prototype.scrollToStart_=$a.prototype.scrollToStart,$a.prototype.scrollToEnd_=$a.prototype.scrollToEnd,$a.prototype.insert_=$a.prototype.$insert;var ja={isValidMathfield:Na,MathField:$a};function Ga(t,e,i){for(var a=i,s=0,r=t.length;a<e.length;){var n=e[a];if(s<=0&&e.slice(a,a+r)===t)return a;"\\"===n?a++:"{"===n?s++:"}"===n&&s--,a++}return-1}function Za(t,e,i,a){for(var s=[],r=0;r<t.length;r++)if("text"===t[r].type){var n=t[r].data,o=void 0,l=!0,h=0;o=n.indexOf(e),-1!==o&&(h=o,h>0&&s.push({type:"text",data:n.slice(0,h)}),l=!1);for(var c=!1;!c;){if(l){if(o=n.indexOf(e,h),-1===o){c=!0;break}h!==o&&s.push({type:"text",data:n.slice(h,o)}),h=o}else{if(o=Ga(i,n,h+e.length),-1===o){c=!0;break}s.push({type:"math",data:n.slice(h+e.length,o),rawData:n.slice(h,o+i.length),mathstyle:a}),h=o+i.length}l=!l}h<n.length&&s.push({type:"text",data:n.slice(h)})}else s.push(t[r]);return s}function Xa(t,e){for(var i=[{type:"text",data:t}],a=0;a<e.inline.length;a++){var s=e.inline[a];i=Za(i,s[0],s[1],"textstyle")}for(var r=0;r<e.display.length;r++){var n=e.display[r];i=Za(i,n[0],n[1],"displaystyle")}return i}function Ja(t,e,i,a){var s=function(t,e,i,a){var s=document.createElement("span");s.setAttribute("aria-hidden","true"),e.preserveOriginalContent&&(s.setAttribute("data-"+e.namespace+"original-content",t),i&&s.setAttribute("data-"+e.namespace+"original-mathstyle",i));try{s.innerHTML=e.renderToMarkup(t,i||"displaystyle","html",e.macros)}catch(e){if(!a)return null;s=document.createTextNode(t)}return s}(t,i,e,a);if(s&&/\b(mathml|speakable-text)\b/i.test(i.renderAccessibleContent)){var r=document.createDocumentFragment();if(/\bmathml\b/i.test(i.renderAccessibleContent)&&i.renderToMathML&&r.appendChild(function(t,e){var i=document.createElement("span");try{i.innerHTML="<math xmlns='http://www.w3.org/1998/Math/MathML'>"+e.renderToMathML(t,e)+"</math>"}catch(e){i.textContent=t}return i.className="sr-only",i}(t,i)),/\bspeakable-text\b/i.test(i.renderAccessibleContent)&&i.renderToSpeakableText){var n=document.createElement("span");n.innerHTML=i.renderToSpeakableText(t,i),n.className="sr-only",r.appendChild(n)}return r.appendChild(s),r}return s}function Ya(t,e){var i=null;if(e.TeX.processEnvironments&&/^\s*\\begin/.test(t))i=document.createDocumentFragment(),i.appendChild(Ja(t,void 0,e,!0));else{var a=Xa(t,e.TeX.delimiters);if(1===a.length&&"text"===a[0].type)return null;i=document.createDocumentFragment();for(var s=0;s<a.length;s++)"text"===a[s].type?i.appendChild(document.createTextNode(a[s].data)):i.appendChild(Ja(a[s].data,a[s].mathstyle,e,!0))}return i}var Qa={namespace:"",skipTags:["noscript","style","textarea","pre","code","annotation","annotation-xml"],processScriptType:"math/tex",ignoreClass:"tex2jax_ignore",processClass:"tex2jax_process",preserveOriginalContent:!0,renderAccessibleContent:"mathml",TeX:{disabled:!1,processEnvironments:!0,delimiters:{inline:[["\\(","\\)"]],display:[["$$","$$"],["\\[","\\]"]]}}},ts={renderMathInElement:function(t,e){try{if((e=Object.assign({},Qa,e)).ignoreClassPattern=new RegExp(e.ignoreClass),e.processClassPattern=new RegExp(e.processClass),e.processScriptTypePattern=new RegExp(e.processScriptType),e.macros=Vt.MACROS,e.namespace){if(!/^[a-z]+[-]?$/.test(e.namespace))throw Error("options.namespace must be a string of lowercase characters only");/-$/.test(e.namespace)||(e.namespace+="-")}!function t(e,i){var a=e.getAttribute("data-"+i.namespace+"original-content");if(a){var s=Ja(a,e.getAttribute("data-"+i.namespace+"mathstyle"),i,!1);null!=s&&(e.textContent="",e.appendChild(s))}else{if(1===e.childNodes.length&&3===e.childNodes[0].nodeType){var r=e.childNodes[0].textContent;if(i.TeX.processEnvironments&&/^\s*\\begin/.test(r))return e.textContent="",void e.appendChild(Ja(r,void 0,i,!0));var n=Xa(r,i.TeX.delimiters);if(1===n.length&&"math"===n[0].type)return e.textContent="",void e.appendChild(Ja(n[0].data,n[0].mathstyle,i,!0));if(1===n.length&&"text"===n[0].type)return}for(var o=0;o<e.childNodes.length;o++){var l=e.childNodes[o];if(3===l.nodeType){var h=Ya(l.textContent,i);h&&(o+=h.childNodes.length-1,e.replaceChild(h,l))}else if(1===l.nodeType){var d=l.nodeName.toLowerCase();if("script"===d&&i.processScriptTypePattern.test(l.type)){var u,p="displaystyle",m=c(l.type.split(";"));try{for(m.s();!(u=m.n()).done;){var f=u.value,y=f.split("=");"mode"===y[0].toLowerCase()&&(p="display"===y[1].toLoweCase()?"displaystyle":"textstyle")}}catch(t){m.e(t)}finally{m.f()}var g=Ja(l.textContent,p,i,!0);l.parentNode.replaceChild(g,l)}else(i.processClassPattern.test(l.className)||!i.skipTags.includes(d)&&!i.ignoreClassPattern.test(l.className))&&t(l,i)}}}}(t,e)}catch(t){Error}}};function es(t,e,i,a){e=e||"displaystyle";var s=C.tokenize(t),r=Te.parseTokens(s,"math",null,a);if("mathlist"===i)return r;var n=ke.decompose({mathstyle:e},r);if(n=ht.coalesce(n),"span"===i)return n;var o=ht.makeSpan(n,"ML__base"),l=ht.makeSpan("","ML__strut");l.setStyle("height",o.height,"em");var h=[l];if(0!==o.depth){var c=ht.makeSpan("","ML__strut--bottom");c.setStyle("height",o.height+o.depth,"em"),c.setStyle("vertical-align",-o.depth,"em"),h.push(c)}return h.push(o),ht.makeSpan(h,"ML__mathlive").toMarkup()}function is(t,e){if(!ke.toMathML)return"";(e=e||{}).macros=e.macros||{},Object.assign(e.macros,Vt.MACROS);var i=Te.parseTokens(C.tokenize(t),"math",null,e.macros);return ke.toMathML(i,e)}function as(t,e){if(!ke.toSpeakableText)return"";(e=e||{}).macros=e.macros||{},Object.assign(e.macros,Vt.MACROS);var i=Te.parseTokens(C.tokenize(t),"math",null,e.macros);return ke.toSpeakableText(i,e)}function ss(t,e){if(!e&&window&&window.mathlive&&(e=window.mathlive.config),(e=e||{}).speechEngine&&"local"!==e.speechEngine)if("amazon"===e.speechEngine){if(window&&window.AWS){var i=new window.AWS.Polly({apiVersion:"2016-06-10"}),a={OutputFormat:"mp3",VoiceId:e.speechEngineVoice||"Joanna",Text:t,TextType:"ssml"};i.synthesizeSpeech(a,function(t,e){if(t);else if(e&&e.AudioStream){var i=new Uint8Array(e.AudioStream),a=new Blob([i.buffer],{type:"audio/mpeg"}),s=URL.createObjectURL(a);new Audio(s).play().catch(function(t){})}})}}else e.speechEngine;else{var s=new SpeechSynthesisUtterance(t);window&&window.speechSynthesis.speak(s)}}function rs(t,e,i){if(window)if(!i&&window.mathlive&&(i=window.mathlive.config),"amazon"===(i=i||{}).speechEngine){if(window.AWS){var a=new window.AWS.Polly({apiVersion:"2016-06-10"}),s={OutputFormat:"json",VoiceId:i.speechEngineVoice||"Joanna",Text:e,TextType:"ssml",SpeechMarkTypes:["ssml"]};window.mathlive=window.mathlive||{},window.mathlive.readAloudElement=t;var r=i.onReadAloudStatus||window.mathlive.onReadAloudStatus;a.synthesizeSpeech(s,function(t,e){if(t);else if(e&&e.AudioStream){var i=new TextDecoder("utf-8").decode(new Uint8Array(e.AudioStream));window.mathlive.readAloudMarks=i.split("\n").map(function(t){return t?JSON.parse(t):{}}),window.mathlive.readAloudTokens=[];var n,o=c(window.mathlive.readAloudMarks);try{for(o.s();!(n=o.n()).done;){var l=n.value;l.value&&window.mathlive.readAloudTokens.push(l.value)}}catch(t){o.e(t)}finally{o.f()}window.mathlive.readAloudCurrentMark="",s.OutputFormat="mp3",s.SpeechMarkTypes=[],a.synthesizeSpeech(s,function(t,e){if(t);else if(e&&e.AudioStream){var i=new Uint8Array(e.AudioStream),a=new Blob([i.buffer],{type:"audio/mpeg"}),s=URL.createObjectURL(a);window.mathlive.readAloudAudio?window.mathlive.readAloudAudio.pause():(window.mathlive.readAloudAudio=new Audio,window.mathlive.readAloudAudio.addEventListener("ended",function(){r&&r(window.mathlive.readAloudMathField,"ended"),window.mathlive.readAloudMathField?(window.mathlive.readAloudMathField._render(),window.mathlive.readAloudElement=null,window.mathlive.readAloudMathField=null,window.mathlive.readAloudTokens=[],window.mathlive.readAloudMarks=[],window.mathlive.readAloudCurrentMark=""):function t(e){e.classList.remove("highlight"),e.children&&Array.from(e.children).forEach(function(e){t(e)})}(window.mathlive.readAloudElement)}),window.mathlive.readAloudAudio.addEventListener("timeupdate",function(){var t,e="",i=1e3*window.mathlive.readAloudAudio.currentTime+100,a=c(window.mathlive.readAloudMarks);try{for(a.s();!(t=a.n()).done;){var s=t.value;s.time<i&&(e=s.value)}}catch(t){a.e(t)}finally{a.f()}window.mathlive.readAloudCurrentMark!==e&&(window.mathlive.readAloudCurrentToken=e,e&&e===window.mathlive.readAloudFinalToken?window.mathlive.readAloudAudio.pause():(window.mathlive.readAloudCurrentMark=e,function t(e,i){i&&e.dataset.atomId!==i?(e.classList.remove("highlight"),e.children&&e.children.length>0&&Array.from(e.children).forEach(function(e){t(e,i)})):(e.classList.add("highlight"),e.children&&e.children.length>0&&Array.from(e.children).forEach(function(e){t(e)}))}(window.mathlive.readAloudElement,window.mathlive.readAloudCurrentMark)))})),window.mathlive.readAloudAudio.src=s,r&&r(window.mathlive.readAloudMathField,"playing"),window.mathlive.readAloudAudio.play()}})}})}}else i.handleSpeak&&i.handleSpeak(e)}function ns(t){var e=t;if("string"==typeof t&&(e=document.getElementById(t),!e))throw Error('The element with ID "'.concat(t,'" could not be found.'));return e}function os(t,e){ts&&((e=e||{}).renderToMarkup=e.renderToMarkup||es,e.renderToMathML=e.renderToMathML||is,e.renderToSpeakableText=e.renderToSpeakableText||as,e.macros=e.macros||Vt.MACROS,ts.renderMathInElement(ns(t),e))}function ls(t){if(t.namespace){if(!/^[a-z]+[-]?$/.test(t.namespace))throw Error("options.namespace must be a string of lowercase characters only");/-$/.test(t.namespace)||(t.namespace+="-")}}return{latexToMarkup:es,latexToMathML:is,latexToSpeakableText:as,latexToAST:function(t,e){if(!ke.toAST)return{};(e=e||{}).macros=e.macros||{},Object.assign(e.macros,Vt.MACROS);var i=Te.parseTokens(C.tokenize(t),"math",null,e.macros);return ke.toAST(i,e)},astToLatex:function(t,e){return Da(t,e)},makeMathField:function(t,e){if(!ja)throw Error("The MathField module is not loaded.");return(e=e||{}).handleSpeak=e.handleSpeak||ss,e.handleReadAloud=e.handleReadAloud||rs,new ja.MathField(ns(t),e)},renderMathInDocument:function(t){os(document.body,t)},renderMathInElement:os,revertToOriginalContent:function(t,e){(t=(t=ns(t)).children[1])instanceof ja.MathField?t.revertToOriginalContent():(ls(e=e||{}),t.innerHTML=t.getAttribute("data-"+(e.namespace||"")+"original-content"))},getOriginalContent:function(t,e){return(t=(t=ns(t)).children[1])instanceof ja.MathField?t.originalContent:(ls(e=e||{}),t.getAttribute("data-"+(e.namespace||"")+"original-content"))},readAloud:rs,readAloudStatus:function(){return window?(window.mathlive=window.mathlive||{},window.mathlive.readAloudAudio?window.mathlive.readAloudAudio.paused?"paused":window.mathlive.readAloudAudio.ended?"ready":"playing":"ready"):"unavailable"},pauseReadAloud:function(){window&&(window.mathlive=window.mathlive||{},window.mathlive.readAloudAudio&&(window.mathlive.onReadAloudStatus&&window.mathlive.onReadAloudStatus(window.mathlive.readAloudMathField,"paused"),window.mathlive.readAloudAudio.pause()))},resumeReadAloud:function(){window&&(window.mathlive=window.mathlive||{},window.mathlive.readAloudAudio&&(window.mathlive.onReadAloudStatus&&window.mathlive.onReadAloudStatus(window.mathlive.readAloudMathField,"playing"),window.mathlive.readAloudAudio.play()))},playReadAloud:function(t,e){if(window&&(window.mathlive=window.mathlive||{},window.mathlive.readAloudAudio)){var i=0;if(window.mathlive.readAloudFinalToken=null,t){window.mathlive.readAloudMarks=window.mathlive.readAloudMarks||[];var a,s=c(window.mathlive.readAloudMarks);try{for(s.s();!(a=s.n()).done;){var r=a.value;r.value===t&&(i=r.time/1e3)}}catch(t){s.e(t)}finally{s.f()}var n=window.mathlive.readAloudTokens.indexOf(t);n>=0&&(n+=e,n<window.mathlive.readAloudTokens.length&&(window.mathlive.readAloudFinalToken=n))}window.mathlive.readAloudAudio.currentTime=i,window.mathlive.onReadAloudStatus&&window.mathlive.onReadAloudStatus(window.mathlive.readAloudMathField,"playing"),window.mathlive.readAloudAudio.play()}}}},"object"==h(e)?t.exports=r():(a=r,s="function"===typeof a?a.call(e,i,e,t):a,void 0===s||(t.exports=s))},11410:function(t,e,i){"use strict";i.r(e)}}]);