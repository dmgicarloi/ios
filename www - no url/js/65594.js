"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[65594],{65594:function(a,e,n){n.r(e),n.d(e,{default:function(){return A}});var t=n(61758),i=n(58790);function o(a,e){var n=(0,t.g2)("q-td"),o=(0,t.g2)("q-btn"),r=(0,t.g2)("q-table"),l=(0,t.g2)("q-page");return(0,t.uX)(),(0,t.Wv)(l,{class:"q-pa-sm"},{default:(0,t.k6)(function(){return[(0,t.bF)(r,{class:"bg-white",pagination:a.pagination,"onUpdate:pagination":e[0]||(e[0]=function(e){return a.pagination=e}),data:a.data,columns:a.columns,"row-key":"name"},{"body-cell-FH_ACTIVIDAD_I":(0,t.k6)(function(e){return[(0,t.bF)(n,{props:e},{default:(0,t.k6)(function(){return[(0,t.Lk)("span",null,(0,i.v_)(a.date(e.value,"DD/MM/YYYY hh:mm:ss a")),1)]}),_:2},1032,["props"])]}),"body-cell-ACTION":(0,t.k6)(function(e){return[(0,t.bF)(n,{props:e},{default:(0,t.k6)(function(){return[null===e.row.ACEPTADO?((0,t.uX)(),(0,t.Wv)(o,{key:0,class:"capitalize q-pa-sm q-mr-sm q-mb-xs",style:{width:"80px"},color:"negative",label:"Rechazar",dense:"",onClick:function(n){return a.grabarRespuesta(e.row,0)}},null,8,["onClick"])):(0,t.Q3)("v-if",!0),"1   "===e.row.ACEPTADO||null===e.row.ACEPTADO?((0,t.uX)(),(0,t.Wv)(o,{key:1,class:"capitalize q-pa-sm q-mb-xs",color:"1   "===e.row.ACEPTADO?"light":"secondary",disable:"1   "===e.row.ACEPTADO,style:{width:"80px"},label:"Aceptar",dense:"",onClick:function(n){return a.grabarRespuesta(e.row,1)}},null,8,["color","disable","onClick"])):(0,t.Q3)("v-if",!0)]}),_:2},1032,["props"])]}),"body-cell-icon":(0,t.k6)(function(a){return[(0,t.bF)(n,{props:a},null,8,["props"])]}),_:1},8,["pagination","data","columns"])]}),_:1})}n(50310),n(90095),n(83190),n(27153),n(13715);var r=n(6123),l=n(80660),c=n(69027),s=n(982),u=n(18105),d=n(57668),p={components:{QTable:r.kH,QTr:r.qh,QTd:r.Ef,dialogConfirm:c.dialogConfirm,QTooltip:r.nC,QPage:r.Tu,QBtn:r.Il},data:function(){return{sie:(0,d["default"])(),data:[],pagination:{page:1,rowsPerPage:10},columns:[{name:"DESCRIPCION",label:"Descripción",align:"center",field:"DESCRIPCION",sortable:!0},{name:"FH_ACTIVIDAD_I",label:"Fecha y hora de actividad",align:"left",field:"FH_ACTIVIDAD_I",sortable:!0},{name:"USUNOM",label:"Usuario",align:"left",field:"USUNOM",sortable:!0},{name:"ACTION",label:"",align:"left"},{name:"icon",align:"center"}]}},methods:{date:u.Ay,aceptaRechazaInvitacion:function(a){var e=a.estado,n=a.id;return new Promise(function(a){return l.$http.get("api/HyoActividadparticipante/actualizarAceptado",{params:{estado:e,id:n}}).then(function(a){var e=a.res;console.log(e)})})},grabarRespuesta:function(a,e){var n=this,t=1===e?"¿Esta seguro de aceptar la invitación?":"¿Esta seguro de rechazar la invitación?",i={estado:e,id:a.ID_ACTIVIDAD_PARTICIPANTE};(0,c.dialogConfirm)({title:t,message:"Este cambio no se podrá revertir"}).then(function(a){return a?l.$http.get("api/HyoActividadparticipante/actualizarAceptado",{params:i}):{}}).then(function(e){var t=e.json;t&&t.length>0&&("e0006"!==t&&(a.ACEPTADO="0  "),(0,s["default"])(n.$t("mensajes.".concat(t))))}).catch(function(a){var e=a.json;(0,s["default"])(n.$t("mensajes.".concat(e)))})}},created:function(){var a=this;l.$http.get("api/HyoActividadparticipante/obtInvitacion").then(function(e){var n=e.json;n.forEach(function(e){e.qr=a.sie.api+"/HyoUsuario/getCodeQR/?text="+e.ID_ACTIVIDAD_PARTICIPANTE+"&sie-token="+a.sie.token}),a.data=n})}},f=n(12807);const g=(0,f.A)(p,[["render",o]]);var A=g}}]);