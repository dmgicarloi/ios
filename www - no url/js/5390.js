"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[5390],{5390:function(e,a,n){n.r(a),n.d(a,{default:function(){return K}});var l=n(61758),o={class:"q-pa-sm col column"},t={class:"row"},r={class:"col-10"},s={class:"row q-ma-sm"},i={class:"col-md-4 col-xs-12 q-pa-xs"},c={class:"col-md-4 col-xs-12 q-pa-xs"},u={class:"col-md-4 col-xs-12"},d={class:"row"},m={class:"col-11 q-pa-xs"},f={class:"col-1 q-pa-xs"},b={class:"col-md-4 col-xs-12 q-pa-xs"},p={class:"col-md-4 col-xs-12 q-pa-xs"},A={class:"row"},g={class:"col-4 q-pa-sm"},S={class:"col-4 q-pa-sm"},E={class:"col-4 q-pa-sm"},v={class:"col-4 q-pa-sm"},h={class:"row"},C={class:"col-12"},D={class:"row"},O={class:"col-6 q-pa-sm"},V={class:"col-6 q-pa-sm"},w={class:"col-12 q-pa-xs"},F={class:"col-12 q-pa-xs"};function k(e,a){var n=this,k=(0,l.g2)("header-btn"),R=(0,l.g2)("q-input"),I=(0,l.g2)("q-btn"),N=(0,l.g2)("q-separator"),L=(0,l.g2)("q-card-section"),q=(0,l.g2)("q-tab"),P=(0,l.g2)("q-tab-pane"),x=(0,l.g2)("sie-table"),M=(0,l.g2)("q-tabs"),T=(0,l.g2)("sie-modal"),H=(0,l.g2)("q-card"),U=(0,l.g2)("q-page");return(0,l.uX)(),(0,l.Wv)(U,{class:"datosMedicosDetalle"},{default:(0,l.k6)(function(){return[(0,l.Lk)("div",o,[(0,l.bF)(H,{class:"col column",flat:"",bordered:"",dense:""},{default:(0,l.k6)(function(){return[(0,l.bF)(k,{name:"Datos Generales",buttons:e.buttons},null,8,["buttons"]),(0,l.bF)(L,null,{default:(0,l.k6)(function(){return[(0,l.Lk)("div",t,[(0,l.Lk)("div",r,[(0,l.Lk)("div",s,[(0,l.Lk)("div",i,[(0,l.bF)(R,{disable:"",modelValue:e.form.NOMCOMP,"onUpdate:modelValue":a[0]||(a[0]=function(a){return e.form.NOMCOMP=a}),label:"Nombres"},null,8,["modelValue"])]),(0,l.Lk)("div",c,[(0,l.bF)(R,{disable:"",modelValue:e.form.nrodoc,"onUpdate:modelValue":a[1]||(a[1]=function(a){return e.form.nrodoc=a}),label:"Num Documento"},null,8,["modelValue"])]),(0,l.Lk)("div",u,[(0,l.Lk)("div",d,[(0,l.Lk)("div",m,[(0,l.bF)(R,{disable:"",modelValue:e.form.SANDES,"onUpdate:modelValue":a[2]||(a[2]=function(a){return e.form.SANDES=a}),label:"Grupo Sanguineo"},null,8,["modelValue"])]),(0,l.Lk)("div",f,[(0,l.bF)(I,{round:"",dense:"",icon:"edit",size:"sm",color:"primary",onClick:e.cambiarGrupoSanguineo},null,8,["onClick"])])])]),(0,l.Lk)("div",b,[(0,l.bF)(R,{disable:"",modelValue:e.form.telefono,"onUpdate:modelValue":a[3]||(a[3]=function(a){return e.form.telefono=a}),label:"Telefono"},null,8,["modelValue"])]),(0,l.Lk)("div",p,[(0,l.bF)(R,{disable:"",modelValue:e.form.telemergencia,"onUpdate:modelValue":a[4]||(a[4]=function(a){return e.form.telemergencia=a}),label:"Telefono Emergencia"},null,8,["modelValue"])])])]),a[11]||(a[11]=(0,l.Lk)("div",{class:"col-2"},[(0,l.Lk)("img",{src:"https://web09.sieweb.com.pe/images/student_male.png",alt:"usuario"})],-1))]),(0,l.bF)(N)]}),_:1}),(0,l.bF)(L,null,{default:(0,l.k6)(function(){return[(0,l.bF)(M,{class:"col q-tabs-flex",inverted:"",animated:""},{title:(0,l.k6)(function(){return[(0,l.bF)(q,{name:"salud",label:"Salud",default:""}),(0,l.bF)(q,{name:"atenciones",label:"Atenciones"}),(0,l.bF)(q,{name:"vacunas",label:"PRUEBAS / VACUNAS (COVID)"})]}),default:(0,l.k6)(function(){return[(0,l.bF)(P,{name:"salud"},{default:(0,l.k6)(function(){return[(0,l.Lk)("div",A,[(0,l.Lk)("div",g,[(0,l.bF)(R,{label:"Alergias",modelValue:e.form.ALERGIAS,"onUpdate:modelValue":a[5]||(a[5]=function(a){return e.form.ALERGIAS=a}),type:"textarea",onInput:e.cambiado},null,8,["modelValue","onInput"])]),(0,l.Lk)("div",S,[(0,l.bF)(R,{modelValue:e.form.MEDICAMENTOS,"onUpdate:modelValue":a[6]||(a[6]=function(a){return e.form.MEDICAMENTOS=a}),label:"Medicamentos Usados",type:"textarea",onInput:e.cambiado},null,8,["modelValue","onInput"])]),(0,l.Lk)("div",E,[(0,l.bF)(R,{modelValue:e.form.OPERACIONES,"onUpdate:modelValue":a[7]||(a[7]=function(a){return e.form.OPERACIONES=a}),label:"Operaciones",type:"textarea",onInput:e.cambiado},null,8,["modelValue","onInput"])]),(0,l.Lk)("div",v,[(0,l.bF)(R,{modelValue:e.form.ENFERMEDADES,"onUpdate:modelValue":a[8]||(a[8]=function(a){return e.form.ENFERMEDADES=a}),label:"Enfermedades",type:"textarea",onInput:e.cambiado},null,8,["modelValue","onInput"])])])]}),_:1}),(0,l.bF)(P,{name:"atenciones"},{default:(0,l.k6)(function(){return[(0,l.Lk)("div",h,[(0,l.Lk)("div",C,[(0,l.bF)(x,{columns:e.fields,data:e.rows,context:n,config:e.config},null,8,["columns","data","config"])])])]}),_:1}),(0,l.bF)(P,{name:"vacunas"},{default:(0,l.k6)(function(){return[(0,l.Lk)("div",D,[(0,l.Lk)("div",O,[a[12]||(a[12]=(0,l.Lk)("p",{class:"q-pa-sm text-h5 text-bold"},"VACUNAS COVID",-1)),(0,l.bF)(N),(0,l.bF)(x,{class:"q-ma-sm","show-search":!1,columns:e.fieldsVacunas,data:e.rowsVacunas,context:n,config:e.config},null,8,["columns","data","config"])]),(0,l.Lk)("div",V,[a[13]||(a[13]=(0,l.Lk)("p",{class:"q-pa-sm text-h5 text-bold"},"PRUEBAS COVID",-1)),(0,l.bF)(N),(0,l.bF)(x,{class:"q-ma-sm","show-search":!1,columns:e.fieldsPruebas,data:e.rowsPruebas,context:n,config:e.config},null,8,["columns","data","config"])])])]}),_:1})]}),_:1})]}),_:1}),(0,l.bF)(T,{class:"q-ma-sm",modelValue:e.modalSangre,"onUpdate:modelValue":a[10]||(a[10]=function(a){return e.modalSangre=a}),footer:!1,title:"Grupo Sanguineo"},{default:(0,l.k6)(function(){return[(0,l.Lk)("div",w,[(0,l.bF)(R,{disable:"",modelValue:e.form.NOMCOMP,"onUpdate:modelValue":a[9]||(a[9]=function(a){return e.form.NOMCOMP=a}),label:"Nombres"},null,8,["modelValue"])]),(0,l.Lk)("div",F,[(0,l.bF)(x,{class:"q-ma-sm","show-search":!1,columns:e.bloodFields,onRowSelected:e.rowSelected,data:e.bloodRows,context:n,config:e.config},null,8,["columns","onRowSelected","data","config"])])]}),_:1},8,["modelValue"])]}),_:1})])]}),_:1})}var R=n(76080),I=n.n(R),N=n(45254),L=n.n(N),q=n(57008),P=n.n(q),x=(n(52133),n(10239),n(23513),n(50310),n(6724),n(83190),n(6123)),M=n(10213),T=n(53380),H=n(982),U=n(88567),G=n(95718),_=n(11654),y=n(9736),Q=n(16648),$=n(53811),B=n(43346),z=n(50645),W=n(33777),X=n(2819),Y=n(57668),Z={name:"datosMedicosDetalle",props:{profcod:{type:String}},components:{QCard:U.A,QTabs:x.uw,QTab:x.zu,QBtn:_.A,QInput:y.A,QSelect:Q.A,confirm:M.confirm,QTabPane:x.dg,sieTable:W.A,QCheckbox:x.vZ,QTabPanel:B.A,QTabPanels:$.A,QSeparator:T.A,QCardSection:G.A,FichaDatos:z.A,QPage:x.Tu},data:function(){var e=this;return{form:{},opcion:3,hayCambios:null,ficha:"A",alergias:null,newBlood:null,oldReg:{},orden:{campos:"SECUDES",orden:"asc"},viewAllYears:!1,buttons:[{icon:"arrow_back",label:"Atr치s",click:function(){e.$router.push({name:"medico.datosMedicosPersonal"})}},{icon:"printer",label:"Imprimir",click:function(){var a=P()({},e.form);(0,X.exportFilePhp)(a,"medico/datos-medicos-alumno/reporte")}},{icon:"save",label:"Guardar",click:function(){e.saveAll()}},{icon:"save",label:"Ver Ficha Atenci칩n",click:function(){e.$router.push({name:"medico.fichaAtencion.ficha",query:{id:e.form.ID_PERSONA}})}}],config:{FECHA:{component:"date",edit:!1},ARCHIVO:{component:"button",icon:["print as imprimir"],tooltip:{imprimir:"Imprimir"},imprimir:function(e){console.log("Imprimir",e)},flat:!0}},fields:[{sortable:!0,name:"FECATE",label:"Fecha",field:"FECATE",align:"center"},{sortable:!0,name:"HORING",label:"H. Ingreso",field:"HORING",align:"left"},{name:"HORSAL",label:"H. Salida",field:"HORSAL",align:"left",sortable:!0},{name:"DIAGDES",label:"Diagn칩stico",field:"DIAGDES",align:"left"},{name:"SINTOMA",label:"Sintoma",field:"SINTOMA",align:"left",required:!0},{name:"TRATAMI",label:"Tratamiento",field:"TRATAMI",align:"left",required:!0}],fieldsVacunas:[{sortable:!0,name:"FECHA",label:"Fecha",field:"FECHA",align:"center"},{sortable:!0,name:"VACDES",label:"Vacuna",field:"VACDES",align:"left"},{name:"LUGAR",label:"Lugar",field:"LUGAR",align:"left",sortable:!0},{name:"ARCHIVO",label:"Archivo",field:"ARCHIVO",align:"left"}],fieldsPruebas:[{sortable:!0,name:"FECHA",label:"Fecha",field:"FECHA",align:"center"},{sortable:!0,name:"RESDES",label:"Resultado",field:"RESDES",align:"left"},{name:"ARCHIVO",label:"Archivo",field:"ARCHIVO",align:"left"}],bloodFields:[{sortable:!0,name:"SANCOD",label:"C칩digo",field:"SANCOD",align:"center"},{sortable:!0,name:"SANDES",label:"Descripcion",field:"SANDES",align:"left"}],rows:[],rowsVacunas:[],rowsPruebas:[],formSalud:{},modalSangre:!1,bloodRows:[]}},methods:{cambiarGrupoSanguineo:function(){var e=this;return L()(I()().m(function a(){var n;return I()().w(function(a){while(1)switch(a.n){case 0:return e.modalSangre=!0,a.n=1,e.$http.get("api/SangreController/getSangre");case 1:n=a.v,e.bloodRows=n.data;case 2:return a.a(2)}},a)}))()},saveAll:function(e){var a=this;return L()(I()().m(function e(){var n,l,o,t,r,s,i,c;return I()().w(function(e){while(1)switch(e.p=e.n){case 0:if(a.hayCambios){e.n=1;break}return(0,M.confirm)("No hay Cambios que guardar","info"),e.a(2,0);case 1:return e.p=1,n=a.form,l=n.SANCOD,o=n.ALERGIAS,t=n.MEDICAMENTOS,r=n.OPERACIONES,s=n.ENFERMEDADES,i={SANCOD:l,ALERGIAS:o,MEDICAMENTOS:t,OPERACIONES:r,ENFERMEDADES:s},e.n=2,a.$http.post("api/ProfeController/updateProfe",{params:{data:P()({},i),profcod:a.form.PROFCOD}});case 2:(0,H["default"])("Datos Actualizados","success"),e.n=4;break;case 3:e.p=3,c=e.v,(0,H["default"])(c.message,"warning");case 4:return e.a(2)}},e,null,[[1,3]])}))()},cambiado:function(e){this.hayCambios=!0},rowSelected:function(e,a){this.form.SANDES=a.SANDES,this.form.SANCOD=a.SANCOD,this.hayCambios=!0,this.modalSangre=!1},getAtenciones:function(){var e=this;return L()(I()().m(function a(){var n;return I()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,e.$http.get("api/FichaAtencionController/getById",{params:{params:{params:{profcod:e.profcod}}}});case 1:n=a.v,n.map(function(e){e.HORING=e.HORING.slice(0,2)+":"+e.HORING.slice(2,4),e.HORSAL=e.HORSAL.slice(0,2)+":"+e.HORSAL.slice(2,4)}),e.rows=n;case 2:return a.a(2)}},a)}))()},getVacunasCovid:function(e){var a=this;return L()(I()().m(function n(){var l;return I()().w(function(n){while(1)switch(n.n){case 0:return n.n=1,a.$http.get("api/VacunaController/getVacunasCovid",{params:{params:{id_persona:e}}});case 1:l=n.v,a.rowsVacunas=l;case 2:return n.a(2)}},n)}))()},getPruebasCovid:function(e){var a=this;return L()(I()().m(function n(){var l;return I()().w(function(n){while(1)switch(n.n){case 0:return n.n=1,a.$http.get("api/VacunaController/getPruebasCovid",{params:{params:{id_persona:e}}});case 1:l=n.v,l.map(function(e){e.RESDES=0===e.RESULTADO?"Negativo":"Positivo"}),a.rowsPruebas=l;case 2:return n.a(2)}},n)}))()},getDetails:function(){var e=this;return L()(I()().m(function a(){var n,l,o;return I()().w(function(a){while(1)switch(a.n){case 0:return n={PROFCOD:e.profcod},a.n=1,e.$http.get("api/ProfeController/getDetails",{params:{params:{where:n,first:!0}}});case 1:return l=a.v,a.n=2,e.$http.get("api/SangreController/getSangre");case 2:o=a.v,e.form=l,e.form.ID=l.PROFCOD,e.form.tipo="001",o.data.map(function(a){a.SANCOD===l.SANCOD&&(e.form.SANDES=a.SANDES)}),e.form&&(e.getVacunasCovid(e.form.ID_PERSONA),e.getPruebasCovid(e.form.ID_PERSONA));case 3:return a.a(2)}},a)}))()}},computed:{soloLectura:function(){return 1===(0,Y["default"])().ruta.nivel}},created:function(){var e=this;return L()(I()().m(function a(){return I()().w(function(a){while(1)switch(a.n){case 0:e.getDetails(),e.getAtenciones();case 1:return a.a(2)}},a)}))()}},j=n(12807);const J=(0,j.A)(Z,[["render",k]]);var K=J}}]);