"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[32347],{32347:function(e,o,n){n.r(o),n.d(o,{default:function(){return O}});var t=n(61758),a={class:"row items-center no-wrap"},l={class:"row q-ma-xs q-col-gutter-sm"},r={class:"col-xs-12 col-md-6 col-lg-3"},c={class:"col-xs-12 col-md-6 col-lg-3"},u={class:"row q-ma-xs q-col-gutter-sm"},s={class:"col-xs-10"},i={class:"col-xs-2"},d={class:"col-xs-12 col-md-6 col-lg-3"},m={class:"col-xs-12 col-md-6 col-lg-3"};function f(e,o){var n=(0,t.g2)("crearBotones"),f=(0,t.g2)("q-card-section"),p=(0,t.g2)("q-separator"),h=(0,t.g2)("q-select"),b=(0,t.g2)("q-input"),g=(0,t.g2)("q-checkbox"),v=(0,t.g2)("q-date"),k=(0,t.g2)("q-popup-proxy"),A=(0,t.g2)("q-icon"),w=(0,t.g2)("q-card");return(0,t.uX)(),(0,t.Wv)(w,{class:"layout-v1 my-card",flat:"",bordered:""},{default:(0,t.k6)(function(){return[(0,t.bF)(f,null,{default:(0,t.k6)(function(){return[(0,t.Lk)("div",a,[o[7]||(o[7]=(0,t.Lk)("div",{class:"col"},[(0,t.Lk)("div",{class:"text-h6"},"Documentos Anulados En Blanco")],-1)),(0,t.bF)(n,{buttons:e.botones,nivelAcceso:e.nivelAcceso,opcion:e.nameComponente},null,8,["buttons","nivelAcceso","opcion"])])]}),_:1}),(0,t.bF)(p),(0,t.bF)(f,null,{default:(0,t.k6)(function(){return[(0,t.Lk)("div",l,[(0,t.Lk)("div",r,[(0,t.bF)(h,{class:"truncate-label",label:"Talonarios",placeholder:"Seleccione el talonario",modelValue:e.talonario,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.talonario=o}),"option-label":"label","option-value":"value",options:e.talonarios,onInput:e.getNroRecibo},null,8,["modelValue","options","onInput"])]),(0,t.Lk)("div",c,[(0,t.Lk)("div",u,[(0,t.Lk)("div",s,[(0,t.bF)(b,{label:"Nro Documento",modelValue:e.nrodocumento,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.nrodocumento=o}),disable:!e.chkdocumento},null,8,["modelValue","disable"])]),(0,t.Lk)("div",i,[(0,t.bF)(g,{modelValue:e.chkdocumento,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.chkdocumento=o})},null,8,["modelValue"])])])]),(0,t.Lk)("div",d,[(0,t.bF)(b,{label:"Fecha",debounce:"500",maxlength:"10",format:"##/##/####",modelValue:e.fecha,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.fecha=o}),mask:"##/##/####",readonly:""},{append:(0,t.k6)(function(){return[(0,t.bF)(A,{class:"cursor-pointer",name:"date_range"},{default:(0,t.k6)(function(){return[(0,t.bF)(k,{ref:"qDateProxy3","transition-show":"scale","transition-hide":"scale"},{default:(0,t.k6)(function(){return[(0,t.bF)(v,{mask:"DD/MM/YYYY",modelValue:e.fecha,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.fecha=o}),onInput:o[4]||(o[4]=function(o){return e.closeDate("qDateProxy3")})},null,8,["modelValue"])]}),_:1},512)]}),_:1})]}),_:1},8,["modelValue"])]),(0,t.Lk)("div",m,[(0,t.bF)(b,{label:"Texto",modelValue:e.texto,"onUpdate:modelValue":o[6]||(o[6]=function(o){return e.texto=o}),placeholder:"Ingrese el texto"},null,8,["modelValue"])])])]}),_:1})]}),_:1})}var p=n(99550),h=n.n(p),b=n(76080),g=n.n(b),v=n(45254),k=n.n(v),A=n(88567),w=n(95718),x=n(53380),D=n(54489),V=n(64208),q=n(3112),C=n(12143),F=n(95477),U=n(80660),L=n(6123),N=n(62006),Q=n(36408),T=n(27560),_=n(75053),E=n(41615),R=n(33950),B=n(59089),I=n(95051),P=n(6083),$=n(57668),M=n(64303),y=n(54267),G={components:{QDate:C.A,QPopupProxy:F.A,QCard:A.A,QCardSection:w.A,QSelect:D.S,QOptionGroup:L.EX,QSeparator:x.A,sieGrid:Q.A,QInput:V.A,footerGrid:T.A,sieModal:_.A,QCheckbox:q.A,Upload:R["default"],sieUpload:B.A,QDownloadFile:N.A,QChip:I.A,sieEditor:P.A,crearBotones:M.A,QIcon:L.bP},data:function(){return{nameComponente:"DocumentoEnBlanco",botones:[],nivelAcceso:3,talonario:"",nrodocumento:"",chkdocumento:!0,fecha:E["default"].CURRENT_DAY,talonarios:[],texto:"Documento Anulado en blanco"}},created:function(){},methods:{generarDocumentoBlanco:function(){var e=this;return this.nrodocumento?this.talonario?this.fecha?void this.$confirm("¿Esta seguro de generar el documento en blanco?","info").onOk(k()(g()().m(function o(){var n,t;return g()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,o.n=1,U.$http.post("api/PagoController/postGenerarDocumentoEnBlanco",{datos:{numtal:e.talonario,numpag:e.nrodocumento,fecgen:new Date((0,y.convertToYMD)(e.fecha)),anocob:(0,$["default"])().ano,mescob:E["default"].CURRENT_MONTH,texto:e.texto}});case 1:n=o.v,e.$alert(n.message,"success"),o.n=3;break;case 2:o.p=2,t=o.v,e.$alert(t.error.message,"warning");case 3:return o.a(2)}},o,null,[[0,2]])}))):this.$alert("No seleccionó la fecha de emisión","warning"):this.$alert("No seleccionó el talonario","warning"):this.$alert("No ingreso el numero del documento","warning")},getNroRecibo:function(){var e=this;return k()(g()().m(function o(){var n,t,a;return g()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,U.$http.get("api/talonarioController/getCorrelativo",{params:{parametros:{numtal:e.talonario}}});case 1:n=o.v,t=h()(n,1),a=t[0],e.nrodocumento=a&&a.NUMPAG?a.NUMPAG:"";case 2:return o.a(2)}},o)}))()},obtenerTalonarios:function(){var e=this;return k()(g()().m(function o(){return g()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,E["default"].API_TALONARIOS();case 1:e.talonarios=o.v;case 2:return o.a(2)}},o)}))()},crearBotones:function(){this.botones=[{label:"Grabar",icon:"save",click:this.generarDocumentoBlanco,minAcceso:E["default"].LECTURA_ESCRITURA}]},grabar:function(){},closeDate:function(e){this.$refs[e].hide()}},beforeMount:function(){var e=this;return k()(g()().m(function o(){return g()().w(function(o){while(1)switch(o.n){case 0:e.crearBotones(),e.obtenerTalonarios();case 1:return o.a(2)}},o)}))()}},S=n(12807);const Y=(0,S.A)(G,[["render",f]]);var O=Y}}]);