"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[24739],{24739:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var a=n(61758),i=n(58790),l={key:1,class:"column col items-center justify-center"},o={key:2,class:"scroll-y column col relative-position"};function u(e,t){var n=(0,a.g2)("sie-estudiantes"),u=(0,a.g2)("sie-vacio"),r=(0,a.g2)("q-item-tile"),c=(0,a.g2)("q-item-side"),s=(0,a.g2)("q-chip"),d=(0,a.g2)("q-item-main"),f=(0,a.g2)("q-icon"),b=(0,a.g2)("q-item"),m=(0,a.g2)("modal-detalle"),p=(0,a.g2)("q-list"),k=(0,a.g2)("q-spinner-oval"),v=(0,a.g2)("q-inner-loading"),_=(0,a.g2)("q-page");return(0,a.uX)(),(0,a.Wv)(_,{class:"page-atencionmedica"},{default:(0,a.k6)(function(){return["005"!==e.sieInfo.tipcod?((0,a.uX)(),(0,a.Wv)(n,{key:0,modelValue:e.alucod,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.alucod=t}),onSelected:e.loadAtencionMedica},null,8,["modelValue","onSelected"])):(0,a.Q3)("v-if",!0),e.vacio?((0,a.uX)(),(0,a.CE)("div",l,[(0,a.bF)(u,{subtitle:"mensajes.m0014",icon:"person"})])):((0,a.uX)(),(0,a.CE)("div",o,[(0,a.bF)(p,{class:"list"},{default:(0,a.k6)(function(){return[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.lista,function(t,n){return(0,a.uX)(),(0,a.Wv)(b,{key:n,class:"item q-ma-sm cursor-pointer",onClick:function(n){return e.abrirModal(t.NROATE)}},{default:(0,a.k6)(function(){return[(0,a.bF)(c,{class:"item-side uppercase",style:{width:"70px"}},{default:(0,a.k6)(function(){return[(0,a.bF)(r,{class:"num"},{default:(0,a.k6)(function(){return[(0,a.eW)((0,i.v_)(e.dateNum(t.FECATE)),1)]}),_:2},1024),(0,a.bF)(r,{class:"mes"},{default:(0,a.k6)(function(){return[(0,a.eW)((0,i.v_)(e.dateMes(t.FECATE)),1)]}),_:2},1024)]}),_:2},1024),(0,a.bF)(d,null,{default:(0,a.k6)(function(){return[(0,a.bF)(r,{class:"title",lines:1,label:""},{default:(0,a.k6)(function(){return[(0,a.eW)((0,i.v_)(t.SINTOMA),1)]}),_:2},1024),(0,a.bF)(s,{class:"date",icon:"schedule"},{default:(0,a.k6)(function(){return[(0,a.eW)((0,i.v_)(e.dateHora(t.HORAING))+" - "+(0,i.v_)(e.dateHora(t.HORASAL)),1)]}),_:2},1024)]}),_:2},1024),(0,a.bF)(c,null,{default:(0,a.k6)(function(){return[(0,a.bF)(r,null,{default:(0,a.k6)(function(){return[(0,a.bF)(f,{class:"icon",name:"chevron_right"})]}),_:1})]}),_:1})]}),_:2},1032,["onClick"])}),128)),(0,a.bF)(m,{opened:e.open,"onUpdate:opened":t[1]||(t[1]=function(t){return e.open=t}),data:e.detalle},null,8,["opened","data"])]}),_:1}),(0,a.bF)(v,{visible:e.visible},{default:(0,a.k6)(function(){return[(0,a.bF)(k,{size:"50px",color:"primary"})]}),_:1},8,["visible"])]))]}),_:1})}n(515);var r=n(6123),c=n(92173),s=n(80340),d=n(8445),f=n.n(d),b={class:"row"},m={class:"modal-title q-pb-sm q-pl-lg q-pr-lg col"},p={class:"modal-title q-pb-sm q-pl-lg q-pr-lg"},k={class:"col-4"},v={class:"col-4"},_={class:"col-4"};function h(e,t){var n=(0,a.g2)("q-tooltip"),l=(0,a.g2)("q-icon"),o=(0,a.g2)("q-toolbar-title"),u=(0,a.g2)("q-item-tile"),r=(0,a.g2)("q-list-header"),c=(0,a.g2)("q-chip"),s=(0,a.g2)("q-item-side"),d=(0,a.g2)("q-item-main"),h=(0,a.g2)("q-item"),A=(0,a.g2)("q-list"),F=(0,a.g2)("sie-modal");return(0,a.uX)(),(0,a.Wv)(F,{class:"atencionMedica-modal",modelValue:e.open,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.open=t}),header:!0,footer:!1,title:e.$t("siechart.tabla"),ok:!1},{default:(0,a.k6)(function(){return[(0,a.bF)(o,{class:"toolbar-title q-pt-md q-pb-none no-shadow"},{default:(0,a.k6)(function(){return[t[3]||(t[3]=(0,a.Lk)("div",{class:"modal-supertitle q-pb-sm q-pl-lg q-pr-lg"},"Número Ficha",-1)),(0,a.Lk)("div",b,[(0,a.Lk)("div",m,(0,i.v_)(e.dataObj.NROATE),1),(0,a.Lk)("div",p,[e.dataObj.IMPRIMIRDETALLE?((0,a.uX)(),(0,a.Wv)(l,{key:0,name:"print",style:{"font-size":"20px"},onClick:t[0]||(t[0]=function(t){return e.imprimirDetalle(e.dataObj.NROATE)})},{default:(0,a.k6)(function(){return[(0,a.bF)(n,null,{default:(0,a.k6)(function(){return f()(t[2]||(t[2]=[(0,a.eW)("Detalle de la atención",-1)]))}),_:1})]}),_:1})):(0,a.Q3)("v-if",!0)])])]}),_:1}),(0,a.bF)(A,{class:"list no-border","inset-separator":""},{default:(0,a.k6)(function(){return[(0,a.bF)(r,{class:"list-header row text-center"},{default:(0,a.k6)(function(){return[(0,a.Lk)("div",k,[(0,a.bF)(u,{class:"header-title"},{default:(0,a.k6)(function(){return f()(t[4]||(t[4]=[(0,a.eW)("Fecha",-1)]))}),_:1}),(0,a.bF)(u,{class:"header-content"},{default:(0,a.k6)(function(){return[(0,a.eW)((0,i.v_)(e.dataObj.FECHAATENDIDO),1)]}),_:1})]),(0,a.Lk)("div",v,[(0,a.bF)(u,{class:"header-title"},{default:(0,a.k6)(function(){return f()(t[5]||(t[5]=[(0,a.eW)("H. Inicio",-1)]))}),_:1}),(0,a.bF)(u,{class:"header-content"},{default:(0,a.k6)(function(){return[(0,a.eW)((0,i.v_)(e.dateHora(e.dataObj.HORAING)),1)]}),_:1})]),(0,a.Lk)("div",_,[(0,a.bF)(u,{class:"header-title"},{default:(0,a.k6)(function(){return f()(t[6]||(t[6]=[(0,a.eW)("H. Fin",-1)]))}),_:1}),(0,a.bF)(u,{class:"header-content"},{default:(0,a.k6)(function(){return[(0,a.eW)((0,i.v_)(e.dateHora(e.dataObj.HORASAL)),1)]}),_:1})])]}),_:1}),(0,a.bF)(h,{class:"qitem"},{default:(0,a.k6)(function(){return[(0,a.bF)(s,null,{default:(0,a.k6)(function(){return[(0,a.bF)(c,{class:"chip",icon:"format_list_bulleted"})]}),_:1}),(0,a.bF)(d,null,{default:(0,a.k6)(function(){return[(0,a.bF)(u,{class:"tile-title"},{default:(0,a.k6)(function(){return f()(t[7]||(t[7]=[(0,a.eW)("Detalles",-1)]))}),_:1}),(0,a.bF)(u,{class:"tile-subtitle"},{default:(0,a.k6)(function(){return f()(t[8]||(t[8]=[(0,a.eW)("Síntoma",-1)]))}),_:1}),(0,a.bF)(u,{class:"tile-detail"},{default:(0,a.k6)(function(){return[(0,a.eW)((0,i.v_)(e.dataObj.SINTOMA),1)]}),_:1}),e.dataObj.IMPRIMIRDETALLE?((0,a.uX)(),(0,a.Wv)(u,{key:0,class:"tile-subtitle"},{default:(0,a.k6)(function(){return[(0,a.eW)((0,i.v_)(e.$t("diagnostico")),1)]}),_:1})):(0,a.Q3)("v-if",!0),e.dataObj.IMPRIMIRDETALLE?((0,a.uX)(),(0,a.Wv)(u,{key:1,class:"tile-detail"},{default:(0,a.k6)(function(){return[(0,a.eW)((0,i.v_)(e.dataObj.DIAGDES),1)]}),_:1})):(0,a.Q3)("v-if",!0)]}),_:1})]}),_:1}),""!==e.dataObj.TRATAMI&&e.dataObj.VER_TRATAMIENTO?((0,a.uX)(),(0,a.Wv)(h,{key:0,class:"qitem"},{default:(0,a.k6)(function(){return[(0,a.bF)(s,null,{default:(0,a.k6)(function(){return[(0,a.bF)(c,{class:"chip",icon:"healing"})]}),_:1}),(0,a.bF)(d,null,{default:(0,a.k6)(function(){return[(0,a.bF)(u,{class:"tile-title"},{default:(0,a.k6)(function(){return[(0,a.eW)((0,i.v_)(e.$t("tratamiento")),1)]}),_:1}),(0,a.bF)(u,{class:"tile-detail"},{default:(0,a.k6)(function(){return[(0,a.eW)((0,i.v_)(e.dataObj.TRATAMI),1)]}),_:1})]}),_:1})]}),_:1})):(0,a.Q3)("v-if",!0),""!==e.dataObj.APUNTE&&e.dataObj.VER_OBSERVACIONES?((0,a.uX)(),(0,a.Wv)(h,{key:1,class:"qitem"},{default:(0,a.k6)(function(){return[(0,a.bF)(s,null,{default:(0,a.k6)(function(){return[(0,a.bF)(c,{class:"chip",icon:"comment_check_outline"})]}),_:1}),(0,a.bF)(d,null,{default:(0,a.k6)(function(){return[(0,a.bF)(u,{class:"tile-title"},{default:(0,a.k6)(function(){return f()(t[9]||(t[9]=[(0,a.eW)("Observación",-1)]))}),_:1}),(0,a.bF)(u,{class:"tile-detail"},{default:(0,a.k6)(function(){return[(0,a.eW)((0,i.v_)(e.dataObj.APUNTE),1)]}),_:1})]}),_:1})]}),_:1})):(0,a.Q3)("v-if",!0)]}),_:1})]}),_:1},8,["modelValue","title"])}var A=n(30640),F=n(81288),g=n(57668),I=n(2819),O={emits:["update:opened","update:data"],components:{sieModal:A.A,QChip:r.wQ,QToolbarTitle:r.r_,QIcon:r.bP,QTooltip:r.nC,QList:r.Mb,QListHeader:r.XR,QItemTile:r.lp,QItem:r.H0,QItemSide:r.n1,QItemMain:r.mF},name:"modalDetalle",props:{opened:{type:Boolean},data:{type:Object}},computed:{open:{get:function(){return this.opened},set:function(e){this.$emit("update:opened",e)}},dataObj:{get:function(){return this.data},set:function(e){this.$emit("update:data",e)}},inModal:function(){var e={};return e=(0,F.isLess)()?{animated:"animated faster slideInRight",icon:"arrow_back"}:{animated:"",icon:"close"},e},outModal:function(){return(0,F.isLess)()?"animated faster slideOutRight":""}},methods:{imprimirDetalle:function(e){(0,I.exportFilePhp)({},"medico/regis-ficha-atencion/reportefichaaten/id/"+e+"/ano/"+(0,g["default"])().ano)},dateHora:function(e){var t="1970-01-01 "+e+":00",n=new Date(t);return n=r.p6.formatDate(n,"A"),e+" "+n}}},q=n(12807);const M=(0,q.A)(O,[["render",h]]);var Q=M,W={components:{QInnerLoading:r.SQ,QSpinnerOval:r.VA,QChip:r.wQ,modalDetalle:Q,sieEstudiantes:c.Ay,sieVacio:s.A,QPage:r.Tu,QList:r.Mb,QItem:r.H0,QItemSide:r.n1,QItemTile:r.lp,QItemMain:r.mF,QIcon:r.bP},data:function(){return{lista:[],vacio:!0,detalle:{},sieInfo:(0,g["default"])(),open:!1,visible:!1,alucod:""}},computed:{isLess:function(){return(0,F.isLess)()}},methods:{dateNum:function(e){var t=new Date(e);return t=r.p6.formatDate(t,"DD"),t},dateMes:function(e){var t=new Date(e);return t=r.p6.formatDate(t,"MMM"),t},dateHora:function(e){var t="1970-01-01 "+e+":00",n=new Date(t);return n=r.p6.formatDate(n,"A"),e+" "+n},getListaAtencionMedica:function(e){var t=this,n={alucod:e.ALUCOD,nroate:"%"};this.$http.post("api/HyoAtencion/listaAtencion",n).then(function(e){t.lista=e.listaAtencion,Object.keys(e.listaAtencion).length>0?t.vacio=!1:t.vacio=!0})},getDetalleAtencion:function(e){var t=this;this.$http.post("api/HyoAtencion/obtDetalleAtencion",{nroate:e}).then(function(e){t.detalle=e.json[0]})},loadAtencionMedica:function(e){this.getListaAtencionMedica(e)},abrirModal:function(e){this.getDetalleAtencion(e),this.open=!0}},created:function(){if("005"===this.sieInfo.tipcod){var e={ALUCOD:this.sieInfo.alucod};this.loadAtencionMedica(e)}}};const D=(0,q.A)(W,[["render",u]]);var E=D}}]);