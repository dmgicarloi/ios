"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[75209],{75209:function(e,o,r){r.r(o),r.d(o,{default:function(){return te}});r(71225),r(39866),r(50310),r(5962),r(11777),r(83190);var a=r(61758),t=r(58790),n={class:"row items-center no-wrap"},l={class:"col-auto"},s={class:"row q-ma-xs q-col-gutter-sm"},i={class:"col-xs-4"},u={class:"col-xs-4"},c={class:"col-xs-4"},m={class:"row q-pa-sm q-col-gutter-sm"},d={class:"text-h6"},p={class:"row q-pa-sm q-col-gutter-sm"},f={class:"col-xs-12"},T={class:"col-xs-6"},E={class:"col-xs-6"},O={key:0,class:"col-xs-6"},A={key:1,class:"col-xs-6"},R={key:2,class:"col-xs-6"},h={class:"col-xs-6"},I={class:"col-xs-6"},P={class:"col-xs-6"},D={class:"col-xs-6"},b={class:"col-xs-4"},v={class:"col-xs-2"},_={class:"col-xs-12"};function g(e,o){var r=(0,a.g2)("q-btn"),g=(0,a.g2)("q-card-section"),C=(0,a.g2)("q-separator"),w=(0,a.g2)("q-select"),V=(0,a.g2)("sie-grid"),N=(0,a.g2)("footer-grid"),L=(0,a.g2)("q-input"),U=(0,a.g2)("q-checkbox"),k=(0,a.g2)("q-toggle"),S=(0,a.g2)("sie-modal"),x=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.Wv)(x,{class:"layout-v1 my-card",flat:"",bordered:""},{default:(0,a.k6)(function(){return[(0,a.bF)(g,null,{default:(0,a.k6)(function(){return[(0,a.Lk)("div",n,[o[19]||(o[19]=(0,a.Lk)("div",{class:"col"},[(0,a.Lk)("div",{class:"text-h6"},"Parametros de Reportes")],-1)),(0,a.Lk)("div",l,[(0,a.bF)(r,{class:"q-mr-sm",icon:"add",color:"primary",label:"Nuevo",size:"sm",onClick:e.create},null,8,["onClick"])])])]}),_:1}),(0,a.bF)(C),(0,a.bF)(g,null,{default:(0,a.k6)(function(){return[(0,a.Lk)("div",s,[(0,a.Lk)("div",i,[(0,a.bF)(w,{label:"Reporte",modelValue:e.filter.ID_REPORTE,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.filter.ID_REPORTE=o}),"option-label":"NOMBRE","option-value":"ID_REPORTE",options:e.filterReportes,onInput:e.getParametrosReportes},null,8,["modelValue","options","onInput"])]),(0,a.Lk)("div",u,[(0,a.bF)(w,{label:"Tipo de Parametro",options:e.dataTipo,onInput:e.getParametrosReportes,"option-label":"label","option-value":"value",modelValue:e.filter.TIPO_DATO,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.filter.TIPO_DATO=o})},null,8,["options","onInput","modelValue"])]),(0,a.Lk)("div",c,[(0,a.bF)(w,{label:"Estado",options:e.cboEstado,onInput:e.getParametrosReportes,"option-label":"label","option-value":"value",modelValue:e.filter.ACTIVO,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.filter.ACTIVO=o})},null,8,["options","onInput","modelValue"])])])]}),_:1}),(0,a.bF)(g,null,{default:(0,a.k6)(function(){return[(0,a.bF)(V,{class:"fix-tab-height ag-theme-balham",frameworkComponents:e.frameworkComponents,columnDefs:e.columnDefs,rowData:e.rowData,onRowSelected:e.rowSelected,onGridReady:e.onGridReady},null,8,["frameworkComponents","columnDefs","rowData","onRowSelected","onGridReady"]),(0,a.bF)(N,{modelValue:e.pagina,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.pagina=o}),max:e.pages,rows:e.rowData,onLoad:e.getParametrosReportes},null,8,["modelValue","max","rows","onLoad"])]}),_:1}),(0,a.bF)(S,{modelValue:e.openModal,"onUpdate:modelValue":o[18]||(o[18]=function(o){return e.openModal=o}),onSubmit:e.addReporteParametros},{default:(0,a.k6)(function(){return[(0,a.Lk)("div",m,[(0,a.Lk)("div",d,(0,t.v_)(e.mode)+" Parametros",1)]),(0,a.Lk)("div",p,[(0,a.Lk)("div",f,[(0,a.bF)(w,{label:"Reporte",modelValue:e.form.ID_REPORTE,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.form.ID_REPORTE=o}),"option-label":"NOMBRE","option-value":"ID_REPORTE",options:e.reportesOptions,onInput:e.getOrdenParametro},null,8,["modelValue","options","onInput"])]),(0,a.Lk)("div",T,[(0,a.bF)(L,{modelValue:e.form.NOMBRE_ETIQUETA,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.form.NOMBRE_ETIQUETA=o}),placeholder:"Nombre de Parametro",label:"Parametro",maxlength:e.size.NOMBRE_ETIQUETA},null,8,["modelValue","maxlength"])]),(0,a.Lk)("div",E,[(0,a.bF)(w,{label:"Tipo de Dato",modelValue:e.form.TIPO_DATO,"onUpdate:modelValue":o[6]||(o[6]=function(o){return e.form.TIPO_DATO=o}),options:e.comboDatos,"option-label":"label","option-value":"value"},null,8,["modelValue","options"])]),[e.TIPO_DATO.INPUT_TEXTO,e.TIPO_DATO.INPUT_NUMERO].includes(Number(e.form.TIPO_DATO))?((0,a.uX)(),(0,a.CE)("div",O,[(0,a.bF)(L,{placeholder:"Ingrese placeholder",label:"Placeholder",modelValue:e.form.PLACEHOLDER,"onUpdate:modelValue":o[7]||(o[7]=function(o){return e.form.PLACEHOLDER=o})},null,8,["modelValue"])])):(0,a.Q3)("v-if",!0),[e.TIPO_DATO.SELECT].includes(Number(e.form.TIPO_DATO))?((0,a.uX)(),(0,a.CE)("div",A,[(0,a.bF)(L,{placeholder:"Ingrese Funcion Change",label:"Funcion Change",modelValue:e.form.FUNCION_CHANGE,"onUpdate:modelValue":o[8]||(o[8]=function(o){return e.form.FUNCION_CHANGE=o})},null,8,["modelValue"])])):(0,a.Q3)("v-if",!0),[e.TIPO_DATO.SELECT].includes(Number(e.form.TIPO_DATO))?((0,a.uX)(),(0,a.CE)("div",R,[(0,a.bF)(L,{placeholder:"Ingrese Api Constante",label:"Api Constante",modelValue:e.form.API_CONST,"onUpdate:modelValue":o[9]||(o[9]=function(o){return e.form.API_CONST=o})},null,8,["modelValue"])])):(0,a.Q3)("v-if",!0),(0,a.Lk)("div",h,[(0,a.bF)(L,{modelValue:e.form.VALUE_DEFAULT,"onUpdate:modelValue":o[10]||(o[10]=function(o){return e.form.VALUE_DEFAULT=o}),placeholder:"Ingrese valor",label:"Valor por defecto",maxlength:e.size.VALUE_DEFAULT},null,8,["modelValue","maxlength"]),o[20]||(o[20]=(0,a.Lk)("div",{class:"col-xs-6"},null,-1)),(0,a.bF)(L,{modelValue:e.form.DATA_PADRE,"onUpdate:modelValue":o[11]||(o[11]=function(o){return e.form.DATA_PADRE=o}),placeholder:"Data Padre",label:"Ingrese el campo asociado al change"},null,8,["modelValue"])]),(0,a.Lk)("div",I,[(0,a.bF)(w,{label:"Show",modelValue:e.form.VISIBLE,"onUpdate:modelValue":o[12]||(o[12]=function(o){return e.form.VISIBLE=o}),"option-label":"label","option-value":"value",options:e.showParametros},null,8,["modelValue","options"])]),(0,a.Lk)("div",P,[(0,a.bF)(w,{label:"Clase",modelValue:e.form.CSS_CLASE,"onUpdate:modelValue":o[13]||(o[13]=function(o){return e.form.CSS_CLASE=o}),"option-label":"label","option-value":"value",options:e.cssClase},null,8,["modelValue","options"])]),(0,a.Lk)("div",D,[(0,a.bF)(L,{placeholder:"Ingrese Data Model",label:"Model",modelValue:e.form.DATA,"onUpdate:modelValue":o[14]||(o[14]=function(o){return e.form.DATA=o})},null,8,["modelValue"])]),(0,a.Lk)("div",b,[(0,a.bF)(L,{placeholder:"Ingrese Orden",label:"Orden",modelValue:e.form.ORDEN,"onUpdate:modelValue":o[15]||(o[15]=function(o){return e.form.ORDEN=o}),type:"number",disable:!e.disableOrden},null,8,["modelValue","disable"])]),(0,a.Lk)("div",v,[(0,a.bF)(U,{modelValue:e.disableOrden,"onUpdate:modelValue":o[16]||(o[16]=function(o){return e.disableOrden=o})},null,8,["modelValue"])]),(0,a.Lk)("div",_,[(0,a.bF)(k,{class:"margin",label:"Activo",modelValue:e.form.ACTIVO,"onUpdate:modelValue":o[17]||(o[17]=function(o){return e.form.ACTIVO=o}),"true-value":1,"false-value":0},null,8,["modelValue"])])])]}),_:1},8,["modelValue","onSubmit"])]}),_:1})}var C=r(8445),w=r.n(C),V=r(76080),N=r.n(V),L=r(45254),U=r.n(L),k=(r(34634),r(30683),r(52133),r(10239),r(6724),r(88390),r(88567)),S=r(95718),x=r(53380),F=r(75053),M=r(64208),B=r(54489),Q=r(3112),$=r(80660),H=r(33001),q=r(16648),y={components:{QSelect:q.A},data:function(){return{options:[],value:null}},beforeMount:function(){var e=this;return U()(N()().m(function o(){var r;return N()().w(function(o){while(1)switch(o.n){case 0:if(r=[],"string"!==typeof e.params.api){o.n=2;break}return o.n=1,$.$http.get(e.params.api,{params:{response:"combo"}});case 1:r=o.v,o.n=3;break;case 2:r=e.params.options||[];case 3:e.options=w()(r),e.value=e.params.value||e.params.defaultvalue;case 4:return o.a(2)}},o)}))()},render:function(){var e=this;return(0,a.h)(q.A,{modelValue:e.value,options:e.options,"hide-selected":!0,"fill-input":!0,"use-input":!0,disable:!0,onInput:function(o){e.value=o,e.params.setValue(o)},onFilter:function(o,r){r(function(){var r=w()(e.params.options);e.options=(0,H.filterArray)(o,{field:e.params.dLabel||"label",list:r})})}})}},G=r(36408),z=r(78840),X=r(6123),K=r(27560),W=["checked"];function j(e,o){return(0,a.uX)(),(0,a.CE)("input",{type:"checkbox",onClick:o[0]||(o[0]=function(o){return e.checkedHandler(o,e.params)}),checked:e.params.value},null,8,W)}r(56285);var J={name:"checkboxRender",props:{},methods:{checkedHandler:function(e,o){console.log(e),console.log(o),console.log(o.name),o.data[o.name]=e.target.checked?1:0}}},Y=r(12807);const Z=(0,Y.A)(J,[["render",j]]);var ee=Z,oe=r(74160),re={components:{QCard:k.A,QCardSection:S.A,sieModal:F.A,QInput:M.A,QCheckbox:Q.A,select:y,$http:$.$http,sieGrid:G.A,actionButton:z.A,QPagination:X.ao,QSearch:X.Ks,QSelect:B.S,footerGrid:K.A,QToggle:X.c5,checkboxRender:ee,QSeparator:x.A,QBtn:X.Il},data:function(){return{filter:{NOMBRE_ETIQUETA:null,TIPO_DATO:"T",ACTIVO:"T",ID_REPORTE:"T"},disableOrden:!1,toogle:0,api:{},pagina:1,pages:2,frameworkComponents:{},showParametros:[{label:"OCULTO",value:0},{label:"VISIBLE",value:1},{label:"BLOQUEADO",value:2}],cssClase:[{label:"col-xs-2",value:"col-xs-2"},{label:"col-xs-4",value:"col-xs-4"},{label:"col-xs-6",value:"col-xs-6"},{label:"col-xs-8",value:"col-xs-8"},{label:"col-xs-10",value:"col-xs-10"},{label:"col-xs-12",value:"col-xs-12"}],sistemas:[],buttons:[{label:"NUEVO",icon:"plus",click:this.create}],columnDefs:[],rowData:[],currentRow:[],reportesOptions:[],filterReportes:[],dataTipo:[],cboEstado:[{label:"TODOS",value:"T"},{label:"ACTIVO",value:1},{label:"INACTIVO",value:0}],tiposFilter:[],openModal:!1,options:[{label:"inactivo",value:0}],form:{ID_REPORTE_PARAMETRO:null,ID_REPORTE:3,NOMBRE_ETIQUETA:"",ACTIVO:1,TIPO_DATO:2,PLACEHOLDER:"",ORDEN:0,VALUE_DEFAULT:"",DATA_PADRE:"",DATA:"",FUNCION_CHANGE:"",API_URL:"",API_CONST:"",VISIBLE:1,CSS_CLASE:"col-xs-12"},size:{ID_REPORTE_PARAMETRO:null,ID_REPORTE:null,VALUE_DEFAULT:40,NOMBRE_ETIQUETA:"",ACTIVO:null,TIPO_DATO:null},comboDatos:[],TIPO_DATO:{INPUT_FECHA:1,INPUT_TEXTO:2,INPUT_NUMERO:3,RADIO:4,SELECT:5,CONCEPTOS:6,TALONARIOS:7,CHECKBOX:8},mode:"Ingresar"}},beforeMount:function(){var e=this;return U()(N()().m(function o(){return N()().w(function(o){while(1)switch(o.n){case 0:e.frameworkComponents={select:y,actionButton:z.A,QToggle:X.c5,checkboxRender:ee};case 1:return o.a(2)}},o)}))()},mounted:function(){var e=this;return U()(N()().m(function o(){return N()().w(function(o){while(1)switch(o.n){case 0:e.getSistemas(),e.getReportes(),e.getParametrosReportes(),e.getTipoDato(),e.getSize(),e.colums();case 1:return o.a(2)}},o)}))()},methods:{getSize:function(){var e=this;return U()(N()().m(function o(){var r;return N()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,(0,oe.n)(["C_CUENTA"]);case 1:r=o.v,e.size=r.C_CUENTA;case 2:return o.a(2)}},o)}))()},rowSelected:function(e){this.currentRow=e.data},colums:function(){this.columnDefs=[{headerName:"ID",field:"ID_REPORTE_PARAMETRO",editable:!1,width:50},{headerName:"ID Reporte",field:"ID_REPORTE",width:90,hidden:!0},{headerName:"Reporte",field:"NOMBRE",width:290},{headerName:"Parametro",field:"NOMBRE_ETIQUETA",editable:!1,width:180},{headerName:"Activo",field:"ACTIVO",cellRenderer:ee,cellRendererParams:{name:"ACTIVO"},editable:!1,width:60},{headerName:"Orden",field:"ORDEN"},{headerName:"Tipo Dato",field:"TIPO_DATO",cellRenderer:y,cellRendererParams:{options:this.comboDatos},editable:!1,width:200},{cellRenderer:z.A,width:40,cellRendererParams:{icon:"edit",title:"Actualizar",onClick:this.openModalEditarParametro}},{cellRenderer:z.A,width:40,cellRendererParams:{icon:"delete",title:"Eliminar",onClick:this.deleteReporteParametro}}]},openModalEditarParametro:function(e){var o=this;return U()(N()().m(function r(){return N()().w(function(r){while(1)switch(r.n){case 0:e=e.data,o.form.ID_REPORTE=e.ID_REPORTE,o.form.NOMBRE_ETIQUETA=e.NOMBRE_ETIQUETA,o.form.ACTIVO=e.ACTIVO,o.form.TIPO_DATO=e.TIPO_DATO,o.form.ID_REPORTE_PARAMETRO=e.ID_REPORTE_PARAMETRO,o.form.PLACEHOLDER=e.PLACEHOLDER,o.form.DATA_PADRE=e.DATA_PADRE,o.form.VALUE_DEFAULT=e.VALUE_DEFAULT,o.form.DATA=e.DATA,o.form.ORDEN=e.ORDEN,o.form.FUNCION_CHANGE=e.FUNCION_CHANGE,o.form.API_URL=e.API_URL,o.form.API_CONST=e.API_CONST,o.form.VISIBLE=e.VISIBLE,o.form.CSS_CLASE=e.CSS_CLASE,o.mode="Actualizar",o.openModal=!0;case 1:return r.a(2)}},r)}))()},getSistemas:function(){var e=this;return U()(N()().m(function o(){var r;return N()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,$.$http.get("api/ReporteController/getReporte");case 1:r=o.v,r.map(function(o){return e.sistemas.push({label:o.NOMBRE,value:o.ID_REPORTE})});case 2:return o.a(2)}},o)}))()},getParametrosReportes:function(){var e=this;return U()(N()().m(function o(){var r;return N()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,$.$http.get("api/ReporteParametroController/getReporteParametro",{params:{parametros:e.filter}});case 1:return r=o.v,e.rowData=r,o.a(2,r)}},o)}))()},create:function(){var e=this;return U()(N()().m(function o(){return N()().w(function(o){while(1)switch(o.n){case 0:e.clear(),e.form.ID_REPORTE=e.filter.ID_REPORTE,e.openModal=!0;case 1:return o.a(2)}},o)}))()},getOrdenParametro:function(){var e=this;return U()(N()().m(function o(){var r;return N()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,e.getParametrosReportes();case 1:r=o.v,e.form.ORDEN=r.at(-1).ORDEN+1;case 2:return o.a(2)}},o)}))()},getReportes:function(){var e=this;return U()(N()().m(function o(){var r;return N()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,$.$http.get("api/ReporteController/getReporte");case 1:r=o.v,r=r.filter(function(e){return e.URL}),e.reportesOptions=w()(r),e.filterReportes=w()(r),e.filterReportes.unshift({NOMBRE:"Todos",ID_REPORTE:"T"});case 2:return o.a(2)}},o)}))()},getTipoDato:function(){var e=this;return U()(N()().m(function o(){var r,a;return N()().w(function(o){while(1)switch(o.n){case 0:for(a in r=[],e.TIPO_DATO)r.push({label:a,value:e.TIPO_DATO[a]});e.comboDatos=[].concat(r),e.dataTipo=[].concat(r),e.dataTipo.unshift({label:"TODOS",value:"T"});case 1:return o.a(2)}},o)}))()},validate:function(){var e="";return this.form.NOMBRE_ETIQUETA?this.form.TIPO_DATO?[this.TIPO_DATO.INPUT_TEXTO,this.TIPO_DATO.INPUT_NUMERO].includes(Number(this.form.TIPO_DATO))&&!this.form.PLACEHOLDER?e="No registro el placeholder":[this.TIPO_DATO.SELECT].includes(Number(this.form.TIPO_DATO))&&this.form.API_CONST?e="No se registro la constante para el parametro":this.form.ORDEN&&this.form.DATA||(e="No se registro la orden para el parametro"):e="No selecciono el tipo de párametros":e="No se registro el nombre del parametro",e.length>0?{status:"error",message:e}:{status:"ok"}},submitAgregar:function(){var e=this;return U()(N()().m(function o(){return N()().w(function(o){while(1)switch(o.n){case 0:e.$confirm("¿Desea Agregar el Parametro ?").onOk(U()(N()().m(function o(){var r,a;return N()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,o.n=1,e.$http.post("api/ReporteParametroController/addReporteParametro",{data:e.form});case 1:r=o.v,e.openModal=!1,e.$alert(r.message,"success"),e.getParametrosReportes(),o.n=3;break;case 2:o.p=2,a=o.v,e.$alert(a.error.message,"warning");case 3:return o.a(2)}},o,null,[[0,2]])})));case 1:return o.a(2)}},o)}))()},submitEditar:function(){var e=this;return U()(N()().m(function o(){return N()().w(function(o){while(1)switch(o.n){case 0:e.$confirm("¿Desea Actualizar el Parametro ?").onOk(U()(N()().m(function o(){var r,a;return N()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,o.n=1,e.$http.post("api/ReporteParametroController/updateReporteParametro",{data:e.form});case 1:r=o.v,e.openModal=!1,e.$alert(r.message,"success"),e.getParametrosReportes(),o.n=3;break;case 2:o.p=2,a=o.v,e.$alert(a.error.message,"warning");case 3:return o.a(2)}},o,null,[[0,2]])})));case 1:return o.a(2)}},o)}))()},addReporteParametros:function(){var e=this;return U()(N()().m(function o(){var r;return N()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,e.validate();case 1:if(r=o.v,"ok"!==!r.status){o.n=2;break}return o.a(2,e.$alert(r.message,"warning"));case 2:"Agregar"===e.mode?e.submitAgregar():e.submitEditar();case 3:return o.a(2)}},o)}))()},deleteReporteParametro:function(e){var o=this;return U()(N()().m(function r(){return N()().w(function(r){while(1)switch(r.n){case 0:o.$confirm("Desea eliminar el parametro","delete").onOk(U()(N()().m(function r(){var a,t;return N()().w(function(r){while(1)switch(r.p=r.n){case 0:return r.p=0,console.log(e.data),r.n=1,o.$http.delete("api/ReporteParametroController/deleteReporteParametro",{params:{id:e.data.ID_REPORTE_PARAMETRO}});case 1:a=r.v,o.getParametrosReportes(),o.$alert(a.message,"success"),o.getId(),r.n=3;break;case 2:r.p=2,t=r.v,o.$alert(t.error.message,"warning");case 3:return r.a(2)}},r,null,[[0,2]])})));case 1:return r.a(2)}},r)}))()},onGridReady:function(e){this.api=e.api},setIdReporte:function(){var e=this;return U()(N()().m(function o(){var r;return N()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,$.$http.get("api/ReporteParametroController/getReporteParametro",{params:{parametros:{TIPO_DATO:"T",ID_REPORTE:"T",ACTIVO:"T"}}});case 1:r=o.v,e.form.ID_REPORTE_PARAMETRO=r.at(-1).ID_REPORTE_PARAMETRO+1;case 2:return o.a(2)}},o)}))()},clear:function(){this.getOrdenParametro(),this.form.NOMBRE_ETIQUETA="",this.form.ACTIVO=1,this.form.TIPO_DATO=1,this.form.ID_REPORTE_PARAMETRO=null,this.form.PLACEHOLDER="",this.form.DATA="",this.form.DATA_PADRE="",this.form.VALUE_DEFAULT="",this.form.FUNCION_CHANGE="",this.form.API_URL="",this.form.API_CONST="",this.form.VISIBLE=1,this.form.CSS_CLASE="col-xs-12",this.mode="Agregar"}}};const ae=(0,Y.A)(re,[["render",g]]);var te=ae}}]);