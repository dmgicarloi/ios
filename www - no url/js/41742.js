"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[41742],{41742:function(e,l,t){t.r(l),t.d(l,{default:function(){return g}});t(71225),t(50310),t(5962),t(83190);var i=t(61758),n=t(58790),a={class:"row q-mb-xs"},o={class:"row q-mb-xs"};function s(e,l){var t=(0,i.g2)("q-search"),s=(0,i.g2)("sie-select"),r=(0,i.g2)("q-datetime"),f=(0,i.g2)("q-table"),c=(0,i.g2)("q-page");return(0,i.uX)(),(0,i.Wv)(c,{class:"m-xs q-ma-xs q-card"},{default:(0,i.k6)(function(){return[(0,i.Lk)("div",a,[(0,i.bF)(t,{class:"col",modelValue:e.filter,"onUpdate:modelValue":l[0]||(l[0]=function(l){return e.filter=l})},null,8,["modelValue"]),(0,i.bF)(s,{class:"q-pt-xs no-bottom",type:"outlined",modelValue:e.perfil,"onUpdate:modelValue":l[1]||(l[1]=function(l){return e.perfil=l}),options:e.perfiles,label:"TIPNOM",val:"TIPCOD",placeholder:"navbar.perfil",onInput:e.filtrar},null,8,["modelValue","options","onInput"]),(0,i.Lk)("div",o,[(0,i.bF)(r,{class:"q-if-outlined no-bottom","float-label":"Inicio",format:"DD/MM/YYYY",modal:!0,modelValue:e.fecIni,"onUpdate:modelValue":l[2]||(l[2]=function(l){return e.fecIni=l}),type:"date",onChange:e.cargaInicial},null,8,["modelValue","onChange"]),(0,i.bF)(r,{class:"q-if-outlined no-bottom","float-label":"Fin",color:"primary",format:"DD/MM/YYYY",modal:!0,modelValue:e.fecFin,"onUpdate:modelValue":l[3]||(l[3]=function(l){return e.fecFin=l}),type:"date",onChange:e.cargaInicial},null,8,["modelValue","onChange"])])]),(0,i.bF)(f,{data:e.listaFinal,columns:e.columns,"row-key":"index",style:(0,n.Tr)({"max-height":e.alto}),filter:e.filter},null,8,["data","columns","style","filter"])]}),_:1})}var r=t(6123),f=t(30545),c=t(18105),u=t(80660),d=t(33001),h=t(93616),m={components:{QSelect:r.Si,QDatetime:r.T5,QTable:f.A,sieSelect:h.A,QPage:r.Tu,QSearch:r.Ks},data:function(){return{listaBase:[],fecIni:new Date((new Date).setDate(1)),fecFin:new Date,listaFinal:[],perfiles:[],filter:null,perfil:"T",columns:[{name:"USUCOD",field:"USUCOD",align:"left",label:this.$t("codigo")},{name:"USUNOM",field:"USUNOM",align:"left",label:this.$t("apellidosynombres")},{name:"TIPNOM",field:"TIPNOM",align:"left",label:this.$t("navbar.perfil")},{name:"FECACC",field:function(e){return(0,c.Ay)(e["FECACC"],"DD/MM/YYYY hh:mm A")},align:"left",label:this.$t("fhIngreso")},{name:"FECSAL",field:function(e){return(0,c.Ay)(e["FECSAL"],"DD/MM/YYYY hh:mm A")},align:"left",label:this.$t("fhSalida")},{name:"DIREIP",field:"DIREIP",align:"left",label:this.$t("IP")},{name:"SISNOM",field:"SISNOM",align:"left",label:this.$t("modulo")}]}},methods:{cargaInicial:function(){var e=this,l={fechaFin:this.fecFin,fechaIni:this.fecIni};u.$http.get("api/HyoWaccesos/obtAccesosFecha",{params:l}).then(function(l){var t=l.json;e.listaBase=t,e.filtrar()})},handleResize:function(){this.alto=window.innerHeight-110+"px"},filtrar:function(){this.listaFinal=this.listaBase,console.log(this.perfil),"T"!==this.perfil&&(this.listaFinal=(0,d.filterArray)(this.perfil,{field:"TIPCOD",list:this.listaFinal}))}},unmounted:function(){window.removeEventListener("resize",this.handleResize)},created:function(){var e=this;this.cargaInicial(),u.$http.get("api/HyoPerfiles/obtPerfilesExistentesForTipAct").then(function(l){var t=l.json;t.unshift({TIPCOD:"T",TIPNOM:"Todos"}),e.perfiles=t}),window.addEventListener("resize",this.handleResize),this.handleResize()}},p=t(12807);const b=(0,p.A)(m,[["render",s]]);var g=b}}]);