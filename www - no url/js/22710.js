"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[22710],{16681:function(e,s,t){t.r(s),t.d(s,{default:function(){return zt}});var n=t(8445),l=t.n(n),o=(t(30683),t(56285),t(52776),t(53113),t(61758)),i=t(58790),a=t(29104),r={class:"col column q-col-gutter-sm"},c={class:"row items-center q-col-gutter-sm"},u={class:"col-4"},d={class:"col-2"},p={class:"col-4"},f={class:"col-2"},h={class:"row col q-col-gutter-sm"},m={class:"col-md-6 column col-xs-12"},v={class:"col column"},S={class:"row items-center border-th"},U={class:"col-3 q-tp-sm cutText"},g={class:"col column justify-center q-pl-sm"},b={class:"col cutText"},k={class:"col column justify-center q-pl-sm"},O={class:"col cutText text-right q-pr-lg"},C={class:"col column justify-center q-pl-sm"},A={class:"col"},D={class:"full-height"},L=["onClick"],P={class:"col-3 q-tp-sm cutText"},E={class:"col column justify-center q-pl-sm"},I={class:"col cutText"},T={class:"col column justify-center q-pl-sm"},w={class:"border-footer full-width text-right"},x={class:"col"},V={key:1,class:"column col"},N={class:"col-md-6 column col-xs-12 full-height"},y={key:0,class:"col column full-height"},F={class:"row header-menu items-center"},R={class:"col"},M={class:"col scroll-y bordered relative-position"},q={class:"row header-menu items-center"},_={class:"col"},$={class:"col column row"},j={class:"col column col-xs-12 sie-flat"},G={class:"footer-menu"},Q={key:0,class:"row q-px-sm q-py-xs"},X={key:0,class:"row"},H={class:"row modalUsurioCustomDisabled q-col-gutter-sm"},W={class:"col-6"},B={class:"col-6"},z={class:"col-6"},K={class:"col-6"},Z={class:"col-6"},J={class:"col-6"},Y={class:"row"},ee={class:"col"},se={class:"col"},te={class:"col-6"},ne={class:"col-6"},le={class:"col-6"},oe={class:"col-6"},ie={key:0,class:"col-6"},ae={class:"col-6"},re={class:"col-6"},ce={class:"row"},ue={class:"col"},de={class:"col"},pe={class:"row col"},fe={class:"col-12"},he={class:"row border-th items-center"},me={class:"col-3 text-center"},ve={class:"col-6"},Se={class:"col-3 text-center"},Ue={class:"col-3 text-center"},ge={class:"col-6"},be={class:"col-3 text-center"},ke={class:"q-pa-md"},Oe={class:"row q-pa-md"},Ce={class:"col-12 q-pb-xl"},Ae={class:"row"},De={class:"col-3 q-pr-md"},Le={class:"col-3 q-pr-md"},Pe={class:"col-3"},Ee={class:"col-12"},Ie={class:"panel-left"},Te={class:"row q-pb-md q-pb-lg q-mb-md"},we={class:"col text-weight-bold text-tertiary q-pl-md"},xe={class:"row custom-style q-pb-xs text-weight-bold text-tertiary"},Ve={class:"col-1 cutText"},Ne={class:"col cutText"},ye={class:"col-2 cutText"},Fe={class:"row q-body-1"},Re={class:"col-1 cutText"},Me={class:"col-1 cutText"},qe={class:"col-1 cutText"},_e={class:"col-1 cutText"},$e={class:"col cutText"},je={class:"col-2 cutText"},Ge={class:"row q-pt-sm"},Qe={class:"col"},Xe={class:"text-weight-bold text-faded"},He={class:"col text-right"},We={class:"q-caption text-weight-bold"},Be={class:"text-weight-bold q-body-1"},ze={class:"panel-center"},Ke={class:"row q-mt-xl q-pt-xl"},Ze={class:"col-12 q-pb-md text-center"},Je={class:"col-12 text-center"},Ye={class:"panel-right"},es={class:"row q-pb-md q-pb-md q-pb-lg q-mb-md"},ss={class:"col text-weight-bold text-tertiary"},ts={class:"row custom-style q-pb-xs text-weight-bold text-tertiary"},ns={class:"col-1 cutText"},ls={class:"col cutText"},os={class:"col-2 cutText"},is={class:"row q-body-1"},as={class:"col-1 cutText"},rs={class:"col-1 cutText"},cs={class:"col-1 cutText"},us={class:"col-1 cutText"},ds={class:"col cutText"},ps={class:"col-2 cutText"},fs={class:"row q-pt-sm"},hs={class:"col"},ms={class:"text-weight-bold text-faded"},vs={class:"col text-right"},Ss={class:"q-caption text-weight-bold"},Us={class:"text-weight-bold q-body-1"},gs={key:0},bs={class:"q-pa-md"},ks={class:"row"},Os={class:"col-12"},Cs={class:"col-12 q-pt-sm"},As={key:0,class:"row q-pt-md"},Ds={class:"col-4"},Ls={class:"col-4"},Ps={class:"col-4"},Es={class:"row"},Is={class:"col-12 q-pt-sm"},Ts={key:1,class:"row q-pt-md"},ws={class:"col-4"},xs={class:"col-4"},Vs={class:"col-4"},Ns={class:"row"},ys={class:"col-12 q-pt-sm"};function Fs(e,s){var t=this,n=(0,o.g2)("header-btn"),Fs=(0,o.g2)("sie-select"),Rs=(0,o.g2)("q-select"),Ms=(0,o.g2)("q-option-group"),qs=(0,o.g2)("q-search"),_s=(0,o.g2)("q-btn"),$s=(0,o.g2)("virtual-list"),js=(0,o.g2)("sie-vacio"),Gs=(0,o.g2)("q-spinner"),Qs=(0,o.g2)("q-inner-loading"),Xs=(0,o.g2)("permiso"),Hs=(0,o.g2)("sie-table"),Ws=(0,o.g2)("q-avatar"),Bs=(0,o.g2)("q-chip"),zs=(0,o.g2)("asignar-permiso"),Ks=(0,o.g2)("q-alert"),Zs=(0,o.g2)("q-input-v2"),Js=(0,o.g2)("q-select-v2"),Ys=(0,o.g2)("q-checkbox"),et=(0,o.g2)("q-form"),st=(0,o.g2)("sie-modal"),tt=(0,o.g2)("q-radio"),nt=(0,o.g2)("q-toolbar"),lt=(0,o.g2)("q-card-section"),ot=(0,o.g2)("q-card"),it=(0,o.g2)("q-page");return(0,o.uX)(),(0,o.Wv)(it,{class:"configuracionusuariosnew q-pa-sm"},{default:(0,o.k6)(function(){return[(0,o.bF)(ot,{class:"col column",dense:"",flat:"",bordered:""},{default:(0,o.k6)(function(){return[(0,o.bF)(n,{name:"Seguridad Usuario",buttons:e.buttons},null,8,["buttons"]),(0,o.bF)(lt,{class:"col column"},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",r,[(0,o.Lk)("div",c,[(0,o.Lk)("div",u,[(0,o.bF)(Fs,{type:"outlined",placeholder:e.$t("validaciones.seleccione"),modelValue:e.selectProfile,"onUpdate:modelValue":s[0]||(s[0]=function(s){return e.selectProfile=s}),options:e.profiles,onInput:e.getSelectProfiles,label:"label",val:"value"},null,8,["placeholder","modelValue","options","onInput"])]),(0,o.Lk)("div",d,[(0,o.bF)(Rs,{class:"q-if-outlined","float-label":e.$t("validaciones.seleccione"),modelValue:e.selectstate,"onUpdate:modelValue":s[1]||(s[1]=function(s){return e.selectstate=s}),options:e.states,onInput:e.getSelectStates},null,8,["float-label","modelValue","options","onInput"])]),(0,o.Lk)("div",p,[(0,o.bF)(Ms,{modelValue:e.option,"onUpdate:modelValue":s[2]||(s[2]=function(s){return e.option=s}),color:"primary",options:e.optionRadios,inline:"",onInput:s[3]||(s[3]=function(s){e.selectUser(e.currentSelectUser),e.getSistemas(e.currentSelectUser.USUCOD)})},null,8,["modelValue","options"])]),(0,o.Lk)("div",f,[(0,o.bF)(Rs,{class:"q-if-outlined","float-label":e.$t("validaciones.seleccione"),modelValue:e.siscod,"onUpdate:modelValue":s[4]||(s[4]=function(s){return e.siscod=s}),options:e.sistemas,onInput:e.selectSistema},null,8,["float-label","modelValue","options","onInput"])])]),(0,o.Lk)("div",h,[(0,o.Lk)("div",m,[(0,o.Lk)("div",v,[(0,o.bF)(qs,{class:"q-px-sm border-search",placeholder:e.$t("botones.buscar"),modelValue:e.search,"onUpdate:modelValue":s[5]||(s[5]=function(s){return e.search=s}),onInput:e.searchUser},null,8,["placeholder","modelValue","onInput"]),e.listSelectedUsers.length>0?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.Lk)("div",S,[(0,o.Lk)("div",U,[(0,o.Lk)("b",g,(0,i.v_)(e.$t("usuarios")),1)]),(0,o.Lk)("div",b,[(0,o.Lk)("b",k,(0,i.v_)(e.$t("apellidosynombres")),1)]),(0,o.Lk)("div",O,[(0,o.Lk)("b",C,(0,i.v_)(e.$t("botones.editar")),1)])]),(0,o.Lk)("div",A,[(0,o.Lk)("div",D,[(0,o.bF)($s,{size:42,remain:25,options:e.listSelectedUsers},{item:(0,o.k6)(function(s){var t=s.item;return[(0,o.Lk)("div",{class:(0,i.C4)(["row cursor-pointer q-body-1 items-center border-td",e.currentSelectUser.USUCOD===t.USUCOD?"custom-selected":""]),onClick:function(s){e.selectUser(t),e.getSistemas(e.currentSelectUser.USUCOD)}},[(0,o.Lk)("div",P,[(0,o.Lk)("span",E,(0,i.v_)(t.USUCOD),1)]),(0,o.Lk)("div",I,[(0,o.Lk)("span",T,(0,i.v_)(t.USUNOM),1)]),(0,o.bF)(_s,{dense:"",flat:"",round:"",icon:"edit",onClick:(0,a.D$)(function(s){return e.openUserModal(t,"edit")},["stop"])},null,8,["onClick"])],10,L)]}),_:1},8,["options"])])]),(0,o.Lk)("div",w,[(0,o.Lk)("div",x,(0,i.v_)("".concat(e.$t("total"),": ").concat(e.listSelectedUsers.length)),1)])],64)):((0,o.uX)(),(0,o.CE)("div",V,[(0,o.bF)(js,{icon:"settings_applications"})]))])]),(0,o.Lk)("div",N,[e.allowUsers.length>0&&1===e.option&&e.currentSelectUser.USUCOD?((0,o.uX)(),(0,o.CE)("div",y,[(0,o.Lk)("div",F,[(0,o.Lk)("div",R,(0,i.v_)("1 - Sistema ".concat(e.sisnom," >> Menús >> ").concat(e.currentSelectUser.USUCOD)),1),s[49]||(s[49]=(0,o.Lk)("div",{class:"row"},[(0,o.Lk)("div",{class:"estado"},"Est."),(0,o.Lk)("div",{class:"estado"},"SL"),(0,o.Lk)("div",{class:"estado"},"LE"),(0,o.Lk)("div",{class:"estado"},"AT")],-1))]),(0,o.Lk)("div",M,[(0,o.bF)(Qs,{visible:e.loading,class:(0,i.C4)(["bg-white","z-fab"])},{default:(0,o.k6)(function(){return[(0,o.bF)(Gs,{color:"primary",name:"dots",size:"40px"})]}),_:1},8,["visible"]),e.loading?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.Wv)(Xs,{key:0,ref:"permiso",items:e.allowUsers,nivel:1,usucod:t.currentSelectUser.USUCOD,"no-padding":"","no-border":""},null,8,["items","usucod"]))])])):e.rows.length>0&&2===e.option&&e.currentSelectUser.USUCOD?((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.Lk)("div",q,[(0,o.Lk)("div",_,(0,i.v_)("1 - Sistema ".concat(e.sisnom," >> Reportes >> ").concat(e.currentSelectUser.USUCOD)),1)]),(0,o.Lk)("div",$,[(0,o.Lk)("div",j,[(0,o.bF)(Hs,{class:"col",columns:e.fields,data:e.rows,config:e.config,context:t},null,8,["columns","data","config"])])])],64)):((0,o.uX)(),(0,o.Wv)(js,{key:2,class:"col column bordered",icon:"settings_applications",title:e.$t("matricula.cfgAutorizaciones"),subtitle:e.$t("seguridad.seleccione")},null,8,["title","subtitle"])),(0,o.Lk)("div",G,[1===e.option?((0,o.uX)(),(0,o.CE)("div",Q,[(0,o.bF)(Bs,{dense:"",size:"md"},{default:(0,o.k6)(function(){return[(0,o.bF)(Ws,{color:"primary","text-color":"white"},{default:(0,o.k6)(function(){return l()(s[50]||(s[50]=[(0,o.eW)("Est.",-1)]))}),_:1}),s[51]||(s[51]=(0,o.Lk)("div",{class:"q-caption"},"Estado",-1))]}),_:1}),(0,o.bF)(Bs,{dense:"",size:"md"},{default:(0,o.k6)(function(){return[(0,o.bF)(Ws,{color:"primary","text-color":"white"},{default:(0,o.k6)(function(){return l()(s[52]||(s[52]=[(0,o.eW)("SL",-1)]))}),_:1}),s[53]||(s[53]=(0,o.Lk)("div",{class:"q-caption"},"Solo Lectura",-1))]}),_:1}),(0,o.bF)(Bs,{dense:"",size:"md"},{default:(0,o.k6)(function(){return[(0,o.bF)(Ws,{color:"primary","text-color":"white"},{default:(0,o.k6)(function(){return l()(s[54]||(s[54]=[(0,o.eW)("LE",-1)]))}),_:1}),s[55]||(s[55]=(0,o.Lk)("div",{class:"q-caption"},"Lectura/Escritura",-1))]}),_:1}),(0,o.bF)(Bs,{dense:"",size:"md"},{default:(0,o.k6)(function(){return[(0,o.bF)(Ws,{color:"primary","text-color":"white"},{default:(0,o.k6)(function(){return l()(s[56]||(s[56]=[(0,o.eW)("AT",-1)]))}),_:1}),s[57]||(s[57]=(0,o.Lk)("div",{class:"q-caption"},"Acceso Total",-1))]}),_:1})])):(0,o.Q3)("v-if",!0)])])])]),(0,o.bF)(zs,{usunom:e.usunom,modelValue:e.modal,"onUpdate:modelValue":s[6]||(s[6]=function(s){return e.modal=s}),ref:"asigPer"},null,8,["usunom","modelValue"]),(0,o.bF)(st,{class:"seguridad_usario--crear-usuario",modelValue:e.openUser,"onUpdate:modelValue":s[23]||(s[23]=function(s){return e.openUser=s}),title:e.$t("usuarios"),onSubmit:e.saveUsers,column:"",loading:e.loadingUsuario},{default:(0,o.k6)(function(){return[(0,o.bF)(et,{class:"col column q-col-gutter-sm q-pa-sm",ref:"formUsuario"},{default:(0,o.k6)(function(){return[e.alertaMantenimientoInactivo?((0,o.uX)(),(0,o.CE)("div",X,[(0,o.bF)(Ks,{type:"negative"},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",null,(0,i.v_)("El usuario ".concat(e.users.user," se encuentra como retirado en Matenimiento Personal")),1)]}),_:1})])):(0,o.Q3)("v-if",!0),(0,o.Lk)("div",H,["new"===e.saveUserModal?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.Lk)("div",W,[(0,o.bF)(Zs,{disable:e.bloquearAlSeleccionarPersonal,modelValue:e.users.name,"onUpdate:modelValue":s[7]||(s[7]=function(s){return e.users.name=s}),label:e.$t("seguridad.nombre"),rules:[function(s){return!!s||e.$t("validaciones.requerido")}]},null,8,["disable","modelValue","label","rules"])]),(0,o.Lk)("div",B,[(0,o.bF)(Js,{modelValue:e.users.selectProfile,"onUpdate:modelValue":s[8]||(s[8]=function(s){return e.users.selectProfile=s}),options:e.profilesModal,onInput:e.getSelectProfilesUsers,label:e.$t("validaciones.seleccione")},null,8,["modelValue","options","onInput","label"])]),(0,o.Lk)("div",z,[(0,o.bF)(Zs,{disable:e.bloquearAlSeleccionarPersonal,modelValue:e.users.user,"onUpdate:modelValue":s[9]||(s[9]=function(s){return e.users.user=s}),label:e.$t("seguridad.usuario"),rules:[function(s){return!!s||e.$t("validaciones.requerido")}],onKeyup:e.passwordGenerate},null,8,["disable","modelValue","label","rules","onKeyup"])]),(0,o.Lk)("div",K,[e.esCentral?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.Wv)(Js,{key:0,modelValue:e.selectPersonal,"onUpdate:modelValue":s[10]||(s[10]=function(s){return e.selectPersonal=s}),options:e.dataPersonal,"option-label":"NOMCOMP",label:"Seleccionar personal",onInput:e.getSelectPersonal},null,8,["modelValue","options","onInput"]))]),(0,o.Lk)("div",Z,[(0,o.bF)(Zs,{disabled:"",readonly:"",modelValue:e.users.password,"onUpdate:modelValue":s[11]||(s[11]=function(s){return e.users.password=s}),label:e.$t("seguridad.clave")},null,8,["modelValue","label"])]),(0,o.Lk)("div",J,[(0,o.Lk)("div",Y,[(0,o.Lk)("div",ee,[(0,o.bF)(Ys,{color:"secondary",modelValue:e.users.access,"onUpdate:modelValue":s[12]||(s[12]=function(s){return e.users.access=s}),label:"Acceso total a salones"},null,8,["modelValue"])]),(0,o.Lk)("div",se,[(0,o.bF)(Ys,{color:"secondary",modelValue:e.users.accesspers,"onUpdate:modelValue":s[13]||(s[13]=function(s){return e.users.accesspers=s}),label:"Acceso total a personal"},null,8,["modelValue"])])])])],64)):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[(0,o.Lk)("div",te,[(0,o.bF)(Zs,{disable:"",readonly:"",modelValue:e.users.name,"onUpdate:modelValue":s[14]||(s[14]=function(s){return e.users.name=s}),label:e.$t("seguridad.nombre")},null,8,["modelValue","label"])]),(0,o.Lk)("div",ne,[e.esCentral?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.Wv)(Js,{key:0,disable:e.alertaMantenimientoInactivo||"004"===e.users.selectProfile||"005"===e.users.selectProfile,modelValue:e.users.selectProfile,"onUpdate:modelValue":s[15]||(s[15]=function(s){return e.users.selectProfile=s}),options:e.profilesModal,onInput:e.getSelectProfilesUsers,label:e.$t("validaciones.seleccione")},null,8,["disable","modelValue","options","onInput","label"]))]),(0,o.Lk)("div",le,[(0,o.bF)(Zs,{disable:"",readonly:"",modelValue:e.users.user,"onUpdate:modelValue":s[16]||(s[16]=function(s){return e.users.user=s}),label:e.$t("seguridad.usuario")},null,8,["modelValue","label"])]),(0,o.Lk)("div",oe,[(0,o.bF)(Zs,{disable:"",readonly:"",modelValue:e.users.staff,"onUpdate:modelValue":s[17]||(s[17]=function(s){return e.users.staff=s}),label:e.$t("seguridad.personal")},null,8,["modelValue","label"])]),e.usaNickName?((0,o.uX)(),(0,o.CE)("div",ie,[(0,o.bF)(Zs,{disable:"",readonly:"",modelValue:e.users.nickname,"onUpdate:modelValue":s[18]||(s[18]=function(s){return e.users.nickname=s}),label:"Nickname"},null,8,["modelValue"])])):(0,o.Q3)("v-if",!0),(0,o.Lk)("div",ae,[(0,o.bF)(Zs,{disable:"",readonly:"",modelValue:e.users.password,"onUpdate:modelValue":s[19]||(s[19]=function(s){return e.users.password=s}),label:e.$t("seguridad.clave")},null,8,["modelValue","label"])]),(0,o.Lk)("div",re,[(0,o.Lk)("div",ce,[(0,o.Lk)("div",ue,[(0,o.bF)(Ys,{disable:e.alertaMantenimientoInactivo,color:"secondary",modelValue:e.users.access,"onUpdate:modelValue":s[20]||(s[20]=function(s){return e.users.access=s}),label:"Acceso total a salones"},null,8,["disable","modelValue"])]),(0,o.Lk)("div",de,[(0,o.bF)(Ys,{disable:e.alertaMantenimientoInactivo,color:"secondary",modelValue:e.users.accesspers,"onUpdate:modelValue":s[21]||(s[21]=function(s){return e.users.accesspers=s}),label:"Acceso total a personal"},null,8,["disable","modelValue"])])])])],64))]),(0,o.Lk)("div",pe,[(0,o.Lk)("div",fe,[(0,o.Lk)("div",he,[(0,o.Lk)("div",me,(0,i.v_)(e.$t("codigo")),1),(0,o.Lk)("div",ve,(0,i.v_)(e.$t("sistema")),1),(0,o.Lk)("div",Se,(0,i.v_)(e.$t("matricula.estado")),1)]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.accessModule,function(t,n){return(0,o.uX)(),(0,o.CE)("div",{key:n,class:"row border-td items-center"},[(0,o.Lk)("div",Ue,(0,i.v_)(t.SISCOD),1),(0,o.Lk)("div",ge,(0,i.v_)(t.SISNOM),1),(0,o.Lk)("div",be,[(0,o.bF)(Ys,{disable:e.alertaMantenimientoInactivo,color:"secondary",modelValue:e.checkActive,"onUpdate:modelValue":s[22]||(s[22]=function(s){return e.checkActive=s}),val:t,onInput:function(s){return e.checkboxUsers(t)}},null,8,["disable","modelValue","val","onInput"])])])}),128))])])]}),_:1},512)]}),_:1},8,["modelValue","title","onSubmit","loading"]),(0,o.bF)(st,{modelValue:e.openSetting,"onUpdate:modelValue":s[25]||(s[25]=function(s){return e.openSetting=s}),css:{"max-width":"400px","min-height":"250px"},title:e.$t("seguridad.proceso"),onSubmit:e.saveSetting},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",ke,[(0,o.bF)(Rs,{class:"q-if-outlined q-mb-sm",modelValue:e.selectSetting,"onUpdate:modelValue":s[24]||(s[24]=function(s){return e.selectSetting=s}),options:e.dataSetting,"float-label":e.$t("validaciones.seleccione")},null,8,["modelValue","options","float-label"]),s[58]||(s[58]=(0,o.Lk)("p",{class:"q-pa-md text-justify",style:{background:"#f4af49",color:"white"}},[(0,o.eW)("Este proceso creará las cuentas de acceso a los módulos del SIEWEB, solamente a los perfiles "),(0,o.Lk)("b",null,"Profesor, Familia y alumno.")],-1))])]}),_:1},8,["modelValue","title","onSubmit"]),(0,o.bF)(st,{modelValue:e.openAccess,"onUpdate:modelValue":s[33]||(s[33]=function(s){return e.openAccess=s}),css:{"min-width":"400px","max-width":"900px","min-height":"590px"},title:e.$t("botones.accesos")},{footer:(0,o.k6)(function(){return l()(s[67]||(s[67]=[(0,o.Lk)("div",null,null,-1)]))}),default:(0,o.k6)(function(){return[(0,o.Lk)("div",Oe,[(0,o.Lk)("div",Ce,[(0,o.Lk)("div",Ae,[(0,o.Lk)("div",De,[(0,o.bF)(Rs,{class:"q-if-outlined q-mb-sm",modelValue:e.accessOption.gradeSelected,"onUpdate:modelValue":s[26]||(s[26]=function(s){return e.accessOption.gradeSelected=s}),options:e.filterGrade,"float-label":e.$t("grado"),onInput:e.changeDataAccess},null,8,["modelValue","options","float-label","onInput"])]),(0,o.Lk)("div",Le,[(0,o.bF)(Rs,{class:"q-if-outlined q-mb-sm",modelValue:e.accessOption.sectionSelected,"onUpdate:modelValue":s[27]||(s[27]=function(s){return e.accessOption.sectionSelected=s}),options:e.filterSection,"float-label":e.$t("ngs.seccion"),onInput:e.changeDataAccess},null,8,["modelValue","options","float-label","onInput"])]),(0,o.Lk)("div",Pe,[(0,o.bF)(Rs,{class:"q-if-outlined q-mb-sm",modelValue:e.accessOption.courseSelected,"onUpdate:modelValue":s[28]||(s[28]=function(s){return e.accessOption.courseSelected=s}),options:e.filterCourse,"float-label":e.$t("curso"),onInput:e.changeDataAccess},null,8,["modelValue","options","float-label","onInput"])])])]),(0,o.Lk)("div",Ee,[(0,o.Lk)("div",Ie,[(0,o.Lk)("div",Te,[(0,o.Lk)("div",we,(0,i.v_)(e.$t("intranet.cursos")),1)]),(0,o.Lk)("div",xe,[(0,o.Lk)("div",Ve,[(0,o.bF)(Ys,{color:"secondary",modelValue:e.checkAllCourseUnsigned,"onUpdate:modelValue":s[29]||(s[29]=function(s){return e.checkAllCourseUnsigned=s}),onInput:e.checkAllAccessUnsigned},null,8,["modelValue","onInput"])]),s[59]||(s[59]=(0,o.Lk)("div",{class:"col-1 cutText"},[(0,o.Lk)("span",null,"N")],-1)),s[60]||(s[60]=(0,o.Lk)("div",{class:"col-1 cutText"},[(0,o.Lk)("span",null,"G")],-1)),s[61]||(s[61]=(0,o.Lk)("div",{class:"col-1 cutText"},[(0,o.Lk)("span",null,"S")],-1)),(0,o.Lk)("div",Ne,[(0,o.Lk)("span",null,(0,i.v_)(e.$t("curso")),1)]),(0,o.Lk)("div",ye,[(0,o.Lk)("span",null,(0,i.v_)(e.$t("grupo")),1)])]),(0,o.bF)($s,{size:20,remain:15},{default:(0,o.k6)(function(){return[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.filterDataAcces,function(t,n){return(0,o.uX)(),(0,o.CE)("div",{key:n,class:"item cursor-pointer q-pt-md q-pb-xs border-bottom-xs"},[(0,o.Lk)("div",Fe,[(0,o.Lk)("div",Re,[(0,o.bF)(Ys,{color:"secondary",modelValue:e.checkCourseUnsigned,"onUpdate:modelValue":s[30]||(s[30]=function(s){return e.checkCourseUnsigned=s}),val:t,onInput:e.getCheckCourseUnsigned},null,8,["modelValue","val","onInput"])]),(0,o.Lk)("div",Me,[(0,o.Lk)("span",null,(0,i.v_)(t.INSTRUCOD),1)]),(0,o.Lk)("div",qe,[(0,o.Lk)("span",null,(0,i.v_)(t.GRADOCOD),1)]),(0,o.Lk)("div",_e,[(0,o.Lk)("span",null,(0,i.v_)(t.SECCIONCOD),1)]),(0,o.Lk)("div",$e,[(0,o.Lk)("span",null,(0,i.v_)(t.CURSONOM),1)]),(0,o.Lk)("div",je,[(0,o.Lk)("span",null,(0,i.v_)(t.GRUPODES),1)])])])}),128))]}),_:1}),(0,o.Lk)("div",Ge,[(0,o.Lk)("div",Qe,[(0,o.Lk)("span",null,[s[62]||(s[62]=(0,o.Lk)("span",{class:"q-body-1 text-dark"},"Seleccionado :",-1)),(0,o.Lk)("span",Xe,(0,i.v_)(e.checkCourseUnsigned.length),1)])]),(0,o.Lk)("div",He,[(0,o.Lk)("span",null,[(0,o.Lk)("span",We,(0,i.v_)(e.$t("total"))+" :",1),(0,o.Lk)("span",Be,(0,i.v_)(e.filterDataAcces.length),1)])])])]),(0,o.Lk)("div",ze,[(0,o.Lk)("div",Ke,[(0,o.Lk)("div",Ze,[(0,o.bF)(_s,{onClick:e.setAssigned,color:"secondary",dense:"",size:"lg",icon:"arrow_forward"},null,8,["onClick"])]),(0,o.Lk)("div",Je,[(0,o.bF)(_s,{onClick:e.setUnsigned,color:"secondary",dense:"",size:"lg",icon:"arrow_back"},null,8,["onClick"])])])]),(0,o.Lk)("div",Ye,[(0,o.Lk)("div",es,[(0,o.Lk)("div",ss,(0,i.v_)(e.$t("intranet.seguridadUsuario.cursoAsignado"))+" "+(0,i.v_)(e.currentSelectUser.USUCOD||""),1)]),(0,o.Lk)("div",ts,[(0,o.Lk)("div",ns,[(0,o.bF)(Ys,{color:"secondary",modelValue:e.checkAllCourseAssigned,"onUpdate:modelValue":s[31]||(s[31]=function(s){return e.checkAllCourseAssigned=s}),onInput:e.checkAllAccessAssigned},null,8,["modelValue","onInput"])]),s[63]||(s[63]=(0,o.Lk)("div",{class:"col-1 cutText"},[(0,o.Lk)("span",null,[(0,o.Lk)("b",null,"N")])],-1)),s[64]||(s[64]=(0,o.Lk)("div",{class:"col-1 cutText"},[(0,o.Lk)("span",null,[(0,o.Lk)("b",null,"G")])],-1)),s[65]||(s[65]=(0,o.Lk)("div",{class:"col-1 cutText"},[(0,o.Lk)("span",null,[(0,o.Lk)("b",null,"S")])],-1)),(0,o.Lk)("div",ls,[(0,o.Lk)("span",null,[(0,o.Lk)("b",null,(0,i.v_)(e.$t("curso")),1)])]),(0,o.Lk)("div",os,[(0,o.Lk)("span",null,[(0,o.Lk)("b",null,(0,i.v_)(e.$t("grupo")),1)])])]),(0,o.bF)($s,{size:20,remain:15},{default:(0,o.k6)(function(){return[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.filterDataAccesAssigned,function(t,n){return(0,o.uX)(),(0,o.CE)("div",{key:n,class:"item cursor-pointer q-pt-md q-pb-xs border-bottom-xs"},[(0,o.Lk)("div",is,[(0,o.Lk)("div",as,[(0,o.bF)(Ys,{color:"secondary",modelValue:e.checkCourseAssigned,"onUpdate:modelValue":s[32]||(s[32]=function(s){return e.checkCourseAssigned=s}),val:t,onInput:e.getCheckCourseAssigned},null,8,["modelValue","val","onInput"])]),(0,o.Lk)("div",rs,[(0,o.Lk)("span",null,(0,i.v_)(t.INSTRUCOD),1)]),(0,o.Lk)("div",cs,[(0,o.Lk)("span",null,(0,i.v_)(t.GRADOCOD),1)]),(0,o.Lk)("div",us,[(0,o.Lk)("span",null,(0,i.v_)(t.SECCIONCOD),1)]),(0,o.Lk)("div",ds,[(0,o.Lk)("span",null,(0,i.v_)(t.CURSONOM),1)]),(0,o.Lk)("div",ps,[(0,o.Lk)("span",null,(0,i.v_)(t.GRUPODES),1)])])])}),128))]}),_:1}),(0,o.Lk)("div",fs,[(0,o.Lk)("div",hs,[(0,o.Lk)("span",null,[s[66]||(s[66]=(0,o.Lk)("span",{class:"q-body-1 text-dark"},"Seleccionado :",-1)),(0,o.Lk)("span",ms,(0,i.v_)(e.checkCourseAssigned.length),1)])]),(0,o.Lk)("div",vs,[(0,o.Lk)("span",null,[(0,o.Lk)("span",Ss,(0,i.v_)(e.$t("total"))+" :",1),(0,o.Lk)("span",Us,(0,i.v_)(e.filterDataAccesAssigned.length),1)])])])])])])]}),_:1},8,["modelValue","title"]),(0,o.bF)(st,{modelValue:e.openPrint,"onUpdate:modelValue":s[48]||(s[48]=function(s){return e.openPrint=s}),css:{"max-width":"600px","min-width":"300px","min-height":"250px"},title:e.$t("seguridad.irmprimir")},{customButtons:(0,o.k6)(function(){return[e.isGreater?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.CE)("div",gs,[(0,o.bF)(_s,{"no-caps":"",dense:"",flat:"",round:"",icon:"file_excel",onClick:s[34]||(s[34]=function(s){return e.exportFiles("excel")})}),(0,o.bF)(_s,{"no-caps":"",dense:"",flat:"",round:"",icon:"file_pdf",onClick:s[35]||(s[35]=function(s){return e.exportFiles("pdf")})})]))]}),footer:(0,o.k6)(function(){return[(0,o.bF)(nt,{class:"justify-end",color:"grey-2"},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",null,[(0,o.bF)(_s,{class:"q-mx-xs","no-caps":"",icon:"file_pdf",label:"PDF",color:"primary",onClick:s[46]||(s[46]=function(s){return e.exportFiles("pdf")})}),(0,o.bF)(_s,{class:"q-mx-xs","no-caps":"",icon:"file_excel",label:"EXCEL",color:"primary",onClick:s[47]||(s[47]=function(s){return e.exportFiles("excel")})})])]}),_:1})]}),default:(0,o.k6)(function(){return[(0,o.Lk)("div",bs,[(0,o.Lk)("div",ks,[(0,o.Lk)("div",Os,[(0,o.bF)(Ys,{color:"secondary",modelValue:e.print.matriculados,"onUpdate:modelValue":s[36]||(s[36]=function(s){return e.print.matriculados=s}),label:"Matriculados"},null,8,["modelValue"])]),s[68]||(s[68]=(0,o.Lk)("div",{class:"col-12 q-pt-sm"},[(0,o.Lk)("b",null,[(0,o.Lk)("span",null,"Seleccione reporte")])],-1)),(0,o.Lk)("div",Cs,[(0,o.bF)(tt,{modelValue:e.print.option,"onUpdate:modelValue":s[37]||(s[37]=function(s){return e.print.option=s}),val:"r1",label:"Relación de usuarios"},null,8,["modelValue"])])]),"r1"===e.print.option&&["004","005"].indexOf(e.selectProfile)>=0?((0,o.uX)(),(0,o.CE)("div",As,[(0,o.Lk)("div",Ds,[(0,o.bF)(Fs,{type:"outlined",modelValue:e.instrucod,"onUpdate:modelValue":s[38]||(s[38]=function(s){return e.instrucod=s}),options:e.niveles,label:"INSTRUDES",val:"INSTRUCOD",placeholder:"ngs.nivel",onSelected:e.obtGrados},null,8,["modelValue","options","onSelected"])]),(0,o.Lk)("div",Ls,[(0,o.bF)(Fs,{type:"outlined",modelValue:e.gradocod,"onUpdate:modelValue":s[39]||(s[39]=function(s){return e.gradocod=s}),options:e.grados,label:"GRADODES",val:"GRADOCOD",placeholder:"ngs.grado",onSelected:e.obtSecciones},null,8,["modelValue","options","onSelected"])]),(0,o.Lk)("div",Ps,[(0,o.bF)(Fs,{type:"outlined",modelValue:e.seccioncod,"onUpdate:modelValue":s[40]||(s[40]=function(s){return e.seccioncod=s}),options:e.secciones,label:"SECCIONDES",val:"SECCIONCOD",placeholder:"ngs.seccion"},null,8,["modelValue","options"])])])):(0,o.Q3)("v-if",!0),(0,o.Lk)("div",Es,[(0,o.Lk)("div",Is,[(0,o.bF)(tt,{modelValue:e.print.option,"onUpdate:modelValue":s[41]||(s[41]=function(s){return e.print.option=s}),val:"r3",label:"Reporte de alumnos - Familias"},null,8,["modelValue"])])]),"r3"===e.print.option?((0,o.uX)(),(0,o.CE)("div",Ts,[(0,o.Lk)("div",ws,[(0,o.bF)(Fs,{type:"outlined",modelValue:e.instrucod,"onUpdate:modelValue":s[42]||(s[42]=function(s){return e.instrucod=s}),options:e.niveles,label:"INSTRUDES",val:"INSTRUCOD",placeholder:"ngs.nivel",onSelected:e.obtGrados},null,8,["modelValue","options","onSelected"])]),(0,o.Lk)("div",xs,[(0,o.bF)(Fs,{type:"outlined",modelValue:e.gradocod,"onUpdate:modelValue":s[43]||(s[43]=function(s){return e.gradocod=s}),options:e.grados,label:"GRADODES",val:"GRADOCOD",placeholder:"ngs.grado",onSelected:e.obtSecciones},null,8,["modelValue","options","onSelected"])]),(0,o.Lk)("div",Vs,[(0,o.bF)(Fs,{type:"outlined",modelValue:e.seccioncod,"onUpdate:modelValue":s[44]||(s[44]=function(s){return e.seccioncod=s}),options:e.secciones,label:"SECCIONDES",val:"SECCIONCOD",placeholder:"ngs.seccion"},null,8,["modelValue","options"])])])):(0,o.Q3)("v-if",!0),(0,o.Lk)("div",Ns,[(0,o.Lk)("div",ys,[(0,o.bF)(tt,{modelValue:e.print.option,"onUpdate:modelValue":s[45]||(s[45]=function(s){return e.print.option=s}),val:"r2",label:"Niveles de acceso por usuario"},null,8,["modelValue"])])])])]}),_:1},8,["modelValue","title"])]}),_:1})]}),_:1})]}),_:1})}var Rs=t(99550),Ms=t.n(Rs),qs=t(41562),_s=t.n(qs),$s=t(76080),js=t.n($s),Gs=t(45254),Qs=t.n(Gs),Xs=(t(71225),t(39866),t(52133),t(10239),t(23513),t(25751),t(89571),t(50310),t(5962),t(6724),t(70199),t(83190),t(62692),t(68017),t(83972)),Hs=t(6123),Ws=t(96122),Bs=t(3112),zs=t(95051),Ks=t(74656),Zs=t(88567),Js=t(95718),Ys=t(41482),et=t(9736),st=t(16648),tt=t(2739),nt=t(82640),lt=t(65229),ot=t(30640),it=t(34858),at=t(93616),rt=t(80340),ct=t(57668),ut=t(81288),dt=t(982),pt=t(99637),ft=t(33001),ht=t(69027),mt=t(2819),vt=t(9432);function St(e,s){var t=(0,o.g2)("nodo");return(0,o.uX)(),(0,o.Wv)(t,{class:"components-tree-permisos",items:e.items,nivel:e.nivel,"no-border":e.noBorder,"no-padding":e.noPadding},null,8,["items","nivel","no-border","no-padding"])}t(11777);var Ut={class:"row seguridad-components-permiso-tipo-nodo"},gt={class:"col-12"};function bt(e,s){var t=(0,o.g2)("nodo-template"),n=(0,o.g2)("q-list");return(0,o.uX)(),(0,o.CE)("div",Ut,[(0,o.Lk)("div",gt,[1===e.nivel?((0,o.uX)(),(0,o.Wv)(n,{key:0,class:(0,i.C4)(["rounded-borders",[{"no-padding":e.noPadding}]]),"no-border":e.noBorder},{default:(0,o.k6)(function(){return[(0,o.bF)(t,{items:e.items,nivel:e.nivel},null,8,["items","nivel"])]}),_:1},8,["no-border","class"])):((0,o.uX)(),(0,o.Wv)(t,{key:1,items:e.items,nivel:e.nivel},null,8,["items","nivel"]))])])}var kt={class:"component-permiso"},Ot={class:"col column"},Ct={class:"row"},At={class:"col column justify-center"},Dt={class:"column items-end justify-center"},Lt={class:"row q-gutter-sm"},Pt={class:"col"},Et={class:"col"},It={class:"col"},Tt={class:"col"};function wt(e,s){var t=(0,o.g2)("q-checkbox"),n=(0,o.g2)("nodo-template"),l=(0,o.g2)("q-expansion-item");return(0,o.uX)(),(0,o.CE)("div",kt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.items,function(s){return(0,o.uX)(),(0,o.Wv)(l,{key:s.MENUCOD,"expand-icon":"caret_right","expanded-icon":"caret_down",class:(0,i.C4)(s.profundidad?"deep-".concat(s.profundidad):""),"dense-toggle":"",dense:"","expand-icon-toggle":"","switch-toggle-side":"","default-opened":"",duration:0,"expand-icon-class":s.submenus.length>0?"text-primary text-weight-regular":"text-hidden",label:s.MENUNOM},(0,o.eX)({header:(0,o.k6)(function(){return[(0,o.Lk)("div",Ot,[(0,o.Lk)("div",Ct,[(0,o.Lk)("div",At,[(0,o.Lk)("span",{class:(0,i.C4)({"text-bold":s.submenus.length>0||1===e.nivel})},(0,i.v_)(s.MENUNOM),3)]),(0,o.Lk)("div",Dt,[(0,o.Lk)("div",Lt,[(0,o.Lk)("div",Pt,[(0,o.bF)(t,{dense:"",modelValue:s.selected,"onUpdate:modelValue":function(e){return s.selected=e},val:0,onInput:function(t){return e.activeCheckbox(s,0)}},null,8,["modelValue","onUpdate:modelValue","onInput"])]),(0,o.Lk)("div",Et,[(0,o.bF)(t,{dense:"",modelValue:s.selected,"onUpdate:modelValue":function(e){return s.selected=e},val:1,onInput:function(t){return e.activeCheckbox(s,1)}},null,8,["modelValue","onUpdate:modelValue","onInput"])]),(0,o.Lk)("div",It,[(0,o.bF)(t,{dense:"",modelValue:s.selected,"onUpdate:modelValue":function(e){return s.selected=e},val:2,onInput:function(t){return e.activeCheckbox(s,2)}},null,8,["modelValue","onUpdate:modelValue","onInput"])]),(0,o.Lk)("div",Tt,[(0,o.bF)(t,{dense:"",modelValue:s.selected,"onUpdate:modelValue":function(e){return s.selected=e},val:3,onInput:function(t){return e.activeCheckbox(s,3)}},null,8,["modelValue","onUpdate:modelValue","onInput"])])])])])])]}),_:2},[s.submenus.length>0?{name:"default",fn:(0,o.k6)(function(){return[(0,o.bF)(n,{items:s.submenus},null,8,["items"])]}),key:"0"}:void 0]),1032,["class","expand-icon-class","label"])}),128))])}var xt=t(34262),Vt=t(22926),Nt={name:"nodoTemplate",props:{items:{type:Array,default:function(){return[]}},nivel:{type:Number,default:0}},components:{QExpansionItem:Vt.A,QIcon:xt.A,QCheckbox:Bs.A},data:function(){return{data:[]}},methods:{checkSubmenu:function(e){var s=this,t=e.submenu,n=e.isChecked,l=void 0!==n&&n,o=e.recursive,i=void 0===o||o,a=e.options,r=void 0===a?{n1:0,n2:0}:a;t.map(function(e){l?(e.selected.splice(0,4),e.selected.splice(0,0,r.n1,r.n2)):e.selected.splice(0,4),e.submenus.length>0&&i&&s.checkSubmenu({submenu:e.submenus,isChecked:l,options:r})})},checkNivel:function(e){var s=e.item,t=e.nivel,n=e.isChildren,l=e.recursive,o=void 0===l||l,i=e.isSingle,a=void 0!==i&&i,r=e.options,c=void 0===r?{n1:0,n2:0}:r;if(!n){var u=!1;-1!==s.selected.indexOf(t)?(s.selected.splice(0,4),s.selected.splice(0,0,c.n1,c.n2),u=!0):(s.selected.splice(0,4),u=!1),s.submenus.length>0&&!a&&this.checkSubmenu({submenu:s.submenus,recursive:o,isChecked:u,options:c})}},checkAllSubNivel:function(e){var s=e.item,t=e.nivel,n=e.isChildren,l=e.options,o=void 0===l?{n1:0,n2:0}:l;this.checkNivel({item:s,nivel:t,isChildren:n,options:o})},checkSingleNivel:function(e){var s=e.item,t=e.nivel,n=e.isChildren,l=e.options,o=void 0===l?{n1:0,n2:0}:l;this.checkNivel({item:s,nivel:t,isChildren:n,recursive:!1,isSingle:!0,options:o})},checkParents:function(e,s){e.selected.splice(0,4),e.selected.splice(0,0,0,s),e.parent&&this.checkParents(e.parent,s)},activeCheckbox:function(e,s){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=0===s?3:s;e.fisrtNivel||n?(n=!0,this.checkNivel({item:e,nivel:s,isChildren:t,isFirst:n,options:{n1:0,n2:l}})):(e.parent&&this.checkParents(e.parent,l),e.hasSubMenu?this.checkAllSubNivel({item:e,nivel:s,isChildren:t,options:{n1:0,n2:l}}):this.checkSingleNivel({item:e,nivel:s,isChildren:t,options:{n1:0,n2:l}}))},setPermission:function(e){e.PERMISO&&e.selected.splice(0,0,0,parseInt(e.PERMISO))},putProperties:function(){var e=this;this.items.map(function(s){s.fisrtNivel=1===e.nivel,s.hasSubMenu=s.submenus.length>0,s["selected"]=[],e.setPermission(s)})}},watch:{items:{immediate:!0,handler:function(){var e=this;return Qs()(js()().m(function s(){return js()().w(function(s){while(1)switch(s.n){case 0:e.putProperties();case 1:return s.a(2)}},s)}))()}}}},yt=t(12807);const Ft=(0,yt.A)(Nt,[["render",wt]]);var Rt=Ft,Mt=t(11654),qt={name:"nodo",props:{items:{type:Array,default:function(){return[]}},nivel:{type:Number,default:0},noBorder:{type:Boolean,default:!1},noPadding:{type:Boolean,default:!1}},components:{QExpansionItem:Vt.A,QBtn:Mt.A,nodoTemplate:Rt,QList:Hs.Mb}};const _t=(0,yt.A)(qt,[["render",bt]]);var $t=_t,jt={name:"permisoTipo",props:{items:{type:Array,default:function(){return[]}},nivel:{type:Number,default:0},usucod:{type:String,default:""},tipcod:{type:String,default:""},noBorder:{type:Boolean,default:!1},noPadding:{type:Boolean,default:!1}},methods:{setParent:function(e){var s=this,t=e.menu,n=e.parent;t.map(function(e){n&&(e.parent=n),e.submenus.length>0&&s.setParent({menu:e.submenus,parent:e})})},proccessItems:function(e,s){var t=this;return s=s||[],e.map(function(e){var n=e.ESTADO,l=e.MENUCOD,o=e.MENUNOM,i=e.MENUPAD,a=e.PERMISO;a=e.selected[1]?parseInt(e.selected[1]):null,n=a?"S":null;var r={ESTADO:n,MENUCOD:l,MENUNOM:o,MENUPAD:i,PERMISO:a};t.usucod?r.USUCOD=t.usucod:t.tipcod&&(r.TIPCOD=t.tipcod),s.push(r),e.submenus.length>0&&t.proccessItems(e.submenus,s)}),s},getItems:function(){return this.proccessItems(this.items)}},components:{nodo:$t},watch:{items:{immediate:!0,handler:function(e){var s=this;return Qs()(js()().m(function t(){return js()().w(function(t){while(1)switch(t.n){case 0:s.setParent({menu:e});case 1:return t.a(2)}},t)}))()}}}};const Gt=(0,yt.A)(jt,[["render",St]]);var Qt=Gt,Xt={data:function(){return{config:{REPCODCOMPUTED:{renderHtml:function(e,s){return e.REPWINDOW?s("p","".concat(e.REPCOD," - ").concat(e.REPNOM)):s("b",{},e.REPNOM)}},ESTADO:{renderHtml:function(e,s,t){return t.checkbox({value:e.ESTADO,trueValue:"S"})},renderAction:function(e,s){e.REPWINDOW?"S"===s.ESTADO?(s.ESTADO="N",this.validateCheckAll(s)):(s.ESTADO="S",this.validateCheckAll(s)):"S"===e.ESTADO?(this.groupReportes[e.REPCOD].map(function(e){return e.ESTADO="N"}),s.ESTADO="N"):(this.groupReportes[e.REPCOD].map(function(e){return e.ESTADO="S"}),s.ESTADO="S")}}},rows:[],fields:[{name:"REPCODCOMPUTED",label:"Reporte",field:"REPCODCOMPUTED",align:"left"},{name:"REPCOD",label:"Código",field:"REPCOD",align:"center",vIf:!1},{name:"REPNOM",label:"Reporte",field:"REPNOM",align:"left",vIf:!1},{name:"ESTADO",label:"Estado",field:"ESTADO",align:"center"}]}},methods:{validateCheckAll:function(e){var s,t=[],n=this.groupReportes[e.CABECERA],l=_s()(n);try{for(l.s();!(s=l.n()).done;){var o=s.value;"S"===o.ESTADO&&(t[t.length]=o)}}catch(e){l.e(e)}finally{l.f()}this.cabecerasReportes[e.CABECERA].ESTADO=t.length>0?"S":"N"}}},Ht=t(80660),Wt={setup:function(){var e=(0,Xs.fG)();return{v$:e}},directives:{sieActive:lt.A},mixins:[Xt],components:{VirtualList:it.Ay,QCheckbox:Hs.vZ,QPageSticky:Hs._U,QFab:Hs.l6,QFabAction:Hs.B$,QRadio:Hs.$,QScrollArea:Ws.A,QChip:zs.A,QAvatar:Ks.A,QOptionGroup:Hs.EX,QCheckboxTeso:Bs.A,QCard:Zs.A,QCardSection:Js.A,QSelect:Hs.Si,QInnerLoading:Hs.SQ,QSpinner:Ys.A,QInputV2:et.A,QSelectV2:st.A,QForm:tt.A,QAlert:Hs.ex,SieVacio:rt.A,SieSelect:at.A,SieModal:ot.A,asignarPermiso:vt.A,permiso:Qt,QPage:Hs.Tu,QSearch:Hs.Ks,QBtn:Hs.Il,QToolbar:Hs.ZV},data:function(){var e=this;return{buttons:[{icon:"plus",label:"Agregar",color:"primary",click:function(){e.openUserModal({},"new")}},{icon:"save",label:"Guardar",color:"primary",click:this.save},{icon:"delete",label:"Eliminar",color:"primary",click:this.deleteUser},{icon:"settings",label:"Procesar",color:"primary",click:this.openModalSetting},{icon:"print",label:"Imprimir",color:"primary",click:this.openPrintModal},{icon:"folder_lock",label:"Accesos",color:"primary",click:this.access}],esCentral:"C00"===(0,ct["default"])().colcod.slice(0,3),selectPersonal:"",sistemas:[{value:"21",label:"Intranet"}],optionRadios:[{label:"Menu",value:1},{label:"Reportes",value:2}],option:1,reportesAsignados:[],formPadre:{},form:{},formHijoPadre:{},formAllHijos:{},dataPersonal:[],sinPermiso:!1,search:"",saveUserModal:"",users:{name:"",user:"",password:"",selectProfile:"001",staff:"",access:!1,accesspers:!1},profiles:[],profilesModal:[],selectProfile:"000",states:[{value:"AI",label:"Activos/Inactivos"},{value:"A",label:"Solo Activos"},{value:"I",label:"Solo Inactivos"},{value:"E",label:"Eliminados"}],selectstate:"A",listUsers:{},listUsersFilter:{},listSelectedUsers:{},openUser:!1,typeUser:"",accessModule:[],checkActive:[],allowUsers:[],allowChecks:!1,openSetting:!1,dataSetting:[],selectSetting:"",currentSelectUser:{},openPrint:!1,print:{matriculados:!1,option:"r3"},openAccess:!1,dataAccess:[],dataAccessAssigned:[],dataAccessUnsigned:[],filterDataAcces:[],filterDataAccesAssigned:[],accessOption:{nivel:[],nivelSelected:"T",grade:[],gradeSelected:"T",section:[],sectionSelected:"T",course:[],courseSelected:"T"},checkCourseUnsigned:[],checkAllCourseUnsigned:!1,checkCourseAssigned:[],checkAllCourseAssigned:!1,REGISTRO_DE_NOTAS_VUE:!1,usunom:"",modal:!1,niveles:[],instrucod:null,grados:[],gradocod:null,secciones:[],seccioncod:null,usaNickName:(0,ct["default"])().usaNickName,showTableReportes:!0,siscod:"21",cabecerasReportes:{},groupReportes:{},loading:!1,bloquearAlSeleccionarPersonal:!1,alertaMantenimientoInactivo:!1,loadingUsuario:!1}},methods:{setAssigned:function(){var e=this;if(this.checkCourseUnsigned.length>0){var s=[],t=[];(0,pt["default"])(this.checkCourseUnsigned,function(n){s.push({USUCOD:e.currentSelectUser.USUCOD,NEMO:n.NEMO,CURSOCOD:n.CURSOCOD,GRUPOCOD:n.GRUPOCOD}),t.push(n)}),Ht.$http.post("api/HyoUsuario/asignaCursos",{params:s}).then(function(s){var n=s.json;"success"===n.estado&&(e.filterDataAccesAssigned=e.filterDataAccesAssigned.concat(t),e.checkCourseUnsigned.map(function(s){e.dataAccessAssigned.push(s),e.dataAccessUnsigned.splice(e.dataAccessUnsigned.indexOf(s),1)}),e.checkCourseUnsigned=[],e.checkAllCourseUnsigned=!1,(0,dt["default"])(e.$t("mensajes."+n.msg),"success"))}).catch(function(s){var t=s.json;(0,dt["default"])(e.$t("mensajes."+t.msg),"warning")})}else(0,dt["default"])("No se ha seleccionado ningún elemento.","warning")},setUnsigned:function(){var e=this;if(this.checkCourseAssigned.length>0){var s={},t=[],n=[];for(var l in this.checkCourseAssigned.map(function(n){s[n.NEMO+n.CURSOCOD]?s[n.NEMO+n.CURSOCOD].grupos.push(n.GRUPOCOD):s[n.NEMO+n.CURSOCOD]={grupos:[n.GRUPOCOD],usucod:e.currentSelectUser.USUCOD,nemo:n.NEMO,curso:n.CURSOCOD},t.push(n)}),s)n.push(s[l]);Ht.$http.post("api/HyoUsuario/eliminarCursosAsignados",{datos:n}).then(function(s){var n=s.json;1===n.estado&&(e.filterDataAcces=e.filterDataAcces.concat(t),t.map(function(s){e.filterDataAccesAssigned.splice(e.filterDataAccesAssigned.indexOf(s),1),e.dataAccessAssigned.splice(e.dataAccessAssigned.indexOf(s),1),e.dataAccessUnsigned.push(s)}),e.checkCourseAssigned=[],e.checkAllCourseAssigned=!1,(0,dt["default"])("Cambio realizado","success"))})}else(0,dt["default"])("No se ha seleccionado ningún elemento","warning")},getCheckCourseUnsigned:function(e){e.length===this.filterDataAcces.length?this.checkAllCourseUnsigned=!0:this.checkAllCourseUnsigned=!1},getCheckCourseAssigned:function(e){e.length===this.filterDataAccesAssigned.length?this.checkAllCourseAssigned=!0:this.checkAllCourseAssigned=!1},checkAllAccessUnsigned:function(e){this.checkCourseUnsigned=[],e&&(this.checkCourseUnsigned=this.checkCourseUnsigned.concat(this.filterDataAcces))},checkAllAccessAssigned:function(e){this.checkCourseAssigned=[],e&&(this.checkCourseAssigned=this.checkCourseAssigned.concat(this.filterDataAccesAssigned))},changeDataAccess:function(){this.checkCourseUnsigned=[],this.checkCourseAssigned=[],this.filterDataAcces=[],this.filterDataAccesAssigned=[],this.checkAllCourseUnsigned=!1,this.checkAllCourseAssigned=!1;var e=this.filterNidelData(this.dataAccessUnsigned),s=this.filterGradeData(e),t=this.filterSectionData(s);this.filterDataAcces=this.filterCourseData(t);var n=this.filterNidelData(this.dataAccessAssigned),l=this.filterGradeData(n),o=this.filterSectionData(l);this.filterDataAccesAssigned=this.filterCourseData(o)},access:function(){var e=this;if(this.dataAccessAssigned=[],this.dataAccessUnsigned=[],this.allowUsers.length<1)(0,dt["default"])("Debe seleccionar un usuario","warning");else if("004"!==this.currentSelectUser.TIPCOD&&"005"!==this.currentSelectUser.TIPCOD)if("T"!==this.currentSelectUser.ACCESO_SALON)if(this.REGISTRO_DE_NOTAS_VUE){var s=this.currentSelectUser;this.modal=!0,this.usunom=s.USUNOM,this.$refs.asigPer.loadData(s.USUCOD)}else this.openAccess=!0,Ht.$http.get("api/HyoCursos/obtCursoAsignadosNoAsignadoUsuario",{params:{usucod:this.currentSelectUser.USUCOD}}).then(function(s){var t=s.json;t.map(function(s){"N"!==s.ORIGEN.trim()?e.dataAccessAssigned.push(s):e.dataAccessUnsigned.push(s)}),e.changeDataAccess()}),Ht.$http.get("api/HyoInstrus/obtInstru").then(function(s){var t=s.json;t.unshift({INSTRUCOD:"T",INSTRUDES:"Todos"}),t.map(function(e){e.label=e.INSTRUDES,e.value=e.INSTRUCOD}),e.accessOption.nivel=t}),Ht.$http.get("api/HyoGradoNivs/obtGrados",{params:{agrupado:"s",todos:"s"}}).then(function(s){var t=s.json;e.accessOption.grade=t}),Ht.$http.get("api/HyoSalones/listaSalones").then(function(s){var t=s.json;e.accessOption.section=t}),Ht.$http.get("api/HyoCursos/obtListadoCursos").then(function(s){var t=s.json;e.accessOption.course=t});else(0,dt["default"])("(*) El usuario ".concat(this.currentSelectUser.USUCOD," tiene acceso total a todos los salones."),"warning");else(0,dt["default"])("Los usuarios tipo Familia y/o Alumno no tienen acceso a Salones.","warning")},searchUser:function(e){var s=null;s="000"!==this.selectProfile?this.dataProfiles():this.dataStates(this.listUsers),this.listSelectedUsers=e?(0,ft.filterArray)(e,{field:["USUNOM","USUCOD","label"],list:s}):s},moveUsersA:function(e,s,t){this.listUsersFilter[this.users.selectProfile][e].unshift(this.currentSelectUser),this.listUsersFilter[this.users.selectProfile][s]&&this.listUsersFilter[this.users.selectProfile][s].splice(this.listUsersFilter[this.users.selectProfile][s].indexOf(this.currentSelectUser),1),this.listSelectedUsers=this.listUsersFilter[this.users.selectProfile][t]},moveUsersB:function(e,s,t){this.listUsersFilter[this.users.selectProfile][s].splice(this.listUsersFilter[this.users.selectProfile][s].indexOf(this.currentSelectUser),1),this.listUsersFilter[this.users.selectProfile][e]?this.listUsersFilter[this.users.selectProfile][e].unshift(this.currentSelectUser):this.listUsersFilter[this.users.selectProfile][e]=[this.currentSelectUser],this.listSelectedUsers=this.listUsersFilter[this.users.selectProfile][t]},checkboxUsers:function(e){var s=this;"new"!==this.saveUserModal&&Ht.$http.post("api/HyoUsuario/updateSistemaUsuario",{estado:-1!==this.checkActive.indexOf(e)?"A":"I",siscod:e.SISCOD,usucod:this.users.user}).then(function(t){t.json;if(s.allowUsers=[],(0,ct["default"])().siscod===e.SISCOD)if(-1!==s.checkActive.indexOf(e))switch(s.selectstate){case"A":s.currentSelectUser.ESTADO="A",s.moveUsersA("A","I","A");break;case"I":s.currentSelectUser.ESTADO="A",s.moveUsersA("A","I","I");break;case"E":s.currentSelectUser.ESTADO="A",s.moveUsersA("A","I","E");break}else switch(s.selectstate){case"A":s.currentSelectUser.ESTADO="I",s.moveUsersB("I","A","A");break;case"I":s.currentSelectUser.ESTADO="I",s.moveUsersB("I","A","I");break;case"E":s.currentSelectUser.ESTADO="I",s.moveUsersB("I","E","E");break}})},openPrintModal:function(){this.openPrint=!0,this.obtInstru()},exportFiles:function(e){if(this.print.option){if(!this.currentSelectUser)return(0,dt["default"])("Debe seleccionar un usuario","warning"),!1;var s={txttipcod:"000"===this.selectProfile?"T":this.selectProfile,txtestado:this.selectstate,instrucod:this.instrucod,gradocod:this.gradocod,seccioncod:this.seccioncod,RADIO:this.print.option,format:e,txtusucod:this.currentSelectUser?this.currentSelectUser.USUCOD:void 0,txtsiscod:"21",ano:(0,ct["default"])().ano,nickname:this.usaNickName};if(this.print.matriculados?s.matriculado="on":s.matriculado="off",("r1"===this.print.option&&["004","005"].indexOf(this.selectProfile)>=0||"r3"===this.print.option)&&!(this.instrucod&&this.gradocod&&this.seccioncod))return(0,dt["default"])("Debe seleccionar el nivel, grado y sección","warning"),!1;(0,mt.exportFilePhp)(s,"intranet/seguridad-usuarios-centralizado/reporte","reporteDeSeguridad".concat((0,ct["default"])().ano))}else(0,dt["default"])("Debes seleccionar un reporte","warning")},save:function(){var e=this;return Qs()(js()().m(function s(){var t,n,l,o,i,a;return js()().w(function(s){while(1)switch(s.p=s.n){case 0:if(!(e.allowUsers.length<1&&1===e.option||e.rows.length<1&&2===e.option)){s.n=1;break}(0,dt["default"])("Debe seleccionar un usuario","warning"),s.n=6;break;case 1:if(1!==e.option){s.n=2;break}t=e.$refs.permiso.getItems(),n={params:t,sistema:e.siscod,usucod:e.currentSelectUser.USUCOD},Ht.$http.post("api/HyoUsuario/actualizaMenusUsuario",n).then(function(e){e.json;(0,dt["default"])("Menu Actualizado","success")}).catch(function(s){var t=s.json;(0,dt["default"])(e.$t("mensajes."+t.mensaje),"warning")}),s.n=6;break;case 2:if(2!==e.option){s.n=6;break}return l=[],e.rows.map(function(s){l[l.length]={siscod:e.siscod,usucod:e.currentSelectUser.USUCOD,repcod:String(s.REPCOD),estado:s.ESTADO,personalizado:"S"}}),o={reportes:l,sistema:e.siscod,usucod:e.currentSelectUser.USUCOD},s.p=3,s.n=4,Ht.$http.put("api/ReporteController/putReportesActivo",{parametros:o});case 4:i=s.v,(0,dt["default"])(i.message,"success"),s.n=6;break;case 5:s.p=5,a=s.v,(0,dt["default"])(a.error.message,"warning");case 6:return s.a(2)}},s,null,[[3,5]])}))()},passwordGenerate:function(){var e="";this.users.name&&(this.users.name=this.users.name.toUpperCase()),this.users.user&&(this.users.user=this.users.user.toUpperCase());for(var s="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",t=0;t<8;t++)e+=s.charAt(Math.floor(Math.random()*s.length));this.users.password=this.users.user?e:""},saveUsers:function(){var e=this;return Qs()(js()().m(function s(){var t,n,l,o,i,a,r,c,u,d,p,f;return js()().w(function(s){while(1)switch(s.p=s.n){case 0:return s.n=1,e.$refs.formUsuario.validate();case 1:if(t=s.v,!t){s.n=11;break}if("new"===e.saveUserModal){s.n=6;break}return s.p=2,s.n=3,Ht.$http.post("api/HyoUsuario/updateUsuario",{aSalon:e.users.access?"T":"N",aPErsonal:e.users.accesspers?"T":"N",tipcod:e.users.selectProfile,usucod:e.users.user});case 3:n=s.v,l=n.json,e.listSelectedUsers[e.listSelectedUsers.indexOf(e.currentSelectUser)]&&(e.listSelectedUsers[e.listSelectedUsers.indexOf(e.currentSelectUser)].ACCESO_SALON=e.users.access),e.users.selectProfile!==e.currentSelectUser.TIPCOD&&(e.listUsersFilter[e.users.selectProfile]||(e.listUsersFilter[e.users.selectProfile]={}),e.listUsersFilter[e.users.selectProfile][e.selectstate]?e.listUsersFilter[e.users.selectProfile][e.selectstate].unshift(e.currentSelectUser):e.listUsersFilter[e.users.selectProfile][e.selectstate]=[e.currentSelectUser],e.listSelectedUsers=e.listUsersFilter[e.currentSelectUser.TIPCOD][e.selectstate],e.listUsersFilter[e.currentSelectUser.TIPCOD][e.selectstate].splice(e.listUsersFilter[e.currentSelectUser.TIPCOD][e.selectstate].indexOf(e.currentSelectUser),1),e.currentSelectUser.TIPCOD=e.users.selectProfile),e.currentSelectUser.ACCESO_SALON=e.users.access?"T":"N",e.currentSelectUser.ACCESO_PERSONAL=e.users.accesspers?"T":"N",e.openUser=!1,(0,dt["default"])(e.$t("mensajes."+l.mensaje),"success"),s.n=5;break;case 4:s.p=4,p=s.v,o=p.error,(0,dt["default"])(o.message,"warning");case 5:s.n=11;break;case 6:if(e.v$.users.$touch(),!e.v$.users.$error){s.n=7;break}return s.a(2);case 7:for(i=[],a=0;a<e.checkActive.length;a++)i.push({ESTADO:e.checkActive[a].ESTADO,PROFCOD:e.selectPersonal||null,SISCOD:e.checkActive[a].SISCOD,TIPCOD:e.users.selectProfile,USUCOD:e.users.user,USUNOM:e.users.name,USUPAS:e.users.password});return s.p=8,s.n=9,Ht.$http.post("api/HyoUsuario/grabarUsuario",{datos:i});case 9:r=s.v,c=r.json,u={ACCESO_SALON:null,ESTADO:"A",PROFCOD:null,TIPCOD:e.users.selectProfile,USUCOD:e.users.user.toUpperCase(),USUNOM:e.users.name.toUpperCase(),label:e.users.name,value:'{"TIPCOD":'+e.users.selectProfile+',"USUNOM":'+e.users.name+',"USUCOD":'+e.users.user+',"PROFCOD":null,"ESTADO":"A","ACCESO_SALON":null,"label":'+e.users.name+"}"},e.listUsers["A"]||(e.listUsers["A"]=[]),e.listUsersFilter[e.users.selectProfile]||(e.listUsersFilter[e.users.selectProfile]={}),e.listUsersFilter[e.users.selectProfile]["A"]||(e.listUsersFilter[e.users.selectProfile]["A"]=[]),e.listUsersFilter[e.users.selectProfile]["A"].unshift(u),e.listUsers["A"].unshift(u),e.getSelectProfiles(),c.mensaje?((0,dt["default"])(e.$t("mensajes."+c.mensaje),"success"),e.openUser=!1):(0,dt["default"])(e.$t("mensajes.e0006"),"error"),e.openUser=!1,s.n=11;break;case 10:s.p=10,f=s.v,d=f.error&&f.error.message?f.error.message:"No se ha podido grabar el usuario",(0,dt["default"])(d,"warning");case 11:return s.a(2)}},s,null,[[8,10],[2,4]])}))()},getItemAllowUser:function(e){return{ESTADO:e.ESTADO,MENUCOD:e.MENUCOD,MENUPAD:e.MENUPAD,PERMISO:e.states.length>0?e.states.sort()[e.states.length-1]:0,USUCOD:this.currentSelectUser.USUCOD,PERSONALIZADO:e.PERSONALIZADO}},getAllowUsers:function(){var e=this,s=[];return(0,pt["default"])(this.allowUsers,function(t){(0,pt["default"])(t.submenus,function(t){s.push(e.getItemAllowUser(t)),(0,pt["default"])(t.submenus,function(t){s.push(e.getItemAllowUser(t))})}),s.push(e.getItemAllowUser(t))}),s},deleteUser:function(){var e=this;this.currentSelectUser.USUCOD?(0,ht.confirmar)("¿Esta seguro de eliminar este usuario?",function(){Ht.$http.post("api/HyoUsuario/eliminarUsuario",{estado:e.currentSelectUser.ESTADO,usucod:e.currentSelectUser.USUCOD}).then(function(s){var t=s.json,n=e.currentSelectUser.TIPCOD,l=e.currentSelectUser.ESTADO,o=e.currentSelectUser;e.listSelectedUsers.splice(e.listSelectedUsers.indexOf(o),1),e.listUsers[l].splice(e.listUsers[l].indexOf(o),1),e.listUsersFilter[n][l].splice(e.listUsersFilter[n][l].indexOf(o),1),e.listUsersFilter[n].E?e.listUsersFilter[n].E.push(o):e.listUsersFilter[n].E=[o],e.listUsers.E?e.listUsers.E.push(o):e.listUsers.E=[o],e.allowUsers=[],e.currentSelectUser={},(0,dt["default"])(e.$t("mensajes."+t.mensaje),"success")}).catch(function(s){(0,dt["default"])(e.$t("mensajes."+s.mensaje),"warning")})}):(0,dt["default"])("Debe seleccionar un usuario","warning")},openModalSetting:function(){this.openSetting=!0,this.selectSetting=""},saveSetting:function(){var e=this;this.selectSetting?Ht.$http.get("api/HyoUsuario/procesarDataUsuarios",{params:{tipcod:this.selectSetting}}).then(function(s){var t=s.json;(0,dt["default"])(e.$t("mensajes."+t.msg),t.estado)}).catch(function(s){var t=s.json;(0,dt["default"])(e.$t("mensajes."+t.msg),t.estado)}):(0,dt["default"])("Debe seleccionar un perfil","warning")},cleanAll:function(e){var s=e.submenus?e.submenus.length:[];e.states=[];for(var t=0;t<s;t++){e.submenus[t]["ESTADO"]="N",e.submenus[t].states=[];for(var n=e.submenus[t].submenus?e.submenus[t].submenus.length:[],l=0;l<n;l++)e.submenus[t].submenus[l]["ESTADO"]="N",e.submenus[t].submenus[l].states=[]}},cleanChecks:function(e,s){for(var t=0;t<4;t++)if(0!==t&&t!==s){var n=e.states.indexOf(t);-1!==n&&e.states.splice(n,1)}(0,pt["default"])(e.submenus,function(e){e.ESTADO="N",e.states=[],(0,pt["default"])(e.submenus,function(e){e.ESTADO="N",e.states=[],(0,pt["default"])(e.submenus,function(e){e.ESTADO="N",e.states=[]})})})},checkLastSelected:function(e,s){s.states=[0],s.states.push(0===e?1:e)},pushingParent:function(e,s,t,n){-1!==s.states.indexOf(e)?(s.ESTADO="S",s.PERSONALIZADO="S",this.cleanChecks(s,n),-1===s.states.indexOf(t)&&s.states.push(t),(0,pt["default"])(s.submenus,function(e){e["ESTADO"]="S",e["PERSONALIZADO"]="S",e.states.push(0),e.states.push(n),(0,pt["default"])(e.submenus,function(e){e["ESTADO"]="S",e["PERSONALIZADO"]="S",e.states.push(0),e.states.push(n),(0,pt["default"])(e.submenus,function(e){e["ESTADO"]="S",e["PERSONALIZADO"]="S",e.states.push(0),e.states.push(n)})})})):(s.ESTADO="N",this.cleanAll(s))},noChildCheck:function(e){for(var s=0,t=0;t<e.submenus.length;t++)e.submenus[t].states.length>0&&s++;return s},checking:function(e,s,t,n,l){var o=t.constructor!==Array;o&&(this.checkLastSelected(e,t),1===this.noChildCheck(t)&&-1===s.states.indexOf(e)&&(t.states=[])),this.pushingParent(e,s,n,l)},selectSistema:function(e){this.selectUser(this.currentSelectUser)},getReportesParaAsignar:function(e,s){var t=this;return Qs()(js()().m(function n(){var l,o,i;return js()().w(function(n){while(1)switch(n.n){case 0:if(!e||!s){n.n=2;break}return n.n=1,t.$http.get("api/menus/menuReporteComparado",{params:{siscod:e,usucod:s}});case 1:l=n.v,o="",i={},l.map(function(e){e.REPWINDOW||(o=e.REPCOD,t.cabecerasReportes[o]=e,i[o]=[]),e.REPWINDOW&&i[o]&&(e.CABECERA=o,i[o][i[o].length]=e)}),t.groupReportes=i,t.rows=l;case 2:return n.a(2)}},n)}))()},changeFormPadreReportes:function(e){this.showTableReportes=!1;var s,t=_s()(this.formAllHijos[e]);try{for(t.s();!(s=t.n()).done;){var n=s.value;this.form[n]=this.form[e],this.form[e]&&(this.formPadre[e].includes(n)||this.formPadre[e].push(n))}}catch(e){t.e(e)}finally{t.f()}this.form[e]||(this.formPadre[e]=[]),this.showTableReportes=!0},changeFormChilReporte:function(e){this.showTableReportes=!1;var s=this.formHijoPadre[e];if(1===this.form[e])this.formPadre[s].push(e),1===this.formPadre[s].length&&(this.form[s]=1);else{var t=this.formPadre[s].filter(function(s){return s!==e});this.formPadre[s]=t,0===this.formPadre[s].length&&(this.form[s]=0)}this.showTableReportes=!0},selectUser:function(e){var s=this;return Qs()(js()().m(function t(){var n,l,o;return js()().w(function(t){while(1)switch(t.n){case 0:if(s.loading=!0,e.active=!0,s.currentSelectUser=e,n={sistema:s.siscod,usucod:e.USUCOD},"004"!==e.TIPCOD&&"005"!==e.TIPCOD||(n.tipcod=e.TIPCOD),1!==s.option){t.n=2;break}return t.n=1,Ht.$http.get("api/menus/obtListaMenusTodosPorUsuario",{params:n});case 1:l=t.v,o=l.json,(0,pt["default"])(o,function(e){e.profundidad=0,e.states=[];var s=parseInt(e.PERMISO);s>0&&(e.states.push(0),e.states.push(s)),(0,pt["default"])(e.submenus,function(e){e.profundidad=1,e.states=[];var s=parseInt(e.PERMISO);s>0&&(e.states.push(0),e.states.push(s)),(0,pt["default"])(e.submenus,function(e){e.profundidad=2,e.states=[];var s=parseInt(e.PERMISO);s>0&&(e.states.push(0),e.states.push(s)),(0,pt["default"])(e.submenus,function(e){e.profundidad=3})})})}),s.allowUsers=o,t.n=3;break;case 2:2===s.option&&s.getReportesParaAsignar(s.siscod,e.USUCOD);case 3:s.loading=!1;case 4:return t.a(2)}},t)}))()},autoSeleccionarSistema:function(e){var s,t=!1,n=!1,l=_s()(e);try{for(l.s();!(s=l.n()).done;){var o=s.value;if(o.SISCOD===(0,ct["default"])().siscod){t=!0,n=!1;break}}}catch(e){l.e(e)}finally{l.f()}var i,a=_s()(e);try{for(a.s();!(i=a.n()).done;){var r=i.value;if(r.SISCOD===this.siscod){t=!0,n=!0;break}}}catch(e){a.e(e)}finally{a.f()}if(e.length>0){var c=e[0];!1===t?(this.siscod=n?(0,ct["default"])().siscod:c.SISCOD,this.selectUser(this.currentSelectUser)):!1===n&&(this.siscod=c.SISCOD,this.selectUser(this.currentSelectUser))}},getSistemas:function(e){var s=this;Ht.$http.get("api/HyoSistemasWeb/obtListaSistemas",{params:{usucod:e,tipcod:this.currentSelectUser.TIPCOD}}).then(function(e){var t=e.json,n=t.filter(function(e){return"A"===e.ESTADO});s.autoSeleccionarSistema(n),s.accessModule=t,s.sistemas=n.map(function(e){return{value:e.SISCOD,label:e.SISNOM}})})},openUserModal:function(e,s){var t=this;return Qs()(js()().m(function n(){var l,o,i,a,r;return js()().w(function(n){while(1)switch(n.n){case 0:if(t.loadingUsuario=!0,t.alertaMantenimientoInactivo=!1,t.selectPersonal="",e.active=!0,t.currentSelectUser=e,t.checkActive=[],t.openUser=!0,t.saveUserModal=s,"new"!==s){n.n=1;break}t.users.name=t.users.user=t.users.password="",t.users.selectProfile="C00"===(0,ct["default"])().colcod.slice(0,3)?"C01":"001",t.getSelectProfilesUsers(t.users.selectProfile),t.users.staff="",t.users.access=!1,t.users.accesspers=!1,n.n=4;break;case 1:return t.typeUser=e.TIPCOD,n.n=2,Ht.$http.get("api/HyoUsuario/obtDatosUsuarioConPerfil",{params:{usucod:e.USUCOD}});case 2:return l=n.v,o=l.json,i=o[0],t.alertaMantenimientoInactivo=!!i.SITCOD&&"0002"===i.SITCOD,t.users.name=i.USUNOM,t.users.user=i.USUCOD,t.users.password=i.USUPAS,t.users.selectProfile=i.TIPCOD,t.users.staff=i.NOMCOMP,t.users.nickname=i.NICKNAME,t.users.access="T"===i.ACCESO_SALON,t.users.accesspers="T"===i.ACCESO_PERSONAL,n.n=3,Ht.$http.get("api/HyoSistemasWeb/obtListaSistemas",{params:{usucod:e.USUCOD}});case 3:a=n.v,r=a.json,t.accessModule=r,t.accessModule.map(function(e){"A"===e.ESTADO&&t.checkActive.push(e)});case 4:t.loadingUsuario=!1;case 5:return n.a(2)}},n)}))()},dataStates:function(e){var s=[];return s="AI"!==this.selectstate?s.concat(e[this.selectstate]||[]):s.concat(e.A||[]).concat(e.I||[]),s},dataProfiles:function(){var e=[];return this.listUsersFilter[this.selectProfile]&&(e=this.dataStates(this.listUsersFilter[this.selectProfile])),e},getSelectProfiles:function(){this.currentSelectUser={},this.allowUsers=[],this.search="","000"!==this.selectProfile?this.listSelectedUsers=this.dataProfiles():this.listSelectedUsers=this.dataStates(this.listUsers)},getSelectPersonal:function(){this.bloquearAlSeleccionarPersonal=!0,this.users.name=this.selectPersonal.NOMCOMP.toUpperCase();var e=this.selectPersonal.NOMBRES.substring(0,1),s=(0,ft.removerAcentos)(this.selectPersonal.APEPAT.toLowerCase()).toUpperCase();this.users.user=e+s,this.passwordGenerate()},getSelectProfilesUsers:function(e){var s=this;"new"===this.saveUserModal&&Ht.$http.get("api/HyoPerfiles/obtPerfilesByTipo",{params:{tipcod:e}}).then(function(e){var t=e.json;s.checkActive=[],s.accessModule=t,s.accessModule.map(function(e){"I"!==e.ESTADO&&s.checkActive.push(e)})})},getSelectStates:function(){this.allowUsers=[],this.search="",this.listSelectedUsers=[],"000"!==this.selectProfile?this.listSelectedUsers=this.dataProfiles():this.listSelectedUsers=this.dataStates(this.listUsers)},filterNidelData:function(e){var s=this,t=[];return e.map(function(e){e.INSTRUCOD===s.accessOption.nivelSelected&&t.push(e)}),"T"===this.accessOption.nivelSelected?e:t},filterGradeData:function(e){var s=this,t=[];return e.map(function(e){e.GRADOCOD===s.accessOption.gradeSelected&&e.INSTRUCOD===s.accessOption.nivelSelected&&t.push(e)}),"T"===this.accessOption.gradeSelected?e:t},filterSectionData:function(e){var s=this,t=[];return e.map(function(e){e.GRADOCOD===s.accessOption.gradeSelected&&e.INSTRUCOD===s.accessOption.nivelSelected&&e.SECCIONCOD===s.accessOption.sectionSelected&&t.push(e)}),"T"===this.accessOption.sectionSelected?e:t},filterCourseData:function(e){var s=this,t=[];return e.map(function(e){e.CURSOCOD===s.accessOption.courseSelected&&t.push(e)}),"T"===this.accessOption.courseSelected?e:t},obtInstru:function(){var e=this;Ht.$http.get("api/HyoInstrus/obtInstru").then(function(s){var t=s.json;t.unshift({INSTRUCOD:"T",INSTRUDES:"Todos"}),e.niveles=t})},obtGrados:function(){var e=this,s=this.instrucod;Ht.$http.get("api/HyoGradoNivs/obtGrados",{params:{instru:s}}).then(function(s){var t=s.json;t.unshift({GRADOCOD:"T",GRADODES:"Todos"}),e.grados=t})},obtSecciones:function(){var e=this,s=this.instrucod,t=this.gradocod;Ht.$http.get("api/HyoSalones/obtSecciones",{params:{gradocod:t,instrucod:s}}).then(function(s){var t=s.json;t.unshift({SECCIONCOD:"T",SECCIONDES:"Todos"}),e.secciones=t})},cierre:function(){var e=this;Ht.$http.post("api/HyoUsuario/cambioEstadoI").then(function(s){(0,dt["default"])(e.$t(s),"success")}).catch(function(s){var t=s.error;(0,dt["default"])(e.$t(t.message),"warning")})},getCookie:function(e){for(var s=e+"=",t=decodeURIComponent(document.cookie),n=t.split(";"),l=0;l<n.length;l++){var o=n[l];while(" "===o.charAt(0))o=o.substring(1);if(0===o.indexOf(s))return o.substring(s.length,o.length)}return""}},created:function(){var e=this;this.siscod=(0,ct["default"])().siscod,this.getSistemas((0,ct["default"])().usucod),this.sinPermiso=1===(0,ct["default"])().ruta.nivel,this.dataSetting=[{label:"Profesor",value:"006"},{label:"Familia",value:"004"},{label:"Alumno",value:"005"}],Ht.$http.get("api/HyoPerfiles/obtPerfilesExistentes",{params:{unicos:!0}}).then(function(s){var t=s.json;t.unshift({TIPCOD:"000",TIPNOM:"Todos"}),t.map(function(e){e.label=e.TIPNOM,e.value=e.TIPCOD}),e.profiles=t}),Ht.$http.get("api/HyoPerfiles/obtPerfilesExistentes",{params:{unicos:!1}}).then(function(s){var t=s.json;t.map(function(e){e.label=e.TIPNOM,e.value=e.TIPCOD}),e.profilesModal=t}),Ht.$http.get("api/HyoUsuario/obtListaUsuariosSeguridad",{params:{activos:"s"}}).then(function(s){var t=s.json,n={};t.map(function(s){s.label=s.USUNOM,s.value=JSON.stringify(s),s.active=!1,n[s.ESTADO]||(n[s.ESTADO]=[]),n[s.ESTADO].push(s),e.listUsersFilter[s.TIPCOD]?(e.listUsersFilter[s.TIPCOD][s.ESTADO]||(e.listUsersFilter[s.TIPCOD][s.ESTADO]=[]),e.listUsersFilter[s.TIPCOD][s.ESTADO].push(s)):(e.listUsersFilter[s.TIPCOD]={},e.listUsersFilter[s.TIPCOD][s.ESTADO]||(e.listUsersFilter[s.TIPCOD][s.ESTADO]=[]),e.listUsersFilter[s.TIPCOD][s.ESTADO].push(s))}),t=null,e.listUsers=n,e.listSelectedUsers=e.dataStates(n)}),Ht.$http.get("api/HyoUsuario/obtPerfilesPersonal").then(function(s){var t=s.json;e.dataPersonal=t}),(0,ut.isNuevoRegistro)().then(function(s){e.REGISTRO_DE_NOTAS_VUE=s})},computed:{sisnom:function(){var e=this,s=this.accessModule.filter(function(s){return s.SISCOD===e.siscod}),t=Ms()(s,1),n=t[0];return n&&n.SISNOM?n.SISNOM:"Intranet"},isGreater:function(){return(0,ut.isGreater)()},filterGrade:function(){var e=this.accessOption.grade[this.accessOption.nivelSelected]||[];return e.map(function(e){e.label=e.GRADODES,e.value=e.GRADOCOD}),e},filterSection:function(){var e=this,s=[{SECCIONDES:"Todos",SECCIONCOD:"T",label:"Todos",value:"T"}];return this.accessOption.section=this.accessOption.section||[],"T"===this.accessOption.gradeSelected?(s.push(),this.accessOption.sectionSelected="T"):this.accessOption.section.map(function(t){t.label=t.SECCIONDES,t.value=t.SECCIONCOD,t.INSTRUCOD===e.accessOption.nivelSelected&&t.GRADOCOD===e.accessOption.gradeSelected&&s.push(t)}),s},filterCourse:function(){var e=[{CURSONOM:"Todos",CURSOCOD:"T",label:"Todos",value:"T"}];return this.accessOption.course=this.accessOption.course||[],this.accessOption.course.map(function(s){s.label=s.CURSONOM,s.value=s.CURSOCOD,e.push(s)}),e}},validations:{users:{name:{required:nt.mw},user:{required:nt.mw}}}};const Bt=(0,yt.A)(Wt,[["render",Fs]]);var zt=Bt}}]);