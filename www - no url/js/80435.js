"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[80435],{80435:function(e,o,t){t.r(o),t.d(o,{default:function(){return ye}});var l=t(8445),n=t.n(l),a=(t(56285),t(515),t(61758)),s=t(58790),i=t(29104),r={class:"q-card"},u={class:"row"},c={class:"row q-pa-xs q-mb-sm",style:{border:"1px solid black !important","border-radius":"3px"}},d={style:{"font-size":"0.8rem"}},f={class:"row"},m={class:"row q-px-sm"},p={class:"row q-ma-xs border-field q-mb-sm"},h={class:"row"},v={class:"row q-ma-xs border-field q-mb-sm"},b={class:"leyenda"},g={class:"row"},k={class:"row q-ml-xs"},C={class:"col row"},O={class:"row col"},E={key:0,class:"q-table q-table-horizontal-separator"},S={class:"col"},L=["align"],y={key:1,class:"col"},A={class:"row col"},F={class:"q-table q-table-horizontal-separator q-card"},I={class:"col"},D=["align"],x={key:1,class:"col"},M={class:"q-ma-xs"},V={class:"row"},q={class:"row"},T={class:"q-pa-xs q-mb-sm col",style:{border:"1px solid black !important","border-radius":"3px"}},U={style:{"font-size":"0.8rem"}},X={key:0,class:"col q-ml-sm"};function w(e,o){var t=(0,a.g2)("sie-salones"),l=(0,a.g2)("sie-select"),w=(0,a.g2)("q-checkbox"),R=(0,a.g2)("q-toggle"),P=(0,a.g2)("q-radio"),_=(0,a.g2)("q-select"),Q=(0,a.g2)("q-datetime"),$=(0,a.g2)("q-btn"),z=(0,a.g2)("modal-seguimiento"),j=(0,a.g2)("q-icon"),Y=(0,a.g2)("q-collapsible"),N=(0,a.g2)("q-scroll-area"),H=(0,a.g2)("sie-modal"),W=(0,a.g2)("q-tooltip"),K=(0,a.g2)("q-page-sticky"),G=(0,a.g2)("q-page");return(0,a.uX)(),(0,a.Wv)(G,{class:"column q-pa-xs"},{default:(0,a.k6)(function(){return[(0,a.Lk)("div",r,[(0,a.Lk)("div",u,[(0,a.bF)(t,{class:"col no-border",modelValue:e.filtro.salon,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.filtro.salon=o}),campos:["NEMO","NEMODES","PROFCOD","SECCIONDES"],onSeleccionar:e.seleccionarSalon,todos:!1},null,8,["modelValue","onSeleccionar"]),e.filtro.salon?((0,a.uX)(),(0,a.Wv)(l,{key:0,class:"col q-px-sm",type:"outlined",modelValue:e.cursoSelect,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.cursoSelect=o}),options:e.cursos,label:"CURSONOM",val:"CURSOGRUPO",placeholder:"curso",style:{"margin-top":"8px","margin-bottom":"10px"},onSelected:e.seleccionarCurso},null,8,["modelValue","options","onSelected"])):(0,a.Q3)("v-if",!0)]),e.filtro.salon&&e.filtro.cursocod?((0,a.uX)(),(0,a.CE)(a.FK,{key:0},[(0,a.Lk)("fieldset",c,[(0,a.Lk)("legend",d,[(0,a.Lk)("span",null,(0,s.v_)(e.$t("Estados"))+" :",1)]),(0,a.Lk)("div",f,[(0,a.bF)(w,{class:"q-px-xs q-mx-xs",modelValue:e.filtro.todos,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.filtro.todos=o}),label:e.$t("todos"),color:"secondary",onInput:e.marcarTodosFiltro,style:{border:"1px solid black !important","border-radius":"3px"}},null,8,["modelValue","label","onInput"]),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.iconos,function(t){return(0,a.uX)(),(0,a.CE)(a.FK,null,["NULO"!==t.estado?((0,a.uX)(),(0,a.Wv)(w,{key:0,class:"q-px-xs q-mx-xs",label:t.descripcion,modelValue:e.filtro.estados,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.filtro.estados=o}),val:t.estado,color:"secondary",style:(0,s.Tr)([{border:"1px solid black !important","border-radius":"3px"},{color:t.COLORHEXT,"background-color":t.COLORHEXF}]),onInput:e.validarTodosFiltro},null,8,["label","modelValue","val","style","onInput"])):(0,a.Q3)("v-if",!0)],64)}),256))])]),(0,a.Lk)("div",m,[(0,a.Lk)("fieldset",p,[o[22]||(o[22]=(0,a.Lk)("legend",{class:"leyenda"},"Modo de visualizacion :",-1)),(0,a.Lk)("div",h,[o[20]||(o[20]=(0,a.Lk)("span",{class:"q-ma-xs"},"Alumno",-1)),(0,a.bF)(R,{"keep-color":"",modelValue:e.filtro.modoVisualizacion,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.filtro.modoVisualizacion=o}),color:"primary","true-value":"F","false-value":"A",onInput:e.generarColumnas},null,8,["modelValue","onInput"]),o[21]||(o[21]=(0,a.Lk)("span",{class:"q-ma-xs"},"Fecha",-1))])]),(0,a.Lk)("fieldset",v,[(0,a.Lk)("legend",b,(0,s.v_)(e.$t("Documento por"))+" :",1),(0,a.Lk)("div",g,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.tiposListado,function(t){return(0,a.uX)(),(0,a.Wv)(P,{key:t.tipcod,class:"q-ma-xs",modelValue:e.filtro.tipoListado,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.filtro.tipoListado=o}),val:t.tipcod,label:t.tipdes,onInput:e.seleccionarTipo},null,8,["modelValue","val","label","onInput"])}),128))])]),(0,a.Lk)("div",k,[1===e.filtro.tipoListado?((0,a.uX)(),(0,a.Wv)(l,{key:0,class:"col",type:"outlined",modelValue:e.filtro.periodo,"onUpdate:modelValue":o[6]||(o[6]=function(o){return e.filtro.periodo=o}),options:e.listaPeriodosSimple,label:"BIMDES",val:"BIMECOD",placeholder:"Periodo",style:{"margin-top":"11px","margin-bottom":"10px"},onSelected:e.obtInfo},null,8,["modelValue","options","onSelected"])):(0,a.Q3)("v-if",!0),2===e.filtro.tipoListado?((0,a.uX)(),(0,a.Wv)(_,{key:1,class:"q-if-outlined col",options:e.listaMeses,"float-label":"Mes",modelValue:e.filtro.mes,"onUpdate:modelValue":o[7]||(o[7]=function(o){return e.filtro.mes=o}),onInput:e.obtInfo},null,8,["options","modelValue","onInput"])):(0,a.Q3)("v-if",!0),3===e.filtro.tipoListado?((0,a.uX)(),(0,a.CE)(a.FK,{key:2},[(0,a.bF)(Q,{class:"col q-if-outlined",modelValue:e.filtro.fecini,"onUpdate:modelValue":o[8]||(o[8]=function(o){return e.filtro.fecini=o}),format:"DD/MM/YYYY","float-label":e.$t("desde"),onInput:e.obtInfo},null,8,["modelValue","float-label","onInput"]),(0,a.bF)(Q,{class:"col q-if-outlined",modelValue:e.filtro.fecfin,"onUpdate:modelValue":o[9]||(o[9]=function(o){return e.filtro.fecfin=o}),format:"DD/MM/YYYY","float-label":e.$t("hasta"),onInput:e.obtInfo},null,8,["modelValue","float-label","onInput"])],64)):(0,a.Q3)("v-if",!0)]),(0,a.Lk)("div",C,[e.verSeguimiento?((0,a.uX)(),(0,a.Wv)($,{key:0,class:"q-ma-md",absolute:"",icon:"import_export",color:"primary","size-md":"",dense:"",onClick:o[10]||(o[10]=function(o){return e.showModalSeguimiento=!0})},{default:(0,a.k6)(function(){return n()(o[23]||(o[23]=[(0,a.eW)("Seguimiento",-1)]))}),_:1})):(0,a.Q3)("v-if",!0)])])],64)):(0,a.Q3)("v-if",!0)]),e.showModalSeguimiento?((0,a.uX)(),(0,a.Wv)(z,{key:0,open:e.showModalSeguimiento,cursocod:e.cursoSelect,nemo:e.filtro.salon,fecha:e.filtro.fecini,sieInfo:e.sie,onCerrarModal:e.cerrarModal,cursos:e.cursos,iconos:e.iconos},null,8,["open","cursocod","nemo","fecha","sieInfo","onCerrarModal","cursos","iconos"])):(0,a.Q3)("v-if",!0),Object.keys(e.informacion).length>0?((0,a.uX)(),(0,a.Wv)(N,{key:1,class:"col q-card q-mt-xs",style:(0,s.Tr)({"max-height":e.alto})},{default:(0,a.k6)(function(){return[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.informacion,function(o,t){return(0,a.uX)(),(0,a.Wv)(Y,{popup:"",icon:"A"===e.filtro.modoVisualizacion?"person_outline":"calendar",label:t},{header:(0,a.k6)(function(){return[(0,a.Lk)("div",O,[(0,a.bF)(j,{name:"A"===e.filtro.modoVisualizacion?"person_outline":"calendar"},null,8,["name"]),(0,a.Lk)("span",null,(0,s.v_)(t),1)]),"T"!==e.filtro.cursocod?((0,a.uX)(),(0,a.Wv)($,{key:0,icon:"send",flat:"",dense:"",round:"",onClick:(0,i.D$)(function(t){return e.enviarAlertasC(o)},["stop"])},null,8,["onClick"])):(0,a.Q3)("v-if",!0)]}),default:(0,a.k6)(function(){return["T"!==e.filtro.cursocod?((0,a.uX)(),(0,a.CE)("table",E,[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.columns,function(e){return(0,a.uX)(),(0,a.CE)("th",S,(0,s.v_)(e.label),1)}),256))])]),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o,function(o){return(0,a.uX)(),(0,a.CE)("tr",{key:o.KEY},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.columns,function(t){return(0,a.uX)(),(0,a.CE)(a.FK,null,["FECHA"!==t.name?((0,a.uX)(),(0,a.CE)("td",{key:0,class:"col",align:t.align},[(0,a.Lk)("span",null,(0,s.v_)(o[t.field]),1)],8,L)):((0,a.uX)(),(0,a.CE)("td",y,[(0,a.Lk)("span",null,(0,s.v_)(e.date(o[t.field],"DD/MM/YYYY")),1)]))],64)}),256))])}),128))])])):((0,a.uX)(!0),(0,a.CE)(a.FK,{key:1},(0,a.pI)(o,function(o,t){return(0,a.uX)(),(0,a.Wv)(Y,null,{header:(0,a.k6)(function(){return[(0,a.Lk)("div",A,[(0,a.bF)(j,{name:"A"!==e.filtro.modoVisualizacion?"person_outline":"calendar"},null,8,["name"]),(0,a.Lk)("span",null,(0,s.v_)(t),1)]),(0,a.bF)($,{icon:"send",flat:"",dense:"",round:"",onClick:(0,i.D$)(function(t){return e.enviarAlertas(o[0])},["stop"])},null,8,["onClick"])]}),default:(0,a.k6)(function(){return[(0,a.Lk)("table",F,[(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.columns,function(e){return(0,a.uX)(),(0,a.CE)("th",I,(0,s.v_)(e.label),1)}),256))])]),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(o,function(o){return(0,a.uX)(),(0,a.CE)("tr",{key:o.KEY},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.columns,function(t){return(0,a.uX)(),(0,a.CE)(a.FK,null,["FECHA"!==t.name?((0,a.uX)(),(0,a.CE)("td",{key:0,class:"col",align:t.align},[(0,a.Lk)("span",{class:(0,s.C4)(t.class)},(0,s.v_)(o[t.field]),3)],8,D)):((0,a.uX)(),(0,a.CE)("td",x,[(0,a.Lk)("span",null,(0,s.v_)(e.date(o[t.field],"DD/MM/YYYY")),1)]))],64)}),256))])}),128))])])]}),_:2},1024)}),256))]}),_:2},1032,["icon","label"])}),256))]}),_:1},8,["style"])):(0,a.Q3)("v-if",!0),(0,a.bF)(H,{modelValue:e.modalEnvio,"onUpdate:modelValue":o[17]||(o[17]=function(o){return e.modalEnvio=o}),title:e.$t("boletin.mensajesguardar.titulo"),onSubmit:o[18]||(o[18]=function(o){return e.enviarAlerta(e.envioParams)})},{default:(0,a.k6)(function(){return[(0,a.Lk)("div",M,[(0,a.Lk)("div",V,[(0,a.bF)(l,{class:"col-6",type:"outlined",modelValue:e.envioParams.instrucod,"onUpdate:modelValue":o[11]||(o[11]=function(o){return e.envioParams.instrucod=o}),options:e.niveles,label:"label",val:"value",placeholder:e.$t("ngs.nivel")},null,8,["modelValue","options","placeholder"]),(0,a.bF)(_,{class:"col q-if-outlined",modelValue:e.envioParams.gradocod,"onUpdate:modelValue":o[12]||(o[12]=function(o){return e.envioParams.gradocod=o}),options:e.grados,"float-label":e.$t("ngs.grado")},null,8,["modelValue","options","float-label"])]),(0,a.Lk)("div",q,[(0,a.bF)(_,{class:"col-6 q-if-outlined",modelValue:e.envioParams.seccioncod,"onUpdate:modelValue":o[13]||(o[13]=function(o){return e.envioParams.seccioncod=o}),options:e.secciones,"float-label":e.$t("ngs.seccion")},null,8,["modelValue","options","float-label"]),(0,a.bF)(Q,{class:"col q-if-outlined",modelValue:e.envioParams.fecha,"onUpdate:modelValue":o[14]||(o[14]=function(o){return e.envioParams.fecha=o}),type:"date",format:"DD/MM/YYYY","float-label":e.$t("fecha")},null,8,["modelValue","float-label"])]),(0,a.Lk)("fieldset",T,[(0,a.bF)(w,{modelValue:e.envioParams.todos,"onUpdate:modelValue":o[15]||(o[15]=function(o){return e.envioParams.todos=o}),label:e.$t((e.envioParams.todos?"desS":"s")+"eleccionarTodos"),color:"secondary",onInput:e.marcarTodos},null,8,["modelValue","label","onInput"]),(0,a.Lk)("legend",U,(0,s.v_)(e.$t("Estados"))+" :",1),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.iconos,function(t){return(0,a.uX)(),(0,a.CE)(a.FK,null,["NULO"!==t.estado?((0,a.uX)(),(0,a.CE)("div",X,[(0,a.bF)(w,{modelValue:e.envioParams.filtroEstado,"onUpdate:modelValue":o[16]||(o[16]=function(o){return e.envioParams.filtroEstado=o}),label:t.des,val:t.estado,onInput:e.validarTodos,color:"secondary"},null,8,["modelValue","label","val","onInput"])])):(0,a.Q3)("v-if",!0)],64)}),256))])])]}),_:1},8,["modelValue","title"]),e.ocultarGeneral?(0,a.Q3)("v-if",!0):((0,a.uX)(),(0,a.Wv)(K,{key:2,position:"bottom-right",offset:[20,20]},{default:(0,a.k6)(function(){return[(0,a.bF)($,{fab:"",round:"",color:"secondary",icon:"send",onClick:o[19]||(o[19]=function(o){return e.modalEnvio=!0})},{default:(0,a.k6)(function(){return[(0,a.bF)(W,null,{default:(0,a.k6)(function(){return n()(o[24]||(o[24]=[(0,a.eW)("Envio General",-1)]))}),_:1})]}),_:1})]}),_:1}))]}),_:1})}t(30683),t(10239),t(50310),t(90095),t(83190),t(13715);var R=t(6123),P=t(96122),_=t(30545),Q=t(80660),$=t(88275),z=t(982),j=t(18105),Y=t(99637),N=t(57668),H=t(80340),W=t(30640),K=t(13813),G=t(93616),B={class:"col q-ma-sm"},J={class:"row"},Z={key:0},ee={class:"q-mx-xs"},oe={key:1,class:"q-ma-sm"},te={class:"column q-ma-sm"},le={class:"row q-my-xs"},ne={class:"column q-mx-xs"},ae={class:"column q-mx-xs"},se={class:"column q-mx-xs"},ie={class:"row q-my-xs"},re={key:0,class:"column q-mx-xs"},ue={class:"text-center",style:{"font-size":"10px","max-width":"55px"}},ce={class:"q-table q-table-horizontal-separator q-card"};function de(e,o){var t=(0,a.g2)("sie-select"),l=(0,a.g2)("q-datetime"),i=(0,a.g2)("sie-vacio"),r=(0,a.g2)("q-tab"),u=(0,a.g2)("q-item-side"),c=(0,a.g2)("q-item-main"),d=(0,a.g2)("q-item"),f=(0,a.g2)("q-list-header"),m=(0,a.g2)("detalle-asistencia"),p=(0,a.g2)("q-list"),h=(0,a.g2)("q-icon"),v=(0,a.g2)("q-tab-pane"),b=(0,a.g2)("q-item-tile"),g=(0,a.g2)("q-collapsible"),k=(0,a.g2)("q-tabs"),C=(0,a.g2)("sie-modal");return(0,a.uX)(),(0,a.Wv)(C,{modelValue:e.showModal,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.showModal=o}),title:e.$t("Seguimiento"),ok:!1,footer:!1},{footer:(0,a.k6)(function(){return n()(o[5]||(o[5]=[]))}),default:(0,a.k6)(function(){return[(0,a.Lk)("div",B,[(0,a.Lk)("div",J,[(0,a.bF)(t,{type:"outlined",modelValue:e.cursoSelect,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.cursoSelect=o}),options:e.cursos,label:"CURSONOM",val:"CURSOGRUPO",placeholder:e.$t("curso"),onSelected:e.seleccionarCurso},null,8,["modelValue","options","placeholder","onSelected"]),(0,a.bF)(l,{class:"col q-if-outlined",modelValue:e.fecSelect,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.fecSelect=o}),format:"DD/MM/YYYY","float-label":e.$t("fecha"),onInput:e.cargarInfo},null,8,["modelValue","float-label","onInput"])]),(0,a.bF)(t,{class:"col",type:"outlined",modelValue:e.alucod,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.alucod=o}),options:e.estudiantes,label:"NOMCOMP",val:"ALUCOD",placeholder:e.$t("estudiante"),onSelected:e.cargarInfo},null,8,["modelValue","options","placeholder","onSelected"])]),0===e.infoArr.length&&0===Object.keys(e.infoObj).length&&0===e.detMsj.length?((0,a.uX)(),(0,a.Wv)(i,{key:0,class:"col"})):((0,a.uX)(),(0,a.Wv)(k,{key:1,class:"shadow-1",animated:"",swipeable:"",inverted:"",color:"secondary",align:"justify",modelValue:e.tabSelect,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.tabSelect=o})},{title:(0,a.k6)(function(){return[e.infoArr.length>0||Object.keys(e.infoObj).length>0?((0,a.uX)(),(0,a.Wv)(r,{key:0,name:"movimientos",icon:"import_export",label:"Movimientos"})):(0,a.Q3)("v-if",!0),e.detMsj.length>0?((0,a.uX)(),(0,a.Wv)(r,{key:1,name:"correo",icon:"email",label:"Mensaje"})):(0,a.Q3)("v-if",!0)]}),default:(0,a.k6)(function(){return[(0,a.bF)(v,{name:"movimientos"},{default:(0,a.k6)(function(){return[Object.keys(e.infoObj).length>0?((0,a.uX)(),(0,a.CE)("div",Z,[(0,a.bF)(p,null,{default:(0,a.k6)(function(){return[(0,a.bF)(d,null,{default:(0,a.k6)(function(){return[(0,a.bF)(u,null,{default:(0,a.k6)(function(){return n()(o[6]||(o[6]=[(0,a.eW)("Movimiento",-1)]))}),_:1}),(0,a.bF)(c,{class:"col"}),(0,a.bF)(u,null,{default:(0,a.k6)(function(){return n()(o[7]||(o[7]=[(0,a.eW)("Registro",-1)]))}),_:1})]}),_:1}),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.infoObj,function(e,t){return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(f,{class:"row"},{default:(0,a.k6)(function(){return[o[8]||(o[8]=(0,a.Lk)("span",{class:"text-bold"},"Curso:",-1)),(0,a.Lk)("span",ee,(0,s.v_)(t),1)]}),_:2},1024),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e,function(e){return(0,a.uX)(),(0,a.Wv)(m,{data:e},null,8,["data"])}),256))],64)}),256))]}),_:1})])):((0,a.uX)(),(0,a.CE)("div",oe,[(0,a.bF)(p,null,{default:(0,a.k6)(function(){return[(0,a.bF)(d,null,{default:(0,a.k6)(function(){return[(0,a.bF)(u,null,{default:(0,a.k6)(function(){return n()(o[9]||(o[9]=[(0,a.eW)("Movimiento",-1)]))}),_:1}),(0,a.bF)(c,{class:"col"}),(0,a.bF)(u,null,{default:(0,a.k6)(function(){return n()(o[10]||(o[10]=[(0,a.eW)("Registro",-1)]))}),_:1})]}),_:1}),((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.infoArr,function(e,o){return(0,a.uX)(),(0,a.Wv)(m,{data:e},null,8,["data"])}),256))]}),_:1})])),(0,a.Lk)("div",te,[o[14]||(o[14]=(0,a.Lk)("span",{class:"text-bold",style:{"font-size":"10px","max-width":"55px"}},"Leyenda Movimientos",-1)),(0,a.Lk)("div",le,[(0,a.Lk)("div",ne,[(0,a.bF)(h,{name:"add",color:"green-7"}),o[11]||(o[11]=(0,a.Lk)("span",{style:{"font-size":"10px","max-width":"55px"}},"Agregado",-1))]),(0,a.Lk)("div",ae,[(0,a.bF)(h,{name:"update",color:"amber-6"}),o[12]||(o[12]=(0,a.Lk)("span",{style:{"font-size":"10px","max-width":"55px"}},"Actualizado",-1))]),(0,a.Lk)("div",se,[(0,a.bF)(h,{name:"delete",color:"red-6"}),o[13]||(o[13]=(0,a.Lk)("span",{style:{"font-size":"10px","max-width":"55px"}},"Eliminado",-1))])]),o[15]||(o[15]=(0,a.Lk)("span",{class:"text-bold",style:{"font-size":"10px","max-width":"55px"}},"Leyenda Registros",-1)),(0,a.Lk)("div",ie,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.iconos,function(e){return(0,a.uX)(),(0,a.CE)(a.FK,null,["NULO"!==e.estado?((0,a.uX)(),(0,a.CE)("div",re,[(0,a.bF)(h,{name:e.icono,color:e.color},null,8,["name","color"]),(0,a.Lk)("span",ue,(0,s.v_)(e.des),1)])):(0,a.Q3)("v-if",!0)],64)}),256))])])]}),_:1}),(0,a.bF)(v,{name:"correo",style:(0,s.Tr)({"min-height":"141px","max-height":e.alto})},{default:(0,a.k6)(function(){return[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.detMsj,function(t){return(0,a.uX)(),(0,a.Wv)(g,{key:t.ID,popup:"",group:"detalle"},{header:(0,a.k6)(function(){return[(0,a.bF)(c,null,{default:(0,a.k6)(function(){return[(0,a.bF)(b,{label:""},{default:(0,a.k6)(function(){return[(0,a.eW)((0,s.v_)(t.USUARIO),1)]}),_:2},1024),(0,a.bF)(b,{class:"row",sublabel:""},{default:(0,a.k6)(function(){return[o[16]||(o[16]=(0,a.Lk)("span",{class:"text-bold"},"Fecha:",-1)),(0,a.Lk)("span",null,(0,s.v_)(e.date(t.FECHA,"DD/MM/YYYY hh:mm A")),1)]}),_:2},1024)]}),_:2},1024)]}),default:(0,a.k6)(function(){return[(0,a.Lk)("table",ce,[o[17]||(o[17]=(0,a.Lk)("thead",null,[(0,a.Lk)("tr",null,[(0,a.Lk)("th",null,"Curso"),(0,a.Lk)("th",null,"Estado")])],-1)),(0,a.Lk)("tbody",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.DETALLE,function(e){return(0,a.uX)(),(0,a.CE)("tr",null,[(0,a.Lk)("td",null,(0,s.v_)(e.CURSONOM),1),(0,a.Lk)("td",null,(0,s.v_)(e.ESTADODES),1)])}),256))])])]}),_:2},1024)}),128))]}),_:1},8,["style"])]}),_:1},8,["modelValue"]))]}),_:1},8,["modelValue","title"])}var fe=t(83972),me=t(24974);function pe(e,o){var t=(0,a.g2)("q-item-side"),l=(0,a.g2)("q-item-tile"),n=(0,a.g2)("q-item-main"),i=(0,a.g2)("q-item");return(0,a.uX)(),(0,a.Wv)(i,null,{default:(0,a.k6)(function(){return[(0,a.bF)(t,{icon:e.data.TIPOUPD,color:e.data.COLORUPD},null,8,["icon","color"]),(0,a.bF)(n,null,{default:(0,a.k6)(function(){return[(0,a.bF)(l,{label:""},{default:(0,a.k6)(function(){return[(0,a.eW)((0,s.v_)(e.data.USUNOM),1)]}),_:1}),(0,a.bF)(l,{class:"row",sublabel:""},{default:(0,a.k6)(function(){return[o[0]||(o[0]=(0,a.Lk)("span",{class:"text-bold"},"Fecha:",-1)),(0,a.Lk)("span",null,(0,s.v_)(e.date(e.data.FH_CAMBIO,"DD/MM/YYYY hh:mm A")),1)]}),_:1})]}),_:1}),(0,a.bF)(t,{rigth:"",icon:e.data.ICONO||e.data.ICONOOLD,color:e.data.COLORVUE||e.data.COLORVUEOLD},null,8,["icon","color"])]}),_:1})}var he={props:["data"],methods:{date:j.Ay},components:{QItem:R.H0,QItemSide:R.n1,QItemMain:R.mF,QItemTile:R.lp}},ve=t(12807);const be=(0,ve.A)(he,[["render",pe]]);var ge=be,ke={setup:function(){var e=(0,fe.fG)();return{v$:e}},emits:["cerrarModal"],name:"asignacion",props:["open","sieInfo","cursocod","nemo","fecha","cursos","iconos"],components:{sieUsuario:me.A,sieVacio:H.A,QPageSticky:R._U,sieModal:W.A,QChip:R.wQ,sieSelect:G.A,QDatetime:R.T5,QList:R.Mb,QListHeader:R.XR,detalleAsistencia:ge,QTabs:R.uw,QTab:R.zu,QTabPane:R.dg,QCollapsible:R.eS,QScrollArea:P.A,QItem:R.H0,QItemSide:R.n1,QItemMain:R.mF,QIcon:R.bP,QItemTile:R.lp},computed:{keyClassChange:function(){return this.nemo+"-"+this.cursocod+"-"+this.grupocod+"-"+this.fecha+"-"+this.turno}},data:function(){return{showModal:!0,estudiantes:null,alucod:null,fecSelect:null,cursoSelect:null,cursoSelected:null,infoObj:{},infoArr:[],detMsj:[],alto:0,tabSelect:null}},watch:{open:function(e){this.showModal=e,this.fecSelect=this.fecha,this.cursoSelect=this.cursocod,this.open=this.showModal},showModal:function(e){e?this.cargarAlumnos():this.cerrarModal()}},unmounted:function(){window.removeEventListener("resize",this.handleResize)},methods:{date:function(e,o){return(0,j.Ay)(e,o)},handleResize:function(){var e=70;this.alto=window.innerHeight-e+"px"},cerrarModal:function(e){this.$emit("cerrarModal",e)},cargarAlumnos:function(){var e=this;Q.$http.get("api/HyoSalonAl/obtAlumnosPorSalon",{params:{ano:this.sieInfo.ano,nemo:this.nemo,cursocod:this.cursoSelect}}).then(function(o){var t=o.json;e.estudiantes=t})},seleccionarCurso:function(e){this.cursoSelected=e.CURSOCOD,this.cargarInfo()},cargarInfo:function(){var e=this;this.infoArr=[],this.infoObj={},this.alucod&&Q.$http.get("api/HyoAcursoauditorias/obtSeguimiento",{params:{alucod:this.alucod,cursocod:this.cursoSelected,fecha:this.fecSelect}}).then(function(o){var t=o.json;0===t.movimientos.length?e.tabSelect="correo":e.tabSelect="movimientos",Array.isArray(t.movimientos)?e.infoArr=t.movimientos:e.infoObj=t.movimientos,e.detMsj=t.mensajeria})}},validations:{},mounted:function(){this.cargarAlumnos(),this.fecSelect=this.fecha,this.cursoSelect=this.cursocod,this.open=this.showModal,window.addEventListener("resize",this.handleResize),this.handleResize()}};const Ce=(0,ve.A)(ke,[["render",de]]);var Oe=Ce,Ee=t(69027),Se={components:{QTable:_.A,QTr:R.qh,QTd:R.Ef,QTooltip:R.nC,sieSalones:$.Ay,QTh:R.EJ,QToggle:R.c5,sieVacio:H.A,sieModal:W.A,QPageSticky:R._U,QModal:R.tU,QModalLayout:R.hT,QCheckbox:R.vZ,QRadio:R.$,QSelect:R.Si,QDatetime:R.T5,sieSelect:G.A,QCollapsible:R.eS,QScrollArea:P.A,modalSeguimiento:Oe,QPage:R.Tu,QBtn:R.Il,QIcon:R.bP},data:function(){return{sie:(0,N["default"])(),verSeguimiento:"001"===(0,N["default"])().tipcod,showModalSeguimiento:!1,alto:0,iconos:[],estados:[],modalEnvio:!1,seccionesTemp:{},ocultarGeneral:!1,envioParams:{fecha:new Date,filtroEstado:[],todos:!1,instrucod:"T",gradocod:"T",seccioncod:"T"},filtro:{todos:!1,tipoListado:3,modoVisualizacion:"A",periodo:null,mes:(new Date).getMonth()+1,fecini:new Date,fecfin:new Date,salon:null,estados:[]},cursoSelect:null,gradosTemp:{},niveles:[],columns:[],preGrados:[],preSecciones:[],listaPeriodosSimple:[],listaMeses:[{value:1,label:"Enero"},{value:2,label:"Febrero"},{value:3,label:"Marzo"},{value:4,label:"Abril"},{value:5,label:"Mayo"},{value:6,label:"Junio"},{value:7,label:"Julio"},{value:8,label:"Agosto"},{value:9,label:"Setiembre"},{value:10,label:"Octubre"},{value:11,label:"Noviembre"},{value:12,label:"Diciembre"}],tiposListado:[{tipcod:3,tipdes:"Fecha"},{tipcod:2,tipdes:"Mes"},{tipcod:1,tipdes:"Periodo"}],preCursos:[],cursos:[],informacion:{}}},methods:{date:j.Ay,cerrarModal:function(e){this.showModalSeguimiento=!1},marcarTodos:function(e){var o=this;this.envioParams.todos=e,e?this.iconos.forEach(function(e){o.envioParams.filtroEstado.indexOf(e.estado)<0&&o.envioParams.filtroEstado.push(e.estado)}):this.envioParams.filtroEstado=[]},marcarTodosFiltro:function(e){var o=this;this.filtro.todos=e,e?this.iconos.forEach(function(e){o.filtro.estados.indexOf(e.estado)<0&&o.filtro.estados.push(e.estado)}):this.filtro.estados=[]},validarTodos:function(){this.envioParams.todos=this.envioParams.filtroEstado.length===this.iconos.length},validarTodosFiltro:function(){this.filtro.todos=this.filtro.estados.length===this.iconos.length,this.obtInfo()},generaEstados:function(e){var o=this,t=[];if(e)return this.estados.forEach(function(e){"NULO"!==e.estado&&t.push(e.estado),"P"!==e.ESTADO_SALON&&o.envioParams.filtroEstado.push(e.ESTADOCOD)}),t},seleccionarTipo:function(){this.cursos=n()(this.preCursos),"006"!==this.sie.tipcod?(this.cursos.unshift({CURSOCOD:"T",CURSONOM:"Todos",CURSOGRUPO:"T"}),this.cursoSelect="T"):this.cursoSelect=this.cursos[0].CURSOCOD,this.obtInfo()},seleccionarSalon:function(e){var o=this;Q.$http.post("api/HyoAsignaprs/getCursosPeriodos",{parametros:{simple:!0,nemo:e.NEMO}}).then(function(e){var t=e.json;"006"!==o.sie.tipcod?o.seleccionarCurso({CURSOCOD:"T"}):o.seleccionarCurso({CURSOCOD:t.cursos[0].CURSOCOD}),t.cursos.forEach(function(e){e.CURSOGRUPO=e.CURSOCOD+e.GRUPOCOD}),o.preCursos=t.cursos,o.seleccionarTipo(),t.periodos.forEach(function(e){e.BIMDES=e.BIMECOD+" "+e.PERIDES,1===e.PERACTUAL&&(o.filtro.periodo=e.BIMECOD)}),o.listaPeriodosSimple=t.periodos,o.generarColumnas()})},seleccionarCurso:function(e){this.filtro.cursocod=e.CURSOCOD,e.GRUPOCOD?this.filtro.grupocod=e.GRUPOCOD:delete this.filtro.grupocod,this.generarColumnas()},generarColumnas:function(){var e=[];"T"===this.filtro.cursocod?e.push({name:"CURSONOM",field:"CURSONOM",align:"left",label:this.$t("curso"),class:"q-ml-sm"}):"A"===this.filtro.modoVisualizacion?e.push({name:"FECHA",field:"FECHA",align:"center",label:this.$t("fecha")}):e.push({name:"NOMCOMP",field:"NOMCOMP",align:"left",label:this.$t("estudiante")}),e.push({name:"ESTADODES",field:"ESTADODES",align:"center",label:this.$t("estado")}),this.obtInfo(),this.columns=e},obtInfo:function(){var e=this,o="T"===this.filtro.cursocod||this.filtro.grupocod;this.filtro.estados.length>0&&o&&Q.$http.post("api/HyoAsistenciacurso/obtAsistenciaResumen",this.filtro).then(function(o){var t=o.json;e.informacion=t})},handleResize:function(){var e=70;this.alto=window.innerHeight-e+"px"},enviarAlerta:function(e){var o=this;e.filtroEstado.length>0?Q.$http.post("api/HyoAsistenciacurso/sendAsistenciaCursoResumen",e).then(function(t){var l=t.json;(0,z["default"])(o.$t("mensajes."+l.msg),l.type),Q.$http.post("api/HyoAcmensajeriaauditoria/saveAuditoria",e).then(function(e){e.json}),"success"===l.msg&&(o.modalEnvio=!1)}):(0,z["default"])("Debe seleccionar al menos un estado para enviar el mensaje","error")},enviarAlertas:function(e){var o=this,t={alucod:e.ALUCOD,fecha:e.FECHA,filtroEstado:this.filtro.estados};t.nemo=this.filtro.salon,(0,Ee.dialogConfirm)({message:"Esta seguro de enviar este mensaje",ok:this.$t("botones.si"),cancel:this.$t("botones.no")}).then(function(e){e&&o.enviarAlerta(t)})},enviarAlertasC:function(e){var o=this,t={filtroEstado:this.filtro.estados,cursocod:e[0].CURSOCOD,nemo:this.filtro.salon};"A"===this.filtro.modoVisualizacion?(t.fechas=[],e.forEach(function(e){t.fechas.push(e.FECHA)}),t.alucod=e[0].ALUCOD):t.fecha=e[0].FECHA,(0,Ee.dialogConfirm)({message:"Esta seguro de enviar este mensaje",ok:this.$t("botones.si"),cancel:this.$t("botones.no")}).then(function(e){e&&o.enviarAlerta(t)})}},watch:{modalEnvio:function(e){var o=this;e&&this.estados.forEach(function(e){"P"!==e.ESTADO_SALON&&o.envioParams.filtroEstado.push(e.ESTADOCOD)})}},computed:{soloDia:function(){var e=this.filtro.fecini.getTime(),o=this.filtro.fecfin.getTime(),t=parseInt((o-e)/864e5),l=3===this.tipoListado||t>=0&&t<=7;return l},grados:function(){var e=[{label:"Todos",value:"T"}].concat(n()(this.preGrados[this.envioParams.instrucod]||[]));return this.envioParams.gradocod="T",e},secciones:function(){var e=[{label:"Todos",value:"T"}].concat(n()(this.preSecciones[this.envioParams.instrucod+this.envioParams.gradocod]||[]));return this.envioParams.seccioncod="T",e}},unmounted:function(){window.removeEventListener("resize",this.handleResize)},created:function(){var e=this;"0045"===this.sie.colcod&&(this.verSeguimiento=["001","024"].indexOf(this.sie.tipcod)>=0),this.ocultarGeneral=["0278","0006"].indexOf(this.sie.colcod)>=0||["0090","0009"].indexOf(this.sie.colcod)>=0&&["001","009"].indexOf(this.sie.tipcod)<0,Q.$http.get("api/HyoHorasisEstado/listarHorasisEstado",{params:{momento:2}}).then(function(o){var t=o.json;e.estados=t,(0,Y["default"])(t,function(o){"P"!==o.ESTADO_SALON&&e.filtro.estados.push(o.ESTADOCOD),o.VIGENTE&&e.iconos.push({estado:o.ESTADOCOD,descripcion:o.ESTADOETI,icono:o.ICONO,color:o.COLORVUE,vigente:o.VIGENTE,COLORHEXT:o.COLORHEXT,COLORHEXF:o.COLORHEXF,des:o.ESTADODES}),window.addEventListener("resize",e.handleResize),e.handleResize()})}),Q.$http.get("api/HyoInstrus/obtGradosAsignados").then(function(o){var t=o.json;t.niveles.unshift({INSTRUCOD:"T",INSTRUDES:"Todos"}),e.niveles=(0,K.mapQ)(t.niveles,{label:"INSTRUDES",value:"INSTRUCOD"}),Object.keys(t.grados).forEach(function(e){t.grados[e]=(0,K.mapQ)(t.grados[e],{label:"GRADODES",value:"GRADOCOD"})}),e.preGrados=t.grados,Object.keys(t.secciones).forEach(function(e){t.secciones[e]=(0,K.mapQ)(t.secciones[e],{label:"SECCIONCOD",value:"SECCIONCOD"})}),e.preSecciones=t.secciones,e.instrucod=e.niveles[0].value})}};const Le=(0,ve.A)(Se,[["render",w]]);var ye=Le}}]);