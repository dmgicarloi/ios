"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[14867],{14867:function(t,a,e){e.r(a),e.d(a,{default:function(){return g}});e(515);var o=e(61758),n=e(58790),i={class:"col row"},s={class:"column"};function l(t,a){var e=(0,o.g2)("sie-familia"),l=(0,o.g2)("sie-select"),c=(0,o.g2)("q-item"),r=(0,o.g2)("q-list"),u=(0,o.g2)("q-download-file"),d=(0,o.g2)("q-scroll-area"),f=(0,o.g2)("q-page");return(0,o.uX)(),(0,o.Wv)(f,{class:"col bg-white"},{default:(0,o.k6)(function(){return[(0,o.bF)(e,{model:t.familiaSelect,onSelected:t.cambiaFamilia},null,8,["model","onSelected"]),t.isLess?((0,o.uX)(),(0,o.Wv)(l,{key:0,class:"sie-select-general",type:"outlined",noBottom:"",modelValue:t.estudiante.ALUCOD,"onUpdate:modelValue":a[0]||(a[0]=function(a){return t.estudiante.ALUCOD=a}),options:t.dataHijos,label:"NOMCOMP",val:"ALUCOD",onSelected:t.seleccionaAlumno,placeholder:t.$t("agenda.titFiltroHijos")},null,8,["modelValue","options","onSelected","placeholder"])):(0,o.Q3)("v-if",!0),(0,o.Lk)("div",i,[t.isLess?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.Wv)(r,{key:0,class:"col-5"},{default:(0,o.k6)(function(){return[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.dataHijos,function(a){return(0,o.uX)(),(0,o.Wv)(c,{key:a.ALUCOD,onClick:function(e){return t.seleccionaAlumno(a)},class:(0,n.C4)({"custom-selected":a.ALUCOD===t.estudiante.ALUCOD})},{default:(0,o.k6)(function(){return[(0,o.Lk)("span",null,(0,n.v_)(a.NOMCOMP),1)]}),_:2},1032,["onClick","class"])}),128))]}),_:1})),Object.keys(t.estudiante).length>0?((0,o.uX)(),(0,o.Wv)(d,{key:1,class:"col",style:{width:"58%"}},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",s,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.reportes,function(a){return(0,o.uX)(),(0,o.Wv)(u,{class:"col",src:t.printDocumentos(a),item:a,name:a.TITULO+".pdf",extension:"pdf"},null,8,["src","item","name"])}),256))])]}),_:1})):(0,o.Q3)("v-if",!0)])]}),_:1})}e(30683),e(10239),e(50310),e(90095),e(83190),e(13715);var c=e(6123),r=e(96122),u=e(96529),d=e(21675),f=e(93616),p=e(57668),A=e(80660),m=e(81288),O=e(95655),v=e(65229),h=e(62006),C={components:{sieFamilia:u.A,QList:c.Mb,QItem:c.H0,reporte:d.A,QScrollArea:r.A,sieSelect:f.A,QDownloadFile:h.A,QPage:c.Tu},directives:{sieActive:v.A},data:function(){return{sie:(0,p["default"])(),anoMat:(0,p["default"])().ano,familiaSelect:null,configuracion:{},dataHijos:[],estudiante:{},parametros:{},reportes:[],matriEst:[{label:"Matriculado",value:0,valorEstado:"S"},{label:"Pre Matriculado",value:1,valorEstado:"P"},{label:"En Proceso",value:2,valorEstado:"Z"},{label:"Por Ratificar",value:3,valorEstado:"R"}]}},methods:{cambiaFamilia:function(t){var a=this;if(t.FAMCOD){this.estudiante={};var e={ano:this.anoMat,famcod:t.FAMCOD,configuracion:this.configuracion};this.dataHijos=[],A.$http.post("api/HyoMatricula/obtEstadosHijos",e).then(function(t){var e=t.json;e.forEach(function(t){var e=["S","Z","R","M","P"];e.indexOf(t.ESTADO_INTRA)>=0&&a.dataHijos.push(t)}),(1===a.dataHijos.length||a.dataHijos.length>1)&&(a.estudiante=a.dataHijos[0],a.seleccionaAlumno(a.dataHijos[0]))})}},seleccionaAlumno:function(t){var a=this;this.estudiante=t;var e={TOKEN:(0,p["default"])().token,RESERVA:!1,ANO:this.anoMat,ALUCOD:t.ALUCOD,INSTRUCOD:t.INSTRUCODL,GRADOCOD:t.GRADOCODL,SECCIONCOD:t.SECCIONCOD,configuracion:this.configuracion,FAMCOD:t.FAMCOD,FAMDES:t.FAMDES,DESCRIPCION:"",NUEVO:t.NUEVO,FAMRESP:t.FAMRESP,FAMRESPMAT:t.FAMRESPMAT,ESTADO:t.ESTADO_INTRA};A.$http.post("api/HyoReportesmatricula/getReportes",e).then(function(t){var e=t.json;e.forEach(function(t){"e"===t.TIPO&&(t.url=(0,O.getUrlReport)((0,p["default"])().origin+"/"+t.url,t.parametros))}),a.reportes=e})},printDocumentos:function(t){if(this.anoMat>=2025){var a="";return a=1===t.TIPO&&1===t.subTipo?t.url:"".concat((0,p["default"])().url,"/").concat(A.API_LMS,"/api/HyoReportesmatricula/archivo/").concat(this.anoMat,"/").concat(t.IDDOC,"/").concat(t.TITULO,"/").concat(this.estudiante.ALUCOD,"?access_token=").concat((0,p["default"])().token),a}return t.url}},computed:{isLess:function(){return(0,m.isLess)()}},created:function(){var t=this;A.$http.get("api/HyoMatriculaconfiguracion/obtConfiguracion",{params:{ano:this.anoMat,agrupado:!0}}).then(function(a){var e=a.json;t.configuracion=e}),A.$http.post("api/HyoMatriculaparametros/obtParametros",{ano:this.anoMat,tipo:"titulo"}).then(function(a){var e=a.json;t.parametros=e[0]})}},D=e(12807);const M=(0,D.A)(C,[["render",l]]);var g=M}}]);