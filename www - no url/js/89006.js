(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[89006],{74956:function(){},75455:function(){},89006:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return D}});var s={};n.r(s),n.d(s,{setFilterMessages:function(){return q},setMessages:function(){return _}});var r=n(61758),i={key:1,class:"col column q-pa-sm"},a={class:"row col q-col-gutter-x-sm"},o={class:"col-menu column"},u={class:"col relative-position overflow-auto"},c={class:"absolute-full"},l={class:"col-md col-xs-12 column"},d={key:2,class:"col column bg-white"};function m(e,t){var n=(0,r.g2)("mensajeria-menu"),s=(0,r.g2)("q-layout-drawer"),m=(0,r.g2)("router-view"),h=(0,r.g2)("q-card"),f=(0,r.g2)("q-card-section"),p=(0,r.g2)("sie-vacio"),g=(0,r.g2)("q-page");return(0,r.uX)(),(0,r.Wv)(g,{class:"intranet--mensajeria"},{default:(0,r.k6)(function(){return[e.permiso?((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[e.isGreater?(0,r.Q3)("v-if",!0):((0,r.uX)(),(0,r.Wv)(s,{key:0,class:"bg-white",modelValue:e.open,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.open=t}),side:"right","content-class":"column"},{default:(0,r.k6)(function(){return[(0,r.bF)(n,{class:"col column"})]}),_:1},8,["modelValue"])),e.isGreater?((0,r.uX)(),(0,r.CE)("div",i,[(0,r.bF)(h,{class:"col column",flat:"",bordered:""},{default:(0,r.k6)(function(){return[(0,r.bF)(f,{class:"col column"},{default:(0,r.k6)(function(){return[(0,r.Lk)("div",a,[(0,r.Lk)("div",o,[(0,r.Lk)("div",u,[(0,r.Lk)("div",c,[(0,r.bF)(n)])])]),(0,r.Lk)("div",l,[(0,r.bF)(h,{class:"col column",flat:"",bordered:""},{default:(0,r.k6)(function(){return[(0,r.bF)(m)]}),_:1})])])]}),_:1})]}),_:1})])):((0,r.uX)(),(0,r.CE)("div",d,[(0,r.bF)(m)]))],64)):((0,r.uX)(),(0,r.Wv)(p,{key:1,class:"col",title:"No tiene permisos para esta opci√≥n",icon:"email"}))]}),_:1})}var h=n(76080),f=n.n(h),p=n(45254),g=n.n(p),M=n(57008),b=n.n(M),v=(n(10239),n(6123)),k=n(35849),A=n(48583),C=n(81288),$=n(30914),j=n(61740),w=n(36980),y=function(){return{messages:[],filterMessages:[]}},F=n(74956),_=function(e,t){e.messages=t},q=function(e,t){e.filterMessages=t},E=n(75455),L={namespaced:!0,state:y,getters:F,mutations:s,actions:E},O=n(51714),X=n(80660),G=n(88567),Q=n(95718),T=n(80340),P={components:{QCard:G.A,QCardSection:Q.A,recibidos:k.A,mensajeriaMenu:A.A,mensaje:$.A,redactar:j.A,sieVacio:T.A,QPage:v.Tu,QLayoutDrawer:v.D2},data:function(){return{idCarpeta:1,menu:null,redactar:!1,dataTo:[],dataMessage:null,data:{},child:[],permiso:!1}},methods:{newMessage:function(){this.$router.push({name:"intranet.mensajeria.redactar"})},getMenu:function(e){e.currentSelected=this.idCarpeta,this.menu=e},action:function(e,t,n){this.menu=n,this.open=!1,t.type=e,this.data=t,"principal"!==e&&"folders"!==e||(this.idCarpeta=t.ID_MSJ_CARPETA,this.menu.currentSelected=this.idCarpeta,this.redactar=!1)},openMenu:function(){this.$store.commit("menu/setOpenMenu",!this.open)},back:function(){this.$router.push({name:"intranet.mensajeria"})}},computed:b()(b()({},(0,w.aH)("menu",["openM","currentOption"])),{},{open:{set:function(e){this.$store.commit("menu/setOpenMenu",e)},get:function(){return this.openM}},isGreater:function(){return(0,C.isGreater)()},type:function(){var e,t;return this.currentOption&&(e=this.currentOption.CARPETA),this.child[0]&&(t=this.child[0].CARPETA),e||t||""}}),beforeMount:function(){var e=this;return g()(f()().m(function t(){return f()().w(function(t){while(1)switch(t.n){case 0:X.$http.get("api/HyoUsuMenu/obtMenuHabilitado",{params:{urls:["intranet.mensajeria"]}}).then(function(t){e.permiso=t.json,e.permiso||e.$router.go(-1)});case 1:return t.a(2)}},t)}))()},created:function(){this.$store.hasModule("bandeja")||this.$store.registerModule("bandeja",L),this.$store.hasModule("menu")||this.$store.registerModule("menu",O.A)},mounted:function(){this.child=O.A.state.myMenu.principal?O.A.state.myMenu.principal.child:[]},unmounted:function(){this.$store.commit("menu/setCurrentOption",{}),this.$store.commit("bandeja/setMessages",[]),this.$store.commit("bandeja/setFilterMessages",[]),this.isGreater&&(this.$store.unregisterModule("bandeja"),this.$store.unregisterModule("menu"))}},S=n(12807);const V=(0,S.A)(P,[["render",m]]);var D=V}}]);