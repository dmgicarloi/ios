"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[43871],{43871:function(e,o,a){a.r(o),a.d(o,{default:function(){return Ie}});var n=a(8445),t=a.n(n),l=a(61758),r=a(58790),i={class:"bg-white"},s={class:"row"},u={class:"col-8"},d={class:"col-4"},c={key:0,class:"grilla col scroll-y"},m={key:1},p={key:1,class:"grilla col scroll-y"},f={class:"head-popup row"},v={class:"col"},g={key:0},b={key:1,class:"text-primary"},h={class:"row"},C={class:"col-xs-12 col-md-4"},k={class:"row"},O={key:0,class:"col"},S={class:"checkWrap"},V={class:"checkWrap"},R={class:"checkWrap"},A={class:"checkWrap"},P={class:"checkWrap"},y={key:1,class:"col"},U={class:"titleRuler"},N={class:"checkWrap"},D={class:"checkWrap"},_={class:"checkWrap"},I={class:"checkWrap"},L={class:"checkWrap"},E={class:"checkWrap"},W={class:"checkWrap"},F={class:"checkWrap"},T={class:"checkWrap"},w={class:"checkWrap"},M={class:"checkWrap"},Q={key:2,class:"col"},q={class:"checkWrap"},$={class:"checkWrap"},x={class:"checkWrap"},B={class:"checkWrap"},j={class:"checkWrap"},X={class:"checkWrap"},G={class:"checkWrap"},H={class:"checkWrap"},z={class:"checkWrap"},J={class:"checkWrap"},K={class:"checkWrap"},Z={class:"checkWrap"},Y={class:"checkWrap"},ee={class:"row"},oe={key:0,class:"col"},ae={class:"checkWrap state"},ne={class:"contOpc"},te={class:"col"},le={class:"row col justify-center items-center"},re={class:"col-xs-12 col-md-7"},ie={class:"row"},se={class:"col"},ue={class:"row"},de={class:"col"},ce={class:"row"},me={class:"col"},pe={class:"row"},fe={class:"col"};function ve(e,o){var a=(0,l.g2)("sie-select"),n=(0,l.g2)("q-td"),ve=(0,l.g2)("q-icon"),ge=(0,l.g2)("q-btn"),be=(0,l.g2)("q-tr"),he=(0,l.g2)("q-table"),Ce=(0,l.g2)("sie-vacio"),ke=(0,l.g2)("sie-usuario"),Oe=(0,l.g2)("q-checkbox"),Se=(0,l.g2)("q-radio"),Ve=(0,l.g2)("sie-modal"),Re=(0,l.g2)("q-select"),Ae=(0,l.g2)("q-card"),Pe=(0,l.g2)("q-toolbar"),ye=(0,l.g2)("q-page-sticky"),Ue=(0,l.g2)("q-page");return(0,l.uX)(),(0,l.Wv)(Ue,{class:"listadoAcompanamiento"},{default:(0,l.k6)(function(){return[(0,l.Lk)("div",i,[(0,l.Lk)("div",s,[(0,l.Lk)("div",u,[(0,l.bF)(a,{class:"q-if-outlined",modelValue:e.vmSalon,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.vmSalon=o}),type:"outlined",placeholder:e.$t("salones"),label:"NEMODES",val:"NEMO",options:e.salonesOrigin,onSelected:e.cargarPeriodos},null,8,["modelValue","placeholder","options","onSelected"])]),(0,l.Lk)("div",d,[(0,l.bF)(a,{class:"q-if-outlined",modelValue:e.vmPeriodo,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.vmPeriodo=o}),type:"outlined",placeholder:e.$t("periodo"),label:"label",val:"value",options:e.periodoSalon,onInput:e.showAlumnos},null,8,["modelValue","placeholder","options","onInput"])])])]),!0===e.grilla?((0,l.uX)(),(0,l.CE)("div",c,[(0,l.bF)(he,{title:"Listado de Alumnos",data:e.dataTable,columns:e.columnsAlumnos,"row-key":"name","hide-bottom":"",pagination:{page:1,rowsNumber:0}},{body:(0,l.k6)(function(o){return[(0,l.bF)(be,{props:o},{default:(0,l.k6)(function(){return[(0,l.bF)(n,{key:"ALUCOD",props:o},{default:(0,l.k6)(function(){return[(0,l.eW)((0,r.v_)(o.row.ALUCOD),1)]}),_:2},1032,["props"]),(0,l.bF)(n,{key:"NUMORD",props:o},{default:(0,l.k6)(function(){return[(0,l.eW)((0,r.v_)(o.row.NUMORD),1)]}),_:2},1032,["props"]),(0,l.bF)(n,{key:"NOMCOMP",props:o},{default:(0,l.k6)(function(){return[(0,l.eW)((0,r.v_)(o.row.NOMCOMP),1)]}),_:2},1032,["props"]),(0,l.bF)(n,{key:"ACOMPANAMIENTO",props:o},{default:(0,l.k6)(function(){return[1===o.row.ACOMPANAMIENTO?((0,l.uX)(),(0,l.Wv)(ve,{key:0,class:"acompanamientoCheck",name:"check"})):(0,l.Q3)("v-if",!0),1!==o.row.ACOMPANAMIENTO?((0,l.uX)(),(0,l.CE)("div",m)):(0,l.Q3)("v-if",!0)]}),_:2},1032,["props"]),(0,l.bF)(n,{key:"estado",props:o},{default:(0,l.k6)(function(){return[(0,l.bF)(ge,{icon:"person_pin",onClick:function(a){return e.showModal(o.row.ALUCOD,o.row.ANO)}},null,8,["onClick"])]}),_:2},1032,["props"])]}),_:2},1032,["props"])]}),_:1},8,["data","columns"])])):(0,l.Q3)("v-if",!0),!1===e.grilla?((0,l.uX)(),(0,l.CE)("div",p,[(0,l.bF)(Ce,{subtitle:"Debe seleccionar un estudiante",title:"No hay información",icon:"user"})])):(0,l.Q3)("v-if",!0),(0,l.bF)(Ve,{class:"modalCondicion",modelValue:e.modalCondicion,"onUpdate:modelValue":o[32]||(o[32]=function(o){return e.modalCondicion=o}),footer:!0,ref:"modal",header:!0,onSubmit:e.saveAcompanamientoAlumno},{default:(0,l.k6)(function(){return[(0,l.Lk)("div",f,[(0,l.bF)(ke,{usucod:e.showUsuCod,style:{margin:"0px 20px 0px 0px"}},null,8,["usucod"]),(0,l.Lk)("div",v,[(0,l.Lk)("div",null,"Código: "+(0,r.v_)(e.showCodAlumno),1),(0,l.Lk)("div",null,"Estudiante: "+(0,r.v_)(e.showNombresAlumnos),1),e.puedeDarSeguimiento?(0,l.Q3)("v-if",!0):((0,l.uX)(),(0,l.CE)("div",g,'El estudiante tiene "Evaluación Postergada"')),e.seguimientoAnoAnt?((0,l.uX)(),(0,l.CE)("div",b,"El estudiante continua acompañamiento del año anterior")):(0,l.Q3)("v-if",!0)])]),(0,l.Lk)("div",h,[(0,l.Lk)("div",{class:(0,r.C4)(["col-xs-12",[e.puedeDarSeguimiento?"col-md-8":"col-xs-12"]])},[(0,l.bF)(he,{title:"Detalle de Notas y Conducta",data:e.alumno,columns:e.columnsPopup,"row-key":"name",style:{margin:"20px 10px"},pagination:{page:1,rowsNumber:0},"hide-bottom":!0},{body:(0,l.k6)(function(o){return[(0,l.bF)(be,{props:o},{default:(0,l.k6)(function(){return[(0,l.bF)(n,{key:"CURSONOM",class:(0,r.C4)(e.validarTypeCourse(o.row.CURSONAT)),props:o},{default:(0,l.k6)(function(){return[(0,l.eW)((0,r.v_)(o.row.CURSONOM),1)]}),_:2},1032,["class","props"]),(0,l.bF)(n,{key:"nota1",class:(0,r.C4)(e.validarNota(o.row.nota1)),props:o},{default:(0,l.k6)(function(){return[(0,l.eW)((0,r.v_)(o.row.nota1),1)]}),_:2},1032,["class","props"]),(0,l.bF)(n,{key:"nota2",class:(0,r.C4)(e.validarNota(o.row.nota2)),props:o},{default:(0,l.k6)(function(){return[(0,l.eW)((0,r.v_)(o.row.nota2),1)]}),_:2},1032,["class","props"]),(0,l.bF)(n,{key:"nota3",class:(0,r.C4)(e.validarNota(o.row.nota3)),props:o},{default:(0,l.k6)(function(){return[(0,l.eW)((0,r.v_)(o.row.nota3),1)]}),_:2},1032,["class","props"]),(0,l.bF)(n,{key:"nota4",class:(0,r.C4)(e.validarNota(o.row.nota4)),props:o},{default:(0,l.k6)(function(){return[(0,l.eW)((0,r.v_)(o.row.nota4),1)]}),_:2},1032,["class","props"])]}),_:2},1032,["props"])]}),_:1},8,["data","columns"])],2),(0,l.Lk)("div",C,[(0,l.Lk)("div",k,[e.mostrarReglasInicial&&e.puedeDarSeguimiento?((0,l.uX)(),(0,l.CE)("div",O,[o[45]||(o[45]=(0,l.Lk)("div",{class:"titleRuler"},"Inicial",-1)),(0,l.Lk)("div",S,[(0,l.bF)(Oe,{modelValue:e.Iregla1,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.Iregla1=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[40]||(o[40]=[(0,l.eW)("1 curso con C en 2 bimestres consecutivos",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",V,[(0,l.bF)(Oe,{modelValue:e.Conducta1,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.Conducta1=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[41]||(o[41]=[(0,l.eW)("C en los valores de Responsabilidad y Respeto en un bimestre.",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",R,[(0,l.bF)(Oe,{modelValue:e.Conducta2,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.Conducta2=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[42]||(o[42]=[(0,l.eW)("C en uno de los valores, Responsabilidad o Respeto, en dos bimestres.",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",A,[(0,l.bF)(Oe,{modelValue:e.Conducta3,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.Conducta3=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[43]||(o[43]=[(0,l.eW)("Esta en acompañamiento especial y, además: C en los valores de Responsabilidad y Respeto en un bimestre.",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",P,[(0,l.bF)(Oe,{modelValue:e.Conducta4,"onUpdate:modelValue":o[6]||(o[6]=function(o){return e.Conducta4=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[44]||(o[44]=[(0,l.eW)("Otros casos que comtemple el reglamento.",-1)]))}),_:1},8,["modelValue"])])])):(0,l.Q3)("v-if",!0),e.mostrarReglasPrimaria&&e.puedeDarSeguimiento?((0,l.uX)(),(0,l.CE)("div",y,[(0,l.Lk)("div",U,(0,r.v_)("P"===e.dataTable[0]["INSTRUCOD"]?"Primaria":"Secundaria"),1),(0,l.Lk)("div",N,[(0,l.bF)(Oe,{modelValue:e.Pregla1,"onUpdate:modelValue":o[7]||(o[7]=function(o){return e.Pregla1=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[46]||(o[46]=[(0,l.eW)("4 o más cursos con B o C en el primer bimestre.",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",D,[(0,l.bF)(Oe,{modelValue:e.Pregla2,"onUpdate:modelValue":o[8]||(o[8]=function(o){return e.Pregla2=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[47]||(o[47]=[(0,l.eW)("1 curso básico con B o C en dos bimestres consecutivos.",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",_,[(0,l.bF)(Oe,{modelValue:e.Pregla3,"onUpdate:modelValue":o[9]||(o[9]=function(o){return e.Pregla3=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[48]||(o[48]=[(0,l.eW)("2 o más cursos básicos con C en un bimestre.",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",I,[(0,l.bF)(Oe,{modelValue:e.Pregla4,"onUpdate:modelValue":o[10]||(o[10]=function(o){return e.Pregla4=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[49]||(o[49]=[(0,l.eW)("2 o más cursos básicos con B o de otras áreas con C al finalizar el año escolar.",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",L,[(0,l.bF)(Oe,{modelValue:e.Pregla5,"onUpdate:modelValue":o[11]||(o[11]=function(o){return e.Pregla5=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[50]||(o[50]=[(0,l.eW)("4 cursos básicos con B y de otras áreas C al finalizar un bimestre.",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",E,[(0,l.bF)(Oe,{modelValue:e.Pregla6,"onUpdate:modelValue":o[12]||(o[12]=function(o){return e.Pregla6=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[51]||(o[51]=[(0,l.eW)("2 cursos básicos con B o C en dos Bimestres consecutivos.",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",W,[(0,l.bF)(Oe,{modelValue:e.Pregla7,"onUpdate:modelValue":o[13]||(o[13]=function(o){return e.Pregla7=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[52]||(o[52]=[(0,l.eW)("3 cursos con B o C al finalizar el año.",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",F,[(0,l.bF)(Oe,{modelValue:e.Conducta1,"onUpdate:modelValue":o[14]||(o[14]=function(o){return e.Conducta1=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[53]||(o[53]=[(0,l.eW)("C en los valores de Responsabilidad y Respeto en un bimestre.",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",T,[(0,l.bF)(Oe,{modelValue:e.Conducta2,"onUpdate:modelValue":o[15]||(o[15]=function(o){return e.Conducta2=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[54]||(o[54]=[(0,l.eW)("C en uno de los valores, Responsabilidad o Respeto, en dos bimestres.",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",w,[(0,l.bF)(Oe,{modelValue:e.Conducta3,"onUpdate:modelValue":o[16]||(o[16]=function(o){return e.Conducta3=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[55]||(o[55]=[(0,l.eW)("Esta en acompañamiento especial y, además: C en los valores de Responsabilidad y Respeto en un bimestre.",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",M,[(0,l.bF)(Oe,{modelValue:e.Conducta4,"onUpdate:modelValue":o[17]||(o[17]=function(o){return e.Conducta4=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[56]||(o[56]=[(0,l.eW)("Otros casos que comtemple el reglamento.",-1)]))}),_:1},8,["modelValue"])])])):(0,l.Q3)("v-if",!0),e.mostrarReglasSecundaria&&e.puedeDarSeguimiento?((0,l.uX)(),(0,l.CE)("div",Q,[o[70]||(o[70]=(0,l.Lk)("div",{class:"titleRuler"},"Secundaria",-1)),(0,l.Lk)("div",q,[(0,l.bF)(Oe,{modelValue:e.Sregla1,"onUpdate:modelValue":o[18]||(o[18]=function(o){return e.Sregla1=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[57]||(o[57]=[(0,l.eW)("4 ó mas cursos desaprobados en el 1° bimestre.",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",$,[(0,l.bF)(Oe,{modelValue:e.Sregla2,"onUpdate:modelValue":o[19]||(o[19]=function(o){return e.Sregla2=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[58]||(o[58]=[(0,l.eW)("3 ó mas cursos desaprobados en un período a partir del 2° bimestre.",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",x,[(0,l.bF)(Oe,{modelValue:e.Sregla3,"onUpdate:modelValue":o[20]||(o[20]=function(o){return e.Sregla3=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[59]||(o[59]=[(0,l.eW)("2 cursos desaprobados en 2 bimestres consecutivos (en el conteo se toma en cuenta los cursos a cargo)",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",B,[(0,l.bF)(Oe,{modelValue:e.Sregla4,"onUpdate:modelValue":o[21]||(o[21]=function(o){return e.Sregla4=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[60]||(o[60]=[(0,l.eW)("4 cursos desaprobados o más.",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",j,[(0,l.bF)(Oe,{modelValue:e.Sregla5,"onUpdate:modelValue":o[22]||(o[22]=function(o){return e.Sregla5=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[61]||(o[61]=[(0,l.eW)("3 cursos desaprobados en dos consecutivos",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",X,[(0,l.bF)(Oe,{modelValue:e.Sregla6,"onUpdate:modelValue":o[23]||(o[23]=function(o){return e.Sregla6=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[62]||(o[62]=[(0,l.eW)("2 cursos desaprobados al finalizar el año. (en el conteo se toma en cuenta los cursos a cargo)",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",G,[(0,l.bF)(Oe,{modelValue:e.Sregla7,"onUpdate:modelValue":o[24]||(o[24]=function(o){return e.Sregla7=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[63]||(o[63]=[(0,l.eW)("4 cursos desaprobados o más.",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",H,[(0,l.bF)(Oe,{modelValue:e.Sregla8,"onUpdate:modelValue":o[25]||(o[25]=function(o){return e.Sregla8=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[64]||(o[64]=[(0,l.eW)("3 cursos desaprobados en dos consecutivos",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",z,[(0,l.bF)(Oe,{modelValue:e.Sregla9,"onUpdate:modelValue":o[26]||(o[26]=function(o){return e.Sregla9=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[65]||(o[65]=[(0,l.eW)("2 cursos desaprobados al finalizar el año. (en el conteo se toma en cuenta los cursos a cargo)",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",J,[(0,l.bF)(Oe,{modelValue:e.Conducta1,"onUpdate:modelValue":o[27]||(o[27]=function(o){return e.Conducta1=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[66]||(o[66]=[(0,l.eW)("C en los valores de Responsabilidad y Respeto en un bimestre.",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",K,[(0,l.bF)(Oe,{modelValue:e.Conducta2,"onUpdate:modelValue":o[28]||(o[28]=function(o){return e.Conducta2=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[67]||(o[67]=[(0,l.eW)("C en uno de los valores, Responsabilidad o Respeto, en dos bimestres.",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",Z,[(0,l.bF)(Oe,{modelValue:e.Conducta3,"onUpdate:modelValue":o[29]||(o[29]=function(o){return e.Conducta3=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[68]||(o[68]=[(0,l.eW)("Esta en acompañamiento especial y, además: C en los valores de Responsabilidad y Respeto en un bimestre.",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",Y,[(0,l.bF)(Oe,{modelValue:e.Conducta4,"onUpdate:modelValue":o[30]||(o[30]=function(o){return e.Conducta4=o}),readonly:!0},{default:(0,l.k6)(function(){return t()(o[69]||(o[69]=[(0,l.eW)("Otros casos que comtemple el reglamento.",-1)]))}),_:1},8,["modelValue"])])])):(0,l.Q3)("v-if",!0)]),(0,l.Lk)("div",ee,[e.puedeDarSeguimiento?((0,l.uX)(),(0,l.CE)("div",oe,[(0,l.Lk)("div",ae,[(0,l.bF)(Oe,{class:"observationCheck",modelValue:e.stateObservation,"onUpdate:modelValue":o[31]||(o[31]=function(o){return e.stateObservation=o}),onInput:e.changeState},{default:(0,l.k6)(function(){return t()(o[71]||(o[71]=[(0,l.eW)("Dar seguimiento al alumno(a).",-1)]))}),_:1},8,["modelValue","onInput"])]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.options,function(o){return(0,l.uX)(),(0,l.CE)("div",ne,[(0,l.Lk)("label",null,(0,r.v_)(o[0].TIPO),1),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(o,function(o){return(0,l.uX)(),(0,l.CE)("div",null,[(0,l.Lk)("div",te,[(0,l.bF)(Se,{modelValue:e.vmCondicion[o.ID_TIPO],"onUpdate:modelValue":function(a){return e.vmCondicion[o.ID_TIPO]=a},val:o.ID_CONDICION,label:o.DESCRIPCION,disable:e.niveles},null,8,["modelValue","onUpdate:modelValue","val","label","disable"])])])}),256))])}),256))])):(0,l.Q3)("v-if",!0)])])])]}),_:1},8,["modelValue","onSubmit"]),(0,l.bF)(Ve,{modelValue:e.modal_reporte,"onUpdate:modelValue":o[39]||(o[39]=function(o){return e.modal_reporte=o}),title:e.$t("reportes"),header:!0,ok:!1},{footer:(0,l.k6)(function(){return[(0,l.bF)(Pe,{class:"justify-end",color:"grey-2"},{default:(0,l.k6)(function(){return[(0,l.Lk)("div",null,[(0,l.bF)(ge,{class:"q-mx-xs",color:"primary",icon:"file_pdf",onClick:o[37]||(o[37]=function(o){return e.exportarReporte("pdf")})},{default:(0,l.k6)(function(){return t()(o[72]||(o[72]=[(0,l.eW)("PDF",-1)]))}),_:1})])]}),_:1})]}),footerMobile:(0,l.k6)(function(){return[(0,l.bF)(ge,{flat:"",round:"",dense:"",icon:"file_pdf",onClick:o[38]||(o[38]=function(o){return e.exportarReporte("pdf")})})]}),default:(0,l.k6)(function(){return[(0,l.Lk)("div",le,[(0,l.Lk)("div",re,[(0,l.bF)(Ae,{class:"q-px-md q-py-lg"},{default:(0,l.k6)(function(){return[(0,l.Lk)("div",ie,[(0,l.Lk)("div",se,[(0,l.bF)(Re,{class:"q-if-outlined",modelValue:e.vmReportes.nivel,"onUpdate:modelValue":o[33]||(o[33]=function(o){return e.vmReportes.nivel=o}),options:e.dataReportes.niveles,onInput:e.cambiarNivel,"float-label":e.$t("ngs.nivel")},null,8,["modelValue","options","onInput","float-label"])])]),(0,l.Lk)("div",ue,[(0,l.Lk)("div",de,[(0,l.bF)(Re,{class:"q-if-outlined",modelValue:e.vmReportes.grado,"onUpdate:modelValue":o[34]||(o[34]=function(o){return e.vmReportes.grado=o}),options:e.dataReportes.grados,disable:e.disabledGrado,onInput:e.cambiarGrado,"float-label":e.$t("ngs.grado")},null,8,["modelValue","options","disable","onInput","float-label"])])]),(0,l.Lk)("div",ce,[(0,l.Lk)("div",me,[(0,l.bF)(Re,{class:"q-if-outlined",modelValue:e.vmReportes.seccion,"onUpdate:modelValue":o[35]||(o[35]=function(o){return e.vmReportes.seccion=o}),options:e.dataReportes.secciones,disable:e.disabledSeccion,"float-label":e.$t("ngs.seccion")},null,8,["modelValue","options","disable","float-label"])])]),(0,l.Lk)("div",pe,[(0,l.Lk)("div",fe,[(0,l.bF)(Re,{class:"q-if-outlined",modelValue:e.vmReportes.periodo,"onUpdate:modelValue":o[36]||(o[36]=function(o){return e.vmReportes.periodo=o}),options:e.dataReportes.periodo,"float-label":e.$t("periodo")},null,8,["modelValue","options","float-label"])])])]}),_:1})])])]}),_:1},8,["modelValue","title"]),(0,l.bF)(ye,{class:"pos-sticky",position:"bottom-right",offset:[80,18]},{default:(0,l.k6)(function(){return[(0,l.bF)(ge,{class:"animate-pop","fab-mini":"",color:"secondary","text-color":"white",icon:"printer",onClick:e.modalReporte},null,8,["onClick"])]}),_:1})]}),_:1})}var ge=a(99550),be=a.n(ge),he=(a(23825),a(52133),a(10239),a(50310),a(90095),a(6724),a(70199),a(515),a(83190),a(49089),a(27153),a(66307),a(7346),a(13715),a(24066),a(80660)),Ce=a(6123),ke=a(982),Oe=a(36493),Se=a(80340),Ve=a(93616),Re=a(30640),Ae=a(24974),Pe=a(57668),ye=a(69027),Ue=a(2819),Ne={components:{QTable:Ce.kH,QModal:Ce.tU,QTr:Ce.qh,QTd:Ce.Ef,QSelect:Ce.Si,QList:Ce.Mb,QListHeader:Ce.XR,QItemSeparator:Ce.CL,QItemMain:Ce.mF,QItemSide:Ce.n1,QCheckbox:Ce.vZ,QPageSticky:Ce._U,QRadio:Ce.$,sieVacio:Se.A,sieSelect:Ve.A,sieModal:Re.A,sieUsuario:Ae.A,sieInfo:Pe["default"],QPage:Ce.Tu,QIcon:Ce.bP,QBtn:Ce.Il,QCard:Ce.C$,QToolbar:Ce.ZV},data:function(){return{Iregla1:!1,Conducta1:!1,Conducta2:!1,Conducta3:!1,Conducta4:!1,Pregla1:!1,Pregla2:!1,Pregla3:!1,Pregla4:!1,Pregla5:!1,Pregla6:!1,Pregla7:!1,Sregla1:!1,Sregla2:!1,Sregla3:!1,Sregla4:!1,Sregla5:!1,Sregla6:!1,Sregla7:!1,Sregla8:!1,Sregla9:!1,checked:!0,checked2:!1,checked3:!1,mostrarReglasInicial:!1,mostrarReglasPrimaria:!1,mostrarReglasSecundaria:!1,periodoCbo:null,bimestreAlumno:[],alumno:[],periodoSelect:[],modalCondicion:!1,serverPagination:{page:1,rowsNumber:10},salonesOrigin:[],vmSalon:"",dataTable:[],columnsAlumnos:[{name:"ALUCOD",label:"Código Alumno",field:"ALUCOD",sortable:!0,align:"center"},{name:"NUMORD",label:"Número de Orden",field:"NUMORD",sortable:!0,align:"center"},{name:"NOMCOMP",label:"Nombres",field:"NOMCOMP",sortable:!0,align:"left"},{name:"ACOMPANAMIENTO",label:"Acompañamiento",field:"ACOMPANAMIENTO",sortable:!0,align:"center"},{name:"estado",label:"Estado",field:"estado",sortable:!0,align:"center"}],columnsPopup:[{name:"CURSONOM",label:"Curso",field:"CURSONOM",sortable:!0,align:"left"},{name:"nota1",label:"1er B",field:"nota1",sortable:!0,align:"center"},{name:"nota2",label:"2do B",field:"nota2",sortable:!0,align:"center"},{name:"nota3",label:"3er B",field:"nota3",sortable:!0,align:"center"},{name:"nota4",label:"4to B",field:"nota4",sortable:!0,align:"center"}],options:[],btnSendReportAlumn:!1,currentAno:null,stateObservation:!1,niveles:!1,grilla:!1,periodoCerrado:!1,puedeDarSeguimiento:!1,modal_reporte:!1,periodoSalon:[],vmPeriodo:"",vmCondicion:{1:null,2:null},origenCondicion:{1:null,2:null},dataReportes:{niveles:[],grados:[{label:"Todos",value:{GRADOCOD:"T",GRADODES:"Todos"}}],secciones:[{label:"Todos",value:{SECCIONCOD:"T",SECCIONDES:"Todos"}}]},vmReportes:{nivel:"",grado:"",seccion:"",periodo:1},disabledGrado:!0,disabledSeccion:!0,seguimientoAnoAnt:!1}},computed:{nivelesObservation:function(){return[]},showCodAlumno:function(){return this.alumno.length>0?this.alumno[0].ALUCOD:""},showNombresAlumnos:function(){return this.alumno.length>0?this.alumno[0].NOMCOMP:""},showUsuCod:function(){return this.alumno.length>0?this.alumno[0].USUCOD:""},changeState:function(){this.niveles=!this.stateObservation,this.puedeDarSeguimiento&&this.stateObservation||(this.vmCondicion={1:null,2:null})}},methods:{getPeriodoOptions:function(e){for(var o=[],a=1;a<=e;a++)o.push({label:a+" PERIODO",value:a});return o},cargarPeriodos:function(e){this.periodoSalon=[],this.vmPeriodo="",this.periodoSalon=this.getPeriodoOptions(e.PERINUM),this.grilla=!1,this.dataTable=[]},showAlumnos:function(){this.getAlumnosSalon(),this.grilla=!0},getAlumnosSalon:function(){var e=this;he.$http.get("api/HyoSalonAl/obtAlumnosPorSalonAcompanamiento",{params:{nemo:this.vmSalon,bimecod:this.vmPeriodo}}).then(function(o){if(e.dataTable=o.json,e.periodoCerrado=!0,e.dataTable.length>0){var a=e.dataTable[0].PERICIE;e.periodoCerrado=null!==a&&parseInt(a)>=e.vmPeriodo}}).catch(function(){(0,ke["default"])(e.$t("mensajes.e0006"),"error")})},getSalones:function(){var e=this;he.$http.get("api/HyoSalones/getPeriodoSalon").then(function(o){var a=o.cboSalones;e.salonesOrigin=a})},getACCondicion:function(){var e=this;(0,he.$http)("api/HyoAcompanamientoalumno/obtAccondicion").then(function(o){var a=o.json;e.options=(0,Oe["default"])(a,"ID_TIPO"),console.log(e.options)}).catch(function(e){})},showModal:function(e,o){this.modalCondicion=!0,this.currentAno=o,this.stateObservation=!1,this.seguimientoAnoAnt=!1,this.fillPopup(e,o)},fillPopup:function(e,o){var a=this;Promise.all([he.$http.get("api/HyoNotas/obtPromedioNotasAcompanamiento",{params:{nemo:this.vmSalon,alucod:e,bimecod:this.vmPeriodo}}),he.$http.get("api/HyoAcompanamientoalumno/objAlumnoCondicionAcompanamiento",{params:{ANO:o,ALUCOD:e,BIMECOD:this.vmPeriodo}})]).then(function(e){var o=be()(e,2),n=o[0],t=o[1];if(a.vmCondicion={1:null,2:null},a.alumno=n.json,a.puedeDarSeguimiento="M"!==a.alumno[0].ESTADO,a.puedeDarSeguimiento){if(a.categoriaAlumno(a.alumno),t.json.length>0){var l=t.json[0];a.seguimientoAnoAnt=2===l["ESTADO_SF"],a.stateObservation=1===l["ESTADO"],a.origenCondicion["1"]=l["ID_CONDICION_ESTUDIOS"],a.origenCondicion["2"]=l["ID_CONDICION_CONDUCTA"],a.vmCondicion=JSON.parse(JSON.stringify(a.origenCondicion))}a.modalCondicion=!0}}).catch(function(e){})},closePopup:function(){this.modalCondicion=!1},validarTypeCourse:function(e){if("I"===e)return"indentado"},validarNota:function(e){if("C"===e||e<11)return"colorNota"},saveAcompanamientoAlumno:function(){if(!this.puedeDarSeguimiento)return this.closePopup(),!1;if(this.periodoCerrado)(0,ye.alertModal)(this.$t("aviso"),this.$t("mensajes.m0062"));else if(!this.stateObservation||this.vmCondicion["1"]||this.vmCondicion["2"]){this.stateObservation=!0===this.stateObservation?1:0;var e={ano:this.currentAno,alucod:this.alumno[0]["ALUCOD"],bimecod:this.vmPeriodo,estado:this.stateObservation,idEstudios:this.vmCondicion["1"],idConducta:this.vmCondicion["2"]};this.setStateAlumn(e),this.closePopup()}else(0,ye.alertModal)(this.$t("aviso"),"Debe seleccionar un tipo de seguimiento")},setStateAlumn:function(e){var o=this;he.$http.post("api/HyoAcompanamientoalumno/insertEstadoAlumnoAcompanamiento",e).then(function(e){o.getAlumnosSalon(),(0,ke["default"])(o.$t("mensajes.m0064"),"success")}).catch(function(e){(0,ke["default"])(o.$t("mensajes.e0006"),"error")})},categoriaAlumno:function(e){var o=this.dataTable[0]["INSTRUCOD"],a=e[0]["NUMBIME"];this.mostrarReglasInicial=!1,this.mostrarReglasPrimaria=!1,this.mostrarReglasSecundaria=!1,"I"===o?(this.mostrarReglasInicial=!0,this.reglasInicial(e,a),this.reglasConducta(e,a)):"P"===o||"L"===e[0].TIPCAL2?(this.mostrarReglasPrimaria=!0,this.reglasPrimaria(e,a),this.reglasConducta(e,a)):"S"===o&&(this.mostrarReglasSecundaria=!0,this.reglasSecundaria(e,a),this.reglasConducta(e,a))},reglasInicial:function(e,o){var a=this;this.Iregla1=!1;var n=0,t=0;e.forEach(function(e){for(var l=0;Object.values(e).length>l;l++)void 0!==e["CURSOCOD"]&&(t=t===o?0:t,t++,"C"===e["nota".concat(t)]?(n++,n>=2&&(a.Iregla1=!0)):n=0)})},reglasPrimaria:function(e,o){var a=this;this.Pregla1=!1;var n=0;e.forEach(function(e){"B"!==e["nota1"]&&"C"!==e["nota1"]||(n++,n>=4&&(a.Pregla1=!0))}),this.Pregla2=!1;var t=0,l=0;e.forEach(function(e){for(var n=0;Object.values(e).length>n;n++)void 0!==e["CURSOCOD"]&&"O"===e["CURSONAT"]&&(l=l===o?0:l,l++,"C"===e["nota".concat(l)]||"B"===e["nota".concat(l)]?(t++,t>=2&&(a.Pregla2=!0)):t=0)}),this.Pregla3=!1;var r=0;e.forEach(function(e){"O"===e["CURSONAT"]&&"C"===e["nota1"]&&(r++,r>=2&&(a.Pregla3=!0))});var i=0;e.forEach(function(e){"O"===e["CURSONAT"]&&"C"===e["nota2"]&&(i++,i>=2&&(a.Pregla3=!0))});var s=0;e.forEach(function(e){"O"===e["CURSONAT"]&&"C"===e["nota3"]&&(s++,s>=2&&(a.Pregla3=!0))});var u=0;e.forEach(function(e){"O"===e["CURSONAT"]&&"C"===e["nota4"]&&(u++,u>=2&&(a.Pregla3=!0))}),this.Pregla4=!1;var d=0,c=0;e.forEach(function(e){for(var n=0;n<o;n++)d=d===o?0:d,d++,"B"===e["nota".concat(d)]&&"O"===e["CURSONAT"]&&(c++,c>=2&&(a.Pregla4=!0))}),c=0,e.forEach(function(e){for(var n=0;n<o;n++)d=d===o?0:d,d++,"C"===e["nota".concat(d)]&&"O"!==e["CURSONAT"]&&(c++,c>=2&&(a.Pregla4=!0))}),this.Pregla5=!1;var m=0,p=0,f=0;e.forEach(function(){f++;for(var n=0;e.length>n;n++){if(f>o)break;"B"===e[n]["nota".concat(f)]&&"O"===e[n]["CURSONAT"]&&m++,"C"===e[n]["nota".concat(f)]&&"O"!==e[n]["CURSONAT"]&&p++,m>=4&&p>=1&&(a.Pregla5=!0)}m=0,p=0}),this.Pregla6=!1;var v=0,g=0;e.forEach(function(e){for(var n=0;n<o;n++)g=g===o?0:g,g++,"O"===e["CURSONAT"]&&("B"===e["nota".concat(g)]||"C"===e["nota".concat(g)]?(v++,v>=2&&(a.Pregla6=!0)):v=0)}),this.Pregla7=!1;var b=0,h=0;e.forEach(function(e){for(var n=0;n<o;n++)h=h===o?0:h,h++,void 0!==e["CURSOCOD"]&&("B"!==e["nota".concat(h)]&&"C"!==e["nota".concat(h)]||(b++,b>=3&&(a.Pregla7=!0)))})},reglasSecundaria:function(e,o){var a=this;this.Sregla1=!1;var n=0;e.forEach(function(e){e["nota1"]<e["NJALADO"]&&""!==e["nota1"]&&(n++,n>=4&&(a.Sregla1=!0))}),this.Sregla2=!1;var t=0,l=1;e.forEach(function(){l++;for(var n=0;n<e.length;n++){if(l>o)break;void 0!==e[n]["CURSOCOD"]&&e[n]["nota".concat(l)]<e[n]["NJALADO"]&&""!==e[n]["nota".concat(l)]&&(t++,t>=3&&(a.Sregla2=!0))}})},reglasConducta:function(e,o){var a=this;this.Conducta1=!1;var n=0,t=0;e.forEach(function(){t=t===o?0:t,t++;for(var l=0;Object.values(e).length>l;l++){var r=Object.values(e).length-2;l>=r&&("C"===e[l]["nota".concat(t)]?(n++,n>=2&&(a.Conducta1=!0)):n=0)}n=0}),this.Conducta2=!1;var l=0,r=0;e.forEach(function(e){for(var n=0;n<o;n++)void 0===e["CURSOCOD"]&&(r=r===o?0:r,r++,"C"===e["nota".concat(r)]&&(l++,l>=2&&(a.Conducta2=!0)));l=0})},modalReporte:function(){this.modal_reporte=!0,this.dataReportes.periodo=this.getPeriodoOptions(4)},exportarReporte:function(e){var o={formato:e,ano:(0,Pe["default"])().ano,repcod:"listadoAcompanamientoAlumnos",bimecod:this.vmReportes.periodo,instrucod:this.vmReportes.nivel.INSTRUCOD,gradocod:this.vmReportes.grado.GRADOCOD,seccioncod:this.vmReportes.seccion.SECCIONCOD};this.modal_reporte=!1,(0,Ue.exportFilePhp)(o,"intranet/reporte-node/reporte","Reporte ")},cambiarNivel:function(e){this.dataReportes.grados=this.gradosAgrupados[e.INSTRUCOD].map(function(e){return{label:e.GRADODES,value:e}}),this.vmReportes.grado=this.dataReportes.grados[0].value,this.vmReportes.seccion=this.dataReportes.secciones[0].value,this.disabledGrado=!1,"T"===e.INSTRUCOD&&(this.disabledSeccion=!0,this.disabledGrado=!0)},cambiarGrado:function(e){var o=this;he.$http.get("api/HyoSalones/obtSecciones",{params:{gradocod:e.GRADOCOD,instrucod:e.INSTRUCOD}}).then(function(a){var n=a.json;n.unshift({SECCIONDES:"Todos",SECCIONCOD:"T"}),o.dataReportes.secciones=n.map(function(e){return{label:e.SECCIONDES,value:e}}),o.vmReportes.seccion=o.dataReportes.secciones[0].value,o.disabledSeccion=!1,"T"===e.GRADOCOD&&(o.disabledSeccion=!0)})},init:function(){var e=this;he.$http.get("api/HyoInstrus/obtInstru").then(function(o){var a=o.json;a.unshift({INSTRUDES:"Todos",INSTRUCOD:"T"}),e.dataReportes.niveles=a.map(function(e){return{label:e.INSTRUDES,value:e}}),e.vmReportes.nivel=e.dataReportes.niveles[0].value,e.dataReportes.grado=e.dataReportes.grados[0].value}),he.$http.get("api/HyoGradoNivs/obtGrados",{params:{agrupado:"s",todos:"s"}}).then(function(o){var a=o.json;e.gradosAgrupados=a})}},created:function(){this.init()},mounted:function(){this.getSalones(),this.getACCondicion()}},De=a(12807);const _e=(0,De.A)(Ne,[["render",ve]]);var Ie=_e}}]);