"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[57946],{57946:function(e,t,o){o.r(t),o.d(t,{default:function(){return ee}});o(71225),o(50310),o(5962),o(83190);var a=o(61758),l=o(58790),n={class:"row items-center no-wrap"},s={class:"col"},i={class:"text-h6"},r={class:"col-auto"},d={class:"row"},O={class:"col-xs-12 col-md-4"},T={class:"col-xs-6 col-md-2"},u={class:"row q-pa-sm q-col-gutter-sm"},c={class:"col-xs-12"},m={class:"col-xs-12"},A={class:"col-xs-12"},f={key:0,class:"col-xs-12"},_={key:1,class:"col-xs-12"},p={key:2,class:"col-xs-12"},D={key:3,class:"col-xs-12"},C={key:4,class:"col-xs-12"},E={class:"col-xs-12"};function h(e,t){var o=(0,a.g2)("q-btn"),h=(0,a.g2)("q-card-section"),I=(0,a.g2)("q-separator"),N=(0,a.g2)("q-search"),S=(0,a.g2)("q-select"),V=(0,a.g2)("sie-grid"),b=(0,a.g2)("footer-grid"),g=(0,a.g2)("q-input"),v=(0,a.g2)("q-datetime"),R=(0,a.g2)("sie-modal"),L=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.Wv)(L,{class:"layout-v1 my-card",flat:"",bordered:""},{default:(0,a.k6)(function(){return[(0,a.bF)(h,null,{default:(0,a.k6)(function(){return[(0,a.Lk)("div",n,[(0,a.Lk)("div",s,[(0,a.Lk)("div",i,(0,l.v_)(e.title),1)]),(0,a.Lk)("div",r,[(0,a.bF)(o,{class:"q-mr-sm",icon:"add",color:"primary",label:"Nuevo",size:"sm",onClick:e.addRow},null,8,["onClick"])])])]}),_:1}),(0,a.bF)(I),(0,a.bF)(h,null,{default:(0,a.k6)(function(){return[(0,a.Lk)("div",d,[(0,a.Lk)("div",O,[(0,a.bF)(N,{class:"q-if-outlined",filled:"",modelValue:e.CONSTANTE,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.CONSTANTE=t}),clearable:"",debounce:600,placeholder:"Buscar Constante",onInput:e.filter},null,8,["modelValue","onInput"])]),(0,a.Lk)("div",T,[(0,a.bF)(S,{class:"q-if-outlined",filled:"",modelValue:e.ID_TIPO_DATO,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.ID_TIPO_DATO=t}),"option-label":"TIPO_DATO","option-value":"ID_TIPO_DATO",options:e.t_datos,label:"Tipo de Dato",onInput:e.filter},null,8,["modelValue","options","onInput"])])])]}),_:1}),(0,a.bF)(h,null,{default:(0,a.k6)(function(){return[(0,a.bF)(V,{class:"fix-tab-height ag-theme-balham",columnDefs:e.columnDefs,rowData:e.rowData,onGridReady:e.onGridReady,rowSelection:"single",onCellValueChanged:e.cellValueChanged,rowClassRules:e.rowClassRules,frameworkComponents:e.frameworkComponents},null,8,["columnDefs","rowData","onGridReady","onCellValueChanged","rowClassRules","frameworkComponents"]),(0,a.bF)(b,{modelValue:e.pagina,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.pagina=t}),max:e.pages,onLoad:e.filter,rows:e.rowData},null,8,["modelValue","max","onLoad","rows"])]}),_:1}),(0,a.bF)(R,{title:e.titleModal,modelValue:e.openModal,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.openModal=t}),onSubmit:e.save},{default:(0,a.k6)(function(){return[t[15]||(t[15]=(0,a.Lk)("div",{class:"row q-pa-sm q-col-gutter-sm"},[(0,a.Lk)("div",{class:"col-xs-12"},[(0,a.Lk)("div",{class:"text-h6"},"Agregar Constante")])],-1)),(0,a.bF)(I),(0,a.Lk)("div",u,[(0,a.Lk)("div",c,[t[13]||(t[13]=(0,a.Lk)("div",{class:"text-h3"},null,-1)),(0,a.bF)(g,{modelValue:e.form.ID_CONSTANTE,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.form.ID_CONSTANTE=t}),placeholder:"ID CONSTANTE",type:"number",readonly:""},null,8,["modelValue"])]),(0,a.Lk)("div",m,[t[14]||(t[14]=(0,a.Lk)("div",{class:"text-h6"},null,-1)),(0,a.bF)(g,{modelValue:e.form.CONSTANTE,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.form.CONSTANTE=t}),placeholder:"CONSTANTE"},null,8,["modelValue"])]),(0,a.Lk)("div",A,[(0,a.bF)(S,{class:"q-if-outlined",filled:"",modelValue:e.form.ID_TIPO_DATO,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.form.ID_TIPO_DATO=t}),"option-label":"TIPO_DATO","option-value":"ID_TIPO_DATO",options:e.tipo_datos,label:"TIPO DATO",onInput:e.tipoObjeto},null,8,["modelValue","options","onInput"])]),1===e.selectTipo?((0,a.uX)(),(0,a.CE)("div",f,[(0,a.bF)(S,{class:"q-if-outlined",filled:"",modelValue:e.form.VALOR_BOOLEANO,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.form.VALOR_BOOLEANO=t}),"option-label":"DES","option-value":"VAL",options:e.booleano,label:"Valor Booleano"},null,8,["modelValue","options"])])):(0,a.Q3)("v-if",!0),2===e.selectTipo?((0,a.uX)(),(0,a.CE)("div",_,[(0,a.bF)(g,{modelValue:e.form.VALOR_NUMERICO,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.form.VALOR_NUMERICO=t}),placeholder:"Valor Numérico",type:"number"},null,8,["modelValue"])])):(0,a.Q3)("v-if",!0),3===e.selectTipo?((0,a.uX)(),(0,a.CE)("div",p,[(0,a.bF)(g,{modelValue:e.form.VALOR_TEXTO,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.form.VALOR_TEXTO=t}),placeholder:"Valor Texto"},null,8,["modelValue"])])):(0,a.Q3)("v-if",!0),4===e.selectTipo?((0,a.uX)(),(0,a.CE)("div",D,[(0,a.bF)(v,{modelValue:e.form.VALOR_FECHA,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.form.VALOR_FECHA=t}),type:"date",placeholder:"Valor Fecha"},null,8,["modelValue"])])):(0,a.Q3)("v-if",!0),5===e.selectTipo?((0,a.uX)(),(0,a.CE)("div",C,[(0,a.bF)(g,{modelValue:e.form.ID_TIPO_OBJETO,"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.form.ID_TIPO_OBJETO=t}),placeholder:"Tipo de Objeto",type:"number"},null,8,["modelValue"])])):(0,a.Q3)("v-if",!0),(0,a.Lk)("div",E,[(0,a.bF)(S,{class:"q-if-outlined",filled:"",modelValue:e.form.ID_CONSTANTE_REF,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.form.ID_CONSTANTE_REF=t}),"option-label":"CONSTANTE","option-value":"ID_CONSTANTE",options:e.const_ref,label:"CONSTANTE REF."},null,8,["modelValue","options"])])])]}),_:1},8,["title","modelValue","onSubmit"])]}),_:1})}var I=o(99550),N=o.n(I),S=o(76080),V=o.n(S),b=o(45254),g=o.n(b),v=(o(23825),o(48426),o(27153),o(66307),o(24066),o(80660)),R=o(6123),L=o(36408),w=o(57668),P=o(93616),k=o(75053),F=o(64446),$=o(70674),B=o(55117),U=o(26697),x=o(53093),M=o(43346),q=o(53811),Q=o(88567),y=o(95718),X=o(53380),J=o(9736),G=o(16648),H=o(78840),j=o(75177),z=(o(982),o(18105),o(96330)),K=o(27560),W={components:{sieGrid:L.A,QCard:Q.A,QCardSection:y.A,QSeparator:X.A,QInput:J.A,QTabs:U.A,QTab:x.A,QDatetime:R.T5,QTabPanels:q.A,QTabPanel:M.A,QPagination:R.ao,sieSelect:P.A,sieModal:k.A,QSearch:R.Ks,QSelect:G.A,headerGrid:z.A,footerGrid:K.A,QBtn:R.Il},mixins:[j.A],data:function(){return{form:{ID_CONSTANTE:"",CONSTANTE:"",ESTADO:"",ID_TIPO_DATO:"",ID_TIPO_OBJETO:"",ID_CONSTANTE_REF:"",VALOR_BOOLEANO:"",VALOR_NUMERICO:"",VALOR_TEXTO:"",VALOR_FECHA:""},nivelAcceso:(0,w["default"])().ruta.nivel,CONSTANTE:"",ID_TIPO_DATO:"Todos",ultimo_id_constante:"",columnDefs:[],rowData:[],openModal:!1,schema:[],rowDataCV:[],tipo_datos:[],t_datos:[],const_ref:[],api:null,autoGroupColumnDef:null,frameworkComponents:null,pagina:1,pages:1,title:"Constantes",titleModal:"",estado:[{ESTADO:0,ESTADO_DES:"INACTIVO"},{ESTADO:1,ESTADO_DES:"ACTIVO"}],booleano:[{VAL:0,DES:"False"},{VAL:1,DES:"True"}],flag:"edit",selectTipo:"0"}},methods:{filter:function(){var e={CONSTANTE:this.CONSTANTE,TIPO_DATO:this.ID_TIPO_DATO};this.getConstanteSistema(e)},tipoObjeto:function(){this.selectTipo=this.form.ID_TIPO_DATO},clear:function(){this.selectTipo="0",this.form.ID_CONSTANTE=this.ultimo_id_constante+1,this.form.CONSTANTE="",this.form.ESTADO=0,this.form.ID_TIPO_DATO="",this.form.ID_CONSTANTE_REF="",this.form.VALOR_BOOLEANO=0,this.form.VALOR_NUMERICO=0,this.form.VALOR_TEXTO="",this.form.VALOR_FECHA="",this.form.ID_TIPO_OBJETO=""},save:function(){var e=this;""===this.form.CONSTANTE?this.$alert("Debe de establecer el nombre de la constante","warning"):""===this.form.ID_TIPO_DATO?this.$alert("Debe de elegir el tipo de dato","warning"):""===this.form.ESTADO?this.$alert("Debe de establecer el estado de la constante","warning"):1===this.form.ID_TIPO_DATO&&""===this.form.VALOR_BOOLEANO?this.$alert("Debe de establecer el valor BOOLEANO de la constante","warning"):2===this.form.ID_TIPO_DATO&&""===this.form.VALOR_NUMERICO?this.$alert("Debe de establecer el valor NUMÉRICO de la constante","warning"):3===this.form.ID_TIPO_DATO&&""===this.form.VALOR_TEXTO?this.$alert("Debe de establecer el valor TEXTO de la constante","warning"):4===this.form.ID_TIPO_DATO&&""===this.form.VALOR_FECHA?this.$alert("Debe de establecer el valor FECHA de la constante","warning"):5===this.form.ID_TIPO_DATO&&""===this.form.ID_TIPO_OBJETO?this.$alert("Debe de establecer el tipo de OBJETO de la constante","warning"):this.$confirm("¿Estás seguro de agregar este registro?","save").onOk(g()(V()().m(function t(){return V()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,v.$http.post("api/ConstanteSistemaController/postConstanteSistema",{datos:{ID_CONSTANTE:e.form.ID_CONSTANTE,CONSTANTE:e.form.CONSTANTE,ESTADO:e.form.ESTADO,ID_TIPO_DATO:e.form.ID_TIPO_DATO,ID_CONSTANTE_REF:e.form.ID_CONSTANTE_REF,VALOR_BOOLEANO:e.form.VALOR_BOOLEANO,VALOR_NUMERICO:e.form.VALOR_NUMERICO,VALOR_TEXTO:e.form.VALOR_TEXTO,VALOR_FECHA:e.form.VALOR_FECHA,ID_TIPO_OBJETO:e.form.ID_TIPO_OBJETO}});case 1:t.v,e.clear(),e.openModal=!1,e.getConstanteSistema(),e.$alert("Constante agregada satisfactoriamente","success");case 2:return t.a(2)}},t)})))},onGridReady:function(e){this.api=e.api},getConstanteSistema:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=((0,w["default"])(),{pagina:this.pagina});Object.assign(o,t),v.$http.get("api/ConstanteSistemaController/getConstanteSistemaV",{params:{parametros:o}}).then(function(t){e.addModified(t),e.rowData=t,e.ultimo_id_constante=e.rowData[e.rowData.length-1].ID_CONSTANTE})},getConstanteValor:function(){var e=this;v.$http.get("api/ConstanteSistemaController/getConstanteValor").then(function(t){e.addModified(t),e.rowDataCV=t})},addRow:function(){this.clear(),this.openModal=!0,this.titleModal="Agregar"}},beforeMount:function(){var e=this,t=v.$http.get("api/ConstanteSistemaController/getConstanteSistema",{params:{parametros:{response:"combo"}}}),o=v.$http.get("api/ConstanteSistemaController/getConstanteTipoDato",{params:{parametros:{response:"combo"}}}),a=v.$http.get("api/ConstanteSistemaController/getConstanteTipoDato",{params:{parametros:{response:"combo"}}}),l=v.$http.get("api/ConstanteSistemaController/getConstanteValor",{params:{parametros:{response:"combo"}}}),n=this.estado;this.frameworkComponents={agUbigeo:B.A,agSelect:F.A,actionButton:H.A},Promise.all([t,o,a,l,n]).then(function(t){var o=N()(t,5),a=o[0],l=o[1],n=o[2],s=(o[3],o[4]);e.columnDefs=[{headerName:"Código",field:"ID_CONSTANTE",editable:!1,width:80},{headerName:"Constante",field:"CONSTANTE",editable:!0,width:200},{headerName:"Estado",field:"ESTADO",editable:!0,cellEditor:(0,$.A)(e,"ESTADO"),cellEditorParams:{"option-label":"ESTADO_DES","option-value":"ESTADO",options:s},width:80},{headerName:"Tipo de Dato",field:"TIPO_DATO",editable:!1,cellEditor:(0,$.A)(e,"TIPO_DATO"),cellEditorParams:{"option-label":"TIPO_DATO","option-value":"ID_TIPO_DATO",options:l},width:120},{headerName:"Valor Constante",field:"VALOR",editable:!1,width:140},{headerName:"Constante Ref.",field:"ID_CONSTANTE_REF",editable:!1,cellEditor:(0,$.A)(e,"ID_CONSTANTE_REF"),cellEditorParams:{"option-label":"CONSTANTE","option-value":"ID_CONSTANTE",options:a},width:160},{headerName:"",cellRenderer:H.A,cellRendererParams:{icon:"edit",title:"Actualizar",onClick:function(e){var t=this,o=[e.data];this.$confirm("¿Estás seguro de actualizar este registro?","info").onOk(g()(V()().m(function e(){return V()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,v.$http.put("api/ConstanteSistemaController/putConstanteSistema",{datos:{ID_CONSTANTE:o[0].ID_CONSTANTE,CONSTANTE:o[0].CONSTANTE,ESTADO:o[0].ESTADO,ID_TIPO_DATO:o[0].ID_TIPO_DATO,ID_TIPO_OBJETO:o[0].ID_TIPO_OBJETO,ID_CONSTANTE_REF:o[0].ID_CONSTANTE_REF}});case 1:e.v,t.$alert("Constante actualizada satisfactoriamente","success");case 2:return e.a(2)}},e)})))}},width:40},{headerName:"",cellRenderer:H.A,cellRendererParams:{icon:"delete",title:"Eliminar",onClick:function(e){var t=this,o=[e.data];this.$confirm("¿Estás seguro de eliminar este registro?","delete").onOk(g()(V()().m(function a(){return V()().w(function(a){while(1)switch(a.n){case 0:return a.n=1,v.$http.delete("api/ConstanteSistemaController/deleteConstanteSistema",{params:{datos:{ID_CONSTANTE:o[0].ID_CONSTANTE}}});case 1:a.v,t.$alert("Constante eliminada satisfactoriamente","success"),e.api.updateRowData({remove:o});case 2:return a.a(2)}},a)})))}},width:40},{headerName:"Modificado",field:"modified",hide:!0}];var i=n;i.unshift({TIPO_DATO:"Todos",ID_TIPO_DATO:"0"}),e.t_datos=i,e.tipo_datos=l,e.const_ref=a}),this.getConstanteSistema()}},Y=o(12807);const Z=(0,Y.A)(W,[["render",h]]);var ee=Z}}]);