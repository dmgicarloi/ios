"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[48115],{48115:function(e,t,o){o.r(t),o.d(t,{default:function(){return Le}});var n=o(8445),a=o.n(n),i=(o(56285),o(68017),o(61758)),l=o(58790),s={class:"row"},r={key:0,class:"column col items-center justify-center"},u={key:0,class:"column col items-center justify-center"},c={class:"row"},d={class:"text-bold"},f={key:0,class:"row"},m={key:0,class:"column",style:{"font-size":"10px"}},p={class:"row"},h={key:0,class:"text-bold"},b={key:1},C=["onClick"],v={class:"row"},E={key:0,class:"row"},A={class:"text-bold"},T={class:"row"},k={key:0,class:"text-bold"},g={class:"col row items-center leyenda-alto"},O={class:"col row justify-center"},D={class:"q-mx-sm"},S={key:0,class:"row q-ma-xs"},y={class:"text-bold"},I={key:1,class:"q-pa-sm"},F={key:0},L={key:0},w={key:1},M={key:1,class:"row"},_={key:2,class:"q-pa-sm"},J={class:"row"},x={class:"text-bold"},U={key:3,class:"row"},R={key:0,class:"col colum"},X={key:1,class:"col colum"},j={class:"row q-px-sm q-pt-sm"},q={class:"col"},H={class:"row q-px-sm"},$={class:"col"},V={class:"row"},Q={class:"row"},P={key:1,class:"column col items-center justify-center"};function Y(e,t){var o=(0,i.g2)("sie-estudiantes"),n=(0,i.g2)("sie-select"),Y=(0,i.g2)("sie-date"),W=(0,i.g2)("sie-vacio"),z=(0,i.g2)("q-tab"),N=(0,i.g2)("q-list-header"),K=(0,i.g2)("q-chip"),B=(0,i.g2)("q-item-side"),G=(0,i.g2)("q-btn"),Z=(0,i.g2)("q-item-main"),ee=(0,i.g2)("q-icon"),te=(0,i.g2)("q-item-tile"),oe=(0,i.g2)("q-tooltip"),ne=(0,i.g2)("q-item"),ae=(0,i.g2)("q-list"),ie=(0,i.g2)("q-spinner-oval"),le=(0,i.g2)("q-inner-loading"),se=(0,i.g2)("q-tab-pane"),re=(0,i.g2)("q-tabs"),ue=(0,i.g2)("q-th"),ce=(0,i.g2)("q-tr"),de=(0,i.g2)("q-td"),fe=(0,i.g2)("q-table"),me=(0,i.g2)("sie-modal"),pe=(0,i.g2)("q-field"),he=(0,i.g2)("q-checkbox"),be=(0,i.g2)("q-input"),Ce=(0,i.g2)("sie-upload"),ve=(0,i.g2)("q-page"),Ee=(0,i.gN)("download");return(0,i.uX)(),(0,i.Wv)(ve,{class:"page-asistencia"},{default:(0,i.k6)(function(){return[(0,i.Lk)("div",s,["005"!==e.sieInfo.tipcod?((0,i.uX)(),(0,i.CE)("div",{key:0,class:(0,l.C4)(e.ver?"col-xs-12 col-md-8":"col")},[(0,i.bF)(o,{modelValue:e.alucod,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.alucod=t}),onSelected:e.selectAlumno},null,8,["modelValue","onSelected"])],2)):(0,i.Q3)("v-if",!0),e.ver?((0,i.uX)(),(0,i.CE)("div",{key:1,class:(0,l.C4)(["q-pt-sm-c q-pr-sm q-pl-xs-sm q-bb-sm","005"!==e.sieInfo.tipcod?"A"===e.option?"q-pl-md-none col-xs-12 col-md-4":"q-pl-md-none col-xs-5 col-md-2":"q-pl-md-sm col"])},[(0,i.bF)(n,{noBottom:"",type:"outlined",modelValue:e.option,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.option=t}),options:e.options,label:"label",val:"value",placeholder:"Por",disable:!e.alucod&&"005"!==e.sieInfo.tipcod,onInput:e.initFecha},null,8,["modelValue","options","disable","onInput"])],2)):(0,i.Q3)("v-if",!0),!e.ver||"C"!==e.option&&"T"!==e.option?(0,i.Q3)("v-if",!0):((0,i.uX)(),(0,i.CE)("div",{key:2,class:(0,l.C4)(["q-pt-sm-c q-pr-sm q-bb-sm","005"!==e.sieInfo.tipcod?"col-xs-7 col-md-2":"col"])},[(0,i.bF)(Y,{modelValue:e.fechaA,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.fechaA=t}),options:e.diasDispo,placeholder:"fecha"},null,8,["modelValue","options"])],2))]),e.alucod?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[e.vacio&&e.nocursos?((0,i.uX)(),(0,i.CE)("div",r,[(0,i.bF)(W,{subtitle:"mensajes.e0096",icon:"person"})])):((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[(0,i.bF)(re,{class:"q-tabs-horizontal q-tabs-horizontal-reverse col",modelValue:e.selectTipo,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.selectTipo=t}),animated:"",swipeable:""},{title:(0,i.k6)(function(){return[e.tabCursoPrimero?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[e.showCurso?((0,i.uX)(),(0,i.Wv)(z,{key:0,name:"C",label:"Curso"})):(0,i.Q3)("v-if",!0),(0,i.bF)(z,{name:"S",label:"Salón"})],64)):((0,i.uX)(),(0,i.CE)(i.FK,{key:1},[(0,i.bF)(z,{name:"S",label:"Salón"}),e.showCurso?((0,i.uX)(),(0,i.Wv)(z,{key:0,name:"C",label:"Curso"})):(0,i.Q3)("v-if",!0)],64))]}),default:(0,i.k6)(function(){return[(0,i.bF)(se,{name:"S"},{default:(0,i.k6)(function(){return[e.vacio?((0,i.uX)(),(0,i.CE)("div",u,[(0,i.bF)(W,{subtitle:"mensajes.e0096",icon:"person"})])):((0,i.uX)(),(0,i.Wv)(re,{key:1,class:"q-tabs-horizontal q-tabs-horizontal-reverse col",modelValue:e.selectedTab,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.selectedTab=t}),inverted:"",animated:"",swipeable:""},{title:(0,i.k6)(function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.periodos,function(t,o){return(0,i.uX)(),(0,i.Wv)(z,{key:o,class:"tab",label:e.getPeriodo(t.PERIODO),name:o,icon:t.BIMECOD<=t.PERICIE?"lock":""},null,8,["label","name","icon"])}),128))]}),default:(0,i.k6)(function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.listAsistencia,function(o,n){return(0,i.uX)(),(0,i.Wv)(se,{key:n,class:"no-border tab-pane",name:n},{default:(0,i.k6)(function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o,function(o,n){return(0,i.uX)(),(0,i.Wv)(ae,{key:n,class:"no-border list",highlight:"","inset-separator":""},{default:(0,i.k6)(function(){return[(0,i.bF)(N,{class:"uppercase list-header"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,l.v_)(n),1)]}),_:2},1024),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o,function(o,n){return(0,i.uX)(),(0,i.Wv)(ne,{key:n,class:"item"},{default:(0,i.k6)(function(){return[(0,i.bF)(B,null,{default:(0,i.k6)(function(){return[(0,i.bF)(K,{class:"text-center",color:e.getColor(o.DESCR)},{default:(0,i.k6)(function(){return[(0,i.eW)((0,l.v_)(e.getLabel(o.DESCR)),1)]}),_:2},1032,["color"])]}),_:2},1024),(0,i.bF)(Z,{label:o.DESCR,"label-lines":"1"},{default:(0,i.k6)(function(){return[o.TEXTO?((0,i.uX)(),(0,i.Wv)(G,{key:0,label:"Ver comentario",color:"secondary",size:"sm",onClick:function(t){return e.mostrarComentario(o)}},null,8,["onClick"])):(0,i.Q3)("v-if",!0)]}),_:2},1032,["label"]),o.ESTJUS&&o.JUSTIFICA&&"S"===o.JUSTIFICA.trim()?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[e.isLess&&e.sieInfo.ruta.nivel>=2?((0,i.uX)(),(0,i.Wv)(B,{key:0,class:"text-center",rigth:""},{default:(0,i.k6)(function(){return[("0065"===e.sieInfo.colcod?["T"].indexOf(o.ESTADOETI)<0:[].indexOf(o.ESTADOETI)<0)?((0,i.uX)(),(0,i.Wv)(ee,{key:0,size:"20px",name:o.ICONO,color:o.COLOR,class:(0,l.C4)("green"===o.COLOR?"":"cursor-pointer"),onClick:function(t){return e.validaAsistencia(o)}},null,8,["name","color","class","onClick"])):(0,i.Q3)("v-if",!0)]}),_:2},1024)):(0,i.Q3)("v-if",!0),!e.isLess&&e.sieInfo.ruta.nivel>=2?((0,i.uX)(),(0,i.Wv)(B,{key:1,class:"text-center",rigth:""},{default:(0,i.k6)(function(){return[("0065"===e.sieInfo.colcod?["T"].indexOf(o.ESTADOETI)<0:[].indexOf(o.ESTADOETI)<0)?((0,i.uX)(),(0,i.Wv)(G,{key:0,disable:parseInt(o.BIMECOD)<=o.PERICIE&&"F"===o.ESTJUS,color:o.COLOR,label:e.$t(o.TOOLTIP),size:"sm",onClick:function(t){return e.validaAsistencia(o)}},null,8,["disable","color","label","onClick"])):(0,i.Q3)("v-if",!0)]}),_:2},1024)):(0,i.Q3)("v-if",!0)],64)):(0,i.Q3)("v-if",!0),(0,i.bF)(B,{class:"text-center"},{default:(0,i.k6)(function(){return[(0,i.bF)(te,{class:"num uppercase"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,l.v_)(e.dateNum(o.FECHA)),1)]}),_:2},1024),(0,i.bF)(te,{class:"dia uppercase"},{default:(0,i.k6)(function(){return[(0,i.eW)((0,l.v_)(e.dateDia(o.FECHA)),1)]}),_:2},1024)]}),_:2},1024),e.showInfoRegistro&&o.FH_INGRESO?((0,i.uX)(),(0,i.Wv)(B,{key:1,class:"text-center"},{default:(0,i.k6)(function(){return[(0,i.bF)(te,null,{default:(0,i.k6)(function(){return[(0,i.bF)(ee,{name:"info_outline",style:{"font-size":"18px"}},{default:(0,i.k6)(function(){return[(0,i.bF)(oe,{class:"column"},{default:(0,i.k6)(function(){return[(0,i.Lk)("div",c,[(0,i.Lk)("div",d,"F/H "+(0,l.v_)(e.showI?"ingreso":"marcación")+" ",1),(0,i.Lk)("span",null,(0,l.v_)(e.dateF(o.FECREG,e.showI?"hh:mm A":"DD/MM/YYYY hh:mm A")),1)]),e.showS&&o.FH_SALIDA?((0,i.uX)(),(0,i.CE)("div",f,[t[19]||(t[19]=(0,i.Lk)("div",{class:"text-bold"},"F/H Salida ",-1)),(0,i.Lk)("span",null,(0,l.v_)(e.dateF(o.FH_SALIDA,"hh:mm A")),1)])):(0,i.Q3)("v-if",!0)]}),_:2},1024)]}),_:2},1024)]}),_:2},1024)]}),_:2},1024)):(0,i.Q3)("v-if",!0)]}),_:2},1024)}),128))]}),_:2},1024)}),128)),(0,i.bF)(le,{visible:e.visible},{default:(0,i.k6)(function(){return[(0,i.bF)(ie,{size:"50px",color:"primary"})]}),_:1},8,["visible"])]}),_:2},1032,["name"])}),128))]}),_:1},8,["modelValue"]))]}),_:1}),(0,i.bF)(se,{name:"C"},{default:(0,i.k6)(function(){return[(0,i.bF)(re,{class:"q-tabs-horizontal q-tabs-horizontal-reverse col",modelValue:e.tabSelectCurso,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.tabSelectCurso=t}),inverted:"",animated:"",swipeable:""},{title:(0,i.k6)(function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.asistenciaCurso.cabecera,function(t,o){return(0,i.uX)(),(0,i.Wv)(z,{key:o,class:"tab",label:e.getPeriodo("Periodo "+o),name:o},null,8,["label","name"])}),128))]}),default:(0,i.k6)(function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.asistenciaCurso.cabecera,function(o,a){return(0,i.uX)(),(0,i.Wv)(se,{key:a,class:"no-border tab-pane",name:a},{default:(0,i.k6)(function(){return[(0,i.bF)(fe,{class:"my-sticky-column-table q-card",separator:"cell","max-style":"height: 70vh","row-key":"CURSOCOD",data:e.asistenciaCurso.info[a],columns:e.dataAsistenciaCurso.columns},{header:(0,i.k6)(function(o){return[(0,i.bF)(ce,null,{default:(0,i.k6)(function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.cols,function(a){return(0,i.uX)(),(0,i.Wv)(ue,{key:a.name,props:o,style:(0,l.Tr)({"text-decoration":e.feriados.indexOf(a.name)>=0?"line-through":"none"})},{default:(0,i.k6)(function(){return[a.fecha?((0,i.uX)(),(0,i.CE)("div",m,[(0,i.Lk)("span",null,(0,l.v_)(e.dateDia(a.label)),1),(0,i.Lk)("span",null,(0,l.v_)(e.dateCorta(a.label)),1)])):((0,i.uX)(),(0,i.CE)("div",{key:1,class:"row justify-around items-center",style:(0,l.Tr)(a.style)},[(0,i.Lk)("span",null,(0,l.v_)(a.label),1),e.showTurno?((0,i.uX)(),(0,i.Wv)(n,{key:0,noBottom:"",type:"outlined",modelValue:e.turnoSelect,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.turnoSelect=t}),options:e.dataTurnos,label:"DESCRIPCION",val:"ID",placeholder:"Turno"},null,8,["modelValue","options"])):(0,i.Q3)("v-if",!0)],4))]}),_:2},1032,["props","style"])}),128))]}),_:2},1024)]}),body:(0,i.k6)(function(o){return[(0,i.bF)(ce,{props:o,class:(0,l.C4)({retirado:o.row.RETIRADO})},{default:(0,i.k6)(function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.cols,function(n){return(0,i.uX)(),(0,i.CE)(i.FK,null,[n.fecha?((0,i.uX)(),(0,i.Wv)(de,{key:0},{default:(0,i.k6)(function(){return[o.row[n.name]?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[o.row[n.name]["coment"].length>0?((0,i.uX)(),(0,i.Wv)(ee,{key:0,class:"comentario",name:"comment"},{default:(0,i.k6)(function(){return[(0,i.bF)(oe,null,{default:(0,i.k6)(function(){return[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.row[n.name]["coment"],function(t){return(0,i.uX)(),(0,i.CE)("div",p,[o.row[n.name]["inform"].length>1&&o.row[n.name]["coment"].length>1&&"T"==e.turnoSelect?((0,i.uX)(),(0,i.CE)("span",h,(0,l.v_)(e.objTurnos[t.turno])+":  ",1)):(0,i.Q3)("v-if",!0),"T"==e.turnoSelect||t.turno===e.turnoSelect?((0,i.uX)(),(0,i.CE)("span",b,(0,l.v_)(t.comentario),1)):(0,i.Q3)("v-if",!0)])}),256))]}),_:2},1024)]}),_:2},1024)):(0,i.Q3)("v-if",!0),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.row[n.name]["inform"],function(a){return(0,i.uX)(),(0,i.CE)(i.FK,null,[!o.row[n.name]["inform"]||"T"!=e.turnoSelect&&a.TURNO!==e.turnoSelect?(0,i.Q3)("v-if",!0):((0,i.uX)(),(0,i.CE)("div",{key:0,class:(0,l.C4)(["row justify-center col q-mb-xs",{"cursor-pointer":e.validarJustificable(a)}]),onClick:function(t){return e.validarJustificable(a)?e.justificarCurso(a):null}},[a.JUSEST||0===a.JUSEST?((0,i.uX)(),(0,i.Wv)(ee,{key:0,class:"justificacion",name:"done_all",color:e.justColor[a.JUSEST].color},{default:(0,i.k6)(function(){return[(0,i.bF)(oe,null,{default:(0,i.k6)(function(){return[(0,i.Lk)("div",v,[t[20]||(t[20]=(0,i.Lk)("span",{class:"text-bold"},"Estado: ",-1)),(0,i.Lk)("span",null,(0,l.v_)(e.justColor[a.JUSEST].descripcion),1)]),2===a.JUSTEST?((0,i.uX)(),(0,i.CE)("div",E,[(0,i.Lk)("span",A,(0,l.v_)(e.labelMotivoRechazo)+": ",1),(0,i.Lk)("span",null,(0,l.v_)(a.RECHAZO_DETALLE),1)])):(0,i.Q3)("v-if",!0)]}),_:2},1024)]}),_:2},1032,["color"])):(0,i.Q3)("v-if",!0),(0,i.bF)(G,{class:"leyenda-icono leyenda-alto leyenda-icono-texto",style:(0,l.Tr)({"background-color":e.iconoColor[a.ESTADO]}),onClick:function(t){return e.justificarCurso(a)}},{default:(0,i.k6)(function(){return[(0,i.eW)((0,l.v_)(e.iconoTipo[a.ESTADO]),1),(0,i.bF)(oe,null,{default:(0,i.k6)(function(){return[(0,i.Lk)("div",T,[o.row[n.name]["inform"].length>1&&"T"==e.turnoSelect?((0,i.uX)(),(0,i.CE)("span",k,(0,l.v_)(e.objTurnos[a.TURNO])+":  ",1)):(0,i.Q3)("v-if",!0),(0,i.Lk)("span",null,(0,l.v_)(e.iconoDesc[a.ESTADO]),1)])]}),_:2},1024)]}),_:2},1032,["style","onClick"])],10,C))],64)}),256))],64)):(0,i.Q3)("v-if",!0)]}),_:2},1024)):((0,i.uX)(),(0,i.Wv)(de,{key:1,style:(0,l.Tr)(n.style)},{default:(0,i.k6)(function(){return[(0,i.Lk)("span",null,(0,l.v_)(o.row[n.name]),1)]}),_:2},1032,["style"]))],64)}),256))]}),_:2},1032,["props","class"])]}),bottom:(0,i.k6)(function(){return[(0,i.Lk)("div",g,[(0,i.Lk)("div",O,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.estados,function(e){return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.Lk)("div",{class:"q-ml-sm leyenda-icono leyenda-icono-texto",style:(0,l.Tr)({"background-color":e.COLORHEXF})},(0,l.v_)(e.ESTADOETI),5),(0,i.Lk)("div",D,(0,l.v_)(e.ESTADODES),1)],64)}),256))])])]}),_:1},8,["data","columns"])]}),_:2},1032,["name"])}),128))]}),_:1},8,["modelValue"])]}),_:1}),(0,i.Q3)("v-if",!0)]}),_:1},8,["modelValue"]),(0,i.bF)(me,{class:"model-responsable",loading:e.modalLoad,modelValue:e.modalJustificacion,"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.modalJustificacion=t}),title:e.tituloModal,footer:"A"!==e.estado&&!e.sieInfo.esEstudiante&&!e.bloqJustif,onSubmit:e.grabarJustificacion,ok:e.$t("botones.guardar")},{default:(0,i.k6)(function(){return[e.bloqJustif?((0,i.uX)(),(0,i.CE)("div",S,[(0,i.Lk)("div",y,(0,l.v_)(e.labelMotivoRechazo)+": ",1),(0,i.Lk)("span",null,(0,l.v_)(e.dataModal.DETALLE_RECHAZO),1)])):(0,i.Q3)("v-if",!0),"R"!==e.estado||e.bloqJustif?((0,i.uX)(),(0,i.CE)("div",I,[(0,i.bF)(pe,{"error-label":e.$t("matricula.validaciones.required"),error:e.v$.dataModal.TIPJUSCOD.$error},{default:(0,i.k6)(function(){return[(0,i.bF)(n,{type:"outlined",modelValue:e.v$.dataModal.TIPJUSCOD.$model,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.v$.dataModal.TIPJUSCOD.$model=t}),options:e.justificacion,label:"SECUDES",val:"SECUCOD",placeholder:e.$t("justificacion"),disable:e.sieInfo.esEstudiante||"A"===e.estado||e.bloqJustif},null,8,["modelValue","options","placeholder","disable"])]}),_:1},8,["error-label","error"]),e.justificaMDias&&["A","P"].indexOf(e.estado)<0?((0,i.uX)(),(0,i.CE)("div",F,[(0,i.bF)(fe,{class:"my-sticky-column-table q-card q-my-md q-mx-xs","max-style":"height: 70vh",data:e.infoInjus,columns:e.columns,"hide-bottom":"","row-key":"ID_CONTROL",selection:"multiple",selected:e.listSelect,"onUpdate:selected":t[10]||(t[10]=function(t){return e.listSelect=t})},{body:(0,i.k6)(function(t){return[(0,i.bF)(ce,{props:t},{default:(0,i.k6)(function(){return[(0,i.bF)(de,{"auto-width":""},{default:(0,i.k6)(function(){return[(0,i.bF)(he,{color:"primary",modelValue:t.selected,"onUpdate:modelValue":function(e){return t.selected=e},disable:e.dataModal.FECHA==t.row.FECHA},null,8,["modelValue","onUpdate:modelValue","disable"])]}),_:2},1024),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(t.cols,function(o){return(0,i.uX)(),(0,i.Wv)(de,{key:o.name,props:t},{default:(0,i.k6)(function(){return["FECHA"==o.name?((0,i.uX)(),(0,i.CE)("span",L,(0,l.v_)(e.dateLarga(o.value)),1)):((0,i.uX)(),(0,i.CE)("span",w,(0,l.v_)(o.value),1))]}),_:2},1032,["props"])}),128))]}),_:2},1032,["props"])]}),_:1},8,["data","columns","selected"])])):(0,i.Q3)("v-if",!0),(0,i.bF)(pe,{count:250,error:e.v$.dataModal.DETALLE.$error,"error-label":e.errorLabel(e.v$.dataModal.DETALLE)},null,8,["error","error-label"]),(0,i.bF)(be,{class:"q-if-outlined",type:"textarea",rows:"3",modelValue:e.v$.dataModal.DETALLE.$model,"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.v$.dataModal.DETALLE.$model=t}),modelModifiers:{trim:!0},"float-label":e.$t("intranet.clase.contenidoDetalle")+"*",disable:e.sieInfo.esEstudiante||"A"===e.estado||e.bloqJustif,onKeyup:e.maxLength},null,8,["modelValue","float-label","disable","onKeyup"]),e.dataModal.FECREG?((0,i.uX)(),(0,i.CE)("div",M,[(0,i.bF)(ne,null,{default:(0,i.k6)(function(){return[(0,i.bF)(Z,null,{default:(0,i.k6)(function(){return a()(t[21]||(t[21]=[(0,i.Lk)("b",null,"F. Justificación:",-1)]))}),_:1}),(0,i.bF)(B,null,{default:(0,i.k6)(function(){return[(0,i.bF)(K,null,{default:(0,i.k6)(function(){return[(0,i.eW)((0,l.v_)(""+e.fDate(e.dataModal.FECREG)),1)]}),_:1})]}),_:1})]}),_:1})])):(0,i.Q3)("v-if",!0)])):((0,i.uX)(),(0,i.CE)("div",_,[(0,i.Lk)("div",J,[(0,i.Lk)("div",x,(0,l.v_)(e.labelMotivoRechazo)+": ",1),(0,i.Lk)("span",null,(0,l.v_)(e.dataModal.DETALLE_RECHAZO),1)]),(0,i.bF)(be,{class:"q-if-outlined",type:"textarea",rows:"3",modelValue:e.dataModal.DETALLE,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.dataModal.DETALLE=t}),modelModifiers:{trim:!0},"float-label":e.$t("intranet.clase.contenidoDetalle")+"*",disable:e.sieInfo.esEstudiante,onKeyup:e.maxLength},null,8,["modelValue","float-label","disable","onKeyup"])])),"P"===e.estado||"F"===e.estado?((0,i.uX)(),(0,i.CE)("div",U,[e.dataModal.RUTA?((0,i.uX)(),(0,i.CE)("div",X,[(0,i.bF)(ae,{class:"no-border",highlight:""},{default:(0,i.k6)(function(){return[(0,i.bF)(ne,{class:"q-pr-none"},{default:(0,i.k6)(function(){return[(0,i.bF)(Z,{label:e.dataModal.ARCHIVO},null,8,["label"]),(0,i.bF)(B,null,{default:(0,i.k6)(function(){return[(0,i.bo)(((0,i.uX)(),(0,i.CE)("a",null,[(0,i.bF)(ee,{name:"file_download",color:"primary",size:"1.5rem"})])),[[Ee,{filename:e.dataModal.ARCHIVO,url:e.dataModal.URL}]])]}),_:1}),e.sieInfo.esEstudiante?(0,i.Q3)("v-if",!0):((0,i.uX)(),(0,i.Wv)(B,{key:0,rigth:""},{default:(0,i.k6)(function(){return[(0,i.bF)(ee,{name:"close",color:"red",size:"1.5rem",onClick:e.eliminaDocumento},null,8,["onClick"])]}),_:1}))]}),_:1})]}),_:1})])):((0,i.uX)(),(0,i.CE)("div",R,[e.sieInfo.esEstudiante?(0,i.Q3)("v-if",!0):((0,i.uX)(),(0,i.Wv)(Ce,{key:0,class:"no-wrap imagen",onUpload:e.added,botones:!1,icon:"wallpaper",src:e.imagen,allow:["jpg","png","jpeg","bmp","pdf","doc","docx","ppt","pptx","xls","xlsx","zip","rar"]},null,8,["onUpload","src"]))]))])):(0,i.Q3)("v-if",!0)]}),_:1},8,["loading","modelValue","title","footer","onSubmit","ok"]),(0,i.bF)(me,{class:"model-responsable",loading:e.modalLoad,modelValue:e.modalJustificacionCurso,"onUpdate:modelValue":t[16]||(t[16]=function(t){return e.modalJustificacionCurso=t}),title:e.tituloModal,ok:e.$t("botones.guardar"),footer:(2===e.infoJustificacion.JUSEST||!e.infoJustificacion.JUSEST||0!==e.infoJustificacion.JUSEST)&&!e.sieInfo.esEstudiante,onSubmit:e.saveAsistenciaCJustificacion},{default:(0,i.k6)(function(){return[(0,i.Lk)("div",j,[(0,i.Lk)("div",q,[(0,i.bF)(n,{type:"outlined",modelValue:e.infoJustificacion.TIPJUS,"onUpdate:modelValue":t[14]||(t[14]=function(t){return e.infoJustificacion.TIPJUS=t}),options:e.justificacion,label:"SECUDES",val:"SECUCOD",placeholder:e.$t("justificacion"),disable:e.sieInfo.esEstudiante||(e.infoJustificacion.JUSEST||0===e.infoJustificacion.JUSEST)&&2!==e.infoJustificacion.JUSEST},null,8,["modelValue","options","placeholder","disable"])])]),(0,i.Lk)("div",H,[(0,i.Lk)("div",$,[(0,i.bF)(be,{class:"q-if-outlined",type:"textarea",rows:"3","max-height":300,modelValue:e.infoJustificacion.DETALLE,"onUpdate:modelValue":t[15]||(t[15]=function(t){return e.infoJustificacion.DETALLE=t}),modelModifiers:{trim:!0},"float-label":e.$t("intranet.clase.contenidoDetalle")+"*",disable:e.sieInfo.esEstudiante||(e.infoJustificacion.JUSEST||0===e.infoJustificacion.JUSEST)&&2!==e.infoJustificacion.JUSEST},null,8,["modelValue","float-label","disable"])])]),e.sieInfo.esEstudiante?(0,i.Q3)("v-if",!0):((0,i.uX)(),(0,i.Wv)(Ce,{key:0,class:"no-wrap imagen",onUpload:e.added,botones:!1,icon:"wallpaper",src:e.imagen,allow:["jpg","png","jpeg","bmp","pdf","doc","docx","ppt","pptx","xls","xlsx","zip","rar"]},null,8,["onUpload","src"]))]}),_:1},8,["loading","modelValue","title","ok","footer","onSubmit"]),(0,i.bF)(me,{class:"model-responsable",modelValue:e.modalComentario,"onUpdate:modelValue":t[18]||(t[18]=function(t){return e.modalComentario=t}),title:"Comentario de Asistencia",footer:!1},{default:(0,i.k6)(function(){return[(0,i.Lk)("div",V,[(0,i.bF)(ae,{class:"no-border",highlight:""},{default:(0,i.k6)(function(){return[(0,i.bF)(ne,{class:"q-pr-none"},{default:(0,i.k6)(function(){return[(0,i.bF)(Z,null,{default:(0,i.k6)(function(){return[(0,i.Lk)("div",Q,[t[22]||(t[22]=(0,i.Lk)("b",null,"Fecha:",-1)),(0,i.Lk)("span",null,(0,l.v_)(e.dateCorta(""+e.infoComentario.FECHA)),1)])]}),_:1})]}),_:1}),(0,i.bF)(ne,{class:"q-pr-none"},{default:(0,i.k6)(function(){return[(0,i.bF)(be,{type:"textarea",modelValue:e.infoComentario.TEXTO,"onUpdate:modelValue":t[17]||(t[17]=function(t){return e.infoComentario.TEXTO=t}),readonly:"","float-label":"Comentario"},null,8,["modelValue"])]}),_:1})]}),_:1})])]}),_:1},8,["modelValue"])],64))],64)):((0,i.uX)(),(0,i.CE)("div",P,[(0,i.bF)(W,{subtitle:"mensajes.m0014",icon:"person"})]))]}),_:1})}var W=o(99550),z=o.n(W),N=o(76080),K=o.n(N),B=o(45254),G=o.n(B),Z=o(57008),ee=o.n(Z),te=(o(74260),o(39866),o(23825),o(52133),o(10239),o(50310),o(32203),o(90095),o(6724),o(515),o(83190),o(27153),o(76921),o(13600),o(52776),o(37406),o(84433),o(44264),o(66307),o(81813),o(13715),o(24066),o(83972)),oe=o(6123),ne=o(30545),ae=o(82640),ie=o(92173),le=o(51082),se=o(80340),re=o(81288),ue=o(57668),ce=o(80660),de=o(30640),fe=o(59089),me=o(93616),pe=o(982),he=o(33950),be=o(19434),Ce={defaultOption:function(){return[{label:"Colegio",value:"A"},{label:"Curso",value:"C"}]},getAsistencias:function(e){return ce.$http.get("api/HyoAsistenciacurso/obtAsistencias",{params:{alucod:e}})},getAsistenciasTalleres:function(e){return ce.$http.get("api/HyoTalleres/obtAsistencias",{params:{alucod:e}})},getAsistenciasConfig:function(){return ce.$http.get("api/HyoAsistenciacurso/getConfig")}},ve=o(6583),Ee=o(99637),Ae=o(18105),Te=o(33001),ke=o(13813),ge=o(10452),Oe=o(66469),De={getLabelRechazado:function(){var e="Rechazado";switch((0,ue["default"])().colcod){case"0500":e="Justificación no autorizada";break}return e},getLabelMotivoRechazo:function(){var e="Detalle Rechazo";switch((0,ue["default"])().colcod){case"0500":e="Motivo no autorizado";break}return e}},Se=["0005","0336"].includes((0,ue["default"])().colcod),ye={setup:function(){var e=(0,te.fG)();return{v$:e}},components:{QTable:ne.A,sieSelect:me.A,sieModal:de.A,sieUpload:fe.A,QCheckbox:oe.vZ,QTabs:oe.uw,QTab:oe.zu,QTabPane:oe.dg,QRouteTab:oe.Eh,QChip:oe.wQ,QInnerLoading:oe.SQ,QSpinnerOval:oe.VA,sieEstudiantes:ie.Ay,sieVacio:se.A,sieDate:le.A,QTd:oe.Ef,QTr:oe.qh,QTh:oe.EJ,QPageSticky:oe._U,QFab:oe.l6,QFabAction:oe.B$,QPage:oe.Tu,QList:oe.Mb,QListHeader:oe.XR,QItem:oe.H0,QItemSide:oe.n1,QItemMain:oe.mF,QBtn:oe.Il,QIcon:oe.bP,QItemTile:oe.lp,QTooltip:oe.nC,QField:oe.Om,QInput:oe.ie},directives:{download:be.A},data:function(){return{file$:null,labels:[{id:1,descripcion:"Periodo 1",label:"I Periodo"},{id:2,descripcion:"Periodo 2",label:"II Periodo"},{id:3,descripcion:"Periodo 3",label:"III Periodo"},{id:4,descripcion:"Periodo 4",label:"IV Periodo"}],listAsistencia:[],periodos:[],control:[],sieInfo:(0,ue["default"])(),showInfoRegistro:["0372","0045"].indexOf((0,ue["default"])().colcod)>=0,acceso:(0,ue["default"])().ruta.nivel>=2,vacio:!0,selectedTab:"1",tabCursoPrimero:Se,selectTipo:Se?"C":"S",nocursos:!0,visible:!1,alucod:null,modalJustificacion:!1,justificacion:[],estado:"",TIPJUSCOD:"",DETALLE:"",imagen:"",tituloModal:"",currentItem:{},dataModal:{TIPJUSCOD:"",DETALLE:""},modalLoad:!1,eliminar:!1,ver:["0015"].indexOf((0,ue["default"])().colcod)>=0,options:Ce.defaultOption(),option:"A",fechaA:null,listaAsisCursosTemp:[],listaAsisTalleresTemp:[],diasAsisCursoTemp:[],diasAsisTalleresTemp:[],asistenciaCurso:{},tabSelectCurso:1,dataAsistenciaCurso:{},dataSeleccionada:[],listSelect:[],iconoColor:{},iconoTipo:{},iconoDesc:{},estados:[],showCurso:!1,modalEnviar:!1,listSemanas:{},semana:{},indiceSemana:null,modalComentario:!1,infoComentario:{},cargaAnterior:!1,showTurno:!1,dataTurnos:[{ID:"T",DESCRIPCION:"Todos"}],turnoSelect:"T",objTurnos:{},justificaCurso:!1,estadosJustificar:["F","R"],justificaMDias:["0283","0090","0255"].indexOf((0,ue["default"])().colcod)>=0,showI:["0045"].indexOf((0,ue["default"])().colcod)>=0,showS:["0045"].indexOf((0,ue["default"])().colcod)>=0,columns:[{name:"FECHA",label:this.$t("fecha"),align:"left",field:"FECHA"},{name:"DESCR",label:this.$t("estado"),align:"left",field:"DESCR"}],justColor:[{color:"warning",descripcion:"En revisión"},{color:"positive",descripcion:"Aprobado"},{color:"negative",descripcion:De.getLabelRechazado()}],labelMotivoRechazo:De.getLabelMotivoRechazo(),modalJustificacionCurso:!1,infoJustificacion:{},infoAlumno:{},configAsistencia:{}}},computed:{bloqJustif:function(){return["0500"].indexOf((0,ue["default"])().colcod)>=0&&"R"===this.estado},isLess:function(){return(0,re.isLess)()},infoInjus:function(){var e=this,t=[];return Object.keys(this.listAsistencia[this.selectedTab]).forEach(function(o){e.listAsistencia[e.selectedTab][o].forEach(function(e){"S"===e.JUSTIFICA.trim()&&["A","P"].indexOf(e.ESTJUS)<0&&t.push(e)})}),t},diasAsis:function(){var e=[];return"C"===this.option&&(e=this.diasAsisCursoTemp),"T"===this.option&&(e=this.diasAsisTalleresTemp),e},listaAsis:function(){var e=[],t=(0,Ae.Ay)(this.fechaA,"DD/MM/YYYY");return t&&("C"===this.option&&(e=this.listaAsisCursosTemp),"T"===this.option&&(e=this.listaAsisTalleresTemp),e=(0,Te.filterArray)(t,{field:"FECHA",list:e})),e}},methods:{dateNum:function(e){var t=new Date(e);return t=oe.p6.formatDate(t,"DD"),t},dateDia:function(e){var t=new Date(e);return t=oe.p6.formatDate(t,"ddd"),t},dateF:Ae.Ay,dateCorta:function(e){var t=new Date(e);return t=oe.p6.formatDate(t,"DD/MM"),t},dateLarga:function(e){var t=new Date(e);return t=oe.p6.formatDate(t,"DD/MM/YYYY"),t},fDate:function(e){return(0,Ae.Ay)(e,"DD MMMM YYYY hh:mm:ss aa")},mostrarComentario:function(e){this.modalComentario=!0,this.infoComentario=e},seleccionaSemana:function(e){this.semana=e},enviarResumen:function(){var e=ee()({},this.semana);e.fechaIni=null,e.fechaFin=null,e.alucod=this.alucod,ce.$http.post("api/HyoAsistencia/sendAsistenciaCursoResumen",e).then(function(e){e.json})},getAsistencia:function(e){var t=this;return G()(K()().m(function o(){var n,a,i,l,s,r;return K()().w(function(o){while(1)switch(o.n){case 0:return n={alucod:e},o.n=1,ce.$http.get("api/HyoHorasis/obtAsistencias",{params:n});case 1:return i=o.v,l={},(0,Ee["default"])(i,function(e,t){l.hasOwnProperty(e.BIMECOD)||(l[e.BIMECOD]={BIMECOD:e.BIMECOD,PERIODO:"Periodo "+e.BIMECOD,PERICIE:e.PERICIE,TAB:"Tab-"+e.BIMECOD})}),s={},r=De.getLabelRechazado(),(0,Ee["default"])(i,function(e,t){var o=new Date(e.FECHA),n=oe.p6.formatDate(o,"MMMM YYYY");if(Object.prototype.hasOwnProperty.call(e,"ESTJUS"))switch(e.ESTJUS){case"P":e.ICONO="error",e.COLOR="amber",e.TOOLTIP="pendiente";break;case"A":e.ICONO="check_circle",e.COLOR="green",e.TOOLTIP="justificado";break;case"R":e.ICONO="check_circle",e.COLOR="red-6",e.TOOLTIP=r;break;default:e.ICONO="check_circle",e.COLOR="deep-orange-14",e.TOOLTIP="editorhtml.justifyFull",e.ESTJUS="F";break}s.hasOwnProperty(e.BIMECOD)&&0!==s.length?s[e.BIMECOD].hasOwnProperty(n)?s[e.BIMECOD][n].push(e):s[e.BIMECOD][n]=[e]:(s[e.BIMECOD]={},s[e.BIMECOD][n]=[e])}),t.listAsistencia=s,t.periodos=l,o.a(2,[l,a])}},o)}))()},loadControl:function(){var e=this;return G()(K()().m(function t(){var o,n,a;return K()().w(function(t){while(1)switch(t.n){case 0:return t.n=1,ce.$http.get("api/HyoHorasisEstado/listarHorasisEstado");case 1:o=t.v,n=o.json,a=(0,ke["default"])(n,function(e){return{id:e.ESTADOETI,descripcion:e.ESTADODES,color:e.COLORVUE}}),e.control=a;case 2:return t.a(2)}},t)}))()},grabarJustificacion:function(){var e=this;if(this.v$.dataModal.$touch(),this.v$.$error)return(0,pe["default"])("Complete los campos requeridos","error"),!1;var t=ee()({},this.dataModal);if(this.listSelect.length>1&&(t.listFechas=(0,ke["default"])(this.listSelect,function(e){var t=e.FECHA;return t})),this.file$){t.nombreTemporal=this.file$.name,t.ARCHIVO=this.file$.originalFilename.replace(/ /g,"_");var o=t.ARCHIVO.length;if(o>100)return(0,pe["default"])("El nombre del archivo es demasiado largo","warning"),!1}else if(!(["0098","0291","0339","0300","0460","0500","0156","0275"].indexOf((0,ue["default"])().colcod)>=0||"R"===this.estado))return(0,pe["default"])("Seleccione un archivo","warning"),!1;ce.$http.post("api/HyoWjustifica/grabaInformacion",{data:t}).then(function(o){o.json;return e.file$=null,e.modalJustificacion=!1,e.getAsistencia(t.ALUCOD)}).then(function(o){if(e.eliminar){var n={alucod:t.ALUCOD,fecha:t.FECHA,nemo:t.NEMO};return ce.$http.post("api/HyoWjustifica/eliminaDocumento",n)}return!0}).then(function(t){t&&(e.eliminar=!1),(0,pe["default"])(e.$t("mensajes.m0064"))}).catch(function(t){(0,pe["default"])(e.$t("mensajes.m0089","error"))})},eliminaDocumento:function(){this.eliminar=!0,this.dataModal.ARCHIVO=null,this.dataModal.URL=null,this.dataModal.RUTA=null},added:function(e){var t=this,o=z()(e,1),n=o[0],a=(0,he.Basic)({url:"api/HyoArchivo/tmp/upload",file:n,onProgress:function(e,t){}});this.modalLoad=!0,a.then(function(e){var o=e.result.files.file;t.file$=o[0],t.modalLoad=!1}).catch(function(e){t.modalLoad=!1,(0,pe["default"])("error al subir archivo","error")})},validaAsistencia:function(e){var t=this;if(this.listSelect=[e],this.v$.dataModal.$reset(),this.tituloModal=e.DESCR+" "+(0,Ae.Ay)(e.FECHA,"DD/MM/YYYY"),"F"!==e.ESTJUS){var o={alucod:e.ALUCOD,fecha:e.FECHA};ce.$http.get("api/HyoWjustifica/obtDatosJustificacion",{params:o}).then(function(e){var o=z()(e.json,1),n=o[0];n&&(n.URL=t.sieInfo.url+"/".concat(ce.API_LMS,"/api/HyoWjustifica/descargar/")+n.ALUCOD+"/"+n.FECHA+"?access_token="+t.sieInfo.token,t.dataModal=n,t.estado=n.ESTADO.trim()),t.modalJustificacion=!0})}else this.dataModal={TIPJUSCOD:"",DETALLE:"",ALUCOD:e.ALUCOD,FECHA:e.FECHA,NEMO:e.NEMO},this.estado="F",this.modalJustificacion=!0},selectAlumno:function(e){this.infoAlumno=e,this.loadAsistencia(e)},loadAsistencia:function(e){var t=this,o="005"===this.sieInfo.tipcod?this.sieInfo.alucod:this.alucod,n=function(){if(t.showCurso){var n={alucod:o,nemo:e.NEMO||null,instrucod:e.INSTRUCOD||null,gradocod:e.GRADOCOD||null,justificacion:t.justificaCurso};Promise.all([ce.$http.get("api/HyoHorasisEstado/listarHorasisEstado",{params:{momento:2}}),ce.$http.get("api/HyoAsistenciacurso/obtAsistenciaCursoGeneral",{params:n}),ce.$http.get("api/HyoPercales/devolverHorarioSemanas",{params:n})]).then(function(e){t.listSemanas=e[2].json;var o=Object.keys(e[1].json.cabecera);o=o.map(function(e){return parseInt(e)}),o=Math.max.apply(Math,a()(o)),t.tabSelectCurso=o.toString(),t.asistenciaCurso=e[1].json,t.nocursos=!Object.keys(e[1].json.info).length>0,t.estados=e[0].json,e[0].json.forEach(function(e){t.iconoColor[e.ESTADOCOD]=e.COLORHEXF,t.iconoTipo[e.ESTADOCOD]=e.ESTADOETI,t.iconoDesc[e.ESTADOCOD]=e.ESTADODES})})}t.getAsistencia(o).then(function(e){Object.keys(t.listAsistencia).length>0?t.vacio=!1:t.vacio=!0;var o=Object.keys(t.periodos);o=o.map(function(e){return parseInt(e)}),o=Math.max.apply(Math,a()(o)),t.selectedTab=o.toString()}),t.ver&&(t.options=Ce.defaultOption(),t.option="A",t.fechaA=null,t.diasAsisCursoTemp=[],t.diasAsisTalleresTemp=[],Ce.getAsistencias(o).then(function(e){var o=(0,ve["default"])(e);if(o.length>0){t.vacio=!1,t.listaAsisCursosTemp=(0,ke["default"])(o,function(e){return e.FECHA=(0,Ae.Ay)(e.FECHA,"DD/MM/YYYY"),e}),t.options.push({label:"Cursos",value:"C"});var n=[];(0,Ee["default"])(o,function(e){(0===n.length||n.indexOf(e.FECHA)<0)&&n.push(e.FECHA)}),t.diasAsisCursoTemp=n}}),Ce.getAsistenciasTalleres(o).then(function(e){var o=(0,ve["default"])(e);if(o.length>0){t.vacio=!1,t.listaAsisTalleresTemp=(0,ke["default"])(o,function(e){return e.FECHA=(0,Ae.Ay)(e.FECHA,"DD/MM/YYYY"),e}),t.options.push({label:"Talleres",value:"T"});var n=[];(0,Ee["default"])(o,function(e){(0===n.length||n.indexOf(e.FECHA)<0)&&n.push(e.FECHA)}),t.diasAsisTalleresTemp=n}}))};this.cargaAnterior?n():ce.$http.get("api/HyoUsumenu/obtEstadoMenu",{params:{url:"intranet.asistenciaCursoNew"}}).then(function(e){var o=e.json;t.cargaAnterior=!0,t.showCurso=!(["0023","0090"].indexOf((0,ue["default"])().colcod)>=0)&&o,n()})},getColor:function(e){var t=this.control.find(function(t){return t.descripcion.toLowerCase()===e.toLowerCase()}),o=t?new RegExp(t.descripcion.toLowerCase()):new RegExp("");if(o.test(e.toLowerCase()))return t?t.color:"#FFFFFF"},getLabel:function(e){var t=this.control.find(function(t){return t.descripcion.toLowerCase()===e.toLowerCase()}),o=t?new RegExp(t.descripcion.toLowerCase()):new RegExp("");if(o.test(e.toLowerCase()))return t?t.id:""},getPeriodo:function(e){var t=this.labels.find(function(t){return t.descripcion===e.toString()}),o=t?new RegExp(t.descripcion):new RegExp("");if(o.test(e))return t?t.label:""},diasDispo:function(e){var t=(0,Ae.Ay)(e,"DD/MM/YYYY"),o=this.diasAsis.indexOf(t)>=0;return o},initFecha:function(){var e=null,t=a()(this.diasAsisCursoTemp),o=a()(this.diasAsisTalleresTemp);"C"===this.option&&t.length>0&&(e=(0,ge._x)(t.pop(),"DD/MM/YYYY")),"T"===this.option&&o.length>0&&(e=(0,ge._x)(o.pop(),"DD/MM/YYYY")),this.fechaA=e},errorLabel:function(e){return this.$t((0,Oe["default"])(e))},maxLength:function(){if(this.dataModal.DETALLE&&this.dataModal.DETALLE.length>250)return this.dataModal.DETALLE=this.dataModal.DETALLE.substr(0,250),!1},generarCabecera:function(e){this.feriados=this.asistenciaCurso.cabecera[e]?this.asistenciaCurso.cabecera[e].feriados:[];var t={columns:[{name:"CURSONOM",field:"CURSONOM",align:"left",label:this.$t("curso"),style:"min-width: 250px; font-size: 11px;"}]};this.asistenciaCurso.cabecera[e]&&this.asistenciaCurso.cabecera[e].diasDisp.forEach(function(e){t.columns.push({name:e,field:e,align:"center",label:e,fecha:!0})}),t.data=this.asistenciaCurso.info[e],this.dataAsistenciaCurso=t},justificarCurso:function(e){this.estadosJustificar.indexOf(e.ESTADO)>=0&&this.acceso&&(this.modalJustificacionCurso=!0,this.infoJustificacion=e,this.info={},this.tituloModal=this.iconoDesc[e.ESTADO])},saveAsistenciaCJustificacion:function(){var e=this;if(this.infoJustificacion.DETALLE&&0!==this.infoJustificacion.DETALLE.length)if(this.infoJustificacion.TIPJUS)if(this.configAsistencia.ADJUNTO_OBLIGATORIO&&(!this.file$||this.file$&&0===Object.keys(this.file$)))(0,pe["default"])("Debe adjuntar un Archivo","error");else{var t={info:this.infoJustificacion};this.configAsistencia.ADJUNTO_OBLIGATORIO&&(t.archivo=this.file$),ce.$http.post("api/HyoJustificacursos/saveJustificacion",t).then(function(t){var o=t.json;"yes"===o?(e.infoJustificacion.JUSEST=0,e.modalJustificacionCurso=!1,e.info={},e.loadAsistencia(e.infoAlumno),(0,pe["default"])("Se guardó correctamente la justificacion.")):(0,pe["default"])("No se pudó guardar la justificacion, intente nuevamente.","error")})}else(0,pe["default"])("Debe colocar un Tipo","error");else(0,pe["default"])("Debe colocar un Detalle","error")},validarJustificable:function(e){return this.estadosJustificar.indexOf(e.ESTADO)>=0&&this.acceso&&[0,1].indexOf(e.JUSEST)<0&&this.justificaCurso}},validations:{dataModal:{TIPJUSCOD:{required:ae.mw},DETALLE:{required:ae.mw,maxLength:(0,ae.Ru)(250)}}},created:function(){var e=this;return G()(K()().m(function t(){var o;return K()().w(function(t){while(1)switch(t.n){case 0:return ce.$http.get("api/HyoAturno/obtTurnos").then(function(t){var o=t.json;o.length>1&&(e.showTurno=!0,o.forEach(function(t){e.dataTurnos.push(t),e.objTurnos[t.ID]=t.DESCRIPCION}))}),ce.$http.get("api/HyoControl/obtCodigoActualPorCampo",{params:{campo:"jcurso"}}).then(function(t){var o=t.json;e.justificaCurso="1"===o}),"005"===e.sieInfo.tipcod&&(e.alucod=e.sieInfo.alucod,ce.$http.get("api/HyoSalonal/obtSalonAlumno",{params:{alucod:e.sieInfo.alucod}}).then(function(t){var o=t.json;e.loadAsistencia(o)})),t.n=1,e.loadControl();case 1:return o={princods:["tJustificacion"],objOrden:{campos:"SECUDES",orden:"asc"}},ce.$http.get("api/HyoTablaSe/obtArrayDatos",{params:o}).then(function(t){var o=t.json.tJustificacion;e.justificacion=o}),t.n=2,Ce.getAsistenciasConfig();case 2:e.configAsistencia=t.v;case 3:return t.a(2)}},t)}))()},unmounted:function(){},watch:{tabSelectCurso:function(e){this.generarCabecera(e)}}},Ie=o(12807);const Fe=(0,Ie.A)(ye,[["render",Y]]);var Le=Fe}}]);