"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[53695],{53695:function(e,n,o){o.r(n),o.d(n,{default:function(){return ce}});var i=o(61758),t={class:"row q-col-gutter-sm"},a={class:"col-xs-12 col-sm-4 col-md-2"},r={class:"col-xs-12 col-sm-4 col-md-1"},l={class:"col-xs-12 col-sm-4 col-md-2"},c={key:0,class:"col-xs-12 col-sm-4 col-md-2"},u={key:1,class:"col-xs-12 col-sm-4 col-md-2"},s={class:"col-xs-12 col-sm-2"},m={class:"col-xs-12 col-sm-3"},d={class:"row"},f={class:"col-xs-12"},p={class:"row q-gutter-sm q-py-sm justify-start items-start"},v={key:1,class:"column"},b={class:"row q-pa-sm q-col-gutter-sm"},h={class:"col-xs-12 col-sm-6"},g={class:"col-xs-12 col-sm-6"},I={class:"col-xs-12"},V={class:"col-xs-12 col-sm-6"},C={key:0,class:"col-xs-12 col-sm-6"},w={key:1,class:"col-xs-12 col-sm-4 col-md-2"},A={key:2,class:"col-xs-12"},S={key:3,class:"col-xs-12"},k={class:"col-xs-12"},F={class:"row q-pa-sm q-col-gutter-sm"},D={class:"col-xs-12"},E={class:"col-xs-12 col-md-4"},T={class:"col-xs-12 col-sm-8"},L={class:"col-xs-12 col-sm-6"},U={key:0,class:"col-xs-12 col-sm-6"},x={class:"col-xs-12 col-sm-6"},R={class:"col-xs-12 col-sm-6"},O={key:1,class:"col-xs-12"};function y(e,n){var o=this,y=(0,i.g2)("header-btn"),M=(0,i.g2)("q-select"),q=(0,i.g2)("q-input"),Q=(0,i.g2)("q-card-section"),$=(0,i.g2)("q-separator"),Y=(0,i.g2)("q-spinner-oval"),N=(0,i.g2)("q-inner-loading"),P=(0,i.g2)("sie-table"),_=(0,i.g2)("q-btn"),X=(0,i.g2)("sie-vacio"),B=(0,i.g2)("q-card"),z=(0,i.g2)("q-d"),K=(0,i.g2)("q-checkbox"),G=(0,i.g2)("q-form"),H=(0,i.g2)("sie-modal"),j=(0,i.g2)("q-toolbar"),Z=(0,i.g2)("q-page");return(0,i.uX)(),(0,i.Wv)(Z,{class:"reconocimientos q-pa-sm"},{default:(0,i.k6)(function(){return[(0,i.bF)(B,null,{default:(0,i.k6)(function(){return[(0,i.bF)(y,{name:"Reconocimientos",buttons:e.buttons},null,8,["buttons"]),(0,i.bF)(Q,null,{default:(0,i.k6)(function(){return[(0,i.Lk)("div",t,[(0,i.Lk)("div",a,[(0,i.bF)(M,{modelValue:e.frm.filtrar,"onUpdate:modelValue":n[0]||(n[0]=function(n){return e.frm.filtrar=n}),options:e.filtros,label:"Filtrar",onInput:n[1]||(n[1]=function(n){return e.listarReconocimientos()})},null,8,["modelValue","options"])]),(0,i.Lk)("div",r,[(0,i.bF)(M,{modelValue:e.frm.ano,"onUpdate:modelValue":n[2]||(n[2]=function(n){return e.frm.ano=n}),options:e.anios,label:"Año",optionValue:"ANO",optionLabel:"ANO",onInput:n[3]||(n[3]=function(n){return e.listarReconocimientos()})},null,8,["modelValue","options"])]),(0,i.Lk)("div",l,[(0,i.bF)(M,{modelValue:e.frm.tipo,"onUpdate:modelValue":n[4]||(n[4]=function(n){return e.frm.tipo=n}),options:e.tipos,optionValue:"SECUCOD",optionLabel:"SECUDES",label:"Tipo",onInput:n[5]||(n[5]=function(n){return e.getActividadFiltro()})},null,8,["modelValue","options"])]),e.usaInstituciones?((0,i.uX)(),(0,i.CE)("div",c,[(0,i.bF)(M,{modelValue:e.frm.institucion,"onUpdate:modelValue":n[6]||(n[6]=function(n){return e.frm.institucion=n}),options:e.instituciones,optionValue:"SECUCOD",optionLabel:"SECUDES",label:"Institución",onInput:n[7]||(n[7]=function(n){return e.listarReconocimientos()})},null,8,["modelValue","options"])])):(0,i.Q3)("v-if",!0),e.usaActividad?((0,i.uX)(),(0,i.CE)("div",u,[(0,i.bF)(M,{modelValue:e.frm.actividad,"onUpdate:modelValue":n[8]||(n[8]=function(n){return e.frm.actividad=n}),options:e.actividades,optionValue:"SECUCOD",optionLabel:"DESCRIPCION",label:"Actividad",onInput:n[9]||(n[9]=function(n){return e.listarReconocimientos()})},null,8,["modelValue","options"])])):(0,i.Q3)("v-if",!0),(0,i.Lk)("div",s,[(0,i.bF)(q,{modelValue:e.frm.alucod,"onUpdate:modelValue":n[10]||(n[10]=function(n){return e.frm.alucod=n}),label:"Código","float-label":"Código",onKeyup:e.BuscarReconocimientos},null,8,["modelValue","onKeyup"])]),(0,i.Lk)("div",m,[(0,i.bF)(q,{modelValue:e.frm.nomcomp,"onUpdate:modelValue":n[11]||(n[11]=function(n){return e.frm.nomcomp=n}),label:"Nombres y apellidos","float-label":"Nombres y apellidos",onKeyup:e.BuscarReconocimientos},null,8,["modelValue","onKeyup"])])])]}),_:1}),(0,i.bF)($),(0,i.bF)(Q,null,{default:(0,i.k6)(function(){return[(0,i.Lk)("div",d,[(0,i.Lk)("div",f,[(0,i.bF)(N,{visible:e.loadingDetalle},{default:(0,i.k6)(function(){return[(0,i.bF)(Y,{size:"50px",color:"primary"})]}),_:1},8,["visible"]),e.dataDetalle.length>0?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.bF)(P,{selection:"multiple",showSearch:!1,ref:"seleccionados",context:o,css:"height:calc(100vh - 290px)",columns:e.configTbl.columnas,data:e.dataDetalle,config:e.dinamicos},null,8,["columns","data","config"]),(0,i.Lk)("div",p,[(0,i.bF)(_,{class:"full-height text-black text-h3",style:{"font-size":"12px"},dense:"","no-caps":"",size:"sm",label:"Egresado",color:"light-green-11",icon:"estudiante"}),(0,i.bF)(_,{class:"full-height text-black text-h3",style:{"font-size":"12px"},dense:"","no-caps":"",size:"sm",label:"Retirado",color:"lime-11",icon:"estudiante"})])],64)):((0,i.uX)(),(0,i.CE)("div",v,[(0,i.bF)(X,{icon:"settings_applications",style:{height:"calc(100vh - 290px)"}})]))])])]}),_:1})]}),_:1}),(0,i.bF)(H,{class:"modal-reconocimiento",modelValue:e.openModal,"onUpdate:modelValue":n[22]||(n[22]=function(n){return e.openModal=n}),title:"Reconocimiento",ok:e.$t("botones.guardar"),footer:!0,onSubmit:e.grabarDatos,onClose:e.cerrarModal},{default:(0,i.k6)(function(){return[(0,i.bF)(G,{class:"column",ref:"form"},{default:(0,i.k6)(function(){return[(0,i.Lk)("div",b,[(0,i.Lk)("div",h,[(0,i.bF)(z,{class:"q-if-outlined",modelValue:e.frmSave.fecha,"onUpdate:modelValue":n[12]||(n[12]=function(n){return e.frmSave.fecha=n}),label:"Fecha","float-label":"Fecha",type:"date",format:"DD/MM/YYYY"},null,8,["modelValue"])]),(0,i.Lk)("div",g,[(0,i.bF)(K,{modelValue:e.frmSave.repetir,"onUpdate:modelValue":n[13]||(n[13]=function(n){return e.frmSave.repetir=n}),label:"Repetir","true-value":1,"false-value":0},null,8,["modelValue"])]),(0,i.Lk)("div",I,[(0,i.bF)(M,{modelValue:e.frmSave.alucod,"onUpdate:modelValue":n[14]||(n[14]=function(n){return e.frmSave.alucod=n}),options:e.alumnos,optionValue:"ALUCOD",optionLabel:"NOMCOMP",label:"Estudiante"},null,8,["modelValue","options"])]),(0,i.Lk)("div",V,[(0,i.bF)(M,{modelValue:e.frmSave.tipo,"onUpdate:modelValue":n[15]||(n[15]=function(n){return e.frmSave.tipo=n}),options:e.tipos,optionValue:"SECUCOD",optionLabel:"SECUDES",label:"Tipo",onInput:n[16]||(n[16]=function(n){return e.getActividadFrm()})},null,8,["modelValue","options"])]),e.usaInstituciones?((0,i.uX)(),(0,i.CE)("div",C,[(0,i.bF)(M,{modelValue:e.frmSave.institucion,"onUpdate:modelValue":n[17]||(n[17]=function(n){return e.frmSave.institucion=n}),options:e.instituciones,optionValue:"SECUCOD",optionLabel:"SECUDES",label:"Institución"},null,8,["modelValue","options"])])):(0,i.Q3)("v-if",!0),e.usaActividad?((0,i.uX)(),(0,i.CE)("div",w,[(0,i.bF)(M,{modelValue:e.frm.actividad,"onUpdate:modelValue":n[18]||(n[18]=function(n){return e.frm.actividad=n}),options:e.actividades,optionValue:"SECUCOD",optionLabel:"DESCRIPCION",label:"Actividad"},null,8,["modelValue","options"])])):(0,i.Q3)("v-if",!0),e.usaTorneo?((0,i.uX)(),(0,i.CE)("div",A,[(0,i.bF)(q,{modelValue:e.frmSave.torneo,"onUpdate:modelValue":n[19]||(n[19]=function(n){return e.frmSave.torneo=n}),label:"Torneo","float-label":"Torneo"},null,8,["modelValue"])])):(0,i.Q3)("v-if",!0),e.usaCategoria?((0,i.uX)(),(0,i.CE)("div",S,[(0,i.bF)(q,{modelValue:e.frmSave.categoria,"onUpdate:modelValue":n[20]||(n[20]=function(n){return e.frmSave.categoria=n}),label:"Categoria","float-label":"Categoria"},null,8,["modelValue"])])):(0,i.Q3)("v-if",!0),(0,i.Lk)("div",k,[(0,i.bF)(q,{modelValue:e.frmSave.logro,"onUpdate:modelValue":n[21]||(n[21]=function(n){return e.frmSave.logro=n}),label:e.etiquetaLogro,"float-label":"Logro"},null,8,["modelValue","label"])])])]}),_:1},512)]}),_:1},8,["modelValue","ok","onSubmit","onClose"]),(0,i.bF)(H,{class:"modal-reconocimiento-imprimir",modelValue:e.openModalImprimir,"onUpdate:modelValue":n[36]||(n[36]=function(n){return e.openModalImprimir=n}),title:"Imprimir Relacion de Reconocimiento",header:!0,footer:e.sie.ruta.nivel>=1,ok:!1},{footer:(0,i.k6)(function(){return[(0,i.bF)(j,{class:"justify-end",color:"grey-2"},{default:(0,i.k6)(function(){return[(0,i.Lk)("div",null,[(0,i.bF)(_,{class:"q-mx-xs",icon:"file_pdf",label:"PDF",color:"primary",onClick:n[32]||(n[32]=function(n){return e.verReporte("pdf")})}),(0,i.bF)(_,{class:"q-mx-xs",icon:"file_excel",label:"Excel",color:"primary",onClick:n[33]||(n[33]=function(n){return e.verReporte("xls")})})])]}),_:1})]}),footerMobile:(0,i.k6)(function(){return[(0,i.Lk)("div",null,[(0,i.bF)(_,{flat:"",round:"",dense:"",icon:"file_pdf",onClick:n[34]||(n[34]=function(n){return e.verReporte("pdf")})}),(0,i.bF)(_,{flat:"",round:"",dense:"",icon:"file_excel",onClick:n[35]||(n[35]=function(n){return e.verReporte("xls")})})])]}),default:(0,i.k6)(function(){return[(0,i.bF)(G,{class:"column",ref:"form"},{default:(0,i.k6)(function(){return[(0,i.Lk)("div",F,[(0,i.Lk)("div",D,[(0,i.bF)(M,{modelValue:e.frmImprimir.ano,"onUpdate:modelValue":n[23]||(n[23]=function(n){return e.frmImprimir.ano=n}),options:e.anios,label:"Año",optionValue:"ANO",optionLabel:"ANO",onInput:e.cambiarAnoImprimir},null,8,["modelValue","options","onInput"])]),(0,i.Lk)("div",E,[(0,i.bF)(M,{modelValue:e.frmImprimir.filtrar,"onUpdate:modelValue":n[24]||(n[24]=function(n){return e.frmImprimir.filtrar=n}),options:e.filtros,label:"Tipo Alumno",onInput:e.cambiarFiltroImprimir},null,8,["modelValue","options","onInput"])]),(0,i.Lk)("div",T,[(0,i.bF)(M,{modelValue:e.frmImprimir.alucod,"onUpdate:modelValue":n[25]||(n[25]=function(n){return e.frmImprimir.alucod=n}),options:e.alumnosPrint,optionValue:"ALUCOD",optionLabel:"NOMCOMP",label:"Estudiante",onInput:e.cambiarAlumnoImprimir},null,8,["modelValue","options","onInput"])]),(0,i.Lk)("div",L,[(0,i.bF)(M,{modelValue:e.frmImprimir.tipo,"onUpdate:modelValue":n[26]||(n[26]=function(n){return e.frmImprimir.tipo=n}),options:e.tipos,optionValue:"SECUCOD",optionLabel:"SECUDES",label:"Tipo",onInput:n[27]||(n[27]=function(n){return e.getActividadFrm()})},null,8,["modelValue","options"])]),e.usaInstituciones?((0,i.uX)(),(0,i.CE)("div",U,[(0,i.bF)(M,{modelValue:e.frmImprimir.institucion,"onUpdate:modelValue":n[28]||(n[28]=function(n){return e.frmImprimir.institucion=n}),options:e.instituciones,optionValue:"SECUCOD",optionLabel:"SECUDES",label:"Institución"},null,8,["modelValue","options"])])):(0,i.Q3)("v-if",!0),(0,i.Lk)("div",x,[(0,i.bF)(z,{class:"q-if-outlined",modelValue:e.frmImprimir.fechaIni,"onUpdate:modelValue":n[29]||(n[29]=function(n){return e.frmImprimir.fechaIni=n}),label:"FechaIni","float-label":"FechaIni",type:"date",format:"DD/MM/YYYY"},null,8,["modelValue"])]),(0,i.Lk)("div",R,[(0,i.bF)(z,{class:"q-if-outlined",modelValue:e.frmImprimir.fechaFin,"onUpdate:modelValue":n[30]||(n[30]=function(n){return e.frmImprimir.fechaFin=n}),label:"FechaFin","float-label":"FechaFin",type:"date",format:"DD/MM/YYYY"},null,8,["modelValue"])]),e.usaTorneo?((0,i.uX)(),(0,i.CE)("div",O,[(0,i.bF)(q,{modelValue:e.frmImprimir.torneo,"onUpdate:modelValue":n[31]||(n[31]=function(n){return e.frmImprimir.torneo=n}),label:"Torneo","float-label":"Torneo"},null,8,["modelValue"])])):(0,i.Q3)("v-if",!0)])]}),_:1},512)]}),_:1},8,["modelValue","footer"])]}),_:1})}var M=o(57008),q=o.n(M),Q=o(76080),$=o.n(Q),Y=o(45254),N=o.n(Y),P=o(6123),_=o(88567),X=o(95718),B=o(53380),z=o(9736),K=o(16648),G=o(30640),H=o(80340),j=o(57668),Z=o(65229),W=o(81288),J=o(2739),ee=o(33777),ne={data:function(){return{dinamicos:{FECHA:{component:"date",edit:!1},ESTADODESC:{renderHtml:function(e,n,o,i){return"R"===e.ESTADO?i.$$background="light-green-11":"E"===e.ESTADO&&(i.$$background="lime-11"),n("span",i.ESTADODESC)}},ACCIONES:{component:"button",icon:["edit"],permisos:{edit:"> 1"},edit:function(e){this.modalEditar(e)},flat:!0,color:"primary"}},configTbl:{columnas:[]},dataDetalle:[]}}},oe=o(18105),ie=o(80660),te=o(2819),ae={directives:{sieActive:Z.A},mixins:[ne],components:{QD:P.T5,QCard:_.A,QCardSection:X.A,QSeparator:B.A,QInnerLoading:P.SQ,QSpinnerOval:P.VA,QSelect:K.A,QInput:z.A,QOptionGroup:P.EX,sieModal:G.A,sieVacio:H.A,QForm:J.A,sieTable:ee.A,QCheckbox:P.vZ,QPage:P.Tu,QBtn:P.Il,QToolbar:P.ZV},props:{},computed:{isLess:function(){return(0,W.isLess)()},claseBtn:function(){return this.configTbl.registrosSeleccionados.length>0?"text-secondary":"text-grey"}},data:function(){var e=this;return{buttons:[{icon:"add",label:"Agregar",permiso:">= 1",click:function(){e.modalEditar({})}},{icon:"search",label:"Buscar",click:function(){e.listarReconocimientos()},permiso:">= 1"},{icon:"broom",label:"Limpiar",click:function(){e.limpiar()},permiso:">= 1"},{icon:"delete",label:"Eliminar",click:this.eliminar,permiso:">= 1"},{icon:"print",label:"Imprimir",click:function(){e.modalImprimir()},permiso:">= 1"}],sie:(0,j["default"])(),config:{},loadingDetalle:!1,etiquetaLogro:"",usaActividad:!1,usaInstituciones:!1,usaTorneo:!1,usaCategoria:!1,dataDetalle:[],actividades:[],anios:[],tipos:[],alumnos:[],alumnosPrint:[],filtros:[{label:"Todos",value:"T"},{label:"Activos",value:"act"},{label:"Matriculados",value:"matr"}],instituciones:[],openModal:!1,openModalImprimir:!1,frm:{alucod:"",nomcomp:"",ano:"Todos",filtrar:"T",tipo:"",institucion:"",desde:"",hasta:""},frmSave:{flag:"R",alucodIni:"",alucod:"",tipo:"",institucion:"",torneo:"",categoria:"",logro:"",fecha:"",repetir:0,actividad:""},frmImprimir:{ano:"",filtrar:"T",alucod:"",tipo:"",institucion:"",fechaIni:"",fechaFin:"",torneo:""}}},methods:{configurarTabla:function(){var e=this;return N()($()().m(function n(){var o;return $()().w(function(n){while(1)switch(n.n){case 0:return n.n=1,ie.$http.get("api/ReconocimientoController/getConfiguracionGrilla");case 1:o=e.dataDetalle=n.v,e.configTbl.columnas=o.columnas,e.usaActividad=o.usaActividad,e.usaInstituciones=o.usaInstituciones,e.usaCategoria=o.usaCategoria,e.etiquetaLogro=o.etiquetaLogro,e.usaTorneo=o.usaTorneo,e.configTbl.paginacion={page:1,rowsPerPage:500},e.dataDetalle=[];case 2:return n.a(2)}},n)}))()},verReporte:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"pdf",n=q()({},this.frmImprimir);n["ano"]=n["ano"],n["fecha1"]=n["fechaIni"]?(0,oe.Ay)(n["fechaIni"],"DD/MM/YYYY"):"",n["fecha2"]=n["fechaIni"]?(0,oe.Ay)(n["fechaFin"],"DD/MM/YYYY"):"",n["formato"]=e,n["repcod"]="relacionReconocimientos",(0,te.exportFilePhp)(n,"intranet/reporte-node/reporte","relacionReconocimientos")},eliminar:function(){var e=this,n=this.$refs.seleccionados.rowsSelected(["ALUCOD","ITEM"]);0===n.length&&this.$notify("Por favor seleccione los reconocimientos a eliminar","warning"),this.$confirm("¿Realmente desea eliminar este registro?","delete").onOk(N()($()().m(function o(){var i,t;return $()().w(function(o){while(1)switch(o.p=o.n){case 0:return o.p=0,o.n=1,e.$http.delete("api/ReconocimientoController/deleteReconocimiento",{params:{parametros:n}});case 1:return i=o.v,t=i.message,e.$notify(t,"success"),o.n=2,e.listarReconocimientos();case 2:o.n=4;break;case 3:o.p=3,o.v,e.$notify("Ocurrió un problema de conexión.","warning");case 4:return o.a(2)}},o,null,[[0,3]])})))},listarReconocimientos:function(){var e=this;return N()($()().m(function n(){return $()().w(function(n){while(1)switch(n.n){case 0:return n.n=1,ie.$http.get("api/ReconocimientoController/getReconocimientos",{params:{parametros:e.frm}});case 1:e.dataDetalle=n.v;case 2:return n.a(2)}},n)}))()},listarAlumnos:function(){return N()($()().m(function e(){return $()().w(function(e){while(1)switch(e.n){case 0:return e.a(2,ie.$http.get("api/AlumnoController/getAlumnosMatriculados"))}},e)}))()},listarAlumnosReconocimiento:function(e){var n=this;return N()($()().m(function o(){var i,t;return $()().w(function(o){while(1)switch(o.n){case 0:return i="Todos"!==e?e:"",o.n=1,ie.$http.get("api/AlumnoController/getAlumnosReconocimiento",{params:{params:{ano:i,filtrar:n.frmImprimir.filtrar}}});case 1:t=o.v,t.unshift({ALUCOD:"",NOMCOMP:"Todos..."}),n.alumnosPrint=t;case 2:return o.a(2)}},o)}))()},asignarFecha:function(e){var n=this;return N()($()().m(function o(){var i,t,a;return $()().w(function(o){while(1)switch(o.n){case 0:1===e?(i=new Date,t=n.frmImprimir.ano,a=i.getMonth(),n.frmImprimir.fechaIni=new Date(t,a,1),n.frmImprimir.fechaFin=new Date(t,a+1,0)):(n.frmImprimir.fechaIni="",n.frmImprimir.fechaFin="");case 1:return o.a(2)}},o)}))()},cambiarAnoImprimir:function(){var e=this;return N()($()().m(function n(){return $()().w(function(n){while(1)switch(n.n){case 0:return e.asignarFecha(1),n.n=1,e.listarAlumnosReconocimiento(e.frmImprimir.ano);case 1:return n.a(2)}},n)}))()},cambiarFiltroImprimir:function(){var e=this;return N()($()().m(function n(){return $()().w(function(n){while(1)switch(n.n){case 0:return n.n=1,e.listarAlumnosReconocimiento(e.frmImprimir.ano);case 1:return n.a(2)}},n)}))()},cambiarAlumnoImprimir:function(){var e=this;return N()($()().m(function n(){return $()().w(function(n){while(1)switch(n.n){case 0:""!==e.frmImprimir.alucod?e.asignarFecha(2):e.asignarFecha(1);case 1:return n.a(2)}},n)}))()},BuscarReconocimientos:function(e){var n=this;return N()($()().m(function o(){return $()().w(function(o){while(1)switch(o.n){case 0:if(13!==e.keyCode){o.n=1;break}return o.n=1,n.listarReconocimientos();case 1:return o.a(2)}},o)}))()},limpiar:function(){var e=this;return N()($()().m(function n(){return $()().w(function(n){while(1)switch(n.n){case 0:e.frm.alucod="",e.frm.nombres="",e.frm.ano="Todos",e.frm.filtrar="T",e.frm.tipo="",e.frm.institucion="",e.listarReconocimientos();case 1:return n.a(2)}},n)}))()},getInstituciones:function(){var e=this;return N()($()().m(function n(){return $()().w(function(n){while(1)switch(n.n){case 0:return n.n=1,e.getTablaDetails("220");case 1:e.instituciones=n.v;case 2:return n.a(2)}},n)}))()},getActividadFiltro:function(){var e=this;return N()($()().m(function n(){return $()().w(function(n){while(1)switch(n.n){case 0:if(e.listarReconocimientos(),!e.usaActividad){n.n=2;break}return n.n=1,e.getActividades(e.frm.tipo);case 1:e.frm.actividad="";case 2:return n.a(2)}},n)}))()},getActividadFrm:function(){var e=this;return N()($()().m(function n(){return $()().w(function(n){while(1)switch(n.n){case 0:if(!e.usaActividad){n.n=2;break}return n.n=1,e.getActividades(e.frmSave.tipo);case 1:e.frmSave.actividad="";case 2:return n.a(2)}},n)}))()},getActividades:function(e){var n=this;return N()($()().m(function o(){var i;return $()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,ie.$http.get("api/ReconocimientoController/getReconocimientoActividades",{params:{secucod:e}});case 1:i=o.v,i.unshift({DESCRIPCION:"Todos",SECUCOD:""}),n.actividades=i;case 2:return o.a(2)}},o)}))()},getTipos:function(){var e=this;return N()($()().m(function n(){return $()().w(function(n){while(1)switch(n.n){case 0:return n.n=1,e.getTablaDetails("219");case 1:e.tipos=n.v;case 2:return n.a(2)}},n)}))()},getTablaDetails:function(e){return N()($()().m(function n(){var o;return $()().w(function(n){while(1)switch(n.n){case 0:return n.n=1,ie.$http.get("api/TablasController/getTablaDetails",{params:{princod:e}});case 1:return o=n.v,o.unshift({SECUDES:"Todos",SECUCOD:""}),n.a(2,o)}},n)}))()},modalEditar:function(e){var n=this;return N()($()().m(function o(){var i;return $()().w(function(o){while(1)switch(o.n){case 0:return o.n=1,n.listarAlumnos();case 1:i=o.v,i.unshift({ALUCOD:"",NOMCOMP:"Seleccione..."}),n.alumnos=i,e.ALUCOD?(n.frmSave.alucodIni=e.ALUCOD,n.frmSave.flag="U"):n.frmSave.flag="R",n.frmSave.alucod=e.ALUCOD||"",n.frmSave.tipo=e.TIPO||"",n.frmSave.institucion=e.INSTITUCION||"",n.frmSave.torneo=e.TORNEO||"",n.frmSave.categoria=e.CATEGORIA||"",n.frmSave.logro=e.LOGRO||"",n.frmSave.fecha=e.FECHA||"",n.frmSave.item=e.ITEM||"",n.frmSave.actividad=e.ACTIVIDAD||"",n.frmSave.repetir=0,n.abrirModal();case 2:return o.a(2)}},o)}))()},abrirModal:function(){var e=this;return N()($()().m(function n(){return $()().w(function(n){while(1)switch(n.n){case 0:e.openModal=!0;case 1:return n.a(2)}},n)}))()},modalImprimir:function(){var e=this;return N()($()().m(function n(){return $()().w(function(n){while(1)switch(n.n){case 0:return e.frmImprimir.filtrar="T",e.frmImprimir.ano=e.sie.ano,n.n=1,e.listarAlumnosReconocimiento(e.frmImprimir.ano);case 1:e.openModalImprimir=!0;case 2:return n.a(2)}},n)}))()},grabarDatos:function(){var e=this;return N()($()().m(function n(){var o,i;return $()().w(function(n){while(1)switch(n.p=n.n){case 0:return n.p=0,n.n=1,e.$http.post("api/ReconocimientoController/guardarReconomiento",{data:e.frmSave});case 1:if(o=n.v,i=o.message,e.$notify(i,"success"),e.frmSave.repetir){n.n=3;break}return n.n=2,e.listarReconocimientos();case 2:e.cerrarModal();case 3:n.n=5;break;case 4:n.p=4,n.v,e.$notify("Ocurrió un problema de conexión.","warning");case 5:return n.a(2)}},n,null,[[0,4]])}))()},cerrarModal:function(){var e=this;return N()($()().m(function n(){return $()().w(function(n){while(1)switch(n.n){case 0:e.openModal=!1;case 1:return n.a(2)}},n)}))()}},created:function(){var e=this;return N()($()().m(function n(){var o,i;return $()().w(function(n){while(1)switch(n.n){case 0:return n.n=1,e.configurarTabla();case 1:return e.listarReconocimientos(),e.usaActividad?e.getActividades(e.frm.tipo):e.getInstituciones(),e.getTipos(),n.n=2,ie.$http.get("api/HyoAnos/obtAnos");case 2:o=n.v,i=o.json,i.unshift({ANO:"Todos"}),e.anios=i,e.frm.ano="Todos";case 3:return n.a(2)}},n)}))()}},re=o(12807);const le=(0,re.A)(ae,[["render",y]]);var ce=le}}]);