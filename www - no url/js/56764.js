"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[56764],{56764:function(e,n,o){o.r(n),o.d(n,{default:function(){return ie}});var l=o(61758);function t(e,n){var o=(0,l.g2)("header-btn"),t=(0,l.g2)("q-tab"),i=(0,l.g2)("q-tabs"),a=(0,l.g2)("q-page");return(0,l.uX)(),(0,l.Wv)(a,{class:"column q-pa-md"},{default:(0,l.k6)(function(){return[(0,l.bF)(o,{name:"Configuracion de Permisos"}),(0,l.bF)(i,{inverted:"",animated:"",modelValue:e.tabSelect,"onUpdate:modelValue":n[0]||(n[0]=function(n){return e.tabSelect=n})},{title:(0,l.k6)(function(){return[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.tabs,function(e,n){return(0,l.uX)(),(0,l.Wv)(t,{key:n,name:e.value,label:e.label},null,8,["name","label"])}),128))]}),_:1},8,["modelValue"]),((0,l.uX)(),(0,l.Wv)((0,l.$y)(e.tabSelect),{class:"q-ma-sm","keep-alive":""}))]}),_:1})}var i=o(6123),a=o(30545),d=o(57668),u=o(8445),r=o.n(u),s=(o(71225),o(50310),o(5962),o(83190),o(58790)),c={class:"col"},f={class:"row"},m={class:"col-5 q-card"},p={class:"row q-ma-sm q-pa-sm"},v={key:0,class:"col q-mx-sm q-card"},A={class:"row q-ma-sm q-pa-sm"},h={class:"column q-ma-sm"},E={class:"row justify-end"},b={class:"row"},I={class:"row"},g={key:0,class:"row"},C={class:"q-table q-table-horizontal-separator q-card"},T={style:{"text-align":"center"}};function O(e,n){var o=(0,l.g2)("header-btn"),t=(0,l.g2)("q-search"),i=(0,l.g2)("q-card"),a=(0,l.g2)("q-td"),d=(0,l.g2)("q-tr"),u=(0,l.g2)("q-table"),O=(0,l.g2)("q-btn"),k=(0,l.g2)("q-toggle"),D=(0,l.g2)("q-input"),V=(0,l.g2)("sie-select"),R=(0,l.g2)("q-select"),M=(0,l.g2)("sie-modal"),P=(0,l.g2)("q-icon"),Q=(0,l.g2)("draggable");return(0,l.uX)(),(0,l.CE)("div",c,[(0,l.Lk)("div",f,[(0,l.Lk)("div",m,[(0,l.bF)(o,{name:"Motivos"}),(0,l.bF)(i,null,{default:(0,l.k6)(function(){return[(0,l.Lk)("div",p,[(0,l.bF)(t,{class:"col",modelValue:e.filter,"onUpdate:modelValue":n[0]||(n[0]=function(n){return e.filter=n})},null,8,["modelValue"])])]}),_:1}),(0,l.bF)(u,{style:(0,s.Tr)({height:e.alto+"px"}),data:e.motivos,columns:e.columnsMotivos,"row-key":"ID",filter:e.filter},{body:(0,l.k6)(function(n){return[(0,l.bF)(d,{props:n,class:(0,s.C4)({"custom-selected":n.row.ID===e.indexSelect})},{default:(0,l.k6)(function(){return[(0,l.bF)(a,{onClick:function(o){return e.seleccionarIndice(n.row)}},{default:(0,l.k6)(function(){return[(0,l.Lk)("span",null,(0,s.v_)(n.row.DESCRIPCION),1)]}),_:2},1032,["onClick"])]}),_:2},1032,["props","class"])]}),_:1},8,["style","data","columns","filter"])]),e.indexSelect?((0,l.uX)(),(0,l.CE)("div",v,[(0,l.bF)(o,{name:"Configuración "+e.selectName},null,8,["name"]),(0,l.bF)(i,null,{default:(0,l.k6)(function(){return[(0,l.Lk)("div",A,[(0,l.bF)(t,{class:"col",modelValue:e.filterPasos,"onUpdate:modelValue":n[1]||(n[1]=function(n){return e.filterPasos=n})},null,8,["modelValue"]),(0,l.bF)(O,{flat:"",dense:"",round:"",icon:"add",onClick:n[2]||(n[2]=function(n){return e.openModalAdd()})}),e.configuracion.length>1?((0,l.uX)(),(0,l.Wv)(O,{key:0,flat:"",dense:"",round:"",icon:"import_export",onClick:e.openModalOrdenar},null,8,["onClick"])):(0,l.Q3)("v-if",!0)])]}),_:1}),(0,l.bF)(u,{style:(0,s.Tr)({height:e.alto+"px"}),data:e.configuracion,columns:e.columnsConfig,"row-key":"ID",filter:e.filterPasos},{"body-cell-ESTADO":(0,l.k6)(function(e){return[(0,l.bF)(a,{props:e},{default:(0,l.k6)(function(){return[(0,l.bF)(k,{modelValue:e.row.ESTADO,"onUpdate:modelValue":function(n){return e.row.ESTADO=n},"true-value":1,"false-value":0,disable:"",color:"secondary"},null,8,["modelValue","onUpdate:modelValue"])]}),_:2},1032,["props"])]}),"body-cell-EDIT":(0,l.k6)(function(n){return[(0,l.bF)(a,{props:n},{default:(0,l.k6)(function(){return[(0,l.bF)(O,{flat:"",dense:"",round:"",onClick:function(o){return e.openModalAdd(n.row)},icon:"edit"},null,8,["onClick"]),(0,l.bF)(O,{flat:"",dense:"",round:"",onClick:function(o){return e.deleteIndividual(n.row)},icon:"delete"},null,8,["onClick"])]}),_:2},1032,["props"])]}),_:1},8,["style","data","columns","filter"])])):(0,l.Q3)("v-if",!0)]),(0,l.bF)(M,{modelValue:e.modalAddConfig,"onUpdate:modelValue":n[8]||(n[8]=function(n){return e.modalAddConfig=n}),title:"Agregar paso",onSubmit:n[9]||(n[9]=function(n){return e.savePasos(e.infoDetalleConfig)})},{default:(0,l.k6)(function(){return[(0,l.Lk)("div",h,[(0,l.Lk)("div",E,[(0,l.bF)(k,{modelValue:e.infoDetalleConfig.ESTADO,"onUpdate:modelValue":n[3]||(n[3]=function(n){return e.infoDetalleConfig.ESTADO=n}),"true-value":1,"false-value":0},{default:(0,l.k6)(function(){return r()(n[12]||(n[12]=[(0,l.eW)("Activo",-1)]))}),_:1},8,["modelValue"])]),(0,l.Lk)("div",b,[(0,l.bF)(D,{class:"col q-if-outlined",modelValue:e.infoDetalleConfig.DESCRIPCION,"onUpdate:modelValue":n[4]||(n[4]=function(n){return e.infoDetalleConfig.DESCRIPCION=n}),"float-label":"Descripción"},null,8,["modelValue"])]),(0,l.Lk)("div",I,[(0,l.bF)(V,{class:"col",type:"outlined",modelValue:e.infoDetalleConfig.TIPO_PERSONAL,"onUpdate:modelValue":n[5]||(n[5]=function(n){return e.infoDetalleConfig.TIPO_PERSONAL=n}),options:e.cargos,label:"TIPNOM",val:"TIPCOD",placeholder:"Perfil"},null,8,["modelValue","options"]),(0,l.bF)(D,{class:"q-if-outlined",modelValue:e.infoDetalleConfig.ORDEN,"onUpdate:modelValue":n[6]||(n[6]=function(n){return e.infoDetalleConfig.ORDEN=n}),type:"number"},null,8,["modelValue"])]),e.configuracion.length>0?((0,l.uX)(),(0,l.CE)("div",g,[(0,l.bF)(R,{class:"col q-if-outlined",modelValue:e.infoDetalleConfig.ID_REQUERIDO,"onUpdate:modelValue":n[7]||(n[7]=function(n){return e.infoDetalleConfig.ID_REQUERIDO=n}),options:e.configuracionSelect,"float-label":"Requerido"},null,8,["modelValue","options"])])):(0,l.Q3)("v-if",!0)])]}),_:1},8,["modelValue"]),(0,l.bF)(M,{modelValue:e.modalOrdenar,"onUpdate:modelValue":n[11]||(n[11]=function(n){return e.modalOrdenar=n}),title:"Ordenar",onSubmit:e.saveOrden},{default:(0,l.k6)(function(){return[n[14]||(n[14]=(0,l.Lk)("div",{class:"q-table-middle"},null,-1)),(0,l.Lk)("table",C,[(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,[(0,l.bF)(P,{name:"import_export",size:"20px"})]),n[13]||(n[13]=(0,l.Lk)("th",{class:"text-bold"},"Validacion",-1))])]),(0,l.bF)(Q,{modelValue:e.infoOrdenar,"onUpdate:modelValue":n[10]||(n[10]=function(n){return e.infoOrdenar=n}),tag:"tbody"},{default:(0,l.k6)(function(){return[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.infoOrdenar,function(e,n){return(0,l.uX)(),(0,l.CE)("tr",{key:e.ID},[(0,l.Lk)("td",T,[(0,l.bF)(P,{name:"blur_on",size:"20px"})]),(0,l.Lk)("td",null,(0,s.v_)(e.DESCRIPCION),1)])}),128))]}),_:1},8,["modelValue"])])]}),_:1},8,["modelValue","onSubmit"])])}var k=o(57008),D=o.n(k),V=(o(10239),o(90095),o(13715),o(83972)),R=o(93616),M=o(80660),P=o(39231),Q=o(30640),N=o(982),S=o(82640),_=P.Hi,F={setup:function(){var e=(0,V.fG)();return{v$:e}},components:{QSelect:i.Si,QToggle:i.c5,QCheckbox:i.vZ,QBtnToggle:i.QL,QRadio:i.$,QTable:a.A,QTh:i.EJ,QTr:i.qh,QTd:i.Ef,QTableColumns:i.$s,QPopupEdit:i.GT,QChip:i.wQ,QFabAction:i.B$,QPageSticky:i._U,QFab:i.l6,QDatetime:i.T5,QTab:i.zu,QTabs:i.uw,draggable:_,sieModal:Q.A,sieSelect:R.A,QCard:i.C$,QSearch:i.Ks,QBtn:i.Il,QInput:i.ie,QIcon:i.bP},data:function(){return{sie:(0,d["default"])(),motivos:[],filter:null,infoOrdenar:[],filterPasos:null,indexSelect:null,selectName:null,configuracion:[],modalAddConfig:!1,modalOrdenar:!1,infoDetalleConfig:{},cargos:[],columnsMotivos:[{name:"DESCRIPCION",label:"Motivo",field:"DESCRIPCION",align:"left",sortable:!0}],columnsConfig:[{name:"DESCRIPCION",label:"Descrpción",field:"DESCRIPCION",align:"left",sortable:!0},{name:"CARNOM",label:"Cargo",field:"CARNOM",align:"left"},{name:"ESTADO",label:"Activo",field:"ESTADO",align:"center"},{name:"REQUERIDO",label:"Requerido",field:"REQUERIDO",align:"left"}],alto:50}},methods:{handleResize:function(){this.alto=window.innerHeight-300},init:function(){var e=this;M.$http.get("api/HyoRpmotivos/getMotivos").then(function(n){var o=n.json;e.motivos=Array.isArray(o)?o:[]})},seleccionarIndice:function(e){var n=this,o=e.ID,l=e.DESCRIPCION;this.indexSelect=o,this.selectName=l,M.$http.get("api/HyoRpmotivos/obtConf",{params:{ID_MOTIVO:o}}).then(function(e){var o=e.json;n.configuracion=o})},deleteIndividual:function(e){var n=this,o=e.ID,l=e.ID_MOTIVO;M.$http.post("api/HyoRpmotivos/deletePaso",{ID:o}).then(function(e){var o=e.json;(0,N["default"])(n.$t(o.msg),o.type),o.type||n.seleccionarIndice({ID:l,DESCRIPCION:n.selectName})})},savePasos:function(e){var n=this;e.DESCRIPCION?e.TIPO_PERSONAL?M.$http.post("api/HyoRpmotivos/saveJustificacion",e).then(function(e){var o=e.json;o.type||(n.seleccionarIndice({ID:n.indexSelect,DESCRIPCION:n.selectName}),n.modalAddConfig=!1),(0,N["default"])(n.$t("mensajes."+o.msg),o.type)}):(0,N["default"])("Debe Seleccionar un perfil","error"):(0,N["default"])("Debe ingresar una descripción","error")},saveOrden:function(){var e=this,n=[];this.infoOrdenar.forEach(function(e,o){o+1!==e.ORDEN&&n.push({ID:e.ID,ORDEN:o+1})}),n.length>0?M.$http.post("api/HyoRpmotivos/ordenarPasos",{info:n}).then(function(n){var o=n.json;(0,N["default"])(o.msg,o.type),o.type||(e.seleccionarIndice({ID:e.indexSelect,DESCRIPCION:e.selectName}),e.modalOrdenar=!1)}):(0,N["default"])("No hay cambios por guardar","error")},openModalOrdenar:function(){this.modalOrdenar=!0,this.infoOrdenar=r()(this.configuracion)},openModalAdd:function(e){this.modalAddConfig=!0,this.infoDetalleConfig=e?D()({},e):{ID_MOTIVO:this.indexSelect,DESCRIPCION:null,TIPO_PERSONAL:null,ORDEN:this.configuracion.length+1,ESTADO:1,ID_REQUERIDO:null}}},computed:{configuracionSelect:function(){var e=this,n=[];return this.configuracion.forEach(function(o){var l=o.ID,t=o.DESCRIPCION;e.infoDetalleConfig.ID!==l&&n.push({value:l,label:t})}),n},maxLista:function(){var e=this.alto-200;return e/20},buttons:function(){var e=[];return 3===this.sie.ruta.nivel&&e.unshift({label:"Grabar",icon:"save",click:this.grabarJustificacion}),e}},unmounted:function(){window.removeEventListener("resize",this.handleResize)},validations:function(){var e={dataRechazo:{DETALLE_RECHAZO:{required:S.mw}}};return e},watch:{"infoAdd.instrucod":function(e){this.infoAdd.gradocod=null,this.infoAdd.seccioncod=null,this.alumnos=[],this.infoAdd.alucod=null},"this.infoAdd.gradocod":function(e){this.infoAdd.seccioncod=null,this.alumnos=[],this.infoAdd.alucod=null}},mounted:function(){var e=this;window.addEventListener("resize",this.handleResize),this.handleResize(),this.init(),M.$http.get("api/HyoPerfiles/obtPerfilesExistentes",{params:{unicos:!0}}).then(function(n){var o=n.json;e.cargos=o})},created:function(){(0,d["default"])().ruta.nivel>=2&&this.columnsConfig.push({name:"EDIT",field:"EDIT",align:"center"})}},y=o(12807);const w=(0,y.A)(F,[["render",O]]);var L=w,q={class:"col"},U={class:"row q-ma-sm q-pa-sm"},$={class:"q-ma-sm"},z={class:"row justify-end"},x={class:"row"},G={class:"row"},H={key:0,class:"row"},X={key:0,class:"q-ma-xs"},j={class:"col row"},W={class:"col q-px-xs q-mx-xs q-mb-sm border-field"},B={class:"leyenda"},J={class:"col row wrap justify-between q-ma-xs"};function K(e,n){var o=(0,l.g2)("q-search"),t=(0,l.g2)("q-btn"),i=(0,l.g2)("q-card"),a=(0,l.g2)("q-toggle"),d=(0,l.g2)("q-td"),u=(0,l.g2)("q-table"),c=(0,l.g2)("q-input"),f=(0,l.g2)("q-select"),m=(0,l.g2)("sie-modal"),p=(0,l.g2)("sie-editor");return(0,l.uX)(),(0,l.CE)("div",q,[(0,l.bF)(i,null,{default:(0,l.k6)(function(){return[(0,l.Lk)("div",U,[(0,l.bF)(o,{class:"col",modelValue:e.filter,"onUpdate:modelValue":n[0]||(n[0]=function(n){return e.filter=n})},null,8,["modelValue"]),e.isEdit?((0,l.uX)(),(0,l.Wv)(t,{key:0,flat:"",dense:"",round:"",icon:"add",onClick:n[1]||(n[1]=function(n){return e.openModal()})})):(0,l.Q3)("v-if",!0),e.seleccionados.length>=2&&e.isEdit?((0,l.uX)(),(0,l.Wv)(t,{key:1,flat:"",dense:"",round:"",onClick:n[2]||(n[2]=function(n){return e.deleteGrupal(e.seleccionados)}),icon:"delete"})):(0,l.Q3)("v-if",!0)])]}),_:1}),(0,l.bF)(u,{style:{height:"75vh"},data:e.motivos,columns:e.columns,"row-key":"ID",filter:e.filter,selection:e.isEdit?"multiple":"none",selected:e.seleccionados,"onUpdate:selected":n[3]||(n[3]=function(n){return e.seleccionados=n})},{"body-cell-PERMIT_EMERGENCIA":(0,l.k6)(function(e){return[(0,l.bF)(d,{props:e},{default:(0,l.k6)(function(){return[(0,l.bF)(a,{modelValue:e.row.PERMIT_EMERGENCIA,"onUpdate:modelValue":function(n){return e.row.PERMIT_EMERGENCIA=n},"true-value":1,"false-value":0,disable:"",color:"secondary"},null,8,["modelValue","onUpdate:modelValue"])]}),_:2},1032,["props"])]}),"body-cell-FAMILIA":(0,l.k6)(function(e){return[(0,l.bF)(d,{props:e},{default:(0,l.k6)(function(){return[(0,l.bF)(a,{modelValue:e.row.FAMILIA,"onUpdate:modelValue":function(n){return e.row.FAMILIA=n},"true-value":1,"false-value":0,disable:"",color:"secondary"},null,8,["modelValue","onUpdate:modelValue"])]}),_:2},1032,["props"])]}),"body-cell-PERSONAL":(0,l.k6)(function(e){return[(0,l.bF)(d,{props:e},{default:(0,l.k6)(function(){return[(0,l.bF)(a,{modelValue:e.row.PERSONAL,"onUpdate:modelValue":function(n){return e.row.PERSONAL=n},"true-value":1,"false-value":0,disable:"",color:"secondary"},null,8,["modelValue","onUpdate:modelValue"])]}),_:2},1032,["props"])]}),"body-cell-EDIT":(0,l.k6)(function(n){return[(0,l.bF)(d,{props:n},{default:(0,l.k6)(function(){return[(0,l.bF)(t,{flat:"",dense:"",round:"",onClick:function(o){return e.openModalAlerta(n.row)},icon:"notifications"},null,8,["onClick"]),e.isEdit?((0,l.uX)(),(0,l.Wv)(t,{key:0,flat:"",dense:"",round:"",onClick:function(o){return e.openModal(n.row)},icon:"edit"},null,8,["onClick"])):(0,l.Q3)("v-if",!0),e.seleccionados.length<2&&e.isEdit?((0,l.uX)(),(0,l.Wv)(t,{key:1,flat:"",dense:"",round:"",onClick:function(o){return e.deleteIndividual(n.row)},icon:"delete"},null,8,["onClick"])):(0,l.Q3)("v-if",!0)]}),_:2},1032,["props"])]}),_:1},8,["data","columns","filter","selection","selected"]),(0,l.bF)(m,{modelValue:e.modalAdd,"onUpdate:modelValue":n[13]||(n[13]=function(n){return e.modalAdd=n}),title:e.titleModal,onSubmit:e.saveMotivo},{default:(0,l.k6)(function(){return[(0,l.Lk)("div",$,[(0,l.Lk)("div",z,[(0,l.bF)(a,{modelValue:e.infoAdd.ESTADO,"onUpdate:modelValue":n[4]||(n[4]=function(n){return e.infoAdd.ESTADO=n}),"true-value":1,"false-value":0,color:"secondary"},{default:(0,l.k6)(function(){return r()(n[18]||(n[18]=[(0,l.eW)("Activo",-1)]))}),_:1},8,["modelValue"])]),(0,l.bF)(c,{class:"q-if-outlined",modelValue:e.infoAdd.DESCRIPCION,"onUpdate:modelValue":n[5]||(n[5]=function(n){return e.infoAdd.DESCRIPCION=n}),"float-label":"Descripción"},null,8,["modelValue"]),(0,l.Lk)("div",x,[(0,l.bF)(c,{class:"col q-if-outlined",modelValue:e.infoAdd.TIME,"onUpdate:modelValue":n[6]||(n[6]=function(n){return e.infoAdd.TIME=n}),"float-label":"Tiempo"},null,8,["modelValue"]),(0,l.bF)(f,{class:"q-if-outlined",modelValue:e.infoAdd.TIPO_ANT,"onUpdate:modelValue":n[7]||(n[7]=function(n){return e.infoAdd.TIPO_ANT=n}),options:e.modoAnticip},null,8,["modelValue","options"])]),(0,l.Lk)("div",G,[(0,l.bF)(a,{class:"col",modelValue:e.infoAdd.FAMILIA,"onUpdate:modelValue":n[8]||(n[8]=function(n){return e.infoAdd.FAMILIA=n}),"true-value":1,"false-value":0,color:"secondary"},{default:(0,l.k6)(function(){return r()(n[19]||(n[19]=[(0,l.eW)("Familia",-1)]))}),_:1},8,["modelValue"]),(0,l.bF)(a,{class:"col",modelValue:e.infoAdd.PERSONAL,"onUpdate:modelValue":n[9]||(n[9]=function(n){return e.infoAdd.PERSONAL=n}),"true-value":1,"false-value":0,color:"secondary"},{default:(0,l.k6)(function(){return r()(n[20]||(n[20]=[(0,l.eW)("Personal",-1)]))}),_:1},8,["modelValue"])]),(0,l.bF)(a,{modelValue:e.infoAdd.PERMIT_EMERGENCIA,"onUpdate:modelValue":n[10]||(n[10]=function(n){return e.infoAdd.PERMIT_EMERGENCIA=n}),"true-value":1,"false-value":0,color:"secondary"},{default:(0,l.k6)(function(){return r()(n[21]||(n[21]=[(0,l.eW)("Permite Emergencia",-1)]))}),_:1},8,["modelValue"]),1===e.infoAdd.PERMIT_EMERGENCIA?((0,l.uX)(),(0,l.CE)("div",H,[(0,l.bF)(c,{class:"col q-if-outlined",modelValue:e.infoAdd.TIME_EME,"onUpdate:modelValue":n[11]||(n[11]=function(n){return e.infoAdd.TIME_EME=n}),"float-label":"Tiempo"},null,8,["modelValue"]),(0,l.bF)(f,{class:"q-if-outlined",modelValue:e.infoAdd.TIPO_ANT_EME,"onUpdate:modelValue":n[12]||(n[12]=function(n){return e.infoAdd.TIPO_ANT_EME=n}),options:e.modoAnticip},null,8,["modelValue","options"])])):(0,l.Q3)("v-if",!0)])]}),_:1},8,["modelValue","title","onSubmit"]),(0,l.bF)(m,{modelValue:e.modalAlerta,"onUpdate:modelValue":n[17]||(n[17]=function(n){return e.modalAlerta=n}),title:"Alertas",onSubmit:e.saveAlertas,footer:e.isEdit},{default:(0,l.k6)(function(){return[e.infoAlerta[e.tipoAlerta]?((0,l.uX)(),(0,l.CE)("div",X,[(0,l.bF)(f,{class:"q-if-outlined",modelValue:e.tipoAlerta,"onUpdate:modelValue":n[14]||(n[14]=function(n){return e.tipoAlerta=n}),options:e.tiposAlerta,"float-label":"Tipo"},null,8,["modelValue","options"]),(0,l.bF)(c,{class:"q-if-outlined",modelValue:e.infoAlerta[e.tipoAlerta].ASUNTO,"onUpdate:modelValue":n[15]||(n[15]=function(n){return e.infoAlerta[e.tipoAlerta].ASUNTO=n}),"float-label":"Asunto"},null,8,["modelValue"]),(0,l.Lk)("div",j,[(0,l.Lk)("fieldset",W,[(0,l.Lk)("legend",B,(0,s.v_)(e.$t("biblioteca.campos")),1),(0,l.Lk)("div",J,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.etiquetas,function(n){return(0,l.uX)(),(0,l.CE)("div",{key:n.id,class:"col-5"},[(0,l.Lk)("b",null,(0,s.v_)(e.$t(n.id)+": "),1),(0,l.Lk)("span",null,(0,s.v_)(n.valor),1)])}),128))])])]),(0,l.bF)(p,{class:"col",modelValue:e.infoAlerta[e.tipoAlerta].CONTENIDO,"onUpdate:modelValue":n[16]||(n[16]=function(n){return e.infoAlerta[e.tipoAlerta].CONTENIDO=n}),label:e.$t("matricula.mensaje")},null,8,["modelValue","label"])])):(0,l.Q3)("v-if",!0)]}),_:1},8,["modelValue","onSubmit","footer"])])}var Z=o(6083),Y=o(69027),ee={setup:function(){var e=(0,V.fG)();return{v$:e}},components:{QSelect:i.Si,QToggle:i.c5,QCheckbox:i.vZ,QBtnToggle:i.QL,QRadio:i.$,QTable:a.A,QTh:i.EJ,QTr:i.qh,QTd:i.Ef,QTableColumns:i.$s,QPopupEdit:i.GT,QChip:i.wQ,QFabAction:i.B$,QPageSticky:i._U,QFab:i.l6,QDatetime:i.T5,QTab:i.zu,QTabs:i.uw,sieModal:Q.A,sieEditor:Z.A,QCard:i.C$,QSearch:i.Ks,QBtn:i.Il,QInput:i.ie},data:function(){return{sie:(0,d["default"])(),isEdit:(0,d["default"])().ruta.nivel>2,modalAdd:!1,modalAlerta:!1,infoAlerta:{},tipoAlerta:1,tiposAlerta:[{value:1,label:"Generador"},{value:2,label:"Validador"}],titleModal:"",infoAdd:{},modoAnticip:[{value:1,label:"Minutos"},{value:2,label:"Horas"}],tabs:[{label:"Autorización",value:"autorizacion"},{label:"Motivos",value:"motivos"}],tabSelect:"autorizacion",motivos:[],filter:null,seleccionados:[],etiquetas:[{id:"Perfil",valor:"{{PERFIL}}"},{id:"Usuario",valor:"{{USUARIO}}"},{id:"Motivo",valor:"{{MOTIVO}}"},{id:"Estudiante",valor:"{{NOMCOMP}}"},{id:"Fecha de salida",valor:"{{FECHA}}"}],columns:[{name:"DESCRIPCION",label:"Motivo",field:"DESCRIPCION",align:"left",sortable:!0},{name:"ANTICIPACION",label:"Anticipación",field:"ANTICIPACION",align:"center"},{name:"PERMIT_EMERGENCIA",label:"Emergencia",field:"PERMIT_EMERGENCIA",align:"center"},{name:"FAMILIA",label:"Familia",field:"FAMILIA",align:"center"},{name:"PERSONAL",label:"Personal",field:"PERSONAL",align:"center"},{name:"ANT_EME",label:"Anticip. Emergencia",field:"ANT_EME",align:"center"},{name:"EDIT",field:"EDIT",align:"center"}]}},methods:{openModalAlerta:function(e){var n=this;this.modalAlerta=!0,M.$http.get("api/HyoRpalertas/getAlertas",{params:{ID_MOTIVO:e.ID}}).then(function(e){var o=e.json;n.infoAlerta=o})},saveAlertas:function(){var e=this,n=this.infoAlerta[this.tipoAlerta];M.$http.post("api/HyoRpalertas/saveAlerta",n).then(function(n){var o=n.json;(0,N["default"])(e.$t("mensajes."+o),"m0001"===o?"success":"error")})},handleResize:function(){this.alto=window.innerHeight-105},init:function(){var e=this;M.$http.get("api/HyoRpmotivos/getMotivos").then(function(n){var o=n.json;e.motivos=Array.isArray(o)?o:[],e.seleccionados=[]})},deleteIndividual:function(e){var n=e.ID;this.deleteMotivo([{ID:n}])},deleteGrupal:function(e){this.deleteMotivo(e)},deleteMotivo:function(e){var n=this;(0,Y.dialogDelete)().then(function(o){o&&M.$http.post("api/HyoRpmotivos/deleteMotivos",{info:e}).then(function(e){var o=e.json;(0,N["default"])(n.$t(o.msg),o.type),o.type||n.init()})})},openModal:function(e){e?(this.infoAdd=e,this.infoAdd.TIME=this.infoAdd.ANTICIP,this.infoAdd.ANT_EME=this.infoAdd.ANT_EME,this.titleModal="Editar Motivo"):(this.titleModal="Agregar Motivo",this.infoAdd={DESCRIPCION:null,TIME:60,TIPO_ANT:1,PERMIT_EMERGENCIA:0,FAMILIA:1,PERSONAL:1,TIME_EME:60,TIPO_ANT_EME:1,ESTADO:1}),this.modalAdd=!0},saveMotivo:function(){var e=this,n=D()({},this.infoAdd);n.DESCRIPCION?(0,Y.dialogConfirm)({message:"¿Esta seguro de guardar esta información?"}).then(function(o){o&&M.$http.post("api/HyoRpmotivos/saveMotivos",n).then(function(o){var l=o.json;l.type||(e.init(),e.modalAdd=!1),(0,N["default"])(e.$t("mensajes."+l.msg),l.type),n.ID||M.$http.post("api/HyoRpalertas/saveAlerta",{ID_MOTIVO:l.ID})})}):(0,N["default"])("Debe ingresar una descipcion","error")},calcularAnticip:function(e,n){switch(e){case 1:this.infoAdd["TIME"+n]=60*this.infoAdd["TIME"+n];break;case 2:this.infoAdd["TIME"+n]=this.infoAdd["TIME"+n]/60;break}}},computed:{maxLista:function(){var e=this.alto-200;return e/20},buttons:function(){var e=[];return 3===this.sie.ruta.nivel&&e.unshift({label:"Grabar",icon:"save",click:this.grabarJustificacion}),e}},unmounted:function(){window.removeEventListener("resize",this.handleResize)},validations:function(){},watch:{"infoAdd.TIME":function(){},"infoAdd.TIPO_ANT":function(e){this.calcularAnticip(e)},"infoAdd.TIPO_ANT_EME":function(e){this.calcularAnticip(e,"_EME")},"infoAdd.instrucod":function(e){this.infoAdd.gradocod=null,this.infoAdd.seccioncod=null,this.alumnos=[],this.infoAdd.alucod=null},"this.infoAdd.gradocod":function(e){this.infoAdd.seccioncod=null,this.alumnos=[],this.infoAdd.alucod=null}},created:function(){window.addEventListener("resize",this.handleResize),this.handleResize(),this.init()},mounted:function(){}};const ne=(0,y.A)(ee,[["render",K]]);var oe=ne,le={components:{QSelect:i.Si,QToggle:i.c5,QCheckbox:i.vZ,QBtnToggle:i.QL,QRadio:i.$,QTable:a.A,QTh:i.EJ,QTr:i.qh,QTd:i.Ef,QTableColumns:i.$s,QPopupEdit:i.GT,QChip:i.wQ,QFabAction:i.B$,QPageSticky:i._U,QFab:i.l6,QDatetime:i.T5,QTab:i.zu,QTabs:i.uw,autorizacion:L,motivos:oe,QPage:i.Tu},data:function(){return{sie:(0,d["default"])(),tabs:[{label:"Autorización",value:"autorizacion"},{label:"Motivos",value:"motivos"}],tabSelect:"autorizacion"}},methods:{handleResize:function(){this.alto=window.innerHeight-105}},computed:{maxLista:function(){var e=this.alto-200;return e/20},buttons:function(){var e=[];return 3===this.sie.ruta.nivel&&e.unshift({label:"Grabar",icon:"save",click:this.grabarJustificacion}),e}},unmounted:function(){window.removeEventListener("resize",this.handleResize)},watch:{"infoAdd.instrucod":function(e){this.infoAdd.gradocod=null,this.infoAdd.seccioncod=null,this.alumnos=[],this.infoAdd.alucod=null},"this.infoAdd.gradocod":function(e){this.infoAdd.seccioncod=null,this.alumnos=[],this.infoAdd.alucod=null}},created:function(){window.addEventListener("resize",this.handleResize),this.handleResize()}};const te=(0,y.A)(le,[["render",t]]);var ie=te}}]);