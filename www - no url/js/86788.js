"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[86788],{86788:function(a,e,t){t.r(e),t.d(e,{default:function(){return D}});var s=t(8445),n=t.n(s),r=t(61758),i=t(58790),l={ref:"audioOk",src:"statics/sound/ok.mp3"},u={ref:"audioInfo",src:"statics/sound/duplicate.mp3"},o={ref:"audioError",src:"statics/sound/error.mp3"},c={key:0,class:"column col q-ma-sm q-card"},d={class:"column justify-center text-center q-py-md",style:{"font-size":"x-large"}},f={class:"row justify-center"},k={key:0,class:"col"},m={key:1,class:"col q-ma-sm"},L=["color"],A={class:"row"},b={class:"q-mr-xs"};function p(a,e){var t=(0,r.g2)("q-clock"),s=(0,r.g2)("q-input"),p=(0,r.g2)("qr"),v=(0,r.g2)("q-item-tile"),g=(0,r.g2)("q-item-main"),q=(0,r.g2)("q-item"),C=(0,r.g2)("q-list"),h=(0,r.g2)("q-page");return(0,r.uX)(),(0,r.Wv)(h,null,{default:(0,r.k6)(function(){return[(0,r.Lk)("audio",l,null,512),(0,r.Lk)("audio",u,null,512),(0,r.Lk)("audio",o,null,512),a.feriados?(0,r.Q3)("v-if",!0):((0,r.uX)(),(0,r.CE)("div",c,[(0,r.Lk)("div",d,[(0,r.bF)(t)]),(0,r.Lk)("div",f,[(0,r.bF)(s,{class:"no-bottom q-if-outlined txt-especial",modelValue:a.usucod,"onUpdate:modelValue":e[0]||(e[0]=function(e){return a.usucod=e}),autofocus:!0,"stack-label":"qr"==a.tipoLectura?"Usuario":"DNI",onKeydown:a.registraPistola},null,8,["modelValue","stack-label","onKeydown"])]),(0,r.Lk)("div",{class:(0,i.C4)(["col",{row:!a.isLess,column:a.isLess}])},[!a.sinCamara&&["qr","id"].indexOf(a.tipoLectura)>=0?((0,r.uX)(),(0,r.CE)("div",k,[["qr","id"].indexOf(a.tipoLectura)>=0?((0,r.uX)(),(0,r.Wv)(p,{key:0,onLeeQr:a.leerRegistro,cargaAnterior:a.cargaAnterior},null,8,["onLeeQr","cargaAnterior"])):(0,r.Q3)("v-if",!0)])):(0,r.Q3)("v-if",!0),a.dataAsistencia.ALUCOD?((0,r.uX)(),(0,r.CE)("div",m,[(0,r.bF)(C,{class:"q-card",style:(0,i.Tr)({color:a.dataAsistencia.COLORHEXT,"background-color":a.dataAsistencia.COLORHEXF})},{default:(0,r.k6)(function(){return[(0,r.bF)(q,null,{default:(0,r.k6)(function(){return[(0,r.bF)(g,null,{default:(0,r.k6)(function(){return[(0,r.Lk)("div",{class:"col",color:a.dataAsistencia.COLORVUE},n()(e[1]||(e[1]=[(0,r.Lk)("b",null,"Ingreso al Colegio",-1)])),8,L),(0,r.bF)(v,null,{default:(0,r.k6)(function(){return[(0,r.Lk)("div",A,[(0,r.Lk)("b",null,(0,i.v_)(a.dataAsistencia.NOMCOMP),1)])]}),_:1}),0===a.tipoSelect?((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[(0,r.bF)(v,{class:"row",sublabel:""},{default:(0,r.k6)(function(){return[e[2]||(e[2]=(0,r.Lk)("b",{class:"q-mr-xs"},"Hora de Ingreso:",-1)),(0,r.Lk)("span",null,(0,i.v_)(a.date(a.dataAsistencia.HORA,"hh:mm a")),1)]}),_:1}),(0,r.bF)(v,{class:"row",sublabel:""},{default:(0,r.k6)(function(){return[e[3]||(e[3]=(0,r.Lk)("b",{class:"q-mr-xs"},"Registrado:",-1)),(0,r.Lk)("span",null,(0,i.v_)(a.date(a.dataAsistencia.FECREG,"DD/MM/YYYY hh:mm a")),1)]}),_:1}),(0,r.bF)(v,{class:"row",sublabel:""},{default:(0,r.k6)(function(){return[e[4]||(e[4]=(0,r.Lk)("b",{class:"q-mr-xs"},"Datos del Padre:",-1)),(0,r.Lk)("span",null,(0,i.v_)(a.dataAsistencia.PADNOM),1)]}),_:1}),(0,r.bF)(v,{class:"row",sublabel:""},{default:(0,r.k6)(function(){return[e[5]||(e[5]=(0,r.Lk)("b",{class:"q-mr-xs"},"Datos de la Madre:",-1)),(0,r.Lk)("span",null,(0,i.v_)(a.dataAsistencia.MADNOM),1)]}),_:1}),a.dataAsistencia.APONOM?((0,r.uX)(),(0,r.Wv)(v,{key:0,class:"row",sublabel:""},{default:(0,r.k6)(function(){return[e[6]||(e[6]=(0,r.Lk)("b",{class:"q-mr-xs"},"Datos del Apoderado:",-1)),(0,r.Lk)("span",null,(0,i.v_)(a.dataAsistencia.APONOM),1)]}),_:1})):(0,r.Q3)("v-if",!0)],64)):(0,r.Q3)("v-if",!0)]}),_:1})]}),_:1}),a.dataAsistencia.TALLERES?((0,r.uX)(),(0,r.Wv)(q,{key:0},{default:(0,r.k6)(function(){return[(0,r.bF)(g,null,{default:(0,r.k6)(function(){return[(0,r.bF)(v,null,{default:(0,r.k6)(function(){return n()(e[7]||(e[7]=[(0,r.Lk)("div",{class:"row"},[(0,r.Lk)("b",null,"Lista de Talleres")],-1)]))}),_:1}),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.dataAsistencia.TALLERES,function(a){return(0,r.uX)(),(0,r.Wv)(v,{class:"row",sublabel:""},{default:(0,r.k6)(function(){return[(0,r.Lk)("b",b,(0,i.v_)(a.TALLERES),1)]}),_:2},1024)}),256))]}),_:1})]}),_:1})):(0,r.Q3)("v-if",!0)]}),_:1},8,["style"])])):(0,r.Q3)("v-if",!0)],2)]))]}),_:1})}var v=t(76080),g=t.n(v),q=t(45254),C=t.n(q),h=t(6123),w=t(57668),Q=t(80340),_=t(30640),O=t(93616),y=t(65818),E=t(23527),F=t(18105),R=t(982),M=t(81288),x={components:{QSelect:h.Si,sieModal:_.A,qr:E.A,sieVacio:Q.A,QToggle:h.c5,QCheckbox:h.vZ,QBtnToggle:h.QL,sieSelect:O.A,QRadio:h.$,QClock:y.A,QPage:h.Tu,QInput:h.ie,QList:h.Mb,QItem:h.H0,QItemMain:h.mF,QItemTile:h.lp},data:function(){return{now:new Date,sie:(0,w["default"])(),tipoLectura:"qr",sinCamara:!1,cargaAnterior:!1,camera:"auto",usucod:"",modRegistro:0,dataAsistencia:{},dataAlumnos:{},dataSalones:{},feriados:null,estados:{},tipoSelect:0,editar:!1,permiteSalida:!1}},watch:{tipoSelect:function(a){this.$http.put("api/HyoControl/updateControl",{campo:"alumnoES",numero:a})}},methods:{date:F.Ay,marcarAsistencia:function(a){var e=this;return(0,R["default"])(a),this.$http.post("api/AsistenciaColegioController/marcarAsistencia",{codigo:a}).then(function(a){e.dataAsistencia=a.data;var t=200===a.code?"success":"warning";(0,R["default"])(a.message,t),e.$refs.audioOk.play()}).catch(function(a){var t=a.error;e.dataAsistencia={},(0,R["default"])(t.message,"error"),e.$refs.audioError.play()})},leerRegistro:function(a,e,t){var s=this;return C()(g()().m(function t(){var n;return g()().w(function(t){while(1)switch(t.n){case 0:if(a){t.n=1;break}return t.a(2,!1);case 1:a=a.toUpperCase();case 2:return s.usucod=a,t.n=3,s.marcarAsistencia(a);case 3:if(n=1,!n){t.n=4;break}return t.a(2,!1);case 4:s.dataAsistencia={},a||(s.sinCamara=e),s.cargaAnterior=!0,s.usucod=null;case 5:return t.a(2)}},t)}))()},registraPistola:function(a){13===a.which&&this.leerRegistro(this.usucod)}},computed:{isLess:function(){return(0,M.isLess)()}}},S=t(12807);const X=(0,S.A)(x,[["render",p]]);var D=X}}]);