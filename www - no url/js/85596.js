"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[85596],{85596:function(n,e,t){t.r(e),t.d(e,{default:function(){return w}});var l=t(61758),o={class:"row q-col-gutter-sm"},a={class:"col-xs-12 col-sm-6 col-md-4 col-xl-3"},i={class:"col-xs-12"};function c(n,e){var t=this,c=(0,l.g2)("header-btn"),u=(0,l.g2)("q-spinner-oval"),r=(0,l.g2)("q-inner-loading"),s=(0,l.g2)("q-select"),m=(0,l.g2)("sie-table"),d=(0,l.g2)("q-card-section"),f=(0,l.g2)("q-card"),A=(0,l.g2)("q-page");return(0,l.uX)(),(0,l.Wv)(A,null,{default:(0,l.k6)(function(){return[(0,l.bF)(f,null,{default:(0,l.k6)(function(){return[(0,l.bF)(c,{name:"Ubicaci贸n de Alumno en Familia",buttons:n.buttons},null,8,["buttons"]),(0,l.bF)(d,null,{default:(0,l.k6)(function(){return[(0,l.bF)(r,null,{default:(0,l.k6)(function(){return[(0,l.bF)(u,{size:"50px",color:"primary"})]}),_:1}),(0,l.Lk)("div",o,[(0,l.Lk)("div",a,[(0,l.bF)(s,{modelValue:n.tipoAlumno,"onUpdate:modelValue":e[0]||(e[0]=function(e){return n.tipoAlumno=e}),options:n.tipoAlumnos,label:"Alumnos"},null,8,["modelValue","options"])]),(0,l.Lk)("div",i,[(0,l.bF)(m,{class:"planCurricular",selection:"single",context:t,css:"height:calc(100vh - 140px)",search:"Buscar Alumno",columns:n.columns,onRowSelected:n.rowSelected,data:n.rows,config:n.config},null,8,["columns","onRowSelected","data","config"])])])]}),_:1})]}),_:1})]}),_:1})}var u=t(76080),r=t.n(u),s=t(45254),m=t.n(s),d=(t(52133),t(50310),t(6724),t(83190),t(81288)),f={data:function(){return{config:{REPCOD:{component:"checkbox",input:function(n){return m()(r()().m(function e(){return r()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,(0,d.sleep)(5e3);case 1:return console.log("FALSE FALSE",n),e.a(2,!1)}},e)}))()}}},columns:[{name:"FAMCOD",label:"C贸digo Fam",field:"FAMCOD",align:"left"},{name:"FAMDES",label:"FAmilia",field:"FAMDES",align:"left"},{name:"POSICION",label:"Ubicaci贸n",field:"POSICION",align:"left"},{name:"ALUCOD",label:"C贸digo alumno",field:"ALUCOD",align:"left"},{name:"NOMCOMP",label:"Alumno",field:"NOMCOMP",align:"left"},{name:"FECNAC",label:"Fecha de Nacimiento",field:"FECNAC",align:"left"}]}}},A=t(88865),p=t(95718),g=t(6123),b=t(16648),h=t(80660),C={getAlumnoUbicacion:function(n){return h.$http.get("api/FamiliaController/getUbicacionAlumno",{params:{params:{tipo:n}}})},procesarUbicacion:function(n){return h.$http.post("api/FamiliaController/procesarUbicacionAlumno",{params:{tipo:n}})}},v={components:{QSelect:b.A,QItemSection:A.A,QCardSection:p.A,QInnerLoading:g.SQ,QSpinnerOval:g.VA,QPage:g.Tu,QCard:g.C$},mixins:[f],data:function(){return{dataAlumno:[],buttons:[{icon:"cogs",label:"Procesar",click:this.procesar}],tipoAlumnos:[{label:"Matriculados",value:"S"},{label:"Todos",value:"T"},{label:"Matriculados y Nuevos",value:"MN"}],tipoAlumno:"S"}},computed:{rows:function(){var n=[];return"S"===this.tipoAlumno?this.dataAlumno.map(function(e){"S"===e.MATRICULA&&(n[n.length]=e)}):"T"===this.tipoAlumno?n=this.dataAlumno:this.dataAlumno.map(function(e){("S"===e.MATRICULA||"N"===e.MATRICULA&&"P"===e.ESTADO)&&(n[n.length]=e)}),n}},methods:{procesar:function(){var n=this;return m()(r()().m(function e(){var t,l,o,a;return r()().w(function(e){while(1)switch(e.p=e.n){case 0:return e.p=0,e.n=1,C.procesarUbicacion(n.tipoAlumno);case 1:t=e.v,l=t.message,n.$notify(l,"success"),n.getAlumnos(),e.n=3;break;case 2:e.p=2,a=e.v,o=a.error,n.$notify(o.message,"error");case 3:return e.a(2)}},e,null,[[0,2]])}))()},rowSelected:function(){},getAlumnos:function(){var n=this;return m()(r()().m(function e(){return r()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,C.getAlumnoUbicacion("");case 1:n.dataAlumno=e.v;case 2:return e.a(2)}},e)}))()}},created:function(){this.getAlumnos()}},F=t(12807);const S=(0,F.A)(v,[["render",c]]);var w=S}}]);