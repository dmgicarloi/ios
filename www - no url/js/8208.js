"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[8208],{8208:function(e,o,t){t.r(o),t.d(o,{default:function(){return xe}});var l=t(61758),s=t(58790),a={key:0,class:"row"},i={class:"row q-pa-xs"},n={class:"col-xs-12 col-md-6"},r={key:1,class:"col",style:{"max-height":"60vh","overflow-y":"auto"}},u={class:"col-xs-12 col-md-6 q-pa-sm"},d={class:"row"},c={class:"col-xs-12"},p={class:"row"},f={class:"col-xs-12"},v={class:"row"},h={class:"col-xs-12"},m={class:"row"},b={class:"col-xs-12"},k={class:"row"},V={class:"col-xs-12"},R={class:"row"},w={class:"col-xs-12"},x={class:"row"},g={class:"col-xs-12"},D={class:"row"},O={class:"col-xs-12"},A={class:"row"},E={class:"col-xs-12"},T={class:"row"},L={class:"col-xs-12"},y={class:"row"},M={class:"col-xs-12"},S={class:"row"},C={class:"col-xs-12"},q={class:"row"},I={class:"col-xs-12"},F={class:"row"},Q={class:"col-xs-12"},X={class:"row"},H={class:"col-xs-12"},U={class:"row"},W={class:"col-xs-12"},Y={class:"row"},N={class:"col-xs-12"},G={class:"row"},j={class:"col-xs-12"},P={class:"row"},$={class:"col-xs-12"},_={class:"row"},z={class:"row q-col-gutter-sm"},B={key:0,class:"row q-col-gutter-sm"},K={key:1,class:"col"},J={key:1,class:"row"},Z={class:"col q-px-xs q-mx-xs q-mb-sm border-field"},ee={class:"column"},oe={class:"row"},te={class:"col-xs-12"};function le(e,o){var t=(0,l.g2)("q-btn"),le=(0,l.g2)("q-toolbar"),se=(0,l.g2)("q-select"),ae=(0,l.g2)("q-radio"),ie=(0,l.g2)("sie-salones"),ne=(0,l.g2)("q-datetime"),re=(0,l.g2)("q-select1"),ue=(0,l.g2)("q-toggle"),de=(0,l.g2)("q-input"),ce=(0,l.g2)("q-checkbox"),pe=(0,l.g2)("q-card"),fe=(0,l.g2)("q-page");return(0,l.uX)(),(0,l.Wv)(fe,{class:"col justify-center items-center"},{default:(0,l.k6)(function(){return[(0,l.bF)(pe,{class:"bg-white col-7",style:{"max-width":"600px"}},{default:(0,l.k6)(function(){return[(0,l.bF)(le,{class:"row justify-between"},{default:(0,l.k6)(function(){return[o[34]||(o[34]=(0,l.Lk)("div",{class:"row q-subheading text-weight-bold"},"Reportes de Asistencia",-1)),e.isLess?((0,l.uX)(),(0,l.CE)("div",a,[e.hidePdf?((0,l.uX)(),(0,l.Wv)(t,{key:0,class:"q-mx-xs",flat:"",dense:"",round:"",icon:"file_pdf",onClick:o[0]||(o[0]=function(o){return e.imprimir("pdf")})})):(0,l.Q3)("v-if",!0),(0,l.bF)(t,{class:"q-mx-xs",flat:"",dense:"",round:"",icon:"file_excel",onClick:o[1]||(o[1]=function(o){return e.imprimir("xls")})})])):(0,l.Q3)("v-if",!0)]}),_:1}),(0,l.Lk)("div",i,[(0,l.Lk)("div",n,[e.isLess?((0,l.uX)(),(0,l.Wv)(se,{key:0,class:"q-if-outlined",modelValue:e.reporte,"onUpdate:modelValue":o[2]||(o[2]=function(o){return e.reporte=o}),options:e.tipoReportes,"float-label":"Reporte:"},null,8,["modelValue","options"])):((0,l.uX)(),(0,l.CE)("div",r,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.tipoReportes,function(t,s){return(0,l.uX)(),(0,l.Wv)(ae,{class:"q-mx-sm q-py-sm",modelValue:e.reporte,"onUpdate:modelValue":o[3]||(o[3]=function(o){return e.reporte=o}),val:t.value,label:t.label},null,8,["modelValue","val","label"])}),256))]))]),(0,l.Lk)("div",u,[(0,l.Lk)("div",d,[(0,l.Lk)("div",c,[e.showTReporte?((0,l.uX)(),(0,l.Wv)(se,{key:0,class:"q-if-outlined",modelValue:e.tReporte,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.tReporte=o}),options:e.comboReporte,"float-label":"Filtar por:"},null,8,["modelValue","options"])):(0,l.Q3)("v-if",!0)])]),(0,l.Lk)("div",p,[(0,l.Lk)("div",f,[e.showSalones?((0,l.uX)(),(0,l.Wv)(ie,{key:0,class:"col no-border",modelValue:e.nemo,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.nemo=o}),todos:e.showGradoTodos,style:{"padding-left":"0px","padding-right":"0px"},campos:["NEMO","NEMODES","INSTRUCOD","GRADOCOD","SECCIONCOD"],onSeleccionar:e.loadInfo},null,8,["modelValue","todos","onSeleccionar"])):(0,l.Q3)("v-if",!0)])]),(0,l.Lk)("div",v,[(0,l.Lk)("div",h,[e.showNiveles?((0,l.uX)(),(0,l.Wv)(se,{key:0,class:"q-if-outlined",modelValue:e.nivel,"onUpdate:modelValue":o[6]||(o[6]=function(o){return e.nivel=o}),options:e.niveles,"float-label":"Nivel:",onInput:e.setGrados},null,8,["modelValue","options","onInput"])):(0,l.Q3)("v-if",!0)])]),(0,l.Lk)("div",m,[(0,l.Lk)("div",b,[e.showGrados?((0,l.uX)(),(0,l.Wv)(se,{key:0,class:"q-if-outlined",modelValue:e.grado,"onUpdate:modelValue":o[7]||(o[7]=function(o){return e.grado=o}),options:e.grados,"float-label":"Grado:",onInput:e.setSecciones},null,8,["modelValue","options","onInput"])):(0,l.Q3)("v-if",!0)])]),(0,l.Lk)("div",k,[(0,l.Lk)("div",V,[e.showSecciones?((0,l.uX)(),(0,l.Wv)(se,{key:0,class:"q-if-outlined",modelValue:e.seccion,"onUpdate:modelValue":o[8]||(o[8]=function(o){return e.seccion=o}),options:e.secciones,"float-label":"Sección:"},null,8,["modelValue","options"])):(0,l.Q3)("v-if",!0)])]),(0,l.Lk)("div",R,[(0,l.Lk)("div",w,[e.showAlumno?((0,l.uX)(),(0,l.Wv)(se,{key:0,class:"q-if-outlined",modelValue:e.alucod,"onUpdate:modelValue":o[9]||(o[9]=function(o){return e.alucod=o}),options:e.alumnos,"float-label":"Estudiante:"},null,8,["modelValue","options"])):(0,l.Q3)("v-if",!0)])]),(0,l.Lk)("div",x,[(0,l.Lk)("div",g,[e.showPeriodos?((0,l.uX)(),(0,l.Wv)(se,{key:0,class:"q-if-outlined",modelValue:e.periodo,"onUpdate:modelValue":o[10]||(o[10]=function(o){return e.periodo=o}),options:e.periodos,"float-label":"Periodo:"},null,8,["modelValue","options"])):(0,l.Q3)("v-if",!0)])]),(0,l.Lk)("div",D,[(0,l.Lk)("div",O,[e.showMes?((0,l.uX)(),(0,l.Wv)(se,{key:0,class:"q-if-outlined",modelValue:e.mes,"onUpdate:modelValue":o[11]||(o[11]=function(o){return e.mes=o}),options:e.comboMeses,"float-label":"Mes:"},null,8,["modelValue","options"])):(0,l.Q3)("v-if",!0)])]),(0,l.Lk)("div",A,[(0,l.Lk)("div",E,[e.showfecini?((0,l.uX)(),(0,l.Wv)(ne,{key:0,class:"q-if-outlined",modelValue:e.fecini,"onUpdate:modelValue":o[12]||(o[12]=function(o){return e.fecini=o}),type:"date","float-label":e.$t(e.showfecfin?"desde":"fecha"),format:"DD/MM/YYYY"},null,8,["modelValue","float-label"])):(0,l.Q3)("v-if",!0)])]),(0,l.Lk)("div",T,[(0,l.Lk)("div",L,[e.showTipoMarcacion?((0,l.uX)(),(0,l.Wv)(re,{key:0,modelValue:e.tipoMarcacion,"onUpdate:modelValue":o[13]||(o[13]=function(o){return e.tipoMarcacion=o}),label:"Tipo de marcación",options:e.tiposMarcacion},null,8,["modelValue","options"])):(0,l.Q3)("v-if",!0)])]),(0,l.Lk)("div",y,[(0,l.Lk)("div",M,[e.showfecfin?((0,l.uX)(),(0,l.Wv)(ne,{key:0,class:"q-if-outlined",modelValue:e.fecfin,"onUpdate:modelValue":o[14]||(o[14]=function(o){return e.fecfin=o}),type:"date","float-label":e.$t("hasta"),format:"DD/MM/YYYY"},null,8,["modelValue","float-label"])):(0,l.Q3)("v-if",!0)])]),(0,l.Lk)("div",S,[(0,l.Lk)("div",C,[1===e.reporte?((0,l.uX)(),(0,l.Wv)(se,{key:0,class:"q-if-outlined",modelValue:e.tFiltro,"onUpdate:modelValue":o[15]||(o[15]=function(o){return e.tFiltro=o}),options:e.comboTipo,"float-label":"Agrupar por:"},null,8,["modelValue","options"])):(0,l.Q3)("v-if",!0)])]),(0,l.Lk)("div",q,[(0,l.Lk)("div",I,[e.showTurnos?((0,l.uX)(),(0,l.Wv)(se,{key:0,class:"q-if-outlined",modelValue:e.turno,"onUpdate:modelValue":o[16]||(o[16]=function(o){return e.turno=o}),options:e.turnos,"float-label":"Turno:"},null,8,["modelValue","options"])):(0,l.Q3)("v-if",!0)])]),(0,l.Lk)("div",F,[(0,l.Lk)("div",Q,[e.showOrden?((0,l.uX)(),(0,l.Wv)(se,{key:0,class:"q-if-outlined",modelValue:e.orden,"onUpdate:modelValue":o[17]||(o[17]=function(o){return e.orden=o}),options:e.ordenReportes,"float-label":"Orden:"},null,8,["modelValue","options"])):(0,l.Q3)("v-if",!0)])]),(0,l.Lk)("div",X,[(0,l.Lk)("div",H,[e.showEstados?((0,l.uX)(),(0,l.Wv)(se,{key:0,class:"q-if-outlined",modelValue:e.estado,"onUpdate:modelValue":o[18]||(o[18]=function(o){return e.estado=o}),options:e.estados,"float-label":"Estado:"},null,8,["modelValue","options"])):(0,l.Q3)("v-if",!0)])]),(0,l.Lk)("div",U,[(0,l.Lk)("div",W,[e.showMostrar?((0,l.uX)(),(0,l.Wv)(se,{key:0,class:"q-if-outlined",modelValue:e.flagMostrar,"onUpdate:modelValue":o[19]||(o[19]=function(o){return e.flagMostrar=o}),options:e.flagsMostrar,"float-label":"Alumnos:"},null,8,["modelValue","options"])):(0,l.Q3)("v-if",!0)])]),(0,l.Lk)("div",Y,[(0,l.Lk)("div",N,[e.showEstadistica?((0,l.uX)(),(0,l.Wv)(se,{key:0,class:"q-if-outlined",modelValue:e.estadistica,"onUpdate:modelValue":o[20]||(o[20]=function(o){return e.estadistica=o}),options:e.siNo,"float-label":"Estadística:"},null,8,["modelValue","options"])):(0,l.Q3)("v-if",!0)])]),(0,l.Lk)("div",G,[(0,l.Lk)("div",j,[14===e.reporte?((0,l.uX)(),(0,l.Wv)(se,{key:0,class:"q-if-outlined",modelValue:e.estado2,"onUpdate:modelValue":o[21]||(o[21]=function(o){return e.estado2=o}),options:e.estados2,"float-label":"Estado:"},null,8,["modelValue","options"])):(0,l.Q3)("v-if",!0)])]),(0,l.Lk)("div",P,[(0,l.Lk)("div",$,[2===e.reporte?((0,l.uX)(),(0,l.Wv)(ue,{key:0,class:"q-if-outlined",modelValue:e.verificar,"onUpdate:modelValue":o[22]||(o[22]=function(o){return e.verificar=o}),"true-value":1,"false-value":0,label:"Validar aulas sin asistencia"},null,8,["modelValue"])):(0,l.Q3)("v-if",!0)])]),(0,l.Lk)("div",_,[e.showDetalle?((0,l.uX)(),(0,l.Wv)(ue,{key:0,class:"col q-if-outlined",modelValue:e.verDetalle,"onUpdate:modelValue":o[23]||(o[23]=function(o){return e.verDetalle=o}),"true-value":1,"false-value":0,label:13===e.reporte?"Solo Faltas":"Mostrar Detalle"},null,8,["modelValue","label"])):(0,l.Q3)("v-if",!0),e.showHoras?((0,l.uX)(),(0,l.Wv)(se,{key:1,class:"col q-if-outlined",modelValue:e.agrupado,"onUpdate:modelValue":o[24]||(o[24]=function(o){return e.agrupado=o}),options:e.agrupador,"float-label":"Agrupado por"},null,8,["modelValue","options"])):(0,l.Q3)("v-if",!0)]),(0,l.Lk)("div",z,[e.showHoras?((0,l.uX)(),(0,l.Wv)(ue,{key:0,class:"col q-if-outlined",modelValue:e.verHoras,"onUpdate:modelValue":o[25]||(o[25]=function(o){return e.verHoras=o}),"true-value":1,"false-value":0,label:"Validar Horas"},null,8,["modelValue"])):(0,l.Q3)("v-if",!0),e.showHoras&&e.verHoras?((0,l.uX)(),(0,l.Wv)(ue,{key:1,class:"col q-if-outlined",modelValue:e.esHoraFin,"onUpdate:modelValue":o[26]||(o[26]=function(o){return e.esHoraFin=o}),"true-value":1,"false-value":0,label:"Asignar Hora fin"},null,8,["modelValue"])):(0,l.Q3)("v-if",!0)]),e.showHoras&&e.verHoras?((0,l.uX)(),(0,l.CE)("div",B,[(0,l.bF)(de,{class:"col",modelValue:e.horaIni,"onUpdate:modelValue":o[27]||(o[27]=function(o){return e.horaIni=o}),label:"Desde",type:"time"},null,8,["modelValue"]),e.esHoraFin?((0,l.uX)(),(0,l.Wv)(de,{key:0,class:"col",modelValue:e.horaFin,"onUpdate:modelValue":o[28]||(o[28]=function(o){return e.horaFin=o}),label:"Desde",type:"time"},null,8,["modelValue"])):((0,l.uX)(),(0,l.CE)("div",K))])):(0,l.Q3)("v-if",!0),e.showEstadosLista?((0,l.uX)(),(0,l.CE)("div",J,[(0,l.Lk)("fieldset",Z,[o[35]||(o[35]=(0,l.Lk)("legend",{class:"leyenda"},"Estados",-1)),(0,l.Lk)("div",ee,[(0,l.bF)(ce,{modelValue:e.selectAll,"onUpdate:modelValue":o[29]||(o[29]=function(o){return e.selectAll=o}),onInput:e.marcarTodo},{default:(0,l.k6)(function(){return[(0,l.eW)((0,s.v_)(!1===e.selectAll||null===e.selectAll?"Des":"S")+"eleccionar todo",1)]}),_:1},8,["modelValue","onInput"]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.estados,function(t){return(0,l.uX)(),(0,l.CE)(l.FK,null,["T"!==t.value?((0,l.uX)(),(0,l.Wv)(ce,{key:0,class:"q-mx-sm",modelValue:e.estadosSelect,"onUpdate:modelValue":o[30]||(o[30]=function(o){return e.estadosSelect=o}),val:t.value},{default:(0,l.k6)(function(){return[(0,l.eW)((0,s.v_)(t.label),1)]}),_:2},1032,["modelValue","val"])):(0,l.Q3)("v-if",!0)],64)}),256))])])])):(0,l.Q3)("v-if",!0),(0,l.Lk)("div",oe,[(0,l.Lk)("div",te,[e.showExcluirRet?((0,l.uX)(),(0,l.Wv)(ue,{key:0,class:"q-if-outlined",modelValue:e.excluirRet,"onUpdate:modelValue":o[31]||(o[31]=function(o){return e.excluirRet=o}),"true-value":1,"false-value":0,label:"Excluir Retirados/Trasladados"},null,8,["modelValue"])):(0,l.Q3)("v-if",!0)])])])]),e.isLess?(0,l.Q3)("v-if",!0):((0,l.uX)(),(0,l.Wv)(le,{key:0,class:"row justify-center",inverted:""},{default:(0,l.k6)(function(){return[e.hidePdf?((0,l.uX)(),(0,l.Wv)(t,{key:0,class:"q-mx-xs",icon:"file_pdf",label:"PDF",color:"primary",onClick:o[32]||(o[32]=function(o){return e.imprimir("pdf")})})):(0,l.Q3)("v-if",!0),(0,l.bF)(t,{class:"q-mx-xs",icon:"file_excel",label:"EXCEL",color:"primary",onClick:o[33]||(o[33]=function(o){return e.imprimir("xls")})})]}),_:1}))]}),_:1})]}),_:1})}var se=t(8445),ae=t.n(se),ie=(t(30683),t(71225),t(23825),t(52133),t(10239),t(50310),t(5962),t(90095),t(6724),t(83190),t(27153),t(39300),t(17225),t(28743),t(12858),t(32071),t(55520),t(2775),t(46203),t(66307),t(13715),t(24066),t(6123)),ne=t(96122),re=t(93616),ue=t(57668),de=t(80660),ce=t(81288),pe=t(65229),fe=t(2819),ve=t(13813),he=t(88275),me=t(9736),be=t(16648),ke=t(18105),Ve={components:{QToggle:ie.c5,QList:ie.Mb,QItem:ie.H0,QScrollArea:ne.A,sieSelect:re.A,QRadio:ie.$,QDatetime:ie.T5,QSelect:ie.Si,QToolbar:ie.ZV,sieSalones:he.Ay,QInput:me.A,QCheckbox:ie.vZ,QSelect1:be.A,QPage:ie.Tu,QCard:ie.C$,QBtn:ie.Il},directives:{sieActive:pe.A},data:function(){return{sie:(0,ue["default"])(),verDetalle:0,comboTipo:[{label:"Grado",value:1},{label:"Seccion",value:2}],comboMeses:[],tReporte:1,baseGrados:[],reporte:1,fecini:Date.now(),fecfin:Date.now(),tFiltro:2,estado:"T",verHoras:0,nivel:null,grado:null,seccion:null,selectAll:!0,periodos:[],periodo:1,verificar:1,nemo:null,estados:[],flagMostrar:"0",orden:"nomcomp",isAdicionales:!1,estadosSelect:[],alumnos:[],alucod:"T",estadistica:"N",turno:1,turnos:[],horaIni:(0,ke.Ay)(new Date,"HH:mm"),horaFin:(0,ke.Ay)(new Date,"HH:mm"),esHoraFin:0,excluirRet:0,tipoMarcacion:"T",tiposMarcacion:[{value:"T",label:"Todos"},{value:"C",label:"Captura"},{value:"M",label:"Manual"}],agrupador:[{label:"Ninguno",value:0},{label:"Asistencia",value:1},{label:"A/I/T",value:2}],agrupado:1,ordenReportes:[{label:"Nombre",value:"nomcomp"},{label:"Fecha",value:"fecha"}],flagsMostrar:[{label:"Todos",value:"1"},{label:"Con incidencias",value:"0"}],siNo:[{label:"Si",value:"S"},{label:"No",value:"N"}],estado2:"I",estados2:[{label:"Inasistencia",value:"I"},{label:"Tardanzas",value:"T"}],mes:ie.p6.formatDate(Date.now(),"MM"),tipoReportes:[{label:"Porcentaje de Asistencias",value:1}],secciones:[],grados:[]}},methods:{loadInfo:function(e){var o=this,t=e.INSTRUCOD,l=e.GRADOCOD,s=e.SECCIONCOD,a=e.NEMO;this.nivel=t,this.grado=l,this.seccion=s,this.setGrados(),de.$http.get("api/HyoSalonAl/obtAlumnosPorSalon",{params:{nemo:a}}).then(function(e){var t=e.json;o.alumnos=(0,ve["default"])(t,function(e){var o=e.ALUCOD,t=e.NOMCOMP;return{value:o,label:t}}),15!==o.reporte&&o.alumnos.unshift({label:"Todos",value:"T"}),o.alucod=o.alumnos[0].value})},imprimir:function(e){var o,t=this,l="/intranet/reporte-node/reporte",s=this.sie.ano,a={};if(this.reporte>2){if(23===this.reporte&&"T"===this.seccion)return this.$notify("El reporte no puede ser por todos los salones","error"),!1;a["ESTADO2"]=this.estado2,a["FLGMOSTRAR"]=this.flagMostrar,a["ESTADISTICA"]=this.estadistica,a["ALUCOD"]=[4,9].indexOf(this.reporte)>=0&&"T"===this.alucod?null:this.alucod,a["reporte"]=[6].indexOf(this.reporte)>=0&&1===this.tReporte?7:this.reporte,a["repcod"]="asistenciaColegio",a["formato"]=e,a["tReporte"]=this.tReporte,a["PERIODO"]=this.periodo,a["periodo"]=this.periodo,a["ano"]=s,a["fecini"]=ie.p6.formatDate(this.fecini,"DD/MM/YYYY"),a["FINI"]=ie.p6.formatDate(this.fecini,"DD/MM/YYYY"),a["fecfin"]=ie.p6.formatDate(this.fecfin,"DD/MM/YYYY"),a["FFIN"]=ie.p6.formatDate(this.fecfin,"DD/MM/YYYY"),a["MOTIVO"]="T",a["nivel"]=this.nivel,a["instrucod"]=this.nivel,a["gradocod"]=this.grado,a["seccioncod"]=this.seccion,a["nivelf"]=this.nivel,a["NIVELF"]=this.nivel,a["NIVELCODF"]=this.nivel,a["GRADOCODF"]=this.grado,a["SECCIONCODF"]="T"!==this.seccion?this.seccion:0,a["NEMOS"]=this.nemo,a["MOTIVO"]=this.estado,a["MES"]=parseInt(this.mes),a["ORDEN"]=this.orden,a["turno"]=this.turno,a["marcacion"]=this.tipoMarcacion,a["chkExcluirRet"]=1===this.excluirRet?"S":"",a.tFiltro=this.tFiltro,a.showAdicional=this.isAdicionales,25===this.reporte&&(a.agrupado=this.agrupado,a["detalle"]=this.verDetalle,a.estados=this.estadosSelect,this.verHoras&&(a["hini"]=this.horaIni,1===this.esHoraFin&&(a["hfin"]=this.horaFin)),"0"===this.agrupado&&(a["detalle"]=0)),13===this.reporte&&(a["detalle"]=this.verDetalle)}else a["reporte"]=this.reporte,a["repcod"]="asistenciaColegio",a["formato"]=e,a["tReporte"]=this.tReporte,a["periodo"]=this.periodo,a["ano"]=s,a["fecini"]=ie.p6.formatDate(this.fecini,"DD/MM/YYYY"),a["fecfin"]=ie.p6.formatDate(this.fecfin,"DD/MM/YYYY"),a["nivel"]=this.nivel,a["checSalones"]=this.verificar,a["mes"]=this.mes,a["detalle"]=this.verDetalle,a.tFiltro=this.tFiltro;this.tipoReportes.forEach(function(e){e.value===t.reporte&&(o=e.label)}),(0,fe.exportFilePhp)(a,l,o)},setGrados:function(){var e=[];this.nivel&&"T"!==this.nivel&&(e=(0,ve["default"])(this.baseGrados.grados[this.nivel],function(e){var o=e.GRADOCOD,t=e.GRADODES;return{label:t,value:o}})),e.unshift({label:"Todos",value:"T"}),this.grado||(this.grado=e[0].value),this.grados=e,this.setSecciones()},setSecciones:function(){var e=[];this.nivel&&"T"!==this.nivel&&this.grado&&"T"!==this.grado&&(e=(0,ve["default"])(this.baseGrados.secciones[this.nivel+this.grado],function(e){var o=e.SECCIONCOD;return{label:o,value:o}})),e.unshift({label:"Todos",value:"T"}),this.seccion||(this.seccion=e[0].value),this.secciones=e},marcarTodo:function(e){var o=this;if(this.estadosSelect=[],e){var t=this.estados.filter(function(e){var o=e.value;return"T"!==o}).map(function(e){var o=e.value;return o});t.forEach(function(e){console.log(e),o.estadosSelect.push(e)})}}},computed:{isLess:function(){return(0,ce.isLess)()},repnom:function(){},comboReporte:function(){var e;switch(this.reporte){case 3:this.tReporte=2,e=[{label:"Periodo",value:2},{label:"Mes",value:3},{label:"Nivel",value:4},{label:"Fechas",value:1}];break;case 7:this.tReporte=1,e=[{label:"Fecha",value:1},{label:"Mes",value:3}];break;default:this.tReporte=1,e=[{label:"Fecha",value:1},{label:"Periodo",value:2}];break}return e},hidePdf:function(){return!([7].indexOf(this.reporte)>=0&&1===this.tReporte)&&[25,27].indexOf(this.reporte)<0},showDetalle:function(){return[1,25,13].indexOf(this.reporte)>=0},showTReporte:function(){return[1,3,6,7,21].indexOf(this.reporte)>=0},showPeriodos:function(){var e=[1,3,7,21].indexOf(this.reporte)>=0&&2===this.tReporte||[3,27].indexOf(this.reporte)>=0&&4===this.tReporte||[4,9,10,11,12,13,15,17,18,27].indexOf(this.reporte)>=0;return e},showfecini:function(){return[1,6,7,21,3].indexOf(this.reporte)>=0&&1===this.tReporte||[2,4,5,8,11,13,14,16,17,18,19,20,23,25].indexOf(this.reporte)>=0},showfecfin:function(){return[1,7,21,3].indexOf(this.reporte)>=0&&1===this.tReporte||[4,5,8,11,13,17,18,25].indexOf(this.reporte)>=0},showMes:function(){return[3,7].indexOf(this.reporte)>=0&&3===this.tReporte},showSalones:function(){return[3].indexOf(this.reporte)>=0&&4!==this.tReporte||[4,5,8,9,10,11,12,15,16,17,19,20,23,24,27].indexOf(this.reporte)>=0||[7].indexOf(this.reporte)>=0&&1===this.tReporte},showAlumno:function(){return[4,5,9,15].indexOf(this.reporte)>=0},showNiveles:function(){var e="0291"===this.sie.colcod;return[2,13,14,11,21,25].indexOf(this.reporte)>=0||3===this.reporte&&4===this.tReporte||7===this.reporte&&e},showGrados:function(){return[13,11,21,25].indexOf(this.reporte)>=0},showSecciones:function(){return[13,11,25].indexOf(this.reporte)>=0},showOrden:function(){return[4].indexOf(this.reporte)>=0},showEstados:function(){return[4,10,11].indexOf(this.reporte)>=0},showGradoTodos:function(){return[3,4,7,10,11,16,19,8,20].indexOf(this.reporte)>=0},showMostrar:function(){return[11].indexOf(this.reporte)>=0},showEstadistica:function(){return[11].indexOf(this.reporte)>=0},showTurnos:function(){return this.turnos.length>0&&[3,19].indexOf(this.reporte)>=0},showHoras:function(){return[25].indexOf(this.reporte)>=0},showEstadosLista:function(){return[25].indexOf(this.reporte)>=0},showAgrupado:function(){return[25].indexOf(this.reporte)>=0},showTipoMarcacion:function(){return[16].indexOf(this.reporte)>=0},showExcluirRet:function(){return"0078"===this.sie.colcod&&[3].indexOf(this.reporte)>=0},niveles:function(){var e=[];return e=(0,ve["default"])(this.baseGrados.niveles,function(e){var o=e.INSTRUCOD,t=e.INSTRUDES;return{label:t,value:o}}),[3,14].indexOf(this.reporte)<0&&e.unshift({label:"Todos",value:"T"}),this.nivel=e[0].value,e}},created:function(){var e=this;Promise.all([de.$http.get("api/HyoHorasisEstado/listarHorasisEstado",{params:{momento:1}}),de.$http.get("api/HyoMeses/obtMeses"),de.$http.get("api/HyoPercales/estadoFechaInstru",{params:{fecha:new Date,hasta:!0}}),de.$http.get("api/HyoInstrus/obtGradosAsignados"),de.$http.get("api/HyoHorasis/isSalida"),de.$http.get("api/HyoAturno/obtTurnos",{params:{modo:1}}),de.$http.get("api/HyoConfigurajustificaciones/getJustificaciones",{params:{agrupado:!0}}),de.$http.get("api/HyoHorasisEstado/listarHorasisEstado",{params:{momento:1,adicional:!0}})]).then(function(o){e.estados=(0,ve["default"])(o[0].json,function(e){var o=e.ESTADOCOD,t=e.ESTADODES;return{value:o,label:t}}),e.estadosSelect=(0,ve["default"])(o[0].json,function(e){var o=e.ESTADOCOD;e.ESTADODES;return o}),e.comboMeses=(0,ve["default"])(o[1].json,function(e){var o=e.MESDES,t=e.MESCOD;return{label:o,value:t}});var t=ae()(new Set(o[2].json.map(function(e){var o=e.BIMECOD;return o})));switch(e.periodos=(0,ve["default"])(t,function(e){return{label:e+" Periodo",value:e}}),e.periodo=o[2].json.length>0?o[2].json[o[2].json.length-1].BIMECOD:1,e.turnos=(0,ve["default"])(o[5].json,function(e){var o=e.ID,t=e.DESCRIPCION;return{label:t,value:o}}),e.baseGrados=o[3].json,e.estados.unshift({value:"T",label:"Todos"}),e.sie.colcod){case"0084":e.tipoReportes.push({label:"Resumen de Faltas por Fecha",value:2});break}e.tipoReportes=[].concat(ae()(e.tipoReportes),[{label:"Consolidado total de asistencias",value:21},{label:"Reporte de asistencias",value:3},{label:"Reporte de incidencias",value:4}]),e.tipoReportes.push({label:"Reporte de Inasistencias",value:7}),e.tipoReportes=[].concat(ae()(e.tipoReportes),[{label:"Reporte de observaciones",value:5},{label:"Reporte de Tardanzas del Día",value:8}]),["0076","0304"].indexOf(e.sie.colcod)>=0&&(e.tipoReportes.push({label:"Reporte de Alumno con 3 ó mas Tardanzas",value:17}),e.tipoReportes.push({label:"Estadisticas de Tardanzas",value:18})),e.tipoReportes=[].concat(ae()(e.tipoReportes),[{label:"Reporte de Ficha de Asistencia por Alumno",value:9},{label:"Reporte de Cantidad Asistencias",value:10}]),"0193"===e.sie.colcod&&e.tipoReportes.push({label:"Reporte de Resumen de Asistencia Diaria",value:14}),e.tipoReportes=[].concat(ae()(e.tipoReportes),[{label:["0192","0252"].indexOf((0,ue["default"])().colcod)>=0?"Consolidado de Asistencias":"Resumen de Asistencias",value:11},{label:"Listado de Asistencia del Día",value:12},{label:"Reporte de Marcaciones por Estudiante",value:15},{label:"Reporte de Marcaciones por Día",value:16}]),e.tipoReportes.push({label:"Alumnos que no registren asistencia.",value:13}),o[4].json&&(e.tipoReportes.push({label:"Reporte de Entrada y salida por dia",value:19}),o[6]["S_VALIDA_RECOJO"]&&e.tipoReportes.push({label:"Reporte de Recojo por dia",value:20})),e.tipoReportes.push({label:"Reporte de Asistencia Curso / Salón",value:23}),e.tipoReportes.push({label:"Estadistico de Asistencia",value:25}),e.isAdicionales=o[7].json.length>0,o[7].json.length,"0516"===e.sie.colcod&&e.tipoReportes.push({label:"Reporte Asistencia Detallado",value:27}),e.niveles.length>0&&"T"===e.niveles[0].value&&e.setGrados()})},watch:{estadosSelect:function(e){var o=this.estados.filter(function(e){var o=e.value;return"T"!==o}).map(function(e){var o=e.value;return o});e.length>0?o.length===e.length?this.selectAll=!0:this.selectAll=null:this.selectAll=!1},reporte:function(e){27===e&&(this.tReporte=2)}}},Re=t(12807);const we=(0,Re.A)(Ve,[["render",le]]);var xe=we}}]);