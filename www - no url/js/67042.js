"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[67042],{67042:function(o,e,n){n.r(e),n.d(e,{default:function(){return Ao}});n(71225),n(56285),n(50310),n(5962),n(83190);var r=n(61758),a=n(58790),t={class:"row q-col-gutter-xs q-py-xs"},s={class:"co-xs-12 col-sm-8"},i={class:"col-xs-12 col-sm-4"},l={class:"row q-col-gutter-sm"},u={class:"col-xs-12"},c={class:"col-xs-12"},d={class:"row q-gutter-sm"},p={class:"row q-pa-sm q-col-gutter-sm sie-flat"},m={class:"col-12"},f={class:"row q-pa-sm q-col-gutter-sm sie-flat"},g={class:"col-12"},h={class:"row q-pa-sm q-col-gutter-sm sie-flat"},v={class:"col-12"},b={class:"row q-pa-sm q-p"},C={class:"col-xs-12"},w={class:"col-xs-12"},I={class:"row q-pa-sm q-col-gutter-sm sie-flat"},A={class:"col-12"},O={class:"row q-pa-sm q-col-gutter-sm"},k={class:"col-12"},D={class:"col-12"},S={class:"col-12"},U={class:"col-xs-12 col-sm-6"},T={class:"col-xs-12 col-sm-6"},_={class:"col-xs-12 col-sm-6"},y={class:"col-xs-12 col-sm-6"},L={class:"row q-pa-sm q-col-gutter-sm"},V={class:"col-xs-12 col-sm-6"},M={class:"col-xs-12 col-sm-6"},R={class:"col-xs-12 col-sm-6"},N={class:"col-xs-12 col-sm-6"};function P(o,e){var n=this,P=(0,r.g2)("loading"),$=(0,r.g2)("header-btn"),F=(0,r.g2)("q-icon"),E=(0,r.g2)("q-item-section"),G=(0,r.g2)("q-item-label"),x=(0,r.g2)("q-item"),q=(0,r.g2)("q-select"),H=(0,r.g2)("sie-table"),j=(0,r.g2)("q-btn"),B=(0,r.g2)("q-card-section"),Q=(0,r.g2)("q-card"),z=(0,r.g2)("sie-modal"),W=(0,r.g2)("q-input"),Y=(0,r.g2)("q-checkbox"),J=(0,r.g2)("q-page");return(0,r.uX)(),(0,r.Wv)(J,{class:"intranet-classrrom sie-flat"},{default:(0,r.k6)(function(){return[(0,r.bF)(P,{modelValue:o.loadingImportarTodo,"onUpdate:modelValue":e[0]||(e[0]=function(e){return o.loadingImportarTodo=e}),label:"Importando todas las tareas.",type:"proceso",porcentage:o.sumPorcentage},null,8,["modelValue","porcentage"]),(0,r.bF)(P,{modelValue:o.loadingImportar,"onUpdate:modelValue":e[1]||(e[1]=function(e){return o.loadingImportar=e}),label:"Importando.. por favor espere un momento.",type:"proceso"},null,8,["modelValue"]),(0,r.bF)(P,{modelValue:o.loadingInformacion,"onUpdate:modelValue":e[2]||(e[2]=function(e){return o.loadingInformacion=e}),label:"Cargando información, por favor espere un momento."},null,8,["modelValue"]),(0,r.bF)(Q,null,{default:(0,r.k6)(function(){return[!0===o.isLogged?((0,r.uX)(),(0,r.Wv)($,{key:0,name:"Mis cursos",buttons:o.buttonImportarTodo},null,8,["buttons"])):(0,r.Q3)("v-if",!0),(0,r.bF)(B,null,{default:(0,r.k6)(function(){return[(0,r.Lk)("div",t,[(0,r.Lk)("div",s,[(0,r.bF)(q,{"use-input":"","hide-selected":"","fill-input":"","input-debounce":"0",modelValue:o.profesorApi,"onUpdate:modelValue":e[3]||(e[3]=function(e){return o.profesorApi=e}),options:o.profesoresApis,onFilter:o.filter,"option-value":"PROFCOD","option-label":"NOMCOMP",label:"Seleccione Profesor",type:"outlined",onInput:o.conectarGoogle,"emit-value":!1},{prepend:(0,r.k6)(function(){return[o.profesorApi?((0,r.uX)(),(0,r.Wv)(F,{key:0,name:"vpn_key",color:o.profesorApi.COLOR},null,8,["color"])):(0,r.Q3)("v-if",!0)]}),option:(0,r.k6)(function(o){return[(0,r.bF)(x,(0,r.v6)(o.itemProps,(0,r.Tb)(o.itemEvents||{})),{default:(0,r.k6)(function(){return[(0,r.bF)(E,{avatar:""},{default:(0,r.k6)(function(){return[(0,r.bF)(F,{name:o.opt.ICON,color:o.opt.COLOR},null,8,["name","color"])]}),_:2},1024),(0,r.bF)(E,null,{default:(0,r.k6)(function(){return[(0,r.bF)(G,null,{default:(0,r.k6)(function(){return[(0,r.eW)((0,a.v_)(o.opt.NOMCOMP),1)]}),_:2},1024)]}),_:2},1024)]}),_:2},1040)]}),_:1},8,["modelValue","options","onFilter","onInput"])]),(0,r.Lk)("div",i,[(0,r.bF)(q,{dense:"",modelValue:o.anioCurso,"onUpdate:modelValue":e[4]||(e[4]=function(e){return o.anioCurso=e}),label:"Año de Creación",options:o.anios,"option-label":"label","option-value":"value",onInput:o.getCursosPreCargado},null,8,["modelValue","options","onInput"])])]),(0,r.Lk)("div",l,[(0,r.Lk)("div",u,[(0,r.bF)(H,{"menu-render":"","header-tr":o.headerTrCursos,"show-refresh":!0,onRefresh:e[5]||(e[5]=function(e){return o.getCursos(o.profesorApi.USUCOD)}),css:"height: calc(55vh - 112px)",selection:"single",onRowSelected:o.openTrabajos,onRowSelectedDbl:o.rowSelectedDbl,context:n,data:o.rowsCursos,columns:o.fieldsCursos,config:o.configCursos},null,8,["header-tr","onRowSelected","onRowSelectedDbl","data","columns","config"])]),(0,r.Lk)("div",c,[(0,r.Lk)("div",d,[(0,r.bF)(j,{label:"No Asociado",dense:"",flat:"",icon:"verified",color:"negative",size:"sm"}),(0,r.bF)(j,{label:"Asociado",dense:"",flat:"",icon:"verified",color:"positive",size:"sm"}),(0,r.bF)(j,{label:"Alumnos",dense:"",flat:"",icon:"users",color:"primary",size:"sm"})])])])]}),_:1}),o.currentCurso.name&&"SI"===o.currentCurso.homologado&&o.rowsTrabajos.length>0?((0,r.uX)(),(0,r.Wv)($,{key:1,name:"Trabajos de ".concat(o.currentCurso.name),buttons:o.buttons},null,8,["name","buttons"])):(0,r.Q3)("v-if",!0),(0,r.bF)(B,null,{default:(0,r.k6)(function(){return[(0,r.bF)(H,{ref:"trabajos","load-disabled":o.loadDisabledTrabajos,css:"height: calc(55vh - 140px)",selection:"multiple",context:n,data:o.rowsTrabajos,columns:o.fieldsTrabajos,config:o.configTrabajos},null,8,["load-disabled","data","columns","config"])]}),_:1})]}),_:1}),(0,r.bF)(z,{modelValue:o.openModalGroup,"onUpdate:modelValue":e[6]||(e[6]=function(e){return o.openModalGroup=e}),title:"Proceso de Importación",css:{width:"600px"},footer:!1},{default:(0,r.k6)(function(){return[(0,r.Lk)("div",p,[(0,r.Lk)("div",m,[(0,r.bF)(H,{data:o.rowsTareasImportadas,columns:o.fieldsTareasImportadas,config:o.configTareasImportadas,css:"height: 55vh;min-width:500px"},null,8,["data","columns","config"])])])]}),_:1},8,["modelValue"]),(0,r.bF)(z,{modelValue:o.openModalAlumnos,"onUpdate:modelValue":e[7]||(e[7]=function(e){return o.openModalAlumnos=e}),title:"Alumnos",css:{width:"600px"},footer:!1},{default:(0,r.k6)(function(){return[(0,r.Lk)("div",f,[(0,r.Lk)("div",g,[(0,r.bF)(H,{data:o.rowsAlumnos,columns:o.fieldsAlumnos,css:"height: calc(70vh - 112px)"},null,8,["data","columns"])])])]}),_:1},8,["modelValue"]),(0,r.bF)(z,{modelValue:o.openModalInvitados,"onUpdate:modelValue":e[8]||(e[8]=function(e){return o.openModalInvitados=e}),title:"Invitaciones",css:{width:"600px"},footer:!1},{default:(0,r.k6)(function(){return[(0,r.Lk)("div",h,[(0,r.Lk)("div",v,[(0,r.bF)(Q,null,{default:(0,r.k6)(function(){return[(0,r.bF)($,{name:"Alumnos Invitados",buttons:o.buttonEnviarInvitacion},null,8,["buttons"]),o.hasInvitados?((0,r.uX)(),(0,r.Wv)($,{key:0,buttons:o.buttonInvitacion},null,8,["buttons"])):(0,r.Q3)("v-if",!0),(0,r.bF)(B,null,{default:(0,r.k6)(function(){return[(0,r.bF)(H,{"show-search":!1,ref:"tablaInvitados",data:o.rowsInvitaciones,columns:o.fieldsInvitaciones,css:"height: calc(70vh - 112px)",config:o.configInvitaciones,context:n},null,8,["data","columns","config"])]}),_:1})]}),_:1})])])]}),_:1},8,["modelValue"]),(0,r.bF)(z,{modelValue:o.openModalCorreo,"onUpdate:modelValue":e[11]||(e[11]=function(e){return o.openModalCorreo=e}),title:"Correo",css:{width:"200px"},onSubmit:o.invitar},{default:(0,r.k6)(function(){return[(0,r.Lk)("div",b,[(0,r.Lk)("div",C,[(0,r.bF)(W,{modelValue:o.invitadoPorCorreo,"onUpdate:modelValue":e[9]||(e[9]=function(e){return o.invitadoPorCorreo=e}),label:"Correo"},null,8,["modelValue"])]),(0,r.Lk)("div",w,[(0,r.bF)(Y,{modelValue:o.esDocente,"onUpdate:modelValue":e[10]||(e[10]=function(e){return o.esDocente=e}),label:"Docente"},null,8,["modelValue"])])])]}),_:1},8,["modelValue","onSubmit"]),(0,r.bF)(z,{modelValue:o.openModalCursosAutoGenerados,"onUpdate:modelValue":e[12]||(e[12]=function(e){return o.openModalCursosAutoGenerados=e}),title:"Generar Cursos Classroom",css:{width:"600px"},ok:"Autogenerar",onSubmit:o.autogenerarCursos},{default:(0,r.k6)(function(){return[(0,r.Lk)("div",I,[(0,r.Lk)("div",A,[(0,r.bF)(H,{ref:"generateCourses","show-search":!1,selection:"multiple","load-disabled":o.disabledCursosAutogenerados,data:o.rowsCursosAutogenerados,columns:o.fieldsCursosAutogenerados,config:o.configCursosAutogenerados,context:n,css:"height: calc(70vh - 112px)"},null,8,["load-disabled","data","columns","config"])])])]}),_:1},8,["modelValue","onSubmit"]),(0,r.bF)(z,{modelValue:o.openCrearCurso,"onUpdate:modelValue":e[20]||(e[20]=function(e){return o.openCrearCurso=e}),title:"Crear Curso ClassRoom",css:{width:"500px"},onSubmit:o.saveCurso},{default:(0,r.k6)(function(){return[(0,r.Lk)("div",O,[e[26]||(e[26]=(0,r.Lk)("div",{class:"col-12 q-pb-xs"},[(0,r.Lk)("span",{class:"intranet-classrrom-underline"},"Datos del Curso")],-1)),(0,r.Lk)("div",k,[(0,r.bF)(W,{modelValue:o.formCurso.nombre,"onUpdate:modelValue":e[13]||(e[13]=function(e){return o.formCurso.nombre=e}),label:"Nombre de la clase (Obligatorio)"},null,8,["modelValue"])]),(0,r.Lk)("div",D,[(0,r.bF)(W,{modelValue:o.formCurso.seccion,"onUpdate:modelValue":e[14]||(e[14]=function(e){return o.formCurso.seccion=e}),label:"Sección"},null,8,["modelValue"])]),(0,r.Lk)("div",S,[(0,r.bF)(W,{modelValue:o.formCurso.aula,"onUpdate:modelValue":e[15]||(e[15]=function(e){return o.formCurso.aula=e}),label:"Aula"},null,8,["modelValue"])]),e[27]||(e[27]=(0,r.Lk)("div",{class:"col-12 q-pb-xs"},[(0,r.Lk)("span",{class:"intranet-classrrom-underline"},"Curso a Asociar")],-1)),(0,r.Lk)("div",U,[(0,r.bF)(q,{modelValue:o.salon,"onUpdate:modelValue":e[16]||(e[16]=function(e){return o.salon=e}),label:"Salon",options:o.salones,"option-label":"DESCAMBITO","option-value":"ID_AMBITO","emit-value":!1,onInput:o.loadCursos},null,8,["modelValue","options","onInput"])]),(0,r.Lk)("div",T,[(0,r.bF)(q,{modelValue:o.curso,"onUpdate:modelValue":e[17]||(e[17]=function(e){return o.curso=e}),label:"Curso",options:o.cursos,"option-label":"CURSONOM","option-value":"ID_CURSO","emit-value":!1,onInput:o.loadGrupos},null,8,["modelValue","options","onInput"])]),(0,r.Lk)("div",_,[(0,r.bF)(q,{modelValue:o.grupo,"onUpdate:modelValue":e[18]||(e[18]=function(e){return o.grupo=e}),label:"Grupo",options:o.grupos,"option-label":"GRUPO","option-value":"GRUPOCOD","emit-value":!1,onInput:o.loadPeriodos},null,8,["modelValue","options","onInput"])]),(0,r.Lk)("div",y,[(0,r.bF)(q,{modelValue:o.periodo,"onUpdate:modelValue":e[19]||(e[19]=function(e){return o.periodo=e}),options:o.periodos,label:"Periodos",multiple:"","map-options":"",disable:""},{option:(0,r.k6)(function(o){var e=o.itemProps,n=o.itemEvents,t=o.opt;o.selected,o.toggleOption;return[(0,r.bF)(x,(0,r.v6)(e,(0,r.Tb)(n||{})),{default:(0,r.k6)(function(){return[(0,r.bF)(E,null,{default:(0,r.k6)(function(){return[(0,r.bF)(G,null,{default:(0,r.k6)(function(){return[(0,r.eW)((0,a.v_)(t.label),1)]}),_:2},1024)]}),_:2},1024)]}),_:2},1040)]}),_:1},8,["modelValue","options"])])])]}),_:1},8,["modelValue","onSubmit"]),(0,r.bF)(z,{modelValue:o.openHomologar,"onUpdate:modelValue":e[25]||(e[25]=function(e){return o.openHomologar=e}),title:"Asociar",css:{width:"500px"},onSubmit:o.saveHomologar},{default:(0,r.k6)(function(){return[(0,r.Lk)("div",L,[(0,r.Lk)("div",V,[(0,r.bF)(q,{modelValue:o.salon,"onUpdate:modelValue":e[21]||(e[21]=function(e){return o.salon=e}),label:"Salon",options:o.salones,"option-label":"DESCAMBITO","option-value":"ID_AMBITO","emit-value":!1,onInput:o.loadCursos},null,8,["modelValue","options","onInput"])]),(0,r.Lk)("div",M,[(0,r.bF)(q,{modelValue:o.curso,"onUpdate:modelValue":e[22]||(e[22]=function(e){return o.curso=e}),label:"Curso",options:o.cursos,"option-label":"CURSONOM","option-value":"ID_CURSO","emit-value":!1,onInput:o.loadGrupos},null,8,["modelValue","options","onInput"])]),(0,r.Lk)("div",R,[(0,r.bF)(q,{modelValue:o.grupo,"onUpdate:modelValue":e[23]||(e[23]=function(e){return o.grupo=e}),label:"Grupo",options:o.grupos,"option-label":"GRUPO","option-value":"GRUPOCOD","emit-value":!1,onInput:o.loadPeriodos},null,8,["modelValue","options","onInput"])]),(0,r.Lk)("div",N,[(0,r.bF)(q,{modelValue:o.periodo,"onUpdate:modelValue":e[24]||(e[24]=function(e){return o.periodo=e}),options:o.periodos,label:"Periodos",multiple:"","map-options":"",disable:""},{option:(0,r.k6)(function(o){var e=o.itemProps,n=o.itemEvents,t=o.opt;o.selected,o.toggleOption;return[(0,r.bF)(x,(0,r.v6)(e,(0,r.Tb)(n||{})),{default:(0,r.k6)(function(){return[(0,r.bF)(E,null,{default:(0,r.k6)(function(){return[(0,r.bF)(G,null,{default:(0,r.k6)(function(){return[(0,r.eW)((0,a.v_)(t.label),1)]}),_:2},1024)]}),_:2},1024)]}),_:2},1040)]}),_:1},8,["modelValue","options"])])])]}),_:1},8,["modelValue","onSubmit"])]}),_:1})}var $=n(14794),F=n.n($),E=n(76080),G=n.n(E),x=n(45254),q=n.n(x),H=(n(30683),n(23825),n(52133),n(10239),n(6724),n(70199),n(15547),n(515),n(52776),n(84433),n(66307),n(68017),n(7346),n(24066),n(6123)),j=n(88567),B=n(95718),Q=n(82327),z=n(16648),W=n(88865),Y=n(66824),J=n(9736),X=(n(39866),n(62692),n(20361),{data:function(){return{headerTrCursos:[[{label:"SieWeb",colspan:"3",textColor:"white",bgColor:"#562598"},{label:"ClassRoom",colspan:"7",textColor:"white",bgColor:"green",borderColor:"#f2c037"}]],configCursos:{alternateLink:{tooltip:"Ir al Curso",renderHtml:function(o,e,n){return n.link({href:o.alternateLink})}},enrollmentCode:{tooltip:function(o){return o.enrollmentCode},renderHtml:function(o,e,n){return n.copy({unique:o.enrollmentCode,value:o.enrollmentCode})},prevent:!0},creationTime:{component:"datetime",edit:!1},homologado:{validate:function(o){return"SI"===o.homologado},renderHtml:function(o,e,n){return n.icon({color:"SI"===o.homologado?"positive":"negative",name:"SI"===o.homologado?"verified":"test_cancel"})},renderAction:function(o){var e=this;return q()(G()().m(function n(){var r;return G()().w(function(n){while(1)switch(n.n){case 0:if("SI"!==o.homologado){n.n=2;break}return e.openModalInfo=!0,n.n=1,e.$http.get("api/HyoClassRoom/getInfoCurso",{params:{idCurso:o.id}});case 1:r=n.v,e.info.salon=r.NEMODES,e.info.grupo=r.GRUPODES,e.info.nivel=r.INSTRUDES,e.info.grado=r.GRADODES,e.info.seccion=r.SECCIONDES,e.info.curso=r.CURSONOM;case 2:return n.a(2)}},n)}))()}},alumnos:{component:"button",icon:["users"],tooltip:{users:"Ver Alumnos"},validate:{users:function(o){return"SI"===o.homologado}},users:function(o){var e=this;return q()(G()().m(function n(){return G()().w(function(n){while(1)switch(n.n){case 0:return e.openModalAlumnos=!0,n.n=1,e.$http.get("api/HyoClassRoom/getAlumnosPorCurso",{params:{idCurso:o.id}});case 1:e.rowsAlumnos=n.v;case 2:return n.a(2)}},n)}))()},flat:!0},action:{component:"button",icon:["refresh","swap_horiz as homologar","delete as eliminar"],tooltip:{refresh:"Actualizar Trabajos",homologar:"Asociar",eliminar:"desasociar",invitacion:"Invitaciones"},validate:{refresh:function(o){return"SI"===o.homologado},homologar:function(o){return"NO"===o.homologado},eliminar:function(o){return"SI"===o.homologado}},invitacion:function(o){var e=this;return q()(G()().m(function n(){var r,a,t,s;return G()().w(function(n){while(1)switch(n.n){case 0:return e.currentCurso=o,n.n=1,e.$http.get("api/HyoClassRoom/getCoursesStudents",{params:{idCurso:o.id,usucod:e.profesorApi.USUCOD}});case 1:return r=n.v,a=r.students,t=a.map(function(o){return o.profile.emailAddress}),n.n=2,e.$http.get("api/HyoClassRoom/getCorreosPorAlumno",{params:{idCurso:o.id}});case 2:s=n.v,s=s.filter(function(o){return!t.includes(o)}),s=s.map(function(o){return{invite:!0,isNew:!0,esDocente:!1,profile:{emailAddress:o}}}),e.rowsInvitaciones=[],e.rowsInvitaciones=a||[],e.rowsInvitaciones=e.rowsInvitaciones.concat(s),e.openModalInvitados=!0;case 3:return n.a(2)}},n)}))()},refresh:function(o,e){var n=this;return q()(G()().m(function r(){return G()().w(function(r){while(1)switch(r.n){case 0:n.openTrabajos(o,e);case 1:return r.a(2)}},r)}))()},eliminar:function(o,e){var n=this;return q()(G()().m(function r(){var a,t,s;return G()().w(function(r){while(1)switch(r.p=r.n){case 0:return r.p=0,r.n=1,n.$confirmar("Al desasociar el curso se perderán las actividades importadas ¿Desea continuar con el proceso?","delete");case 1:if(a=r.v,!a){r.n=3;break}return r.n=2,n.$http.delete("api/HyoClassRoom/quitarHomologacion",{params:{idCursoClassroom:o.id}});case 2:t=r.v,s=t.message,e.homologado="NO",e.ngs="-",e.descripcion="",n.currentCurso={},n.rowsTrabajos=[],n.$notify(s,"success");case 3:r.n=5;break;case 4:r.p=4,r.v,n.$notify("No ha sido posible desasociar el curso","warning");case 5:return r.a(2)}},r,null,[[0,4]])}))()},homologar:function(o,e){var n=this;return q()(G()().m(function r(){return G()().w(function(r){while(1)switch(r.n){case 0:return r.n=1,n.getCursosPorProfesor(n.profesorApi.NOMCOMP);case 1:"NO"===o.homologado&&(n.rowsTrabajos=[]),n.currentCurso=e,n.openHomologar=!0;case 2:return r.a(2)}},r)}))()},flat:!0,dense:!0}},rowsCursos:[],fieldsCursos:[{name:"homologado",label:"Asociado",field:"homologado",align:"center"},{name:"descripcion",label:"Descripción",field:"descripcion",align:"center",sortable:!0},{name:"alumnos",label:"Alumnos",field:"alumnos",align:"center"},{name:"enrollmentCode",label:"Código Clase",field:"enrollmentCode",align:"center"},{name:"alternateLink",label:"Ir al Curso",field:"alternateLink",align:"center"},{name:"room",label:"Aula",field:"room",align:"left"},{name:"section",label:"Sección",field:"section",align:"left"},{name:"name",label:"Curso",field:"name",align:"left"},{name:"creationTime",label:"Fecha de Creación",field:"creationTime",align:"center",sortable:!0},{name:"action",label:"Acción",field:"action",align:"center",width:80}]}}}),K={data:function(){return{configCursosAutogenerados:{COURSEID:{tooltip:"Asociado",renderHtml:function(o,e,n){return o.COURSEID?n.icon({name:"swap_horiz"}):e("span",{},"")}}},disabledCursosAutogenerados:{key:"COURSEID",values:[]},rowsCursosAutogenerados:[],fieldsCursosAutogenerados:[{name:"COURSEID",label:"Asociado",field:"COURSEID",align:"center",disabled:!1},{name:"CURSONOM",label:"Curso",field:"CURSONOM",align:"left"},{name:"DESCAMBITO",label:"Descripción",field:"DESCAMBITO",align:"left"}]}}},Z=(n(89571),n(18105)),oo={data:function(){return{configTrabajos:{creationTime:{component:"datetime",edit:!1},fhEntrega:{component:"datetime",edit:!1},importado:{tooltip:function(o){if(!0===o.importado)return"Importado a la Agenda"},renderHtml:function(o,e,n){return n.background({textColor:"white",color:!0===o.importado?"positive":"negative",text:!0===o.importado?"Importado":"No importado"})}},alternateLink:{tooltip:"Ir a la Actividad",renderHtml:function(o,e,n){return n.link({href:o.alternateLink})}},action:{component:"button",icon:["delete"],delete:function(o,e){var n=this;return q()(G()().m(function r(){var a;return G()().w(function(r){while(1)switch(r.p=r.n){case 0:return r.n=1,n.$confirmar("¿Realmente desea eliminar la actividad importada?","delete");case 1:if(a=r.v,!a){r.n=5;break}return r.p=2,r.n=3,n.$http.delete("api/HyoClassRoom/eliminarActividad",{params:{idcurso:n.currentCurso.id,idtarea:o.id}});case 3:delete e.id_contenido,e.importado=!1,n.loadDisabledTrabajos.values.splice(n.loadDisabledTrabajos.values.indexOf(o.id),1),r.n=5;break;case 4:r.p=4,r.v,n.$notify("No ha sido posible eliminar la actividad.","warning");case 5:return r.a(2)}},r,null,[[2,4]])}))()},refresh:function(o,e){var n=this;return q()(G()().m(function r(){var a,t,s;return G()().w(function(r){while(1)switch(r.p=r.n){case 0:if(a=new Date(o.classroom_fh_entrega||null),t=new Date(o.contenido_fh_entrega||null),!a||!t){r.n=4;break}if(a.toGMTString()===t.toGMTString()){r.n=4;break}return r.p=1,r.n=2,n.$http.put("api/HyoClassRoom/updateFechaEntrega",{id_contenido:o.id_contenido,fh_entrega:(0,Z.Ay)(a,"DD/MM/YYYY HH:mm:ss")});case 2:e.contenido_fh_entrega=new Date((0,Z.Ay)(a,"YYYY/MM/DD HH:mm:ss")).toISOString(),n.$notify("Se actualizó la fecha de entrega","success"),r.n=4;break;case 3:r.p=3,s=r.v,n.$notify(s.message,"warning");case 4:return r.a(2)}},r,null,[[1,3]])}))()},validate:{refresh:function(o){var e=new Date(o.classroom_fh_entrega||null),n=new Date(o.contenido_fh_entrega||null);return!(!e||!n||null===o.classroom_fh_entrega||e.toGMTString()===n.toGMTString())},delete:function(o){return!!o.id_contenido}},tooltip:{refresh:"Actualizar Fecha Entrega",delete:"Eliminar Actividad"},prevent:!0,flat:!0}},rowsTrabajos:[],fieldsTrabajos:[{name:"importado",label:"Importado",field:"importado",align:"center",disabled:!1,width:100},{name:"title",label:"Descripción",field:"title",align:"left"},{name:"creationTime",label:"Fecha de Creación",field:"creationTime",align:"center"},{name:"fhEntrega",label:"Fecha de Entrega",field:"fhEntrega",align:"center"},{name:"alternateLink",label:"Ir a la Actividad",field:"alternateLink",align:"center",disabled:!1},{name:"action",label:"Actualizar Fecha Entrega",field:"action",align:"center",disabled:!1}]}}},eo={data:function(){return{configTareasImportadas:{success:{renderHtml:function(o,e,n){return n.background({textColor:"white",color:!0===o.importado?"positive":"negative",text:!0===o.importado?"Correcto":"Error"})}}},rowsTareasImportadas:[],fieldsTareasImportadas:[{name:"success",label:"",field:"success",align:"center"},{name:"courseName",label:"Nombre Curso",field:"courseName",align:"left"},{name:"title",label:"Nombre Trabajo",field:"title",align:"left"}]}}},no={data:function(){return{rowsAlumnos:[],fieldsAlumnos:[{name:"ALUCOD",label:"Código",field:"ALUCOD",align:"center"},{name:"NOMCOMP",label:"Alumno",field:"NOMCOMP",align:"left"}]}}},ro={data:function(){return{configInvitaciones:{error:{component:"button",iconIf:{false:{icon:"markunread",color:"positive",tooltip:function(o){return o.message||""}},true:{icon:"error",color:"negative",tooltip:function(o){return o.message||""}}},flat:!0},esDocente:{component:"button",iconIf:{true:{icon:"teaching",tooltip:"Docente"},false:{icon:"boy",tooltip:"Alumno"}},dense:!0,flat:!0},emailAddress:{renderHtml:function(o,e){var n=o.profile,r=n.emailAddress;return e("span",{},r)}},accion:{component:"button",icon:["delete as eliminar","remove"],validate:{eliminar:function(o){return!o.isNew},remove:function(o){return!0===o.isNew}},tooltip:{eliminar:"Eliminar",remove:"Quitar De La Lista",send:"Enviar"},remove:function(o,e){this.rowsInvitaciones.splice(this.rowsInvitaciones.indexOf(e),1)},eliminar:function(o,e){var n=this;return q()(G()().m(function r(){var a,t,s;return G()().w(function(r){while(1)switch(r.p=r.n){case 0:return r.p=0,r.n=1,n.$confirmar("¿Seguro que quieres quitar a este ".concat(o.esDocente?"docente":"alumno"," de la clase?"),"delete");case 1:if(a=r.v,!a){r.n=3;break}return t=o.profile,s=t.emailAddress,r.n=2,n.$http.delete("api/HyoClassRoom/deleteCoursesStudents",{params:{idCurso:n.currentCurso.id,usucod:n.profesorApi.USUCOD,userId:s,esDocente:o.esDocente}});case 2:n.rowsInvitaciones.splice(n.rowsInvitaciones.indexOf(e),1);case 3:r.n=5;break;case 4:r.p=4,r.v;case 5:return r.a(2)}},r,null,[[0,4]])}))()},flat:!0,dense:!0}},rowsInvitaciones:[],fieldsInvitaciones:[{name:"error",label:"Invitación",field:"error",align:"center"},{name:"esDocente",label:"Tipo",field:"esDocente",align:"center"},{name:"emailAddress",label:"Correo",field:"emailAddress",align:"center"},{name:"accion",label:"Acción",field:"accion",align:"center"}]}}},ao=n(81288),to=n(95655),so=n(30640),io=n(85226),lo=n(55973),uo=n(34262),co=n(6583),po=n(11768),mo=n(3112),fo="green",go=function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e={};return o.map(function(o){var n=new Date(o.creationTime).getFullYear();e["all"]||(e["all"]=[]),e[n]||(e[n]=[]),e["all"].push(o),e[n].push(o)}),e},ho=function(o){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return o.filter(function(o){return!0===o.isNew&&!0===e&&(o.isNew=!1),!0===o.isNew})},vo=function(o){return o.filter(function(o){return!0===o.importado})},bo="Antes de importar las actividades, verifique que los cursos han sido asociados correctamente.",Co={components:{QCard:j.A,QCardSection:B.A,sieModal:so.A,QSelect:z.A,QInput:J.A,loading:io.A,QItem:Q.A,QItemSection:W.A,QItemLabel:Y.A,QToggle:lo.A,QIcon:uo.A,QCheckbox:mo.A,QPage:H.Tu,QBtn:H.Il},mixins:[X,oo,eo,no,ro,K],data:function(){return{buttonImportarTodo:[{label:"Actualizar Cursos",icon:"refresh",click:this.importarCursos},{label:"Importar Todo",icon:"import_exam",click:this.importarTodo},{label:"Crear Curso",icon:"plus",click:this.createCurso},{label:"Generar Cursos",icon:"gg",click:this.openGenerarCursos}],buttonInvitacion:[{label:"Invitar",icon:"user_add",click:this.agregarInvitados}],buttonEnviarInvitacion:[{label:"Enviar Invitación",icon:"send",click:this.enviarInvitados}],buttons:[{label:"Importar",icon:"import_exam",color:"primary",click:this.importarTareas}],openHomologar:!1,openCrearCurso:!1,isLogged:!1,currentCurso:{},anios:[],formHomologar:{anio:""},formCurso:{nombre:"",seccion:"",aula:""},info:{salon:"",grupo:"",nivel:"",grado:"",seccion:"",curso:""},anioCurso:String((new Date).getFullYear()),todosLosCursos:{},ngsc:{},salones:[],salon:{ID_AMBITO:"",DESCRIPCION:""},grupos:[],grupo:{ID_CLASE:"",GRUPODES:""},niveles:[],nivel:"",grados:[],grado:"",secciones:[],seccion:"",cursos:[],profesoresApis:[],profesoresApisCopy:[],profesorApi:"",curso:{CURSOCOD:"",CURSONOM:""},sumPorcentage:0,loadingImportarTodo:!1,loadingImportar:!1,loadingInformacion:!1,openModalGroup:!1,openModalAlumnos:!1,openModalInvitados:!1,openModalCursosAutoGenerados:!1,invitadoPorCorreo:"",openModalCorreo:!1,loadDisabledTrabajos:{key:"id",values:[]},periodo:[],periodos:[],cursosPorDocente:[],esDocente:!1}},computed:{hasInvitados:function(){return ho(this.rowsInvitaciones).length>0}},methods:{autogenerarCursos:function(){var o=this;return q()(G()().m(function e(){var n,r,a;return G()().w(function(e){while(1)switch(e.p=e.n){case 0:return n=o.$refs.generateCourses.selected,r=n.filter(function(o){return!o.COURSEID}),o.$q.loading.show(),e.p=1,e.n=2,o.$http.post("api/HyoClassRoom/autogenerarCursos",{cursos:r,usucod:o.profesorApi.USUCOD});case 2:a=e.v,n.map(function(e){var n=a["".concat(e.ID_AMBITO).concat(e.ID_CURSO).concat(e.ID_CLASE)];n&&(e.COURSEID=n,o.disabledCursosAutogenerados.values.push(n))}),n=[],e.n=4;break;case 3:e.p=3,e.v,o.$notify("Ha ocurrido un problema, inténtalo más tarde.","warning");case 4:o.$q.loading.hide();case 5:return e.a(2)}},e,null,[[1,3]])}))()},openGenerarCursos:function(){var o=this;return q()(G()().m(function e(){var n,r,a;return G()().w(function(e){while(1)switch(e.n){case 0:return o.openModalCursosAutoGenerados=!0,e.n=1,o.$http.get("api/HyoClassRoom/getCursosPorProfesor",{params:{params:{profesor:o.profesorApi.NOMCOMP}}});case 1:n=e.v,r=n.cursos,a=n.disabled,o.disabledCursosAutogenerados.values=a,o.rowsCursosAutogenerados=r;case 2:return e.a(2)}},e)}))()},enviarInvitados:function(){var o=this;return q()(G()().m(function e(){var n,r,a,t;return G()().w(function(e){while(1)switch(e.p=e.n){case 0:return e.p=0,o.$q.loading.show(),n=[],r=JSON.parse(JSON.stringify(o.rowsInvitaciones)),r.map(function(o){n.push({email:o.profile.emailAddress,esDocente:o.esDocente})}),a=o.currentCurso.id,e.n=1,o.$http.post("api/HyoClassRoom/sendInvitation",{courseId:a,userIds:n,usucod:o.profesorApi.USUCOD});case 1:t=e.v,r.map(function(o,e){!0===t.items[e].errors?/@UserInIllegalDomain/g.test(t.items[e].msg)?(o.error=!0,o.message="No se puede invitar a un ".concat(o.esDocente?"docente":"alumno"," de este dominio")):/already exists/g.test(t.items[e].msg)&&(o.error=!0,o.message="Ya se ha enviado una invitación"):(o.error=!1,o.message="Invitación enviada")}),o.rowsInvitaciones=r,o.$q.loading.hide(),e.n=3;break;case 2:e.p=2,e.v,o.$q.loading.hide(),o.$notify("Ha ocurrido un problema, inténtalo más tarde.","warning");case 3:return e.a(2)}},e,null,[[0,2]])}))()},agregarInvitados:function(){this.openModalCorreo=!0},invitar:function(){var o=this,e=/^([\da-z_\.-]+)@([\da-z\.-]+)\.([a-z\.]{2,6})$/;if(e.test(this.invitadoPorCorreo)){var n=!1;if(this.rowsInvitaciones.map(function(e){e.profile.emailAddress===o.invitadoPorCorreo&&(n=!0)}),!1===n){var r={invite:!0,isNew:!0,esDocente:this.esDocente,profile:{emailAddress:this.invitadoPorCorreo}};return this.rowsInvitaciones.push(r),void this.$refs.tablaInvitados.rowsUpdate(r)}this.$notify("Correo ya ha sido agregado","error")}else this.$notify("Ingresa un correo válido.","error")},importarTodo:function(){var o=this;return q()(G()().m(function e(){var n,r,a,t,s,i,l,u;return G()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,o.$confirmar(bo,"info");case 1:if(n=e.v,!n){e.n=6;break}o.loadingImportarTodo=!0,r=[],o.rowsCursos.map(function(o){"SI"===o.homologado&&r.push(o)}),a=r.length,t=parseFloat((100/a).toFixed(2)),s=[],i=[],l=G()().m(function e(){var n,a,l;return G()().w(function(e){while(1)switch(e.p=e.n){case 0:return n=r[u],e.p=1,e.n=2,o.getTrabajos(n.id,!0);case 2:if(i=e.v,!(i.length>0)){e.n=5;break}return e.n=3,(0,ao.sleep)(500);case 3:return a=i.filter(function(o){return!1===o.importado}),l=o.$refs.trabajos.rowsSelected(["id"],a),e.n=4,o.$http.post("api/HyoClassRoom/importarTareas",{anio:o.anioCurso,idCurso:n.id,idsTareas:l,usucod:o.profesorApi.USUCOD});case 4:i.map(function(o){o.courseId=n.id,o.courseName=n.name,o.success=!0}),o.currentCurso=n,o.currentCurso.cantidadTareas+=i.filter(function(o){return!0===o.success}).length,s=s.concat(i),n.homologado="SI";case 5:e.n=7;break;case 6:e.p=6,e.v,i.map(function(o){o.courseId=n.id,o.courseName=n.name,o.success=!1,n.homologado="NO"}),s=s.concat(i);case 7:o.sumPorcentage+=t;case 8:return e.a(2)}},e,null,[[1,6]])}),u=0;case 2:if(!(u<a)){e.n=4;break}return e.d(F()(l()),3);case 3:u++,e.n=2;break;case 4:return o.rowsTrabajos=[],o.rowsTareasImportadas=s,o.sumPorcentage=Math.ceil(o.sumPorcentage),e.n=5,(0,ao.sleep)(500);case 5:o.loadingImportarTodo=!1,o.sumPorcentage=0,o.openModalGroup=!0;case 6:return e.a(2)}},e)}))()},importarTareas:function(){var o=this;return q()(G()().m(function e(){var n,r,a,t;return G()().w(function(e){while(1)switch(e.p=e.n){case 0:if(n=o.$refs.trabajos.rowsSelected().filter(function(o){return!1===o.importado}),r=o.$refs.trabajos.rowsSelected(["id"],n),!(r.length<1)){e.n=1;break}return o.$notify("Debe seleccionar al menos una tarea no importada.","warning"),e.a(2);case 1:if(a=!0,!(vo(o.rowsTrabajos).length<1)){e.n=3;break}return e.n=2,o.$confirmar(bo,"info");case 2:a=e.v;case 3:if(!a){e.n=9;break}return o.loadingImportar=!0,e.p=4,t=o.currentCurso.id,e.n=5,o.$http.post("api/HyoClassRoom/importarTareas",{anio:o.anioCurso,idCurso:t,idsTareas:r,usucod:o.profesorApi.USUCOD});case 5:return e.n=6,o.getTrabajos(o.currentCurso.id);case 6:o.currentCurso.cantidadTareas+=r.length,o.$notify("Se ha importado las tareas del curso ".concat(o.currentCurso.name),"success"),e.n=8;break;case 7:e.p=7,e.v,o.$notify("No ha sido posible importar.","warning");case 8:o.loadingImportar=!1;case 9:return e.a(2)}},e,null,[[4,7]])}))()},importarCursos:function(){var o=this;return q()(G()().m(function e(){return G()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,o.getCursos(o.profesorApi.USUCOD);case 1:return e.a(2)}},e)}))()},createCurso:function(){var o=this;return q()(G()().m(function e(){return G()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,o.getCursosPorProfesor(o.profesorApi.NOMCOMP);case 1:o.openCrearCurso=!0;case 2:return e.a(2)}},e)}))()},saveCurso:function(){var o=this;return q()(G()().m(function e(){var n,r,a,t,s,i,l;return G()().w(function(e){while(1)switch(e.p=e.n){case 0:return o.$q.loading.show(),e.p=1,n={name:o.formCurso.nombre,room:o.formCurso.aula,section:o.formCurso.seccion,id_ambito:(o.salon||{}).ID_AMBITO,id_clase:(o.grupo||{}).ID_CLASE,id_curso:(o.curso||{}).ID_CURSO,usucod:(o.profesorApi||{}).USUCOD},e.n=2,o.$http.post("api/HyoClassRoom/createCurso",n);case 2:r=e.v,a=r.message,t=r.curso,t.descripcion=o.salon.DESCAMBITO,t.ngs=o.salon.SALON,o.openCrearCurso=!1,s=document.createElement("a"),o.rowsCursos.unshift(t),s.href=t.alternateLink,s.target="_blank",document.body.appendChild(s),s.click(),o.$notify(a,"success"),e.n=4;break;case 3:e.p=3,l=e.v,i=l.error||{},o.$notify(i.msg||i.message||"No ha sido posible crear el curso.","warning");case 4:o.$q.loading.hide();case 5:return e.a(2)}},e,null,[[1,3]])}))()},getAnios:function(){var o=this;return q()(G()().m(function e(){var n;return G()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,o.$http("api/HyoAnos/getAnios");case 1:n=e.v,n=n.map(function(o){return{label:o.ANO,value:o.ANO}}),o.anios=n;case 2:return e.a(2)}},e)}))()},getCursosPorProfesor:function(){var o=arguments,e=this;return q()(G()().m(function n(){var r,a,t,s,i,l,u;return G()().w(function(n){while(1)switch(n.n){case 0:return r=o.length>0&&void 0!==o[0]?o[0]:"",e.salon={ID_AMBITO:"",DESCAMBITO:""},e.salones=[],e.nivel="",e.grado="",e.seccion="",e.curso="",e.cursos=[],e.grupo={GRUPOCOD:"",GRUPO:""},e.grupos=[],e.periodos=[],e.periodo=[],r=r||"",u=co["default"],n.n=1,e.getCursoPorDocente(r.trim());case 1:for(i in a=u(n.v),t=(0,po.A)(a,["DESCAMBITO","ID_CURSO","GRUPOCOD"]),e.cursosPorDocente=t,s=[],t)l=t[i],s.push(l.info);e.salones=s;case 2:return n.a(2)}},n)}))()},getCursos:function(o){var e=this;return q()(G()().m(function n(){var r,a,t,s;return G()().w(function(n){while(1)switch(n.p=n.n){case 0:return n.p=0,n.n=1,e.$http.get("api/HyoClassRoom/getCursos",{params:{usucod:o}});case 1:r=n.v,a=r.courses,e.todosLosCursos=go(a),e.rowsCursos=e.todosLosCursos[e.anioCurso]||[],n.n=3;break;case 2:n.p=2,s=n.v,t=s.error||{},Object.prototype.hasOwnProperty.call(t,"google")?(e.profesorApi.COLOR="grey-4",e.profesorApi.LOGGIN=!1,e.conectarGoogle(e.profesorApi)):e.$notify(t.msg||t.message||"No ha sido posible cargar los cursos, intente nuevamente.","warning");case 3:return n.a(2)}},n,null,[[0,2]])}))()},getTrabajos:function(o){var e=arguments,n=this;return q()(G()().m(function r(){var a,t,s,i,l;return G()().w(function(r){while(1)switch(r.n){case 0:return a=e.length>1&&void 0!==e[1]&&e[1],r.n=1,n.$http.get("api/HyoClassRoom/getTrabajos",{params:{id:o,usucod:n.profesorApi.USUCOD}});case 1:if(t=r.v,!0!==a){r.n=2;break}return s=t.courseWork.filter(function(o){return!1===o.importado}),r.a(2,s);case 2:i=t.courseWork.filter(function(o){return!0===o.importado}),l=n.$refs.trabajos.rowsSelected(["id"],i),n.loadDisabledTrabajos.values=l,n.rowsTrabajos=t.courseWork;case 3:return r.a(2)}},r)}))()},loadSalones:function(){var o=[];for(var e in this.ngsc){var n=this.ngsc[e];o.push(n.info)}this.salones=o},loadCursos:function(){var o=this;return q()(G()().m(function e(){var n,r,a,t;return G()().w(function(e){while(1)switch(e.n){case 0:for(a in o.curso="",o.cursos=[],o.grupo={GRUPOCOD:"",GRUPO:""},o.grupos=[],o.periodos=[],o.periodo=[],n=[],r=o.cursosPorDocente[o.salon.DESCAMBITO].data||{},r)t=r[a],n.push(t.info);o.cursos=n;case 1:return e.a(2)}},e)}))()},loadGrupos:function(){var o=this;return q()(G()().m(function e(){var n,r,a,t;return G()().w(function(e){while(1)switch(e.n){case 0:for(a in o.grupo={GRUPOCOD:"",GRUPO:""},o.grupos=[],o.periodos=[],o.periodo=[],n=[],r=o.cursosPorDocente[o.salon.DESCAMBITO].data[o.curso.ID_CURSO].data||{},r)t=r[a],n.push(t.info);o.grupos=n;case 1:return e.a(2)}},e)}))()},loadPeriodos:function(){var o=this;return q()(G()().m(function e(){var n,r,a,t,s;return G()().w(function(e){while(1)switch(e.n){case 0:for(o.periodo=[],n=o.grupo.PERIODOS,n=n||"",n=n.split(","),r=[],a=0;a<n.length;a++)t=n[a],s={label:"".concat(t," PERIODO"),value:t},o.periodo.push(t),r.push(s);o.periodos=r;case 1:return e.a(2)}},e)}))()},loadNiveles:function(){var o=this;return q()(G()().m(function e(){var n,r,a,t;return G()().w(function(e){while(1)switch(e.n){case 0:for(a in o.nivel="",o.niveles=[],o.grado="",o.grados=[],o.seccion="",o.secciones=[],o.curso="",o.cursos=[],n=[],r=o.ngsc[o.salon.NEMO].data[o.grupo].data||{},r)t=r[a],n.push({label:t.info.INSTRUDES,value:t.info.INSTRUCOD});o.niveles=n;case 1:return e.a(2)}},e)}))()},loadGrados:function(){this.grado="",this.grados=[],this.seccion="",this.secciones=[],this.curso="",this.cursos=[];var o=[],e=this.ngsc[this.salon.NEMO].data[this.grupo].data[this.nivel].data||{};for(var n in e){var r=e[n];o.push({label:r.info.GRADODES,value:r.info.GRADOCOD})}this.grados=o},loadSecciones:function(){this.seccion="",this.secciones=[],this.curso="",this.cursos=[];var o=[],e=this.ngsc[this.salon.NEMO].data[this.grupo].data[this.nivel].data[this.grado].data||{};for(var n in e){var r=e[n];o.push({label:r.info.SECCIONDES,value:r.info.SECCIONCOD})}this.secciones=o},getCursosPreCargado:function(){this.rowsCursos=this.todosLosCursos[this.anioCurso]||[],this.rowsTrabajos=[],this.currentCurso={}},rowSelectedDbl:function(o){this.currentCurso=o,this.rowsTrabajos=[]},getCursoPorDocente:function(o){return this.$http.get("api/HyoClase/listarClaseDetalle",{params:{params:{profesor:o}}})},saveHomologar:function(){var o=this;return q()(G()().m(function e(){var n,r,a,t,s,i;return G()().w(function(e){while(1)switch(e.p=e.n){case 0:return o.$q.loading.show(),e.p=1,n={idCursoClassroom:o.currentCurso.id,id_ambito:o.salon.ID_AMBITO,id_curso:o.curso.ID_CURSO,id_clase:o.grupo.ID_CLASE,periodo:o.periodo},e.n=2,o.$http.post("api/HyoClassRoom/homologar",n);case 2:return r=e.v,a=r.message,o.curso="",o.currentCurso.homologado="SI",o.currentCurso.descripcion=o.salon.DESCAMBITO,o.openHomologar=!1,e.n=3,o.getTrabajos(o.currentCurso.id);case 3:o.$notify(a,"success"),e.n=5;break;case 4:e.p=4,i=e.v,t=i.error,s=t.msg||"No ha sido posible asociar el curso.",o.$notify(s,"warning");case 5:o.$q.loading.hide();case 6:return e.a(2)}},e,null,[[1,4]])}))()},openTrabajos:function(o,e){var n=this;return q()(G()().m(function r(){return G()().w(function(r){while(1)switch(r.n){case 0:if("SI"!==o.homologado){r.n=2;break}return n.currentCurso=e,r.n=1,n.getTrabajos(o.id);case 1:r.n=3;break;case 2:n.currentCurso={},n.rowsTrabajos=[],n.$notify("Este curso no está asociado, las tareas no se mostrarán.","warning");case 3:return r.a(2)}},r)}))()},conectarGoogle:function(o){var e=this;return q()(G()().m(function n(){var r,a,t,s;return G()().w(function(n){while(1)switch(n.p=n.n){case 0:if(e.loadingInformacion=!0,e.rowsCursos=[],e.rowsTrabajos=[],e.isLogged=!1,n.p=1,!0!==o.LOGGIN){n.n=3;break}return n.n=2,e.getCursos(o.USUCOD);case 2:e.isLogged=!0,n.n=5;break;case 3:return delete window.localStorage._apiGoogle,n.n=4,e.$http.get("api/HyoGoogle/getUrl",{params:{classroom:!0,usucod:o.USUCOD}});case 4:r=n.v,a=r.json,"string"===typeof a?(0,to["default"])(a,"_system",500,500):a.constructor===Object?(e.profesorApi.COLOR=fo,e.profesorApi.LOGGIN=!0,e.isLogged=!0):e.$notify(a.message,"warning");case 5:n.n=7;break;case 6:n.p=6,s=n.v,t=s.error||{},e.$notify(t.message||"No ha sido posible conectar con google.","warning");case 7:e.loadingInformacion=!1;case 8:return n.a(2)}},n,null,[[1,6]])}))()},getProfeApisUsuario:function(){return this.$http.get("api/HyoClassRoom/getProfeApisUsuario")},filter:function(o,e){var n=this;e(function(){try{n.profesoresApis=n.profesoresApisCopy.filter(function(e){return e["NOMCOMP"].toLowerCase().indexOf(o.toLowerCase())>-1})}catch(o){}})}},created:function(){var o=this;return q()(G()().m(function e(){var n,r;return G()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,o.getProfeApisUsuario();case 1:if(o.profesoresApis=e.v,o.profesoresApisCopy=JSON.parse(JSON.stringify(o.profesoresApis)),1!==o.profesoresApis.length){e.n=5;break}if(n=JSON.parse(JSON.stringify(o.profesoresApis[0])),!0!==n.LOGGIN){e.n=3;break}return o.isLogged=!0,o.profesorApi=n,e.n=2,o.getCursos(n.USUCOD);case 2:e.n=5;break;case 3:return e.n=4,o.$confirmar("No hay una sesión activa con su cuenta de google ¿Desea iniciar sesión?","info");case 4:r=e.v,r&&o.conectarGoogle(n);case 5:return o.formHomologar.anio=String((new Date).getFullYear()),e.n=6,o.getAnios();case 6:window.currentSieCloud=!1,(0,ao.watchAuth2)(["_apiGoogle"],function(){var e=q()(G()().m(function e(n,r){var a,t,s,i,l,u;return G()().w(function(e){while(1)switch(e.p=e.n){case 0:l=r,e.n="_apiGoogle"===l?1:7;break;case 1:return o.loadingInformacion=!0,e.p=2,a=o.profesorApi.USUCOD,e.n=3,o.$http.post("api/HyoGoogle/conectar",{codigo:n,usucod:a});case 3:return t=e.v,s=t.json,e.n=4,o.getCursos(a);case 4:o.isLogged=!0,o.profesorApi.COLOR=fo,o.profesorApi.LOGGIN=!0,o.$notify(s.message,"success"),e.n=6;break;case 5:e.p=5,u=e.v,i=u.error||{},o.$notify(i.msg||i.message||"No ha sido posible crear el curso.","warning");case 6:return o.loadingInformacion=!1,e.a(3,7);case 7:return e.a(2)}},e,null,[[2,5]])}));return function(o,n){return e.apply(this,arguments)}}());case 7:return e.a(2)}},e)}))()}},wo=n(12807);const Io=(0,wo.A)(Co,[["render",P]]);var Ao=Io}}]);