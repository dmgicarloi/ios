"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[90410],{90410:function(a,e,t){t.r(e),t.d(e,{default:function(){return Na}});t(515);var o=t(61758),n=t(58790),i={key:1,class:"col column"},r={class:"row justify-center bg-white"},s={key:0,class:"q-ma-sm text-bold"},l={class:"column bg-white"},c={class:"q-ma-sm row justify-end"},u={class:"text-bold"},d=["innerHTML"];function m(a,e){var t=this,m=(0,o.g2)("sie-vacio"),E=(0,o.g2)("q-step"),f=(0,o.g2)("q-stepper"),p=(0,o.g2)("cierre"),A=(0,o.g2)("q-tooltip"),O=(0,o.g2)("q-btn"),h=(0,o.g2)("q-page-sticky"),S=(0,o.g2)("sie-modal"),D=(0,o.g2)("sie-select"),C=(0,o.g2)("q-page");return(0,o.uX)(),(0,o.Wv)(C,{class:"column"},{default:(0,o.k6)(function(){return[a.configuracion.hasOwnProperty("M_ESTADO_MATRICULADO")&&1!==t.ordenParametros.length?((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[a.matriculaActiva?((0,o.uX)(),(0,o.CE)("div",i,[a.mostrarStepper&&!a.goCierre?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.Lk)("div",r,[a.esSU?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.CE)("span",s,(0,n.v_)(a.parametros.DESCRIPCION+" "+a.dataAno.ANO),1))]),(0,o.Lk)("div",l,[(0,o.Lk)("div",c,[(0,o.Lk)("span",u,(0,n.v_)(a.dataEstudiante.NOMCOMP),1)]),(0,o.bF)(f,{class:"pasos pasos-anteriores",modelValue:a.ordenParametros[a.ordenActual].PASO},{default:(0,o.k6)(function(){return[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.ordenParametros,function(a){return(0,o.uX)(),(0,o.Wv)(E,{name:a.PASO,title:a.DESCRIPCION,order:a.ORDEN},null,8,["name","title","order"])}),256))]}),_:1},8,["modelValue"])])],64)):(0,o.Q3)("v-if",!0),!a.ordenParametros||a.goCierre||a.cargando?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.Wv)((0,o.$y)(a.ordenParametros[a.ordenActual].PASO),{key:1,class:"col column",ano:a.dataAno,configuracion:a.configuracion,parametros:a.parametros,orden:a.ordenActual,dataOrden:a.ordenParametros[a.ordenActual],onIrAEstado:a.cambiarEstado,estudiante:a.dataEstudiante,separaDocumentos:a.separaDocumentos,estMat:a.matriEst,etiquetas:a.etiquetas},null,40,["ano","configuracion","parametros","orden","dataOrden","onIrAEstado","estudiante","separaDocumentos","estMat","etiquetas"])),a.goCierre?((0,o.uX)(),(0,o.Wv)(p,{key:2,ano:a.dataAno,configuracion:a.configuracion,parametros:a.parametros,orden:a.ordenActual,onIrAEstado:a.cambiarEstado,estudiante:a.dataEstudiante,separaDocumentos:a.separaDocumentos,estMat:a.matriEst,etiquetas:a.etiquetas},null,8,["ano","configuracion","parametros","orden","onIrAEstado","estudiante","separaDocumentos","estMat","etiquetas"])):(0,o.Q3)("v-if",!0),Object.keys(a.msgPermanente).length>0&&a.ordenActual>0?((0,o.uX)(),(0,o.Wv)(h,{key:3,expand:"",position:"bottom-right",offset:[20,20]},{default:(0,o.k6)(function(){return[(0,o.bF)(O,{color:"primary",fab:"",size:"md",icon:"file_text_o",onClick:e[0]||(e[0]=function(e){return a.modalPermanente=!0})},{default:(0,o.k6)(function(){return[(0,o.bF)(A,null,{default:(0,o.k6)(function(){return[(0,o.eW)((0,n.v_)(a.msgPermanente.MSJ_BOTON),1)]}),_:1})]}),_:1})]}),_:1})):(0,o.Q3)("v-if",!0),(0,o.bF)(S,{modelValue:a.modalPermanente,"onUpdate:modelValue":e[1]||(e[1]=function(e){return a.modalPermanente=e}),title:a.msgPermanente.MSJ_BOTON,onSubmit:e[2]||(e[2]=function(e){return a.modalPermanente=!1})},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",{class:"q-ma-sm",innerHTML:a.msgPermanente.MENSAJE},null,8,d)]}),_:1},8,["modelValue","title"])])):((0,o.uX)(),(0,o.Wv)(m,{key:0,class:"bg-white col",subtitle:"mensajes.m0049",title:"mensajes.m0000",icon:"signal_cellular_no_sim"})),(0,o.bF)(S,{modelValue:a.modalEstados,"onUpdate:modelValue":e[5]||(e[5]=function(e){return a.modalEstados=e}),footer:!1},{default:(0,o.k6)(function(){return[(0,o.bF)(D,{class:"q-ma-sm",noBottom:!0,modelValue:a.estadoSelect,"onUpdate:modelValue":e[3]||(e[3]=function(e){return a.estadoSelect=e}),type:"outlined",options:a.ordenParametrosAdicional,val:"index",onSelected:e[4]||(e[4]=function(e){return a.cambiarEstado(a.estadoSelect,a.dataEstudiante,!0)}),label:"DESCRIPCION",placeholder:"Selecciona paso"},null,8,["modelValue","options"])]}),_:1},8,["modelValue"])],64)):((0,o.uX)(),(0,o.Wv)(m,{key:0,class:"bg-white col",subtitle:"mensajes."+a.mensajeError,title:"mensajes.m0000",icon:"signal_cellular_no_sim"},null,8,["subtitle"]))]}),_:1})}var E=t(8445),f=t.n(E),p=(t(10239),t(89571),t(50310),t(90095),t(83190),t(76921),t(13600),t(52776),t(37406),t(44264),t(81813),t(13715),t(6123)),A=t(80660),O=t(69027),h=t(57668),S=t(80340),D={class:"col column"},C={key:0,class:"col column items-center justify-center"},g={key:1,class:"col"};function v(a,e){var t=(0,o.g2)("sie-familia"),i=(0,o.g2)("sie-vacio"),r=(0,o.g2)("q-td"),s=(0,o.g2)("q-btn"),l=(0,o.g2)("q-tr"),c=(0,o.g2)("q-table"),u=(0,o.g2)("reportes-matricula"),d=(0,o.g2)("sie-modal");return(0,o.uX)(),(0,o.CE)("div",D,[(0,o.bF)(t,{model:a.familiaSelect,onSelected:a.cambiaFamilia},null,8,["model","onSelected"]),!a.dataHijos.length>0?((0,o.uX)(),(0,o.CE)("div",C,[(0,o.bF)(i,{class:"col",subtitle:"mensajes.m0048",title:"mensajes.m0000",icon:"person"})])):((0,o.uX)(),(0,o.CE)("div",g,[(0,o.bF)(c,{class:"q-ma-xs","row-key":"ALUCOD",data:a.dataHijos,columns:a.tablaMatricular.columns,"hide-bottom":""},{body:(0,o.k6)(function(e){return[(0,o.bF)(l,{props:e},{default:(0,o.k6)(function(){return[(0,o.bF)(r,{key:"NOMCOMP",props:e,onClick:function(t){return a.iniciarProceso(e.row)}},{default:(0,o.k6)(function(){return[(0,o.eW)((0,n.v_)(e.row.NOMCOMP),1)]}),_:2},1032,["props","onClick"]),(0,o.bF)(r,{key:"NGS",props:e,onClick:function(t){return a.iniciarProceso(e.row)}},{default:(0,o.k6)(function(){return[(0,o.eW)((0,n.v_)(e.row.NGS),1)]}),_:2},1032,["props","onClick"]),(0,o.bF)(r,{key:"ESTADO",props:e,onClick:function(t){return a.iniciarProceso(e.row)}},{default:(0,o.k6)(function(){return[(0,o.eW)((0,n.v_)(e.row.ESTADODES),1)]}),_:2},1032,["props","onClick"]),(0,o.bF)(r,{key:"MATRICULAR",props:e},{default:(0,o.k6)(function(){return[e.row.ICONO?((0,o.uX)(),(0,o.Wv)(s,{key:0,icon:e.row.ICONO,round:"",flat:"",dense:"",onClick:function(t){return a.iniciarProceso(e.row)}},null,8,["icon","onClick"])):(0,o.Q3)("v-if",!0)]}),_:2},1032,["props"])]}),_:2},1032,["props"])]}),_:1},8,["data","columns"])])),(0,o.bF)(d,{modelValue:a.imprimir,"onUpdate:modelValue":e[0]||(e[0]=function(e){return a.imprimir=e}),title:"Imprimir Documentos "+a.estudianteAux.NOMBRES,footer:!1},{default:(0,o.k6)(function(){return[(0,o.bF)(u,{class:"col",parametros:a.parametros,ano:a.ano.ANO,configuracion:a.configuracion,estudiante:a.estudianteAux},null,8,["parametros","ano","configuracion","estudiante"])]}),_:1},8,["modelValue","title"])])}t(30683);var b=t(18105),M=t(96529),I=t(30545),T=t(30640),k=t(21675),N={emits:["irAEstado"],components:{QTable:I.A,QTr:p.qh,QTd:p.Ef,dialogConfirm:O.dialogConfirm,QTooltip:p.nC,sieVacio:S.A,sieFamilia:M.A,sieModal:T.A,reportesMatricula:k.A,QBtn:p.Il},props:["ano","configuracion","dataOrden","estMat","estudiante","parametros"],data:function(){return{sie:(0,h["default"])(),permiso:(0,h["default"])().ruta.nivel,familiaSelect:null,esFamilia:(0,h["default"])().esFamilia,dataHijos:[],nivelesSeccion:[],tablaMatricular:{columns:[{name:"NOMCOMP",label:this.$t("apellidosynombres"),align:"left",field:"NOMCOMP"},{name:"NGS",label:this.$t("ngs.ngs"),align:"center",field:"NGS"},{name:"ESTADO",label:this.$t("matricula.estado"),align:"center",field:"ESTADO"}]},mostrarBloqueado:!1,mensajeInicial:null,imprimir:!1,estudianteAux:{}}},methods:{cambiaFamilia:function(a){var e=this;this.familiaSelect=a.FAMCOD;var t={ano:this.ano.ANO,famcod:a.FAMCOD};a.FAMCOD&&A.$http.post("api/HyoDeclaracionalumno/obtEstadosHijos",t).then(function(a){var t=a.json;t.forEach(function(a){switch(a.HOY=(0,b.Ay)(new Date,"DD MMMM YYYY"),a.NGS=a.INSTRUCOD+a.GRADOCOD+(a.SECCIONCOD||""),a.ESTADODES=null,a.ESTADO){case 1:a.ESTADODES="Sin Presentar";break;case 2:a.ESTADODES="Pendiente";break;case 3:a.ESTADODES="Rechazado";break;case 4:a.ESTADODES="Aprobado";break}}),e.dataHijos=t})},validaMatricular:function(a){var e=["F","R","E","T","V"],t=[this.estMat[this.configuracion["M_ESTADO_MATRICULADO"]].valorEstado,"Z","A"].indexOf(a.ESTADO_INTRA)<0;this.configuracion["M_SOLO_INVICTOS"]&&(e=[].concat(f()(e),["J","S"]));var o=e.indexOf(a.ESTADO)<0;return o&&t&&a.DISPMAT&&this.permiso>1},iniciarProceso:function(a){[1,3].indexOf(a.ESTADO)>=0&&this.permiso>=2&&this.$emit("irAEstado",1,a)},printDocuments:function(a){this.estudianteAux=a,this.imprimir=[this.estMat[this.configuracion["M_ESTADO_MATRICULADO"]].valorEstado,"M"].indexOf(a["ESTADO_INTRA"])>=0}},mounted:function(){var a=this;switch(this.configuracion["M_VER_SECCIONES"]){case 1:this.nivelesSeccion.push("I");break;case 2:this.nivelesSeccion.push("P");break;case 3:this.nivelesSeccion.push("S");break;case 4:this.nivelesSeccion.push("I"),this.nivelesSeccion.push("P");break;case 5:this.nivelesSeccion.push("I"),this.nivelesSeccion.push("S");break;case 6:this.nivelesSeccion.push("P"),this.nivelesSeccion.push("S");break;case 7:this.nivelesSeccion.push("I"),this.nivelesSeccion.push("P"),this.nivelesSeccion.push("S");break}this.tablaMatricular.columns.push({name:"MATRICULAR",label:"Procesar",align:"center",field:"MATRICULAR"}),this.configuracion["M_MENSAJE_INGRESO"]&&A.$http.get("api/HyoMatriculamensaje/obtMensajeAno",{params:{ano:this.ano.ANO,momento:["Z"]}}).then(function(e){var t=e.json;a.mensajeInicial=t[0]?t[0].MENSAJE:""}),this.estudiante&&this.cambiaFamilia(this.estudiante)}},L=t(12807);const P=(0,L.A)(N,[["render",v]]);var R=P,F=t(76461);function _(a,e){var t=(0,o.g2)("documentos");return(0,o.uX)(),(0,o.Wv)(t,{ano:a.ano,configuracion:a.configuracion,dataOrden:a.dataOrden,estudiante:a.estudiante,parametros:a.parametros,separaDocumentos:a.separaDocumentos,onIrAEstado:a.avanzar,condiciones:!0},null,8,["ano","configuracion","dataOrden","estudiante","parametros","separaDocumentos","onIrAEstado"])}var y={emits:["irAEstado"],components:{QTable:I.A,QTr:p.qh,QTd:p.Ef,dialogConfirm:O.dialogConfirm,QTooltip:p.nC,sieVacio:S.A,sieFamilia:M.A,sieModal:T.A,QInnerLoading:p.SQ,QCollapsible:p.eS,QItem:p.H0,QList:p.Mb,documentos:F.A},props:["ano","configuracion","dataOrden","estudiante","parametros","separaDocumentos"],data:function(){return{}},methods:{avanzar:function(a){this.$emit("irAEstado",a,null,!0)}},mounted:function(){}};const U=(0,L.A)(y,[["render",_]]);var Q=U,q=(t(68017),t(29104)),V={class:"col bg-white column"},X={class:"row"},j={class:"row"},w={class:"q-item-label"},x={key:0,class:"row q-ml-sm q-item-label"},$={class:"q-item-sublabel"},B={key:0,class:"q-table q-table-horizontal-separator q-card"},H={class:"col"},J={key:0,class:"col"},W={key:1,class:"col"},K={key:0,class:"q-table q-table-horizontal-separator q-card"},z={class:"col"},G={key:0,class:"col"},Y={class:"row justify-center"},Z={key:1,class:"col"},aa={class:"row justify-center"},ea={class:"row justify-center q-ma-sm"},ta={class:"row"};function oa(a,e){var t=(0,o.g2)("q-icon"),i=(0,o.g2)("q-item-side"),r=(0,o.g2)("q-item-main"),s=(0,o.g2)("q-item"),l=(0,o.g2)("q-btn"),c=(0,o.g2)("q-collapsible"),u=(0,o.g2)("q-item-separator"),d=(0,o.g2)("q-card"),m=(0,o.g2)("q-scroll-area"),E=(0,o.g2)("q-toolbar"),f=(0,o.g2)("sie-upload"),p=(0,o.g2)("sie-modal"),A=(0,o.g2)("q-spinner-oval"),O=(0,o.g2)("q-inner-loading");return(0,o.uX)(),(0,o.CE)("div",V,[a.cargandoInfo?(0,o.Q3)("v-if",!0):((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.bF)(m,{class:"col",style:(0,n.Tr)({"max-height":a.alto})},{default:(0,o.k6)(function(){return[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.infoValidacion["parametros"],function(e,m){return(0,o.uX)(),(0,o.CE)("div",X,[(0,o.bF)(d,{class:"q-ma-xs col"},{default:(0,o.k6)(function(){return[(0,o.bF)(s,{class:(0,n.C4)(["col item-especial",e.COLOR])},{default:(0,o.k6)(function(){return[(0,o.bF)(i,null,{default:(0,o.k6)(function(){return[(0,o.bF)(t,{name:e.ICONO,size:"25px"},null,8,["name"])]}),_:2},1024),(0,o.bF)(r,{label:e.DESCRIPCION,sublabel:a.$t(a.infoValidacion.mensajes[e.ID][e.MENSAJE]),class:(0,n.C4)(e.COLOR)},null,8,["label","sublabel","class"])]}),_:2},1032,["class"]),e.DETALLE?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(Object.keys(e.DETALLE),function(t){return(0,o.uX)(),(0,o.Wv)(c,{key:t,popup:"",opened:"T"===t},{header:(0,o.k6)(function(){return[(0,o.bF)(s,{class:"col"},{default:(0,o.k6)(function(){return[(0,o.bF)(r,{class:"column c-green"},{default:(0,o.k6)(function(){return[(0,o.Lk)("div",j,[(0,o.Lk)("span",w,(0,n.v_)(e.DETALLE[t][0].DESCRIPCION),1),null!==e.DETALLE[t][0].ESTADODOCU&&"documentos"===e.TIPO?((0,o.uX)(),(0,o.CE)("div",x,[(0,o.Lk)("span",{class:(0,n.C4)(["text-bold",{"text-red":2===e.DETALLE[t][0].ESTADODOCU}])},"Estado:",2),(0,o.Lk)("span",{class:(0,n.C4)({"text-red":2===e.DETALLE[t][0].ESTADODOCU})},(0,n.v_)(a.$t("estadoDocu."+e.DETALLE[t][0].ESTADODOCU)),3)])):(0,o.Q3)("v-if",!0)]),(0,o.Lk)("span",$,(0,n.v_)(e.DETALLE[t][0].EXONERADO?a.$t("matricula.exonerado"):""),1)]}),_:2},1024),(0,o.bF)(i,{right:""},{default:(0,o.k6)(function(){return[e.DETALLE[t][0].SUBEDOC&&!e.DETALLE[t][0].ARCHIVO&&!e.DETALLE[t][0].file&&!e.DETALLE[t][0].NOMFILE||2===e.DETALLE[t][0].ESTADODOCU?((0,o.uX)(),(0,o.Wv)(l,{key:0,label:a.$t("matricula.agregardocumento"),icon:"upload",color:"secondary",onClick:(0,q.D$)(function(o){return a.subirDocumento(e.DETALLE[t][0],m)},["stop"]),dense:""},null,8,["label","onClick"])):(0,o.Q3)("v-if",!0)]}),_:2},1024)]}),_:2},1024)]}),default:(0,o.k6)(function(){return["pago"!==e.TIPO?((0,o.uX)(),(0,o.CE)("table",B,[(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.titulos[e.TIPO],function(e){return(0,o.uX)(),(0,o.CE)("th",H,(0,n.v_)(a.$t(e.titulo)),1)}),256))])]),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.DETALLE[t],function(t){return(0,o.uX)(),(0,o.CE)("tr",{key:t.ANO},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.titulos[e.TIPO],function(e){return(0,o.uX)(),(0,o.CE)(o.FK,null,[e.fecha?((0,o.uX)(),(0,o.CE)("td",W,(0,n.v_)(a.date(t[e.campo],"DD/MM/YYYY")),1)):((0,o.uX)(),(0,o.CE)("td",J,(0,n.v_)(t[e.campo]),1))],64)}),256))])}),128))])])):((0,o.uX)(),(0,o.CE)(o.FK,{key:1},[e.DETALLE[t][0]["MONTOPAG"]?((0,o.uX)(),(0,o.CE)("table",K,[(0,o.Lk)("thead",null,[(0,o.Lk)("tr",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.titulos[e.TIPO],function(e){return(0,o.uX)(),(0,o.CE)("th",z,(0,n.v_)(a.$t(e.titulo)),1)}),256))])]),(0,o.Lk)("tbody",null,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.DETALLE[t],function(t){return(0,o.uX)(),(0,o.CE)("tr",{key:t.ANO,class:(0,n.C4)({"text-green":"c-green"===t.COLOR.trim(),"text-red":"c-red"===t.COLOR.trim()})},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.titulos[e.TIPO],function(e){return(0,o.uX)(),(0,o.CE)(o.FK,null,[e.fecha?((0,o.uX)(),(0,o.CE)("td",Z,[(0,o.Lk)("div",aa,[(0,o.Lk)("span",null,(0,n.v_)(a.date(t[e.campo],"DD/MM/YYYY")),1)])])):((0,o.uX)(),(0,o.CE)("td",G,[(0,o.Lk)("div",Y,[(0,o.Lk)("span",null,(0,n.v_)(t[e.campo]),1)])]))],64)}),256))],2)}),128))])])):(0,o.Q3)("v-if",!0)],64))]}),_:2},1032,["opened"])}),128)),(0,o.bF)(u)],64)):(0,o.Q3)("v-if",!0)]}),_:2},1024)])}),256))]}),_:1},8,["style"]),(0,o.Lk)("div",ea,[(0,o.Lk)("span",{class:(0,n.C4)(a.infoValidacion.estadoFinal?"correcto":"error")},(0,n.v_)(a.mensajeEstado),3)]),(0,o.bF)(E,{class:"justify-center",inverted:""},{default:(0,o.k6)(function(){return[(0,o.bF)(l,{class:"q-ma-xs",color:"secondary",onClick:e[0]||(e[0]=function(e){return a.cambiarEstado(a.dataOrden.index-1)})},{default:(0,o.k6)(function(){return[(0,o.eW)((0,n.v_)(a.$t("botones.atras")),1)]}),_:1}),a.infoValidacion.estadoFinal?((0,o.uX)(),(0,o.Wv)(l,{key:0,class:"q-ma-xs",color:"secondary",onClick:e[1]||(e[1]=function(e){return a.cambiarEstado(a.dataOrden.index+1)})},{default:(0,o.k6)(function(){return[(0,o.eW)((0,n.v_)(a.$t("botones.siguiente")),1)]}),_:1})):(0,o.Q3)("v-if",!0)]}),_:1}),(0,o.bF)(p,{modelValue:a.modalDocumento,"onUpdate:modelValue":e[3]||(e[3]=function(e){return a.modalDocumento=e}),title:"Seleccionar Documento",onSubmit:a.subirFile},{default:(0,o.k6)(function(){return[(0,o.bF)(f,{onUpload:a.addFile,icon:"file",title:a.$t("subirArchivos"),allow:["pdf","doc","docx"],modelValue:a.infoUpd.file,"onUpdate:modelValue":e[2]||(e[2]=function(e){return a.infoUpd.file=e})},null,8,["onUpload","title","modelValue"])]}),_:1},8,["modelValue","onSubmit"])],64)),(0,o.bF)(O,{class:"col",visible:a.cargandoInfo},{default:(0,o.k6)(function(){return[(0,o.bF)(A,{size:"50px",color:"primary"}),(0,o.Lk)("div",ta,[(0,o.Lk)("label",null,(0,n.v_)(a.$t("cargando")),1)])]}),_:1},8,["visible"])])}var na=t(57008),ia=t.n(na),ra=(t(56285),t(96122)),sa=t(32195),la=t(982),ca=t(59089),ua=t(33950),da={emits:["irAEstado"],components:{QTable:I.A,QTr:p.qh,QTd:p.Ef,dialogConfirm:O.dialogConfirm,QTooltip:p.nC,sieVacio:S.A,sieFamilia:M.A,sieModal:T.A,QInnerLoading:p.SQ,QCollapsible:p.eS,QItem:p.H0,QList:p.Mb,sieCloud:sa.A,sieUpload:ca.A,QScrollArea:ra.A,QSpinnerOval:p.VA,QCard:p.C$,QItemSide:p.n1,QIcon:p.bP,QItemMain:p.mF,QBtn:p.Il,QItemSeparator:p.CL,QToolbar:p.ZV},props:["ano","configuracion","dataOrden","estudiante","parametros"],data:function(){return{sie:(0,h["default"])(),infoValidacion:{},cargandoInfo:!0,mensajeEstado:"",permiteSeguir:null,alto:0,titulos:{cursos:[{tipo:"cursos",titulo:"ano",campo:"ANO"},{tipo:"cursos",titulo:"ngs.nivel",campo:"INSTRUDES"},{tipo:"cursos",titulo:"ngs.grado",campo:"GRADOCOD"},{tipo:"cursos",titulo:"ngs.seccion",campo:"SECCIONCOD"},{tipo:"cursos",titulo:"curso",campo:"CURSONOM"}],documentos:[{tipo:"documentos",titulo:"ano",campo:"ANO"},{tipo:"documentos",titulo:"documento",campo:"DESCRIPCION"}],deudas:[{tipo:"deudas",titulo:"concepto",campo:"DESCRIPCION"},{tipo:"deudas",titulo:"ano",campo:"ANOCOB"},{tipo:"deudas",titulo:"mes",campo:"MESDES"},{tipo:"pago",titulo:"monto",campo:"MONTOPEN"},{tipo:"deudas",titulo:"fecven",campo:"FECVEN",fecha:!0}],pago:[{tipo:"pago",titulo:"ano",campo:"ANOCOB"},{tipo:"pago",titulo:"mes",campo:"MESDES"},{tipo:"pago",titulo:"concepto",campo:"DESCRIPCION"},{tipo:"pago",titulo:"moneda",campo:"MONNOM"},{tipo:"pago",titulo:"monto",campo:"MONTOPAG"}],biblioteca:[{tipo:"biblioteca",titulo:"motivo",campo:"MOTIVO"}]},modalDocumento:!1,infoUpd:{},indDocumentos:null}},methods:{date:b.Ay,cargaInicial:function(){var a=this,e={alumno:this.estudiante,ano:this.ano.ANO,configuracion:this.configuracion};A.$http.get("api/HyoMatriculaparametros/obtConfiguracionGeneral",{params:e}).then(function(e){var t=e.json;a.infoValidacion=t;var o=a.parametros.DESCRIPCION+" "+a.ano.ANO;a.dataOrden.MENSAJE="Debe adjuntar los documentos requeridos",a.mensajeEstado=t.estadoFinal?a.$t(a.dataOrden["AVISO"])+" "+o:a.dataOrden.MENSAJE,a.cargandoInfo=!1})},cambiarEstado:function(a){this.$emit("irAEstado",a,this.estudiante,!0)},subirDocumento:function(a,e){this.infoUpd=a,this.modalDocumento=!0,this.indDocumentos=e},addFile:function(a){var e=this;(0,ua.Upload)({url:"api/HyoArchivo/tmp/upload",file:a[0]}).then(function(a){e.infoUpd.file=a}).catch(function(){})},subirFile:function(){var a=this;this.modalDocumento=!1;var e=this.permiteSeguir?1:0,t={alucod:this.infoUpd.ALUCOD,ano:this.infoUpd.ANO,docnom:this.infoUpd.file.name,doccod:this.infoUpd.TIPO,rutaTmp:"tmp",estado:e,configuracion:this.configuracion};A.$http.post("api/HyoDocumatalumno/grabarDocumento",t).then(function(t){var o=t.json;if("yes"===o){if((0,la["default"])(a.$t("mensajes.m0001"),"success"),a.infoUpd.NOMFILE=a.infoUpd.TIPO+"'pdf",a.infoUpd.ESTADODOCU=e,a.permiteSeguir){var n=0,i=0,r=ia()({},a.infoValidacion.parametros[a.indDocumentos].DETALLE);Object.keys(r).forEach(function(a){var e=r[a][0];1===e.SUBEDOC&&(n++,2!==e.ESTADODOC&&(e.file||e.NOMFILE)&&i++)}),n===i&&a.cargaInicial()}}else(0,la["default"])(a.$t("mensajes.e0006"),"error")})},handleResize:function(){var a=70;this.alto=window.innerHeight-a+"px"}},unmounted:function(){window.removeEventListener("resize",this.handleResize)},mounted:function(){this.permiteSeguir=1!==this.configuracion["M_MUESTRA_ESTADO_DOC"],this.cargaInicial(),window.addEventListener("resize",this.handleResize),this.handleResize()}};const ma=(0,L.A)(da,[["render",oa]]);var Ea=ma,fa={class:"col q-card q-pa-sm"},pa={key:0,class:"row justify-around wrap"},Aa={class:"column col q-ma-sm"},Oa=["innerHTML"],ha={class:"row q-pa-xs justify-around wrap"},Sa=["innerHTML"],Da={class:"col row justify-center q-ma-xs"};function Ca(a,e){var t=(0,o.g2)("q-btn"),i=(0,o.g2)("sie-modal"),r=(0,o.g2)("q-spinner-oval"),s=(0,o.g2)("q-inner-loading");return(0,o.uX)(),(0,o.CE)("div",fa,[a.botones.length>0?((0,o.uX)(),(0,o.CE)("div",pa,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.botones,function(e){return(0,o.uX)(),(0,o.Wv)(t,{icon:e.ICONO,label:e.TEXTO,color:"secondary",onClick:function(t){return a.abrirBoton(e)}},null,8,["icon","label","onClick"])}),256))])):(0,o.Q3)("v-if",!0),(0,o.bF)(i,{modelValue:a.modalBtn,"onUpdate:modelValue":e[0]||(e[0]=function(e){return a.modalBtn=e}),title:a.dataBtn.TEXTO},{footer:(0,o.k6)(function(){return[(0,o.Lk)("div",ha,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(a.dataBtn.REPORTES,function(e){return(0,o.uX)(),(0,o.Wv)(t,{label:e.TITULO,icon:"file_pdf_o",onClick:function(t){return a.imprimir(e)}},null,8,["label","onClick"])}),256))])]}),default:(0,o.k6)(function(){return[(0,o.Lk)("div",Aa,[(0,o.Lk)("div",{class:"col",innerHTML:a.dataBtn.MENSAJE},null,8,Oa)])]}),_:1},8,["modelValue","title"]),a.mensaje?((0,o.uX)(),(0,o.CE)("div",{key:1,class:"col",innerHTML:a.mensaje.MENSAJE},null,8,Sa)):(0,o.Q3)("v-if",!0),(0,o.Lk)("div",Da,[(0,o.bF)(t,{label:a.$t("intranet.matricula.regresar"),color:"secondary",onClick:a.volver},null,8,["label","onClick"])]),(0,o.bF)(s,{class:"col",visible:a.cargando},{default:(0,o.k6)(function(){return[(0,o.bF)(r,{size:"50px",color:"primary"}),(0,o.Lk)("label",null,(0,n.v_)(a.$t("cargando")),1)]}),_:1},8,["visible"])])}var ga=t(78131),va={emits:["irAEstado"],props:["ano","configuracion","dataOrden","estudiante","parametros","separaDocumentos","estMat","etiquetas"],components:{QTr:p.qh,QTd:p.Ef,QTooltip:p.nC,QInnerLoading:p.SQ,QCollapsible:p.eS,QItem:p.H0,QList:p.Mb,QCheckbox:p.vZ,QRadio:p.$,QSpinnerOval:p.VA,reportesMatricula:k.A,QListHeader:p.XR,sieModal:T.A,QBtn:p.Il},data:function(){return{tipo:0,cargando:!0,mensaje:{MENSAJE:""},parametrosRep:{},botones:[],dataBtn:{},modalBtn:!1}},methods:{validaMatricular:function(a){var e=["F","R","E","T","V"],t=[this.estMat[this.configuracion["M_ESTADO_MATRICULADO"]].valorEstado,"Z","A"].indexOf(a.ESTADO_INTRA)<0;this.configuracion["M_SOLO_INVICTOS"]&&(e=[].concat(f()(e),["J","S"]));var o=e.indexOf(a.ESTADO)<0;return o&&t&&a.DISPMAT},volver:function(){this.$emit("irAEstado",0)},abrirBoton:function(a){this.dataBtn=ia()({},a),this.modalBtn=!0},imprimir:function(a){(0,ga["default"])(a.url,a.TITULO+".pdf")},cargarMensaje:function(a){var e=this,t=ia()({},this.estudiante),o=function(a){return e.etiquetas.forEach(function(e){var o=n(e),i=new RegExp("{{"+e+"}}","gi"),r=t[o];a=a.replace(i,r)}),a},n=function(a){var e;switch(a){case"FAMRESPMAT":e="FAMRESPMATNOM";break;case"FAMRESP":e="FAMRESPNOM";break;case"INSTRUDES":e="NIVEL";break;default:e=a;break}return e};A.$http.get("api/HyoMatriculamensaje/obtMensajeAno",{params:{ano:this.ano.ANO,momento:["F"]}}).then(function(a){var t=a.json;t[0]||(t[0]={MENSAJE:""}),t[0].MENSAJE=o(t[0].MENSAJE),e.mensaje=t[0]}),this.configuracion["M_CONF_BOTONES"]&&A.$http.get("api/HyoMatriculaBotones/getBotones",{params:a}).then(function(a){var t=a.json;e.botones=t}),this.cargando=!1}},mounted:function(){var a=this,e={ANO:this.ano.ANO,ALUCOD:this.estudiante.ALUCOD,ESTADO:this.estMat[this.configuracion["M_ESTADO_MATRICULADO"]].valorEstado,INSTRUCOD:this.estudiante.INSTRUCODL,GRADOCOD:this.estudiante.GRADOCODL,SECCIONCOD:this.estudiante.SECCIONCOD,TRANSFERIR:!!this.configuracion["M_MATRICULA_DIRECTA"],M_TALLERES_GRUPOS:!!this.configuracion["M_TALLERES_GRUPOS"],MOVILIDAD:!!this.configuracion["M_MOVILIDADESP"],configuracion:this.configuracion,FAMCOD:this.estudiante.FAMCOD,NUEVO:this.estudiante.NUEVO,TOKEN:(0,h["default"])().token},t={alucod:this.estudiante.ALUCOD,ano:this.ano.ANO,id:this.estudiante.ID,estado:this.configuracion["C_ESTADO_FINAL"]};A.$http.post("api/HyoDeclaracionalumno/grabarDeclaracion",t).then(function(t){t.json;a.cargarMensaje(e)}),this.cargarMensaje(e)}};const ba=(0,L.A)(va,[["render",Ca]]);var Ma=ba,Ia=t(93616),Ta={components:{QTable:p.kH,QTr:p.qh,QTd:p.Ef,dialogConfirm:O.dialogConfirm,QTooltip:p.nC,sieVacio:S.A,QPageSticky:p._U,inicio:R,sieModal:T.A,sieSelect:Ia.A,QStepper:p.jn,QStep:p.q$,QStepperNavigation:p.BX,validacion:Ea,bienvenida:F.A,documentos:Q,cierre:Ma,QPage:p.Tu,QBtn:p.Il},data:function(){return{sie:(0,h["default"])(),esSU:"0170"===(0,h["default"])().colcod,mensajeError:["SIE","SIEWEB"].indexOf((0,h["default"])().usucod)>=0?"m0114":"m0049",dataAno:{},dataConfig:[],matriculaActiva:!0,msgPermanente:{},ordenActual:0,ordenParametros:[{ANO:"2020",PASO:"inicio",DESCRIPCION:"Inicio",ESTADO:"S",ORDEN:0,MENSAJE:"errorInicio",AVISO:"regDatosInicio"},{ANO:"2020",PASO:"documentos",DESCRIPCION:"Documentos",ESTADO:"S",ORDEN:1,MENSAJE:"errorBienv",AVISO:"regDatosBienv"}],parametros:{},configuracion:{},modalEstados:!1,modalPermanente:!1,estadoSelect:null,dataEstudiante:{},ordenParametrosAdicional:[],separaDocumentos:!1,goCierre:!1,cargando:!0,matriEst:[{label:"Matriculado",value:0,valorEstado:"S"},{label:"Pre Matriculado",value:1,valorEstado:"P"},{label:"En Proceso",value:2,valorEstado:"Z"},{label:"Por Ratificar",value:3,valorEstado:"R"}],etiquetas:["ALUCOD","NOMCOMP","FAMRESP","FAMRESPDOC","PADNOM","FAMDIR","GRADODES","FAMCOD","FAMDES","MADNOM","FAMRESPMAT","FAMRESPMATDOC","PADNOM","INSTRUDES","HOY","NIVEL","APEPAT","APEMAT","NOMBRES","SEXO","NIVEL","USUARIO","GRADO"]}},methods:{getAnoMatricula:function(){var a=this;this.dataAno.ANO=this.sie.ano,A.$http.get("api/HyoMatriculaconfiguracion/obtConfiguracion",{params:{ano:this.sie.ano,agrupado:!0}}).then(function(e){var t=e.json;a.configuracion=t,a.separaDocumentos=!0,a.ordenParametros.forEach(function(a,e){a.index=e}),a.cargando=!1})},reemplazarDatos:function(a,e){var t=function(a){var e;switch(a){case"FAMRESPMAT":e="FAMRESPMATNOM";break;case"FAMRESP":e="FAMRESPNOM";break;case"INSTRUDES":e="NIVEL";break;default:e=a;break}return e};return this.etiquetas.forEach(function(o){var n=t(o),i=new RegExp("{{"+o+"}}","gi"),r=e[n];a=a.replace(i,r)}),a},cambiarEstado:function(a,e,t){var o=this;e&&(this.dataEstudiante=e);var n=function(){a>0&&A.$http.get("api/HyoMatriculaestados/saveEstado",{params:{ID:o.dataEstudiante.IDORDEN,ALUCOD:o.dataEstudiante.ALUCOD,ANO:o.sie.ano,ORDEN:a}}).then(function(a){var e=a.json;e.ID&&(o.dataEstudiante.IDORDEN=e.ID)}),A.$http.get("api/HyoMatriculaestados/saveEstado",{params:{ID:o.dataEstudiante.IDORDEN,ALUCOD:o.dataEstudiante.ALUCOD,ANO:o.sie.ano,ORDEN:a}}).then(function(a){var e=a.json;e.ID&&(o.dataEstudiante.IDORDEN=e.ID)})};!t&&1===a&&["SIE","SIEWEB"].indexOf(this.sie.usucod)+1?(this.estadoSelect=null,this.goCierre=!1,this.ordenParametrosAdicional=f()(this.ordenParametros),this.ordenParametrosAdicional.splice(0,1),this.ordenParametrosAdicional.push({ANO:this.sie.ano,AVISO:"regDatosValidacion",DESCRIPCION:"Cierre",ESTADO:"S",MENSAJE:"errorValidacion",ORDEN:this.ordenParametros.length,PASO:"cierre"}),this.ordenParametrosAdicional.forEach(function(a,e){a.index=e+1}),this.modalEstados=!0):a<this.ordenParametros.length?(!this.msgPermanente.ESTADO&&this.msgPermanente.MENSAJE&&(this.msgPermanente.MENSAJE=this.reemplazarDatos(this.msgPermanente.MENSAJE,this.dataEstudiante),this.msgPermanente.ESTADO=!0),n(),this.ordenActual=a,this.goCierre=!1):this.goCierre=!0,t&&(this.modalEstados=!1)}},computed:{mostrarStepper:function(){return[0,this.ordenParametros.length].indexOf(this.ordenActual)<0}},created:function(){this.getAnoMatricula(),this.parametros.DESCRIPCION="Actualización de Condiciones Económicas","0170"!==this.sie.colcod&&this.ordenParametros.push({ANO:"2020",PASO:"validacion",DESCRIPCION:"Validación",ESTADO:"S",ORDEN:2,MENSAJE:"errorValidacion",AVISO:"regDatosValidacion"})}};const ka=(0,L.A)(Ta,[["render",m]]);var Na=ka}}]);