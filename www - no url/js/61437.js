"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[61437],{61437:function(e,n,t){t.r(n),t.d(n,{default:function(){return M}});var r=t(61758),o={class:"row q-col-gutter-sm"},a={class:"col-md-4 col-xs-12"},i={class:"col-md-4 col-xs-6"},u={class:"col-md-4 col-xs-6"},l={class:"col-12"};function c(e,n){var t=this,c=(0,r.g2)("header-btn"),s=(0,r.g2)("q-select"),d=(0,r.g2)("sie-table"),f=(0,r.g2)("q-card-section"),m=(0,r.g2)("q-card"),p=(0,r.g2)("q-page");return(0,r.uX)(),(0,r.Wv)(p,{class:"medico--datos-medicos-alumno q-pa-sm"},{default:(0,r.k6)(function(){return[(0,r.bF)(m,{dense:"",flat:"",bordered:""},{default:(0,r.k6)(function(){return[(0,r.bF)(c,{name:e.title},null,8,["name"]),(0,r.bF)(f,null,{default:(0,r.k6)(function(){return[(0,r.Lk)("div",o,[(0,r.Lk)("div",a,[(0,r.bF)(s,{modelValue:e.nivel,"onUpdate:modelValue":n[0]||(n[0]=function(n){return e.nivel=n}),options:e.optInstru,label:"Nivel",onInput:e.setNivel},null,8,["modelValue","options","onInput"])]),(0,r.Lk)("div",i,[(0,r.bF)(s,{modelValue:e.grado,"onUpdate:modelValue":n[1]||(n[1]=function(n){return e.grado=n}),options:e.optGrado,label:"Grado",onInput:e.setGrado},null,8,["modelValue","options","onInput"])]),(0,r.Lk)("div",u,[(0,r.bF)(s,{modelValue:e.seccion,"onUpdate:modelValue":n[2]||(n[2]=function(n){return e.seccion=n}),options:e.optSeccion,label:"Seccion",onInput:e.setSeccion},null,8,["modelValue","options","onInput"])]),(0,r.Lk)("div",l,[(0,r.bF)(d,{class:"sie-table_alto",context:t,search:"Buscar","save-cells":"",columns:e.fields,data:e.rows,config:e.config,dense:"",flat:"",bordered:"","wrap-cells":""},null,8,["columns","data","config"])])])]}),_:1})]}),_:1})]}),_:1})}var s=t(76080),d=t.n(s),f=t(45254),m=t.n(f),p=(t(71225),t(77507),t(52133),t(50310),t(5962),t(6724),t(83190),t(6123)),g=t(88567),h=t(95718),A=t(9736),C=t(16648),v=t(3112),w=t(33777),b=(t(10239),t(78840)),S={data:function(){return{config:{SEGACCID:{component:"select",input:function(e,n){var t=this;return m()(d()().m(function e(){return d()().w(function(e){while(1)switch(e.p=e.n){case 0:return e.p=0,e.n=1,t.editField(n);case 1:return e.a(2,e.v);case 2:return e.p=2,e.v,e.a(2,!1)}},e,null,[[0,2]])}))()},options:[{label:"Seguro Colegio",value:"S"},{label:"Seguro Propio",value:"P"},{label:"Sin seguro",value:"N"}]},FICHAMAR:{renderHtml:function(e,n,t){return t.checkbox({value:e.FICHAMAR,trueValue:"S"})},renderAction:function(e,n){var t=this;return m()(d()().m(function r(){var o;return d()().w(function(r){while(1)switch(r.p=r.n){case 0:return o=e.FICHAMAR,r.p=1,n.FICHAMAR="S"===n.FICHAMAR?"N":"S",r.n=2,t.editField(n);case 2:return r.a(2,!0);case 3:return r.p=3,r.v,n.FICHAMAR=o,r.a(2,!1)}},r,null,[[1,3]])}))()}},EDIT:{component:"button",icon:["edit as editar"],tooltip:{eliminar:"Eliminar"},editar:function(e){this.$router.push({name:"medico.datosMedicosAlumno.detalle",params:{alucod:e.ALUCOD,idpersona:e.ID_PERSONA}})},flat:!0,dense:!0,color:"primary"}},fields:[]}},beforeMount:function(){this.frameworkComponents={actionButton:b.A},this.fields=[{sortable:!0,name:"ALUCOD",label:"CÃ³digo",field:"ALUCOD",align:"center"},{sortable:!0,name:"NOMCOMP",label:"Nombre",field:"NOMCOMP",align:"left"},{name:"SEGACCID",label:"Tipo de Seguro",field:"SEGACCID",align:"left",sortable:!0},{name:"FICHAMAR",label:"Ficha",field:"FICHAMAR",align:"left"},{name:"FAMTEL",label:"Telefono",field:"FAMTEL",align:"left",required:!0},{name:"FAMTELEM",label:"Telefono Emergencia",field:"FAMTELEM",align:"left",required:!0},{name:"NGS",label:"NGS",field:"NGS",align:"left",required:!0},{name:"EDIT",label:"Edit",field:"EDIT",align:"left",icon:"edit "}]},created:function(){return m()(d()().m(function e(){return d()().w(function(e){while(1)switch(e.n){case 0:return e.a(2)}},e)}))()}},I=t(57668),D={mixins:[S],components:{QCard:g.A,QCardSection:h.A,QInput:A.A,QSelect:C.A,sieTable:w.A,QCheckbox:v.A,QPage:p.Tu},data:function(){return{frameworkComponents:null,sinPermiso:1===(0,I["default"])().ruta.nivel,optInstru:[],optGrado:[],optSeccion:[],pagination:{page:1,rowsPerPage:34},nivel:null,grado:null,seccion:null,rows:[],title:"Datos Medicos del Alumno"}},methods:{editField:function(e){var n=this;return m()(d()().m(function t(){var r;return d()().w(function(t){while(1)switch(t.n){case 0:if(r={ALUCOD:e.ALUCOD,NOMBRE:e.NOMCOMP,SEGACCID:e.SEGACCID,FICHAMAR:e.FICHAMAR},!e.FICHAMAR){t.n=1;break}return t.n=1,n.$http.post("api/AlumnoController/setFichamar",{params:r});case 1:if(!e.SEGACCID){t.n=2;break}return t.n=2,n.$http.post("api/AlumnoController/setSegaccid",{params:r});case 2:return t.n=3,n.getDatosAlumno();case 3:return t.a(2,!0)}},t)}))()},getNiveles:function(){var e=this;return m()(d()().m(function n(){return d()().w(function(n){while(1)switch(n.n){case 0:return n.n=1,e.$http.get("api/InstruController/getInstru/").then(function(n){var t=n;t.map(function(e){e.value=e.INSTRUCOD,e.label=e.INSTRUDES}),e.optInstru=t.filter(function(e){return"N"!==e.INSTRUCOD})});case 1:return n.a(2)}},n)}))()},getGrados:function(){var e=this;return m()(d()().m(function n(){return d()().w(function(n){while(1)switch(n.n){case 0:return n.n=1,e.$http.get("api/gradoController/getNiveles",{params:{parametros:{instrucod:e.nivel}}}).then(function(n){var t=n;t.map(function(e){e.value=e.GRADOCOD,e.label=e.GRADODES}),e.optGrado=t});case 1:return n.a(2)}},n)}))()},getSecciones:function(){var e=this;return m()(d()().m(function n(){return d()().w(function(n){while(1)switch(n.n){case 0:return n.n=1,e.$http.get("api/SalonController/getObtenerSecciones/",{params:{parametros:{gradocod:e.grado,instrucod:e.nivel,agrupar:1}}}).then(function(n){var t=n;t.map(function(e){e.value=e.SECCIONCOD,e.label=e.SECCIONDES}),e.optSeccion=t});case 1:return n.a(2)}},n)}))()},setNivel:function(e){var n=this;return m()(d()().m(function e(){return d()().w(function(e){while(1)switch(e.n){case 0:return n.grado=null,n.seccion=null,e.n=1,n.getGrados();case 1:return e.n=2,n.getSecciones();case 2:return e.n=3,n.getDatosAlumno();case 3:return e.a(2)}},e)}))()},setGrado:function(e){var n=this;return m()(d()().m(function e(){return d()().w(function(e){while(1)switch(e.n){case 0:return n.seccion=null,e.n=1,n.getSecciones();case 1:return e.n=2,n.getDatosAlumno();case 2:return e.a(2)}},e)}))()},setSeccion:function(e){var n=this;return m()(d()().m(function e(){return d()().w(function(e){while(1)switch(e.n){case 0:return e.n=1,n.getDatosAlumno();case 1:return e.a(2)}},e)}))()},tableFunction:function(e){console.log("tableFunction: ",e)},revertDate:function(e){return e.split("/").reverse().join("-")},getDatosAlumno:function(){var e=this;return m()(d()().m(function n(){var t;return d()().w(function(n){while(1)switch(n.n){case 0:return t={},t.instrucod=e.nivel,t.gradocod=e.grado,t.seccioncod=e.seccion,n.n=1,e.$http.get("api/AlumnoController/getDatosMedicos",{params:{params:t}}).then(function(n){e.rows=n,e.rows.map(function(e){return e.NGS=e.INSTRUCOD+e.GRADOCOD+e.SECCIONCOD,e})});case 1:return n.a(2)}},n)}))()},getNGSOpt:function(){var e=this;return m()(d()().m(function n(){return d()().w(function(n){while(1)switch(n.n){case 0:return n.n=1,e.getNiveles();case 1:return n.n=2,e.getGrados();case 2:return n.n=3,e.getSecciones();case 3:return n.a(2)}},n)}))()}},computed:{permiso:function(){return this.sie.ruta.nivel}},created:function(){var e=this;return m()(d()().m(function n(){return d()().w(function(n){while(1)switch(n.n){case 0:return e.nivel="T",e.grado="T",n.n=1,e.getNGSOpt();case 1:return n.n=2,e.getDatosAlumno();case 2:return n.a(2)}},n)}))()}},F=t(12807);const O=(0,F.A)(D,[["render",c],["__scopeId","data-v-6827bec8"]]);var M=O}}]);