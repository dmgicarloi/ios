"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[97582],{97582:function(e,o,n){n.r(o),n.d(o,{default:function(){return G}});var a=n(61758),i={class:"row items-center no-wrap"},t={class:"col-auto"},r={class:"col-xs-12"},l={class:"row"},c={class:"col-xs-12 col-sm-6 q-pa-xs"},s={class:"col-xs-12 col-sm-6 q-pa-xs"};function d(e,o){var n=(0,a.g2)("q-btn"),d=(0,a.g2)("q-card-section"),u=(0,a.g2)("q-separator"),m=(0,a.g2)("q-select"),f=(0,a.g2)("q-input"),h=(0,a.g2)("q-card-main"),p=(0,a.g2)("q-card");return(0,a.uX)(),(0,a.Wv)(p,{class:"layout-v1 my-card",flat:"",bordered:""},{default:(0,a.k6)(function(){return[(0,a.bF)(d,null,{default:(0,a.k6)(function(){return[(0,a.Lk)("div",i,[o[2]||(o[2]=(0,a.Lk)("div",{class:"col"},[(0,a.Lk)("div",{class:"text-h6"},"Panel de Configruación")],-1)),(0,a.Lk)("div",t,[e.nivelAcceso>=2?((0,a.uX)(),(0,a.Wv)(n,{key:0,class:"q-mr-sm",icon:"print",color:"primary",label:"Imprimir",size:"sm",onClick:e.print},null,8,["onClick"])):(0,a.Q3)("v-if",!0),e.nivelAcceso>=2?((0,a.uX)(),(0,a.Wv)(n,{key:1,class:"q-mr-sm",icon:"assignment_turned_in",color:"primary",label:"Validar",size:"sm",onClick:e.validar},null,8,["onClick"])):(0,a.Q3)("v-if",!0),e.nivelAcceso>=2?((0,a.uX)(),(0,a.Wv)(n,{key:2,class:"q-mr-sm",icon:"assignment_turned_in",color:"primary",label:"Dbf",size:"sm",onClick:e.dbf},null,8,["onClick"])):(0,a.Q3)("v-if",!0)])])]}),_:1}),(0,a.bF)(u),(0,a.bF)(d,null,{default:(0,a.k6)(function(){return[(0,a.bF)(p,{class:"col-12 q-card-legend"},{default:(0,a.k6)(function(){return[(0,a.bF)(h,{class:"row"},{default:(0,a.k6)(function(){return[(0,a.Lk)("div",r,[(0,a.Lk)("div",l,[(0,a.Lk)("div",c,[(0,a.bF)(m,{modelValue:e.anio,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.anio=o}),"option-value":"ID","option-label":"ANO",options:e.anios,label:"Año"},null,8,["modelValue","options"])]),(0,a.Lk)("div",s,[(0,a.bF)(f,{modelValue:e.monto,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.monto=o}),label:"Monto",rules:[function(e){return!!e||"El monto es requerido"}],debounce:"300"},null,8,["modelValue","rules"])])])])]}),_:1})]}),_:1})]}),_:1}),(0,a.Q3)('sie-modal(:esc="true" :footer="false" :escClick="true" :btnLoad="false" title="Validar Informacion" v-model="openModal" :css="{\'width\': \'80vw\', \'min-height\':\'40vh\'}").row.q-pa-sm( style="justify-content: flex-end;")\n    div.col-auto\n        q-btn.q-mr-sm( v-if ="nivelAcceso >= 2" icon="file_pdf" color="red-10" label="Pdf" size="sm" @click="reporte(\'pdf\')")\n        q-btn.q-mr-sm( v-if ="nivelAcceso >= 2" icon="file_excel" color="green" label="Excel" size="sm" @click="reporte(\'xls\')")\ndiv.row.q-pa-sm\n    sie-grid.fix-tab-height.ag-theme-balham(\n        :columnDefs="columnDefs"\n        :frameworkComponents = "frameworkComponents"\n        :rowData="rowData"\n        @grid-ready="onGridReady"\n        \n        style="width: 100%; height: 300px"\n    )\n    footer-grid(v-model="pagina" :max="max" @load="changePagination")')]}),_:1})}n(30683);var u=n(78840),m=n(36408),f=n(96330),h=n(27560),p=n(80660),v=n(57668),g=n(19852),b=n(7729),w=n(30640),A=n(26697),k=n(53093),C=n(2739),q=n(43346),Q=n(53811),x=n(88567),y=n(95718),D=n(53380),N=n(99515),_=n(3112),L=n(93616),P=n(16648),T=n(80340),I=n(9736),E=n(6123),O=n(10213),S=n(18105),V={components:{QInput:I.A,sieGrid:m.A,sieVacio:T.A,headerGrid:f.A,footerGrid:h.A,sieSelect:L.A,QRadio:N.A,QForm:C.A,QCheckbox:_.A,createGrid:b.A,formulario:g.A,QCard:x.A,QCardSection:y.A,QSeparator:D.A,QTabs:A.A,QTab:k.A,QTabPanels:Q.A,QTabPanel:q.A,QPagination:E.ao,sieModal:w.A,QSearch:E.Ks,QSelect:P.A,QBtn:E.Il,QCardMain:E.d1},data:function(){return{anio:(0,v["default"])().ano,monto:null,anios:[],rowData:[],openModal:!1,nivelAcceso:(0,v["default"])().ruta.nivel,max:1,pagina:1}},computed:{},methods:{validar:function(){var e=this,o=(0,v["default"])().origin,n={anio:this.anio,monto:this.monto};return this.anio?this.monto?void p.$http.get("".concat(o,"/webservice/servicios-tesoreria/validadaot"),{params:n}).then(function(o){e.rowData=o,e.openModal=!0}):((0,O.alert)("Ingrese un monto","warning"),!1):((0,O.alert)("Seleccione un Año","warning"),!1)},dbf:function(e){var o=(0,v["default"])().origin,n="".concat(o,"/webservice/servicios-tesoreria/exportar-dbf?anio=").concat(this.anio,"&monto=").concat(this.monto);window.open(n,"_blank")},reporte:function(e){var o=(0,v["default"])().origin,n="".concat(o,"/webservice/servicios-tesoreria/reportedaot?anio=").concat(this.anio,"&monto=").concat(this.monto,"&format=").concat(e);window.open(n,"_blank")},print:function(){if(!this.anio)return(0,O.alert)("Seleccione un Año","warning"),!1;if(!this.monto)return(0,O.alert)("Ingrese un monto","warning"),!1;var e=(0,v["default"])().origin,o="".concat(e,"/webservice/servicios-tesoreria/daot?anio=").concat(this.anio,"&monto=").concat(this.monto);window.open(o,"_blank")},onGridReady:function(){},changePagination:function(e){this.loadData()},agregar:function(){},getSubdiario:function(){var e=this;p.$http.get("api/talonarioController/getTalonarios").then(function(o){e.rowData=o})}},created:function(){var e=this;this.frameworkComponents={date:S.Ay,actionButton:u.A},p.$http.get("api/anioController/getAnios",{params:{parametros:{response:"combo"}}}).then(function(o){e.anios=o}),this.columnDefs=[{headerName:"CÓDIGO",field:"codigo",width:60},{headerName:"TIPDOC",field:"docdes",width:80},{headerName:"NRODOC",field:"nrodoc",width:100},{headerName:"CLIENTE",field:"cliente",width:220},{headerName:"APE. PATERNO",field:"apepat",width:120},{headerName:"APE. MATERNO",field:"apepat",width:120},{headerName:"NOMBRES",field:"nombres",width:200},{headerName:"TOTAL",field:"monto",width:100}]},mounted:function(){}},F=n(12807);const M=(0,F.A)(V,[["render",d]]);var G=M}}]);