"use strict";(self["webpackChunklms"]=self["webpackChunklms"]||[]).push([[17257],{17257:function(e,o,n){n.r(o),n.d(o,{default:function(){return X}});var a=n(61758),i={class:"row items-center no-wrap"},t={class:"col-auto"},r={class:"col-xs-12"},l={class:"row"},c={class:"col-xs-12 col-sm-6 q-pa-xs"},s={class:"col-xs-12 col-sm-6 q-pa-xs"},d={class:"row q-pa-sm",style:{"justify-content":"flex-end"}},u={class:"col-auto"},m={class:"row q-pa-sm"};function f(e,o){var n=(0,a.g2)("q-btn"),f=(0,a.g2)("q-card-section"),p=(0,a.g2)("q-separator"),h=(0,a.g2)("q-select"),v=(0,a.g2)("q-input"),g=(0,a.g2)("q-card-main"),b=(0,a.g2)("q-card"),k=(0,a.g2)("sie-grid"),w=(0,a.g2)("footer-grid"),A=(0,a.g2)("sie-modal");return(0,a.uX)(),(0,a.Wv)(b,{class:"layout-v1 my-card",flat:"",bordered:""},{default:(0,a.k6)(function(){return[(0,a.bF)(f,null,{default:(0,a.k6)(function(){return[(0,a.Lk)("div",i,[o[6]||(o[6]=(0,a.Lk)("div",{class:"col"},[(0,a.Lk)("div",{class:"text-h6"},"Generación Informe SUNAT (DAOT)")],-1)),(0,a.Lk)("div",t,[e.nivelAcceso>=2?((0,a.uX)(),(0,a.Wv)(n,{key:0,class:"q-mr-sm",icon:"print",color:"primary",label:"Imprimir",size:"sm",onClick:e.print},null,8,["onClick"])):(0,a.Q3)("v-if",!0),e.nivelAcceso>=2?((0,a.uX)(),(0,a.Wv)(n,{key:1,class:"q-mr-sm",icon:"assignment_turned_in",color:"primary",label:"Validar",size:"sm",onClick:e.validar},null,8,["onClick"])):(0,a.Q3)("v-if",!0),e.nivelAcceso>=2?((0,a.uX)(),(0,a.Wv)(n,{key:2,class:"q-mr-sm",icon:"assignment_turned_in",color:"primary",label:"Dbf",size:"sm",onClick:e.dbf},null,8,["onClick"])):(0,a.Q3)("v-if",!0)])])]}),_:1}),(0,a.bF)(p),(0,a.bF)(f,null,{default:(0,a.k6)(function(){return[(0,a.bF)(b,{class:"col-12 q-card-legend"},{default:(0,a.k6)(function(){return[(0,a.bF)(g,{class:"row"},{default:(0,a.k6)(function(){return[(0,a.Lk)("div",r,[(0,a.Lk)("div",l,[(0,a.Lk)("div",c,[(0,a.bF)(h,{modelValue:e.anio,"onUpdate:modelValue":o[0]||(o[0]=function(o){return e.anio=o}),"option-value":"ID","option-label":"ANO",options:e.anios,label:"Año"},null,8,["modelValue","options"])]),(0,a.Lk)("div",s,[(0,a.bF)(v,{modelValue:e.monto,"onUpdate:modelValue":o[1]||(o[1]=function(o){return e.monto=o}),label:"Monto",rules:[function(e){return!!e||"El monto es requerido"}],debounce:"300"},null,8,["modelValue","rules"])])])])]}),_:1})]}),_:1})]}),_:1}),(0,a.bF)(A,{esc:!0,footer:!1,escClick:!0,btnLoad:!1,title:"Validar Informacion",modelValue:e.openModal,"onUpdate:modelValue":o[5]||(o[5]=function(o){return e.openModal=o}),css:{width:"80vw","min-height":"40vh"}},{default:(0,a.k6)(function(){return[(0,a.Lk)("div",d,[(0,a.Lk)("div",u,[e.nivelAcceso>=2?((0,a.uX)(),(0,a.Wv)(n,{key:0,class:"q-mr-sm",icon:"file_pdf",color:"red-10",label:"Pdf",size:"sm",onClick:o[2]||(o[2]=function(o){return e.reporte("pdf")})})):(0,a.Q3)("v-if",!0),e.nivelAcceso>=2?((0,a.uX)(),(0,a.Wv)(n,{key:1,class:"q-mr-sm",icon:"file_excel",color:"green",label:"Excel",size:"sm",onClick:o[3]||(o[3]=function(o){return e.reporte("xls")})})):(0,a.Q3)("v-if",!0)])]),(0,a.Lk)("div",m,[(0,a.bF)(k,{class:"fix-tab-height ag-theme-balham",columnDefs:e.columnDefs,frameworkComponents:e.frameworkComponents,rowData:e.rowData,onGridReady:e.onGridReady,style:{width:"100%",height:"300px"}},null,8,["columnDefs","frameworkComponents","rowData","onGridReady"]),(0,a.bF)(w,{modelValue:e.pagina,"onUpdate:modelValue":o[4]||(o[4]=function(o){return e.pagina=o}),max:e.max,onLoad:e.changePagination},null,8,["modelValue","max","onLoad"])])]}),_:1},8,["modelValue"])]}),_:1})}n(30683);var p=n(78840),h=n(36408),v=n(96330),g=n(27560),b=n(80660),k=n(57668),w=n(19852),A=n(7729),C=n(30640),Q=n(26697),q=n(53093),x=n(2739),y=n(43346),D=n(53811),L=n(88567),N=n(95718),V=n(53380),_=n(99515),T=n(3112),F=n(93616),I=n(16648),G=n(80340),O=n(9736),P=n(6123),S=n(10213),E=n(18105),M={components:{QInput:O.A,sieGrid:h.A,sieVacio:G.A,headerGrid:v.A,footerGrid:g.A,sieSelect:F.A,QRadio:_.A,QForm:x.A,QCheckbox:T.A,createGrid:A.A,formulario:w.A,QCard:L.A,QCardSection:N.A,QSeparator:V.A,QTabs:Q.A,QTab:q.A,QTabPanels:D.A,QTabPanel:y.A,QPagination:P.ao,sieModal:C.A,QSearch:P.Ks,QSelect:I.A,QBtn:P.Il,QCardMain:P.d1},data:function(){return{anio:(0,k["default"])().ano,monto:null,anios:[],rowData:[],openModal:!1,nivelAcceso:(0,k["default"])().ruta.nivel,max:1,pagina:1}},computed:{},methods:{validar:function(){var e=this,o=(0,k["default"])().origin,n={anio:this.anio,monto:this.monto};return this.anio?this.monto?void b.$http.get("".concat(o,"/webservice/servicios-tesoreria/validadaot"),{params:n}).then(function(o){e.rowData=o,e.openModal=!0}):((0,S.alert)("Ingrese un monto","warning"),!1):((0,S.alert)("Seleccione un Año","warning"),!1)},dbf:function(e){var o=(0,k["default"])().origin,n="".concat(o,"/webservice/servicios-tesoreria/exportar-dbf?anio=").concat(this.anio,"&monto=").concat(this.monto);window.open(n,"_blank")},reporte:function(e){var o=(0,k["default"])().origin,n="".concat(o,"/webservice/servicios-tesoreria/reportedaot?anio=").concat(this.anio,"&monto=").concat(this.monto,"&format=").concat(e);window.open(n,"_blank")},print:function(){if(!this.anio)return(0,S.alert)("Seleccione un Año","warning"),!1;if(!this.monto)return(0,S.alert)("Ingrese un monto","warning"),!1;var e=(0,k["default"])().origin,o="".concat(e,"/webservice/servicios-tesoreria/daot?anio=").concat(this.anio,"&monto=").concat(this.monto);window.open(o,"_blank")},onGridReady:function(){},changePagination:function(e){this.loadData()},agregar:function(){},getSubdiario:function(){var e=this;b.$http.get("api/talonarioController/getTalonarios").then(function(o){e.rowData=o})}},created:function(){var e=this;this.frameworkComponents={date:E.Ay,actionButton:p.A},b.$http.get("api/anioController/getAnios",{params:{parametros:{response:"combo"}}}).then(function(o){e.anios=o}),this.columnDefs=[{headerName:"CÓDIGO",field:"codigo",width:60},{headerName:"TIPDOC",field:"docdes",width:80},{headerName:"NRODOC",field:"nrodoc",width:100},{headerName:"CLIENTE",field:"cliente",width:220},{headerName:"APE. PATERNO",field:"apepat",width:120},{headerName:"APE. MATERNO",field:"apepat",width:120},{headerName:"NOMBRES",field:"nombres",width:200},{headerName:"TOTAL",field:"monto",width:100}]},mounted:function(){}},R=n(12807);const W=(0,R.A)(M,[["render",f]]);var X=W}}]);